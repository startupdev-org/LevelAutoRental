var $9=Object.defineProperty;var B9=(e,t,r)=>t in e?$9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Jr=(e,t,r)=>B9(e,typeof t!="symbol"?t+"":t,r);function QD(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var vg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function eA(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Hb={exports:{}},Ym={},Vb={exports:{}},$r={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS;function U9(){if(nS)return $r;nS=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function x(H){return H===null||typeof H!="object"?null:(H=m&&H[m]||H["@@iterator"],typeof H=="function"?H:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function g(H,D,G){this.props=H,this.context=D,this.refs=y,this.updater=G||p}g.prototype.isReactComponent={},g.prototype.setState=function(H,D){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,D,"setState")},g.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function j(){}j.prototype=g.prototype;function k(H,D,G){this.props=H,this.context=D,this.refs=y,this.updater=G||p}var w=k.prototype=new j;w.constructor=k,v(w,g.prototype),w.isPureReactComponent=!0;var E=Array.isArray,O=Object.prototype.hasOwnProperty,z={current:null},Y={key:!0,ref:!0,__self:!0,__source:!0};function B(H,D,G){var Z,P={},re=null,ce=null;if(D!=null)for(Z in D.ref!==void 0&&(ce=D.ref),D.key!==void 0&&(re=""+D.key),D)O.call(D,Z)&&!Y.hasOwnProperty(Z)&&(P[Z]=D[Z]);var be=arguments.length-2;if(be===1)P.children=G;else if(1<be){for(var ae=Array(be),ue=0;ue<be;ue++)ae[ue]=arguments[ue+2];P.children=ae}if(H&&H.defaultProps)for(Z in be=H.defaultProps,be)P[Z]===void 0&&(P[Z]=be[Z]);return{$$typeof:e,type:H,key:re,ref:ce,props:P,_owner:z.current}}function $(H,D){return{$$typeof:e,type:H.type,key:D,ref:H.ref,props:H.props,_owner:H._owner}}function T(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function A(H){var D={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(G){return D[G]})}var R=/\/+/g;function L(H,D){return typeof H=="object"&&H!==null&&H.key!=null?A(""+H.key):D.toString(36)}function q(H,D,G,Z,P){var re=typeof H;(re==="undefined"||re==="boolean")&&(H=null);var ce=!1;if(H===null)ce=!0;else switch(re){case"string":case"number":ce=!0;break;case"object":switch(H.$$typeof){case e:case t:ce=!0}}if(ce)return ce=H,P=P(ce),H=Z===""?"."+L(ce,0):Z,E(P)?(G="",H!=null&&(G=H.replace(R,"$&/")+"/"),q(P,D,G,"",function(ue){return ue})):P!=null&&(T(P)&&(P=$(P,G+(!P.key||ce&&ce.key===P.key?"":(""+P.key).replace(R,"$&/")+"/")+H)),D.push(P)),1;if(ce=0,Z=Z===""?".":Z+":",E(H))for(var be=0;be<H.length;be++){re=H[be];var ae=Z+L(re,be);ce+=q(re,D,G,ae,P)}else if(ae=x(H),typeof ae=="function")for(H=ae.call(H),be=0;!(re=H.next()).done;)re=re.value,ae=Z+L(re,be++),ce+=q(re,D,G,ae,P);else if(re==="object")throw D=String(H),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return ce}function W(H,D,G){if(H==null)return H;var Z=[],P=0;return q(H,Z,"","",function(re){return D.call(G,re,P++)}),Z}function ee(H){if(H._status===-1){var D=H._result;D=D(),D.then(function(G){(H._status===0||H._status===-1)&&(H._status=1,H._result=G)},function(G){(H._status===0||H._status===-1)&&(H._status=2,H._result=G)}),H._status===-1&&(H._status=0,H._result=D)}if(H._status===1)return H._result.default;throw H._result}var M={current:null},V={transition:null},U={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:V,ReactCurrentOwner:z};function I(){throw Error("act(...) is not supported in production builds of React.")}return $r.Children={map:W,forEach:function(H,D,G){W(H,function(){D.apply(this,arguments)},G)},count:function(H){var D=0;return W(H,function(){D++}),D},toArray:function(H){return W(H,function(D){return D})||[]},only:function(H){if(!T(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},$r.Component=g,$r.Fragment=r,$r.Profiler=i,$r.PureComponent=k,$r.StrictMode=n,$r.Suspense=c,$r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,$r.act=I,$r.cloneElement=function(H,D,G){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Z=v({},H.props),P=H.key,re=H.ref,ce=H._owner;if(D!=null){if(D.ref!==void 0&&(re=D.ref,ce=z.current),D.key!==void 0&&(P=""+D.key),H.type&&H.type.defaultProps)var be=H.type.defaultProps;for(ae in D)O.call(D,ae)&&!Y.hasOwnProperty(ae)&&(Z[ae]=D[ae]===void 0&&be!==void 0?be[ae]:D[ae])}var ae=arguments.length-2;if(ae===1)Z.children=G;else if(1<ae){be=Array(ae);for(var ue=0;ue<ae;ue++)be[ue]=arguments[ue+2];Z.children=be}return{$$typeof:e,type:H.type,key:P,ref:re,props:Z,_owner:ce}},$r.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:s,_context:H},H.Consumer=H},$r.createElement=B,$r.createFactory=function(H){var D=B.bind(null,H);return D.type=H,D},$r.createRef=function(){return{current:null}},$r.forwardRef=function(H){return{$$typeof:l,render:H}},$r.isValidElement=T,$r.lazy=function(H){return{$$typeof:h,_payload:{_status:-1,_result:H},_init:ee}},$r.memo=function(H,D){return{$$typeof:u,type:H,compare:D===void 0?null:D}},$r.startTransition=function(H){var D=V.transition;V.transition={};try{H()}finally{V.transition=D}},$r.unstable_act=I,$r.useCallback=function(H,D){return M.current.useCallback(H,D)},$r.useContext=function(H){return M.current.useContext(H)},$r.useDebugValue=function(){},$r.useDeferredValue=function(H){return M.current.useDeferredValue(H)},$r.useEffect=function(H,D){return M.current.useEffect(H,D)},$r.useId=function(){return M.current.useId()},$r.useImperativeHandle=function(H,D,G){return M.current.useImperativeHandle(H,D,G)},$r.useInsertionEffect=function(H,D){return M.current.useInsertionEffect(H,D)},$r.useLayoutEffect=function(H,D){return M.current.useLayoutEffect(H,D)},$r.useMemo=function(H,D){return M.current.useMemo(H,D)},$r.useReducer=function(H,D,G){return M.current.useReducer(H,D,G)},$r.useRef=function(H){return M.current.useRef(H)},$r.useState=function(H){return M.current.useState(H)},$r.useSyncExternalStore=function(H,D,G){return M.current.useSyncExternalStore(H,D,G)},$r.useTransition=function(){return M.current.useTransition()},$r.version="18.3.1",$r}var aS;function po(){return aS||(aS=1,Vb.exports=U9()),Vb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iS;function q9(){if(iS)return Ym;iS=1;var e=po(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var h,m={},x=null,p=null;u!==void 0&&(x=""+u),c.key!==void 0&&(x=""+c.key),c.ref!==void 0&&(p=c.ref);for(h in c)n.call(c,h)&&!s.hasOwnProperty(h)&&(m[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)m[h]===void 0&&(m[h]=c[h]);return{$$typeof:t,type:l,key:x,ref:p,props:m,_owner:i.current}}return Ym.Fragment=r,Ym.jsx=o,Ym.jsxs=o,Ym}var sS;function H9(){return sS||(sS=1,Hb.exports=q9()),Hb.exports}var a=H9(),_=po();const vt=Wo(_),V9=QD({__proto__:null,default:vt},[_]);var yg={},Wb={exports:{}},Ts={},Kb={exports:{}},Gb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oS;function W9(){return oS||(oS=1,function(e){function t(V,U){var I=V.length;V.push(U);e:for(;0<I;){var H=I-1>>>1,D=V[H];if(0<i(D,U))V[H]=U,V[I]=D,I=H;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var U=V[0],I=V.pop();if(I!==U){V[0]=I;e:for(var H=0,D=V.length,G=D>>>1;H<G;){var Z=2*(H+1)-1,P=V[Z],re=Z+1,ce=V[re];if(0>i(P,I))re<D&&0>i(ce,P)?(V[H]=ce,V[re]=I,H=re):(V[H]=P,V[Z]=I,H=Z);else if(re<D&&0>i(ce,I))V[H]=ce,V[re]=I,H=re;else break e}}return U}function i(V,U){var I=V.sortIndex-U.sortIndex;return I!==0?I:V.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,m=null,x=3,p=!1,v=!1,y=!1,g=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=V)n(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(u)}}function E(V){if(y=!1,w(V),!v)if(r(c)!==null)v=!0,ee(O);else{var U=r(u);U!==null&&M(E,U.startTime-V)}}function O(V,U){v=!1,y&&(y=!1,j(B),B=-1),p=!0;var I=x;try{for(w(U),m=r(c);m!==null&&(!(m.expirationTime>U)||V&&!A());){var H=m.callback;if(typeof H=="function"){m.callback=null,x=m.priorityLevel;var D=H(m.expirationTime<=U);U=e.unstable_now(),typeof D=="function"?m.callback=D:m===r(c)&&n(c),w(U)}else n(c);m=r(c)}if(m!==null)var G=!0;else{var Z=r(u);Z!==null&&M(E,Z.startTime-U),G=!1}return G}finally{m=null,x=I,p=!1}}var z=!1,Y=null,B=-1,$=5,T=-1;function A(){return!(e.unstable_now()-T<$)}function R(){if(Y!==null){var V=e.unstable_now();T=V;var U=!0;try{U=Y(!0,V)}finally{U?L():(z=!1,Y=null)}}else z=!1}var L;if(typeof k=="function")L=function(){k(R)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,W=q.port2;q.port1.onmessage=R,L=function(){W.postMessage(null)}}else L=function(){g(R,0)};function ee(V){Y=V,z||(z=!0,L())}function M(V,U){B=g(function(){V(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,ee(O))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(V){switch(x){case 1:case 2:case 3:var U=3;break;default:U=x}var I=x;x=U;try{return V()}finally{x=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,U){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var I=x;x=V;try{return U()}finally{x=I}},e.unstable_scheduleCallback=function(V,U,I){var H=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?H+I:H):I=H,V){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=I+D,V={id:h++,callback:U,priorityLevel:V,startTime:I,expirationTime:D,sortIndex:-1},I>H?(V.sortIndex=I,t(u,V),r(c)===null&&V===r(u)&&(y?(j(B),B=-1):y=!0,M(E,I-H))):(V.sortIndex=D,t(c,V),v||p||(v=!0,ee(O))),V},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(V){var U=x;return function(){var I=x;x=U;try{return V.apply(this,arguments)}finally{x=I}}}}(Gb)),Gb}var lS;function K9(){return lS||(lS=1,Kb.exports=W9()),Kb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cS;function G9(){if(cS)return Ts;cS=1;var e=po(),t=K9();function r(d){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+d,b=1;b<arguments.length;b++)f+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(d,f){o(d,f),o(d+"Capture",f)}function o(d,f){for(i[d]=f,d=0;d<f.length;d++)n.add(f[d])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function x(d){return c.call(m,d)?!0:c.call(h,d)?!1:u.test(d)?m[d]=!0:(h[d]=!0,!1)}function p(d,f,b,S){if(b!==null&&b.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return S?!1:b!==null?!b.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function v(d,f,b,S){if(f===null||typeof f>"u"||p(d,f,b,S))return!0;if(S)return!1;if(b!==null)switch(b.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function y(d,f,b,S,K,Q,xe){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=S,this.attributeNamespace=K,this.mustUseProperty=b,this.propertyName=d,this.type=f,this.sanitizeURL=Q,this.removeEmptyString=xe}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){g[d]=new y(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var f=d[0];g[f]=new y(f,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){g[d]=new y(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){g[d]=new y(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){g[d]=new y(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){g[d]=new y(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){g[d]=new y(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){g[d]=new y(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){g[d]=new y(d,5,!1,d.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function k(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var f=d.replace(j,k);g[f]=new y(f,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var f=d.replace(j,k);g[f]=new y(f,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var f=d.replace(j,k);g[f]=new y(f,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){g[d]=new y(d,1,!1,d.toLowerCase(),null,!1,!1)}),g.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){g[d]=new y(d,1,!1,d.toLowerCase(),null,!0,!0)});function w(d,f,b,S){var K=g.hasOwnProperty(f)?g[f]:null;(K!==null?K.type!==0:S||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(v(f,b,K,S)&&(b=null),S||K===null?x(f)&&(b===null?d.removeAttribute(f):d.setAttribute(f,""+b)):K.mustUseProperty?d[K.propertyName]=b===null?K.type===3?!1:"":b:(f=K.attributeName,S=K.attributeNamespace,b===null?d.removeAttribute(f):(K=K.type,b=K===3||K===4&&b===!0?"":""+b,S?d.setAttributeNS(S,f,b):d.setAttribute(f,b))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),z=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),A=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),V=Symbol.iterator;function U(d){return d===null||typeof d!="object"?null:(d=V&&d[V]||d["@@iterator"],typeof d=="function"?d:null)}var I=Object.assign,H;function D(d){if(H===void 0)try{throw Error()}catch(b){var f=b.stack.trim().match(/\n( *(at )?)/);H=f&&f[1]||""}return`
`+H+d}var G=!1;function Z(d,f){if(!d||G)return"";G=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(dt){var S=dt}Reflect.construct(d,[],f)}else{try{f.call()}catch(dt){S=dt}d.call(f.prototype)}else{try{throw Error()}catch(dt){S=dt}d()}}catch(dt){if(dt&&S&&typeof dt.stack=="string"){for(var K=dt.stack.split(`
`),Q=S.stack.split(`
`),xe=K.length-1,Fe=Q.length-1;1<=xe&&0<=Fe&&K[xe]!==Q[Fe];)Fe--;for(;1<=xe&&0<=Fe;xe--,Fe--)if(K[xe]!==Q[Fe]){if(xe!==1||Fe!==1)do if(xe--,Fe--,0>Fe||K[xe]!==Q[Fe]){var Ke=`
`+K[xe].replace(" at new "," at ");return d.displayName&&Ke.includes("<anonymous>")&&(Ke=Ke.replace("<anonymous>",d.displayName)),Ke}while(1<=xe&&0<=Fe);break}}}finally{G=!1,Error.prepareStackTrace=b}return(d=d?d.displayName||d.name:"")?D(d):""}function P(d){switch(d.tag){case 5:return D(d.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return d=Z(d.type,!1),d;case 11:return d=Z(d.type.render,!1),d;case 1:return d=Z(d.type,!0),d;default:return""}}function re(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case Y:return"Fragment";case z:return"Portal";case $:return"Profiler";case B:return"StrictMode";case L:return"Suspense";case q:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case A:return(d.displayName||"Context")+".Consumer";case T:return(d._context.displayName||"Context")+".Provider";case R:var f=d.render;return d=d.displayName,d||(d=f.displayName||f.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case W:return f=d.displayName||null,f!==null?f:re(d.type)||"Memo";case ee:f=d._payload,d=d._init;try{return re(d(f))}catch{}}return null}function ce(d){var f=d.type;switch(d.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=f.render,d=d.displayName||d.name||"",f.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(f);case 8:return f===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function be(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function ae(d){var f=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function ue(d){var f=ae(d)?"checked":"value",b=Object.getOwnPropertyDescriptor(d.constructor.prototype,f),S=""+d[f];if(!d.hasOwnProperty(f)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var K=b.get,Q=b.set;return Object.defineProperty(d,f,{configurable:!0,get:function(){return K.call(this)},set:function(xe){S=""+xe,Q.call(this,xe)}}),Object.defineProperty(d,f,{enumerable:b.enumerable}),{getValue:function(){return S},setValue:function(xe){S=""+xe},stopTracking:function(){d._valueTracker=null,delete d[f]}}}}function fe(d){d._valueTracker||(d._valueTracker=ue(d))}function pe(d){if(!d)return!1;var f=d._valueTracker;if(!f)return!0;var b=f.getValue(),S="";return d&&(S=ae(d)?d.checked?"true":"false":d.value),d=S,d!==b?(f.setValue(d),!0):!1}function de(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function le(d,f){var b=f.checked;return I({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:b??d._wrapperState.initialChecked})}function ne(d,f){var b=f.defaultValue==null?"":f.defaultValue,S=f.checked!=null?f.checked:f.defaultChecked;b=be(f.value!=null?f.value:b),d._wrapperState={initialChecked:S,initialValue:b,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function Se(d,f){f=f.checked,f!=null&&w(d,"checked",f,!1)}function Ee(d,f){Se(d,f);var b=be(f.value),S=f.type;if(b!=null)S==="number"?(b===0&&d.value===""||d.value!=b)&&(d.value=""+b):d.value!==""+b&&(d.value=""+b);else if(S==="submit"||S==="reset"){d.removeAttribute("value");return}f.hasOwnProperty("value")?ve(d,f.type,b):f.hasOwnProperty("defaultValue")&&ve(d,f.type,be(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(d.defaultChecked=!!f.defaultChecked)}function qe(d,f,b){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var S=f.type;if(!(S!=="submit"&&S!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+d._wrapperState.initialValue,b||f===d.value||(d.value=f),d.defaultValue=f}b=d.name,b!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,b!==""&&(d.name=b)}function ve(d,f,b){(f!=="number"||de(d.ownerDocument)!==d)&&(b==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+b&&(d.defaultValue=""+b))}var Ae=Array.isArray;function me(d,f,b,S){if(d=d.options,f){f={};for(var K=0;K<b.length;K++)f["$"+b[K]]=!0;for(b=0;b<d.length;b++)K=f.hasOwnProperty("$"+d[b].value),d[b].selected!==K&&(d[b].selected=K),K&&S&&(d[b].defaultSelected=!0)}else{for(b=""+be(b),f=null,K=0;K<d.length;K++){if(d[K].value===b){d[K].selected=!0,S&&(d[K].defaultSelected=!0);return}f!==null||d[K].disabled||(f=d[K])}f!==null&&(f.selected=!0)}}function Ce(d,f){if(f.dangerouslySetInnerHTML!=null)throw Error(r(91));return I({},f,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function Me(d,f){var b=f.value;if(b==null){if(b=f.children,f=f.defaultValue,b!=null){if(f!=null)throw Error(r(92));if(Ae(b)){if(1<b.length)throw Error(r(93));b=b[0]}f=b}f==null&&(f=""),b=f}d._wrapperState={initialValue:be(b)}}function He(d,f){var b=be(f.value),S=be(f.defaultValue);b!=null&&(b=""+b,b!==d.value&&(d.value=b),f.defaultValue==null&&d.defaultValue!==b&&(d.defaultValue=b)),S!=null&&(d.defaultValue=""+S)}function at(d){var f=d.textContent;f===d._wrapperState.initialValue&&f!==""&&f!==null&&(d.value=f)}function pt(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ge(d,f){return d==null||d==="http://www.w3.org/1999/xhtml"?pt(f):d==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var Le,Be=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,b,S,K){MSApp.execUnsafeLocalFunction(function(){return d(f,b,S,K)})}:d}(function(d,f){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=f;else{for(Le=Le||document.createElement("div"),Le.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=Le.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;f.firstChild;)d.appendChild(f.firstChild)}});function Ge(d,f){if(f){var b=d.firstChild;if(b&&b===d.lastChild&&b.nodeType===3){b.nodeValue=f;return}}d.textContent=f}var Qe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},St=["Webkit","ms","Moz","O"];Object.keys(Qe).forEach(function(d){St.forEach(function(f){f=f+d.charAt(0).toUpperCase()+d.substring(1),Qe[f]=Qe[d]})});function oe(d,f,b){return f==null||typeof f=="boolean"||f===""?"":b||typeof f!="number"||f===0||Qe.hasOwnProperty(d)&&Qe[d]?(""+f).trim():f+"px"}function ht(d,f){d=d.style;for(var b in f)if(f.hasOwnProperty(b)){var S=b.indexOf("--")===0,K=oe(b,f[b],S);b==="float"&&(b="cssFloat"),S?d.setProperty(b,K):d[b]=K}}var wt=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rt(d,f){if(f){if(wt[d]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(r(137,d));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(r(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(r(61))}if(f.style!=null&&typeof f.style!="object")throw Error(r(62))}}function Ne(d,f){if(d.indexOf("-")===-1)return typeof f.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ue=null;function Re(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Ve=null,it=null,ie=null;function we(d){if(d=Au(d)){if(typeof Ve!="function")throw Error(r(280));var f=d.stateNode;f&&(f=Md(f),Ve(d.stateNode,d.type,f))}}function De(d){it?ie?ie.push(d):ie=[d]:it=d}function $e(){if(it){var d=it,f=ie;if(ie=it=null,we(d),f)for(d=0;d<f.length;d++)we(f[d])}}function Ye(d,f){return d(f)}function lt(){}var ft=!1;function et(d,f,b){if(ft)return d(f,b);ft=!0;try{return Ye(d,f,b)}finally{ft=!1,(it!==null||ie!==null)&&(lt(),$e())}}function Pt(d,f){var b=d.stateNode;if(b===null)return null;var S=Md(b);if(S===null)return null;b=S[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(d=d.type,S=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!S;break e;default:d=!1}if(d)return null;if(b&&typeof b!="function")throw Error(r(231,f,typeof b));return b}var kt=!1;if(l)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){kt=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch{kt=!1}function Tt(d,f,b,S,K,Q,xe,Fe,Ke){var dt=Array.prototype.slice.call(arguments,3);try{f.apply(b,dt)}catch(At){this.onError(At)}}var ut=!1,Dt=null,Mt=!1,Ht=null,pr={onError:function(d){ut=!0,Dt=d}};function ar(d,f,b,S,K,Q,xe,Fe,Ke){ut=!1,Dt=null,Tt.apply(pr,arguments)}function Lt(d,f,b,S,K,Q,xe,Fe,Ke){if(ar.apply(this,arguments),ut){if(ut){var dt=Dt;ut=!1,Dt=null}else throw Error(r(198));Mt||(Mt=!0,Ht=dt)}}function Xt(d){var f=d,b=d;if(d.alternate)for(;f.return;)f=f.return;else{d=f;do f=d,f.flags&4098&&(b=f.return),d=f.return;while(d)}return f.tag===3?b:null}function er(d){if(d.tag===13){var f=d.memoizedState;if(f===null&&(d=d.alternate,d!==null&&(f=d.memoizedState)),f!==null)return f.dehydrated}return null}function Tr(d){if(Xt(d)!==d)throw Error(r(188))}function Yr(d){var f=d.alternate;if(!f){if(f=Xt(d),f===null)throw Error(r(188));return f!==d?null:d}for(var b=d,S=f;;){var K=b.return;if(K===null)break;var Q=K.alternate;if(Q===null){if(S=K.return,S!==null){b=S;continue}break}if(K.child===Q.child){for(Q=K.child;Q;){if(Q===b)return Tr(K),d;if(Q===S)return Tr(K),f;Q=Q.sibling}throw Error(r(188))}if(b.return!==S.return)b=K,S=Q;else{for(var xe=!1,Fe=K.child;Fe;){if(Fe===b){xe=!0,b=K,S=Q;break}if(Fe===S){xe=!0,S=K,b=Q;break}Fe=Fe.sibling}if(!xe){for(Fe=Q.child;Fe;){if(Fe===b){xe=!0,b=Q,S=K;break}if(Fe===S){xe=!0,S=Q,b=K;break}Fe=Fe.sibling}if(!xe)throw Error(r(189))}}if(b.alternate!==S)throw Error(r(190))}if(b.tag!==3)throw Error(r(188));return b.stateNode.current===b?d:f}function mn(d){return d=Yr(d),d!==null?Ta(d):null}function Ta(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var f=Ta(d);if(f!==null)return f;d=d.sibling}return null}var Di=t.unstable_scheduleCallback,na=t.unstable_cancelCallback,hc=t.unstable_shouldYield,wd=t.unstable_requestPaint,Nr=t.unstable_now,_a=t.unstable_getCurrentPriorityLevel,ha=t.unstable_ImmediatePriority,Wn=t.unstable_UserBlockingPriority,es=t.unstable_NormalPriority,jd=t.unstable_LowPriority,$s=t.unstable_IdlePriority,yo=null,Ya=null;function vu(d){if(Ya&&typeof Ya.onCommitFiberRoot=="function")try{Ya.onCommitFiberRoot(yo,d,void 0,(d.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:Nd,Ln=Math.log,un=Math.LN2;function Nd(d){return d>>>=0,d===0?32:31-(Ln(d)/un|0)|0}var Ai=64,In=4194304;function Ti(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Oa(d,f){var b=d.pendingLanes;if(b===0)return 0;var S=0,K=d.suspendedLanes,Q=d.pingedLanes,xe=b&268435455;if(xe!==0){var Fe=xe&~K;Fe!==0?S=Ti(Fe):(Q&=xe,Q!==0&&(S=Ti(Q)))}else xe=b&~K,xe!==0?S=Ti(xe):Q!==0&&(S=Ti(Q));if(S===0)return 0;if(f!==0&&f!==S&&!(f&K)&&(K=S&-S,Q=f&-f,K>=Q||K===16&&(Q&4194240)!==0))return f;if(S&4&&(S|=b&16),f=d.entangledLanes,f!==0)for(d=d.entanglements,f&=S;0<f;)b=31-Rr(f),K=1<<b,S|=d[b],f&=~K;return S}function Yo(d,f){switch(d){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ur(d,f){for(var b=d.suspendedLanes,S=d.pingedLanes,K=d.expirationTimes,Q=d.pendingLanes;0<Q;){var xe=31-Rr(Q),Fe=1<<xe,Ke=K[xe];Ke===-1?(!(Fe&b)||Fe&S)&&(K[xe]=Yo(Fe,f)):Ke<=f&&(d.expiredLanes|=Fe),Q&=~Fe}}function Zr(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function fc(){var d=Ai;return Ai<<=1,!(Ai&4194240)&&(Ai=64),d}function Dl(d){for(var f=[],b=0;31>b;b++)f.push(d);return f}function hi(d,f,b){d.pendingLanes|=f,f!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,f=31-Rr(f),d[f]=b}function fi(d,f){var b=d.pendingLanes&~f;d.pendingLanes=f,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=f,d.mutableReadLanes&=f,d.entangledLanes&=f,f=d.entanglements;var S=d.eventTimes;for(d=d.expirationTimes;0<b;){var K=31-Rr(b),Q=1<<K;f[K]=0,S[K]=-1,d[K]=-1,b&=~Q}}function Bs(d,f){var b=d.entangledLanes|=f;for(d=d.entanglements;b;){var S=31-Rr(b),K=1<<S;K&f|d[S]&f&&(d[S]|=f),b&=~K}}var Lr=0;function ys(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var Oi,bo,bs,Us,mi,qs=!1,La=[],ts=null,Mn=null,Ia=null,gr=new Map,Xo=new Map,ws=[],_d="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yu(d,f){switch(d){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Ia=null;break;case"pointerover":case"pointerout":gr.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xo.delete(f.pointerId)}}function pi(d,f,b,S,K,Q){return d===null||d.nativeEvent!==Q?(d={blockedOn:f,domEventName:b,eventSystemFlags:S,nativeEvent:Q,targetContainers:[K]},f!==null&&(f=Au(f),f!==null&&bo(f)),d):(d.eventSystemFlags|=S,f=d.targetContainers,K!==null&&f.indexOf(K)===-1&&f.push(K),d)}function gi(d,f,b,S,K){switch(f){case"focusin":return ts=pi(ts,d,f,b,S,K),!0;case"dragenter":return Mn=pi(Mn,d,f,b,S,K),!0;case"mouseover":return Ia=pi(Ia,d,f,b,S,K),!0;case"pointerover":var Q=K.pointerId;return gr.set(Q,pi(gr.get(Q)||null,d,f,b,S,K)),!0;case"gotpointercapture":return Q=K.pointerId,Xo.set(Q,pi(Xo.get(Q)||null,d,f,b,S,K)),!0}return!1}function mc(d){var f=ql(d.target);if(f!==null){var b=Xt(f);if(b!==null){if(f=b.tag,f===13){if(f=er(b),f!==null){d.blockedOn=f,mi(d.priority,function(){bs(b)});return}}else if(f===3&&b.stateNode.current.memoizedState.isDehydrated){d.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Jo(d){if(d.blockedOn!==null)return!1;for(var f=d.targetContainers;0<f.length;){var b=Zo(d.domEventName,d.eventSystemFlags,f[0],d.nativeEvent);if(b===null){b=d.nativeEvent;var S=new b.constructor(b.type,b);Ue=S,b.target.dispatchEvent(S),Ue=null}else return f=Au(b),f!==null&&bo(f),d.blockedOn=b,!1;f.shift()}return!0}function wo(d,f,b){Jo(d)&&b.delete(f)}function Al(){qs=!1,ts!==null&&Jo(ts)&&(ts=null),Mn!==null&&Jo(Mn)&&(Mn=null),Ia!==null&&Jo(Ia)&&(Ia=null),gr.forEach(wo),Xo.forEach(wo)}function Ma(d,f){d.blockedOn===f&&(d.blockedOn=null,qs||(qs=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Al)))}function Li(d){function f(K){return Ma(K,d)}if(0<La.length){Ma(La[0],d);for(var b=1;b<La.length;b++){var S=La[b];S.blockedOn===d&&(S.blockedOn=null)}}for(ts!==null&&Ma(ts,d),Mn!==null&&Ma(Mn,d),Ia!==null&&Ma(Ia,d),gr.forEach(f),Xo.forEach(f),b=0;b<ws.length;b++)S=ws[b],S.blockedOn===d&&(S.blockedOn=null);for(;0<ws.length&&(b=ws[0],b.blockedOn===null);)mc(b),b.blockedOn===null&&ws.shift()}var rs=E.ReactCurrentBatchConfig,jo=!0;function Tl(d,f,b,S){var K=Lr,Q=rs.transition;rs.transition=null;try{Lr=1,js(d,f,b,S)}finally{Lr=K,rs.transition=Q}}function Ol(d,f,b,S){var K=Lr,Q=rs.transition;rs.transition=null;try{Lr=4,js(d,f,b,S)}finally{Lr=K,rs.transition=Q}}function js(d,f,b,S){if(jo){var K=Zo(d,f,b,S);if(K===null)Od(d,f,S,ns,b),yu(d,S);else if(gi(K,d,f,b,S))S.stopPropagation();else if(yu(d,S),f&4&&-1<_d.indexOf(d)){for(;K!==null;){var Q=Au(K);if(Q!==null&&Oi(Q),Q=Zo(d,f,b,S),Q===null&&Od(d,f,S,ns,b),Q===K)break;K=Q}K!==null&&S.stopPropagation()}else Od(d,f,S,null,b)}}var ns=null;function Zo(d,f,b,S){if(ns=null,d=Re(S),d=ql(d),d!==null)if(f=Xt(d),f===null)d=null;else if(b=f.tag,b===13){if(d=er(f),d!==null)return d;d=null}else if(b===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;d=null}else f!==d&&(d=null);return ns=d,null}function No(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_a()){case ha:return 1;case Wn:return 4;case es:case jd:return 16;case $s:return 536870912;default:return 16}default:return 16}}var Ii=null,Ns=null,Qo=null;function bu(){if(Qo)return Qo;var d,f=Ns,b=f.length,S,K="value"in Ii?Ii.value:Ii.textContent,Q=K.length;for(d=0;d<b&&f[d]===K[d];d++);var xe=b-d;for(S=1;S<=xe&&f[b-S]===K[Q-S];S++);return Qo=K.slice(d,1<S?1-S:void 0)}function xi(d){var f=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&f===13&&(d=13)):d=f,d===10&&(d=13),32<=d||d===13?d:0}function vi(){return!0}function pc(){return!1}function pn(d){function f(b,S,K,Q,xe){this._reactName=b,this._targetInst=K,this.type=S,this.nativeEvent=Q,this.target=xe,this.currentTarget=null;for(var Fe in d)d.hasOwnProperty(Fe)&&(b=d[Fe],this[Fe]=b?b(Q):Q[Fe]);return this.isDefaultPrevented=(Q.defaultPrevented!=null?Q.defaultPrevented:Q.returnValue===!1)?vi:pc,this.isPropagationStopped=pc,this}return I(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),f}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gc=pn(Mi),F=I({},Mi,{view:0,detail:0}),se=pn(F),Pe,ze,Ze,gt=I({},F,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ll,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Ze&&(Ze&&d.type==="mousemove"?(Pe=d.screenX-Ze.screenX,ze=d.screenY-Ze.screenY):ze=Pe=0,Ze=d),Pe)},movementY:function(d){return"movementY"in d?d.movementY:ze}}),Nt=pn(gt),$t=I({},gt,{dataTransfer:0}),Ut=pn($t),ir=I({},F,{relatedTarget:0}),sr=pn(ir),zt=I({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),tr=pn(zt),Or=I({},Mi,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Mr=pn(Or),fa=I({},Mi,{data:0}),Kn=pn(fa),Ra={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_s={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ri={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $h(d){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(d):(d=Ri[d])?!!f[d]:!1}function Ll(){return $h}var xc=I({},F,{key:function(d){if(d.key){var f=Ra[d.key]||d.key;if(f!=="Unidentified")return f}return d.type==="keypress"?(d=xi(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?_s[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ll,charCode:function(d){return d.type==="keypress"?xi(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?xi(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Il=pn(xc),vc=I({},gt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ml=pn(vc),yc=I({},F,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ll}),Xa=pn(yc),bc=I({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),wc=pn(bc),Sd=I({},gt,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),kd=pn(Sd),Rn=[9,13,27,32],Hs=l&&"CompositionEvent"in window,_o=null;l&&"documentMode"in document&&(_o=document.documentMode);var Bh=l&&"TextEvent"in window&&!_o,as=l&&(!Hs||_o&&8<_o&&11>=_o),Rl=" ",wu=!1;function ju(d,f){switch(d){case"keyup":return Rn.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function el(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Ss=!1;function is(d,f){switch(d){case"compositionend":return el(f);case"keypress":return f.which!==32?null:(wu=!0,Rl);case"textInput":return d=f.data,d===Rl&&wu?null:d;default:return null}}function ss(d,f){if(Ss)return d==="compositionend"||!Hs&&ju(d,f)?(d=bu(),Qo=Ns=Ii=null,Ss=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return as&&f.locale!=="ko"?null:f.data;default:return null}}var zl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function So(d){var f=d&&d.nodeName&&d.nodeName.toLowerCase();return f==="input"?!!zl[d.type]:f==="textarea"}function tl(d,f,b,S){De(S),f=Wh(f,"onChange"),0<f.length&&(b=new gc("onChange","change",null,b,S),d.push({event:b,listeners:f}))}var rl=null,ko=null;function Gn(d){Ad(d,0)}function jc(d){var f=Tc(d);if(pe(f))return d}function Co(d,f){if(d==="change")return f}var Vs=!1;if(l){var Nc;if(l){var _c="oninput"in document;if(!_c){var Nu=document.createElement("div");Nu.setAttribute("oninput","return;"),_c=typeof Nu.oninput=="function"}Nc=_c}else Nc=!1;Vs=Nc&&(!document.documentMode||9<document.documentMode)}function _u(){rl&&(rl.detachEvent("onpropertychange",nl),ko=rl=null)}function nl(d){if(d.propertyName==="value"&&jc(ko)){var f=[];tl(f,ko,d,Re(d)),et(Gn,f)}}function Fl(d,f,b){d==="focusin"?(_u(),rl=f,ko=b,rl.attachEvent("onpropertychange",nl)):d==="focusout"&&_u()}function $l(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return jc(ko)}function Sc(d,f){if(d==="click")return jc(f)}function Bl(d,f){if(d==="input"||d==="change")return jc(f)}function kc(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var zn=typeof Object.is=="function"?Object.is:kc;function zi(d,f){if(zn(d,f))return!0;if(typeof d!="object"||d===null||typeof f!="object"||f===null)return!1;var b=Object.keys(d),S=Object.keys(f);if(b.length!==S.length)return!1;for(S=0;S<b.length;S++){var K=b[S];if(!c.call(f,K)||!zn(d[K],f[K]))return!1}return!0}function qr(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Qr(d,f){var b=qr(d);d=0;for(var S;b;){if(b.nodeType===3){if(S=d+b.textContent.length,d<=f&&S>=f)return{node:b,offset:f-d};d=S}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=qr(b)}}function Fn(d,f){return d&&f?d===f?!0:d&&d.nodeType===3?!1:f&&f.nodeType===3?Fn(d,f.parentNode):"contains"in d?d.contains(f):d.compareDocumentPosition?!!(d.compareDocumentPosition(f)&16):!1:!1}function aa(){for(var d=window,f=de();f instanceof d.HTMLIFrameElement;){try{var b=typeof f.contentWindow.location.href=="string"}catch{b=!1}if(b)d=f.contentWindow;else break;f=de(d.document)}return f}function Ws(d){var f=d&&d.nodeName&&d.nodeName.toLowerCase();return f&&(f==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||f==="textarea"||d.contentEditable==="true")}function Cd(d){var f=aa(),b=d.focusedElem,S=d.selectionRange;if(f!==b&&b&&b.ownerDocument&&Fn(b.ownerDocument.documentElement,b)){if(S!==null&&Ws(b)){if(f=S.start,d=S.end,d===void 0&&(d=f),"selectionStart"in b)b.selectionStart=f,b.selectionEnd=Math.min(d,b.value.length);else if(d=(f=b.ownerDocument||document)&&f.defaultView||window,d.getSelection){d=d.getSelection();var K=b.textContent.length,Q=Math.min(S.start,K);S=S.end===void 0?Q:Math.min(S.end,K),!d.extend&&Q>S&&(K=S,S=Q,Q=K),K=Qr(b,Q);var xe=Qr(b,S);K&&xe&&(d.rangeCount!==1||d.anchorNode!==K.node||d.anchorOffset!==K.offset||d.focusNode!==xe.node||d.focusOffset!==xe.offset)&&(f=f.createRange(),f.setStart(K.node,K.offset),d.removeAllRanges(),Q>S?(d.addRange(f),d.extend(xe.node,xe.offset)):(f.setEnd(xe.node,xe.offset),d.addRange(f)))}}for(f=[],d=b;d=d.parentNode;)d.nodeType===1&&f.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<f.length;b++)d=f[b],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var Su=l&&"documentMode"in document&&11>=document.documentMode,al=null,Uh=null,ku=null,qh=!1;function Sm(d,f,b){var S=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;qh||al==null||al!==de(S)||(S=al,"selectionStart"in S&&Ws(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),ku&&zi(ku,S)||(ku=S,S=Wh(Uh,"onSelect"),0<S.length&&(f=new gc("onSelect","select",null,f,b),d.push({event:f,listeners:S}),f.target=al)))}function Pd(d,f){var b={};return b[d.toLowerCase()]=f.toLowerCase(),b["Webkit"+d]="webkit"+f,b["Moz"+d]="moz"+f,b}var Cc={animationend:Pd("Animation","AnimationEnd"),animationiteration:Pd("Animation","AnimationIteration"),animationstart:Pd("Animation","AnimationStart"),transitionend:Pd("Transition","TransitionEnd")},Pc={},km={};l&&(km=document.createElement("div").style,"AnimationEvent"in window||(delete Cc.animationend.animation,delete Cc.animationiteration.animation,delete Cc.animationstart.animation),"TransitionEvent"in window||delete Cc.transitionend.transition);function Ed(d){if(Pc[d])return Pc[d];if(!Cc[d])return d;var f=Cc[d],b;for(b in f)if(f.hasOwnProperty(b)&&b in km)return Pc[d]=f[b];return d}var Cm=Ed("animationend"),Pm=Ed("animationiteration"),Em=Ed("animationstart"),Dm=Ed("transitionend"),Am=new Map,Tm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Po(d,f){Am.set(d,f),s(f,[d])}for(var Cu=0;Cu<Tm.length;Cu++){var yi=Tm[Cu],ks=yi.toLowerCase(),Hh=yi[0].toUpperCase()+yi.slice(1);Po(ks,"on"+Hh)}Po(Cm,"onAnimationEnd"),Po(Pm,"onAnimationIteration"),Po(Em,"onAnimationStart"),Po("dblclick","onDoubleClick"),Po("focusin","onFocus"),Po("focusout","onBlur"),Po(Dm,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ul));function Dd(d,f,b){var S=d.type||"unknown-event";d.currentTarget=b,Lt(S,f,void 0,d),d.currentTarget=null}function Ad(d,f){f=(f&4)!==0;for(var b=0;b<d.length;b++){var S=d[b],K=S.event;S=S.listeners;e:{var Q=void 0;if(f)for(var xe=S.length-1;0<=xe;xe--){var Fe=S[xe],Ke=Fe.instance,dt=Fe.currentTarget;if(Fe=Fe.listener,Ke!==Q&&K.isPropagationStopped())break e;Dd(K,Fe,dt),Q=Ke}else for(xe=0;xe<S.length;xe++){if(Fe=S[xe],Ke=Fe.instance,dt=Fe.currentTarget,Fe=Fe.listener,Ke!==Q&&K.isPropagationStopped())break e;Dd(K,Fe,dt),Q=Ke}}}if(Mt)throw d=Ht,Mt=!1,Ht=null,d}function rn(d,f){var b=f[$i];b===void 0&&(b=f[$i]=new Set);var S=d+"__bubble";b.has(S)||(Td(f,d,2,!1),b.add(S))}function Vh(d,f,b){var S=0;f&&(S|=4),Td(b,d,S,f)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function Ec(d){if(!d[Pu]){d[Pu]=!0,n.forEach(function(b){b!=="selectionchange"&&(z0.has(b)||Vh(b,!1,d),Vh(b,!0,d))});var f=d.nodeType===9?d:d.ownerDocument;f===null||f[Pu]||(f[Pu]=!0,Vh("selectionchange",!1,f))}}function Td(d,f,b,S){switch(No(f)){case 1:var K=Tl;break;case 4:K=Ol;break;default:K=js}b=K.bind(null,f,b,d),K=void 0,!kt||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(K=!0),S?K!==void 0?d.addEventListener(f,b,{capture:!0,passive:K}):d.addEventListener(f,b,!0):K!==void 0?d.addEventListener(f,b,{passive:K}):d.addEventListener(f,b,!1)}function Od(d,f,b,S,K){var Q=S;if(!(f&1)&&!(f&2)&&S!==null)e:for(;;){if(S===null)return;var xe=S.tag;if(xe===3||xe===4){var Fe=S.stateNode.containerInfo;if(Fe===K||Fe.nodeType===8&&Fe.parentNode===K)break;if(xe===4)for(xe=S.return;xe!==null;){var Ke=xe.tag;if((Ke===3||Ke===4)&&(Ke=xe.stateNode.containerInfo,Ke===K||Ke.nodeType===8&&Ke.parentNode===K))return;xe=xe.return}for(;Fe!==null;){if(xe=ql(Fe),xe===null)return;if(Ke=xe.tag,Ke===5||Ke===6){S=Q=xe;continue e}Fe=Fe.parentNode}}S=S.return}et(function(){var dt=Q,At=Re(b),Ot=[];e:{var Et=Am.get(d);if(Et!==void 0){var Wt=gc,rr=d;switch(d){case"keypress":if(xi(b)===0)break e;case"keydown":case"keyup":Wt=Il;break;case"focusin":rr="focus",Wt=sr;break;case"focusout":rr="blur",Wt=sr;break;case"beforeblur":case"afterblur":Wt=sr;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Wt=Nt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Wt=Ut;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Wt=Xa;break;case Cm:case Pm:case Em:Wt=tr;break;case Dm:Wt=wc;break;case"scroll":Wt=se;break;case"wheel":Wt=kd;break;case"copy":case"cut":case"paste":Wt=Mr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Wt=Ml}var or=(f&4)!==0,ga=!or&&d==="scroll",st=or?Et!==null?Et+"Capture":null:Et;or=[];for(var Je=dt,ct;Je!==null;){ct=Je;var Ft=ct.stateNode;if(ct.tag===5&&Ft!==null&&(ct=Ft,st!==null&&(Ft=Pt(Je,st),Ft!=null&&or.push(Ld(Je,Ft,ct)))),ga)break;Je=Je.return}0<or.length&&(Et=new Wt(Et,rr,null,b,At),Ot.push({event:Et,listeners:or}))}}if(!(f&7)){e:{if(Et=d==="mouseover"||d==="pointerover",Wt=d==="mouseout"||d==="pointerout",Et&&b!==Ue&&(rr=b.relatedTarget||b.fromElement)&&(ql(rr)||rr[Ja]))break e;if((Wt||Et)&&(Et=At.window===At?At:(Et=At.ownerDocument)?Et.defaultView||Et.parentWindow:window,Wt?(rr=b.relatedTarget||b.toElement,Wt=dt,rr=rr?ql(rr):null,rr!==null&&(ga=Xt(rr),rr!==ga||rr.tag!==5&&rr.tag!==6)&&(rr=null)):(Wt=null,rr=dt),Wt!==rr)){if(or=Nt,Ft="onMouseLeave",st="onMouseEnter",Je="mouse",(d==="pointerout"||d==="pointerover")&&(or=Ml,Ft="onPointerLeave",st="onPointerEnter",Je="pointer"),ga=Wt==null?Et:Tc(Wt),ct=rr==null?Et:Tc(rr),Et=new or(Ft,Je+"leave",Wt,b,At),Et.target=ga,Et.relatedTarget=ct,Ft=null,ql(At)===dt&&(or=new or(st,Je+"enter",rr,b,At),or.target=ct,or.relatedTarget=ga,Ft=or),ga=Ft,Wt&&rr)t:{for(or=Wt,st=rr,Je=0,ct=or;ct;ct=Dc(ct))Je++;for(ct=0,Ft=st;Ft;Ft=Dc(Ft))ct++;for(;0<Je-ct;)or=Dc(or),Je--;for(;0<ct-Je;)st=Dc(st),ct--;for(;Je--;){if(or===st||st!==null&&or===st.alternate)break t;or=Dc(or),st=Dc(st)}or=null}else or=null;Wt!==null&&F0(Ot,Et,Wt,or,!1),rr!==null&&ga!==null&&F0(Ot,ga,rr,or,!0)}}e:{if(Et=dt?Tc(dt):window,Wt=Et.nodeName&&Et.nodeName.toLowerCase(),Wt==="select"||Wt==="input"&&Et.type==="file")var cr=Co;else if(So(Et))if(Vs)cr=Bl;else{cr=$l;var xr=Fl}else(Wt=Et.nodeName)&&Wt.toLowerCase()==="input"&&(Et.type==="checkbox"||Et.type==="radio")&&(cr=Sc);if(cr&&(cr=cr(d,dt))){tl(Ot,cr,b,At);break e}xr&&xr(d,Et,dt),d==="focusout"&&(xr=Et._wrapperState)&&xr.controlled&&Et.type==="number"&&ve(Et,"number",Et.value)}switch(xr=dt?Tc(dt):window,d){case"focusin":(So(xr)||xr.contentEditable==="true")&&(al=xr,Uh=dt,ku=null);break;case"focusout":ku=Uh=al=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,Sm(Ot,b,At);break;case"selectionchange":if(Su)break;case"keydown":case"keyup":Sm(Ot,b,At)}var vr;if(Hs)e:{switch(d){case"compositionstart":var kr="onCompositionStart";break e;case"compositionend":kr="onCompositionEnd";break e;case"compositionupdate":kr="onCompositionUpdate";break e}kr=void 0}else Ss?ju(d,b)&&(kr="onCompositionEnd"):d==="keydown"&&b.keyCode===229&&(kr="onCompositionStart");kr&&(as&&b.locale!=="ko"&&(Ss||kr!=="onCompositionStart"?kr==="onCompositionEnd"&&Ss&&(vr=bu()):(Ii=At,Ns="value"in Ii?Ii.value:Ii.textContent,Ss=!0)),xr=Wh(dt,kr),0<xr.length&&(kr=new Kn(kr,d,null,b,At),Ot.push({event:kr,listeners:xr}),vr?kr.data=vr:(vr=el(b),vr!==null&&(kr.data=vr)))),(vr=Bh?is(d,b):ss(d,b))&&(dt=Wh(dt,"onBeforeInput"),0<dt.length&&(At=new Kn("onBeforeInput","beforeinput",null,b,At),Ot.push({event:At,listeners:dt}),At.data=vr))}Ad(Ot,f)})}function Ld(d,f,b){return{instance:d,listener:f,currentTarget:b}}function Wh(d,f){for(var b=f+"Capture",S=[];d!==null;){var K=d,Q=K.stateNode;K.tag===5&&Q!==null&&(K=Q,Q=Pt(d,b),Q!=null&&S.unshift(Ld(d,Q,K)),Q=Pt(d,f),Q!=null&&S.push(Ld(d,Q,K))),d=d.return}return S}function Dc(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function F0(d,f,b,S,K){for(var Q=f._reactName,xe=[];b!==null&&b!==S;){var Fe=b,Ke=Fe.alternate,dt=Fe.stateNode;if(Ke!==null&&Ke===S)break;Fe.tag===5&&dt!==null&&(Fe=dt,K?(Ke=Pt(b,Q),Ke!=null&&xe.unshift(Ld(b,Ke,Fe))):K||(Ke=Pt(b,Q),Ke!=null&&xe.push(Ld(b,Ke,Fe)))),b=b.return}xe.length!==0&&d.push({event:f,listeners:xe})}var ab=/\r\n?/g,ib=/\u0000|\uFFFD/g;function $0(d){return(typeof d=="string"?d:""+d).replace(ab,`
`).replace(ib,"")}function Kh(d,f,b){if(f=$0(f),$0(d)!==f&&b)throw Error(r(425))}function Eu(){}var Id=null,Ac=null;function Om(d,f){return d==="textarea"||d==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Lm=typeof setTimeout=="function"?setTimeout:void 0,B0=typeof clearTimeout=="function"?clearTimeout:void 0,U0=typeof Promise=="function"?Promise:void 0,sb=typeof queueMicrotask=="function"?queueMicrotask:typeof U0<"u"?function(d){return U0.resolve(null).then(d).catch(ob)}:Lm;function ob(d){setTimeout(function(){throw d})}function Im(d,f){var b=f,S=0;do{var K=b.nextSibling;if(d.removeChild(b),K&&K.nodeType===8)if(b=K.data,b==="/$"){if(S===0){d.removeChild(K),Li(f);return}S--}else b!=="$"&&b!=="$?"&&b!=="$!"||S++;b=K}while(b);Li(f)}function bi(d){for(;d!=null;d=d.nextSibling){var f=d.nodeType;if(f===1||f===3)break;if(f===8){if(f=d.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return d}function Cs(d){d=d.previousSibling;for(var f=0;d;){if(d.nodeType===8){var b=d.data;if(b==="$"||b==="$!"||b==="$?"){if(f===0)return d;f--}else b==="/$"&&f++}d=d.previousSibling}return null}var Fi=Math.random().toString(36).slice(2),Eo="__reactFiber$"+Fi,Du="__reactProps$"+Fi,Ja="__reactContainer$"+Fi,$i="__reactEvents$"+Fi,lb="__reactListeners$"+Fi,cb="__reactHandles$"+Fi;function ql(d){var f=d[Eo];if(f)return f;for(var b=d.parentNode;b;){if(f=b[Ja]||b[Eo]){if(b=f.alternate,f.child!==null||b!==null&&b.child!==null)for(d=Cs(d);d!==null;){if(b=d[Eo])return b;d=Cs(d)}return f}d=b,b=d.parentNode}return null}function Au(d){return d=d[Eo]||d[Ja],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Tc(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(r(33))}function Md(d){return d[Du]||null}var Mm=[],il=-1;function Ks(d){return{current:d}}function Xr(d){0>il||(d.current=Mm[il],Mm[il]=null,il--)}function en(d,f){il++,Mm[il]=d.current,d.current=f}var Hl={},za=Ks(Hl),Bi=Ks(!1),Oc=Hl;function Tu(d,f){var b=d.type.contextTypes;if(!b)return Hl;var S=d.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===f)return S.__reactInternalMemoizedMaskedChildContext;var K={},Q;for(Q in b)K[Q]=f[Q];return S&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=f,d.__reactInternalMemoizedMaskedChildContext=K),K}function Ui(d){return d=d.childContextTypes,d!=null}function Gh(){Xr(Bi),Xr(za)}function q0(d,f,b){if(za.current!==Hl)throw Error(r(168));en(za,f),en(Bi,b)}function Rm(d,f,b){var S=d.stateNode;if(f=f.childContextTypes,typeof S.getChildContext!="function")return b;S=S.getChildContext();for(var K in S)if(!(K in f))throw Error(r(108,ce(d)||"Unknown",K));return I({},b,S)}function Lc(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Hl,Oc=za.current,en(za,d),en(Bi,Bi.current),!0}function H0(d,f,b){var S=d.stateNode;if(!S)throw Error(r(169));b?(d=Rm(d,f,Oc),S.__reactInternalMemoizedMergedChildContext=d,Xr(Bi),Xr(za),en(za,d)):Xr(Bi),en(Bi,b)}var sl=null,Rd=!1,N=!1;function C(d){sl===null?sl=[d]:sl.push(d)}function J(d){Rd=!0,C(d)}function te(){if(!N&&sl!==null){N=!0;var d=0,f=Lr;try{var b=sl;for(Lr=1;d<b.length;d++){var S=b[d];do S=S(!0);while(S!==null)}sl=null,Rd=!1}catch(K){throw sl!==null&&(sl=sl.slice(d+1)),Di(ha,te),K}finally{Lr=f,N=!1}}return null}var he=[],ye=0,je=null,_e=0,ke=[],Te=0,We=null,nt=1,Oe="";function Xe(d,f){he[ye++]=_e,he[ye++]=je,je=d,_e=f}function tt(d,f,b){ke[Te++]=nt,ke[Te++]=Oe,ke[Te++]=We,We=d;var S=nt;d=Oe;var K=32-Rr(S)-1;S&=~(1<<K),b+=1;var Q=32-Rr(f)+K;if(30<Q){var xe=K-K%5;Q=(S&(1<<xe)-1).toString(32),S>>=xe,K-=xe,nt=1<<32-Rr(f)+K|b<<K|S,Oe=Q+d}else nt=1<<Q|b<<K|S,Oe=d}function bt(d){d.return!==null&&(Xe(d,1),tt(d,1,0))}function ot(d){for(;d===je;)je=he[--ye],he[ye]=null,_e=he[--ye],he[ye]=null;for(;d===We;)We=ke[--Te],ke[Te]=null,Oe=ke[--Te],ke[Te]=null,nt=ke[--Te],ke[Te]=null}var mt=null,xt=null,_t=!1,Ct=null;function lr(d,f){var b=Lo(5,null,null,0);b.elementType="DELETED",b.stateNode=f,b.return=d,f=d.deletions,f===null?(d.deletions=[b],d.flags|=16):f.push(b)}function Gt(d,f){switch(d.tag){case 5:var b=d.type;return f=f.nodeType!==1||b.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(d.stateNode=f,mt=d,xt=bi(f.firstChild),!0):!1;case 6:return f=d.pendingProps===""||f.nodeType!==3?null:f,f!==null?(d.stateNode=f,mt=d,xt=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(b=We!==null?{id:nt,overflow:Oe}:null,d.memoizedState={dehydrated:f,treeContext:b,retryLane:1073741824},b=Lo(18,null,null,0),b.stateNode=f,b.return=d,d.child=b,mt=d,xt=null,!0):!1;default:return!1}}function Er(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Qt(d){if(_t){var f=xt;if(f){var b=f;if(!Gt(d,f)){if(Er(d))throw Error(r(418));f=bi(b.nextSibling);var S=mt;f&&Gt(d,f)?lr(S,b):(d.flags=d.flags&-4097|2,_t=!1,mt=d)}}else{if(Er(d))throw Error(r(418));d.flags=d.flags&-4097|2,_t=!1,mt=d}}}function Fr(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;mt=d}function $n(d){if(d!==mt)return!1;if(!_t)return Fr(d),_t=!0,!1;var f;if((f=d.tag!==3)&&!(f=d.tag!==5)&&(f=d.type,f=f!=="head"&&f!=="body"&&!Om(d.type,d.memoizedProps)),f&&(f=xt)){if(Er(d))throw Dr(),Error(r(418));for(;f;)lr(d,f),f=bi(f.nextSibling)}if(Fr(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));e:{for(d=d.nextSibling,f=0;d;){if(d.nodeType===8){var b=d.data;if(b==="/$"){if(f===0){xt=bi(d.nextSibling);break e}f--}else b!=="$"&&b!=="$!"&&b!=="$?"||f++}d=d.nextSibling}xt=null}}else xt=mt?bi(d.stateNode.nextSibling):null;return!0}function Dr(){for(var d=xt;d;)d=bi(d.nextSibling)}function Yt(){xt=mt=null,_t=!1}function Bt(d){Ct===null?Ct=[d]:Ct.push(d)}var Yn=E.ReactCurrentBatchConfig;function wr(d,f,b){if(d=b.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(r(309));var S=b.stateNode}if(!S)throw Error(r(147,d));var K=S,Q=""+d;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===Q?f.ref:(f=function(xe){var Fe=K.refs;xe===null?delete Fe[Q]:Fe[Q]=xe},f._stringRef=Q,f)}if(typeof d!="string")throw Error(r(284));if(!b._owner)throw Error(r(290,d))}return d}function zr(d,f){throw d=Object.prototype.toString.call(f),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":d))}function dn(d){var f=d._init;return f(d._payload)}function Sa(d){function f(st,Je){if(d){var ct=st.deletions;ct===null?(st.deletions=[Je],st.flags|=16):ct.push(Je)}}function b(st,Je){if(!d)return null;for(;Je!==null;)f(st,Je),Je=Je.sibling;return null}function S(st,Je){for(st=new Map;Je!==null;)Je.key!==null?st.set(Je.key,Je):st.set(Je.index,Je),Je=Je.sibling;return st}function K(st,Je){return st=Uu(st,Je),st.index=0,st.sibling=null,st}function Q(st,Je,ct){return st.index=ct,d?(ct=st.alternate,ct!==null?(ct=ct.index,ct<Je?(st.flags|=2,Je):ct):(st.flags|=2,Je)):(st.flags|=1048576,Je)}function xe(st){return d&&st.alternate===null&&(st.flags|=2),st}function Fe(st,Je,ct,Ft){return Je===null||Je.tag!==6?(Je=zb(ct,st.mode,Ft),Je.return=st,Je):(Je=K(Je,ct),Je.return=st,Je)}function Ke(st,Je,ct,Ft){var cr=ct.type;return cr===Y?At(st,Je,ct.props.children,Ft,ct.key):Je!==null&&(Je.elementType===cr||typeof cr=="object"&&cr!==null&&cr.$$typeof===ee&&dn(cr)===Je.type)?(Ft=K(Je,ct.props),Ft.ref=wr(st,Je,ct),Ft.return=st,Ft):(Ft=ug(ct.type,ct.key,ct.props,null,st.mode,Ft),Ft.ref=wr(st,Je,ct),Ft.return=st,Ft)}function dt(st,Je,ct,Ft){return Je===null||Je.tag!==4||Je.stateNode.containerInfo!==ct.containerInfo||Je.stateNode.implementation!==ct.implementation?(Je=Fb(ct,st.mode,Ft),Je.return=st,Je):(Je=K(Je,ct.children||[]),Je.return=st,Je)}function At(st,Je,ct,Ft,cr){return Je===null||Je.tag!==7?(Je=Vd(ct,st.mode,Ft,cr),Je.return=st,Je):(Je=K(Je,ct),Je.return=st,Je)}function Ot(st,Je,ct){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return Je=zb(""+Je,st.mode,ct),Je.return=st,Je;if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case O:return ct=ug(Je.type,Je.key,Je.props,null,st.mode,ct),ct.ref=wr(st,null,Je),ct.return=st,ct;case z:return Je=Fb(Je,st.mode,ct),Je.return=st,Je;case ee:var Ft=Je._init;return Ot(st,Ft(Je._payload),ct)}if(Ae(Je)||U(Je))return Je=Vd(Je,st.mode,ct,null),Je.return=st,Je;zr(st,Je)}return null}function Et(st,Je,ct,Ft){var cr=Je!==null?Je.key:null;if(typeof ct=="string"&&ct!==""||typeof ct=="number")return cr!==null?null:Fe(st,Je,""+ct,Ft);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case O:return ct.key===cr?Ke(st,Je,ct,Ft):null;case z:return ct.key===cr?dt(st,Je,ct,Ft):null;case ee:return cr=ct._init,Et(st,Je,cr(ct._payload),Ft)}if(Ae(ct)||U(ct))return cr!==null?null:At(st,Je,ct,Ft,null);zr(st,ct)}return null}function Wt(st,Je,ct,Ft,cr){if(typeof Ft=="string"&&Ft!==""||typeof Ft=="number")return st=st.get(ct)||null,Fe(Je,st,""+Ft,cr);if(typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case O:return st=st.get(Ft.key===null?ct:Ft.key)||null,Ke(Je,st,Ft,cr);case z:return st=st.get(Ft.key===null?ct:Ft.key)||null,dt(Je,st,Ft,cr);case ee:var xr=Ft._init;return Wt(st,Je,ct,xr(Ft._payload),cr)}if(Ae(Ft)||U(Ft))return st=st.get(ct)||null,At(Je,st,Ft,cr,null);zr(Je,Ft)}return null}function rr(st,Je,ct,Ft){for(var cr=null,xr=null,vr=Je,kr=Je=0,ri=null;vr!==null&&kr<ct.length;kr++){vr.index>kr?(ri=vr,vr=null):ri=vr.sibling;var Kr=Et(st,vr,ct[kr],Ft);if(Kr===null){vr===null&&(vr=ri);break}d&&vr&&Kr.alternate===null&&f(st,vr),Je=Q(Kr,Je,kr),xr===null?cr=Kr:xr.sibling=Kr,xr=Kr,vr=ri}if(kr===ct.length)return b(st,vr),_t&&Xe(st,kr),cr;if(vr===null){for(;kr<ct.length;kr++)vr=Ot(st,ct[kr],Ft),vr!==null&&(Je=Q(vr,Je,kr),xr===null?cr=vr:xr.sibling=vr,xr=vr);return _t&&Xe(st,kr),cr}for(vr=S(st,vr);kr<ct.length;kr++)ri=Wt(vr,st,kr,ct[kr],Ft),ri!==null&&(d&&ri.alternate!==null&&vr.delete(ri.key===null?kr:ri.key),Je=Q(ri,Je,kr),xr===null?cr=ri:xr.sibling=ri,xr=ri);return d&&vr.forEach(function(qu){return f(st,qu)}),_t&&Xe(st,kr),cr}function or(st,Je,ct,Ft){var cr=U(ct);if(typeof cr!="function")throw Error(r(150));if(ct=cr.call(ct),ct==null)throw Error(r(151));for(var xr=cr=null,vr=Je,kr=Je=0,ri=null,Kr=ct.next();vr!==null&&!Kr.done;kr++,Kr=ct.next()){vr.index>kr?(ri=vr,vr=null):ri=vr.sibling;var qu=Et(st,vr,Kr.value,Ft);if(qu===null){vr===null&&(vr=ri);break}d&&vr&&qu.alternate===null&&f(st,vr),Je=Q(qu,Je,kr),xr===null?cr=qu:xr.sibling=qu,xr=qu,vr=ri}if(Kr.done)return b(st,vr),_t&&Xe(st,kr),cr;if(vr===null){for(;!Kr.done;kr++,Kr=ct.next())Kr=Ot(st,Kr.value,Ft),Kr!==null&&(Je=Q(Kr,Je,kr),xr===null?cr=Kr:xr.sibling=Kr,xr=Kr);return _t&&Xe(st,kr),cr}for(vr=S(st,vr);!Kr.done;kr++,Kr=ct.next())Kr=Wt(vr,st,kr,Kr.value,Ft),Kr!==null&&(d&&Kr.alternate!==null&&vr.delete(Kr.key===null?kr:Kr.key),Je=Q(Kr,Je,kr),xr===null?cr=Kr:xr.sibling=Kr,xr=Kr);return d&&vr.forEach(function(F9){return f(st,F9)}),_t&&Xe(st,kr),cr}function ga(st,Je,ct,Ft){if(typeof ct=="object"&&ct!==null&&ct.type===Y&&ct.key===null&&(ct=ct.props.children),typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case O:e:{for(var cr=ct.key,xr=Je;xr!==null;){if(xr.key===cr){if(cr=ct.type,cr===Y){if(xr.tag===7){b(st,xr.sibling),Je=K(xr,ct.props.children),Je.return=st,st=Je;break e}}else if(xr.elementType===cr||typeof cr=="object"&&cr!==null&&cr.$$typeof===ee&&dn(cr)===xr.type){b(st,xr.sibling),Je=K(xr,ct.props),Je.ref=wr(st,xr,ct),Je.return=st,st=Je;break e}b(st,xr);break}else f(st,xr);xr=xr.sibling}ct.type===Y?(Je=Vd(ct.props.children,st.mode,Ft,ct.key),Je.return=st,st=Je):(Ft=ug(ct.type,ct.key,ct.props,null,st.mode,Ft),Ft.ref=wr(st,Je,ct),Ft.return=st,st=Ft)}return xe(st);case z:e:{for(xr=ct.key;Je!==null;){if(Je.key===xr)if(Je.tag===4&&Je.stateNode.containerInfo===ct.containerInfo&&Je.stateNode.implementation===ct.implementation){b(st,Je.sibling),Je=K(Je,ct.children||[]),Je.return=st,st=Je;break e}else{b(st,Je);break}else f(st,Je);Je=Je.sibling}Je=Fb(ct,st.mode,Ft),Je.return=st,st=Je}return xe(st);case ee:return xr=ct._init,ga(st,Je,xr(ct._payload),Ft)}if(Ae(ct))return rr(st,Je,ct,Ft);if(U(ct))return or(st,Je,ct,Ft);zr(st,ct)}return typeof ct=="string"&&ct!==""||typeof ct=="number"?(ct=""+ct,Je!==null&&Je.tag===6?(b(st,Je.sibling),Je=K(Je,ct),Je.return=st,st=Je):(b(st,Je),Je=zb(ct,st.mode,Ft),Je.return=st,st=Je),xe(st)):b(st,Je)}return ga}var ia=Sa(!0),Cn=Sa(!1),ma=Ks(null),ka=null,yn=null,Br=null;function Hr(){Br=yn=ka=null}function bn(d){var f=ma.current;Xr(ma),d._currentValue=f}function Vr(d,f,b){for(;d!==null;){var S=d.alternate;if((d.childLanes&f)!==f?(d.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),d===b)break;d=d.return}}function Bn(d,f){ka=d,Br=yn=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&f&&(Es=!0),d.firstContext=null)}function Un(d){var f=d._currentValue;if(Br!==d)if(d={context:d,memoizedValue:f,next:null},yn===null){if(ka===null)throw Error(r(308));yn=d,ka.dependencies={lanes:0,firstContext:d}}else yn=yn.next=d;return f}var nn=null;function Za(d){nn===null?nn=[d]:nn.push(d)}function tn(d,f,b,S){var K=f.interleaved;return K===null?(b.next=b,Za(f)):(b.next=K.next,K.next=b),f.interleaved=b,an(d,S)}function an(d,f){d.lanes|=f;var b=d.alternate;for(b!==null&&(b.lanes|=f),b=d,d=d.return;d!==null;)d.childLanes|=f,b=d.alternate,b!==null&&(b.childLanes|=f),b=d,d=d.return;return b.tag===3?b.stateNode:null}var sa=!1;function Fa(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qi(d,f){d=d.updateQueue,f.updateQueue===d&&(f.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Xn(d,f){return{eventTime:d,lane:f,tag:0,payload:null,callback:null,next:null}}function Jn(d,f,b){var S=d.updateQueue;if(S===null)return null;if(S=S.shared,Wr&2){var K=S.pending;return K===null?f.next=f:(f.next=K.next,K.next=f),S.pending=f,an(d,b)}return K=S.interleaved,K===null?(f.next=f,Za(S)):(f.next=K.next,K.next=f),S.interleaved=f,an(d,b)}function Qa(d,f,b){if(f=f.updateQueue,f!==null&&(f=f.shared,(b&4194240)!==0)){var S=f.lanes;S&=d.pendingLanes,b|=S,f.lanes=b,Bs(d,b)}}function sn(d,f){var b=d.updateQueue,S=d.alternate;if(S!==null&&(S=S.updateQueue,b===S)){var K=null,Q=null;if(b=b.firstBaseUpdate,b!==null){do{var xe={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};Q===null?K=Q=xe:Q=Q.next=xe,b=b.next}while(b!==null);Q===null?K=Q=f:Q=Q.next=f}else K=Q=f;b={baseState:S.baseState,firstBaseUpdate:K,lastBaseUpdate:Q,shared:S.shared,effects:S.effects},d.updateQueue=b;return}d=b.lastBaseUpdate,d===null?b.firstBaseUpdate=f:d.next=f,b.lastBaseUpdate=f}function ei(d,f,b,S){var K=d.updateQueue;sa=!1;var Q=K.firstBaseUpdate,xe=K.lastBaseUpdate,Fe=K.shared.pending;if(Fe!==null){K.shared.pending=null;var Ke=Fe,dt=Ke.next;Ke.next=null,xe===null?Q=dt:xe.next=dt,xe=Ke;var At=d.alternate;At!==null&&(At=At.updateQueue,Fe=At.lastBaseUpdate,Fe!==xe&&(Fe===null?At.firstBaseUpdate=dt:Fe.next=dt,At.lastBaseUpdate=Ke))}if(Q!==null){var Ot=K.baseState;xe=0,At=dt=Ke=null,Fe=Q;do{var Et=Fe.lane,Wt=Fe.eventTime;if((S&Et)===Et){At!==null&&(At=At.next={eventTime:Wt,lane:0,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null});e:{var rr=d,or=Fe;switch(Et=f,Wt=b,or.tag){case 1:if(rr=or.payload,typeof rr=="function"){Ot=rr.call(Wt,Ot,Et);break e}Ot=rr;break e;case 3:rr.flags=rr.flags&-65537|128;case 0:if(rr=or.payload,Et=typeof rr=="function"?rr.call(Wt,Ot,Et):rr,Et==null)break e;Ot=I({},Ot,Et);break e;case 2:sa=!0}}Fe.callback!==null&&Fe.lane!==0&&(d.flags|=64,Et=K.effects,Et===null?K.effects=[Fe]:Et.push(Fe))}else Wt={eventTime:Wt,lane:Et,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null},At===null?(dt=At=Wt,Ke=Ot):At=At.next=Wt,xe|=Et;if(Fe=Fe.next,Fe===null){if(Fe=K.shared.pending,Fe===null)break;Et=Fe,Fe=Et.next,Et.next=null,K.lastBaseUpdate=Et,K.shared.pending=null}}while(!0);if(At===null&&(Ke=Ot),K.baseState=Ke,K.firstBaseUpdate=dt,K.lastBaseUpdate=At,f=K.shared.interleaved,f!==null){K=f;do xe|=K.lane,K=K.next;while(K!==f)}else Q===null&&(K.shared.lanes=0);Bd|=xe,d.lanes=xe,d.memoizedState=Ot}}function Ps(d,f,b){if(d=f.effects,f.effects=null,d!==null)for(f=0;f<d.length;f++){var S=d[f],K=S.callback;if(K!==null){if(S.callback=null,S=b,typeof K!="function")throw Error(r(191,K));K.call(S)}}}var Gs={},Ca=Ks(Gs),Zn=Ks(Gs),Vl=Ks(Gs);function ol(d){if(d===Gs)throw Error(r(174));return d}function Ou(d,f){switch(en(Vl,f),en(Zn,d),en(Ca,Gs),d=f.nodeType,d){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:ge(null,"");break;default:d=d===8?f.parentNode:f,f=d.namespaceURI||null,d=d.tagName,f=ge(f,d)}Xr(Ca),en(Ca,f)}function Do(){Xr(Ca),Xr(Zn),Xr(Vl)}function V0(d){ol(Vl.current);var f=ol(Ca.current),b=ge(f,d.type);f!==b&&(en(Zn,d),en(Ca,b))}function zm(d){Zn.current===d&&(Xr(Ca),Xr(Zn))}var gn=Ks(0);function Ys(d){for(var f=d;f!==null;){if(f.tag===13){var b=f.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||b.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Fm=[];function $m(){for(var d=0;d<Fm.length;d++)Fm[d]._workInProgressVersionPrimary=null;Fm.length=0}var Yh=E.ReactCurrentDispatcher,Xh=E.ReactCurrentBatchConfig,Ao=0,wn=null,oa=null,Qn=null,Lu=!1,ll=!1,Iu=0,ub=0;function pa(){throw Error(r(321))}function Jh(d,f){if(f===null)return!1;for(var b=0;b<f.length&&b<d.length;b++)if(!zn(d[b],f[b]))return!1;return!0}function zd(d,f,b,S,K,Q){if(Ao=Q,wn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Yh.current=d===null||d.memoizedState===null?d9:h9,d=b(S,K),ll){Q=0;do{if(ll=!1,Iu=0,25<=Q)throw Error(r(301));Q+=1,Qn=oa=null,f.updateQueue=null,Yh.current=f9,d=b(S,K)}while(ll)}if(Yh.current=X0,f=oa!==null&&oa.next!==null,Ao=0,Qn=oa=wn=null,Lu=!1,f)throw Error(r(300));return d}function To(){var d=Iu!==0;return Iu=0,d}function Xs(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qn===null?wn.memoizedState=Qn=d:Qn=Qn.next=d,Qn}function os(){if(oa===null){var d=wn.alternate;d=d!==null?d.memoizedState:null}else d=oa.next;var f=Qn===null?wn.memoizedState:Qn.next;if(f!==null)Qn=f,oa=d;else{if(d===null)throw Error(r(310));oa=d,d={memoizedState:oa.memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},Qn===null?wn.memoizedState=Qn=d:Qn=Qn.next=d}return Qn}function Fd(d,f){return typeof f=="function"?f(d):f}function Zh(d){var f=os(),b=f.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=d;var S=oa,K=S.baseQueue,Q=b.pending;if(Q!==null){if(K!==null){var xe=K.next;K.next=Q.next,Q.next=xe}S.baseQueue=K=Q,b.pending=null}if(K!==null){Q=K.next,S=S.baseState;var Fe=xe=null,Ke=null,dt=Q;do{var At=dt.lane;if((Ao&At)===At)Ke!==null&&(Ke=Ke.next={lane:0,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null}),S=dt.hasEagerState?dt.eagerState:d(S,dt.action);else{var Ot={lane:At,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null};Ke===null?(Fe=Ke=Ot,xe=S):Ke=Ke.next=Ot,wn.lanes|=At,Bd|=At}dt=dt.next}while(dt!==null&&dt!==Q);Ke===null?xe=S:Ke.next=Fe,zn(S,f.memoizedState)||(Es=!0),f.memoizedState=S,f.baseState=xe,f.baseQueue=Ke,b.lastRenderedState=S}if(d=b.interleaved,d!==null){K=d;do Q=K.lane,wn.lanes|=Q,Bd|=Q,K=K.next;while(K!==d)}else K===null&&(b.lanes=0);return[f.memoizedState,b.dispatch]}function Wl(d){var f=os(),b=f.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=d;var S=b.dispatch,K=b.pending,Q=f.memoizedState;if(K!==null){b.pending=null;var xe=K=K.next;do Q=d(Q,xe.action),xe=xe.next;while(xe!==K);zn(Q,f.memoizedState)||(Es=!0),f.memoizedState=Q,f.baseQueue===null&&(f.baseState=Q),b.lastRenderedState=Q}return[Q,S]}function W0(){}function Bm(d,f){var b=wn,S=os(),K=f(),Q=!zn(S.memoizedState,K);if(Q&&(S.memoizedState=K,Es=!0),S=S.queue,tf(G0.bind(null,b,S,d),[d]),S.getSnapshot!==f||Q||Qn!==null&&Qn.memoizedState.tag&1){if(b.flags|=2048,ls(9,Um.bind(null,b,S,K,f),void 0,null),ti===null)throw Error(r(349));Ao&30||K0(b,f,K)}return K}function K0(d,f,b){d.flags|=16384,d={getSnapshot:f,value:b},f=wn.updateQueue,f===null?(f={lastEffect:null,stores:null},wn.updateQueue=f,f.stores=[d]):(b=f.stores,b===null?f.stores=[d]:b.push(d))}function Um(d,f,b,S){f.value=b,f.getSnapshot=S,Mu(f)&&Qh(d)}function G0(d,f,b){return b(function(){Mu(f)&&Qh(d)})}function Mu(d){var f=d.getSnapshot;d=d.value;try{var b=f();return!zn(d,b)}catch{return!0}}function Qh(d){var f=an(d,1);f!==null&&fl(f,d,1,-1)}function $d(d){var f=Xs();return typeof d=="function"&&(d=d()),f.memoizedState=f.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fd,lastRenderedState:d},f.queue=d,d=d.dispatch=u9.bind(null,wn,d),[f.memoizedState,d]}function ls(d,f,b,S){return d={tag:d,create:f,destroy:b,deps:S,next:null},f=wn.updateQueue,f===null?(f={lastEffect:null,stores:null},wn.updateQueue=f,f.lastEffect=d.next=d):(b=f.lastEffect,b===null?f.lastEffect=d.next=d:(S=b.next,b.next=d,d.next=S,f.lastEffect=d)),d}function cl(){return os().memoizedState}function Js(d,f,b,S){var K=Xs();wn.flags|=d,K.memoizedState=ls(1|f,b,void 0,S===void 0?null:S)}function Ic(d,f,b,S){var K=os();S=S===void 0?null:S;var Q=void 0;if(oa!==null){var xe=oa.memoizedState;if(Q=xe.destroy,S!==null&&Jh(S,xe.deps)){K.memoizedState=ls(f,b,Q,S);return}}wn.flags|=d,K.memoizedState=ls(1|f,b,Q,S)}function ef(d,f){return Js(8390656,8,d,f)}function tf(d,f){return Ic(2048,8,d,f)}function Y0(d,f){return Ic(4,2,d,f)}function rf(d,f){return Ic(4,4,d,f)}function nf(d,f){if(typeof f=="function")return d=d(),f(d),function(){f(null)};if(f!=null)return d=d(),f.current=d,function(){f.current=null}}function t_(d,f,b){return b=b!=null?b.concat([d]):null,Ic(4,4,nf.bind(null,f,d),b)}function db(){}function r_(d,f){var b=os();f=f===void 0?null:f;var S=b.memoizedState;return S!==null&&f!==null&&Jh(f,S[1])?S[0]:(b.memoizedState=[d,f],d)}function n_(d,f){var b=os();f=f===void 0?null:f;var S=b.memoizedState;return S!==null&&f!==null&&Jh(f,S[1])?S[0]:(d=d(),b.memoizedState=[d,f],d)}function a_(d,f,b){return Ao&21?(zn(b,f)||(b=fc(),wn.lanes|=b,Bd|=b,d.baseState=!0),f):(d.baseState&&(d.baseState=!1,Es=!0),d.memoizedState=b)}function l9(d,f){var b=Lr;Lr=b!==0&&4>b?b:4,d(!0);var S=Xh.transition;Xh.transition={};try{d(!1),f()}finally{Lr=b,Xh.transition=S}}function i_(){return os().memoizedState}function c9(d,f,b){var S=$u(d);if(b={lane:S,action:b,hasEagerState:!1,eagerState:null,next:null},s_(d))o_(f,b);else if(b=tn(d,f,b,S),b!==null){var K=us();fl(b,d,S,K),l_(b,f,S)}}function u9(d,f,b){var S=$u(d),K={lane:S,action:b,hasEagerState:!1,eagerState:null,next:null};if(s_(d))o_(f,K);else{var Q=d.alternate;if(d.lanes===0&&(Q===null||Q.lanes===0)&&(Q=f.lastRenderedReducer,Q!==null))try{var xe=f.lastRenderedState,Fe=Q(xe,b);if(K.hasEagerState=!0,K.eagerState=Fe,zn(Fe,xe)){var Ke=f.interleaved;Ke===null?(K.next=K,Za(f)):(K.next=Ke.next,Ke.next=K),f.interleaved=K;return}}catch{}finally{}b=tn(d,f,K,S),b!==null&&(K=us(),fl(b,d,S,K),l_(b,f,S))}}function s_(d){var f=d.alternate;return d===wn||f!==null&&f===wn}function o_(d,f){ll=Lu=!0;var b=d.pending;b===null?f.next=f:(f.next=b.next,b.next=f),d.pending=f}function l_(d,f,b){if(b&4194240){var S=f.lanes;S&=d.pendingLanes,b|=S,f.lanes=b,Bs(d,b)}}var X0={readContext:Un,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},d9={readContext:Un,useCallback:function(d,f){return Xs().memoizedState=[d,f===void 0?null:f],d},useContext:Un,useEffect:ef,useImperativeHandle:function(d,f,b){return b=b!=null?b.concat([d]):null,Js(4194308,4,nf.bind(null,f,d),b)},useLayoutEffect:function(d,f){return Js(4194308,4,d,f)},useInsertionEffect:function(d,f){return Js(4,2,d,f)},useMemo:function(d,f){var b=Xs();return f=f===void 0?null:f,d=d(),b.memoizedState=[d,f],d},useReducer:function(d,f,b){var S=Xs();return f=b!==void 0?b(f):f,S.memoizedState=S.baseState=f,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:f},S.queue=d,d=d.dispatch=c9.bind(null,wn,d),[S.memoizedState,d]},useRef:function(d){var f=Xs();return d={current:d},f.memoizedState=d},useState:$d,useDebugValue:db,useDeferredValue:function(d){return Xs().memoizedState=d},useTransition:function(){var d=$d(!1),f=d[0];return d=l9.bind(null,d[1]),Xs().memoizedState=d,[f,d]},useMutableSource:function(){},useSyncExternalStore:function(d,f,b){var S=wn,K=Xs();if(_t){if(b===void 0)throw Error(r(407));b=b()}else{if(b=f(),ti===null)throw Error(r(349));Ao&30||K0(S,f,b)}K.memoizedState=b;var Q={value:b,getSnapshot:f};return K.queue=Q,ef(G0.bind(null,S,Q,d),[d]),S.flags|=2048,ls(9,Um.bind(null,S,Q,b,f),void 0,null),b},useId:function(){var d=Xs(),f=ti.identifierPrefix;if(_t){var b=Oe,S=nt;b=(S&~(1<<32-Rr(S)-1)).toString(32)+b,f=":"+f+"R"+b,b=Iu++,0<b&&(f+="H"+b.toString(32)),f+=":"}else b=ub++,f=":"+f+"r"+b.toString(32)+":";return d.memoizedState=f},unstable_isNewReconciler:!1},h9={readContext:Un,useCallback:r_,useContext:Un,useEffect:tf,useImperativeHandle:t_,useInsertionEffect:Y0,useLayoutEffect:rf,useMemo:n_,useReducer:Zh,useRef:cl,useState:function(){return Zh(Fd)},useDebugValue:db,useDeferredValue:function(d){var f=os();return a_(f,oa.memoizedState,d)},useTransition:function(){var d=Zh(Fd)[0],f=os().memoizedState;return[d,f]},useMutableSource:W0,useSyncExternalStore:Bm,useId:i_,unstable_isNewReconciler:!1},f9={readContext:Un,useCallback:r_,useContext:Un,useEffect:tf,useImperativeHandle:t_,useInsertionEffect:Y0,useLayoutEffect:rf,useMemo:n_,useReducer:Wl,useRef:cl,useState:function(){return Wl(Fd)},useDebugValue:db,useDeferredValue:function(d){var f=os();return oa===null?f.memoizedState=d:a_(f,oa.memoizedState,d)},useTransition:function(){var d=Wl(Fd)[0],f=os().memoizedState;return[d,f]},useMutableSource:W0,useSyncExternalStore:Bm,useId:i_,unstable_isNewReconciler:!1};function ul(d,f){if(d&&d.defaultProps){f=I({},f),d=d.defaultProps;for(var b in d)f[b]===void 0&&(f[b]=d[b]);return f}return f}function hb(d,f,b,S){f=d.memoizedState,b=b(S,f),b=b==null?f:I({},f,b),d.memoizedState=b,d.lanes===0&&(d.updateQueue.baseState=b)}var J0={isMounted:function(d){return(d=d._reactInternals)?Xt(d)===d:!1},enqueueSetState:function(d,f,b){d=d._reactInternals;var S=us(),K=$u(d),Q=Xn(S,K);Q.payload=f,b!=null&&(Q.callback=b),f=Jn(d,Q,K),f!==null&&(fl(f,d,K,S),Qa(f,d,K))},enqueueReplaceState:function(d,f,b){d=d._reactInternals;var S=us(),K=$u(d),Q=Xn(S,K);Q.tag=1,Q.payload=f,b!=null&&(Q.callback=b),f=Jn(d,Q,K),f!==null&&(fl(f,d,K,S),Qa(f,d,K))},enqueueForceUpdate:function(d,f){d=d._reactInternals;var b=us(),S=$u(d),K=Xn(b,S);K.tag=2,f!=null&&(K.callback=f),f=Jn(d,K,S),f!==null&&(fl(f,d,S,b),Qa(f,d,S))}};function c_(d,f,b,S,K,Q,xe){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(S,Q,xe):f.prototype&&f.prototype.isPureReactComponent?!zi(b,S)||!zi(K,Q):!0}function u_(d,f,b){var S=!1,K=Hl,Q=f.contextType;return typeof Q=="object"&&Q!==null?Q=Un(Q):(K=Ui(f)?Oc:za.current,S=f.contextTypes,Q=(S=S!=null)?Tu(d,K):Hl),f=new f(b,Q),d.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=J0,d.stateNode=f,f._reactInternals=d,S&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=K,d.__reactInternalMemoizedMaskedChildContext=Q),f}function d_(d,f,b,S){d=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(b,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(b,S),f.state!==d&&J0.enqueueReplaceState(f,f.state,null)}function fb(d,f,b,S){var K=d.stateNode;K.props=b,K.state=d.memoizedState,K.refs={},Fa(d);var Q=f.contextType;typeof Q=="object"&&Q!==null?K.context=Un(Q):(Q=Ui(f)?Oc:za.current,K.context=Tu(d,Q)),K.state=d.memoizedState,Q=f.getDerivedStateFromProps,typeof Q=="function"&&(hb(d,f,Q,b),K.state=d.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(f=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),f!==K.state&&J0.enqueueReplaceState(K,K.state,null),ei(d,b,K,S),K.state=d.memoizedState),typeof K.componentDidMount=="function"&&(d.flags|=4194308)}function af(d,f){try{var b="",S=f;do b+=P(S),S=S.return;while(S);var K=b}catch(Q){K=`
Error generating stack: `+Q.message+`
`+Q.stack}return{value:d,source:f,stack:K,digest:null}}function mb(d,f,b){return{value:d,source:null,stack:b??null,digest:f??null}}function pb(d,f){try{console.error(f.value)}catch(b){setTimeout(function(){throw b})}}var m9=typeof WeakMap=="function"?WeakMap:Map;function h_(d,f,b){b=Xn(-1,b),b.tag=3,b.payload={element:null};var S=f.value;return b.callback=function(){ag||(ag=!0,Db=S),pb(d,f)},b}function f_(d,f,b){b=Xn(-1,b),b.tag=3;var S=d.type.getDerivedStateFromError;if(typeof S=="function"){var K=f.value;b.payload=function(){return S(K)},b.callback=function(){pb(d,f)}}var Q=d.stateNode;return Q!==null&&typeof Q.componentDidCatch=="function"&&(b.callback=function(){pb(d,f),typeof S!="function"&&(zu===null?zu=new Set([this]):zu.add(this));var xe=f.stack;this.componentDidCatch(f.value,{componentStack:xe!==null?xe:""})}),b}function m_(d,f,b){var S=d.pingCache;if(S===null){S=d.pingCache=new m9;var K=new Set;S.set(f,K)}else K=S.get(f),K===void 0&&(K=new Set,S.set(f,K));K.has(b)||(K.add(b),d=P9.bind(null,d,f,b),f.then(d,d))}function p_(d){do{var f;if((f=d.tag===13)&&(f=d.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return d;d=d.return}while(d!==null);return null}function g_(d,f,b,S,K){return d.mode&1?(d.flags|=65536,d.lanes=K,d):(d===f?d.flags|=65536:(d.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(f=Xn(-1,1),f.tag=2,Jn(b,f,1))),b.lanes|=1),d)}var p9=E.ReactCurrentOwner,Es=!1;function cs(d,f,b,S){f.child=d===null?Cn(f,null,b,S):ia(f,d.child,b,S)}function x_(d,f,b,S,K){b=b.render;var Q=f.ref;return Bn(f,K),S=zd(d,f,b,S,Q,K),b=To(),d!==null&&!Es?(f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~K,Mc(d,f,K)):(_t&&b&&bt(f),f.flags|=1,cs(d,f,S,K),f.child)}function v_(d,f,b,S,K){if(d===null){var Q=b.type;return typeof Q=="function"&&!Rb(Q)&&Q.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(f.tag=15,f.type=Q,y_(d,f,Q,S,K)):(d=ug(b.type,null,S,f,f.mode,K),d.ref=f.ref,d.return=f,f.child=d)}if(Q=d.child,!(d.lanes&K)){var xe=Q.memoizedProps;if(b=b.compare,b=b!==null?b:zi,b(xe,S)&&d.ref===f.ref)return Mc(d,f,K)}return f.flags|=1,d=Uu(Q,S),d.ref=f.ref,d.return=f,f.child=d}function y_(d,f,b,S,K){if(d!==null){var Q=d.memoizedProps;if(zi(Q,S)&&d.ref===f.ref)if(Es=!1,f.pendingProps=S=Q,(d.lanes&K)!==0)d.flags&131072&&(Es=!0);else return f.lanes=d.lanes,Mc(d,f,K)}return gb(d,f,b,S,K)}function b_(d,f,b){var S=f.pendingProps,K=S.children,Q=d!==null?d.memoizedState:null;if(S.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null,transitions:null},en(of,Zs),Zs|=b;else{if(!(b&1073741824))return d=Q!==null?Q.baseLanes|b:b,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:d,cachePool:null,transitions:null},f.updateQueue=null,en(of,Zs),Zs|=d,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=Q!==null?Q.baseLanes:b,en(of,Zs),Zs|=S}else Q!==null?(S=Q.baseLanes|b,f.memoizedState=null):S=b,en(of,Zs),Zs|=S;return cs(d,f,K,b),f.child}function w_(d,f){var b=f.ref;(d===null&&b!==null||d!==null&&d.ref!==b)&&(f.flags|=512,f.flags|=2097152)}function gb(d,f,b,S,K){var Q=Ui(b)?Oc:za.current;return Q=Tu(f,Q),Bn(f,K),b=zd(d,f,b,S,Q,K),S=To(),d!==null&&!Es?(f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~K,Mc(d,f,K)):(_t&&S&&bt(f),f.flags|=1,cs(d,f,b,K),f.child)}function j_(d,f,b,S,K){if(Ui(b)){var Q=!0;Lc(f)}else Q=!1;if(Bn(f,K),f.stateNode===null)Q0(d,f),u_(f,b,S),fb(f,b,S,K),S=!0;else if(d===null){var xe=f.stateNode,Fe=f.memoizedProps;xe.props=Fe;var Ke=xe.context,dt=b.contextType;typeof dt=="object"&&dt!==null?dt=Un(dt):(dt=Ui(b)?Oc:za.current,dt=Tu(f,dt));var At=b.getDerivedStateFromProps,Ot=typeof At=="function"||typeof xe.getSnapshotBeforeUpdate=="function";Ot||typeof xe.UNSAFE_componentWillReceiveProps!="function"&&typeof xe.componentWillReceiveProps!="function"||(Fe!==S||Ke!==dt)&&d_(f,xe,S,dt),sa=!1;var Et=f.memoizedState;xe.state=Et,ei(f,S,xe,K),Ke=f.memoizedState,Fe!==S||Et!==Ke||Bi.current||sa?(typeof At=="function"&&(hb(f,b,At,S),Ke=f.memoizedState),(Fe=sa||c_(f,b,Fe,S,Et,Ke,dt))?(Ot||typeof xe.UNSAFE_componentWillMount!="function"&&typeof xe.componentWillMount!="function"||(typeof xe.componentWillMount=="function"&&xe.componentWillMount(),typeof xe.UNSAFE_componentWillMount=="function"&&xe.UNSAFE_componentWillMount()),typeof xe.componentDidMount=="function"&&(f.flags|=4194308)):(typeof xe.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=Ke),xe.props=S,xe.state=Ke,xe.context=dt,S=Fe):(typeof xe.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{xe=f.stateNode,qi(d,f),Fe=f.memoizedProps,dt=f.type===f.elementType?Fe:ul(f.type,Fe),xe.props=dt,Ot=f.pendingProps,Et=xe.context,Ke=b.contextType,typeof Ke=="object"&&Ke!==null?Ke=Un(Ke):(Ke=Ui(b)?Oc:za.current,Ke=Tu(f,Ke));var Wt=b.getDerivedStateFromProps;(At=typeof Wt=="function"||typeof xe.getSnapshotBeforeUpdate=="function")||typeof xe.UNSAFE_componentWillReceiveProps!="function"&&typeof xe.componentWillReceiveProps!="function"||(Fe!==Ot||Et!==Ke)&&d_(f,xe,S,Ke),sa=!1,Et=f.memoizedState,xe.state=Et,ei(f,S,xe,K);var rr=f.memoizedState;Fe!==Ot||Et!==rr||Bi.current||sa?(typeof Wt=="function"&&(hb(f,b,Wt,S),rr=f.memoizedState),(dt=sa||c_(f,b,dt,S,Et,rr,Ke)||!1)?(At||typeof xe.UNSAFE_componentWillUpdate!="function"&&typeof xe.componentWillUpdate!="function"||(typeof xe.componentWillUpdate=="function"&&xe.componentWillUpdate(S,rr,Ke),typeof xe.UNSAFE_componentWillUpdate=="function"&&xe.UNSAFE_componentWillUpdate(S,rr,Ke)),typeof xe.componentDidUpdate=="function"&&(f.flags|=4),typeof xe.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof xe.componentDidUpdate!="function"||Fe===d.memoizedProps&&Et===d.memoizedState||(f.flags|=4),typeof xe.getSnapshotBeforeUpdate!="function"||Fe===d.memoizedProps&&Et===d.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=rr),xe.props=S,xe.state=rr,xe.context=Ke,S=dt):(typeof xe.componentDidUpdate!="function"||Fe===d.memoizedProps&&Et===d.memoizedState||(f.flags|=4),typeof xe.getSnapshotBeforeUpdate!="function"||Fe===d.memoizedProps&&Et===d.memoizedState||(f.flags|=1024),S=!1)}return xb(d,f,b,S,Q,K)}function xb(d,f,b,S,K,Q){w_(d,f);var xe=(f.flags&128)!==0;if(!S&&!xe)return K&&H0(f,b,!1),Mc(d,f,Q);S=f.stateNode,p9.current=f;var Fe=xe&&typeof b.getDerivedStateFromError!="function"?null:S.render();return f.flags|=1,d!==null&&xe?(f.child=ia(f,d.child,null,Q),f.child=ia(f,null,Fe,Q)):cs(d,f,Fe,Q),f.memoizedState=S.state,K&&H0(f,b,!0),f.child}function N_(d){var f=d.stateNode;f.pendingContext?q0(d,f.pendingContext,f.pendingContext!==f.context):f.context&&q0(d,f.context,!1),Ou(d,f.containerInfo)}function __(d,f,b,S,K){return Yt(),Bt(K),f.flags|=256,cs(d,f,b,S),f.child}var vb={dehydrated:null,treeContext:null,retryLane:0};function yb(d){return{baseLanes:d,cachePool:null,transitions:null}}function S_(d,f,b){var S=f.pendingProps,K=gn.current,Q=!1,xe=(f.flags&128)!==0,Fe;if((Fe=xe)||(Fe=d!==null&&d.memoizedState===null?!1:(K&2)!==0),Fe?(Q=!0,f.flags&=-129):(d===null||d.memoizedState!==null)&&(K|=1),en(gn,K&1),d===null)return Qt(f),d=f.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(f.mode&1?d.data==="$!"?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(xe=S.children,d=S.fallback,Q?(S=f.mode,Q=f.child,xe={mode:"hidden",children:xe},!(S&1)&&Q!==null?(Q.childLanes=0,Q.pendingProps=xe):Q=dg(xe,S,0,null),d=Vd(d,S,b,null),Q.return=f,d.return=f,Q.sibling=d,f.child=Q,f.child.memoizedState=yb(b),f.memoizedState=vb,d):bb(f,xe));if(K=d.memoizedState,K!==null&&(Fe=K.dehydrated,Fe!==null))return g9(d,f,xe,S,Fe,K,b);if(Q){Q=S.fallback,xe=f.mode,K=d.child,Fe=K.sibling;var Ke={mode:"hidden",children:S.children};return!(xe&1)&&f.child!==K?(S=f.child,S.childLanes=0,S.pendingProps=Ke,f.deletions=null):(S=Uu(K,Ke),S.subtreeFlags=K.subtreeFlags&14680064),Fe!==null?Q=Uu(Fe,Q):(Q=Vd(Q,xe,b,null),Q.flags|=2),Q.return=f,S.return=f,S.sibling=Q,f.child=S,S=Q,Q=f.child,xe=d.child.memoizedState,xe=xe===null?yb(b):{baseLanes:xe.baseLanes|b,cachePool:null,transitions:xe.transitions},Q.memoizedState=xe,Q.childLanes=d.childLanes&~b,f.memoizedState=vb,S}return Q=d.child,d=Q.sibling,S=Uu(Q,{mode:"visible",children:S.children}),!(f.mode&1)&&(S.lanes=b),S.return=f,S.sibling=null,d!==null&&(b=f.deletions,b===null?(f.deletions=[d],f.flags|=16):b.push(d)),f.child=S,f.memoizedState=null,S}function bb(d,f){return f=dg({mode:"visible",children:f},d.mode,0,null),f.return=d,d.child=f}function Z0(d,f,b,S){return S!==null&&Bt(S),ia(f,d.child,null,b),d=bb(f,f.pendingProps.children),d.flags|=2,f.memoizedState=null,d}function g9(d,f,b,S,K,Q,xe){if(b)return f.flags&256?(f.flags&=-257,S=mb(Error(r(422))),Z0(d,f,xe,S)):f.memoizedState!==null?(f.child=d.child,f.flags|=128,null):(Q=S.fallback,K=f.mode,S=dg({mode:"visible",children:S.children},K,0,null),Q=Vd(Q,K,xe,null),Q.flags|=2,S.return=f,Q.return=f,S.sibling=Q,f.child=S,f.mode&1&&ia(f,d.child,null,xe),f.child.memoizedState=yb(xe),f.memoizedState=vb,Q);if(!(f.mode&1))return Z0(d,f,xe,null);if(K.data==="$!"){if(S=K.nextSibling&&K.nextSibling.dataset,S)var Fe=S.dgst;return S=Fe,Q=Error(r(419)),S=mb(Q,S,void 0),Z0(d,f,xe,S)}if(Fe=(xe&d.childLanes)!==0,Es||Fe){if(S=ti,S!==null){switch(xe&-xe){case 4:K=2;break;case 16:K=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:K=32;break;case 536870912:K=268435456;break;default:K=0}K=K&(S.suspendedLanes|xe)?0:K,K!==0&&K!==Q.retryLane&&(Q.retryLane=K,an(d,K),fl(S,d,K,-1))}return Mb(),S=mb(Error(r(421))),Z0(d,f,xe,S)}return K.data==="$?"?(f.flags|=128,f.child=d.child,f=E9.bind(null,d),K._reactRetry=f,null):(d=Q.treeContext,xt=bi(K.nextSibling),mt=f,_t=!0,Ct=null,d!==null&&(ke[Te++]=nt,ke[Te++]=Oe,ke[Te++]=We,nt=d.id,Oe=d.overflow,We=f),f=bb(f,S.children),f.flags|=4096,f)}function k_(d,f,b){d.lanes|=f;var S=d.alternate;S!==null&&(S.lanes|=f),Vr(d.return,f,b)}function wb(d,f,b,S,K){var Q=d.memoizedState;Q===null?d.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:b,tailMode:K}:(Q.isBackwards=f,Q.rendering=null,Q.renderingStartTime=0,Q.last=S,Q.tail=b,Q.tailMode=K)}function C_(d,f,b){var S=f.pendingProps,K=S.revealOrder,Q=S.tail;if(cs(d,f,S.children,b),S=gn.current,S&2)S=S&1|2,f.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=f.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&k_(d,b,f);else if(d.tag===19)k_(d,b,f);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}S&=1}if(en(gn,S),!(f.mode&1))f.memoizedState=null;else switch(K){case"forwards":for(b=f.child,K=null;b!==null;)d=b.alternate,d!==null&&Ys(d)===null&&(K=b),b=b.sibling;b=K,b===null?(K=f.child,f.child=null):(K=b.sibling,b.sibling=null),wb(f,!1,K,b,Q);break;case"backwards":for(b=null,K=f.child,f.child=null;K!==null;){if(d=K.alternate,d!==null&&Ys(d)===null){f.child=K;break}d=K.sibling,K.sibling=b,b=K,K=d}wb(f,!0,b,null,Q);break;case"together":wb(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Q0(d,f){!(f.mode&1)&&d!==null&&(d.alternate=null,f.alternate=null,f.flags|=2)}function Mc(d,f,b){if(d!==null&&(f.dependencies=d.dependencies),Bd|=f.lanes,!(b&f.childLanes))return null;if(d!==null&&f.child!==d.child)throw Error(r(153));if(f.child!==null){for(d=f.child,b=Uu(d,d.pendingProps),f.child=b,b.return=f;d.sibling!==null;)d=d.sibling,b=b.sibling=Uu(d,d.pendingProps),b.return=f;b.sibling=null}return f.child}function x9(d,f,b){switch(f.tag){case 3:N_(f),Yt();break;case 5:V0(f);break;case 1:Ui(f.type)&&Lc(f);break;case 4:Ou(f,f.stateNode.containerInfo);break;case 10:var S=f.type._context,K=f.memoizedProps.value;en(ma,S._currentValue),S._currentValue=K;break;case 13:if(S=f.memoizedState,S!==null)return S.dehydrated!==null?(en(gn,gn.current&1),f.flags|=128,null):b&f.child.childLanes?S_(d,f,b):(en(gn,gn.current&1),d=Mc(d,f,b),d!==null?d.sibling:null);en(gn,gn.current&1);break;case 19:if(S=(b&f.childLanes)!==0,d.flags&128){if(S)return C_(d,f,b);f.flags|=128}if(K=f.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),en(gn,gn.current),S)break;return null;case 22:case 23:return f.lanes=0,b_(d,f,b)}return Mc(d,f,b)}var P_,jb,E_,D_;P_=function(d,f){for(var b=f.child;b!==null;){if(b.tag===5||b.tag===6)d.appendChild(b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===f)break;for(;b.sibling===null;){if(b.return===null||b.return===f)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},jb=function(){},E_=function(d,f,b,S){var K=d.memoizedProps;if(K!==S){d=f.stateNode,ol(Ca.current);var Q=null;switch(b){case"input":K=le(d,K),S=le(d,S),Q=[];break;case"select":K=I({},K,{value:void 0}),S=I({},S,{value:void 0}),Q=[];break;case"textarea":K=Ce(d,K),S=Ce(d,S),Q=[];break;default:typeof K.onClick!="function"&&typeof S.onClick=="function"&&(d.onclick=Eu)}rt(b,S);var xe;b=null;for(dt in K)if(!S.hasOwnProperty(dt)&&K.hasOwnProperty(dt)&&K[dt]!=null)if(dt==="style"){var Fe=K[dt];for(xe in Fe)Fe.hasOwnProperty(xe)&&(b||(b={}),b[xe]="")}else dt!=="dangerouslySetInnerHTML"&&dt!=="children"&&dt!=="suppressContentEditableWarning"&&dt!=="suppressHydrationWarning"&&dt!=="autoFocus"&&(i.hasOwnProperty(dt)?Q||(Q=[]):(Q=Q||[]).push(dt,null));for(dt in S){var Ke=S[dt];if(Fe=K!=null?K[dt]:void 0,S.hasOwnProperty(dt)&&Ke!==Fe&&(Ke!=null||Fe!=null))if(dt==="style")if(Fe){for(xe in Fe)!Fe.hasOwnProperty(xe)||Ke&&Ke.hasOwnProperty(xe)||(b||(b={}),b[xe]="");for(xe in Ke)Ke.hasOwnProperty(xe)&&Fe[xe]!==Ke[xe]&&(b||(b={}),b[xe]=Ke[xe])}else b||(Q||(Q=[]),Q.push(dt,b)),b=Ke;else dt==="dangerouslySetInnerHTML"?(Ke=Ke?Ke.__html:void 0,Fe=Fe?Fe.__html:void 0,Ke!=null&&Fe!==Ke&&(Q=Q||[]).push(dt,Ke)):dt==="children"?typeof Ke!="string"&&typeof Ke!="number"||(Q=Q||[]).push(dt,""+Ke):dt!=="suppressContentEditableWarning"&&dt!=="suppressHydrationWarning"&&(i.hasOwnProperty(dt)?(Ke!=null&&dt==="onScroll"&&rn("scroll",d),Q||Fe===Ke||(Q=[])):(Q=Q||[]).push(dt,Ke))}b&&(Q=Q||[]).push("style",b);var dt=Q;(f.updateQueue=dt)&&(f.flags|=4)}},D_=function(d,f,b,S){b!==S&&(f.flags|=4)};function qm(d,f){if(!_t)switch(d.tailMode){case"hidden":f=d.tail;for(var b=null;f!==null;)f.alternate!==null&&(b=f),f=f.sibling;b===null?d.tail=null:b.sibling=null;break;case"collapsed":b=d.tail;for(var S=null;b!==null;)b.alternate!==null&&(S=b),b=b.sibling;S===null?f||d.tail===null?d.tail=null:d.tail.sibling=null:S.sibling=null}}function Hi(d){var f=d.alternate!==null&&d.alternate.child===d.child,b=0,S=0;if(f)for(var K=d.child;K!==null;)b|=K.lanes|K.childLanes,S|=K.subtreeFlags&14680064,S|=K.flags&14680064,K.return=d,K=K.sibling;else for(K=d.child;K!==null;)b|=K.lanes|K.childLanes,S|=K.subtreeFlags,S|=K.flags,K.return=d,K=K.sibling;return d.subtreeFlags|=S,d.childLanes=b,f}function v9(d,f,b){var S=f.pendingProps;switch(ot(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hi(f),null;case 1:return Ui(f.type)&&Gh(),Hi(f),null;case 3:return S=f.stateNode,Do(),Xr(Bi),Xr(za),$m(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(d===null||d.child===null)&&($n(f)?f.flags|=4:d===null||d.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Ct!==null&&(Ob(Ct),Ct=null))),jb(d,f),Hi(f),null;case 5:zm(f);var K=ol(Vl.current);if(b=f.type,d!==null&&f.stateNode!=null)E_(d,f,b,S,K),d.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!S){if(f.stateNode===null)throw Error(r(166));return Hi(f),null}if(d=ol(Ca.current),$n(f)){S=f.stateNode,b=f.type;var Q=f.memoizedProps;switch(S[Eo]=f,S[Du]=Q,d=(f.mode&1)!==0,b){case"dialog":rn("cancel",S),rn("close",S);break;case"iframe":case"object":case"embed":rn("load",S);break;case"video":case"audio":for(K=0;K<Ul.length;K++)rn(Ul[K],S);break;case"source":rn("error",S);break;case"img":case"image":case"link":rn("error",S),rn("load",S);break;case"details":rn("toggle",S);break;case"input":ne(S,Q),rn("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!Q.multiple},rn("invalid",S);break;case"textarea":Me(S,Q),rn("invalid",S)}rt(b,Q),K=null;for(var xe in Q)if(Q.hasOwnProperty(xe)){var Fe=Q[xe];xe==="children"?typeof Fe=="string"?S.textContent!==Fe&&(Q.suppressHydrationWarning!==!0&&Kh(S.textContent,Fe,d),K=["children",Fe]):typeof Fe=="number"&&S.textContent!==""+Fe&&(Q.suppressHydrationWarning!==!0&&Kh(S.textContent,Fe,d),K=["children",""+Fe]):i.hasOwnProperty(xe)&&Fe!=null&&xe==="onScroll"&&rn("scroll",S)}switch(b){case"input":fe(S),qe(S,Q,!0);break;case"textarea":fe(S),at(S);break;case"select":case"option":break;default:typeof Q.onClick=="function"&&(S.onclick=Eu)}S=K,f.updateQueue=S,S!==null&&(f.flags|=4)}else{xe=K.nodeType===9?K:K.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=pt(b)),d==="http://www.w3.org/1999/xhtml"?b==="script"?(d=xe.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof S.is=="string"?d=xe.createElement(b,{is:S.is}):(d=xe.createElement(b),b==="select"&&(xe=d,S.multiple?xe.multiple=!0:S.size&&(xe.size=S.size))):d=xe.createElementNS(d,b),d[Eo]=f,d[Du]=S,P_(d,f,!1,!1),f.stateNode=d;e:{switch(xe=Ne(b,S),b){case"dialog":rn("cancel",d),rn("close",d),K=S;break;case"iframe":case"object":case"embed":rn("load",d),K=S;break;case"video":case"audio":for(K=0;K<Ul.length;K++)rn(Ul[K],d);K=S;break;case"source":rn("error",d),K=S;break;case"img":case"image":case"link":rn("error",d),rn("load",d),K=S;break;case"details":rn("toggle",d),K=S;break;case"input":ne(d,S),K=le(d,S),rn("invalid",d);break;case"option":K=S;break;case"select":d._wrapperState={wasMultiple:!!S.multiple},K=I({},S,{value:void 0}),rn("invalid",d);break;case"textarea":Me(d,S),K=Ce(d,S),rn("invalid",d);break;default:K=S}rt(b,K),Fe=K;for(Q in Fe)if(Fe.hasOwnProperty(Q)){var Ke=Fe[Q];Q==="style"?ht(d,Ke):Q==="dangerouslySetInnerHTML"?(Ke=Ke?Ke.__html:void 0,Ke!=null&&Be(d,Ke)):Q==="children"?typeof Ke=="string"?(b!=="textarea"||Ke!=="")&&Ge(d,Ke):typeof Ke=="number"&&Ge(d,""+Ke):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(i.hasOwnProperty(Q)?Ke!=null&&Q==="onScroll"&&rn("scroll",d):Ke!=null&&w(d,Q,Ke,xe))}switch(b){case"input":fe(d),qe(d,S,!1);break;case"textarea":fe(d),at(d);break;case"option":S.value!=null&&d.setAttribute("value",""+be(S.value));break;case"select":d.multiple=!!S.multiple,Q=S.value,Q!=null?me(d,!!S.multiple,Q,!1):S.defaultValue!=null&&me(d,!!S.multiple,S.defaultValue,!0);break;default:typeof K.onClick=="function"&&(d.onclick=Eu)}switch(b){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Hi(f),null;case 6:if(d&&f.stateNode!=null)D_(d,f,d.memoizedProps,S);else{if(typeof S!="string"&&f.stateNode===null)throw Error(r(166));if(b=ol(Vl.current),ol(Ca.current),$n(f)){if(S=f.stateNode,b=f.memoizedProps,S[Eo]=f,(Q=S.nodeValue!==b)&&(d=mt,d!==null))switch(d.tag){case 3:Kh(S.nodeValue,b,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Kh(S.nodeValue,b,(d.mode&1)!==0)}Q&&(f.flags|=4)}else S=(b.nodeType===9?b:b.ownerDocument).createTextNode(S),S[Eo]=f,f.stateNode=S}return Hi(f),null;case 13:if(Xr(gn),S=f.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(_t&&xt!==null&&f.mode&1&&!(f.flags&128))Dr(),Yt(),f.flags|=98560,Q=!1;else if(Q=$n(f),S!==null&&S.dehydrated!==null){if(d===null){if(!Q)throw Error(r(318));if(Q=f.memoizedState,Q=Q!==null?Q.dehydrated:null,!Q)throw Error(r(317));Q[Eo]=f}else Yt(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;Hi(f),Q=!1}else Ct!==null&&(Ob(Ct),Ct=null),Q=!0;if(!Q)return f.flags&65536?f:null}return f.flags&128?(f.lanes=b,f):(S=S!==null,S!==(d!==null&&d.memoizedState!==null)&&S&&(f.child.flags|=8192,f.mode&1&&(d===null||gn.current&1?$a===0&&($a=3):Mb())),f.updateQueue!==null&&(f.flags|=4),Hi(f),null);case 4:return Do(),jb(d,f),d===null&&Ec(f.stateNode.containerInfo),Hi(f),null;case 10:return bn(f.type._context),Hi(f),null;case 17:return Ui(f.type)&&Gh(),Hi(f),null;case 19:if(Xr(gn),Q=f.memoizedState,Q===null)return Hi(f),null;if(S=(f.flags&128)!==0,xe=Q.rendering,xe===null)if(S)qm(Q,!1);else{if($a!==0||d!==null&&d.flags&128)for(d=f.child;d!==null;){if(xe=Ys(d),xe!==null){for(f.flags|=128,qm(Q,!1),S=xe.updateQueue,S!==null&&(f.updateQueue=S,f.flags|=4),f.subtreeFlags=0,S=b,b=f.child;b!==null;)Q=b,d=S,Q.flags&=14680066,xe=Q.alternate,xe===null?(Q.childLanes=0,Q.lanes=d,Q.child=null,Q.subtreeFlags=0,Q.memoizedProps=null,Q.memoizedState=null,Q.updateQueue=null,Q.dependencies=null,Q.stateNode=null):(Q.childLanes=xe.childLanes,Q.lanes=xe.lanes,Q.child=xe.child,Q.subtreeFlags=0,Q.deletions=null,Q.memoizedProps=xe.memoizedProps,Q.memoizedState=xe.memoizedState,Q.updateQueue=xe.updateQueue,Q.type=xe.type,d=xe.dependencies,Q.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),b=b.sibling;return en(gn,gn.current&1|2),f.child}d=d.sibling}Q.tail!==null&&Nr()>lf&&(f.flags|=128,S=!0,qm(Q,!1),f.lanes=4194304)}else{if(!S)if(d=Ys(xe),d!==null){if(f.flags|=128,S=!0,b=d.updateQueue,b!==null&&(f.updateQueue=b,f.flags|=4),qm(Q,!0),Q.tail===null&&Q.tailMode==="hidden"&&!xe.alternate&&!_t)return Hi(f),null}else 2*Nr()-Q.renderingStartTime>lf&&b!==1073741824&&(f.flags|=128,S=!0,qm(Q,!1),f.lanes=4194304);Q.isBackwards?(xe.sibling=f.child,f.child=xe):(b=Q.last,b!==null?b.sibling=xe:f.child=xe,Q.last=xe)}return Q.tail!==null?(f=Q.tail,Q.rendering=f,Q.tail=f.sibling,Q.renderingStartTime=Nr(),f.sibling=null,b=gn.current,en(gn,S?b&1|2:b&1),f):(Hi(f),null);case 22:case 23:return Ib(),S=f.memoizedState!==null,d!==null&&d.memoizedState!==null!==S&&(f.flags|=8192),S&&f.mode&1?Zs&1073741824&&(Hi(f),f.subtreeFlags&6&&(f.flags|=8192)):Hi(f),null;case 24:return null;case 25:return null}throw Error(r(156,f.tag))}function y9(d,f){switch(ot(f),f.tag){case 1:return Ui(f.type)&&Gh(),d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 3:return Do(),Xr(Bi),Xr(za),$m(),d=f.flags,d&65536&&!(d&128)?(f.flags=d&-65537|128,f):null;case 5:return zm(f),null;case 13:if(Xr(gn),d=f.memoizedState,d!==null&&d.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Yt()}return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 19:return Xr(gn),null;case 4:return Do(),null;case 10:return bn(f.type._context),null;case 22:case 23:return Ib(),null;case 24:return null;default:return null}}var eg=!1,Vi=!1,b9=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function sf(d,f){var b=d.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(S){la(d,f,S)}else b.current=null}function Nb(d,f,b){try{b()}catch(S){la(d,f,S)}}var A_=!1;function w9(d,f){if(Id=jo,d=aa(),Ws(d)){if("selectionStart"in d)var b={start:d.selectionStart,end:d.selectionEnd};else e:{b=(b=d.ownerDocument)&&b.defaultView||window;var S=b.getSelection&&b.getSelection();if(S&&S.rangeCount!==0){b=S.anchorNode;var K=S.anchorOffset,Q=S.focusNode;S=S.focusOffset;try{b.nodeType,Q.nodeType}catch{b=null;break e}var xe=0,Fe=-1,Ke=-1,dt=0,At=0,Ot=d,Et=null;t:for(;;){for(var Wt;Ot!==b||K!==0&&Ot.nodeType!==3||(Fe=xe+K),Ot!==Q||S!==0&&Ot.nodeType!==3||(Ke=xe+S),Ot.nodeType===3&&(xe+=Ot.nodeValue.length),(Wt=Ot.firstChild)!==null;)Et=Ot,Ot=Wt;for(;;){if(Ot===d)break t;if(Et===b&&++dt===K&&(Fe=xe),Et===Q&&++At===S&&(Ke=xe),(Wt=Ot.nextSibling)!==null)break;Ot=Et,Et=Ot.parentNode}Ot=Wt}b=Fe===-1||Ke===-1?null:{start:Fe,end:Ke}}else b=null}b=b||{start:0,end:0}}else b=null;for(Ac={focusedElem:d,selectionRange:b},jo=!1,Jt=f;Jt!==null;)if(f=Jt,d=f.child,(f.subtreeFlags&1028)!==0&&d!==null)d.return=f,Jt=d;else for(;Jt!==null;){f=Jt;try{var rr=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(rr!==null){var or=rr.memoizedProps,ga=rr.memoizedState,st=f.stateNode,Je=st.getSnapshotBeforeUpdate(f.elementType===f.type?or:ul(f.type,or),ga);st.__reactInternalSnapshotBeforeUpdate=Je}break;case 3:var ct=f.stateNode.containerInfo;ct.nodeType===1?ct.textContent="":ct.nodeType===9&&ct.documentElement&&ct.removeChild(ct.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ft){la(f,f.return,Ft)}if(d=f.sibling,d!==null){d.return=f.return,Jt=d;break}Jt=f.return}return rr=A_,A_=!1,rr}function Hm(d,f,b){var S=f.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var K=S=S.next;do{if((K.tag&d)===d){var Q=K.destroy;K.destroy=void 0,Q!==void 0&&Nb(f,b,Q)}K=K.next}while(K!==S)}}function tg(d,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var b=f=f.next;do{if((b.tag&d)===d){var S=b.create;b.destroy=S()}b=b.next}while(b!==f)}}function _b(d){var f=d.ref;if(f!==null){var b=d.stateNode;switch(d.tag){case 5:d=b;break;default:d=b}typeof f=="function"?f(d):f.current=d}}function T_(d){var f=d.alternate;f!==null&&(d.alternate=null,T_(f)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(f=d.stateNode,f!==null&&(delete f[Eo],delete f[Du],delete f[$i],delete f[lb],delete f[cb])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function O_(d){return d.tag===5||d.tag===3||d.tag===4}function L_(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||O_(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Sb(d,f,b){var S=d.tag;if(S===5||S===6)d=d.stateNode,f?b.nodeType===8?b.parentNode.insertBefore(d,f):b.insertBefore(d,f):(b.nodeType===8?(f=b.parentNode,f.insertBefore(d,b)):(f=b,f.appendChild(d)),b=b._reactRootContainer,b!=null||f.onclick!==null||(f.onclick=Eu));else if(S!==4&&(d=d.child,d!==null))for(Sb(d,f,b),d=d.sibling;d!==null;)Sb(d,f,b),d=d.sibling}function kb(d,f,b){var S=d.tag;if(S===5||S===6)d=d.stateNode,f?b.insertBefore(d,f):b.appendChild(d);else if(S!==4&&(d=d.child,d!==null))for(kb(d,f,b),d=d.sibling;d!==null;)kb(d,f,b),d=d.sibling}var wi=null,dl=!1;function Ru(d,f,b){for(b=b.child;b!==null;)I_(d,f,b),b=b.sibling}function I_(d,f,b){if(Ya&&typeof Ya.onCommitFiberUnmount=="function")try{Ya.onCommitFiberUnmount(yo,b)}catch{}switch(b.tag){case 5:Vi||sf(b,f);case 6:var S=wi,K=dl;wi=null,Ru(d,f,b),wi=S,dl=K,wi!==null&&(dl?(d=wi,b=b.stateNode,d.nodeType===8?d.parentNode.removeChild(b):d.removeChild(b)):wi.removeChild(b.stateNode));break;case 18:wi!==null&&(dl?(d=wi,b=b.stateNode,d.nodeType===8?Im(d.parentNode,b):d.nodeType===1&&Im(d,b),Li(d)):Im(wi,b.stateNode));break;case 4:S=wi,K=dl,wi=b.stateNode.containerInfo,dl=!0,Ru(d,f,b),wi=S,dl=K;break;case 0:case 11:case 14:case 15:if(!Vi&&(S=b.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){K=S=S.next;do{var Q=K,xe=Q.destroy;Q=Q.tag,xe!==void 0&&(Q&2||Q&4)&&Nb(b,f,xe),K=K.next}while(K!==S)}Ru(d,f,b);break;case 1:if(!Vi&&(sf(b,f),S=b.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=b.memoizedProps,S.state=b.memoizedState,S.componentWillUnmount()}catch(Fe){la(b,f,Fe)}Ru(d,f,b);break;case 21:Ru(d,f,b);break;case 22:b.mode&1?(Vi=(S=Vi)||b.memoizedState!==null,Ru(d,f,b),Vi=S):Ru(d,f,b);break;default:Ru(d,f,b)}}function M_(d){var f=d.updateQueue;if(f!==null){d.updateQueue=null;var b=d.stateNode;b===null&&(b=d.stateNode=new b9),f.forEach(function(S){var K=D9.bind(null,d,S);b.has(S)||(b.add(S),S.then(K,K))})}}function hl(d,f){var b=f.deletions;if(b!==null)for(var S=0;S<b.length;S++){var K=b[S];try{var Q=d,xe=f,Fe=xe;e:for(;Fe!==null;){switch(Fe.tag){case 5:wi=Fe.stateNode,dl=!1;break e;case 3:wi=Fe.stateNode.containerInfo,dl=!0;break e;case 4:wi=Fe.stateNode.containerInfo,dl=!0;break e}Fe=Fe.return}if(wi===null)throw Error(r(160));I_(Q,xe,K),wi=null,dl=!1;var Ke=K.alternate;Ke!==null&&(Ke.return=null),K.return=null}catch(dt){la(K,f,dt)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)R_(f,d),f=f.sibling}function R_(d,f){var b=d.alternate,S=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(hl(f,d),Kl(d),S&4){try{Hm(3,d,d.return),tg(3,d)}catch(or){la(d,d.return,or)}try{Hm(5,d,d.return)}catch(or){la(d,d.return,or)}}break;case 1:hl(f,d),Kl(d),S&512&&b!==null&&sf(b,b.return);break;case 5:if(hl(f,d),Kl(d),S&512&&b!==null&&sf(b,b.return),d.flags&32){var K=d.stateNode;try{Ge(K,"")}catch(or){la(d,d.return,or)}}if(S&4&&(K=d.stateNode,K!=null)){var Q=d.memoizedProps,xe=b!==null?b.memoizedProps:Q,Fe=d.type,Ke=d.updateQueue;if(d.updateQueue=null,Ke!==null)try{Fe==="input"&&Q.type==="radio"&&Q.name!=null&&Se(K,Q),Ne(Fe,xe);var dt=Ne(Fe,Q);for(xe=0;xe<Ke.length;xe+=2){var At=Ke[xe],Ot=Ke[xe+1];At==="style"?ht(K,Ot):At==="dangerouslySetInnerHTML"?Be(K,Ot):At==="children"?Ge(K,Ot):w(K,At,Ot,dt)}switch(Fe){case"input":Ee(K,Q);break;case"textarea":He(K,Q);break;case"select":var Et=K._wrapperState.wasMultiple;K._wrapperState.wasMultiple=!!Q.multiple;var Wt=Q.value;Wt!=null?me(K,!!Q.multiple,Wt,!1):Et!==!!Q.multiple&&(Q.defaultValue!=null?me(K,!!Q.multiple,Q.defaultValue,!0):me(K,!!Q.multiple,Q.multiple?[]:"",!1))}K[Du]=Q}catch(or){la(d,d.return,or)}}break;case 6:if(hl(f,d),Kl(d),S&4){if(d.stateNode===null)throw Error(r(162));K=d.stateNode,Q=d.memoizedProps;try{K.nodeValue=Q}catch(or){la(d,d.return,or)}}break;case 3:if(hl(f,d),Kl(d),S&4&&b!==null&&b.memoizedState.isDehydrated)try{Li(f.containerInfo)}catch(or){la(d,d.return,or)}break;case 4:hl(f,d),Kl(d);break;case 13:hl(f,d),Kl(d),K=d.child,K.flags&8192&&(Q=K.memoizedState!==null,K.stateNode.isHidden=Q,!Q||K.alternate!==null&&K.alternate.memoizedState!==null||(Eb=Nr())),S&4&&M_(d);break;case 22:if(At=b!==null&&b.memoizedState!==null,d.mode&1?(Vi=(dt=Vi)||At,hl(f,d),Vi=dt):hl(f,d),Kl(d),S&8192){if(dt=d.memoizedState!==null,(d.stateNode.isHidden=dt)&&!At&&d.mode&1)for(Jt=d,At=d.child;At!==null;){for(Ot=Jt=At;Jt!==null;){switch(Et=Jt,Wt=Et.child,Et.tag){case 0:case 11:case 14:case 15:Hm(4,Et,Et.return);break;case 1:sf(Et,Et.return);var rr=Et.stateNode;if(typeof rr.componentWillUnmount=="function"){S=Et,b=Et.return;try{f=S,rr.props=f.memoizedProps,rr.state=f.memoizedState,rr.componentWillUnmount()}catch(or){la(S,b,or)}}break;case 5:sf(Et,Et.return);break;case 22:if(Et.memoizedState!==null){$_(Ot);continue}}Wt!==null?(Wt.return=Et,Jt=Wt):$_(Ot)}At=At.sibling}e:for(At=null,Ot=d;;){if(Ot.tag===5){if(At===null){At=Ot;try{K=Ot.stateNode,dt?(Q=K.style,typeof Q.setProperty=="function"?Q.setProperty("display","none","important"):Q.display="none"):(Fe=Ot.stateNode,Ke=Ot.memoizedProps.style,xe=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null,Fe.style.display=oe("display",xe))}catch(or){la(d,d.return,or)}}}else if(Ot.tag===6){if(At===null)try{Ot.stateNode.nodeValue=dt?"":Ot.memoizedProps}catch(or){la(d,d.return,or)}}else if((Ot.tag!==22&&Ot.tag!==23||Ot.memoizedState===null||Ot===d)&&Ot.child!==null){Ot.child.return=Ot,Ot=Ot.child;continue}if(Ot===d)break e;for(;Ot.sibling===null;){if(Ot.return===null||Ot.return===d)break e;At===Ot&&(At=null),Ot=Ot.return}At===Ot&&(At=null),Ot.sibling.return=Ot.return,Ot=Ot.sibling}}break;case 19:hl(f,d),Kl(d),S&4&&M_(d);break;case 21:break;default:hl(f,d),Kl(d)}}function Kl(d){var f=d.flags;if(f&2){try{e:{for(var b=d.return;b!==null;){if(O_(b)){var S=b;break e}b=b.return}throw Error(r(160))}switch(S.tag){case 5:var K=S.stateNode;S.flags&32&&(Ge(K,""),S.flags&=-33);var Q=L_(d);kb(d,Q,K);break;case 3:case 4:var xe=S.stateNode.containerInfo,Fe=L_(d);Sb(d,Fe,xe);break;default:throw Error(r(161))}}catch(Ke){la(d,d.return,Ke)}d.flags&=-3}f&4096&&(d.flags&=-4097)}function j9(d,f,b){Jt=d,z_(d)}function z_(d,f,b){for(var S=(d.mode&1)!==0;Jt!==null;){var K=Jt,Q=K.child;if(K.tag===22&&S){var xe=K.memoizedState!==null||eg;if(!xe){var Fe=K.alternate,Ke=Fe!==null&&Fe.memoizedState!==null||Vi;Fe=eg;var dt=Vi;if(eg=xe,(Vi=Ke)&&!dt)for(Jt=K;Jt!==null;)xe=Jt,Ke=xe.child,xe.tag===22&&xe.memoizedState!==null?B_(K):Ke!==null?(Ke.return=xe,Jt=Ke):B_(K);for(;Q!==null;)Jt=Q,z_(Q),Q=Q.sibling;Jt=K,eg=Fe,Vi=dt}F_(d)}else K.subtreeFlags&8772&&Q!==null?(Q.return=K,Jt=Q):F_(d)}}function F_(d){for(;Jt!==null;){var f=Jt;if(f.flags&8772){var b=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:Vi||tg(5,f);break;case 1:var S=f.stateNode;if(f.flags&4&&!Vi)if(b===null)S.componentDidMount();else{var K=f.elementType===f.type?b.memoizedProps:ul(f.type,b.memoizedProps);S.componentDidUpdate(K,b.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var Q=f.updateQueue;Q!==null&&Ps(f,Q,S);break;case 3:var xe=f.updateQueue;if(xe!==null){if(b=null,f.child!==null)switch(f.child.tag){case 5:b=f.child.stateNode;break;case 1:b=f.child.stateNode}Ps(f,xe,b)}break;case 5:var Fe=f.stateNode;if(b===null&&f.flags&4){b=Fe;var Ke=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":Ke.autoFocus&&b.focus();break;case"img":Ke.src&&(b.src=Ke.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var dt=f.alternate;if(dt!==null){var At=dt.memoizedState;if(At!==null){var Ot=At.dehydrated;Ot!==null&&Li(Ot)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Vi||f.flags&512&&_b(f)}catch(Et){la(f,f.return,Et)}}if(f===d){Jt=null;break}if(b=f.sibling,b!==null){b.return=f.return,Jt=b;break}Jt=f.return}}function $_(d){for(;Jt!==null;){var f=Jt;if(f===d){Jt=null;break}var b=f.sibling;if(b!==null){b.return=f.return,Jt=b;break}Jt=f.return}}function B_(d){for(;Jt!==null;){var f=Jt;try{switch(f.tag){case 0:case 11:case 15:var b=f.return;try{tg(4,f)}catch(Ke){la(f,b,Ke)}break;case 1:var S=f.stateNode;if(typeof S.componentDidMount=="function"){var K=f.return;try{S.componentDidMount()}catch(Ke){la(f,K,Ke)}}var Q=f.return;try{_b(f)}catch(Ke){la(f,Q,Ke)}break;case 5:var xe=f.return;try{_b(f)}catch(Ke){la(f,xe,Ke)}}}catch(Ke){la(f,f.return,Ke)}if(f===d){Jt=null;break}var Fe=f.sibling;if(Fe!==null){Fe.return=f.return,Jt=Fe;break}Jt=f.return}}var N9=Math.ceil,rg=E.ReactCurrentDispatcher,Cb=E.ReactCurrentOwner,Oo=E.ReactCurrentBatchConfig,Wr=0,ti=null,Pa=null,ji=0,Zs=0,of=Ks(0),$a=0,Vm=null,Bd=0,ng=0,Pb=0,Wm=null,Ds=null,Eb=0,lf=1/0,Rc=null,ag=!1,Db=null,zu=null,ig=!1,Fu=null,sg=0,Km=0,Ab=null,og=-1,lg=0;function us(){return Wr&6?Nr():og!==-1?og:og=Nr()}function $u(d){return d.mode&1?Wr&2&&ji!==0?ji&-ji:Yn.transition!==null?(lg===0&&(lg=fc()),lg):(d=Lr,d!==0||(d=window.event,d=d===void 0?16:No(d.type)),d):1}function fl(d,f,b,S){if(50<Km)throw Km=0,Ab=null,Error(r(185));hi(d,b,S),(!(Wr&2)||d!==ti)&&(d===ti&&(!(Wr&2)&&(ng|=b),$a===4&&Bu(d,ji)),As(d,S),b===1&&Wr===0&&!(f.mode&1)&&(lf=Nr()+500,Rd&&te()))}function As(d,f){var b=d.callbackNode;Ur(d,f);var S=Oa(d,d===ti?ji:0);if(S===0)b!==null&&na(b),d.callbackNode=null,d.callbackPriority=0;else if(f=S&-S,d.callbackPriority!==f){if(b!=null&&na(b),f===1)d.tag===0?J(q_.bind(null,d)):C(q_.bind(null,d)),sb(function(){!(Wr&6)&&te()}),b=null;else{switch(ys(S)){case 1:b=ha;break;case 4:b=Wn;break;case 16:b=es;break;case 536870912:b=$s;break;default:b=es}b=J_(b,U_.bind(null,d))}d.callbackPriority=f,d.callbackNode=b}}function U_(d,f){if(og=-1,lg=0,Wr&6)throw Error(r(327));var b=d.callbackNode;if(cf()&&d.callbackNode!==b)return null;var S=Oa(d,d===ti?ji:0);if(S===0)return null;if(S&30||S&d.expiredLanes||f)f=cg(d,S);else{f=S;var K=Wr;Wr|=2;var Q=V_();(ti!==d||ji!==f)&&(Rc=null,lf=Nr()+500,qd(d,f));do try{k9();break}catch(Fe){H_(d,Fe)}while(!0);Hr(),rg.current=Q,Wr=K,Pa!==null?f=0:(ti=null,ji=0,f=$a)}if(f!==0){if(f===2&&(K=Zr(d),K!==0&&(S=K,f=Tb(d,K))),f===1)throw b=Vm,qd(d,0),Bu(d,S),As(d,Nr()),b;if(f===6)Bu(d,S);else{if(K=d.current.alternate,!(S&30)&&!_9(K)&&(f=cg(d,S),f===2&&(Q=Zr(d),Q!==0&&(S=Q,f=Tb(d,Q))),f===1))throw b=Vm,qd(d,0),Bu(d,S),As(d,Nr()),b;switch(d.finishedWork=K,d.finishedLanes=S,f){case 0:case 1:throw Error(r(345));case 2:Hd(d,Ds,Rc);break;case 3:if(Bu(d,S),(S&130023424)===S&&(f=Eb+500-Nr(),10<f)){if(Oa(d,0)!==0)break;if(K=d.suspendedLanes,(K&S)!==S){us(),d.pingedLanes|=d.suspendedLanes&K;break}d.timeoutHandle=Lm(Hd.bind(null,d,Ds,Rc),f);break}Hd(d,Ds,Rc);break;case 4:if(Bu(d,S),(S&4194240)===S)break;for(f=d.eventTimes,K=-1;0<S;){var xe=31-Rr(S);Q=1<<xe,xe=f[xe],xe>K&&(K=xe),S&=~Q}if(S=K,S=Nr()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*N9(S/1960))-S,10<S){d.timeoutHandle=Lm(Hd.bind(null,d,Ds,Rc),S);break}Hd(d,Ds,Rc);break;case 5:Hd(d,Ds,Rc);break;default:throw Error(r(329))}}}return As(d,Nr()),d.callbackNode===b?U_.bind(null,d):null}function Tb(d,f){var b=Wm;return d.current.memoizedState.isDehydrated&&(qd(d,f).flags|=256),d=cg(d,f),d!==2&&(f=Ds,Ds=b,f!==null&&Ob(f)),d}function Ob(d){Ds===null?Ds=d:Ds.push.apply(Ds,d)}function _9(d){for(var f=d;;){if(f.flags&16384){var b=f.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var S=0;S<b.length;S++){var K=b[S],Q=K.getSnapshot;K=K.value;try{if(!zn(Q(),K))return!1}catch{return!1}}}if(b=f.child,f.subtreeFlags&16384&&b!==null)b.return=f,f=b;else{if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Bu(d,f){for(f&=~Pb,f&=~ng,d.suspendedLanes|=f,d.pingedLanes&=~f,d=d.expirationTimes;0<f;){var b=31-Rr(f),S=1<<b;d[b]=-1,f&=~S}}function q_(d){if(Wr&6)throw Error(r(327));cf();var f=Oa(d,0);if(!(f&1))return As(d,Nr()),null;var b=cg(d,f);if(d.tag!==0&&b===2){var S=Zr(d);S!==0&&(f=S,b=Tb(d,S))}if(b===1)throw b=Vm,qd(d,0),Bu(d,f),As(d,Nr()),b;if(b===6)throw Error(r(345));return d.finishedWork=d.current.alternate,d.finishedLanes=f,Hd(d,Ds,Rc),As(d,Nr()),null}function Lb(d,f){var b=Wr;Wr|=1;try{return d(f)}finally{Wr=b,Wr===0&&(lf=Nr()+500,Rd&&te())}}function Ud(d){Fu!==null&&Fu.tag===0&&!(Wr&6)&&cf();var f=Wr;Wr|=1;var b=Oo.transition,S=Lr;try{if(Oo.transition=null,Lr=1,d)return d()}finally{Lr=S,Oo.transition=b,Wr=f,!(Wr&6)&&te()}}function Ib(){Zs=of.current,Xr(of)}function qd(d,f){d.finishedWork=null,d.finishedLanes=0;var b=d.timeoutHandle;if(b!==-1&&(d.timeoutHandle=-1,B0(b)),Pa!==null)for(b=Pa.return;b!==null;){var S=b;switch(ot(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Gh();break;case 3:Do(),Xr(Bi),Xr(za),$m();break;case 5:zm(S);break;case 4:Do();break;case 13:Xr(gn);break;case 19:Xr(gn);break;case 10:bn(S.type._context);break;case 22:case 23:Ib()}b=b.return}if(ti=d,Pa=d=Uu(d.current,null),ji=Zs=f,$a=0,Vm=null,Pb=ng=Bd=0,Ds=Wm=null,nn!==null){for(f=0;f<nn.length;f++)if(b=nn[f],S=b.interleaved,S!==null){b.interleaved=null;var K=S.next,Q=b.pending;if(Q!==null){var xe=Q.next;Q.next=K,S.next=xe}b.pending=S}nn=null}return d}function H_(d,f){do{var b=Pa;try{if(Hr(),Yh.current=X0,Lu){for(var S=wn.memoizedState;S!==null;){var K=S.queue;K!==null&&(K.pending=null),S=S.next}Lu=!1}if(Ao=0,Qn=oa=wn=null,ll=!1,Iu=0,Cb.current=null,b===null||b.return===null){$a=1,Vm=f,Pa=null;break}e:{var Q=d,xe=b.return,Fe=b,Ke=f;if(f=ji,Fe.flags|=32768,Ke!==null&&typeof Ke=="object"&&typeof Ke.then=="function"){var dt=Ke,At=Fe,Ot=At.tag;if(!(At.mode&1)&&(Ot===0||Ot===11||Ot===15)){var Et=At.alternate;Et?(At.updateQueue=Et.updateQueue,At.memoizedState=Et.memoizedState,At.lanes=Et.lanes):(At.updateQueue=null,At.memoizedState=null)}var Wt=p_(xe);if(Wt!==null){Wt.flags&=-257,g_(Wt,xe,Fe,Q,f),Wt.mode&1&&m_(Q,dt,f),f=Wt,Ke=dt;var rr=f.updateQueue;if(rr===null){var or=new Set;or.add(Ke),f.updateQueue=or}else rr.add(Ke);break e}else{if(!(f&1)){m_(Q,dt,f),Mb();break e}Ke=Error(r(426))}}else if(_t&&Fe.mode&1){var ga=p_(xe);if(ga!==null){!(ga.flags&65536)&&(ga.flags|=256),g_(ga,xe,Fe,Q,f),Bt(af(Ke,Fe));break e}}Q=Ke=af(Ke,Fe),$a!==4&&($a=2),Wm===null?Wm=[Q]:Wm.push(Q),Q=xe;do{switch(Q.tag){case 3:Q.flags|=65536,f&=-f,Q.lanes|=f;var st=h_(Q,Ke,f);sn(Q,st);break e;case 1:Fe=Ke;var Je=Q.type,ct=Q.stateNode;if(!(Q.flags&128)&&(typeof Je.getDerivedStateFromError=="function"||ct!==null&&typeof ct.componentDidCatch=="function"&&(zu===null||!zu.has(ct)))){Q.flags|=65536,f&=-f,Q.lanes|=f;var Ft=f_(Q,Fe,f);sn(Q,Ft);break e}}Q=Q.return}while(Q!==null)}K_(b)}catch(cr){f=cr,Pa===b&&b!==null&&(Pa=b=b.return);continue}break}while(!0)}function V_(){var d=rg.current;return rg.current=X0,d===null?X0:d}function Mb(){($a===0||$a===3||$a===2)&&($a=4),ti===null||!(Bd&268435455)&&!(ng&268435455)||Bu(ti,ji)}function cg(d,f){var b=Wr;Wr|=2;var S=V_();(ti!==d||ji!==f)&&(Rc=null,qd(d,f));do try{S9();break}catch(K){H_(d,K)}while(!0);if(Hr(),Wr=b,rg.current=S,Pa!==null)throw Error(r(261));return ti=null,ji=0,$a}function S9(){for(;Pa!==null;)W_(Pa)}function k9(){for(;Pa!==null&&!hc();)W_(Pa)}function W_(d){var f=X_(d.alternate,d,Zs);d.memoizedProps=d.pendingProps,f===null?K_(d):Pa=f,Cb.current=null}function K_(d){var f=d;do{var b=f.alternate;if(d=f.return,f.flags&32768){if(b=y9(b,f),b!==null){b.flags&=32767,Pa=b;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{$a=6,Pa=null;return}}else if(b=v9(b,f,Zs),b!==null){Pa=b;return}if(f=f.sibling,f!==null){Pa=f;return}Pa=f=d}while(f!==null);$a===0&&($a=5)}function Hd(d,f,b){var S=Lr,K=Oo.transition;try{Oo.transition=null,Lr=1,C9(d,f,b,S)}finally{Oo.transition=K,Lr=S}return null}function C9(d,f,b,S){do cf();while(Fu!==null);if(Wr&6)throw Error(r(327));b=d.finishedWork;var K=d.finishedLanes;if(b===null)return null;if(d.finishedWork=null,d.finishedLanes=0,b===d.current)throw Error(r(177));d.callbackNode=null,d.callbackPriority=0;var Q=b.lanes|b.childLanes;if(fi(d,Q),d===ti&&(Pa=ti=null,ji=0),!(b.subtreeFlags&2064)&&!(b.flags&2064)||ig||(ig=!0,J_(es,function(){return cf(),null})),Q=(b.flags&15990)!==0,b.subtreeFlags&15990||Q){Q=Oo.transition,Oo.transition=null;var xe=Lr;Lr=1;var Fe=Wr;Wr|=4,Cb.current=null,w9(d,b),R_(b,d),Cd(Ac),jo=!!Id,Ac=Id=null,d.current=b,j9(b),wd(),Wr=Fe,Lr=xe,Oo.transition=Q}else d.current=b;if(ig&&(ig=!1,Fu=d,sg=K),Q=d.pendingLanes,Q===0&&(zu=null),vu(b.stateNode),As(d,Nr()),f!==null)for(S=d.onRecoverableError,b=0;b<f.length;b++)K=f[b],S(K.value,{componentStack:K.stack,digest:K.digest});if(ag)throw ag=!1,d=Db,Db=null,d;return sg&1&&d.tag!==0&&cf(),Q=d.pendingLanes,Q&1?d===Ab?Km++:(Km=0,Ab=d):Km=0,te(),null}function cf(){if(Fu!==null){var d=ys(sg),f=Oo.transition,b=Lr;try{if(Oo.transition=null,Lr=16>d?16:d,Fu===null)var S=!1;else{if(d=Fu,Fu=null,sg=0,Wr&6)throw Error(r(331));var K=Wr;for(Wr|=4,Jt=d.current;Jt!==null;){var Q=Jt,xe=Q.child;if(Jt.flags&16){var Fe=Q.deletions;if(Fe!==null){for(var Ke=0;Ke<Fe.length;Ke++){var dt=Fe[Ke];for(Jt=dt;Jt!==null;){var At=Jt;switch(At.tag){case 0:case 11:case 15:Hm(8,At,Q)}var Ot=At.child;if(Ot!==null)Ot.return=At,Jt=Ot;else for(;Jt!==null;){At=Jt;var Et=At.sibling,Wt=At.return;if(T_(At),At===dt){Jt=null;break}if(Et!==null){Et.return=Wt,Jt=Et;break}Jt=Wt}}}var rr=Q.alternate;if(rr!==null){var or=rr.child;if(or!==null){rr.child=null;do{var ga=or.sibling;or.sibling=null,or=ga}while(or!==null)}}Jt=Q}}if(Q.subtreeFlags&2064&&xe!==null)xe.return=Q,Jt=xe;else e:for(;Jt!==null;){if(Q=Jt,Q.flags&2048)switch(Q.tag){case 0:case 11:case 15:Hm(9,Q,Q.return)}var st=Q.sibling;if(st!==null){st.return=Q.return,Jt=st;break e}Jt=Q.return}}var Je=d.current;for(Jt=Je;Jt!==null;){xe=Jt;var ct=xe.child;if(xe.subtreeFlags&2064&&ct!==null)ct.return=xe,Jt=ct;else e:for(xe=Je;Jt!==null;){if(Fe=Jt,Fe.flags&2048)try{switch(Fe.tag){case 0:case 11:case 15:tg(9,Fe)}}catch(cr){la(Fe,Fe.return,cr)}if(Fe===xe){Jt=null;break e}var Ft=Fe.sibling;if(Ft!==null){Ft.return=Fe.return,Jt=Ft;break e}Jt=Fe.return}}if(Wr=K,te(),Ya&&typeof Ya.onPostCommitFiberRoot=="function")try{Ya.onPostCommitFiberRoot(yo,d)}catch{}S=!0}return S}finally{Lr=b,Oo.transition=f}}return!1}function G_(d,f,b){f=af(b,f),f=h_(d,f,1),d=Jn(d,f,1),f=us(),d!==null&&(hi(d,1,f),As(d,f))}function la(d,f,b){if(d.tag===3)G_(d,d,b);else for(;f!==null;){if(f.tag===3){G_(f,d,b);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(zu===null||!zu.has(S))){d=af(b,d),d=f_(f,d,1),f=Jn(f,d,1),d=us(),f!==null&&(hi(f,1,d),As(f,d));break}}f=f.return}}function P9(d,f,b){var S=d.pingCache;S!==null&&S.delete(f),f=us(),d.pingedLanes|=d.suspendedLanes&b,ti===d&&(ji&b)===b&&($a===4||$a===3&&(ji&130023424)===ji&&500>Nr()-Eb?qd(d,0):Pb|=b),As(d,f)}function Y_(d,f){f===0&&(d.mode&1?(f=In,In<<=1,!(In&130023424)&&(In=4194304)):f=1);var b=us();d=an(d,f),d!==null&&(hi(d,f,b),As(d,b))}function E9(d){var f=d.memoizedState,b=0;f!==null&&(b=f.retryLane),Y_(d,b)}function D9(d,f){var b=0;switch(d.tag){case 13:var S=d.stateNode,K=d.memoizedState;K!==null&&(b=K.retryLane);break;case 19:S=d.stateNode;break;default:throw Error(r(314))}S!==null&&S.delete(f),Y_(d,b)}var X_;X_=function(d,f,b){if(d!==null)if(d.memoizedProps!==f.pendingProps||Bi.current)Es=!0;else{if(!(d.lanes&b)&&!(f.flags&128))return Es=!1,x9(d,f,b);Es=!!(d.flags&131072)}else Es=!1,_t&&f.flags&1048576&&tt(f,_e,f.index);switch(f.lanes=0,f.tag){case 2:var S=f.type;Q0(d,f),d=f.pendingProps;var K=Tu(f,za.current);Bn(f,b),K=zd(null,f,S,d,K,b);var Q=To();return f.flags|=1,typeof K=="object"&&K!==null&&typeof K.render=="function"&&K.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Ui(S)?(Q=!0,Lc(f)):Q=!1,f.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,Fa(f),K.updater=J0,f.stateNode=K,K._reactInternals=f,fb(f,S,d,b),f=xb(null,f,S,!0,Q,b)):(f.tag=0,_t&&Q&&bt(f),cs(null,f,K,b),f=f.child),f;case 16:S=f.elementType;e:{switch(Q0(d,f),d=f.pendingProps,K=S._init,S=K(S._payload),f.type=S,K=f.tag=T9(S),d=ul(S,d),K){case 0:f=gb(null,f,S,d,b);break e;case 1:f=j_(null,f,S,d,b);break e;case 11:f=x_(null,f,S,d,b);break e;case 14:f=v_(null,f,S,ul(S.type,d),b);break e}throw Error(r(306,S,""))}return f;case 0:return S=f.type,K=f.pendingProps,K=f.elementType===S?K:ul(S,K),gb(d,f,S,K,b);case 1:return S=f.type,K=f.pendingProps,K=f.elementType===S?K:ul(S,K),j_(d,f,S,K,b);case 3:e:{if(N_(f),d===null)throw Error(r(387));S=f.pendingProps,Q=f.memoizedState,K=Q.element,qi(d,f),ei(f,S,null,b);var xe=f.memoizedState;if(S=xe.element,Q.isDehydrated)if(Q={element:S,isDehydrated:!1,cache:xe.cache,pendingSuspenseBoundaries:xe.pendingSuspenseBoundaries,transitions:xe.transitions},f.updateQueue.baseState=Q,f.memoizedState=Q,f.flags&256){K=af(Error(r(423)),f),f=__(d,f,S,b,K);break e}else if(S!==K){K=af(Error(r(424)),f),f=__(d,f,S,b,K);break e}else for(xt=bi(f.stateNode.containerInfo.firstChild),mt=f,_t=!0,Ct=null,b=Cn(f,null,S,b),f.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Yt(),S===K){f=Mc(d,f,b);break e}cs(d,f,S,b)}f=f.child}return f;case 5:return V0(f),d===null&&Qt(f),S=f.type,K=f.pendingProps,Q=d!==null?d.memoizedProps:null,xe=K.children,Om(S,K)?xe=null:Q!==null&&Om(S,Q)&&(f.flags|=32),w_(d,f),cs(d,f,xe,b),f.child;case 6:return d===null&&Qt(f),null;case 13:return S_(d,f,b);case 4:return Ou(f,f.stateNode.containerInfo),S=f.pendingProps,d===null?f.child=ia(f,null,S,b):cs(d,f,S,b),f.child;case 11:return S=f.type,K=f.pendingProps,K=f.elementType===S?K:ul(S,K),x_(d,f,S,K,b);case 7:return cs(d,f,f.pendingProps,b),f.child;case 8:return cs(d,f,f.pendingProps.children,b),f.child;case 12:return cs(d,f,f.pendingProps.children,b),f.child;case 10:e:{if(S=f.type._context,K=f.pendingProps,Q=f.memoizedProps,xe=K.value,en(ma,S._currentValue),S._currentValue=xe,Q!==null)if(zn(Q.value,xe)){if(Q.children===K.children&&!Bi.current){f=Mc(d,f,b);break e}}else for(Q=f.child,Q!==null&&(Q.return=f);Q!==null;){var Fe=Q.dependencies;if(Fe!==null){xe=Q.child;for(var Ke=Fe.firstContext;Ke!==null;){if(Ke.context===S){if(Q.tag===1){Ke=Xn(-1,b&-b),Ke.tag=2;var dt=Q.updateQueue;if(dt!==null){dt=dt.shared;var At=dt.pending;At===null?Ke.next=Ke:(Ke.next=At.next,At.next=Ke),dt.pending=Ke}}Q.lanes|=b,Ke=Q.alternate,Ke!==null&&(Ke.lanes|=b),Vr(Q.return,b,f),Fe.lanes|=b;break}Ke=Ke.next}}else if(Q.tag===10)xe=Q.type===f.type?null:Q.child;else if(Q.tag===18){if(xe=Q.return,xe===null)throw Error(r(341));xe.lanes|=b,Fe=xe.alternate,Fe!==null&&(Fe.lanes|=b),Vr(xe,b,f),xe=Q.sibling}else xe=Q.child;if(xe!==null)xe.return=Q;else for(xe=Q;xe!==null;){if(xe===f){xe=null;break}if(Q=xe.sibling,Q!==null){Q.return=xe.return,xe=Q;break}xe=xe.return}Q=xe}cs(d,f,K.children,b),f=f.child}return f;case 9:return K=f.type,S=f.pendingProps.children,Bn(f,b),K=Un(K),S=S(K),f.flags|=1,cs(d,f,S,b),f.child;case 14:return S=f.type,K=ul(S,f.pendingProps),K=ul(S.type,K),v_(d,f,S,K,b);case 15:return y_(d,f,f.type,f.pendingProps,b);case 17:return S=f.type,K=f.pendingProps,K=f.elementType===S?K:ul(S,K),Q0(d,f),f.tag=1,Ui(S)?(d=!0,Lc(f)):d=!1,Bn(f,b),u_(f,S,K),fb(f,S,K,b),xb(null,f,S,!0,d,b);case 19:return C_(d,f,b);case 22:return b_(d,f,b)}throw Error(r(156,f.tag))};function J_(d,f){return Di(d,f)}function A9(d,f,b,S){this.tag=d,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lo(d,f,b,S){return new A9(d,f,b,S)}function Rb(d){return d=d.prototype,!(!d||!d.isReactComponent)}function T9(d){if(typeof d=="function")return Rb(d)?1:0;if(d!=null){if(d=d.$$typeof,d===R)return 11;if(d===W)return 14}return 2}function Uu(d,f){var b=d.alternate;return b===null?(b=Lo(d.tag,f,d.key,d.mode),b.elementType=d.elementType,b.type=d.type,b.stateNode=d.stateNode,b.alternate=d,d.alternate=b):(b.pendingProps=f,b.type=d.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=d.flags&14680064,b.childLanes=d.childLanes,b.lanes=d.lanes,b.child=d.child,b.memoizedProps=d.memoizedProps,b.memoizedState=d.memoizedState,b.updateQueue=d.updateQueue,f=d.dependencies,b.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},b.sibling=d.sibling,b.index=d.index,b.ref=d.ref,b}function ug(d,f,b,S,K,Q){var xe=2;if(S=d,typeof d=="function")Rb(d)&&(xe=1);else if(typeof d=="string")xe=5;else e:switch(d){case Y:return Vd(b.children,K,Q,f);case B:xe=8,K|=8;break;case $:return d=Lo(12,b,f,K|2),d.elementType=$,d.lanes=Q,d;case L:return d=Lo(13,b,f,K),d.elementType=L,d.lanes=Q,d;case q:return d=Lo(19,b,f,K),d.elementType=q,d.lanes=Q,d;case M:return dg(b,K,Q,f);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case T:xe=10;break e;case A:xe=9;break e;case R:xe=11;break e;case W:xe=14;break e;case ee:xe=16,S=null;break e}throw Error(r(130,d==null?d:typeof d,""))}return f=Lo(xe,b,f,K),f.elementType=d,f.type=S,f.lanes=Q,f}function Vd(d,f,b,S){return d=Lo(7,d,S,f),d.lanes=b,d}function dg(d,f,b,S){return d=Lo(22,d,S,f),d.elementType=M,d.lanes=b,d.stateNode={isHidden:!1},d}function zb(d,f,b){return d=Lo(6,d,null,f),d.lanes=b,d}function Fb(d,f,b){return f=Lo(4,d.children!==null?d.children:[],d.key,f),f.lanes=b,f.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},f}function O9(d,f,b,S,K){this.tag=f,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dl(0),this.expirationTimes=Dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.identifierPrefix=S,this.onRecoverableError=K,this.mutableSourceEagerHydrationData=null}function $b(d,f,b,S,K,Q,xe,Fe,Ke){return d=new O9(d,f,b,Fe,Ke),f===1?(f=1,Q===!0&&(f|=8)):f=0,Q=Lo(3,null,null,f),d.current=Q,Q.stateNode=d,Q.memoizedState={element:S,isDehydrated:b,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fa(Q),d}function L9(d,f,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:S==null?null:""+S,children:d,containerInfo:f,implementation:b}}function Z_(d){if(!d)return Hl;d=d._reactInternals;e:{if(Xt(d)!==d||d.tag!==1)throw Error(r(170));var f=d;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Ui(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(r(171))}if(d.tag===1){var b=d.type;if(Ui(b))return Rm(d,b,f)}return f}function Q_(d,f,b,S,K,Q,xe,Fe,Ke){return d=$b(b,S,!0,d,K,Q,xe,Fe,Ke),d.context=Z_(null),b=d.current,S=us(),K=$u(b),Q=Xn(S,K),Q.callback=f??null,Jn(b,Q,K),d.current.lanes=K,hi(d,K,S),As(d,S),d}function hg(d,f,b,S){var K=f.current,Q=us(),xe=$u(K);return b=Z_(b),f.context===null?f.context=b:f.pendingContext=b,f=Xn(Q,xe),f.payload={element:d},S=S===void 0?null:S,S!==null&&(f.callback=S),d=Jn(K,f,xe),d!==null&&(fl(d,K,xe,Q),Qa(d,K,xe)),xe}function fg(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function eS(d,f){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var b=d.retryLane;d.retryLane=b!==0&&b<f?b:f}}function Bb(d,f){eS(d,f),(d=d.alternate)&&eS(d,f)}function I9(){return null}var tS=typeof reportError=="function"?reportError:function(d){console.error(d)};function Ub(d){this._internalRoot=d}mg.prototype.render=Ub.prototype.render=function(d){var f=this._internalRoot;if(f===null)throw Error(r(409));hg(d,f,null,null)},mg.prototype.unmount=Ub.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var f=d.containerInfo;Ud(function(){hg(null,d,null,null)}),f[Ja]=null}};function mg(d){this._internalRoot=d}mg.prototype.unstable_scheduleHydration=function(d){if(d){var f=Us();d={blockedOn:null,target:d,priority:f};for(var b=0;b<ws.length&&f!==0&&f<ws[b].priority;b++);ws.splice(b,0,d),b===0&&mc(d)}};function qb(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function pg(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function rS(){}function M9(d,f,b,S,K){if(K){if(typeof S=="function"){var Q=S;S=function(){var dt=fg(xe);Q.call(dt)}}var xe=Q_(f,S,d,0,null,!1,!1,"",rS);return d._reactRootContainer=xe,d[Ja]=xe.current,Ec(d.nodeType===8?d.parentNode:d),Ud(),xe}for(;K=d.lastChild;)d.removeChild(K);if(typeof S=="function"){var Fe=S;S=function(){var dt=fg(Ke);Fe.call(dt)}}var Ke=$b(d,0,!1,null,null,!1,!1,"",rS);return d._reactRootContainer=Ke,d[Ja]=Ke.current,Ec(d.nodeType===8?d.parentNode:d),Ud(function(){hg(f,Ke,b,S)}),Ke}function gg(d,f,b,S,K){var Q=b._reactRootContainer;if(Q){var xe=Q;if(typeof K=="function"){var Fe=K;K=function(){var Ke=fg(xe);Fe.call(Ke)}}hg(f,xe,d,K)}else xe=M9(b,f,d,K,S);return fg(xe)}Oi=function(d){switch(d.tag){case 3:var f=d.stateNode;if(f.current.memoizedState.isDehydrated){var b=Ti(f.pendingLanes);b!==0&&(Bs(f,b|1),As(f,Nr()),!(Wr&6)&&(lf=Nr()+500,te()))}break;case 13:Ud(function(){var S=an(d,1);if(S!==null){var K=us();fl(S,d,1,K)}}),Bb(d,1)}},bo=function(d){if(d.tag===13){var f=an(d,134217728);if(f!==null){var b=us();fl(f,d,134217728,b)}Bb(d,134217728)}},bs=function(d){if(d.tag===13){var f=$u(d),b=an(d,f);if(b!==null){var S=us();fl(b,d,f,S)}Bb(d,f)}},Us=function(){return Lr},mi=function(d,f){var b=Lr;try{return Lr=d,f()}finally{Lr=b}},Ve=function(d,f,b){switch(f){case"input":if(Ee(d,b),f=b.name,b.type==="radio"&&f!=null){for(b=d;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<b.length;f++){var S=b[f];if(S!==d&&S.form===d.form){var K=Md(S);if(!K)throw Error(r(90));pe(S),Ee(S,K)}}}break;case"textarea":He(d,b);break;case"select":f=b.value,f!=null&&me(d,!!b.multiple,f,!1)}},Ye=Lb,lt=Ud;var R9={usingClientEntryPoint:!1,Events:[Au,Tc,Md,De,$e,Lb]},Gm={findFiberByHostInstance:ql,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z9={bundleType:Gm.bundleType,version:Gm.version,rendererPackageName:Gm.rendererPackageName,rendererConfig:Gm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=mn(d),d===null?null:d.stateNode},findFiberByHostInstance:Gm.findFiberByHostInstance||I9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xg.isDisabled&&xg.supportsFiber)try{yo=xg.inject(z9),Ya=xg}catch{}}return Ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R9,Ts.createPortal=function(d,f){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qb(f))throw Error(r(200));return L9(d,f,null,b)},Ts.createRoot=function(d,f){if(!qb(d))throw Error(r(299));var b=!1,S="",K=tS;return f!=null&&(f.unstable_strictMode===!0&&(b=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onRecoverableError!==void 0&&(K=f.onRecoverableError)),f=$b(d,1,!1,null,null,b,!1,S,K),d[Ja]=f.current,Ec(d.nodeType===8?d.parentNode:d),new Ub(f)},Ts.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var f=d._reactInternals;if(f===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=mn(f),d=d===null?null:d.stateNode,d},Ts.flushSync=function(d){return Ud(d)},Ts.hydrate=function(d,f,b){if(!pg(f))throw Error(r(200));return gg(null,d,f,!0,b)},Ts.hydrateRoot=function(d,f,b){if(!qb(d))throw Error(r(405));var S=b!=null&&b.hydratedSources||null,K=!1,Q="",xe=tS;if(b!=null&&(b.unstable_strictMode===!0&&(K=!0),b.identifierPrefix!==void 0&&(Q=b.identifierPrefix),b.onRecoverableError!==void 0&&(xe=b.onRecoverableError)),f=Q_(f,null,d,1,b??null,K,!1,Q,xe),d[Ja]=f.current,Ec(d),S)for(d=0;d<S.length;d++)b=S[d],K=b._getVersion,K=K(b._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[b,K]:f.mutableSourceEagerHydrationData.push(b,K);return new mg(f)},Ts.render=function(d,f,b){if(!pg(f))throw Error(r(200));return gg(null,d,f,!1,b)},Ts.unmountComponentAtNode=function(d){if(!pg(d))throw Error(r(40));return d._reactRootContainer?(Ud(function(){gg(null,null,d,!1,function(){d._reactRootContainer=null,d[Ja]=null})}),!0):!1},Ts.unstable_batchedUpdates=Lb,Ts.unstable_renderSubtreeIntoContainer=function(d,f,b,S){if(!pg(b))throw Error(r(200));if(d==null||d._reactInternals===void 0)throw Error(r(38));return gg(d,f,b,!1,S)},Ts.version="18.3.1-next-f1338f8080-20240426",Ts}var uS;function tA(){if(uS)return Wb.exports;uS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Wb.exports=G9(),Wb.exports}var dS;function Y9(){if(dS)return yg;dS=1;var e=tA();return yg.createRoot=e.createRoot,yg.hydrateRoot=e.hydrateRoot,yg}var X9=Y9();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hS="popstate";function J9(e={}){function t(n,i){let{pathname:s,search:o,hash:l}=n.location;return D2("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Lp(i)}return Q9(t,r,null,e)}function Vn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Uo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Z9(){return Math.random().toString(36).substring(2,10)}function fS(e,t){return{usr:e.state,key:e.key,idx:t}}function D2(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?lm(t):t,state:r,key:t&&t.key||n||Z9()}}function Lp({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function lm(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Q9(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l="POP",c=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function m(){l="POP";let g=h(),j=g==null?null:g-u;u=g,c&&c({action:l,location:y.location,delta:j})}function x(g,j){l="PUSH";let k=D2(y.location,g,j);u=h()+1;let w=fS(k,u),E=y.createHref(k);try{o.pushState(w,"",E)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(E)}s&&c&&c({action:l,location:y.location,delta:1})}function p(g,j){l="REPLACE";let k=D2(y.location,g,j);u=h();let w=fS(k,u),E=y.createHref(k);o.replaceState(w,"",E),s&&c&&c({action:l,location:y.location,delta:0})}function v(g){return ez(g)}let y={get action(){return l},get location(){return e(i,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(hS,m),c=g,()=>{i.removeEventListener(hS,m),c=null}},createHref(g){return t(i,g)},createURL:v,encodeLocation(g){let j=v(g);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:p,go(g){return o.go(g)}};return y}function ez(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Vn(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Lp(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function rA(e,t,r="/"){return tz(e,t,r,!1)}function tz(e,t,r,n){let i=typeof t=="string"?lm(t):t,s=Qc(i.pathname||"/",r);if(s==null)return null;let o=nA(e);rz(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=fz(s);l=dz(o[c],u,n)}return l}function nA(e,t=[],r=[],n="",i=!1){let s=(o,l,c=i,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&c)return;Vn(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let m=Gc([n,h.relativePath]),x=r.concat(h);o.children&&o.children.length>0&&(Vn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),nA(o.children,t,x,m,c)),!(o.path==null&&!o.index)&&t.push({path:m,score:cz(m,o.index),routesMeta:x})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let u of aA(o.path))s(o,l,!0,u)}),t}function aA(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=aA(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function rz(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:uz(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var nz=/^:[\w-]+$/,az=3,iz=2,sz=1,oz=10,lz=-2,mS=e=>e==="*";function cz(e,t){let r=e.split("/"),n=r.length;return r.some(mS)&&(n+=lz),t&&(n+=iz),r.filter(i=>!mS(i)).reduce((i,s)=>i+(nz.test(s)?az:s===""?sz:oz),n)}function uz(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function dz(e,t,r=!1){let{routesMeta:n}=e,i={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,h=s==="/"?t:t.slice(s.length)||"/",m=Ex({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),x=c.route;if(!m&&u&&r&&!n[n.length-1].route.index&&(m=Ex({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Gc([s,m.pathname]),pathnameBase:xz(Gc([s,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(s=Gc([s,m.pathnameBase]))}return o}function Ex(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=hz(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,{paramName:h,isOptional:m},x)=>{if(h==="*"){let v=l[x]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const p=l[x];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function hz(e,t=!1,r=!0){Uo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function fz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Uo(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Qc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function mz(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?lm(e):e;return{pathname:r?r.startsWith("/")?r:pz(r,t):t,search:vz(n),hash:yz(i)}}function pz(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Yb(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gz(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Sj(e){let t=gz(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function kj(e,t,r,n=!1){let i;typeof e=="string"?i=lm(e):(i={...e},Vn(!i.pathname||!i.pathname.includes("?"),Yb("?","pathname","search",i)),Vn(!i.pathname||!i.pathname.includes("#"),Yb("#","pathname","hash",i)),Vn(!i.search||!i.search.includes("#"),Yb("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),m-=1;i.pathname=x.join("/")}l=m>=0?t[m]:"/"}let c=mz(i,l),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}var Gc=e=>e.join("/").replace(/\/\/+/g,"/"),xz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var iA=["POST","PUT","PATCH","DELETE"];new Set(iA);var wz=["GET",...iA];new Set(wz);var cm=_.createContext(null);cm.displayName="DataRouter";var Yv=_.createContext(null);Yv.displayName="DataRouterState";_.createContext(!1);var sA=_.createContext({isTransitioning:!1});sA.displayName="ViewTransition";var jz=_.createContext(new Map);jz.displayName="Fetchers";var Nz=_.createContext(null);Nz.displayName="Await";var Sl=_.createContext(null);Sl.displayName="Navigation";var d0=_.createContext(null);d0.displayName="Location";var kl=_.createContext({outlet:null,matches:[],isDataRoute:!1});kl.displayName="Route";var Cj=_.createContext(null);Cj.displayName="RouteError";function _z(e,{relative:t}={}){Vn(um(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=_.useContext(Sl),{hash:i,pathname:s,search:o}=h0(e,{relative:t}),l=s;return r!=="/"&&(l=s==="/"?r:Gc([r,s])),n.createHref({pathname:l,search:o,hash:i})}function um(){return _.useContext(d0)!=null}function go(){return Vn(um(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(d0).location}var oA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lA(e){_.useContext(Sl).static||_.useLayoutEffect(e)}function kn(){let{isDataRoute:e}=_.useContext(kl);return e?zz():Sz()}function Sz(){Vn(um(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(cm),{basename:t,navigator:r}=_.useContext(Sl),{matches:n}=_.useContext(kl),{pathname:i}=go(),s=JSON.stringify(Sj(n)),o=_.useRef(!1);return lA(()=>{o.current=!0}),_.useCallback((c,u={})=>{if(Uo(o.current,oA),!o.current)return;if(typeof c=="number"){r.go(c);return}let h=kj(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Gc([t,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[t,r,s,i,e])}_.createContext(null);function kz(){let{matches:e}=_.useContext(kl),t=e[e.length-1];return t?t.params:{}}function h0(e,{relative:t}={}){let{matches:r}=_.useContext(kl),{pathname:n}=go(),i=JSON.stringify(Sj(r));return _.useMemo(()=>kj(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function Cz(e,t){return cA(e,t)}function cA(e,t,r,n,i){var k;Vn(um(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=_.useContext(Sl),{matches:o}=_.useContext(kl),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let w=m&&m.path||"";uA(u,!m||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let x=go(),p;if(t){let w=typeof t=="string"?lm(t):t;Vn(h==="/"||((k=w.pathname)==null?void 0:k.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${w.pathname}" was given in the \`location\` prop.`),p=w}else p=x;let v=p.pathname||"/",y=v;if(h!=="/"){let w=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=rA(e,{pathname:y});Uo(m||g!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Uo(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=Tz(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:Gc([h,s.encodeLocation?s.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?h:Gc([h,s.encodeLocation?s.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),o,r,n,i);return t&&j?_.createElement(d0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},j):j}function Pz(){let e=Rz(),t=bz(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:s},"ErrorBoundary")," or"," ",_.createElement("code",{style:s},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:i},r):null,o)}var Ez=_.createElement(Pz,null),Dz=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?_.createElement(kl.Provider,{value:this.props.routeContext},_.createElement(Cj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Az({routeContext:e,match:t,children:r}){let n=_.useContext(cm);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(kl.Provider,{value:e},r)}function Tz(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=r==null?void 0:r.errors;if(o!=null){let u=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Vn(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r)for(let u=0;u<s.length;u++){let h=s[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:m,errors:x}=r,p=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!x||x[h.route.id]===void 0);if(h.route.lazy||p){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,h,m)=>{let x,p=!1,v=null,y=null;r&&(x=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||Ez,l&&(c<0&&m===0?(uA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,y=null):c===m&&(p=!0,y=h.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,m+1)),j=()=>{let k;return x?k=v:p?k=y:h.route.Component?k=_.createElement(h.route.Component,null):h.route.element?k=h.route.element:k=u,_.createElement(Az,{match:h,routeContext:{outlet:u,matches:g,isDataRoute:r!=null},children:k})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?_.createElement(Dz,{location:r.location,revalidation:r.revalidation,component:v,error:x,children:j(),routeContext:{outlet:null,matches:g,isDataRoute:!0},unstable_onError:n}):j()},null)}function Pj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Oz(e){let t=_.useContext(cm);return Vn(t,Pj(e)),t}function Lz(e){let t=_.useContext(Yv);return Vn(t,Pj(e)),t}function Iz(e){let t=_.useContext(kl);return Vn(t,Pj(e)),t}function Ej(e){let t=Iz(e),r=t.matches[t.matches.length-1];return Vn(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Mz(){return Ej("useRouteId")}function Rz(){var n;let e=_.useContext(Cj),t=Lz("useRouteError"),r=Ej("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function zz(){let{router:e}=Oz("useNavigate"),t=Ej("useNavigate"),r=_.useRef(!1);return lA(()=>{r.current=!0}),_.useCallback(async(i,s={})=>{Uo(r.current,oA),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var pS={};function uA(e,t,r){!t&&!pS[e]&&(pS[e]=!0,Uo(!1,r))}_.memo(Fz);function Fz({routes:e,future:t,state:r,unstable_onError:n}){return cA(e,void 0,r,n,t)}function Mf({to:e,replace:t,state:r,relative:n}){Vn(um(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(Sl);Uo(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=_.useContext(kl),{pathname:o}=go(),l=kn(),c=kj(e,Sj(s),o,n==="path"),u=JSON.stringify(c);return _.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:n})},[l,u,n,t,r]),null}function xa(e){Vn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $z({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){Vn(!um(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=_.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof r=="string"&&(r=lm(r));let{pathname:c="/",search:u="",hash:h="",state:m=null,key:x="default"}=r,p=_.useMemo(()=>{let v=Qc(c,o);return v==null?null:{location:{pathname:v,search:u,hash:h,state:m,key:x},navigationType:n}},[o,c,u,h,m,x,n]);return Uo(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:_.createElement(Sl.Provider,{value:l},_.createElement(d0.Provider,{children:t,value:p}))}function Bz({children:e,location:t}){return Cz(A2(e),t)}function A2(e,t=[]){let r=[];return _.Children.forEach(e,(n,i)=>{if(!_.isValidElement(n))return;let s=[...t,i];if(n.type===_.Fragment){r.push.apply(r,A2(n.props.children,s));return}Vn(n.type===xa,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=A2(n.props.children,s)),r.push(o)}),r}var hx="get",fx="application/x-www-form-urlencoded";function Xv(e){return e!=null&&typeof e.tagName=="string"}function Uz(e){return Xv(e)&&e.tagName.toLowerCase()==="button"}function qz(e){return Xv(e)&&e.tagName.toLowerCase()==="form"}function Hz(e){return Xv(e)&&e.tagName.toLowerCase()==="input"}function Vz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Wz(e,t){return e.button===0&&(!t||t==="_self")&&!Vz(e)}function T2(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function Kz(e,t){let r=T2(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(s=>{r.append(i,s)})}),r}var bg=null;function Gz(){if(bg===null)try{new FormData(document.createElement("form"),0),bg=!1}catch{bg=!0}return bg}var Yz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xb(e){return e!=null&&!Yz.has(e)?(Uo(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fx}"`),null):e}function Xz(e,t){let r,n,i,s,o;if(qz(e)){let l=e.getAttribute("action");n=l?Qc(l,t):null,r=e.getAttribute("method")||hx,i=Xb(e.getAttribute("enctype"))||fx,s=new FormData(e)}else if(Uz(e)||Hz(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Qc(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||hx,i=Xb(e.getAttribute("formenctype"))||Xb(l.getAttribute("enctype"))||fx,s=new FormData(l,e),!Gz()){let{name:u,type:h,value:m}=e;if(h==="image"){let x=u?`${u}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else u&&s.append(u,m)}}else{if(Xv(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=hx,n=null,i=fx,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dj(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Jz(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Qc(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Zz(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function eF(e,t,r){let n=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await Zz(s,r);return o.links?o.links():[]}return[]}));return aF(n.flat(1).filter(Qz).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function gS(e,t,r,n,i,s){let o=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var h;return r[u].pathname!==c.pathname||((h=r[u].route.path)==null?void 0:h.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return s==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):s==="data"?t.filter((c,u)=>{var m;let h=n.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let x=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function tF(e,t,{includeHydrateFallback:r}={}){return rF(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function rF(e){return[...new Set(e)]}function nF(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function aF(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let s=JSON.stringify(nF(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function dA(){let e=_.useContext(cm);return Dj(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function iF(){let e=_.useContext(Yv);return Dj(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Aj=_.createContext(void 0);Aj.displayName="FrameworkContext";function hA(){let e=_.useContext(Aj);return Dj(e,"You must render this element inside a <HydratedRouter> element"),e}function sF(e,t){let r=_.useContext(Aj),[n,i]=_.useState(!1),[s,o]=_.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:m}=t,x=_.useRef(null);_.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=j=>{j.forEach(k=>{o(k.isIntersecting)})},g=new IntersectionObserver(y,{threshold:.5});return x.current&&g.observe(x.current),()=>{g.disconnect()}}},[e]),_.useEffect(()=>{if(n){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[n]);let p=()=>{i(!0)},v=()=>{i(!1),o(!1)};return r?e!=="intent"?[s,x,{}]:[s,x,{onFocus:Xm(l,p),onBlur:Xm(c,v),onMouseEnter:Xm(u,p),onMouseLeave:Xm(h,v),onTouchStart:Xm(m,p)}]:[!1,x,{}]}function Xm(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function oF({page:e,...t}){let{router:r}=dA(),n=_.useMemo(()=>rA(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?_.createElement(cF,{page:e,matches:n,...t}):null}function lF(e){let{manifest:t,routeModules:r}=hA(),[n,i]=_.useState([]);return _.useEffect(()=>{let s=!1;return eF(e,t,r).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,r]),n}function cF({page:e,matches:t,...r}){let n=go(),{manifest:i,routeModules:s}=hA(),{basename:o}=dA(),{loaderData:l,matches:c}=iF(),u=_.useMemo(()=>gS(e,t,c,i,n,"data"),[e,t,c,i,n]),h=_.useMemo(()=>gS(e,t,c,i,n,"assets"),[e,t,c,i,n]),m=_.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let v=new Set,y=!1;if(t.forEach(j=>{var w;let k=i.routes[j.route.id];!k||!k.hasLoader||(!u.some(E=>E.route.id===j.route.id)&&j.route.id in l&&((w=s[j.route.id])!=null&&w.shouldRevalidate)||k.hasClientLoader?y=!0:v.add(j.route.id))}),v.size===0)return[];let g=Jz(e,o,"data");return y&&v.size>0&&g.searchParams.set("_routes",t.filter(j=>v.has(j.route.id)).map(j=>j.route.id).join(",")),[g.pathname+g.search]},[o,l,n,i,u,t,e,s]),x=_.useMemo(()=>tF(h,i),[h,i]),p=lF(h);return _.createElement(_.Fragment,null,m.map(v=>_.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),x.map(v=>_.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),p.map(({key:v,link:y})=>_.createElement("link",{key:v,nonce:r.nonce,...y})))}function uF(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var fA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fA&&(window.__reactRouterVersion="7.9.5")}catch{}function dF({basename:e,children:t,window:r}){let n=_.useRef();n.current==null&&(n.current=J9({window:r,v5Compat:!0}));let i=n.current,[s,o]=_.useState({action:i.action,location:i.location}),l=_.useCallback(c=>{_.startTransition(()=>o(c))},[o]);return _.useLayoutEffect(()=>i.listen(l),[i,l]),_.createElement($z,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var mA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bo=_.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:m,...x},p){let{basename:v}=_.useContext(Sl),y=typeof u=="string"&&mA.test(u),g,j=!1;if(typeof u=="string"&&y&&(g=u,fA))try{let $=new URL(window.location.href),T=u.startsWith("//")?new URL($.protocol+u):new URL(u),A=Qc(T.pathname,v);T.origin===$.origin&&A!=null?u=A+T.search+T.hash:j=!0}catch{Uo(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=_z(u,{relative:i}),[w,E,O]=sF(n,x),z=pF(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:m});function Y($){t&&t($),$.defaultPrevented||z($)}let B=_.createElement("a",{...x,...O,href:g||k,onClick:j||s?t:Y,ref:uF(p,E),target:c,"data-discover":!y&&r==="render"?"true":void 0});return w&&!y?_.createElement(_.Fragment,null,B,_.createElement(oF,{page:k})):B});Bo.displayName="Link";var hF=_.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:o,viewTransition:l,children:c,...u},h){let m=h0(o,{relative:u.relative}),x=go(),p=_.useContext(Yv),{navigator:v,basename:y}=_.useContext(Sl),g=p!=null&&bF(m)&&l===!0,j=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,k=x.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(k=k.toLowerCase(),w=w?w.toLowerCase():null,j=j.toLowerCase()),w&&y&&(w=Qc(w,y)||w);const E=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let O=k===j||!i&&k.startsWith(j)&&k.charAt(E)==="/",z=w!=null&&(w===j||!i&&w.startsWith(j)&&w.charAt(j.length)==="/"),Y={isActive:O,isPending:z,isTransitioning:g},B=O?t:void 0,$;typeof n=="function"?$=n(Y):$=[n,O?"active":null,z?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let T=typeof s=="function"?s(Y):s;return _.createElement(Bo,{...u,"aria-current":B,className:$,ref:h,style:T,to:o,viewTransition:l},typeof c=="function"?c(Y):c)});hF.displayName="NavLink";var fF=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:s,method:o=hx,action:l,onSubmit:c,relative:u,preventScrollReset:h,viewTransition:m,...x},p)=>{let v=vF(),y=yF(l,{relative:u}),g=o.toLowerCase()==="get"?"get":"post",j=typeof l=="string"&&mA.test(l),k=w=>{if(c&&c(w),w.defaultPrevented)return;w.preventDefault();let E=w.nativeEvent.submitter,O=(E==null?void 0:E.getAttribute("formmethod"))||o;v(E||w.currentTarget,{fetcherKey:t,method:O,navigate:r,replace:i,state:s,relative:u,preventScrollReset:h,viewTransition:m})};return _.createElement("form",{ref:p,method:g,action:y,onSubmit:n?c:k,...x,"data-discover":!j&&e==="render"?"true":void 0})});fF.displayName="Form";function mF(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pA(e){let t=_.useContext(cm);return Vn(t,mF(e)),t}function pF(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=kn(),c=go(),u=h0(e,{relative:s});return _.useCallback(h=>{if(Wz(h,t)){h.preventDefault();let m=r!==void 0?r:Lp(c)===Lp(u);l(e,{replace:m,state:n,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,u,r,n,t,e,i,s,o])}function du(e){Uo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=_.useRef(T2(e)),r=_.useRef(!1),n=go(),i=_.useMemo(()=>Kz(n.search,r.current?null:t.current),[n.search]),s=kn(),o=_.useCallback((l,c)=>{const u=T2(typeof l=="function"?l(new URLSearchParams(i)):l);r.current=!0,s("?"+u,c)},[s,i]);return[i,o]}var gF=0,xF=()=>`__${String(++gF)}__`;function vF(){let{router:e}=pA("useSubmit"),{basename:t}=_.useContext(Sl),r=Mz();return _.useCallback(async(n,i={})=>{let{action:s,method:o,encType:l,formData:c,body:u}=Xz(n,t);if(i.navigate===!1){let h=i.fetcherKey||xF();await e.fetch(h,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function yF(e,{relative:t}={}){let{basename:r}=_.useContext(Sl),n=_.useContext(kl);Vn(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...h0(e||".",{relative:t})},o=go();if(e==null){s.search=o.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let h=l.toString();s.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Gc([r,s.pathname])),Lp(s)}function bF(e,{relative:t}={}){let r=_.useContext(sA);Vn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=pA("useViewTransitionState"),i=h0(e,{relative:t});if(!r.isTransitioning)return!1;let s=Qc(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Qc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ex(i.pathname,o)!=null||Ex(i.pathname,s)!=null}var Na=tA();const wF=Wo(Na);var O2=function(e,t){return O2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},O2(e,t)};function Jv(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");O2(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Rt=function(){return Rt=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Rt.apply(this,arguments)};function ci(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function gA(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function xA(e,t){return function(r,n){t(r,n,e)}}function vA(e,t,r,n,i,s){function o(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,h=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),m,x=!1,p=r.length-1;p>=0;p--){var v={};for(var y in n)v[y]=y==="access"?{}:n[y];for(var y in n.access)v.access[y]=n.access[y];v.addInitializer=function(j){if(x)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(j||null))};var g=(0,r[p])(l==="accessor"?{get:h.get,set:h.set}:h[c],v);if(l==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(m=o(g.get))&&(h.get=m),(m=o(g.set))&&(h.set=m),(m=o(g.init))&&i.unshift(m)}else(m=o(g))&&(l==="field"?i.unshift(m):h[c]=m)}u&&Object.defineProperty(u,n.name,h),x=!0}function yA(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function bA(e){return typeof e=="symbol"?e:"".concat(e)}function wA(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function jA(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ur(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(h){try{u(n.next(h))}catch(m){o(m)}}function c(h){try{u(n.throw(h))}catch(m){o(m)}}function u(h){h.done?s(h.value):i(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function NA(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Zv=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function _A(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Zv(t,e,r)}function Ip(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sn(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function SA(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Sn(arguments[t]));return e}function kA(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,l=s.length;o<l;o++,i++)n[i]=s[o];return n}function uo(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Xf(e){return this instanceof Xf?(this.v=e,this):new Xf(e)}function CA(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(v){return Promise.resolve(v).then(p,m)}}function l(p,v){n[p]&&(i[p]=function(y){return new Promise(function(g,j){s.push([p,y,g,j])>1||c(p,y)})},v&&(i[p]=v(i[p])))}function c(p,v){try{u(n[p](v))}catch(y){x(s[0][3],y)}}function u(p){p.value instanceof Xf?Promise.resolve(p.value.v).then(h,m):x(s[0][2],p)}function h(p){c("next",p)}function m(p){c("throw",p)}function x(p,v){p(v),s.shift(),s.length&&c(s[0][0],s[0][1])}}function PA(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Xf(e[i](o)),done:!1}:s?s(o):o}:s}}function EA(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ip=="function"?Ip(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(l,c){o=e[s](o),i(l,c,o.done,o.value)})}}function i(s,o,l,c){Promise.resolve(c).then(function(u){s({value:u,done:l})},o)}}function DA(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var jF=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},L2=function(e){return L2=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},L2(e)};function AA(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=L2(e),n=0;n<r.length;n++)r[n]!=="default"&&Zv(t,e,r[n]);return jF(t,e),t}function TA(e){return e&&e.__esModule?e:{default:e}}function OA(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function LA(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function IA(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function MA(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var NF=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function RA(e){function t(s){e.error=e.hasError?new NF(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(o){return t(o),i()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function zA(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,o){return n?t?".jsx":".js":i&&(!s||!o)?r:i+s+"."+o.toLowerCase()+"js"}):e}const _F={__extends:Jv,__assign:Rt,__rest:ci,__decorate:gA,__param:xA,__esDecorate:vA,__runInitializers:yA,__propKey:bA,__setFunctionName:wA,__metadata:jA,__awaiter:ur,__generator:NA,__createBinding:Zv,__exportStar:_A,__values:Ip,__read:Sn,__spread:SA,__spreadArrays:kA,__spreadArray:uo,__await:Xf,__asyncGenerator:CA,__asyncDelegator:PA,__asyncValues:EA,__makeTemplateObject:DA,__importStar:AA,__importDefault:TA,__classPrivateFieldGet:OA,__classPrivateFieldSet:LA,__classPrivateFieldIn:IA,__addDisposableResource:MA,__disposeResources:RA,__rewriteRelativeImportExtension:zA},SF=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:MA,get __assign(){return Rt},__asyncDelegator:PA,__asyncGenerator:CA,__asyncValues:EA,__await:Xf,__awaiter:ur,__classPrivateFieldGet:OA,__classPrivateFieldIn:IA,__classPrivateFieldSet:LA,__createBinding:Zv,__decorate:gA,__disposeResources:RA,__esDecorate:vA,__exportStar:_A,__extends:Jv,__generator:NA,__importDefault:TA,__importStar:AA,__makeTemplateObject:DA,__metadata:jA,__param:xA,__propKey:bA,__read:Sn,__rest:ci,__rewriteRelativeImportExtension:zA,__runInitializers:yA,__setFunctionName:wA,__spread:SA,__spreadArray:uo,__spreadArrays:kA,__values:Ip,default:_F},Symbol.toStringTag,{value:"Module"}));var zc=function(e){return{isEnabled:function(t){return e.some(function(r){return!!t[r]})}}},Mp={measureLayout:zc(["layout","layoutId","drag"]),animation:zc(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:zc(["exit"]),drag:zc(["drag","dragControls"]),focus:zc(["whileFocus"]),hover:zc(["whileHover","onHoverStart","onHoverEnd"]),tap:zc(["whileTap","onTap","onTapStart","onTapCancel"]),pan:zc(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:zc(["whileInView","onViewportEnter","onViewportLeave"])};function kF(e){for(var t in e)e[t]!==null&&(t==="projectionNodeConstructor"?Mp.projectionNodeConstructor=e[t]:Mp[t].Component=e[t])}var Dx=function(){},FA=_.createContext({strict:!1}),$A=Object.keys(Mp),CF=$A.length;function PF(e,t,r){var n=[];if(_.useContext(FA),!t)return null;for(var i=0;i<CF;i++){var s=$A[i],o=Mp[s],l=o.isEnabled,c=o.Component;l(e)&&c&&n.push(_.createElement(c,Rt({key:s},e,{visualElement:t})))}return n}var Tj=_.createContext({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),Qv=_.createContext({});function EF(){return _.useContext(Qv).visualElement}var f0=_.createContext(null),dm=typeof document<"u",Ax=dm?_.useLayoutEffect:_.useEffect,I2={current:null},BA=!1;function DF(){if(BA=!0,!!dm)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return I2.current=e.matches};e.addListener(t),t()}else I2.current=!1}function AF(){!BA&&DF();var e=Sn(_.useState(I2.current),1),t=e[0];return t}function TF(){var e=AF(),t=_.useContext(Tj).reducedMotion;return t==="never"?!1:t==="always"?!0:e}function OF(e,t,r,n){var i=_.useContext(FA),s=EF(),o=_.useContext(f0),l=TF(),c=_.useRef(void 0);n||(n=i.renderer),!c.current&&n&&(c.current=n(e,{visualState:t,parent:s,props:r,presenceId:o==null?void 0:o.id,blockInitialAnimation:(o==null?void 0:o.initial)===!1,shouldReduceMotion:l}));var u=c.current;return Ax(function(){u==null||u.syncRender()}),_.useEffect(function(){var h;(h=u==null?void 0:u.animationState)===null||h===void 0||h.animateChanges()}),Ax(function(){return function(){return u==null?void 0:u.notifyUnmount()}},[]),u}function Pf(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function LF(e,t,r){return _.useCallback(function(n){var i;n&&((i=e.mount)===null||i===void 0||i.call(e,n)),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Pf(r)&&(r.current=n))},[t])}function UA(e){return Array.isArray(e)}function yl(e){return typeof e=="string"||UA(e)}function IF(e){var t={};return e.forEachValue(function(r,n){return t[n]=r.get()}),t}function MF(e){var t={};return e.forEachValue(function(r,n){return t[n]=r.getVelocity()}),t}function qA(e,t,r,n,i){var s;return n===void 0&&(n={}),i===void 0&&(i={}),typeof t=="function"&&(t=t(r??e.custom,n,i)),typeof t=="string"&&(t=(s=e.variants)===null||s===void 0?void 0:s[t]),typeof t=="function"&&(t=t(r??e.custom,n,i)),t}function ey(e,t,r){var n=e.getProps();return qA(n,t,r??n.custom,IF(e),MF(e))}function ty(e){var t;return typeof((t=e.animate)===null||t===void 0?void 0:t.start)=="function"||yl(e.initial)||yl(e.animate)||yl(e.whileHover)||yl(e.whileDrag)||yl(e.whileTap)||yl(e.whileFocus)||yl(e.exit)}function HA(e){return!!(ty(e)||e.variants)}function RF(e,t){if(ty(e)){var r=e.initial,n=e.animate;return{initial:r===!1||yl(r)?r:void 0,animate:yl(n)?n:void 0}}return e.inherit!==!1?t:{}}function zF(e){var t=RF(e,_.useContext(Qv)),r=t.initial,n=t.animate;return _.useMemo(function(){return{initial:r,animate:n}},[xS(r),xS(n)])}function xS(e){return Array.isArray(e)?e.join(" "):e}function m0(e){var t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}var yp={hasAnimatedSinceResize:!0,hasEverUpdated:!1},FF=1;function $F(){return m0(function(){if(yp.hasEverUpdated)return FF++})}var Oj=_.createContext({}),VA=_.createContext({});function BF(e,t,r,n){var i,s=t.layoutId,o=t.layout,l=t.drag,c=t.dragConstraints,u=t.layoutScroll,h=_.useContext(VA);!n||!r||r!=null&&r.projection||(r.projection=new n(e,r.getLatestValues(),(i=r.parent)===null||i===void 0?void 0:i.projection),r.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||c&&Pf(c),visualElement:r,scheduleRender:function(){return r.scheduleRender()},animationType:typeof o=="string"?o:"both",initialPromotionConfig:h,layoutScroll:u}))}var UF=function(e){Jv(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},t.prototype.componentDidUpdate=function(){},t.prototype.updateProps=function(){var r=this.props,n=r.visualElement,i=r.props;n&&n.setProps(i)},t.prototype.render=function(){return this.props.children},t}(vt.Component);function qF(e){var t=e.preloadedFeatures,r=e.createVisualElement,n=e.projectionNodeConstructor,i=e.useRender,s=e.useVisualState,o=e.Component;t&&kF(t);function l(c,u){var h=HF(c);c=Rt(Rt({},c),{layoutId:h});var m=_.useContext(Tj),x=null,p=zF(c),v=m.isStatic?void 0:$F(),y=s(c,m.isStatic);return!m.isStatic&&dm&&(p.visualElement=OF(o,y,Rt(Rt({},m),c),r),BF(v,c,p.visualElement,n||Mp.projectionNodeConstructor),x=PF(c,p.visualElement)),_.createElement(UF,{visualElement:p.visualElement,props:Rt(Rt({},m),c)},x,_.createElement(Qv.Provider,{value:p},i(o,c,v,LF(y,p.visualElement,u),y,m.isStatic,p.visualElement)))}return _.forwardRef(l)}function HF(e){var t,r=e.layoutId,n=(t=_.useContext(Oj))===null||t===void 0?void 0:t.id;return n&&r!==void 0?n+"-"+r:r}function VF(e){function t(n,i){return i===void 0&&(i={}),qF(e(n,i))}if(typeof Proxy>"u")return t;var r=new Map;return new Proxy(t,{get:function(n,i){return r.has(i)||r.set(i,t(i)),r.get(i)}})}var WF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function Lj(e){return typeof e!="string"||e.includes("-")?!1:!!(WF.indexOf(e)>-1||/[A-Z]/.test(e))}var Tx={};function KF(e){Object.assign(Tx,e)}var M2=["","X","Y","Z"],GF=["translate","scale","rotate","skew"],Rp=["transformPerspective","x","y","z"];GF.forEach(function(e){return M2.forEach(function(t){return Rp.push(e+t)})});function YF(e,t){return Rp.indexOf(e)-Rp.indexOf(t)}var XF=new Set(Rp);function p0(e){return XF.has(e)}var JF=new Set(["originX","originY","originZ"]);function WA(e){return JF.has(e)}function KA(e,t){var r=t.layout,n=t.layoutId;return p0(e)||WA(e)||(r||n!==void 0)&&(!!Tx[e]||e==="opacity")}var eu=function(e){return!!(e!==null&&typeof e=="object"&&e.getVelocity)},ZF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function QF(e,t,r,n){var i=e.transform,s=e.transformKeys,o=t.enableHardwareAcceleration,l=o===void 0?!0:o,c=t.allowTransformNone,u=c===void 0?!0:c,h="";s.sort(YF);for(var m=!1,x=s.length,p=0;p<x;p++){var v=s[p];h+="".concat(ZF[v]||v,"(").concat(i[v],") "),v==="z"&&(m=!0)}return!m&&l?h+="translateZ(0)":h=h.trim(),n?h=n(i,r?"":h):u&&r&&(h="none"),h}function e$(e){var t=e.originX,r=t===void 0?"50%":t,n=e.originY,i=n===void 0?"50%":n,s=e.originZ,o=s===void 0?0:s;return"".concat(r," ").concat(i," ").concat(o)}function GA(e){return e.startsWith("--")}var t$=function(e,t){return t&&typeof e=="number"?t.transform(e):e};const YA=(e,t)=>r=>Math.max(Math.min(r,t),e),bp=e=>e%1?Number(e.toFixed(5)):e,zp=/(-)?([\d]*\.?[\d])+/g,R2=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,r$=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function g0(e){return typeof e=="string"}const Th={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},wp=Object.assign(Object.assign({},Th),{transform:YA(0,1)}),wg=Object.assign(Object.assign({},Th),{default:1}),x0=e=>({test:t=>g0(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ju=x0("deg"),rc=x0("%"),jr=x0("px"),n$=x0("vh"),a$=x0("vw"),vS=Object.assign(Object.assign({},rc),{parse:e=>rc.parse(e)/100,transform:e=>rc.transform(e*100)}),Ij=(e,t)=>r=>!!(g0(r)&&r$.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),XA=(e,t,r)=>n=>{if(!g0(n))return n;const[i,s,o,l]=n.match(zp);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},oh={test:Ij("hsl","hue"),parse:XA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+rc.transform(bp(t))+", "+rc.transform(bp(r))+", "+bp(wp.transform(n))+")"},i$=YA(0,255),Jb=Object.assign(Object.assign({},Th),{transform:e=>Math.round(i$(e))}),ad={test:Ij("rgb","red"),parse:XA("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Jb.transform(e)+", "+Jb.transform(t)+", "+Jb.transform(r)+", "+bp(wp.transform(n))+")"};function s$(e){let t="",r="",n="",i="";return e.length>5?(t=e.substr(1,2),r=e.substr(3,2),n=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),r=e.substr(2,1),n=e.substr(3,1),i=e.substr(4,1),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const z2={test:Ij("#"),parse:s$,transform:ad.transform},hs={test:e=>ad.test(e)||z2.test(e)||oh.test(e),parse:e=>ad.test(e)?ad.parse(e):oh.test(e)?oh.parse(e):z2.parse(e),transform:e=>g0(e)?e:e.hasOwnProperty("red")?ad.transform(e):oh.transform(e)},JA="${c}",ZA="${n}";function o$(e){var t,r,n,i;return isNaN(e)&&g0(e)&&((r=(t=e.match(zp))===null||t===void 0?void 0:t.length)!==null&&r!==void 0?r:0)+((i=(n=e.match(R2))===null||n===void 0?void 0:n.length)!==null&&i!==void 0?i:0)>0}function QA(e){typeof e=="number"&&(e=`${e}`);const t=[];let r=0;const n=e.match(R2);n&&(r=n.length,e=e.replace(R2,JA),t.push(...n.map(hs.parse)));const i=e.match(zp);return i&&(e=e.replace(zp,ZA),t.push(...i.map(Th.parse))),{values:t,numColors:r,tokenised:e}}function eT(e){return QA(e).values}function tT(e){const{values:t,numColors:r,tokenised:n}=QA(e),i=t.length;return s=>{let o=n;for(let l=0;l<i;l++)o=o.replace(l<r?JA:ZA,l<r?hs.transform(s[l]):bp(s[l]));return o}}const l$=e=>typeof e=="number"?0:e;function c$(e){const t=eT(e);return tT(e)(t.map(l$))}const tu={test:o$,parse:eT,createTransformer:tT,getAnimatableNone:c$},u$=new Set(["brightness","contrast","saturate","opacity"]);function d$(e){let[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(zp)||[];if(!n)return e;const i=r.replace(n,"");let s=u$.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const h$=/([a-z-]*)\(.*?\)/g,F2=Object.assign(Object.assign({},tu),{getAnimatableNone:e=>{const t=e.match(h$);return t?t.map(d$).join(" "):e}});var yS=Rt(Rt({},Th),{transform:Math.round}),rT={borderWidth:jr,borderTopWidth:jr,borderRightWidth:jr,borderBottomWidth:jr,borderLeftWidth:jr,borderRadius:jr,radius:jr,borderTopLeftRadius:jr,borderTopRightRadius:jr,borderBottomRightRadius:jr,borderBottomLeftRadius:jr,width:jr,maxWidth:jr,height:jr,maxHeight:jr,size:jr,top:jr,right:jr,bottom:jr,left:jr,padding:jr,paddingTop:jr,paddingRight:jr,paddingBottom:jr,paddingLeft:jr,margin:jr,marginTop:jr,marginRight:jr,marginBottom:jr,marginLeft:jr,rotate:Ju,rotateX:Ju,rotateY:Ju,rotateZ:Ju,scale:wg,scaleX:wg,scaleY:wg,scaleZ:wg,skew:Ju,skewX:Ju,skewY:Ju,distance:jr,translateX:jr,translateY:jr,translateZ:jr,x:jr,y:jr,z:jr,perspective:jr,transformPerspective:jr,opacity:wp,originX:vS,originY:vS,originZ:jr,zIndex:yS,fillOpacity:wp,strokeOpacity:wp,numOctaves:yS};function Mj(e,t,r,n){var i,s=e.style,o=e.vars,l=e.transform,c=e.transformKeys,u=e.transformOrigin;c.length=0;var h=!1,m=!1,x=!0;for(var p in t){var v=t[p];if(GA(p)){o[p]=v;continue}var y=rT[p],g=t$(v,y);if(p0(p)){if(h=!0,l[p]=g,c.push(p),!x)continue;v!==((i=y.default)!==null&&i!==void 0?i:0)&&(x=!1)}else WA(p)?(u[p]=g,m=!0):s[p]=g}h?s.transform=QF(e,r,x,n):n?s.transform=n({},""):!t.transform&&s.transform&&(s.transform="none"),m&&(s.transformOrigin=e$(u))}var Rj=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function nT(e,t,r){for(var n in t)!eu(t[n])&&!KA(n,r)&&(e[n]=t[n])}function f$(e,t,r){var n=e.transformTemplate;return _.useMemo(function(){var i=Rj();Mj(i,t,{enableHardwareAcceleration:!r},n);var s=i.vars,o=i.style;return Rt(Rt({},s),o)},[t])}function m$(e,t,r){var n=e.style||{},i={};return nT(i,n,e),Object.assign(i,f$(e,t,r)),e.transformValues&&(i=e.transformValues(i)),i}function p$(e,t,r){var n={},i=m$(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":"pan-".concat(e.drag==="x"?"y":"x")),n.style=i,n}var g$=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function Ox(e){return g$.has(e)}var aT=function(e){return!Ox(e)};function x$(e){e&&(aT=function(t){return t.startsWith("on")?!Ox(t):e(t)})}try{x$(require("@emotion/is-prop-valid").default)}catch{}function v$(e,t,r){var n={};for(var i in e)(aT(i)||r===!0&&Ox(i)||!t&&!Ox(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function bS(e,t,r){return typeof e=="string"?e:jr.transform(t+r*e)}function y$(e,t,r){var n=bS(t,e.x,e.width),i=bS(r,e.y,e.height);return"".concat(n," ").concat(i)}var b$={offset:"strokeDashoffset",array:"strokeDasharray"};function w$(e,t,r,n,i){r===void 0&&(r=1),n===void 0&&(n=0),e.pathLength=1;var s=b$;e[s.offset]=jr.transform(-n);var o=jr.transform(t),l=jr.transform(r);e[s.array]="".concat(o," ").concat(l)}function zj(e,t,r,n){var i=t.attrX,s=t.attrY,o=t.originX,l=t.originY,c=t.pathLength,u=t.pathSpacing,h=u===void 0?1:u,m=t.pathOffset,x=m===void 0?0:m,p=ci(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]);Mj(e,p,r,n),e.attrs=e.style,e.style={};var v=e.attrs,y=e.style,g=e.dimensions;v.transform&&(g&&(y.transform=v.transform),delete v.transform),g&&(o!==void 0||l!==void 0||y.transform)&&(y.transformOrigin=y$(g,o!==void 0?o:.5,l!==void 0?l:.5)),i!==void 0&&(v.x=i),s!==void 0&&(v.y=s),c!==void 0&&w$(v,c,h,x)}var iT=function(){return Rt(Rt({},Rj()),{attrs:{}})};function j$(e,t){var r=_.useMemo(function(){var i=iT();return zj(i,t,{enableHardwareAcceleration:!1},e.transformTemplate),Rt(Rt({},i.attrs),{style:Rt({},i.style)})},[t]);if(e.style){var n={};nT(n,e.style,e),r.style=Rt(Rt({},n),r.style)}return r}function N$(e){e===void 0&&(e=!1);var t=function(r,n,i,s,o,l){var c=o.latestValues,u=Lj(r)?j$:p$,h=u(n,c,l),m=v$(n,typeof r=="string",e),x=Rt(Rt(Rt({},m),h),{ref:s});return i&&(x["data-projection-id"]=i),_.createElement(r,x)};return t}var _$=/([a-z])([A-Z])/g,S$="$1-$2",sT=function(e){return e.replace(_$,S$).toLowerCase()};function oT(e,t,r,n){var i=t.style,s=t.vars;Object.assign(e.style,i,n&&n.getProjectionStyles(r));for(var o in s)e.style.setProperty(o,s[o])}var lT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function cT(e,t,r,n){oT(e,t,void 0,n);for(var i in t.attrs)e.setAttribute(lT.has(i)?i:sT(i),t.attrs[i])}function Fj(e){var t=e.style,r={};for(var n in t)(eu(t[n])||KA(n,e))&&(r[n]=t[n]);return r}function uT(e){var t=Fj(e);for(var r in e)if(eu(e[r])){var n=r==="x"||r==="y"?"attr"+r.toUpperCase():r;t[n]=e[r]}return t}function $j(e){return typeof e=="object"&&typeof e.start=="function"}var Fp=function(e){return Array.isArray(e)},k$=function(e){return!!(e&&typeof e=="object"&&e.mix&&e.toValue)},dT=function(e){return Fp(e)?e[e.length-1]||0:e};function mx(e){var t=eu(e)?e.get():e;return k$(t)?t.toValue():t}function wS(e,t,r,n){var i=e.scrapeMotionValuesFromProps,s=e.createRenderState,o=e.onMount,l={latestValues:C$(t,r,n,i),renderState:s()};return o&&(l.mount=function(c){return o(t,c,l)}),l}var hT=function(e){return function(t,r){var n=_.useContext(Qv),i=_.useContext(f0);return r?wS(e,t,n,i):m0(function(){return wS(e,t,n,i)})}};function C$(e,t,r,n){var i={},s=(r==null?void 0:r.initial)===!1,o=n(e);for(var l in o)i[l]=mx(o[l]);var c=e.initial,u=e.animate,h=ty(e),m=HA(e);t&&m&&!h&&e.inherit!==!1&&(c??(c=t.initial),u??(u=t.animate));var x=s||c===!1,p=x?u:c;if(p&&typeof p!="boolean"&&!$j(p)){var v=Array.isArray(p)?p:[p];v.forEach(function(y){var g=qA(e,y);if(g){var j=g.transitionEnd;g.transition;var k=ci(g,["transitionEnd","transition"]);for(var w in k){var E=k[w];if(Array.isArray(E)){var O=x?E.length-1:0;E=E[O]}E!==null&&(i[w]=E)}for(var w in j)i[w]=j[w]}})}return i}var P$={useVisualState:hT({scrapeMotionValuesFromProps:uT,createRenderState:iT,onMount:function(e,t,r){var n=r.renderState,i=r.latestValues;try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}zj(n,i,{enableHardwareAcceleration:!1},e.transformTemplate),cT(t,n)}})},E$={useVisualState:hT({scrapeMotionValuesFromProps:Fj,createRenderState:Rj})};function D$(e,t,r,n,i){var s=t.forwardMotionProps,o=s===void 0?!1:s,l=Lj(e)?P$:E$;return Rt(Rt({},l),{preloadedFeatures:r,useRender:N$(o),createVisualElement:n,projectionNodeConstructor:i,Component:e})}var _n;(function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"})(_n||(_n={}));function ry(e,t,r,n){return n===void 0&&(n={passive:!0}),e.addEventListener(t,r,n),function(){return e.removeEventListener(t,r)}}function $2(e,t,r,n){_.useEffect(function(){var i=e.current;if(r&&i)return ry(i,t,r,n)},[e,t,r,n])}function A$(e){var t=e.whileFocus,r=e.visualElement,n=function(){var s;(s=r.animationState)===null||s===void 0||s.setActive(_n.Focus,!0)},i=function(){var s;(s=r.animationState)===null||s===void 0||s.setActive(_n.Focus,!1)};$2(r,"focus",t?n:void 0),$2(r,"blur",t?i:void 0)}function fT(e){return typeof PointerEvent<"u"&&e instanceof PointerEvent?e.pointerType==="mouse":e instanceof MouseEvent}function mT(e){var t=!!e.touches;return t}function T$(e){return function(t){var r=t instanceof MouseEvent,n=!r||r&&t.button===0;n&&e(t)}}var O$={pageX:0,pageY:0};function L$(e,t){t===void 0&&(t="page");var r=e.touches[0]||e.changedTouches[0],n=r||O$;return{x:n[t+"X"],y:n[t+"Y"]}}function I$(e,t){return t===void 0&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function Bj(e,t){return t===void 0&&(t="page"),{point:mT(e)?L$(e,t):I$(e,t)}}var pT=function(e,t){t===void 0&&(t=!1);var r=function(n){return e(n,Bj(n))};return t?T$(r):r},M$=function(){return dm&&window.onpointerdown===null},R$=function(){return dm&&window.ontouchstart===null},z$=function(){return dm&&window.onmousedown===null},F$={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},$$={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function gT(e){return M$()?e:R$()?$$[e]:z$()?F$[e]:e}function Rf(e,t,r,n){return ry(e,gT(t),pT(r,t==="pointerdown"),n)}function Lx(e,t,r,n){return $2(e,gT(t),r&&pT(r,t==="pointerdown"),n)}function xT(e){var t=null;return function(){var r=function(){t=null};return t===null?(t=e,r):!1}}var jS=xT("dragHorizontal"),NS=xT("dragVertical");function vT(e){var t=!1;if(e==="y")t=NS();else if(e==="x")t=jS();else{var r=jS(),n=NS();r&&n?t=function(){r(),n()}:(r&&r(),n&&n())}return t}function yT(){var e=vT(!0);return e?(e(),!1):!0}function _S(e,t,r){return function(n,i){var s;!fT(n)||yT()||((s=e.animationState)===null||s===void 0||s.setActive(_n.Hover,t),r==null||r(n,i))}}function B$(e){var t=e.onHoverStart,r=e.onHoverEnd,n=e.whileHover,i=e.visualElement;Lx(i,"pointerenter",t||n?_S(i,!0,t):void 0,{passive:!t}),Lx(i,"pointerleave",r||n?_S(i,!1,r):void 0,{passive:!r})}var bT=function(e,t){return t?e===t?!0:bT(e,t.parentElement):!1};function Uj(e){return _.useEffect(function(){return function(){return e()}},[])}const Ix=(e,t,r)=>Math.min(Math.max(r,e),t),Zb=.001,U$=.01,q$=10,H$=.05,V$=1;function W$({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let i,s,o=1-t;o=Ix(H$,V$,o),e=Ix(U$,q$,e/1e3),o<1?(i=u=>{const h=u*o,m=h*e,x=h-r,p=B2(u,o),v=Math.exp(-m);return Zb-x/p*v},s=u=>{const m=u*o*e,x=m*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-m),y=B2(Math.pow(u,2),o);return(-i(u)+Zb>0?-1:1)*((x-p)*v)/y}):(i=u=>{const h=Math.exp(-u*e),m=(u-r)*e+1;return-Zb+h*m},s=u=>{const h=Math.exp(-u*e),m=(r-u)*(e*e);return h*m});const l=5/e,c=G$(i,s,l);if(e=e*1e3,isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const K$=12;function G$(e,t,r){let n=r;for(let i=1;i<K$;i++)n=n-e(n)/t(n);return n}function B2(e,t){return e*Math.sqrt(1-t*t)}const Y$=["duration","bounce"],X$=["stiffness","damping","mass"];function SS(e,t){return t.some(r=>e[r]!==void 0)}function J$(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!SS(e,X$)&&SS(e,Y$)){const r=W$(e);t=Object.assign(Object.assign(Object.assign({},t),r),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}function qj(e){var{from:t=0,to:r=1,restSpeed:n=2,restDelta:i}=e,s=ci(e,["from","to","restSpeed","restDelta"]);const o={done:!1,value:t};let{stiffness:l,damping:c,mass:u,velocity:h,duration:m,isResolvedFromDuration:x}=J$(s),p=kS,v=kS;function y(){const g=h?-(h/1e3):0,j=r-t,k=c/(2*Math.sqrt(l*u)),w=Math.sqrt(l/u)/1e3;if(i===void 0&&(i=Math.min(Math.abs(r-t)/100,.4)),k<1){const E=B2(w,k);p=O=>{const z=Math.exp(-k*w*O);return r-z*((g+k*w*j)/E*Math.sin(E*O)+j*Math.cos(E*O))},v=O=>{const z=Math.exp(-k*w*O);return k*w*z*(Math.sin(E*O)*(g+k*w*j)/E+j*Math.cos(E*O))-z*(Math.cos(E*O)*(g+k*w*j)-E*j*Math.sin(E*O))}}else if(k===1)p=E=>r-Math.exp(-w*E)*(j+(g+w*j)*E);else{const E=w*Math.sqrt(k*k-1);p=O=>{const z=Math.exp(-k*w*O),Y=Math.min(E*O,300);return r-z*((g+k*w*j)*Math.sinh(Y)+E*j*Math.cosh(Y))/E}}}return y(),{next:g=>{const j=p(g);if(x)o.done=g>=m;else{const k=v(g)*1e3,w=Math.abs(k)<=n,E=Math.abs(r-j)<=i;o.done=w&&E}return o.value=o.done?r:j,o},flipTarget:()=>{h=-h,[t,r]=[r,t],y()}}}qj.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const kS=e=>0,$p=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},da=(e,t,r)=>-r*e+r*t+e;function Qb(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function CS({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,o=0;if(!t)i=s=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=Qb(c,l,e+1/3),s=Qb(c,l,e),o=Qb(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}const Z$=(e,t,r)=>{const n=e*e,i=t*t;return Math.sqrt(Math.max(0,r*(i-n)+n))},Q$=[z2,ad,oh],PS=e=>Q$.find(t=>t.test(e)),wT=(e,t)=>{let r=PS(e),n=PS(t),i=r.parse(e),s=n.parse(t);r===oh&&(i=CS(i),r=ad),n===oh&&(s=CS(s),n=ad);const o=Object.assign({},i);return l=>{for(const c in o)c!=="alpha"&&(o[c]=Z$(i[c],s[c],l));return o.alpha=da(i.alpha,s.alpha,l),r.transform(o)}},U2=e=>typeof e=="number",eB=(e,t)=>r=>t(e(r)),ny=(...e)=>e.reduce(eB);function jT(e,t){return U2(e)?r=>da(e,t,r):hs.test(e)?wT(e,t):_T(e,t)}const NT=(e,t)=>{const r=[...e],n=r.length,i=e.map((s,o)=>jT(s,t[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}},tB=(e,t)=>{const r=Object.assign(Object.assign({},e),t),n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=jT(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}};function ES(e){const t=tu.parse(e),r=t.length;let n=0,i=0,s=0;for(let o=0;o<r;o++)n||typeof t[o]=="number"?n++:t[o].hue!==void 0?s++:i++;return{parsed:t,numNumbers:n,numRGB:i,numHSL:s}}const _T=(e,t)=>{const r=tu.createTransformer(t),n=ES(e),i=ES(t);return n.numHSL===i.numHSL&&n.numRGB===i.numRGB&&n.numNumbers>=i.numNumbers?ny(NT(n.parsed,i.parsed),r):o=>`${o>0?t:e}`},rB=(e,t)=>r=>da(e,t,r);function nB(e){if(typeof e=="number")return rB;if(typeof e=="string")return hs.test(e)?wT:_T;if(Array.isArray(e))return NT;if(typeof e=="object")return tB}function aB(e,t,r){const n=[],i=r||nB(e[0]),s=e.length-1;for(let o=0;o<s;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]:t;l=ny(c,l)}n.push(l)}return n}function iB([e,t],[r]){return n=>r($p(e,t,n))}function sB(e,t){const r=e.length,n=r-1;return i=>{let s=0,o=!1;if(i<=e[0]?o=!0:i>=e[n]&&(s=n-1,o=!0),!o){let c=1;for(;c<r&&!(e[c]>i||c===n);c++);s=c-1}const l=$p(e[s],e[s+1],i);return t[s](l)}}function ST(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;Dx(s===t.length),Dx(!n||!Array.isArray(n)||n.length===s-1),e[0]>e[s-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const o=aB(t,n,i),l=s===2?iB(e,o):sB(e,o);return r?c=>l(Ix(e[0],e[s-1],c)):l}const ay=e=>t=>1-e(1-t),Hj=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,oB=e=>t=>Math.pow(t,e),kT=e=>t=>t*t*((e+1)*t-e),lB=e=>{const t=kT(e);return r=>(r*=2)<1?.5*t(r):.5*(2-Math.pow(2,-10*(r-1)))},CT=1.525,cB=4/11,uB=8/11,dB=9/10,Vj=e=>e,Wj=oB(2),hB=ay(Wj),PT=Hj(Wj),ET=e=>1-Math.sin(Math.acos(e)),Kj=ay(ET),fB=Hj(Kj),Gj=kT(CT),mB=ay(Gj),pB=Hj(Gj),gB=lB(CT),xB=4356/361,vB=35442/1805,yB=16061/1805,Mx=e=>{if(e===1||e===0)return e;const t=e*e;return e<cB?7.5625*t:e<uB?9.075*t-9.9*e+3.4:e<dB?xB*t-vB*e+yB:10.8*e*e-20.52*e+10.72},bB=ay(Mx),wB=e=>e<.5?.5*(1-Mx(1-e*2)):.5*Mx(e*2-1)+.5;function jB(e,t){return e.map(()=>t||PT).splice(0,e.length-1)}function NB(e){const t=e.length;return e.map((r,n)=>n!==0?n/(t-1):0)}function _B(e,t){return e.map(r=>r*t)}function px({from:e=0,to:t=1,ease:r,offset:n,duration:i=300}){const s={done:!1,value:e},o=Array.isArray(t)?t:[e,t],l=_B(n&&n.length===o.length?n:NB(o),i);function c(){return ST(l,o,{ease:Array.isArray(r)?r:jB(o,r)})}let u=c();return{next:h=>(s.value=u(h),s.done=h>=i,s),flipTarget:()=>{o.reverse(),u=c()}}}function SB({velocity:e=0,from:t=0,power:r=.8,timeConstant:n=350,restDelta:i=.5,modifyTarget:s}){const o={done:!1,value:t};let l=r*e;const c=t+l,u=s===void 0?c:s(c);return u!==c&&(l=u-t),{next:h=>{const m=-l*Math.exp(-h/n);return o.done=!(m>i||m<-i),o.value=o.done?u:u+m,o},flipTarget:()=>{}}}const DS={keyframes:px,spring:qj,decay:SB};function kB(e){if(Array.isArray(e.to))return px;if(DS[e.type])return DS[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?px:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?qj:px}const DT=1/60*1e3,CB=typeof performance<"u"?()=>performance.now():()=>Date.now(),AT=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(CB()),DT);function PB(e){let t=[],r=[],n=0,i=!1,s=!1;const o=new WeakSet,l={schedule:(c,u=!1,h=!1)=>{const m=h&&i,x=m?t:r;return u&&o.add(c),x.indexOf(c)===-1&&(x.push(c),m&&i&&(n=t.length)),c},cancel:c=>{const u=r.indexOf(c);u!==-1&&r.splice(u,1),o.delete(c)},process:c=>{if(i){s=!0;return}if(i=!0,[t,r]=[r,t],r.length=0,n=t.length,n)for(let u=0;u<n;u++){const h=t[u];h(c),o.has(h)&&(l.schedule(h),e())}i=!1,s&&(s=!1,l.process(c))}};return l}const EB=40;let q2=!0,Bp=!1,H2=!1;const zf={delta:0,timestamp:0},v0=["read","update","preRender","render","postRender"],iy=v0.reduce((e,t)=>(e[t]=PB(()=>Bp=!0),e),{}),Nl=v0.reduce((e,t)=>{const r=iy[t];return e[t]=(n,i=!1,s=!1)=>(Bp||AB(),r.schedule(n,i,s)),e},{}),Jf=v0.reduce((e,t)=>(e[t]=iy[t].cancel,e),{}),e1=v0.reduce((e,t)=>(e[t]=()=>iy[t].process(zf),e),{}),DB=e=>iy[e].process(zf),TT=e=>{Bp=!1,zf.delta=q2?DT:Math.max(Math.min(e-zf.timestamp,EB),1),zf.timestamp=e,H2=!0,v0.forEach(DB),H2=!1,Bp&&(q2=!1,AT(TT))},AB=()=>{Bp=!0,q2=!0,H2||AT(TT)},Rx=()=>zf;function OT(e,t,r=0){return e-t-r}function TB(e,t,r=0,n=!0){return n?OT(t+-e,t,r):t-(e-t)+r}function OB(e,t,r,n){return n?e>=t+r:e<=-r}const LB=e=>{const t=({delta:r})=>e(r);return{start:()=>Nl.update(t,!0),stop:()=>Jf.update(t)}};function LT(e){var t,r,{from:n,autoplay:i=!0,driver:s=LB,elapsed:o=0,repeat:l=0,repeatType:c="loop",repeatDelay:u=0,onPlay:h,onStop:m,onComplete:x,onRepeat:p,onUpdate:v}=e,y=ci(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:g}=y,j,k=0,w=y.duration,E,O=!1,z=!0,Y;const B=kB(y);!((r=(t=B).needsInterpolation)===null||r===void 0)&&r.call(t,n,g)&&(Y=ST([0,100],[n,g],{clamp:!1}),n=0,g=100);const $=B(Object.assign(Object.assign({},y),{from:n,to:g}));function T(){k++,c==="reverse"?(z=k%2===0,o=TB(o,w,u,z)):(o=OT(o,w,u),c==="mirror"&&$.flipTarget()),O=!1,p&&p()}function A(){j.stop(),x&&x()}function R(q){if(z||(q=-q),o+=q,!O){const W=$.next(Math.max(0,o));E=W.value,Y&&(E=Y(E)),O=z?W.done:o<=0}v==null||v(E),O&&(k===0&&(w??(w=o)),k<l?OB(o,w,u,z)&&T():A())}function L(){h==null||h(),j=s(R),j.start()}return i&&L(),{stop:()=>{m==null||m(),j.stop()}}}function IT(e,t){return t?e*(1e3/t):0}function IB({from:e=0,velocity:t=0,min:r,max:n,power:i=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:l=10,restDelta:c=1,modifyTarget:u,driver:h,onUpdate:m,onComplete:x,onStop:p}){let v;function y(w){return r!==void 0&&w<r||n!==void 0&&w>n}function g(w){return r===void 0?n:n===void 0||Math.abs(r-w)<Math.abs(n-w)?r:n}function j(w){v==null||v.stop(),v=LT(Object.assign(Object.assign({},w),{driver:h,onUpdate:E=>{var O;m==null||m(E),(O=w.onUpdate)===null||O===void 0||O.call(w,E)},onComplete:x,onStop:p}))}function k(w){j(Object.assign({type:"spring",stiffness:o,damping:l,restDelta:c},w))}if(y(e))k({from:e,velocity:t,to:g(e)});else{let w=i*t+e;typeof u<"u"&&(w=u(w));const E=g(w),O=E===r?-1:1;let z,Y;const B=$=>{z=Y,Y=$,t=IT($-z,Rx().delta),(O===1&&$>E||O===-1&&$<E)&&k({from:$,to:E,velocity:t})};j({type:"decay",from:e,velocity:t,timeConstant:s,power:i,restDelta:c,modifyTarget:u,onUpdate:y(w)?B:void 0})}return{stop:()=>v==null?void 0:v.stop()}}const V2=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),AS=e=>V2(e)&&e.hasOwnProperty("z"),jg=(e,t)=>Math.abs(e-t);function MT(e,t){if(U2(e)&&U2(t))return jg(e,t);if(V2(e)&&V2(t)){const r=jg(e.x,t.x),n=jg(e.y,t.y),i=AS(e)&&AS(t)?jg(e.z,t.z):0;return Math.sqrt(Math.pow(r,2)+Math.pow(n,2)+Math.pow(i,2))}}const RT=(e,t)=>1-3*t+3*e,zT=(e,t)=>3*t-6*e,FT=e=>3*e,zx=(e,t,r)=>((RT(t,r)*e+zT(t,r))*e+FT(t))*e,$T=(e,t,r)=>3*RT(t,r)*e*e+2*zT(t,r)*e+FT(t),MB=1e-7,RB=10;function zB(e,t,r,n,i){let s,o,l=0;do o=t+(r-t)/2,s=zx(o,n,i)-e,s>0?r=o:t=o;while(Math.abs(s)>MB&&++l<RB);return o}const FB=8,$B=.001;function BB(e,t,r,n){for(let i=0;i<FB;++i){const s=$T(t,r,n);if(s===0)return t;const o=zx(t,r,n)-e;t-=o/s}return t}const gx=11,Ng=1/(gx-1);function UB(e,t,r,n){if(e===t&&r===n)return Vj;const i=new Float32Array(gx);for(let o=0;o<gx;++o)i[o]=zx(o*Ng,e,r);function s(o){let l=0,c=1;const u=gx-1;for(;c!==u&&i[c]<=o;++c)l+=Ng;--c;const h=(o-i[c])/(i[c+1]-i[c]),m=l+h*Ng,x=$T(m,e,r);return x>=$B?BB(o,m,e,r):x===0?m:zB(o,l,l+Ng,e,r)}return o=>o===0||o===1?o:zx(s(o),t,n)}function qB(e){var t=e.onTap,r=e.onTapStart,n=e.onTapCancel,i=e.whileTap,s=e.visualElement,o=t||r||n||i,l=_.useRef(!1),c=_.useRef(null),u={passive:!(r||t||n||v)};function h(){var y;(y=c.current)===null||y===void 0||y.call(c),c.current=null}function m(){var y;return h(),l.current=!1,(y=s.animationState)===null||y===void 0||y.setActive(_n.Tap,!1),!yT()}function x(y,g){m()&&(bT(s.getInstance(),y.target)?t==null||t(y,g):n==null||n(y,g))}function p(y,g){m()&&(n==null||n(y,g))}function v(y,g){var j;h(),!l.current&&(l.current=!0,c.current=ny(Rf(window,"pointerup",x,u),Rf(window,"pointercancel",p,u)),(j=s.animationState)===null||j===void 0||j.setActive(_n.Tap,!0),r==null||r(y,g))}Lx(s,"pointerdown",o?v:void 0,u),Uj(h)}var W2=new WeakMap,t1=new WeakMap,HB=function(e){var t;(t=W2.get(e.target))===null||t===void 0||t(e)},VB=function(e){e.forEach(HB)};function WB(e){var t=e.root,r=ci(e,["root"]),n=t||document;t1.has(n)||t1.set(n,{});var i=t1.get(n),s=JSON.stringify(r);return i[s]||(i[s]=new IntersectionObserver(VB,Rt({root:t},r))),i[s]}function KB(e,t,r){var n=WB(t);return W2.set(e,r),n.observe(e),function(){W2.delete(e),n.unobserve(e)}}function GB(e){var t=e.visualElement,r=e.whileInView,n=e.onViewportEnter,i=e.onViewportLeave,s=e.viewport,o=s===void 0?{}:s,l=_.useRef({hasEnteredView:!1,isInView:!1}),c=!!(r||n||i);o.once&&l.current.hasEnteredView&&(c=!1);var u=typeof IntersectionObserver>"u"?JB:XB;u(c,l.current,t,o)}var YB={some:0,all:1};function XB(e,t,r,n){var i=n.root,s=n.margin,o=n.amount,l=o===void 0?"some":o,c=n.once;_.useEffect(function(){if(e){var u={root:i==null?void 0:i.current,rootMargin:s,threshold:typeof l=="number"?l:YB[l]},h=function(m){var x,p=m.isIntersecting;if(t.isInView!==p&&(t.isInView=p,!(c&&!p&&t.hasEnteredView))){p&&(t.hasEnteredView=!0),(x=r.animationState)===null||x===void 0||x.setActive(_n.InView,p);var v=r.getProps(),y=p?v.onViewportEnter:v.onViewportLeave;y==null||y(m)}};return KB(r.getInstance(),u,h)}},[e,i,s,l])}function JB(e,t,r,n){var i=n.fallback,s=i===void 0?!0:i;_.useEffect(function(){!e||!s||requestAnimationFrame(function(){var o;t.hasEnteredView=!0;var l=r.getProps().onViewportEnter;l==null||l(null),(o=r.animationState)===null||o===void 0||o.setActive(_n.InView,!0)})},[e])}var id=function(e){return function(t){return e(t),null}},ZB={inView:id(GB),tap:id(qB),focus:id(A$),hover:id(B$)},QB=0,eU=function(){return QB++},BT=function(){return m0(eU)};function UT(){var e=_.useContext(f0);if(e===null)return[!0,null];var t=e.isPresent,r=e.onExitComplete,n=e.register,i=BT();_.useEffect(function(){return n(i)},[]);var s=function(){return r==null?void 0:r(i)};return!t&&r?[!1,s]:[!0]}function qT(e,t){if(!Array.isArray(t))return!1;var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}var Fx=function(e){return e*1e3},tU={linear:Vj,easeIn:Wj,easeInOut:PT,easeOut:hB,circIn:ET,circInOut:fB,circOut:Kj,backIn:Gj,backInOut:pB,backOut:mB,anticipate:gB,bounceIn:bB,bounceInOut:wB,bounceOut:Mx},TS=function(e){if(Array.isArray(e)){Dx(e.length===4);var t=Sn(e,4),r=t[0],n=t[1],i=t[2],s=t[3];return UB(r,n,i,s)}else if(typeof e=="string")return tU[e];return e},rU=function(e){return Array.isArray(e)&&typeof e[0]!="number"},OS=function(e,t){return e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&tu.test(t)&&!t.startsWith("url("))},Wd=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},_g=function(e){return{type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}},r1=function(){return{type:"keyframes",ease:"linear",duration:.3}},nU=function(e){return{type:"keyframes",duration:.8,values:e}},LS={x:Wd,y:Wd,z:Wd,rotate:Wd,rotateX:Wd,rotateY:Wd,rotateZ:Wd,scaleX:_g,scaleY:_g,scale:_g,opacity:r1,backgroundColor:r1,color:r1,default:_g},aU=function(e,t){var r;return Fp(t)?r=nU:r=LS[e]||LS.default,Rt({to:t},r(t))},iU=Rt(Rt({},rT),{color:hs,backgroundColor:hs,outlineColor:hs,fill:hs,stroke:hs,borderColor:hs,borderTopColor:hs,borderRightColor:hs,borderBottomColor:hs,borderLeftColor:hs,filter:F2,WebkitFilter:F2}),Yj=function(e){return iU[e]};function Xj(e,t){var r,n=Yj(e);return n!==F2&&(n=tu),(r=n.getAnimatableNone)===null||r===void 0?void 0:r.call(n,t)}function sU(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=ci(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}function oU(e){var t=e.ease,r=e.times,n=e.yoyo,i=e.flip,s=e.loop,o=ci(e,["ease","times","yoyo","flip","loop"]),l=Rt({},o);return r&&(l.offset=r),o.duration&&(l.duration=Fx(o.duration)),o.repeatDelay&&(l.repeatDelay=Fx(o.repeatDelay)),t&&(l.ease=rU(t)?t.map(TS):TS(t)),o.type==="tween"&&(l.type="keyframes"),(n||s||i)&&(n?l.repeatType="reverse":s?l.repeatType="loop":i&&(l.repeatType="mirror"),l.repeat=s||n||i||o.repeat),o.type!=="spring"&&(l.type="keyframes"),l}function lU(e,t){var r,n,i=Jj(e,t)||{};return(n=(r=i.delay)!==null&&r!==void 0?r:e.delay)!==null&&n!==void 0?n:0}function cU(e){return Array.isArray(e.to)&&e.to[0]===null&&(e.to=uo([],Sn(e.to),!1),e.to[0]=e.from),e}function uU(e,t,r){var n;return Array.isArray(t.to)&&((n=e.duration)!==null&&n!==void 0||(e.duration=.8)),cU(t),sU(e)||(e=Rt(Rt({},e),aU(r,t.to))),Rt(Rt({},t),oU(e))}function dU(e,t,r,n,i){var s,o=Jj(n,e),l=(s=o.from)!==null&&s!==void 0?s:t.get(),c=OS(e,r);l==="none"&&c&&typeof r=="string"?l=Xj(e,r):IS(l)&&typeof r=="string"?l=MS(r):!Array.isArray(r)&&IS(r)&&typeof l=="string"&&(r=MS(l));var u=OS(e,l);function h(){var x={from:l,to:r,velocity:t.getVelocity(),onComplete:i,onUpdate:function(p){return t.set(p)}};return o.type==="inertia"||o.type==="decay"?IB(Rt(Rt({},x),o)):LT(Rt(Rt({},uU(o,x,e)),{onUpdate:function(p){var v;x.onUpdate(p),(v=o.onUpdate)===null||v===void 0||v.call(o,p)},onComplete:function(){var p;x.onComplete(),(p=o.onComplete)===null||p===void 0||p.call(o)}}))}function m(){var x,p,v=dT(r);return t.set(v),i(),(x=o==null?void 0:o.onUpdate)===null||x===void 0||x.call(o,v),(p=o==null?void 0:o.onComplete)===null||p===void 0||p.call(o),{stop:function(){}}}return!u||!c||o.type===!1?m:h}function IS(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function MS(e){return typeof e=="number"?0:Xj("",e)}function Jj(e,t){return e[t]||e.default||e}function Zj(e,t,r,n){return n===void 0&&(n={}),t.start(function(i){var s,o,l=dU(e,t,r,n,i),c=lU(n,e),u=function(){return o=l()};return c?s=window.setTimeout(u,Fx(c)):u(),function(){clearTimeout(s),o==null||o.stop()}})}var hU=function(e){return/^\-?\d*\.?\d+$/.test(e)},fU=function(e){return/^0[^.\s]+$/.test(e)};function Qj(e,t){e.indexOf(t)===-1&&e.push(t)}function eN(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)}var jp=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(t){var r=this;return Qj(this.subscriptions,t),function(){return eN(r.subscriptions,t)}},e.prototype.notify=function(t,r,n){var i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(var s=0;s<i;s++){var o=this.subscriptions[s];o&&o(t,r,n)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),mU=function(e){return!isNaN(parseFloat(e))},pU=function(){function e(t){var r=this;this.version="6.5.1",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new jp,this.velocityUpdateSubscribers=new jp,this.renderSubscribers=new jp,this.canTrackVelocity=!1,this.updateAndNotify=function(n,i){i===void 0&&(i=!0),r.prev=r.current,r.current=n;var s=Rx(),o=s.delta,l=s.timestamp;r.lastUpdated!==l&&(r.timeDelta=o,r.lastUpdated=l,Nl.postRender(r.scheduleVelocityCheck)),r.prev!==r.current&&r.updateSubscribers.notify(r.current),r.velocityUpdateSubscribers.getSize()&&r.velocityUpdateSubscribers.notify(r.getVelocity()),i&&r.renderSubscribers.notify(r.current)},this.scheduleVelocityCheck=function(){return Nl.postRender(r.velocityCheck)},this.velocityCheck=function(n){var i=n.timestamp;i!==r.lastUpdated&&(r.prev=r.current,r.velocityUpdateSubscribers.notify(r.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=mU(this.current)}return e.prototype.onChange=function(t){return this.updateSubscribers.add(t)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(t){return t(this.get()),this.renderSubscribers.add(t)},e.prototype.attach=function(t){this.passiveEffect=t},e.prototype.set=function(t,r){r===void 0&&(r=!0),!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?IT(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(t){var r=this;return this.stop(),new Promise(function(n){r.hasAnimated=!0,r.stopAnimation=t(n)}).then(function(){return r.clearAnimation()})},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function Zf(e){return new pU(e)}var HT=function(e){return function(t){return t.test(e)}},gU={test:function(e){return e==="auto"},parse:function(e){return e}},VT=[Th,jr,rc,Ju,a$,n$,gU],Jm=function(e){return VT.find(HT(e))},xU=uo(uo([],Sn(VT),!1),[hs,tu],!1),vU=function(e){return xU.find(HT(e))};function yU(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Zf(r))}function bU(e,t){var r=ey(e,t),n=r?e.makeTargetAnimatable(r,!1):{},i=n.transitionEnd,s=i===void 0?{}:i;n.transition;var o=ci(n,["transitionEnd","transition"]);o=Rt(Rt({},o),s);for(var l in o){var c=dT(o[l]);yU(e,l,c)}}function wU(e,t,r){var n,i,s,o,l=Object.keys(t).filter(function(p){return!e.hasValue(p)}),c=l.length;if(c)for(var u=0;u<c;u++){var h=l[u],m=t[h],x=null;Array.isArray(m)&&(x=m[0]),x===null&&(x=(i=(n=r[h])!==null&&n!==void 0?n:e.readValue(h))!==null&&i!==void 0?i:t[h]),x!=null&&(typeof x=="string"&&(hU(x)||fU(x))?x=parseFloat(x):!vU(x)&&tu.test(m)&&(x=Xj(h,m)),e.addValue(h,Zf(x)),(s=(o=r)[h])!==null&&s!==void 0||(o[h]=x),e.setBaseTarget(h,x))}}function jU(e,t){if(t){var r=t[e]||t.default||t;return r.from}}function NU(e,t,r){var n,i,s={};for(var o in e)s[o]=(n=jU(o,t))!==null&&n!==void 0?n:(i=r.getValue(o))===null||i===void 0?void 0:i.get();return s}function _U(e,t,r){r===void 0&&(r={}),e.notifyAnimationStart(t);var n;if(Array.isArray(t)){var i=t.map(function(o){return K2(e,o,r)});n=Promise.all(i)}else if(typeof t=="string")n=K2(e,t,r);else{var s=typeof t=="function"?ey(e,t,r.custom):t;n=WT(e,s,r)}return n.then(function(){return e.notifyAnimationComplete(t)})}function K2(e,t,r){var n;r===void 0&&(r={});var i=ey(e,t,r.custom),s=(i||{}).transition,o=s===void 0?e.getDefaultTransition()||{}:s;r.transitionOverride&&(o=r.transitionOverride);var l=i?function(){return WT(e,i,r)}:function(){return Promise.resolve()},c=!((n=e.variantChildren)===null||n===void 0)&&n.size?function(p){p===void 0&&(p=0);var v=o.delayChildren,y=v===void 0?0:v,g=o.staggerChildren,j=o.staggerDirection;return SU(e,t,y+p,g,j,r)}:function(){return Promise.resolve()},u=o.when;if(u){var h=Sn(u==="beforeChildren"?[l,c]:[c,l],2),m=h[0],x=h[1];return m().then(x)}else return Promise.all([l(),c(r.delay)])}function WT(e,t,r){var n,i=r===void 0?{}:r,s=i.delay,o=s===void 0?0:s,l=i.transitionOverride,c=i.type,u=e.makeTargetAnimatable(t),h=u.transition,m=h===void 0?e.getDefaultTransition():h,x=u.transitionEnd,p=ci(u,["transition","transitionEnd"]);l&&(m=l);var v=[],y=c&&((n=e.animationState)===null||n===void 0?void 0:n.getState()[c]);for(var g in p){var j=e.getValue(g),k=p[g];if(!(!j||k===void 0||y&&CU(y,g))){var w=Rt({delay:o},m);e.shouldReduceMotion&&p0(g)&&(w=Rt(Rt({},w),{type:!1,delay:0}));var E=Zj(g,j,k,w);v.push(E)}}return Promise.all(v).then(function(){x&&bU(e,x)})}function SU(e,t,r,n,i,s){r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1);var o=[],l=(e.variantChildren.size-1)*n,c=i===1?function(u){return u===void 0&&(u=0),u*n}:function(u){return u===void 0&&(u=0),l-u*n};return Array.from(e.variantChildren).sort(kU).forEach(function(u,h){o.push(K2(u,t,Rt(Rt({},s),{delay:r+c(h)})).then(function(){return u.notifyAnimationComplete(t)}))}),Promise.all(o)}function kU(e,t){return e.sortNodePosition(t)}function CU(e,t){var r=e.protectedKeys,n=e.needsAnimating,i=r.hasOwnProperty(t)&&n[t]!==!0;return n[t]=!1,i}var tN=[_n.Animate,_n.InView,_n.Focus,_n.Hover,_n.Tap,_n.Drag,_n.Exit],PU=uo([],Sn(tN),!1).reverse(),EU=tN.length;function DU(e){return function(t){return Promise.all(t.map(function(r){var n=r.animation,i=r.options;return _U(e,n,i)}))}}function AU(e){var t=DU(e),r=OU(),n={},i=!0,s=function(h,m){var x=ey(e,m);if(x){x.transition;var p=x.transitionEnd,v=ci(x,["transition","transitionEnd"]);h=Rt(Rt(Rt({},h),v),p)}return h};function o(h){return n[h]!==void 0}function l(h){t=h(e)}function c(h,m){for(var x,p=e.getProps(),v=e.getVariantContext(!0)||{},y=[],g=new Set,j={},k=1/0,w=function(Y){var B=PU[Y],$=r[B],T=(x=p[B])!==null&&x!==void 0?x:v[B],A=yl(T),R=B===m?$.isActive:null;R===!1&&(k=Y);var L=T===v[B]&&T!==p[B]&&A;if(L&&i&&e.manuallyAnimateOnMount&&(L=!1),$.protectedKeys=Rt({},j),!$.isActive&&R===null||!T&&!$.prevProp||$j(T)||typeof T=="boolean")return"continue";var q=TU($.prevProp,T),W=q||B===m&&$.isActive&&!L&&A||Y>k&&A,ee=Array.isArray(T)?T:[T],M=ee.reduce(s,{});R===!1&&(M={});var V=$.prevResolvedValues,U=V===void 0?{}:V,I=Rt(Rt({},U),M),H=function(P){W=!0,g.delete(P),$.needsAnimating[P]=!0};for(var D in I){var G=M[D],Z=U[D];j.hasOwnProperty(D)||(G!==Z?Fp(G)&&Fp(Z)?!qT(G,Z)||q?H(D):$.protectedKeys[D]=!0:G!==void 0?H(D):g.add(D):G!==void 0&&g.has(D)?H(D):$.protectedKeys[D]=!0)}$.prevProp=T,$.prevResolvedValues=M,$.isActive&&(j=Rt(Rt({},j),M)),i&&e.blockInitialAnimation&&(W=!1),W&&!L&&y.push.apply(y,uo([],Sn(ee.map(function(P){return{animation:P,options:Rt({type:B},h)}})),!1))},E=0;E<EU;E++)w(E);if(n=Rt({},j),g.size){var O={};g.forEach(function(Y){var B=e.getBaseTarget(Y);B!==void 0&&(O[Y]=B)}),y.push({animation:O})}var z=!!y.length;return i&&p.initial===!1&&!e.manuallyAnimateOnMount&&(z=!1),i=!1,z?t(y):Promise.resolve()}function u(h,m,x){var p;if(r[h].isActive===m)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(function(g){var j;return(j=g.animationState)===null||j===void 0?void 0:j.setActive(h,m)}),r[h].isActive=m;var v=c(x,h);for(var y in r)r[y].protectedKeys={};return v}return{isAnimated:o,animateChanges:c,setActive:u,setAnimateFunction:l,getState:function(){return r}}}function TU(e,t){return typeof t=="string"?t!==e:UA(t)?!qT(t,e):!1}function Kd(e){return e===void 0&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function OU(){var e;return e={},e[_n.Animate]=Kd(!0),e[_n.InView]=Kd(),e[_n.Hover]=Kd(),e[_n.Tap]=Kd(),e[_n.Drag]=Kd(),e[_n.Focus]=Kd(),e[_n.Exit]=Kd(),e}var LU={animation:id(function(e){var t=e.visualElement,r=e.animate;t.animationState||(t.animationState=AU(t)),$j(r)&&_.useEffect(function(){return r.subscribe(t)},[r])}),exit:id(function(e){var t=e.custom,r=e.visualElement,n=Sn(UT(),2),i=n[0],s=n[1],o=_.useContext(f0);_.useEffect(function(){var l,c;r.isPresent=i;var u=(l=r.animationState)===null||l===void 0?void 0:l.setActive(_n.Exit,!i,{custom:(c=o==null?void 0:o.custom)!==null&&c!==void 0?c:t});!i&&(u==null||u.then(s))},[i])})},KT=function(){function e(t,r,n){var i=this,s=n===void 0?{}:n,o=s.transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(i.lastMoveEvent&&i.lastMoveEventInfo){var x=a1(i.lastMoveEventInfo,i.history),p=i.startEvent!==null,v=MT(x.offset,{x:0,y:0})>=3;if(!(!p&&!v)){var y=x.point,g=Rx().timestamp;i.history.push(Rt(Rt({},y),{timestamp:g}));var j=i.handlers,k=j.onStart,w=j.onMove;p||(k&&k(i.lastMoveEvent,x),i.startEvent=i.lastMoveEvent),w&&w(i.lastMoveEvent,x)}}},this.handlePointerMove=function(x,p){if(i.lastMoveEvent=x,i.lastMoveEventInfo=n1(p,i.transformPagePoint),fT(x)&&x.buttons===0){i.handlePointerUp(x,p);return}Nl.update(i.updatePoint,!0)},this.handlePointerUp=function(x,p){i.end();var v=i.handlers,y=v.onEnd,g=v.onSessionEnd,j=a1(n1(p,i.transformPagePoint),i.history);i.startEvent&&y&&y(x,j),g&&g(x,j)},!(mT(t)&&t.touches.length>1)){this.handlers=r,this.transformPagePoint=o;var l=Bj(t),c=n1(l,this.transformPagePoint),u=c.point,h=Rx().timestamp;this.history=[Rt(Rt({},u),{timestamp:h})];var m=r.onSessionStart;m&&m(t,a1(c,this.history)),this.removeListeners=ny(Rf(window,"pointermove",this.handlePointerMove),Rf(window,"pointerup",this.handlePointerUp),Rf(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(t){this.handlers=t},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),Jf.update(this.updatePoint)},e}();function n1(e,t){return t?{point:t(e.point)}:e}function RS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function a1(e,t){var r=e.point;return{point:r,delta:RS(r,GT(t)),offset:RS(r,IU(t)),velocity:MU(t,.1)}}function IU(e){return e[0]}function GT(e){return e[e.length-1]}function MU(e,t){if(e.length<2)return{x:0,y:0};for(var r=e.length-1,n=null,i=GT(e);r>=0&&(n=e[r],!(i.timestamp-n.timestamp>Fx(t)));)r--;if(!n)return{x:0,y:0};var s=(i.timestamp-n.timestamp)/1e3;if(s===0)return{x:0,y:0};var o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ru(e){return e.max-e.min}function zS(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=.01),MT(e,t)<r}function FS(e,t,r,n){n===void 0&&(n=.5),e.origin=n,e.originPoint=da(t.min,t.max,e.origin),e.scale=ru(r)/ru(t),(zS(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=da(r.min,r.max,e.origin)-e.originPoint,(zS(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Np(e,t,r,n){FS(e.x,t.x,r.x,n==null?void 0:n.originX),FS(e.y,t.y,r.y,n==null?void 0:n.originY)}function $S(e,t,r){e.min=r.min+t.min,e.max=e.min+ru(t)}function RU(e,t,r){$S(e.x,t.x,r.x),$S(e.y,t.y,r.y)}function BS(e,t,r){e.min=t.min-r.min,e.max=e.min+ru(t)}function _p(e,t,r){BS(e.x,t.x,r.x),BS(e.y,t.y,r.y)}function zU(e,t,r){var n=t.min,i=t.max;return n!==void 0&&e<n?e=r?da(n,e,r.min):Math.max(e,n):i!==void 0&&e>i&&(e=r?da(i,e,r.max):Math.min(e,i)),e}function US(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function FU(e,t){var r=t.top,n=t.left,i=t.bottom,s=t.right;return{x:US(e.x,n,s),y:US(e.y,r,i)}}function qS(e,t){var r,n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&(r=Sn([i,n],2),n=r[0],i=r[1]),{min:n,max:i}}function $U(e,t){return{x:qS(e.x,t.x),y:qS(e.y,t.y)}}function BU(e,t){var r=.5,n=ru(e),i=ru(t);return i>n?r=$p(t.min,t.max-n,e.min):n>i&&(r=$p(e.min,e.max-i,t.min)),Ix(0,1,r)}function UU(e,t){var r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}var G2=.35;function qU(e){return e===void 0&&(e=G2),e===!1?e=0:e===!0&&(e=G2),{x:HS(e,"left","right"),y:HS(e,"top","bottom")}}function HS(e,t,r){return{min:VS(e,t),max:VS(e,r)}}function VS(e,t){var r;return typeof e=="number"?e:(r=e[t])!==null&&r!==void 0?r:0}var WS=function(){return{translate:0,scale:1,origin:0,originPoint:0}},Sp=function(){return{x:WS(),y:WS()}},KS=function(){return{min:0,max:0}},Zi=function(){return{x:KS(),y:KS()}};function Jl(e){return[e("x"),e("y")]}function YT(e){var t=e.top,r=e.left,n=e.right,i=e.bottom;return{x:{min:r,max:n},y:{min:t,max:i}}}function HU(e){var t=e.x,r=e.y;return{top:r.min,right:t.max,bottom:r.max,left:t.min}}function VU(e,t){if(!t)return e;var r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function i1(e){return e===void 0||e===1}function XT(e){var t=e.scale,r=e.scaleX,n=e.scaleY;return!i1(t)||!i1(r)||!i1(n)}function Zu(e){return XT(e)||GS(e.x)||GS(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function GS(e){return e&&e!=="0%"}function $x(e,t,r){var n=e-r,i=t*n;return r+i}function YS(e,t,r,n,i){return i!==void 0&&(e=$x(e,i,n)),$x(e,r,n)+t}function Y2(e,t,r,n,i){t===void 0&&(t=0),r===void 0&&(r=1),e.min=YS(e.min,t,r,n,i),e.max=YS(e.max,t,r,n,i)}function JT(e,t){var r=t.x,n=t.y;Y2(e.x,r.translate,r.scale,r.originPoint),Y2(e.y,n.translate,n.scale,n.originPoint)}function WU(e,t,r,n){var i,s;n===void 0&&(n=!1);var o=r.length;if(o){t.x=t.y=1;for(var l,c,u=0;u<o;u++)l=r[u],c=l.projectionDelta,((s=(i=l.instance)===null||i===void 0?void 0:i.style)===null||s===void 0?void 0:s.display)!=="contents"&&(n&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ef(e,{x:-l.scroll.x,y:-l.scroll.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,JT(e,c)),n&&Zu(l.latestValues)&&Ef(e,l.latestValues))}}function Qu(e,t){e.min=e.min+t,e.max=e.max+t}function XS(e,t,r){var n=Sn(r,3),i=n[0],s=n[1],o=n[2],l=t[o]!==void 0?t[o]:.5,c=da(e.min,e.max,l);Y2(e,t[i],t[s],c,t.scale)}var KU=["x","scaleX","originX"],GU=["y","scaleY","originY"];function Ef(e,t){XS(e.x,t,KU),XS(e.y,t,GU)}function ZT(e,t){return YT(VU(e.getBoundingClientRect(),t))}function YU(e,t,r){var n=ZT(e,r),i=t.scroll;return i&&(Qu(n.x,i.x),Qu(n.y,i.y)),n}var XU=new WeakMap,JU=function(){function e(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zi(),this.visualElement=t}return e.prototype.start=function(t,r){var n=this,i=r===void 0?{}:r,s=i.snapToCursor,o=s===void 0?!1:s;if(this.visualElement.isPresent!==!1){var l=function(m){n.stopAnimation(),o&&n.snapToCursor(Bj(m,"page").point)},c=function(m,x){var p,v=n.getProps(),y=v.drag,g=v.dragPropagation,j=v.onDragStart;y&&!g&&(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=vT(y),!n.openGlobalLock)||(n.isDragging=!0,n.currentDirection=null,n.resolveConstraints(),n.visualElement.projection&&(n.visualElement.projection.isAnimationBlocked=!0,n.visualElement.projection.target=void 0),Jl(function(k){var w,E,O=n.getAxisMotionValue(k).get()||0;if(rc.test(O)){var z=(E=(w=n.visualElement.projection)===null||w===void 0?void 0:w.layout)===null||E===void 0?void 0:E.actual[k];if(z){var Y=ru(z);O=Y*(parseFloat(O)/100)}}n.originPoint[k]=O}),j==null||j(m,x),(p=n.visualElement.animationState)===null||p===void 0||p.setActive(_n.Drag,!0))},u=function(m,x){var p=n.getProps(),v=p.dragPropagation,y=p.dragDirectionLock,g=p.onDirectionLock,j=p.onDrag;if(!(!v&&!n.openGlobalLock)){var k=x.offset;if(y&&n.currentDirection===null){n.currentDirection=ZU(k),n.currentDirection!==null&&(g==null||g(n.currentDirection));return}n.updateAxis("x",x.point,k),n.updateAxis("y",x.point,k),n.visualElement.syncRender(),j==null||j(m,x)}},h=function(m,x){return n.stop(m,x)};this.panSession=new KT(t,{onSessionStart:l,onStart:c,onMove:u,onSessionEnd:h},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},e.prototype.stop=function(t,r){var n=this.isDragging;if(this.cancel(),!!n){var i=r.velocity;this.startAnimation(i);var s=this.getProps().onDragEnd;s==null||s(t,r)}},e.prototype.cancel=function(){var t,r;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(t=this.panSession)===null||t===void 0||t.end(),this.panSession=void 0;var n=this.getProps().dragPropagation;!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(r=this.visualElement.animationState)===null||r===void 0||r.setActive(_n.Drag,!1)},e.prototype.updateAxis=function(t,r,n){var i=this.getProps().drag;if(!(!n||!Sg(t,i,this.currentDirection))){var s=this.getAxisMotionValue(t),o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=zU(o,this.constraints[t],this.elastic[t])),s.set(o)}},e.prototype.resolveConstraints=function(){var t=this,r=this.getProps(),n=r.dragConstraints,i=r.dragElastic,s=(this.visualElement.projection||{}).layout,o=this.constraints;n&&Pf(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=FU(s.actual,n):this.constraints=!1,this.elastic=qU(i),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Jl(function(l){t.getAxisMotionValue(l)&&(t.constraints[l]=UU(s.actual[l],t.constraints[l]))})},e.prototype.resolveRefConstraints=function(){var t=this.getProps(),r=t.dragConstraints,n=t.onMeasureDragConstraints;if(!r||!Pf(r))return!1;var i=r.current,s=this.visualElement.projection;if(!s||!s.layout)return!1;var o=YU(i,s.root,this.visualElement.getTransformPagePoint()),l=$U(s.layout.actual,o);if(n){var c=n(HU(l));this.hasMutatedConstraints=!!c,c&&(l=YT(c))}return l},e.prototype.startAnimation=function(t){var r=this,n=this.getProps(),i=n.drag,s=n.dragMomentum,o=n.dragElastic,l=n.dragTransition,c=n.dragSnapToOrigin,u=n.onDragTransitionEnd,h=this.constraints||{},m=Jl(function(x){var p;if(Sg(x,i,r.currentDirection)){var v=(p=h==null?void 0:h[x])!==null&&p!==void 0?p:{};c&&(v={min:0,max:0});var y=o?200:1e6,g=o?40:1e7,j=Rt(Rt({type:"inertia",velocity:s?t[x]:0,bounceStiffness:y,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10},l),v);return r.startAxisValueAnimation(x,j)}});return Promise.all(m).then(u)},e.prototype.startAxisValueAnimation=function(t,r){var n=this.getAxisMotionValue(t);return Zj(t,n,0,r)},e.prototype.stopAnimation=function(){var t=this;Jl(function(r){return t.getAxisMotionValue(r).stop()})},e.prototype.getAxisMotionValue=function(t){var r,n,i="_drag"+t.toUpperCase(),s=this.visualElement.getProps()[i];return s||this.visualElement.getValue(t,(n=(r=this.visualElement.getProps().initial)===null||r===void 0?void 0:r[t])!==null&&n!==void 0?n:0)},e.prototype.snapToCursor=function(t){var r=this;Jl(function(n){var i=r.getProps().drag;if(Sg(n,i,r.currentDirection)){var s=r.visualElement.projection,o=r.getAxisMotionValue(n);if(s&&s.layout){var l=s.layout.actual[n],c=l.min,u=l.max;o.set(t[n]-da(c,u,.5))}}})},e.prototype.scalePositionWithinConstraints=function(){var t=this,r,n=this.getProps(),i=n.drag,s=n.dragConstraints,o=this.visualElement.projection;if(!(!Pf(s)||!o||!this.constraints)){this.stopAnimation();var l={x:0,y:0};Jl(function(u){var h=t.getAxisMotionValue(u);if(h){var m=h.get();l[u]=BU({min:m,max:m},t.constraints[u])}});var c=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=c?c({},""):"none",(r=o.root)===null||r===void 0||r.updateScroll(),o.updateLayout(),this.resolveConstraints(),Jl(function(u){if(Sg(u,i,null)){var h=t.getAxisMotionValue(u),m=t.constraints[u],x=m.min,p=m.max;h.set(da(x,p,l[u]))}})}},e.prototype.addListeners=function(){var t=this,r;XU.set(this.visualElement,this);var n=this.visualElement.getInstance(),i=Rf(n,"pointerdown",function(u){var h=t.getProps(),m=h.drag,x=h.dragListener,p=x===void 0?!0:x;m&&p&&t.start(u)}),s=function(){var u=t.getProps().dragConstraints;Pf(u)&&(t.constraints=t.resolveRefConstraints())},o=this.visualElement.projection,l=o.addEventListener("measure",s);o&&!o.layout&&((r=o.root)===null||r===void 0||r.updateScroll(),o.updateLayout()),s();var c=ry(window,"resize",function(){return t.scalePositionWithinConstraints()});return o.addEventListener("didUpdate",function(u){var h=u.delta,m=u.hasLayoutChanged;t.isDragging&&m&&(Jl(function(x){var p=t.getAxisMotionValue(x);p&&(t.originPoint[x]+=h[x].translate,p.set(p.get()+h[x].translate))}),t.visualElement.syncRender())}),function(){c(),i(),l()}},e.prototype.getProps=function(){var t=this.visualElement.getProps(),r=t.drag,n=r===void 0?!1:r,i=t.dragDirectionLock,s=i===void 0?!1:i,o=t.dragPropagation,l=o===void 0?!1:o,c=t.dragConstraints,u=c===void 0?!1:c,h=t.dragElastic,m=h===void 0?G2:h,x=t.dragMomentum,p=x===void 0?!0:x;return Rt(Rt({},t),{drag:n,dragDirectionLock:s,dragPropagation:l,dragConstraints:u,dragElastic:m,dragMomentum:p})},e}();function Sg(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function ZU(e,t){t===void 0&&(t=10);var r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}function QU(e){var t=e.dragControls,r=e.visualElement,n=m0(function(){return new JU(r)});_.useEffect(function(){return t&&t.subscribe(n)},[n,t]),_.useEffect(function(){return n.addListeners()},[n])}function eq(e){var t=e.onPan,r=e.onPanStart,n=e.onPanEnd,i=e.onPanSessionStart,s=e.visualElement,o=t||r||n||i,l=_.useRef(null),c=_.useContext(Tj).transformPagePoint,u={onSessionStart:i,onStart:r,onMove:t,onEnd:function(m,x){l.current=null,n&&n(m,x)}};_.useEffect(function(){l.current!==null&&l.current.updateHandlers(u)});function h(m){l.current=new KT(m,u,{transformPagePoint:c})}Lx(s,"pointerdown",o&&h),Uj(function(){return l.current&&l.current.end()})}var tq={pan:id(eq),drag:id(QU)},kg=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function rq(){var e=kg.map(function(){return new jp}),t={},r={clearAllListeners:function(){return e.forEach(function(n){return n.clear()})},updatePropListeners:function(n){kg.forEach(function(i){var s,o="on"+i,l=n[o];(s=t[i])===null||s===void 0||s.call(t),l&&(t[i]=r[o](l))})}};return e.forEach(function(n,i){r["on"+kg[i]]=function(s){return n.add(s)},r["notify"+kg[i]]=function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return n.notify.apply(n,uo([],Sn(s),!1))}}),r}function nq(e,t,r){var n;for(var i in t){var s=t[i],o=r[i];if(eu(s))e.addValue(i,s);else if(eu(o))e.addValue(i,Zf(s));else if(o!==s)if(e.hasValue(i)){var l=e.getValue(i);!l.hasAnimated&&l.set(s)}else e.addValue(i,Zf((n=e.getStaticValue(i))!==null&&n!==void 0?n:s))}for(var i in r)t[i]===void 0&&e.removeValue(i);return t}var QT=function(e){var t=e.treeType,r=t===void 0?"":t,n=e.build,i=e.getBaseTarget,s=e.makeTargetAnimatable,o=e.measureViewportBox,l=e.render,c=e.readValueFromInstance,u=e.removeValueFromRenderState,h=e.sortNodePosition,m=e.scrapeMotionValuesFromProps;return function(x,p){var v=x.parent,y=x.props,g=x.presenceId,j=x.blockInitialAnimation,k=x.visualState,w=x.shouldReduceMotion;p===void 0&&(p={});var E=!1,O=k.latestValues,z=k.renderState,Y,B=rq(),$=new Map,T=new Map,A={},R=Rt({},O),L;function q(){!Y||!E||(W(),l(Y,z,y.style,G.projection))}function W(){n(G,z,O,p,y)}function ee(){B.notifyUpdate(O)}function M(Z,P){var re=P.onChange(function(be){O[Z]=be,y.onUpdate&&Nl.update(ee,!1,!0)}),ce=P.onRenderRequest(G.scheduleRender);T.set(Z,function(){re(),ce()})}var V=m(y);for(var U in V){var I=V[U];O[U]!==void 0&&eu(I)&&I.set(O[U],!1)}var H=ty(y),D=HA(y),G=Rt(Rt({treeType:r,current:null,depth:v?v.depth+1:0,parent:v,children:new Set,presenceId:g,shouldReduceMotion:w,variantChildren:D?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:!!(v!=null&&v.isMounted()),blockInitialAnimation:j,isMounted:function(){return!!Y},mount:function(Z){E=!0,Y=G.current=Z,G.projection&&G.projection.mount(Z),D&&v&&!H&&(L=v==null?void 0:v.addVariantChild(G)),$.forEach(function(P,re){return M(re,P)}),v==null||v.children.add(G),G.setProps(y)},unmount:function(){var Z;(Z=G.projection)===null||Z===void 0||Z.unmount(),Jf.update(ee),Jf.render(q),T.forEach(function(P){return P()}),L==null||L(),v==null||v.children.delete(G),B.clearAllListeners(),Y=void 0,E=!1},addVariantChild:function(Z){var P,re=G.getClosestVariantNode();if(re)return(P=re.variantChildren)===null||P===void 0||P.add(Z),function(){return re.variantChildren.delete(Z)}},sortNodePosition:function(Z){return!h||r!==Z.treeType?0:h(G.getInstance(),Z.getInstance())},getClosestVariantNode:function(){return D?G:v==null?void 0:v.getClosestVariantNode()},getLayoutId:function(){return y.layoutId},getInstance:function(){return Y},getStaticValue:function(Z){return O[Z]},setStaticValue:function(Z,P){return O[Z]=P},getLatestValues:function(){return O},setVisibility:function(Z){G.isVisible!==Z&&(G.isVisible=Z,G.scheduleRender())},makeTargetAnimatable:function(Z,P){return P===void 0&&(P=!0),s(G,Z,y,P)},measureViewportBox:function(){return o(Y,y)},addValue:function(Z,P){G.hasValue(Z)&&G.removeValue(Z),$.set(Z,P),O[Z]=P.get(),M(Z,P)},removeValue:function(Z){var P;$.delete(Z),(P=T.get(Z))===null||P===void 0||P(),T.delete(Z),delete O[Z],u(Z,z)},hasValue:function(Z){return $.has(Z)},getValue:function(Z,P){var re=$.get(Z);return re===void 0&&P!==void 0&&(re=Zf(P),G.addValue(Z,re)),re},forEachValue:function(Z){return $.forEach(Z)},readValue:function(Z){var P;return(P=O[Z])!==null&&P!==void 0?P:c(Y,Z,p)},setBaseTarget:function(Z,P){R[Z]=P},getBaseTarget:function(Z){if(i){var P=i(y,Z);if(P!==void 0&&!eu(P))return P}return R[Z]}},B),{build:function(){return W(),z},scheduleRender:function(){Nl.render(q,!1,!0)},syncRender:q,setProps:function(Z){(Z.transformTemplate||y.transformTemplate)&&G.scheduleRender(),y=Z,B.updatePropListeners(Z),A=nq(G,m(y),A)},getProps:function(){return y},getVariant:function(Z){var P;return(P=y.variants)===null||P===void 0?void 0:P[Z]},getDefaultTransition:function(){return y.transition},getTransformPagePoint:function(){return y.transformPagePoint},getVariantContext:function(Z){if(Z===void 0&&(Z=!1),Z)return v==null?void 0:v.getVariantContext();if(!H){var P=(v==null?void 0:v.getVariantContext())||{};return y.initial!==void 0&&(P.initial=y.initial),P}for(var re={},ce=0;ce<aq;ce++){var be=eO[ce],ae=y[be];(yl(ae)||ae===!1)&&(re[be]=ae)}return re}});return G}},eO=uo(["initial"],Sn(tN),!1),aq=eO.length;function X2(e){return typeof e=="string"&&e.startsWith("var(--")}var tO=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function iq(e){var t=tO.exec(e);if(!t)return[,];var r=Sn(t,3),n=r[1],i=r[2];return[n,i]}function J2(e,t,r){var n=Sn(iq(e),2),i=n[0],s=n[1];if(i){var o=window.getComputedStyle(t).getPropertyValue(i);return o?o.trim():X2(s)?J2(s,t):s}}function sq(e,t,r){var n,i=ci(t,[]),s=e.getInstance();if(!(s instanceof Element))return{target:i,transitionEnd:r};r&&(r=Rt({},r)),e.forEachValue(function(u){var h=u.get();if(X2(h)){var m=J2(h,s);m&&u.set(m)}});for(var o in i){var l=i[o];if(X2(l)){var c=J2(l,s);c&&(i[o]=c,r&&((n=r[o])!==null&&n!==void 0||(r[o]=l)))}}return{target:i,transitionEnd:r}}var oq=new Set(["width","height","top","left","right","bottom","x","y"]),rO=function(e){return oq.has(e)},lq=function(e){return Object.keys(e).some(rO)},nO=function(e,t){e.set(t,!1),e.set(t)},JS=function(e){return e===Th||e===jr},ZS;(function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"})(ZS||(ZS={}));var QS=function(e,t){return parseFloat(e.split(", ")[t])},ek=function(e,t){return function(r,n){var i=n.transform;if(i==="none"||!i)return 0;var s=i.match(/^matrix3d\((.+)\)$/);if(s)return QS(s[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?QS(o[1],e):0}},cq=new Set(["x","y","z"]),uq=Rp.filter(function(e){return!cq.has(e)});function dq(e){var t=[];return uq.forEach(function(r){var n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.syncRender(),t}var tk={width:function(e,t){var r=e.x,n=t.paddingLeft,i=n===void 0?"0":n,s=t.paddingRight,o=s===void 0?"0":s;return r.max-r.min-parseFloat(i)-parseFloat(o)},height:function(e,t){var r=e.y,n=t.paddingTop,i=n===void 0?"0":n,s=t.paddingBottom,o=s===void 0?"0":s;return r.max-r.min-parseFloat(i)-parseFloat(o)},top:function(e,t){var r=t.top;return parseFloat(r)},left:function(e,t){var r=t.left;return parseFloat(r)},bottom:function(e,t){var r=e.y,n=t.top;return parseFloat(n)+(r.max-r.min)},right:function(e,t){var r=e.x,n=t.left;return parseFloat(n)+(r.max-r.min)},x:ek(4,13),y:ek(5,14)},hq=function(e,t,r){var n=t.measureViewportBox(),i=t.getInstance(),s=getComputedStyle(i),o=s.display,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(function(u){l[u]=tk[u](n,s)}),t.syncRender();var c=t.measureViewportBox();return r.forEach(function(u){var h=t.getValue(u);nO(h,l[u]),e[u]=tk[u](c,s)}),e},fq=function(e,t,r,n){r===void 0&&(r={}),n===void 0&&(n={}),t=Rt({},t),n=Rt({},n);var i=Object.keys(t).filter(rO),s=[],o=!1,l=[];if(i.forEach(function(h){var m=e.getValue(h);if(e.hasValue(h)){var x=r[h],p=Jm(x),v=t[h],y;if(Fp(v)){var g=v.length,j=v[0]===null?1:0;x=v[j],p=Jm(x);for(var k=j;k<g;k++)y?Dx(Jm(v[k])===y):y=Jm(v[k])}else y=Jm(v);if(p!==y)if(JS(p)&&JS(y)){var w=m.get();typeof w=="string"&&m.set(parseFloat(w)),typeof v=="string"?t[h]=parseFloat(v):Array.isArray(v)&&y===jr&&(t[h]=v.map(parseFloat))}else p!=null&&p.transform&&(y!=null&&y.transform)&&(x===0||v===0)?x===0?m.set(y.transform(x)):t[h]=p.transform(v):(o||(s=dq(e),o=!0),l.push(h),n[h]=n[h]!==void 0?n[h]:t[h],nO(m,v))}}),l.length){var c=l.indexOf("height")>=0?window.pageYOffset:null,u=hq(t,e,l);return s.length&&s.forEach(function(h){var m=Sn(h,2),x=m[0],p=m[1];e.getValue(x).set(p)}),e.syncRender(),c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function mq(e,t,r,n){return lq(t)?fq(e,t,r,n):{target:t,transitionEnd:n}}var pq=function(e,t,r,n){var i=sq(e,t,n);return t=i.target,n=i.transitionEnd,mq(e,t,r,n)};function gq(e){return window.getComputedStyle(e)}var aO={treeType:"dom",readValueFromInstance:function(e,t){if(p0(t)){var r=Yj(t);return r&&r.default||0}else{var n=gq(e);return(GA(t)?n.getPropertyValue(t):n[t])||0}},sortNodePosition:function(e,t){return e.compareDocumentPosition(t)&2?1:-1},getBaseTarget:function(e,t){var r;return(r=e.style)===null||r===void 0?void 0:r[t]},measureViewportBox:function(e,t){var r=t.transformPagePoint;return ZT(e,r)},resetTransform:function(e,t,r){var n=r.transformTemplate;t.style.transform=n?n({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var r=t.vars,n=t.style;delete r[e],delete n[e]},makeTargetAnimatable:function(e,t,r,n){var i=r.transformValues;n===void 0&&(n=!0);var s=t.transition,o=t.transitionEnd,l=ci(t,["transition","transitionEnd"]),c=NU(l,s||{},e);if(i&&(o&&(o=i(o)),l&&(l=i(l)),c&&(c=i(c))),n){wU(e,l,c);var u=pq(e,l,c,o);o=u.transitionEnd,l=u.target}return Rt({transition:s,transitionEnd:o},l)},scrapeMotionValuesFromProps:Fj,build:function(e,t,r,n,i){e.isVisible!==void 0&&(t.style.visibility=e.isVisible?"visible":"hidden"),Mj(t,r,n,i.transformTemplate)},render:oT},xq=QT(aO),vq=QT(Rt(Rt({},aO),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var r;return p0(t)?((r=Yj(t))===null||r===void 0?void 0:r.default)||0:(t=lT.has(t)?t:sT(t),e.getAttribute(t))},scrapeMotionValuesFromProps:uT,build:function(e,t,r,n,i){zj(t,r,n,i.transformTemplate)},render:cT})),yq=function(e,t){return Lj(e)?vq(t,{enableHardwareAcceleration:!1}):xq(t,{enableHardwareAcceleration:!0})};function rk(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var Zm={correct:function(e,t){if(!t.target)return e;if(typeof e=="string")if(jr.test(e))e=parseFloat(e);else return e;var r=rk(e,t.target.x),n=rk(e,t.target.y);return"".concat(r,"% ").concat(n,"%")}},nk="_$css",bq={correct:function(e,t){var r=t.treeScale,n=t.projectionDelta,i=e,s=e.includes("var("),o=[];s&&(e=e.replace(tO,function(y){return o.push(y),nk}));var l=tu.parse(e);if(l.length>5)return i;var c=tu.createTransformer(e),u=typeof l[0]!="number"?1:0,h=n.x.scale*r.x,m=n.y.scale*r.y;l[0+u]/=h,l[1+u]/=m;var x=da(h,m,.5);typeof l[2+u]=="number"&&(l[2+u]/=x),typeof l[3+u]=="number"&&(l[3+u]/=x);var p=c(l);if(s){var v=0;p=p.replace(nk,function(){var y=o[v];return v++,y})}return p}},wq=function(e){Jv(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.componentDidMount=function(){var r=this,n=this.props,i=n.visualElement,s=n.layoutGroup,o=n.switchLayoutGroup,l=n.layoutId,c=i.projection;KF(Nq),c&&(s!=null&&s.group&&s.group.add(c),o!=null&&o.register&&l&&o.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",function(){r.safeToRemove()}),c.setOptions(Rt(Rt({},c.options),{onExitComplete:function(){return r.safeToRemove()}}))),yp.hasEverUpdated=!0},t.prototype.getSnapshotBeforeUpdate=function(r){var n=this,i=this.props,s=i.layoutDependency,o=i.visualElement,l=i.drag,c=i.isPresent,u=o.projection;return u&&(u.isPresent=c,l||r.layoutDependency!==s||s===void 0?u.willUpdate():this.safeToRemove(),r.isPresent!==c&&(c?u.promote():u.relegate()||Nl.postRender(function(){var h;!((h=u.getStack())===null||h===void 0)&&h.members.length||n.safeToRemove()}))),null},t.prototype.componentDidUpdate=function(){var r=this.props.visualElement.projection;r&&(r.root.didUpdate(),!r.currentAnimation&&r.isLead()&&this.safeToRemove())},t.prototype.componentWillUnmount=function(){var r=this.props,n=r.visualElement,i=r.layoutGroup,s=r.switchLayoutGroup,o=n.projection;o&&(o.scheduleCheckAfterUnmount(),i!=null&&i.group&&i.group.remove(o),s!=null&&s.deregister&&s.deregister(o))},t.prototype.safeToRemove=function(){var r=this.props.safeToRemove;r==null||r()},t.prototype.render=function(){return null},t}(vt.Component);function jq(e){var t=Sn(UT(),2),r=t[0],n=t[1],i=_.useContext(Oj);return vt.createElement(wq,Rt({},e,{layoutGroup:i,switchLayoutGroup:_.useContext(VA),isPresent:r,safeToRemove:n}))}var Nq={borderRadius:Rt(Rt({},Zm),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Zm,borderTopRightRadius:Zm,borderBottomLeftRadius:Zm,borderBottomRightRadius:Zm,boxShadow:bq},_q={measureLayout:jq};function Sq(e,t,r){r===void 0&&(r={});var n=eu(e)?e:Zf(e);return Zj("",n,t,r),{stop:function(){return n.stop()},isAnimating:function(){return n.isAnimating()}}}var iO=["TopLeft","TopRight","BottomLeft","BottomRight"],kq=iO.length,ak=function(e){return typeof e=="string"?parseFloat(e):e},ik=function(e){return typeof e=="number"||jr.test(e)};function Cq(e,t,r,n,i,s){var o,l,c,u;i?(e.opacity=da(0,(o=r.opacity)!==null&&o!==void 0?o:1,Pq(n)),e.opacityExit=da((l=t.opacity)!==null&&l!==void 0?l:1,0,Eq(n))):s&&(e.opacity=da((c=t.opacity)!==null&&c!==void 0?c:1,(u=r.opacity)!==null&&u!==void 0?u:1,n));for(var h=0;h<kq;h++){var m="border".concat(iO[h],"Radius"),x=sk(t,m),p=sk(r,m);if(!(x===void 0&&p===void 0)){x||(x=0),p||(p=0);var v=x===0||p===0||ik(x)===ik(p);v?(e[m]=Math.max(da(ak(x),ak(p),n),0),(rc.test(p)||rc.test(x))&&(e[m]+="%")):e[m]=p}}(t.rotate||r.rotate)&&(e.rotate=da(t.rotate||0,r.rotate||0,n))}function sk(e,t){var r;return(r=e[t])!==null&&r!==void 0?r:e.borderRadius}var Pq=sO(0,.5,Kj),Eq=sO(.5,.95,Vj);function sO(e,t,r){return function(n){return n<e?0:n>t?1:r($p(e,t,n))}}function ok(e,t){e.min=t.min,e.max=t.max}function ml(e,t){ok(e.x,t.x),ok(e.y,t.y)}function lk(e,t,r,n,i){return e-=t,e=$x(e,1/r,n),i!==void 0&&(e=$x(e,1/i,n)),e}function Dq(e,t,r,n,i,s,o){if(t===void 0&&(t=0),r===void 0&&(r=1),n===void 0&&(n=.5),s===void 0&&(s=e),o===void 0&&(o=e),rc.test(t)){t=parseFloat(t);var l=da(o.min,o.max,t/100);t=l-o.min}if(typeof t=="number"){var c=da(s.min,s.max,n);e===s&&(c-=t),e.min=lk(e.min,t,r,c,i),e.max=lk(e.max,t,r,c,i)}}function ck(e,t,r,n,i){var s=Sn(r,3),o=s[0],l=s[1],c=s[2];Dq(e,t[o],t[l],t[c],t.scale,n,i)}var Aq=["x","scaleX","originX"],Tq=["y","scaleY","originY"];function uk(e,t,r,n){ck(e.x,t,Aq,r==null?void 0:r.x,n==null?void 0:n.x),ck(e.y,t,Tq,r==null?void 0:r.y,n==null?void 0:n.y)}function dk(e){return e.translate===0&&e.scale===1}function oO(e){return dk(e.x)&&dk(e.y)}function lO(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var Oq=function(){function e(){this.members=[]}return e.prototype.add=function(t){Qj(this.members,t),t.scheduleRender()},e.prototype.remove=function(t){if(eN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){var r=this.members[this.members.length-1];r&&this.promote(r)}},e.prototype.relegate=function(t){var r=this.members.findIndex(function(o){return t===o});if(r===0)return!1;for(var n,i=r;i>=0;i--){var s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1},e.prototype.promote=function(t,r){var n,i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,r&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues,t.snapshot.isShared=!0),!((n=t.root)===null||n===void 0)&&n.isUpdating&&(t.isLayoutDirty=!0);var s=t.options.crossfade;s===!1&&i.hide()}},e.prototype.exitAnimationComplete=function(){this.members.forEach(function(t){var r,n,i,s,o;(n=(r=t.options).onExitComplete)===null||n===void 0||n.call(r),(o=(i=t.resumingFrom)===null||i===void 0?void 0:(s=i.options).onExitComplete)===null||o===void 0||o.call(s)})},e.prototype.scheduleRender=function(){this.members.forEach(function(t){t.instance&&t.scheduleRender(!1)})},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}(),Lq="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function hk(e,t,r){var n=e.x.translate/t.x,i=e.y.translate/t.y,s="translate3d(".concat(n,"px, ").concat(i,"px, 0) ");if(s+="scale(".concat(1/t.x,", ").concat(1/t.y,") "),r){var o=r.rotate,l=r.rotateX,c=r.rotateY;o&&(s+="rotate(".concat(o,"deg) ")),l&&(s+="rotateX(".concat(l,"deg) ")),c&&(s+="rotateY(".concat(c,"deg) "))}var u=e.x.scale*t.x,h=e.y.scale*t.y;return s+="scale(".concat(u,", ").concat(h,")"),s===Lq?"none":s}var Iq=function(e,t){return e.depth-t.depth},Mq=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(t){Qj(this.children,t),this.isDirty=!0},e.prototype.remove=function(t){eN(this.children,t),this.isDirty=!0},e.prototype.forEach=function(t){this.isDirty&&this.children.sort(Iq),this.isDirty=!1,this.children.forEach(t)},e}(),fk=1e3;function cO(e){var t=e.attachResizeListener,r=e.defaultParent,n=e.measureScroll,i=e.checkIsScrollRoot,s=e.resetTransform;return function(){function o(l,c,u){var h=this;c===void 0&&(c={}),u===void 0&&(u=r==null?void 0:r()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){h.isUpdating&&(h.isUpdating=!1,h.clearAllSnapshots())},this.updateProjection=function(){h.nodes.forEach(Uq),h.nodes.forEach(qq)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=l,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?uo(uo([],Sn(u.path),!1),[u],!1):[],this.parent=u,this.depth=u?u.depth+1:0,l&&this.root.registerPotentialNode(l,this);for(var m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new Mq)}return o.prototype.addEventListener=function(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new jp),this.eventHandlers.get(l).add(c)},o.prototype.notifyListeners=function(l){for(var c=[],u=1;u<arguments.length;u++)c[u-1]=arguments[u];var h=this.eventHandlers.get(l);h==null||h.notify.apply(h,uo([],Sn(c),!1))},o.prototype.hasListeners=function(l){return this.eventHandlers.has(l)},o.prototype.registerPotentialNode=function(l,c){this.potentialNodes.set(l,c)},o.prototype.mount=function(l,c){var u=this,h;if(c===void 0&&(c=!1),!this.instance){this.isSVG=l instanceof SVGElement&&l.tagName!=="svg",this.instance=l;var m=this.options,x=m.layoutId,p=m.layout,v=m.visualElement;if(v&&!v.getInstance()&&v.mount(l),this.root.nodes.add(this),(h=this.parent)===null||h===void 0||h.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),c&&(p||x)&&(this.isLayoutDirty=!0),t){var y,g=function(){return u.root.updateBlockedByResize=!1};t(l,function(){u.root.updateBlockedByResize=!0,clearTimeout(y),y=window.setTimeout(g,250),yp.hasAnimatedSinceResize&&(yp.hasAnimatedSinceResize=!1,u.nodes.forEach(Bq))})}x&&this.root.registerSharedNode(x,this),this.options.animate!==!1&&v&&(x||p)&&this.addEventListener("didUpdate",function(j){var k,w,E,O,z,Y=j.delta,B=j.hasLayoutChanged,$=j.hasRelativeTargetChanged,T=j.layout;if(u.isTreeAnimationBlocked()){u.target=void 0,u.relativeTarget=void 0;return}var A=(w=(k=u.options.transition)!==null&&k!==void 0?k:v.getDefaultTransition())!==null&&w!==void 0?w:Gq,R=v.getProps(),L=R.onLayoutAnimationStart,q=R.onLayoutAnimationComplete,W=!u.targetLayout||!lO(u.targetLayout,T)||$,ee=!B&&$;if(!((E=u.resumeFrom)===null||E===void 0)&&E.instance||ee||B&&(W||!u.currentAnimation)){u.resumeFrom&&(u.resumingFrom=u.resumeFrom,u.resumingFrom.resumingFrom=void 0),u.setAnimationOrigin(Y,ee);var M=Rt(Rt({},Jj(A,"layout")),{onPlay:L,onComplete:q});v.shouldReduceMotion&&(M.delay=0,M.type=!1),u.startAnimation(M)}else!B&&u.animationProgress===0&&u.finishAnimation(),u.isLead()&&((z=(O=u.options).onExitComplete)===null||z===void 0||z.call(O));u.targetLayout=T})}},o.prototype.unmount=function(){var l,c;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(l=this.getStack())===null||l===void 0||l.remove(this),(c=this.parent)===null||c===void 0||c.children.delete(this),this.instance=void 0,Jf.preRender(this.updateProjection)},o.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},o.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},o.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},o.prototype.isTreeAnimationBlocked=function(){var l;return this.isAnimationBlocked||((l=this.parent)===null||l===void 0?void 0:l.isTreeAnimationBlocked())||!1},o.prototype.startUpdate=function(){var l;this.isUpdateBlocked()||(this.isUpdating=!0,(l=this.nodes)===null||l===void 0||l.forEach(Hq))},o.prototype.willUpdate=function(l){var c,u,h;if(l===void 0&&(l=!0),this.root.isUpdateBlocked()){(u=(c=this.options).onExitComplete)===null||u===void 0||u.call(c);return}if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var m=0;m<this.path.length;m++){var x=this.path[m];x.shouldResetTransform=!0,x.updateScroll()}var p=this.options,v=p.layoutId,y=p.layout;if(!(v===void 0&&!y)){var g=(h=this.options.visualElement)===null||h===void 0?void 0:h.getProps().transformTemplate;this.prevTransformTemplateValue=g==null?void 0:g(this.latestValues,""),this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}}},o.prototype.didUpdate=function(){var l=this.isUpdateBlocked();if(l){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mk);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Yq),this.potentialNodes.clear()),this.nodes.forEach($q),this.nodes.forEach(Rq),this.nodes.forEach(zq),this.clearAllSnapshots(),e1.update(),e1.preRender(),e1.render())},o.prototype.clearAllSnapshots=function(){this.nodes.forEach(Fq),this.sharedNodes.forEach(Vq)},o.prototype.scheduleUpdateProjection=function(){Nl.preRender(this.updateProjection,!1,!0)},o.prototype.scheduleCheckAfterUnmount=function(){var l=this;Nl.postRender(function(){l.isLayoutDirty?l.root.didUpdate():l.root.checkUpdateFailed()})},o.prototype.updateSnapshot=function(){if(!(this.snapshot||!this.instance)){var l=this.measure(),c=this.removeTransform(this.removeElementScroll(l));vk(c),this.snapshot={measured:l,layout:c,latestValues:{}}}},o.prototype.updateLayout=function(){var l;if(this.instance&&(this.updateScroll(),!(!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))){if(this.resumeFrom&&!this.resumeFrom.instance)for(var c=0;c<this.path.length;c++){var u=this.path[c];u.updateScroll()}var h=this.measure();vk(h);var m=this.layout;this.layout={measured:h,actual:this.removeElementScroll(h)},this.layoutCorrected=Zi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(l=this.options.visualElement)===null||l===void 0||l.notifyLayoutMeasure(this.layout.actual,m==null?void 0:m.actual)}},o.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=i(this.instance),this.scroll=n(this.instance))},o.prototype.resetTransform=function(){var l;if(s){var c=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!oO(this.projectionDelta),h=(l=this.options.visualElement)===null||l===void 0?void 0:l.getProps().transformTemplate,m=h==null?void 0:h(this.latestValues,""),x=m!==this.prevTransformTemplateValue;c&&(u||Zu(this.latestValues)||x)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}},o.prototype.measure=function(){var l=this.options.visualElement;if(!l)return Zi();var c=l.measureViewportBox(),u=this.root.scroll;return u&&(Qu(c.x,u.x),Qu(c.y,u.y)),c},o.prototype.removeElementScroll=function(l){var c=Zi();ml(c,l);for(var u=0;u<this.path.length;u++){var h=this.path[u],m=h.scroll,x=h.options,p=h.isScrollRoot;if(h!==this.root&&m&&x.layoutScroll){if(p){ml(c,l);var v=this.root.scroll;v&&(Qu(c.x,-v.x),Qu(c.y,-v.y))}Qu(c.x,m.x),Qu(c.y,m.y)}}return c},o.prototype.applyTransform=function(l,c){c===void 0&&(c=!1);var u=Zi();ml(u,l);for(var h=0;h<this.path.length;h++){var m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ef(u,{x:-m.scroll.x,y:-m.scroll.y}),Zu(m.latestValues)&&Ef(u,m.latestValues)}return Zu(this.latestValues)&&Ef(u,this.latestValues),u},o.prototype.removeTransform=function(l){var c,u=Zi();ml(u,l);for(var h=0;h<this.path.length;h++){var m=this.path[h];if(m.instance&&Zu(m.latestValues)){XT(m.latestValues)&&m.updateSnapshot();var x=Zi(),p=m.measure();ml(x,p),uk(u,m.latestValues,(c=m.snapshot)===null||c===void 0?void 0:c.layout,x)}}return Zu(this.latestValues)&&uk(u,this.latestValues),u},o.prototype.setTargetDelta=function(l){this.targetDelta=l,this.root.scheduleUpdateProjection()},o.prototype.setOptions=function(l){var c;this.options=Rt(Rt(Rt({},this.options),l),{crossfade:(c=l.crossfade)!==null&&c!==void 0?c:!0})},o.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},o.prototype.resolveTargetDelta=function(){var l,c=this.options,u=c.layout,h=c.layoutId;!this.layout||!(u||h)||(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=Zi(),this.relativeTargetOrigin=Zi(),_p(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),ml(this.relativeTarget,this.relativeTargetOrigin))),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Zi(),this.targetWithTransforms=Zi()),this.relativeTarget&&this.relativeTargetOrigin&&(!((l=this.relativeParent)===null||l===void 0)&&l.target)?RU(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.actual):ml(this.target,this.layout.actual),JT(this.target,this.targetDelta)):ml(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&!!this.relativeParent.resumingFrom==!!this.resumingFrom&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=Zi(),this.relativeTargetOrigin=Zi(),_p(this.relativeTargetOrigin,this.target,this.relativeParent.target),ml(this.relativeTarget,this.relativeTargetOrigin)))))},o.prototype.getClosestProjectingParent=function(){if(!(!this.parent||Zu(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},o.prototype.calcProjection=function(){var l,c=this.options,u=c.layout,h=c.layoutId;if(this.isTreeAnimating=!!(!((l=this.parent)===null||l===void 0)&&l.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!(!this.layout||!(u||h))){var m=this.getLead();ml(this.layoutCorrected,this.layout.actual),WU(this.layoutCorrected,this.treeScale,this.path,!!this.resumingFrom||this!==m);var x=m.target;if(x){this.projectionDelta||(this.projectionDelta=Sp(),this.projectionDeltaWithTransform=Sp());var p=this.treeScale.x,v=this.treeScale.y,y=this.projectionTransform;Np(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=hk(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==p||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}}},o.prototype.hide=function(){this.isVisible=!1},o.prototype.show=function(){this.isVisible=!0},o.prototype.scheduleRender=function(l){var c,u,h;l===void 0&&(l=!0),(u=(c=this.options).scheduleRender)===null||u===void 0||u.call(c),l&&((h=this.getStack())===null||h===void 0||h.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},o.prototype.setAnimationOrigin=function(l,c){var u=this,h;c===void 0&&(c=!1);var m=this.snapshot,x=(m==null?void 0:m.latestValues)||{},p=Rt({},this.latestValues),v=Sp();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!c;var y=Zi(),g=m==null?void 0:m.isShared,j=(((h=this.getStack())===null||h===void 0?void 0:h.members.length)||0)<=1,k=!!(g&&!j&&this.options.crossfade===!0&&!this.path.some(Kq));this.animationProgress=0,this.mixTargetDelta=function(w){var E,O=w/1e3;pk(v.x,l.x,O),pk(v.y,l.y,O),u.setTargetDelta(v),u.relativeTarget&&u.relativeTargetOrigin&&u.layout&&(!((E=u.relativeParent)===null||E===void 0)&&E.layout)&&(_p(y,u.layout.actual,u.relativeParent.layout.actual),Wq(u.relativeTarget,u.relativeTargetOrigin,y,O)),g&&(u.animationValues=p,Cq(p,x,u.latestValues,O,k,j)),u.root.scheduleUpdateProjection(),u.scheduleRender(),u.animationProgress=O},this.mixTargetDelta(0)},o.prototype.startAnimation=function(l){var c=this,u,h;this.notifyListeners("animationStart"),(u=this.currentAnimation)===null||u===void 0||u.stop(),this.resumingFrom&&((h=this.resumingFrom.currentAnimation)===null||h===void 0||h.stop()),this.pendingAnimation&&(Jf.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nl.update(function(){yp.hasAnimatedSinceResize=!0,c.currentAnimation=Sq(0,fk,Rt(Rt({},l),{onUpdate:function(m){var x;c.mixTargetDelta(m),(x=l.onUpdate)===null||x===void 0||x.call(l,m)},onComplete:function(){var m;(m=l.onComplete)===null||m===void 0||m.call(l),c.completeAnimation()}})),c.resumingFrom&&(c.resumingFrom.currentAnimation=c.currentAnimation),c.pendingAnimation=void 0})},o.prototype.completeAnimation=function(){var l;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(l=this.getStack())===null||l===void 0||l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},o.prototype.finishAnimation=function(){var l;this.currentAnimation&&((l=this.mixTargetDelta)===null||l===void 0||l.call(this,fk),this.currentAnimation.stop()),this.completeAnimation()},o.prototype.applyTransformsToTarget=function(){var l=this.getLead(),c=l.targetWithTransforms,u=l.target,h=l.layout,m=l.latestValues;!c||!u||!h||(ml(c,u),Ef(c,m),Np(this.projectionDeltaWithTransform,this.layoutCorrected,c,m))},o.prototype.registerSharedNode=function(l,c){var u,h,m;this.sharedNodes.has(l)||this.sharedNodes.set(l,new Oq);var x=this.sharedNodes.get(l);x.add(c),c.promote({transition:(u=c.options.initialPromotionConfig)===null||u===void 0?void 0:u.transition,preserveFollowOpacity:(m=(h=c.options.initialPromotionConfig)===null||h===void 0?void 0:h.shouldPreserveFollowOpacity)===null||m===void 0?void 0:m.call(h,c)})},o.prototype.isLead=function(){var l=this.getStack();return l?l.lead===this:!0},o.prototype.getLead=function(){var l,c=this.options.layoutId;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this},o.prototype.getPrevLead=function(){var l,c=this.options.layoutId;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0},o.prototype.getStack=function(){var l=this.options.layoutId;if(l)return this.root.sharedNodes.get(l)},o.prototype.promote=function(l){var c=l===void 0?{}:l,u=c.needsReset,h=c.transition,m=c.preserveFollowOpacity,x=this.getStack();x&&x.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})},o.prototype.relegate=function(){var l=this.getStack();return l?l.relegate(this):!1},o.prototype.resetRotation=function(){var l=this.options.visualElement;if(l){for(var c=!1,u={},h=0;h<M2.length;h++){var m=M2[h],x="rotate"+m;l.getStaticValue(x)&&(c=!0,u[x]=l.getStaticValue(x),l.setStaticValue(x,0))}if(c){l==null||l.syncRender();for(var x in u)l.setStaticValue(x,u[x]);l.scheduleRender()}}},o.prototype.getProjectionStyles=function(l){var c,u,h,m,x,p;l===void 0&&(l={});var v={};if(!this.instance||this.isSVG)return v;if(this.isVisible)v.visibility="";else return{visibility:"hidden"};var y=(c=this.options.visualElement)===null||c===void 0?void 0:c.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,v.opacity="",v.pointerEvents=mx(l.pointerEvents)||"",v.transform=y?y(this.latestValues,""):"none",v;var g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){var j={};return this.options.layoutId&&(j.opacity=(u=this.latestValues.opacity)!==null&&u!==void 0?u:1,j.pointerEvents=mx(l.pointerEvents)||""),this.hasProjected&&!Zu(this.latestValues)&&(j.transform=y?y({},""):"none",this.hasProjected=!1),j}var k=g.animationValues||g.latestValues;this.applyTransformsToTarget(),v.transform=hk(this.projectionDeltaWithTransform,this.treeScale,k),y&&(v.transform=y(k,v.transform));var w=this.projectionDelta,E=w.x,O=w.y;v.transformOrigin="".concat(E.origin*100,"% ").concat(O.origin*100,"% 0"),g.animationValues?v.opacity=g===this?(m=(h=k.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:k.opacityExit:v.opacity=g===this?(x=k.opacity)!==null&&x!==void 0?x:"":(p=k.opacityExit)!==null&&p!==void 0?p:0;for(var z in Tx)if(k[z]!==void 0){var Y=Tx[z],B=Y.correct,$=Y.applyTo,T=B(k[z],g);if($)for(var A=$.length,R=0;R<A;R++)v[$[R]]=T;else v[z]=T}return this.options.layoutId&&(v.pointerEvents=g===this?mx(l.pointerEvents)||"":"none"),v},o.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},o.prototype.resetTree=function(){this.root.nodes.forEach(function(l){var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(mk),this.root.sharedNodes.clear()},o}()}function Rq(e){e.updateLayout()}function zq(e){var t,r,n,i,s=(r=(t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)!==null&&r!==void 0?r:e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){var o=e.layout,l=o.actual,c=o.measured;e.options.animationType==="size"?Jl(function(k){var w=s.isShared?s.measured[k]:s.layout[k],E=ru(w);w.min=l[k].min,w.max=w.min+E}):e.options.animationType==="position"&&Jl(function(k){var w=s.isShared?s.measured[k]:s.layout[k],E=ru(l[k]);w.max=w.min+E});var u=Sp();Np(u,l,s.layout);var h=Sp();s.isShared?Np(h,e.applyTransform(c,!0),s.measured):Np(h,l,s.layout);var m=!oO(u),x=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var p=e.relativeParent,v=p.snapshot,y=p.layout;if(v&&y){var g=Zi();_p(g,s.layout,v.layout);var j=Zi();_p(j,l,y.actual),lO(g,j)||(x=!0)}}e.notifyListeners("didUpdate",{layout:l,snapshot:s,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeTargetChanged:x})}else e.isLead()&&((i=(n=e.options).onExitComplete)===null||i===void 0||i.call(n));e.options.transition=void 0}function Fq(e){e.clearSnapshot()}function mk(e){e.clearMeasurements()}function $q(e){var t=e.options.visualElement;t!=null&&t.getProps().onBeforeLayoutMeasure&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function Bq(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function Uq(e){e.resolveTargetDelta()}function qq(e){e.calcProjection()}function Hq(e){e.resetRotation()}function Vq(e){e.removeLeadSnapshot()}function pk(e,t,r){e.translate=da(t.translate,0,r),e.scale=da(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function gk(e,t,r,n){e.min=da(t.min,r.min,n),e.max=da(t.max,r.max,n)}function Wq(e,t,r,n){gk(e.x,t.x,r.x,n),gk(e.y,t.y,r.y,n)}function Kq(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}var Gq={duration:.45,ease:[.4,0,.1,1]};function Yq(e,t){for(var r=e.root,n=e.path.length-1;n>=0;n--)if(e.path[n].instance){r=e.path[n];break}var i=r&&r!==e.root?r.instance:document,s=i.querySelector('[data-projection-id="'.concat(t,'"]'));s&&e.mount(s,!0)}function xk(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function vk(e){xk(e.x),xk(e.y)}var Xq=cO({attachResizeListener:function(e,t){return ry(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),s1={current:void 0},Jq=cO({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!s1.current){var e=new Xq(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),s1.current=e}return s1.current},resetTransform:function(e,t){e.style.transform=t??"none"},checkIsScrollRoot:function(e){return window.getComputedStyle(e).position==="fixed"}}),Zq=Rt(Rt(Rt(Rt({},LU),ZB),tq),_q),Ie=VF(function(e,t){return D$(e,t,Zq,yq,Jq)});function uO(){var e=_.useRef(!1);return Ax(function(){return e.current=!0,function(){e.current=!1}},[]),e}function Qq(){var e=uO(),t=Sn(_.useState(0),2),r=t[0],n=t[1],i=_.useCallback(function(){e.current&&n(r+1)},[r]),s=_.useCallback(function(){return Nl.postRender(i)},[i]);return[s,r]}var o1=function(e){var t=e.children,r=e.initial,n=e.isPresent,i=e.onExitComplete,s=e.custom,o=e.presenceAffectsLayout,l=m0(eH),c=BT(),u=_.useMemo(function(){return{id:c,initial:r,isPresent:n,custom:s,onExitComplete:function(h){var m,x;l.set(h,!0);try{for(var p=Ip(l.values()),v=p.next();!v.done;v=p.next()){var y=v.value;if(!y)return}}catch(g){m={error:g}}finally{try{v&&!v.done&&(x=p.return)&&x.call(p)}finally{if(m)throw m.error}}i==null||i()},register:function(h){return l.set(h,!1),function(){return l.delete(h)}}}},o?void 0:[n]);return _.useMemo(function(){l.forEach(function(h,m){return l.set(m,!1)})},[n]),_.useEffect(function(){!n&&!l.size&&(i==null||i())},[n]),_.createElement(f0.Provider,{value:u},t)};function eH(){return new Map}var Nf=function(e){return e.key||""};function tH(e,t){e.forEach(function(r){var n=Nf(r);t.set(n,r)})}function rH(e){var t=[];return _.Children.forEach(e,function(r){_.isValidElement(r)&&t.push(r)}),t}var mr=function(e){var t=e.children,r=e.custom,n=e.initial,i=n===void 0?!0:n,s=e.onExitComplete,o=e.exitBeforeEnter,l=e.presenceAffectsLayout,c=l===void 0?!0:l,u=Sn(Qq(),1),h=u[0],m=_.useContext(Oj).forceRender;m&&(h=m);var x=uO(),p=rH(t),v=p,y=new Set,g=_.useRef(v),j=_.useRef(new Map).current,k=_.useRef(!0);if(Ax(function(){k.current=!1,tH(p,j),g.current=v}),Uj(function(){k.current=!0,j.clear(),y.clear()}),k.current)return _.createElement(_.Fragment,null,v.map(function(B){return _.createElement(o1,{key:Nf(B),isPresent:!0,initial:i?void 0:!1,presenceAffectsLayout:c},B)}));v=uo([],Sn(v),!1);for(var w=g.current.map(Nf),E=p.map(Nf),O=w.length,z=0;z<O;z++){var Y=w[z];E.indexOf(Y)===-1&&y.add(Y)}return o&&y.size&&(v=[]),y.forEach(function(B){if(E.indexOf(B)===-1){var $=j.get(B);if($){var T=w.indexOf(B),A=function(){j.delete(B),y.delete(B);var R=g.current.findIndex(function(L){return L.key===B});if(g.current.splice(R,1),!y.size){if(g.current=p,x.current===!1)return;h(),s&&s()}};v.splice(T,0,_.createElement(o1,{key:Nf($),isPresent:!1,onExitComplete:A,custom:r,presenceAffectsLayout:c},$))}}}),v=v.map(function(B){var $=B.key;return y.has($)?B:_.createElement(o1,{key:Nf(B),isPresent:!0,presenceAffectsLayout:c},B)}),_.createElement(_.Fragment,null,y.size?v:v.map(function(B){return _.cloneElement(B)}))};function nH(e,t){return typeof e=="string"?e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}const aH={any:0,all:1};function iH(e,t,{root:r,margin:n,amount:i="any"}={}){if(typeof IntersectionObserver>"u")return()=>{};const s=nH(e),o=new WeakMap,l=u=>{u.forEach(h=>{const m=o.get(h.target);if(h.isIntersecting!==!!m)if(h.isIntersecting){const x=t(h);typeof x=="function"?o.set(h.target,x):c.unobserve(h.target)}else m&&(m(h),o.delete(h.target))})},c=new IntersectionObserver(l,{root:r,rootMargin:n,threshold:typeof i=="number"?i:aH[i]});return s.forEach(u=>c.observe(u)),()=>c.disconnect()}function sH(e,t){var r=t===void 0?{}:t,n=r.root,i=r.margin,s=r.amount,o=r.once,l=o===void 0?!1:o,c=Sn(_.useState(!1),2),u=c[0],h=c[1];return _.useEffect(function(){var m;if(!(!e.current||l&&u)){var x=function(){return h(!0),l?void 0:function(){return h(!1)}},p={root:(m=n==null?void 0:n.current)!==null&&m!==void 0?m:void 0,margin:i,amount:s==="some"?"any":s};return iH(e.current,x,p)}},[n,e,i,l]),u}const fr={initial:{opacity:0,y:60},animate:{opacity:1,y:0,transition:{duration:.6,ease:[.6,-.05,.01,.99]}}},ja={initial:{},animate:{transition:{staggerChildren:.1}}},oH={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},exit:{opacity:0,y:-20,transition:{duration:.3,ease:"easeIn"}}};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dO=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...l},c)=>_.createElement("svg",{ref:c,...cH,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:dO("lucide",i),...l},[...o.map(([u,h])=>_.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=(e,t)=>{const r=_.forwardRef(({className:n,...i},s)=>_.createElement(uH,{ref:s,iconNode:t,className:dO(`lucide-${lH(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=Kt("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=Kt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Kt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=Kt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=Kt("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=Kt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=Kt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=Kt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=Kt("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=Kt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=Kt("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Kt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=Kt("CarFront",[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=Kt("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=Kt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=Kt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=Kt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=Kt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=Kt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=Kt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=Kt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=Kt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=Kt("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=Kt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=Kt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=Kt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=Kt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=Kt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=Kt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=Kt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=Kt("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=Kt("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=Kt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=Kt("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=Kt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=Kt("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=Kt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=Kt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=Kt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=Kt("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=Kt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=Kt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=Kt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=Kt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=Kt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=Kt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=Kt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=Kt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=Kt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=Kt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=Kt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=Kt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=Kt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=Kt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=Kt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=Kt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=Kt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=Kt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=Kt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=Kt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=Kt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=Kt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=Kt("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=Kt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=Kt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=Kt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=Kt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=Kt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=Kt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var yO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jk=vt.createContext&&vt.createContext(yO),EH=["attr","size","title"];function DH(e,t){if(e==null)return{};var r=AH(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hx.apply(this,arguments)}function Nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(r),!0).forEach(function(n){TH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TH(e,t,r){return t=OH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OH(e){var t=LH(e,"string");return typeof t=="symbol"?t:t+""}function LH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bO(e){return e&&e.map((t,r)=>vt.createElement(t.tag,Vx({key:r},t.attr),bO(t.child)))}function Ko(e){return t=>vt.createElement(IH,Hx({attr:Vx({},e.attr)},t),bO(e.child))}function IH(e){var t=r=>{var{attr:n,size:i,title:s}=e,o=DH(e,EH),l=i||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),vt.createElement("svg",Hx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:Vx(Vx({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&vt.createElement("title",null,s),e.children)};return jk!==void 0?vt.createElement(jk.Consumer,null,r=>t(r)):t(yO)}function Wx(e){return Ko({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(e)}function wO(e){return Ko({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.3183118,0.0772036939 C18.5358869,0.132773211 19.3775594,0.311686093 20.156489,0.614412318 C20.9357539,0.917263935 21.5259307,1.30117806 22.1124276,1.88767349 C22.6988355,2.47414659 23.0827129,3.06422396 23.3856819,3.84361655 C23.688357,4.62263666 23.8672302,5.46418415 23.9227984,6.68172489 C23.9916356,8.19170553 24,8.72394829 24,11.9999742 C24,15.2760524 23.9916355,15.808302 23.9227954,17.3182896 C23.8672306,18.5358038 23.6883589,19.3773584 23.3855877,20.1566258 C23.0826716,20.9358162 22.6987642,21.5259396 22.1124276,22.1122749 C21.5259871,22.6987804 20.9357958,23.0827198 20.1563742,23.3856323 C19.3772192,23.6883583 18.5357324,23.8672318 17.3183209,23.9227442 C15.8086874,23.9916325 15.2765626,24 12,24 C8.72343739,24 8.19131258,23.9916325 6.68172382,23.9227463 C5.46426077,23.8672314 4.62270711,23.6883498 3.84342369,23.3855738 C3.0641689,23.0827004 2.47399369,22.6987612 1.88762592,22.1123283 C1.30117312,21.525877 0.91721975,20.9357071 0.614318116,20.1563835 C0.311643016,19.3773633 0.132769821,18.5358159 0.0772038909,17.3183251 C0.0083529426,15.8092887 0,15.2774634 0,11.9999742 C0,8.7225328 0.00835296697,8.19071076 0.0772047368,6.68165632 C0.132769821,5.46418415 0.311643016,4.62263666 0.614362729,3.84350174 C0.91719061,3.06430165 1.30113536,2.4741608 1.88757245,1.88772514 C2.47399369,1.30123879 3.0641689,0.917299613 3.84345255,0.614414972 C4.62236201,0.311696581 5.46409415,0.132773979 6.68163888,0.0772035898 C8.19074867,0.00835221992 8.72252573,0 12,0 C15.2774788,0 15.8092594,0.00835235053 17.3183118,0.0772036939 Z M12,2.66666667 C8.75959504,2.66666667 8.26400713,2.67445049 6.80319929,2.74109814 C5.87614637,2.78341009 5.31952221,2.90172878 4.80947575,3.09995521 C4.37397765,3.26922052 4.09725505,3.44924273 3.77324172,3.77329203 C3.44916209,4.09737087 3.26913181,4.37408574 3.09996253,4.80937168 C2.90169965,5.31965737 2.78340891,5.87618164 2.74109927,6.80321713 C2.67445122,8.26397158 2.66666667,8.75960374 2.66666667,11.9999742 C2.66666667,15.2403924 2.67445121,15.7360281 2.74109842,17.1967643 C2.78340891,18.1238184 2.90169965,18.6803426 3.09990404,19.1904778 C3.26914133,19.6259017 3.44919889,19.9026659 3.77329519,20.2267614 C4.09725505,20.5507573 4.37397765,20.7307795 4.80932525,20.8999863 C5.31971515,21.0982887 5.87621193,21.2165784 6.80323907,21.2588497 C8.26460439,21.3255353 8.76051223,21.3333333 12,21.3333333 C15.2394878,21.3333333 15.7353956,21.3255353 17.1968056,21.2588476 C18.123775,21.216579 18.6802056,21.0982995 19.1905083,20.9000309 C19.6260288,20.7307713 19.9027426,20.5507596 20.2267583,20.226708 C20.5507492,19.9027179 20.7308046,19.6259456 20.9000375,19.1906283 C21.0983009,18.6803412 21.2165908,18.1238118 21.2588986,17.196779 C21.3255376,15.7350718 21.3333333,15.2390126 21.3333333,11.9999742 C21.3333333,8.76098665 21.3255376,8.26493375 21.2589016,6.80323567 C21.2165911,5.87618164 21.0983004,5.31965737 20.9001178,4.80957831 C20.7308131,4.37403932 20.550774,4.09729207 20.2267583,3.77324038 C19.9027658,3.44924868 19.6260264,3.26922777 19.1905015,3.09996643 C18.6803988,2.90171817 18.1238378,2.78341062 17.1967608,2.74109868 C15.7359966,2.67445057 15.2404012,2.66666667 12,2.66666667 Z M12,18.2222222 C8.56356156,18.2222222 5.77777778,15.4364384 5.77777778,12 C5.77777778,8.56356156 8.56356156,5.77777778 12,5.77777778 C15.4364384,5.77777778 18.2222222,8.56356156 18.2222222,12 C18.2222222,15.4364384 15.4364384,18.2222222 12,18.2222222 Z M12,15.5555556 C13.9636791,15.5555556 15.5555556,13.9636791 15.5555556,12 C15.5555556,10.0363209 13.9636791,8.44444444 12,8.44444444 C10.0363209,8.44444444 8.44444444,10.0363209 8.44444444,12 C8.44444444,13.9636791 10.0363209,15.5555556 12,15.5555556 Z M18.2222222,7.11111111 C17.4858426,7.11111111 16.8888889,6.51415744 16.8888889,5.77777778 C16.8888889,5.04139811 17.4858426,4.44444444 18.2222222,4.44444444 C18.9586019,4.44444444 19.5555556,5.04139811 19.5555556,5.77777778 C19.5555556,6.51415744 18.9586019,7.11111111 18.2222222,7.11111111 Z"},child:[]}]})(e)}const MH=(e,t,r,n)=>{var s,o,l,c;const i=[r,{code:t,...n||{}}];if((o=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&o.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);fh(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.warn?e.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},_k={},e5=(e,t,r,n)=>{fh(r)&&_k[r]||(fh(r)&&(_k[r]=new Date),MH(e,t,r,n))},jO=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},t5=(e,t,r)=>{e.loadNamespaces(t,jO(e,r))},Sk=(e,t,r,n)=>{if(fh(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return t5(e,r,n);r.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,jO(e,n))},RH=(e,t,r={})=>!t.languages||!t.languages.length?(e5(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:r.lng,precheck:(n,i)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,e))return!1}}),fh=e=>typeof e=="string",zH=e=>typeof e=="object"&&e!==null,FH=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,$H={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},BH=e=>$H[e],UH=e=>e.replace(FH,BH);let r5={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:UH};const qH=(e={})=>{r5={...r5,...e}},HH=()=>r5;let NO;const VH=e=>{NO=e},WH=()=>NO,KH={type:"3rdParty",init(e){qH(e.options.react),VH(e)}},GH=_.createContext();class YH{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const XH=(e,t)=>{const r=_.useRef();return _.useEffect(()=>{r.current=e},[e,t]),r.current},_O=(e,t,r,n)=>e.getFixedT(t,r,n),JH=(e,t,r,n)=>_.useCallback(_O(e,t,r,n),[e,t,r,n]),br=(e,t={})=>{var E,O,z,Y;const{i18n:r}=t,{i18n:n,defaultNS:i}=_.useContext(GH)||{},s=r||n||WH();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new YH),!s){e5(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const B=(T,A)=>fh(A)?A:zH(A)&&fh(A.defaultValue)?A.defaultValue:Array.isArray(T)?T[T.length-1]:T,$=[B,{},!1];return $.t=B,$.i18n={},$.ready=!1,$}(E=s.options.react)!=null&&E.wait&&e5(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...HH(),...s.options.react,...t},{useSuspense:l,keyPrefix:c}=o;let u=i||((O=s.options)==null?void 0:O.defaultNS);u=fh(u)?[u]:u||["translation"],(Y=(z=s.reportNamespaces).addUsedNamespaces)==null||Y.call(z,u);const h=(s.isInitialized||s.initializedStoreOnce)&&u.every(B=>RH(B,s,o)),m=JH(s,t.lng||null,o.nsMode==="fallback"?u:u[0],c),x=()=>m,p=()=>_O(s,t.lng||null,o.nsMode==="fallback"?u:u[0],c),[v,y]=_.useState(x);let g=u.join();t.lng&&(g=`${t.lng}${g}`);const j=XH(g),k=_.useRef(!0);_.useEffect(()=>{const{bindI18n:B,bindI18nStore:$}=o;k.current=!0,!h&&!l&&(t.lng?Sk(s,t.lng,u,()=>{k.current&&y(p)}):t5(s,u,()=>{k.current&&y(p)})),h&&j&&j!==g&&k.current&&y(p);const T=()=>{k.current&&y(p)};return B&&(s==null||s.on(B,T)),$&&(s==null||s.store.on($,T)),()=>{k.current=!1,s&&B&&(B==null||B.split(" ").forEach(A=>s.off(A,T))),$&&s&&$.split(" ").forEach(A=>s.store.off(A,T))}},[s,g]),_.useEffect(()=>{k.current&&h&&y(x)},[s,c,h]);const w=[v,s,h];if(w.t=v,w.i18n=s,w.ready=h,h||!h&&!l)return w;throw new Promise(B=>{t.lng?Sk(s,t.lng,u,()=>B()):t5(s,u,()=>B())})},SO=["/admin","/dashboard"],c1=Array.from({length:12}).map((e,t)=>({x:t,y:Math.round(40+Math.sin(t/2)*8+t+Math.random()*5)}));Array.from({length:30}).map((e,t)=>({day:t+1,sales:Math.round(2e3+Math.sin(t/4)*200+t*12+Math.random()*150),baseline:Math.round(1200+Math.cos(t/5)*80+t*4+Math.random()*50)}));const ZH=({className:e})=>a.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})}),QH=()=>{const{t:e,i18n:t}=br(),r=go();if(!!SO.some(l=>r.pathname.startsWith(l)))return null;const i=[{title:e("footer.sections.vehicles.title"),links:[{name:e("footer.sections.vehicles.links.suv"),href:"/cars"},{name:e("footer.sections.vehicles.links.sports"),href:"/cars"},{name:e("footer.sections.vehicles.links.luxury"),href:"/cars"},{name:e("footer.sections.vehicles.links.all"),href:"/cars"}]},{title:e("footer.sections.reservations.title"),links:[{name:e("footer.sections.reservations.links.start"),href:"/"},{name:e("footer.sections.reservations.links.howTo"),href:"/how-to-rent"},{name:e("footer.sections.reservations.links.calculator"),href:"/calculator"},{name:e("footer.sections.reservations.links.faq"),href:"/help"}]},{title:e("footer.sections.company.title"),links:[{name:e("footer.sections.company.links.about"),href:"/about"},{name:e("footer.sections.company.links.reviews"),href:"/reviews"},{name:e("footer.sections.company.links.rental-conditions"),href:"/terms"}]}],s=[{icon:ZH,href:"https://www.tiktok.com/@level.auto.rental.md",label:e("footer.social.tiktok")},{icon:Wx,href:"https://www.facebook.com/levelautorental",label:e("footer.social.facebook")},{icon:wO,href:"https://www.instagram.com/level_auto_rental",label:e("footer.social.instagram")}],o=[{icon:Qf,text:"+373 62 000 112",href:"tel:+37362000112"},{icon:md,text:"info@levelautorental.com",href:"mailto:info@levelautorental.com"},{icon:bh,text:"Chisinau, Moldova",href:"#"}];return a.jsx("footer",{className:"border-t border-[#0f0f0f]",style:{background:"linear-gradient(to bottom, #0f0f0f, #1a0f0f)"},children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx(Ie.div,{variants:ja,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"py-16",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-12",children:[a.jsxs(Ie.div,{variants:fr,className:"lg:col-span-2 space-y-6",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx("img",{src:"/logo-footer.png",alt:"LevelAutoRental",className:"h-12 w-auto brightness-0 invert"})}),a.jsx("p",{className:"text-gray-300 leading-relaxed max-w-md",children:e("footer.description")}),a.jsx("div",{className:"space-y-4",children:o.map((l,c)=>a.jsxs(Ie.a,{href:l.href,variants:fr,className:"flex items-center space-x-4 text-gray-300 hover:text-white transition-colors duration-500 group",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-gray-700/20 to-gray-600/20 flex items-center justify-center group-hover:from-gray-600 group-hover:to-gray-500 transition-all duration-500",children:a.jsx(l.icon,{className:"w-5 h-5 text-gray-400 group-hover:text-white transition-colors duration-500"})}),a.jsx("span",{className:"text-sm font-medium",children:l.text})]},c))})]}),a.jsx(Ie.div,{variants:fr,className:"lg:col-span-2",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-4",children:i.map(l=>a.jsxs(Ie.div,{variants:fr,className:"space-y-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-white uppercase tracking-wider",children:l.title}),a.jsx("ul",{className:"space-y-3",children:l.links.map(c=>a.jsx("li",{children:a.jsxs(Bo,{to:c.href,className:"text-sm text-gray-300 hover:text-white transition-colors duration-500 group flex items-center",children:[a.jsx("span",{children:c.name}),a.jsx(fs,{className:"w-3 h-3 ml-1 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-500"})]})},c.name))})]},l.title))})})]})},t.language),a.jsx(Ie.div,{variants:fr,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"border-t border-gray-800 py-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[a.jsx("div",{className:"text-gray-400 text-sm",children:a.jsx("p",{children:e("footer.bottom.copyright")})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-gray-400 text-sm font-medium",children:[e("footer.social.follow-us"),":"]}),a.jsx("div",{className:"flex space-x-2",children:s.map(l=>a.jsx(Ie.a,{href:l.href,className:"w-10 h-10 rounded-xl bg-gradient-to-br from-gray-700/20 to-gray-600/20 hover:from-gray-600 hover:to-gray-500 flex items-center justify-center text-gray-400 hover:text-white transition-all duration-500","aria-label":l.label,children:a.jsx(l.icon,{className:l.icon===Wx?"w-4 h-4":"w-5 h-5"})},l.label))})]})]})})]})})};function kO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=kO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function fn(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=kO(e))&&(n&&(n+=" "),n+=t);return n}const rN="-",eV=e=>{const t=rV(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(rN);return l[0]===""&&l.length!==1&&l.shift(),CO(l,t)||tV(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},CO=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?CO(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(rN);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},kk=/^\[(.+)\]$/,tV=e=>{if(kk.test(e)){const t=kk.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},rV=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return aV(Object.entries(e.classGroups),r).forEach(([s,o])=>{n5(o,n,s,t)}),n},n5=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:Ck(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(nV(i)){n5(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{n5(o,Ck(t,s),r,n)})})},Ck=(e,t)=>{let r=e;return t.split(rN).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},nV=e=>e.isThemeGetter,aV=(e,t)=>t?e.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,i]}):e,iV=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},PO="!",sV=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],s=t.length,o=l=>{const c=[];let u=0,h=0,m;for(let g=0;g<l.length;g++){let j=l[g];if(u===0){if(j===i&&(n||l.slice(g,g+s)===t)){c.push(l.slice(h,g)),h=g+s;continue}if(j==="/"){m=g;continue}}j==="["?u++:j==="]"&&u--}const x=c.length===0?l:l.substring(h),p=x.startsWith(PO),v=p?x.substring(1):x,y=m&&m>h?m-h:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:o}):o},oV=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},lV=e=>({cache:iV(e.cacheSize),parseClassName:sV(e),...eV(e)}),cV=/\s+/,uV=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(cV);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:h,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:p}=r(u);let v=!!p,y=n(v?x.substring(0,p):x);if(!y){if(!v){l=u+(l.length>0?" "+l:l);continue}if(y=n(x),!y){l=u+(l.length>0?" "+l:l);continue}v=!1}const g=oV(h).join(":"),j=m?g+PO:g,k=j+y;if(s.includes(k))continue;s.push(k);const w=i(y,v);for(let E=0;E<w.length;++E){const O=w[E];s.push(j+O)}l=u+(l.length>0?" "+l:l)}return l};function dV(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=EO(t))&&(n&&(n+=" "),n+=r);return n}const EO=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=EO(e[n]))&&(r&&(r+=" "),r+=t);return r};function hV(e,...t){let r,n,i,s=o;function o(c){const u=t.reduce((h,m)=>m(h),e());return r=lV(u),n=r.cache.get,i=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const h=uV(c,r);return i(c,h),h}return function(){return s(dV.apply(null,arguments))}}const Pn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},DO=/^\[(?:([a-z-]+):)?(.+)\]$/i,fV=/^\d+\/\d+$/,mV=new Set(["px","full","screen"]),pV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fc=e=>Bf(e)||mV.has(e)||fV.test(e),Hu=e=>hm(e,"length",CV),Bf=e=>!!e&&!Number.isNaN(Number(e)),u1=e=>hm(e,"number",Bf),Qm=e=>!!e&&Number.isInteger(Number(e)),bV=e=>e.endsWith("%")&&Bf(e.slice(0,-1)),Ir=e=>DO.test(e),Vu=e=>pV.test(e),wV=new Set(["length","size","percentage"]),jV=e=>hm(e,wV,AO),NV=e=>hm(e,"position",AO),_V=new Set(["image","url"]),SV=e=>hm(e,_V,EV),kV=e=>hm(e,"",PV),ep=()=>!0,hm=(e,t,r)=>{const n=DO.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},CV=e=>gV.test(e)&&!xV.test(e),AO=()=>!1,PV=e=>vV.test(e),EV=e=>yV.test(e),DV=()=>{const e=Pn("colors"),t=Pn("spacing"),r=Pn("blur"),n=Pn("brightness"),i=Pn("borderColor"),s=Pn("borderRadius"),o=Pn("borderSpacing"),l=Pn("borderWidth"),c=Pn("contrast"),u=Pn("grayscale"),h=Pn("hueRotate"),m=Pn("invert"),x=Pn("gap"),p=Pn("gradientColorStops"),v=Pn("gradientColorStopPositions"),y=Pn("inset"),g=Pn("margin"),j=Pn("opacity"),k=Pn("padding"),w=Pn("saturate"),E=Pn("scale"),O=Pn("sepia"),z=Pn("skew"),Y=Pn("space"),B=Pn("translate"),$=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Ir,t],R=()=>[Ir,t],L=()=>["",Fc,Hu],q=()=>["auto",Bf,Ir],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ee=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Ir],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Bf,Ir];return{cacheSize:500,separator:":",theme:{colors:[ep],spacing:[Fc,Hu],blur:["none","",Vu,Ir],brightness:H(),borderColor:[e],borderRadius:["none","","full",Vu,Ir],borderSpacing:R(),borderWidth:L(),contrast:H(),grayscale:U(),hueRotate:H(),invert:U(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[bV,Hu],inset:A(),margin:A(),opacity:H(),padding:R(),saturate:H(),scale:H(),sepia:U(),skew:H(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Ir]}],container:["container"],columns:[{columns:[Vu]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Ir]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Qm,Ir]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ir]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Qm,Ir]}],"grid-cols":[{"grid-cols":[ep]}],"col-start-end":[{col:["auto",{span:["full",Qm,Ir]},Ir]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[ep]}],"row-start-end":[{row:["auto",{span:[Qm,Ir]},Ir]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ir]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ir]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[Y]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Y]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ir,t]}],"min-w":[{"min-w":[Ir,t,"min","max","fit"]}],"max-w":[{"max-w":[Ir,t,"none","full","min","max","fit","prose",{screen:[Vu]},Vu]}],h:[{h:[Ir,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ir,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ir,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ir,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Vu,Hu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",u1]}],"font-family":[{font:[ep]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ir]}],"line-clamp":[{"line-clamp":["none",Bf,u1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Fc,Ir]}],"list-image":[{"list-image":["none",Ir]}],"list-style-type":[{list:["none","disc","decimal",Ir]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Fc,Hu]}],"underline-offset":[{"underline-offset":["auto",Fc,Ir]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ir]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ir]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),NV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},SV]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...ee(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:ee()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ee()]}],"outline-offset":[{"outline-offset":[Fc,Ir]}],"outline-w":[{outline:[Fc,Hu]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Fc,Hu]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Vu,kV]}],"shadow-color":[{shadow:[ep]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Vu,Ir]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[w]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ir]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",Ir]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ir]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Qm,Ir]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[z]}],"skew-y":[{"skew-y":[z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ir]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ir]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ir]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Fc,Hu,u1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},AV=hV(DV);function nN(...e){return AV(fn(e))}const Xc=({variant:e="primary",size:t="md",className:r,children:n,...i})=>{const s="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",o={primary:"bg-theme-500 text-white hover:bg-theme-600 focus:ring-theme-500",secondary:"bg-theme-500 text-white hover:bg-theme-600 focus:ring-theme-500",outline:"border-2 border-theme-500 text-theme-500 hover:bg-theme-500 hover:text-white focus:ring-theme-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500"},l={sm:"px-3 py-2 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return a.jsx(Ie.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:nN(s,o[e],l[t],r),...i,children:n})},Cg=[{code:"ro",iconClass:"fi fi-ro w-5 h-5"},{code:"ru",iconClass:"fi fi-ru w-5 h-5"},{code:"en",iconClass:"fi fi-gb w-5 h-5"}],Pk={Petrol:"petrol",Gasoline:"gasoline",Diesel:"diesel",Electric:"electric",Hybrid:"hybrid"},TV=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class aN extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class OV extends aN{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ek extends aN{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Dk extends aN{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var a5;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(a5||(a5={}));class LV{constructor(t,{headers:r={},customFetch:n,region:i=a5.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=TV(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ur(this,arguments,void 0,function*(r,n={}){var i;let s,o;try{const{headers:l,method:c,body:u,signal:h,timeout:m}=n;let x={},{region:p}=n;p||(p=this.region);const v=new URL(`${this.url}/${r}`);p&&p!=="any"&&(x["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let y;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(x["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(x["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let g=h;m&&(o=new AbortController,s=setTimeout(()=>o.abort(),m),h?(g=o.signal,h.addEventListener("abort",()=>o.abort())):g=o.signal);const j=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),l),body:y,signal:g}).catch(O=>{throw new OV(O)}),k=j.headers.get("x-relay-error");if(k&&k==="true")throw new Ek(j);if(!j.ok)throw new Dk(j);let w=((i=j.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return w==="application/json"?E=yield j.json():w==="application/octet-stream"||w==="application/pdf"?E=yield j.blob():w==="text/event-stream"?E=j:w==="multipart/form-data"?E=yield j.formData():E=yield j.text(),{data:E,error:null,response:j}}catch(l){return{data:null,error:l,response:l instanceof Dk||l instanceof Ek?l.context:void 0}}finally{s&&clearTimeout(s)}})}}var Wi={};const fm=eA(SF);var Pg={},Eg={},Dg={},Ag={},Tg={},Og={},Ak;function TO(){if(Ak)return Og;Ak=1,Object.defineProperty(Og,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Og.default=e,Og}var Tk;function OO(){if(Tk)return Tg;Tk=1,Object.defineProperty(Tg,"__esModule",{value:!0});const t=fm.__importDefault(TO());class r{constructor(i){var s,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,m,x;let p=null,v=null,y=null,g=c.status,j=c.statusText;if(c.ok){if(this.method!=="HEAD"){const O=await c.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=O:v=JSON.parse(O))}const w=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),E=(m=c.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");w&&E&&E.length>1&&(y=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(p={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,y=null,g=406,j="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const w=await c.text();try{p=JSON.parse(w),Array.isArray(p)&&c.status===404&&(v=[],p=null,g=200,j="OK")}catch{c.status===404&&w===""?(g=204,j="No Content"):p={message:w}}if(p&&this.isMaybeSingle&&(!((x=p==null?void 0:p.details)===null||x===void 0)&&x.includes("0 rows"))&&(p=null,g=200,j="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:v,count:y,status:g,statusText:j}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,m;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(h=c==null?void 0:c.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(m=c==null?void 0:c.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,s)}returns(){return this}overrideTypes(){return this}}return Tg.default=r,Tg}var Ok;function LO(){if(Ok)return Ag;Ok=1,Object.defineProperty(Ag,"__esModule",{value:!0});const t=fm.__importDefault(OO());class r extends t.default{select(i){let s=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var h;const m=[i?"analyze":null,s?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),x=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${x}"; options=${m};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Ag.default=r,Ag}var Lk;function iN(){if(Lk)return Dg;Lk=1,Object.defineProperty(Dg,"__esModule",{value:!0});const t=fm.__importDefault(LO()),r=new RegExp("[,()]");class n extends t.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${u}fts${h}.${o}`),this}match(s){return Object.entries(s).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(s,o,l){return this.url.searchParams.append(s,`not.${o}.${l}`),this}or(s,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,o,l){return this.url.searchParams.append(s,`${o}.${l}`),this}}return Dg.default=n,Dg}var Ik;function IO(){if(Ik)return Eg;Ik=1,Object.defineProperty(Eg,"__esModule",{value:!0});const t=fm.__importDefault(iN());class r{constructor(i,{headers:s={},schema:o,fetch:l}){this.url=i,this.headers=new Headers(s),this.schema=o,this.fetch=l}select(i,s){const{head:o=!1,count:l}=s??{},c=o?"HEAD":"GET";let u=!1;const h=(i??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:o=!0}={}){var l;const c="POST";if(s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(u.length>0){const h=[...new Set(u)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((x,p)=>x.concat(Object.keys(p)),[]);if(m.length>0){const x=[...new Set(m)].map(p=>`"${p}"`);this.url.searchParams.set("columns",x.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:s}={}){var o;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var s;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Eg.default=r,Eg}var Mk;function IV(){if(Mk)return Pg;Mk=1,Object.defineProperty(Pg,"__esModule",{value:!0});const e=fm,t=e.__importDefault(IO()),r=e.__importDefault(iN());class n{constructor(s,{headers:o={},schema:l,fetch:c}={}){this.url=s,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(s){const o=new URL(`${this.url}/${s}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:l=!1,get:c=!1,count:u}={}){var h;let m;const x=new URL(`${this.url}/rpc/${s}`);let p;l||c?(m=l?"HEAD":"GET",Object.entries(o).filter(([y,g])=>g!==void 0).map(([y,g])=>[y,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([y,g])=>{x.searchParams.append(y,g)})):(m="POST",p=o);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new r.default({method:m,url:x,headers:v,schema:this.schemaName,body:p,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Pg.default=n,Pg}var Rk;function MV(){if(Rk)return Wi;Rk=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.PostgrestError=Wi.PostgrestBuilder=Wi.PostgrestTransformBuilder=Wi.PostgrestFilterBuilder=Wi.PostgrestQueryBuilder=Wi.PostgrestClient=void 0;const e=fm,t=e.__importDefault(IV());Wi.PostgrestClient=t.default;const r=e.__importDefault(IO());Wi.PostgrestQueryBuilder=r.default;const n=e.__importDefault(iN());Wi.PostgrestFilterBuilder=n.default;const i=e.__importDefault(LO());Wi.PostgrestTransformBuilder=i.default;const s=e.__importDefault(OO());Wi.PostgrestBuilder=s.default;const o=e.__importDefault(TO());return Wi.PostgrestError=o.default,Wi.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},Wi}var MO=MV();const RO=Wo(MO),RV=QD({__proto__:null,default:RO},[MO]),{PostgrestClient:zV,PostgrestQueryBuilder:kxe,PostgrestFilterBuilder:Cxe,PostgrestTransformBuilder:Pxe,PostgrestBuilder:Exe,PostgrestError:Dxe}=RO||RV;class FV{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const $V="2.81.0",BV=`realtime-js/${$V}`,zO="1.0.0",UV="2.0.0",zk=zO,i5=1e4,qV=1e3,HV=100;var nh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(nh||(nh={}));var Ua;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ua||(Ua={}));var Fo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fo||(Fo={}));var s5;(function(e){e.websocket="websocket"})(s5||(s5={}));var ah;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ah||(ah={}));class VV{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,r){if(this._isArrayBuffer(t.payload))return r(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodePush(t){const{join_ref:r,ref:n,event:i,topic:s,payload:o}=t,l=this.META_LENGTH+r.length+n.length+s.length+i.length,c=new ArrayBuffer(this.HEADER_LENGTH+l);let u=new DataView(c),h=0;u.setUint8(h++,this.KINDS.push),u.setUint8(h++,r.length),u.setUint8(h++,n.length),u.setUint8(h++,s.length),u.setUint8(h++,i.length),Array.from(r,x=>u.setUint8(h++,x.charCodeAt(0))),Array.from(n,x=>u.setUint8(h++,x.charCodeAt(0))),Array.from(s,x=>u.setUint8(h++,x.charCodeAt(0))),Array.from(i,x=>u.setUint8(h++,x.charCodeAt(0)));var m=new Uint8Array(c.byteLength+o.byteLength);return m.set(new Uint8Array(c),0),m.set(new Uint8Array(o),c.byteLength),m.buffer}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const{join_ref:i,ref:s,topic:o}=t,l=t.payload.event,c=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),u=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+s.length+o.length+l.length,h=new ArrayBuffer(this.HEADER_LENGTH+u);let m=new DataView(h),x=0;m.setUint8(x++,this.KINDS.userBroadcastPush),m.setUint8(x++,i.length),m.setUint8(x++,s.length),m.setUint8(x++,o.length),m.setUint8(x++,l.length),m.setUint8(x++,this.BINARY_ENCODING),Array.from(i,v=>m.setUint8(x++,v.charCodeAt(0))),Array.from(s,v=>m.setUint8(x++,v.charCodeAt(0))),Array.from(o,v=>m.setUint8(x++,v.charCodeAt(0))),Array.from(l,v=>m.setUint8(x++,v.charCodeAt(0)));var p=new Uint8Array(h.byteLength+c.byteLength);return p.set(new Uint8Array(h),0),p.set(new Uint8Array(c),h.byteLength),p.buffer}_encodeJsonUserBroadcastPush(t){var r,n;const{join_ref:i,ref:s,topic:o}=t,l=t.payload.event,c=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer,m=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+s.length+o.length+l.length,x=new ArrayBuffer(this.HEADER_LENGTH+m);let p=new DataView(x),v=0;p.setUint8(v++,this.KINDS.userBroadcastPush),p.setUint8(v++,i.length),p.setUint8(v++,s.length),p.setUint8(v++,o.length),p.setUint8(v++,l.length),p.setUint8(v++,this.JSON_ENCODING),Array.from(i,g=>p.setUint8(v++,g.charCodeAt(0))),Array.from(s,g=>p.setUint8(v++,g.charCodeAt(0))),Array.from(o,g=>p.setUint8(v++,g.charCodeAt(0))),Array.from(l,g=>p.setUint8(v++,g.charCodeAt(0)));var y=new Uint8Array(x.byteLength+h.byteLength);return y.set(new Uint8Array(x),0),y.set(new Uint8Array(h),x.byteLength),y.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,s,o,l,c]=n;return r({join_ref:i,ref:s,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(t,r,i);case this.KINDS.reply:return this._decodeReply(t,r,i);case this.KINDS.broadcast:return this._decodeBroadcast(t,r,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodePush(t,r,n){const i=r.getUint8(1),s=r.getUint8(2),o=r.getUint8(3);let l=this.HEADER_LENGTH+this.META_LENGTH-1;const c=n.decode(t.slice(l,l+i));l=l+i;const u=n.decode(t.slice(l,l+s));l=l+s;const h=n.decode(t.slice(l,l+o));l=l+o;const m=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{join_ref:c,ref:null,topic:u,event:h,payload:m}}_decodeReply(t,r,n){const i=r.getUint8(1),s=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+this.META_LENGTH;const u=n.decode(t.slice(c,c+i));c=c+i;const h=n.decode(t.slice(c,c+s));c=c+s;const m=n.decode(t.slice(c,c+o));c=c+o;const x=n.decode(t.slice(c,c+l));c=c+l;const p=JSON.parse(n.decode(t.slice(c,t.byteLength))),v={status:x,response:p};return{join_ref:u,ref:h,topic:m,event:Fo.reply,payload:v}}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+i));o=o+i;const c=n.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{join_ref:null,ref:null,topic:l,event:c,payload:u}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+i));c=c+i;const h=n.decode(t.slice(c,c+s));c=c+s;const m=n.decode(t.slice(c,c+o));c=c+o;const x=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(x)):x,v={type:this.BROADCAST,event:h,payload:p};return o>0&&(v.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class FO{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(jn||(jn={}));const Fk=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,o)=>(s[o]=WV(o,e,t,i),s),{}):{}},WV=(e,t,r,n)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,o=r[e];return s&&!n.includes(s)?$O(s,o):o5(o)},$O=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return XV(t,r)}switch(e){case jn.bool:return KV(t);case jn.float4:case jn.float8:case jn.int2:case jn.int4:case jn.int8:case jn.numeric:case jn.oid:return GV(t);case jn.json:case jn.jsonb:return YV(t);case jn.timestamp:return JV(t);case jn.abstime:case jn.date:case jn.daterange:case jn.int4range:case jn.int8range:case jn.money:case jn.reltime:case jn.text:case jn.time:case jn.timestamptz:case jn.timetz:case jn.tsrange:case jn.tstzrange:return o5(t);default:return o5(t)}},o5=e=>e,KV=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},GV=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},YV=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},XV=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>$O(t,l))}return e},JV=e=>typeof e=="string"?e.replace(" ","T"):e,BO=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class d1{constructor(t,r,n={},i=i5){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var $k;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})($k||($k={}));class Cp{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cp.syncState(this.state,i,s,o),this.pendingDiffs.forEach(c=>{this.state=Cp.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Cp.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(s,(u,h)=>{o[u]||(c[u]=h)}),this.map(o,(u,h)=>{const m=s[u];if(m){const x=h.map(g=>g.presence_ref),p=m.map(g=>g.presence_ref),v=h.filter(g=>p.indexOf(g.presence_ref)<0),y=m.filter(g=>x.indexOf(g.presence_ref)<0);v.length>0&&(l[u]=v),y.length>0&&(c[u]=y)}else l[u]=h}),this.syncDiff(s,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const h=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),h.length>0){const m=t[l].map(p=>p.presence_ref),x=h.filter(p=>m.indexOf(p.presence_ref)<0);t[l].unshift(...x)}n(l,h,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const h=c.map(m=>m.presence_ref);u=u.filter(m=>h.indexOf(m.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Bk||(Bk={}));var Pp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Pp||(Pp={}));var Uc;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Uc||(Uc={}));class sN{constructor(t,r={config:{}},n){var i,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ua.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new d1(this,Fo.join,this.params,this.timeout),this.rejoinTimer=new FO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ua.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ua.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ua.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ua.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ua.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fo.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Cp(this),this.broadcastEndpointURL=BO(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ua.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Pp.PRESENCE]&&this.bindings[Pp.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,m={},x={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Uc.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Uc.CLOSED)),this.updateJoinPayload(Object.assign({config:x},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){t==null||t(Uc.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,g=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,j=[];for(let k=0;k<g;k++){const w=y[k],{filter:{event:E,schema:O,table:z,filter:Y}}=w,B=p&&p[k];if(B&&B.event===E&&B.schema===O&&B.table===z&&B.filter===Y)j.push(Object.assign(Object.assign({},w),{id:B.id}));else{this.unsubscribe(),this.state=Ua.errored,t==null||t(Uc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Uc.SUBSCRIBED);return}}).receive("error",p=>{this.state=Ua.errored,t==null||t(Uc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Uc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ua.joined&&t===Pp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ua.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fo.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new d1(this,Fo.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ua.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new d1(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>HV){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:h}=Fo;if(n&&[l,c,u,h].indexOf(o)>=0&&n!==this._joinRef())return;let x=this._onMessage(o,r,n);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var v,y,g;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(y=p.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(p=>p.callback(x,n)):(s=this.bindings[o])===null||s===void 0||s.filter(p=>{var v,y,g,j,k,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const E=p.id,O=(v=p.filter)===null||v===void 0?void 0:v.event;return E&&((y=r.ids)===null||y===void 0?void 0:y.includes(E))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const E=(k=(j=p==null?void 0:p.filter)===null||j===void 0?void 0:j.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return E==="*"||E===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof x=="object"&&"ids"in x){const v=x.data,{schema:y,table:g,commit_timestamp:j,type:k,errors:w}=v;x=Object.assign(Object.assign({},{schema:y,table:g,commit_timestamp:j,eventType:k,new:{},old:{},errors:w}),this._getPayloadRecords(v))}p.callback(x,n)})}_isClosed(){return this.state===Ua.closed}_isJoined(){return this.state===Ua.joined}_isJoining(){return this.state===Ua.joining}_isLeaving(){return this.state===Ua.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&sN.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fo.close,{},t)}_onError(t){this._on(Fo.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ua.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Fk(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Fk(t.columns,t.old_record)),r}}const h1=()=>{},Lg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ZV=[1e3,2e3,5e3,1e4],QV=1e4,eW=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tW{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=i5,this.transport=null,this.heartbeatIntervalMs=Lg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=h1,this.ref=0,this.reconnectTimer=null,this.vsn=zk,this.logger=h1,this.conn=null,this.sendBuffer=[],this.serializer=new VV,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${s5.websocket}`,this.httpEndpoint=BO(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=FV.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case nh.connecting:return ah.Connecting;case nh.open:return ah.Open;case nh.closing:return ah.Closing;default:return ah.Closed}}isConnected(){return this.connectionState()===ah.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new sN(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(qV,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Lg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:o}=r,l=o?`(${o})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===nh.open||this.conn.readyState===nh.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fo.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([eW],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:BV};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Fo.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new FO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Lg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,o,l,c,u,h,m,x,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:i5,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Lg.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:h1,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:zk,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>ZV[v-1]||QV,this.vsn){case zO:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:(v,y)=>y(JSON.stringify(v)),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:(v,y)=>y(JSON.parse(v));break;case UV:this.encode=(x=t==null?void 0:t.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class oN extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ea(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class rW extends oN{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class l5 extends oN{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const lN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),nW=()=>Response,c5=e=>{if(Array.isArray(e))return e.map(r=>c5(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=c5(n)}),t},aW=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},f1=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},iW=(e,t,r)=>ur(void 0,void 0,void 0,function*(){const n=yield nW();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,o=(i==null?void 0:i.statusCode)||s+"";t(new rW(f1(i),s,o))}).catch(i=>{t(new l5(f1(i),i))}):t(new l5(f1(e),e))}),sW=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(aW(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function b0(e,t,r,n,i,s){return ur(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,sW(t,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>iW(c,l,n))})})}function Vp(e,t,r,n){return ur(this,void 0,void 0,function*(){return b0(e,"GET",t,r,n)})}function vl(e,t,r,n,i){return ur(this,void 0,void 0,function*(){return b0(e,"POST",t,n,i,r)})}function u5(e,t,r,n,i){return ur(this,void 0,void 0,function*(){return b0(e,"PUT",t,n,i,r)})}function oW(e,t,r,n){return ur(this,void 0,void 0,function*(){return b0(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function cN(e,t,r,n,i){return ur(this,void 0,void 0,function*(){return b0(e,"DELETE",t,n,i,r)})}class lW{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ur(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ea(t))return{data:null,error:t};throw t}})}}var UO;class cW{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[UO]="BlobDownloadBuilder",this.promise=null}asStream(){return new lW(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ur(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ea(t))return{data:null,error:t};throw t}})}}UO=Symbol.toStringTag;const uW={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Uk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dW{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=lN(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return ur(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Uk),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),c&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),m=yield(t=="PUT"?u5:vl)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:m.Id,fullPath:m.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ea(s))return{data:null,error:s};throw s}})}upload(t,r,n){return ur(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return ur(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Uk.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const m=yield u5(this.fetch,l.toString(),c,{headers:h});return{data:{path:s,fullPath:m.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ea(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ur(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield vl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new oN("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ea(n))return{data:null,error:n};throw n}})}update(t,r,n){return ur(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ur(this,void 0,void 0,function*(){try{return{data:yield vl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ea(i))return{data:null,error:i};throw i}})}copy(t,r,n){return ur(this,void 0,void 0,function*(){try{return{data:{path:(yield vl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ea(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return ur(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield vl(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ea(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return ur(this,void 0,void 0,function*(){try{const i=yield vl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ea(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"",l=this._getFinalPath(t),c=()=>Vp(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new cW(c,this.shouldThrowOnError)}info(t){return ur(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Vp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:c5(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ea(n))return{data:null,error:n};throw n}})}exists(t){return ur(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield oW(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ea(n)&&n instanceof l5){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return ur(this,void 0,void 0,function*(){try{return{data:yield cN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ea(r))return{data:null,error:r};throw r}})}list(t,r,n){return ur(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},uW),r),{prefix:t||""});return{data:yield vl(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ea(i))return{data:null,error:i};throw i}})}listV2(t,r){return ur(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield vl(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ea(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const qO="2.81.0",HO={"X-Client-Info":`storage-js/${qO}`};class hW{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},HO),r),this.fetch=lN(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ur(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Vp(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ea(r))return{data:null,error:r};throw r}})}getBucket(t){return ur(this,void 0,void 0,function*(){try{return{data:yield Vp(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ea(r))return{data:null,error:r};throw r}})}createBucket(t){return ur(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield vl(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ea(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return ur(this,void 0,void 0,function*(){try{return{data:yield u5(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ea(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ur(this,void 0,void 0,function*(){try{return{data:yield vl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ea(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ur(this,void 0,void 0,function*(){try{return{data:yield cN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ea(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class fW{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},HO),r),this.fetch=lN(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ur(this,void 0,void 0,function*(){try{return{data:yield vl(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ea(r))return{data:null,error:r};throw r}})}listBuckets(t){return ur(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Vp(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ea(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ur(this,void 0,void 0,function*(){try{return{data:yield cN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ea(r))return{data:null,error:r};throw r}})}}const uN={"X-Client-Info":`storage-js/${qO}`,"Content-Type":"application/json"};class VO extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function io(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class m1 extends VO{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mW extends VO{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var qk;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(qk||(qk={}));const dN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),pW=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Hk=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gW=(e,t,r)=>ur(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new m1(Hk(o),i,l))}).catch(()=>{const o=i+"",l=s.statusText||`HTTP ${i} error`;t(new m1(l,i,o))});else{const o=i+"",l=s.statusText||`HTTP ${i} error`;t(new m1(l,i,o))}}else t(new mW(Hk(e),e))}),xW=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(pW(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function vW(e,t,r,n,i,s){return ur(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,xW(t,n,i,s)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>gW(c,l,n))})})}function so(e,t,r,n,i){return ur(this,void 0,void 0,function*(){return vW(e,"POST",t,n,i,r)})}class yW{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uN),r),this.fetch=dN(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ur(this,void 0,void 0,function*(){try{return{data:(yield so(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(io(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ur(this,void 0,void 0,function*(){try{return{data:yield so(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(io(n))return{data:null,error:n};throw n}})}listIndexes(t){return ur(this,void 0,void 0,function*(){try{return{data:yield so(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(io(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ur(this,void 0,void 0,function*(){try{return{data:(yield so(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(io(n))return{data:null,error:n};throw n}})}}class bW{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uN),r),this.fetch=dN(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ur(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield so(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(io(r))return{data:null,error:r};throw r}})}getVectors(t){return ur(this,void 0,void 0,function*(){try{return{data:yield so(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(io(r))return{data:null,error:r};throw r}})}listVectors(t){return ur(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield so(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(io(r))return{data:null,error:r};throw r}})}queryVectors(t){return ur(this,void 0,void 0,function*(){try{return{data:yield so(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(io(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ur(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield so(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(io(r))return{data:null,error:r};throw r}})}}class wW{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uN),r),this.fetch=dN(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ur(this,void 0,void 0,function*(){try{return{data:(yield so(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(io(r))return{data:null,error:r};throw r}})}getBucket(t){return ur(this,void 0,void 0,function*(){try{return{data:yield so(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(io(r))return{data:null,error:r};throw r}})}listBuckets(){return ur(this,arguments,void 0,function*(t={}){try{return{data:yield so(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(io(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ur(this,void 0,void 0,function*(){try{return{data:(yield so(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(io(r))return{data:null,error:r};throw r}})}}class jW extends wW{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new NW(this.url,this.headers,t,this.fetch)}}class NW extends yW{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ur(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ur(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ur(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ur(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new _W(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class _W extends bW{constructor(t,r,n,i,s){super(t,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ur(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ur(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ur(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ur(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ur(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class SW extends hW{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new dW(this.url,this.headers,t,this.fetch)}get vectors(){return new jW(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new fW(this.url+"/iceberg",this.headers,this.fetch)}}const kW="2.81.0";let gp="";typeof Deno<"u"?gp="deno":typeof document<"u"?gp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gp="react-native":gp="node";const CW={"X-Client-Info":`supabase-js-${gp}/${kW}`},PW={headers:CW},EW={schema:"public"},DW={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},AW={},TW=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),OW=()=>Headers,LW=(e,t,r)=>{const n=TW(r),i=OW();return async(s,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},o),{headers:u}))}};function IW(e){return e.endsWith("/")?e:e+"/"}function MW(e,t){var r,n;const{db:i,auth:s,realtime:o,global:l}=e,{db:c,auth:u,realtime:h,global:m}=t,x={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?x.accessToken=e.accessToken:delete x.accessToken,x}function RW(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(IW(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const WO="2.81.0",_f=30*1e3,d5=3,p1=d5*_f,zW="http://localhost:9999",FW="supabase.auth.token",$W={"X-Client-Info":`gotrue-js/${WO}`},h5="X-Supabase-Api-Version",KO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,UW=10*60*1e3;class Wp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function hr(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class qW extends Wp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function HW(e){return hr(e)&&e.name==="AuthApiError"}class ih extends Wp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class pd extends Wp{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class gl extends pd{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function VW(e){return hr(e)&&e.name==="AuthSessionMissingError"}class uf extends pd{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ig extends pd{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Mg extends pd{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function WW(e){return hr(e)&&e.name==="AuthImplicitGrantRedirectError"}class Vk extends pd{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class f5 extends pd{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function g1(e){return hr(e)&&e.name==="AuthRetryableFetchError"}class Wk extends pd{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class m5 extends pd{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Kx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kk=` 	
\r=`.split(""),KW=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Kk.length;t+=1)e[Kk[t].charCodeAt(0)]=-2;for(let t=0;t<Kx.length;t+=1)e[Kx[t].charCodeAt(0)]=t;return e})();function Gk(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Kx[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Kx[n]),t.queuedBits-=6}}function GO(e,t,r){const n=KW[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Yk(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{XW(o,n,r)};for(let o=0;o<e.length;o+=1)GO(e.charCodeAt(o),i,s);return t.join("")}function GW(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function YW(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}GW(n,t)}}function XW(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Uf(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)GO(e.charCodeAt(i),r,n);return new Uint8Array(t)}function JW(e){const t=[];return YW(e,r=>t.push(r)),new Uint8Array(t)}function uh(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Gk(i,r,n)),Gk(null,r,n),t.join("")}function ZW(e){return Math.round(Date.now()/1e3)+e}function QW(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ji=()=>typeof window<"u"&&typeof document<"u",Gd={tested:!1,writable:!1},YO=()=>{if(!Ji())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gd.tested)return Gd.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Gd.tested=!0,Gd.writable=!0}catch{Gd.tested=!0,Gd.writable=!1}return Gd.writable};function eK(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const XO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tK=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Sf=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Yd=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Wu=async(e,t)=>{await e.removeItem(t)};class ly{constructor(){this.promise=new ly.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ly.promiseConstructor=Promise;function x1(e){const t=e.split(".");if(t.length!==3)throw new m5("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!BW.test(t[n]))throw new m5("JWT not in base64url format");return{header:JSON.parse(Yk(t[0])),payload:JSON.parse(Yk(t[1])),signature:Uf(t[2]),raw:{header:t[0],payload:t[1]}}}async function rK(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function nK(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function aK(e){return("0"+e.toString(16)).substr(-2)}function iK(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,aK).join("")}async function sK(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function oK(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await sK(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function df(e,t,r=!1){const n=iK();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Sf(e,`${t}-code-verifier`,i);const s=await oK(n);return[s,n===s?"plain":"s256"]}const lK=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cK(e){const t=e.headers.get(h5);if(!t||!t.match(lK))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function uK(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function dK(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hK=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hf(e){if(!hK.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function v1(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fK(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function Xk(e){return JSON.parse(JSON.stringify(e))}const Jd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mK=[502,503,504];async function Jk(e){var t;if(!tK(e))throw new f5(Jd(e),0);if(mK.includes(e.status))throw new f5(Jd(e),e.status);let r;try{r=await e.json()}catch(s){throw new ih(Jd(s),s)}let n;const i=cK(e);if(i&&i.getTime()>=KO["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Wk(Jd(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new gl}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Wk(Jd(r),e.status,r.weak_password.reasons);throw new qW(Jd(r),e.status||500,n)}const pK=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function _r(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[h5]||(s[h5]=KO["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await gK(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function gK(e,t,r,n,i,s){const o=pK(t,n,i,s);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new f5(Jd(c),0)}if(l.ok||await Jk(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Jk(c)}}function xl(e){var t;let r=null;yK(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=ZW(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Zk(e){const t=xl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function rd(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function xK(e){return{data:e,error:null}}function vK(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,o=ci(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Qk(e){return e}function yK(e){return e.access_token&&e.refresh_token&&e.expires_in}const y1=["global","local","others"];class bK{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=XO(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=y1[0]){if(y1.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${y1.join(", ")}`);try{return await _r(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(hr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await _r(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:rd})}catch(n){if(hr(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ci(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await _r(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:vK,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(hr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await _r(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:rd})}catch(r){if(hr(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await _r(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Qk});if(h.error)throw h.error;const m=await h.json(),x=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);u[`${g}Page`]=y}),u.total=parseInt(x)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(hr(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){hf(t);try{return await _r(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:rd})}catch(r){if(hr(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){hf(t);try{return await _r(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:rd})}catch(n){if(hr(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){hf(t);try{return await _r(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:rd})}catch(n){if(hr(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){hf(t.userId);try{const{data:r,error:n}=await _r(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _deleteFactor(t){hf(t.userId),hf(t.id);try{return{data:await _r(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await _r(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Qk});if(h.error)throw h.error;const m=await h.json(),x=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);u[`${g}Page`]=y}),u.total=parseInt(x)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(hr(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await _r(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await _r(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await _r(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(hr(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await _r(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await _r(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(hr(r))return{data:null,error:r};throw r}}}function e4(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ff={debug:!!(globalThis&&YO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class JO extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class wK extends JO{}async function jK(e,t,r){ff.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ff.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ff.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{ff.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ff.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new wK(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ff.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function NK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ZO(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function _K(e){return parseInt(e,16)}function SK(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function kK(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:h,uri:m,version:x}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=ZO(e.address),v=h?`${h}://${n}`:n,y=e.statement?`${e.statement}
`:"",g=`${v} wants you to sign in with your Ethereum account:
${p}

${y}`;let j=`URI: ${m}
Version: ${x}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(j+=`
Expiration Time: ${i.toISOString()}`),l&&(j+=`
Not Before: ${l.toISOString()}`),c&&(j+=`
Request ID: ${c}`),u){let k=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);k+=`
- ${w}`}j+=k}return`${g}
${j}`}class Ea extends Error{constructor({message:t,code:r,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Gx extends Ea{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function CK({error:e,options:t}){var r,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ea({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ea({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ea({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ea({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ea({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ea({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ea({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ea({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(QO(o)){if(s.rp.id!==o)return new Ea({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ea({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ea({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ea({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ea({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function PK({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ea({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ea({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(QO(n)){if(r.rpId!==n)return new Ea({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ea({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ea({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ea({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class EK{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const DK=new EK;function AK(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=ci(e,["challenge","user","excludeCredentials"]),s=Uf(t).buffer,o=Object.assign(Object.assign({},r),{id:Uf(r.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Uf(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function TK(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ci(e,["challenge","allowCredentials"]),i=Uf(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];s.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Uf(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function OK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:uh(new Uint8Array(e.response.attestationObject)),clientDataJSON:uh(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function LK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:uh(new Uint8Array(i.authenticatorData)),clientDataJSON:uh(new Uint8Array(i.clientDataJSON)),signature:uh(new Uint8Array(i.signature)),userHandle:i.userHandle?uh(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function QO(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function t4(){var e,t;return!!(Ji()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function IK(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Gx("Browser returned unexpected credential type",t)}:{data:null,error:new Gx("Empty credential response",t)}}catch(t){return{data:null,error:CK({error:t,options:e})}}}async function MK(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Gx("Browser returned unexpected credential type",t)}:{data:null,error:new Gx("Empty credential response",t)}}catch(t){return{data:null,error:PK({error:t,options:e})}}}const RK={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},zK={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Yx(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))n[s]=o;else if(r(o))n[s]=o;else if(t(o)){const l=n[s];t(l)?n[s]=Yx(l,o):n[s]=Yx(o)}else n[s]=o}return n}function FK(e,t){return Yx(RK,e,t||{})}function $K(e,t){return Yx(zK,e,t||{})}class BK{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},s){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=i??DK.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=FK(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:h,error:m}=await IK({publicKey:u,signal:c});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const u=$K(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:h,error:m}=await MK(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(o){return hr(o)?{data:null,error:o}:{data:null,error:new ih("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Wp("rpId is required for WebAuthn authentication")};try{if(!t4())return{data:null,error:new ih("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return hr(o)?{data:null,error:o}:{data:null,error:new ih("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Wp("rpId is required for WebAuthn registration")};try{if(!t4())return{data:null,error:new ih("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return hr(o)?{data:null,error:o}:{data:null,error:new ih("Unexpected error in register",o)}}}}NK();const UK={url:zW,storageKey:FW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$W,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function r4(e,t,r){return await r()}const mf={};class Kp{get jwks(){var t,r;return(r=(t=mf[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){mf[this.storageKey]=Object.assign(Object.assign({},mf[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=mf[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){mf[this.storageKey]=Object.assign(Object.assign({},mf[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},UK),t);if(this.storageKey=s.storageKey,this.instanceID=(r=Kp.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Kp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Ji()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new bK({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=XO(s.fetch),this.lock=s.lock||r4,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:Ji()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=jK:this.lock=r4,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new BK(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:YO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=e4(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=e4(this.memoryStorage)),Ji()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${WO}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ji()&&(r=eK(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ji()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),WW(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return hr(r)?this._returnResult({error:r}):this._returnResult({error:new ih("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await _r(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:xl}),{data:o,error:l}=s;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(hr(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:h,password:m,options:x}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await df(this.storage,this.storageKey)),s=await _r(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:h,password:m,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:p,code_challenge_method:v},xform:xl})}else if("phone"in t){const{phone:h,password:m,options:x}=t;s=await _r(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},channel:(i=x==null?void 0:x.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:xl})}else throw new Ig("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(hr(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:l}=t;r=await _r(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Zk})}else if("phone"in t){const{phone:s,password:o,options:l}=t;r=await _r(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Zk})}else throw new Ig("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new uf;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(hr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,s,o,l,c,u,h,m,x;let p,v;if("message"in t)p=t.message,v=t.signature;else{const{chain:y,wallet:g,statement:j,options:k}=t;let w;if(Ji())if(typeof g=="object")w=g;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")w=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const E=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href),O=await w.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const z=ZO(O[0]);let Y=(n=k==null?void 0:k.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!Y){const $=await w.request({method:"eth_chainId"});Y=_K($)}const B={domain:E.host,address:z,statement:j,uri:E.href,version:"1",chainId:Y,nonce:(i=k==null?void 0:k.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=k==null?void 0:k.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=k==null?void 0:k.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=k==null?void 0:k.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=k==null?void 0:k.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=k==null?void 0:k.signInWithEthereum)===null||h===void 0?void 0:h.resources};p=kK(B),v=await w.request({method:"personal_sign",params:[SK(p),z]})}try{const{data:y,error:g}=await _r(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:xl});if(g)throw g;if(!y||!y.session||!y.user){const j=new uf;return this._returnResult({data:{user:null,session:null},error:j})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:g})}catch(y){if(hr(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,i,s,o,l,c,u,h,m,x,p;let v,y;if("message"in t)v=t.message,y=t.signature;else{const{chain:g,wallet:j,statement:k,options:w}=t;let E;if(Ji())if(typeof j=="object")E=j;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))E=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=j}const O=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const z=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),k?{statement:k}:null));let Y;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")Y=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)Y=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Y&&"signature"in Y&&(typeof Y.signedMessage=="string"||Y.signedMessage instanceof Uint8Array)&&Y.signature instanceof Uint8Array)v=typeof Y.signedMessage=="string"?Y.signedMessage:new TextDecoder().decode(Y.signedMessage),y=Y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${O.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((m=(h=w==null?void 0:w.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...w.signInWithSolana.resources.map(Y=>`- ${Y}`)]:[]].join(`
`);const z=await E.signMessage(new TextEncoder().encode(v),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=z}}try{const{data:g,error:j}=await _r(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:uh(y)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:xl});if(j)throw j;if(!g||!g.session||!g.user){const k=new uf;return this._returnResult({data:{user:null,session:null},error:k})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:j})}catch(g){if(hr(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(t){const r=await Yd(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await _r(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:xl});if(await Wu(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const l=new uf;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(hr(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=t,l=await _r(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:xl}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const h=new uf;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(hr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,s,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await df(this.storage,this.storageKey));const{error:m}=await _r(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:h}=await _r(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new Ig("You must provide either an email or phone number.")}catch(l){if(hr(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await _r(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:xl});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(hr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,o=null;this.flowType==="pkce"&&([s,o]=await df(this.storage,this.storageKey));const l=await _r(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:xK});return this._returnResult(l)}catch(s){if(hr(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new gl;const{error:i}=await _r(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(hr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:o}=await _r(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:o,error:l}=await _r(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Ig("You must provide either an email or phone number and a type")}catch(r){if(hr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Yd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<p1:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Yd(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=v1()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=fK(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await _r(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:rd}):await this._useSession(async r=>{var n,i,s;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gl}:await _r(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:rd})})}catch(r){if(hr(r))return VW(r)&&(await this._removeSession(),await Wu(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new gl;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await df(this.storage,this.storageKey));const{data:u,error:h}=await _r(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:rd});if(h)throw h;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(hr(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new gl;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=x1(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(hr(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new gl;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(hr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ji())throw new Mg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Mg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Vk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Vk("No code detected.");const{data:k,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!o||!u)throw new Mg("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(l);let x=h+m;c&&(x=parseInt(c));const p=x-h;p*1e3<=_f&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${m}s`);const v=x-m;h-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,x,h):h-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,x,h);const{data:y,error:g}=await this._getUser(s);if(g)throw g;const j={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:m,expires_at:x,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(n){if(hr(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Yd(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(HW(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Wu(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=QW(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await df(this.storage,this.storageKey,!0));try{return await _r(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(hr(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,l,c,u,h;const{data:m,error:x}=s;if(x)throw x;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await _r(this.fetch,"GET",p,{headers:this.headers,jwt:(h=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Ji()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(hr(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:o,provider:l,token:c,access_token:u,nonce:h}=t,m=await _r(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:xl}),{data:x,error:p}=m;return p?this._returnResult({data:{user:null,session:null},error:p}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new uf}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:p}))}catch(i){if(hr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await _r(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await nK(async i=>(i>0&&await rK(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await _r(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xl})),(i,s)=>{const o=200*Math.pow(2,i);return s&&g1(s)&&Date.now()+o-n<_f})}catch(n){if(this._debug(r,"error",n),hr(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ji()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Yd(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Yd(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Sf(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:v1()}else if(i&&!i.user&&!i.user){const o=await Yd(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Wu(this.storage,this.storageKey+"-user"),await Sf(this.storage,this.storageKey,i)):i.user=v1()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<p1;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${p1}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),g1(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new gl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ly;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new gl;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),hr(s)){const o={data:null,error:s};return g1(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Sf(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=Xk(i);await Sf(this.storage,this.storageKey,s)}else{const i=Xk(r);await Sf(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Wu(this.storage,this.storageKey),await Wu(this.storage,this.storageKey+"-code-verifier"),await Wu(this.storage,this.storageKey+"-user"),this.userStorage&&await Wu(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ji()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_f);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/_f);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${_f}ms, refresh threshold is ${d5} ticks`),i<=d5&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof JO)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ji()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await df(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await _r(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await _r(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?OK(t.webauthn.credential_response):LK(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await _r(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=await _r(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:AK(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:TK(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=x1(n.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await _r(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new gl})})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new gl});const o=await _r(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ji()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(hr(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new gl});const o=await _r(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ji()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(hr(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+UW>i)return n;const{data:s,error:o}=await _r(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});n=p.session.access_token}const{header:i,payload:s,signature:o,raw:{header:l,payload:c}}=x1(n);r!=null&&r.allowExpired||uK(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:s,header:i,signature:o},error:null}}const h=dK(i.alg),m=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,o,JW(`${l}.${c}`)))throw new m5("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(hr(n))return this._returnResult({data:null,error:n});throw n}}}Kp.nextInstanceID={};const qK=Kp;class HK extends qK{constructor(t){super(t)}}class VK{constructor(t,r,n){var i,s,o;this.supabaseUrl=t,this.supabaseKey=r;const l=RW(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:EW,realtime:AW,auth:Object.assign(Object.assign({},DW),{storageKey:c}),global:PW},h=MW(n??{},u);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=LW(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new zV(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new SW(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new LV(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:o,flowType:l,lock:c,debug:u,throwOnError:h},m,x){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new HK({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),m),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:l,lock:c,debug:u,throwOnError:h,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new tW(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const eL=(e,t,r)=>new VK(e,t,r);function WK(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}WK()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const tL="https://akeraamxcaazrtvxkbkt.supabase.co",KK="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFrZXJhYW14Y2FhenJ0dnhrYmt0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIwMDAzOTgsImV4cCI6MjA3NzU3NjM5OH0.9MNxNf3dmspdrLtUpgyPw1nuSIRKQJRb47sFib55ljM",GK="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFrZXJhYW14Y2FhenJ0dnhrYmt0Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MjAwMDM5OCwiZXhwIjoyMDc3NTc2Mzk4fQ.8YEzMG2xTc-M97RuxL7IuMYpLq_0Ws-oaVKX3nk7jHA",qt=eL(tL,KK,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),ho=eL(tL,GK),ld=Object.freeze(Object.defineProperty({__proto__:null,supabase:qt,supabaseAdmin:ho},Symbol.toStringTag,{value:"Module"}));function uc(){const[e,t]=_.useState(null),[r,n]=_.useState(null),[i,s]=_.useState(null),[o,l]=_.useState(!0),[c,u]=_.useState(!1),h=_.useRef(new Map),m=_.useRef(!1),x=_.useCallback(async k=>{if(h.current.has(k)){const w=h.current.get(k);s(w||null),u(!0);return}if(!m.current){m.current=!0;try{const w=new Promise((B,$)=>setTimeout(()=>$(new Error("Profile fetch timeout")),2e3)),E=qt.from("Profiles").select("id, email, first_name, last_name, phone_number, role").eq("id",k).maybeSingle();let O;try{O=await Promise.race([E,w])}catch(B){console.error(" Profile fetch failed:",(B==null?void 0:B.message)||B),s(null),u(!0),m.current=!1;return}const{data:z,error:Y}=O;if(Y){console.error(" Error fetching profile:",Y),console.error("Error details:",{message:Y.message,details:Y.details,hint:Y.hint,code:Y.code}),s(null),u(!0);return}if(z){const B=z;s(B),h.current.set(k,B)}else s(null),h.current.set(k,null);u(!0),m.current=!1}catch(w){console.error(" Exception fetching user profile:",w),s(null),u(!0),m.current=!1}}},[]);_.useEffect(()=>{qt.auth.getSession().then(({data:{session:w}})=>{n(w),t((w==null?void 0:w.user)??null),l(!1),w!=null&&w.user?x(w.user.id):(s(null),u(!0))});const{data:{subscription:k}}=qt.auth.onAuthStateChange((w,E)=>{n(E),t((E==null?void 0:E.user)??null),l(!1),E!=null&&E.user&&(w==="SIGNED_IN"||w==="TOKEN_REFRESHED"||w==="USER_UPDATED")?(u(!1),x(E.user.id)):E!=null&&E.user||(s(null),u(!0),m.current=!1)});return()=>k.unsubscribe()},[x]);const p=async(k,w)=>{const{data:E,error:O}=await qt.auth.signInWithPassword({email:k,password:w});return{data:E,error:O}},v=async(k,w)=>{var Y;const{data:E,error:O}=await qt.auth.signUp({email:k,password:w});return O?{error:O}:{userId:(Y=E.user)==null?void 0:Y.id,data:E}},y=async()=>{const{error:k}=await qt.auth.signOut();return{error:k}},g=async k=>{const{data:w,error:E}=await qt.auth.resetPasswordForEmail(k,{redirectTo:`${window.location.origin}/auth/reset-password`});return{data:w,error:E}},j=_.useMemo(()=>{var Y;const k=((Y=i==null?void 0:i.role)==null?void 0:Y.toUpperCase())||"",w=k==="ADMIN"||k==="MODERATOR",E=[],O=e!=null&&e.email?E.includes(e.email):!1;return w||O},[i,e==null?void 0:e.email]);return{user:e,session:r,loading:o,roleLoaded:c,signIn:p,signUp:v,signOut:y,resetPassword:g,isAuthenticated:!!e,userProfile:i,userRole:(i==null?void 0:i.role)||null,isAdmin:j}}const rL=({forceRender:e})=>{var V,U,I,H,D,G,Z,P;const{i18n:t,t:r}=br(),n=go(),i=kn(),{user:s,isAuthenticated:o,signOut:l,isAdmin:c}=uc(),u=e||!SO.some(re=>n.pathname.startsWith(re)),h=()=>n.pathname==="/booking"?(console.log("The header should be scrolled"),!0):!1,m=n.pathname==="/auth/signup"||n.pathname==="/contact"||n.pathname==="/cars"||document.getElementById("car-not-found")||document.getElementById("individual-car-page"),x=n.pathname==="/auth/login"||n.pathname==="/auth/signup";n.pathname;const p=["/","/about","/contact","/how-to-rent","/reviews","/terms","/calculator","/not-found"],v=!!document.getElementById("not-found-page"),y=p.includes(n.pathname)||v,[g,j]=_.useState(!1),[k,w]=_.useState(h),[E,O]=_.useState(!1),[z,Y]=_.useState(!1),[B,$]=_.useState(t.language),T=_.useRef(null),[A,R]=_.useState(null),L=x||y&&!k||e&&!k&&!m;vt.useEffect(()=>{let re;return E&&(re=setTimeout(()=>{O(!1)},3e3)),()=>{re&&clearTimeout(re)}},[E]),vt.useEffect(()=>{h()&&w(!0);const re=()=>{const ce=window.scrollY,be=n.pathname==="/help"?70:150;w(ce>be)};return window.addEventListener("scroll",re),()=>window.removeEventListener("scroll",re)},[n.pathname]),_.useEffect(()=>{if(z&&e&&T.current){const re=T.current.getBoundingClientRect();R({top:re.bottom+8,right:window.innerWidth-re.right})}else R(null)},[z,e]),vt.useEffect(()=>{const re=ce=>{const be=ce.target;be.closest(".language-dropdown-container")||O(!1),!be.closest(".user-dropdown-container")&&!be.closest(".user-dropdown-portal")&&Y(!1)};return(E||z)&&document.addEventListener("mousedown",re),()=>{document.removeEventListener("mousedown",re)}},[E,z]);const q=re=>{console.log("=== LOGOUT BUTTON CLICKED ==="),re&&(re.preventDefault(),re.stopPropagation()),Y(!1),j(!1),console.log("Clearing storage..."),localStorage.clear(),sessionStorage.clear(),console.log("Storage cleared"),console.log("Calling signOut with timeout...");const ce=l(),be=new Promise(ae=>{setTimeout(()=>{console.log("SignOut timeout - proceeding with logout anyway"),ae({error:null})},1e3)});Promise.race([ce,be]).then(ae=>{console.log("SignOut completed or timed out:",ae),ae!=null&&ae.error?console.error("Logout error:",ae.error):console.log("Logout successful (or timed out)")}).catch(ae=>{console.error("Logout promise rejected:",ae)}).finally(()=>{console.log("Reloading page..."),window.location.replace("/")})},W=[{name:r("header.home"),href:"/"},{name:r("header.cars"),href:"/cars"},{name:r("header.about"),href:"/about"},{name:r("header.howToRent"),href:"/how-to-rent"},{name:r("header.contact"),href:"/contact"}],ee=re=>n.pathname===re,M=re=>{const ce=ae=>{const fe=ae.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:fe,behavior:"smooth"})};if(re.startsWith("/")){i(re);return}const be=document.getElementById(re);be?ce(be):(i("/"),setTimeout(()=>{const ae=document.getElementById(re);ae&&ce(ae)},0))};return u?a.jsx("header",{className:`${e?"relative":"fixed top-0 left-0 right-0"} ${e?"z-[9999999]":"z-50"} transition-all duration-300 font-sans ${x||y&&!k||e&&!k&&!m?"bg-transparent shadow-none border-transparent":k||m&&!y?"bg-white border-b border-gray-200":"bg-transparent shadow-none border-transparent"}`,children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex justify-between items-center h-20 lg:h-20",children:[a.jsx(Bo,{to:"/",className:"flex items-center group",children:a.jsx("img",{src:"/logo.png",alt:"Level Auto Rental Logo",className:`w-[180px] lg:w-[190px] h-auto transition-all duration-300 ${L?"brightness-0 invert":""}`})}),a.jsx("nav",{className:"hidden lg:flex items-center space-x-1",children:W.map(re=>a.jsx("button",{onClick:()=>M(re.href),className:`px-4 py-2 text-sm font-medium transition-all duration-300 rounded-xl hover:bg-theme-50 hover:text-theme-500 ${ee(re.href)?"text-theme-500 bg-theme-50":L?"text-white":"text-gray-700"}`,style:{background:"none",border:"none",cursor:"pointer"},children:re.name},re.name))}),a.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[o&&s?a.jsxs("div",{className:"relative user-dropdown-container",children:[a.jsxs("button",{ref:T,onClick:()=>Y(!z),className:`flex items-center space-x-3 px-3 py-2 rounded-xl transition-all duration-300 ${L?"hover:bg-white/10 text-white":"hover:bg-gray-100 text-gray-700"}`,children:[a.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center font-semibold text-sm ${L?"bg-white/20 text-white":"bg-red-600 text-white"}`,children:(((V=s.email)==null?void 0:V.split("@")[0])||s.email||"U").charAt(0).toUpperCase()}),a.jsx("div",{className:"text-left",children:a.jsx("p",{className:`text-sm font-medium ${L?"text-white":"text-gray-700"}`,children:((U=s.email)==null?void 0:U.split("@")[0])||s.email})}),a.jsx(Ff,{className:`w-4 h-4 transition-transform duration-300 ${z?"rotate-180":""} ${L?"text-white":"text-gray-500"}`})]}),e?z&&A?Na.createPortal(a.jsx(mr,{children:z&&a.jsxs(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"user-dropdown-portal fixed bg-white border border-gray-200 rounded-xl shadow-xl z-[99999999] min-w-[220px] overflow-hidden",style:{top:`${A.top}px`,right:`${A.right}px`},onClick:re=>re.stopPropagation(),children:[a.jsxs("div",{className:"p-4 border-b border-gray-100",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:((I=s.email)==null?void 0:I.split("@")[0])||s.email}),a.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:s.email})]}),a.jsxs("div",{className:"py-2",children:[a.jsxs("button",{onClick:()=>{i("/dashboard?tab=overview"),Y(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[a.jsx(Af,{className:"w-4 h-4"}),a.jsx("span",{children:r("header.dashboard")})]}),!c&&a.jsxs("button",{onClick:()=>{i("/dashboard?tab=settings&subTab=settings"),Y(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[a.jsx(ch,{className:"w-4 h-4"}),a.jsx("span",{children:r("header.settings")})]}),c&&a.jsxs("button",{onClick:()=>{i("/admin"),Y(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[a.jsx(sd,{className:"w-4 h-4"}),a.jsx("span",{children:r("header.admin")})]})]}),a.jsx("div",{className:"border-t border-gray-100 py-2",children:a.jsxs("button",{onClick:re=>{console.log("Desktop logout button clicked"),re.preventDefault(),re.stopPropagation(),q(re)},type:"button",className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors cursor-pointer",style:{pointerEvents:"auto"},children:[a.jsx(lh,{className:"w-4 h-4"}),a.jsx("span",{children:r("header.signOut")})]})})]})}),document.body):null:a.jsx(mr,{children:z&&a.jsxs(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full right-0 mt-2 bg-white border border-gray-200 rounded-xl shadow-xl z-50 min-w-[220px] overflow-hidden",onClick:re=>re.stopPropagation(),children:[a.jsxs("div",{className:"p-4 border-b border-gray-100",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:((H=s.email)==null?void 0:H.split("@")[0])||s.email}),a.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:s.email})]}),a.jsxs("div",{className:"py-2",children:[a.jsxs("button",{onClick:()=>{i("/dashboard?tab=overview"),Y(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[a.jsx(Af,{className:"w-4 h-4"}),a.jsx("span",{children:r("header.dashboard")})]}),!c&&a.jsxs("button",{onClick:()=>{i("/dashboard?tab=settings&subTab=settings"),Y(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[a.jsx(ch,{className:"w-4 h-4"}),a.jsx("span",{children:r("header.settings")})]}),c&&a.jsxs("button",{onClick:()=>{i("/admin"),Y(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[a.jsx(sd,{className:"w-4 h-4"}),a.jsx("span",{children:r("header.admin")})]})]}),a.jsx("div",{className:"border-t border-gray-100 py-2",children:a.jsxs("button",{onClick:re=>{console.log("Desktop logout button clicked"),re.preventDefault(),re.stopPropagation(),q(re)},type:"button",className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors cursor-pointer",style:{pointerEvents:"auto"},children:[a.jsx(lh,{className:"w-4 h-4"}),a.jsx("span",{children:r("header.signOut")})]})})]})})]}):a.jsx(Xc,{className:"px-6 py-2 bg-theme-500 hover:bg-theme-600 text-white font-medium rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl",onClick:()=>i("/auth/login"),children:r("header.auth")}),a.jsxs("div",{className:"relative language-dropdown-container",children:[a.jsxs("button",{onClick:()=>{O(!E)},className:`flex items-center space-x-2 px-3 py-2 text-sm font-medium transition-colors rounded-lg hover:bg-gray-50 ${L?"text-white hover:bg-white/20":"text-gray-700 hover:text-theme-500"}`,children:[a.jsx("span",{className:`fi ${B==="en"?"fi-gb":B==="ru"?"fi-ru":"fi-ro"} w-6 h-4 rounded-sm`}),a.jsx("svg",{className:`w-4 h-4 transition-colors duration-300 ${L?"text-white":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a.jsx(mr,{children:E&&a.jsx(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:`absolute top-full right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg ${e?"z-[99999999]":"z-50"} min-w-[160px]`,children:Cg.map(({code:re,iconClass:ce})=>a.jsxs("button",{onClick:()=>{t.changeLanguage(re),$(re),O(!1),localStorage.setItem("selectedLanguage",re)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-theme-50 hover:text-theme-500 transition-colors",children:[a.jsx("span",{className:ce}),a.jsx("span",{children:r(`languages.${re}`)})]},re))})})]})]}),a.jsxs("div",{className:"lg:hidden flex items-center space-x-3",children:[a.jsxs("div",{className:"relative language-dropdown-container",children:[a.jsx("button",{onClick:()=>O(!E),className:`p-3 rounded-lg transition-all duration-200 ${L?"text-white hover:text-theme-300 hover:bg-white/20":"text-gray-700 hover:text-theme-500 hover:bg-gray-100"}`,children:a.jsx(vH,{className:"w-5 h-5"})}),a.jsx(mr,{children:E&&a.jsx(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:`absolute top-full right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg ${e?"z-[99999999]":"z-50"} min-w-[140px]`,children:Cg.map(({code:re,iconClass:ce})=>a.jsxs("button",{onClick:()=>{t.changeLanguage(re),$(re),O(!1),localStorage.setItem("selectedLanguage",re)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-theme-50 hover:text-theme-500 transition-colors first:rounded-t-lg last:rounded-b-lg",children:[a.jsx("span",{className:ce}),a.jsx("span",{children:r(`languages.${re}`)})]},re))})})]}),a.jsx("button",{onClick:()=>j(!g),className:`p-3 rounded-lg transition-all duration-200 ${L?"text-white hover:text-theme-300 hover:bg-white/20":"text-gray-700 hover:text-theme-500 hover:bg-gray-100"}`,children:a.jsx(Ie.div,{animate:{rotate:g?90:0},transition:{duration:.2},children:g?a.jsx(hn,{className:"w-6 h-6"}):a.jsx(NH,{className:"w-6 h-6"})})})]})]}),e?g?Na.createPortal(a.jsx(mr,{children:g&&a.jsxs(a.Fragment,{children:[a.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 z-[99999998] lg:hidden",onClick:()=>j(!1)}),a.jsx(Ie.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 right-0 h-full w-80 max-w-[85vw] bg-white shadow-2xl z-[99999999] lg:hidden",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("div",{className:"flex items-center space-x-3",children:a.jsx("img",{src:"/logo.png",alt:"Level Auto Rental Logo",className:"w-40 h-auto"})}),a.jsx("button",{onClick:()=>j(!1),className:"p-2 rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100 transition-colors",children:a.jsx(hn,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.jsx("nav",{className:"p-6 space-y-2",children:W.map((re,ce)=>a.jsx(Ie.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:ce*.1},onClick:()=>{j(!1),M(re.href)},className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all duration-200 ${ee(re.href)?"bg-theme-50 text-theme-600 border-l-4 border-theme-500":"text-gray-700 hover:bg-gray-50 hover:text-theme-600"}`,style:{background:"none",border:"none",cursor:"pointer"},children:re.name},re.name))}),a.jsxs("div",{className:"p-6 border-t border-gray-200 space-y-4",children:[o&&s?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b border-gray-200",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-red-600 flex items-center justify-center font-semibold text-white text-sm",children:(((D=s.email)==null?void 0:D.split("@")[0])||s.email||"U").charAt(0).toUpperCase()}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:((G=s.email)==null?void 0:G.split("@")[0])||s.email}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:s.email})]})]}),a.jsxs("button",{onClick:()=>{j(!1),i("/dashboard?tab=overview")},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsx(Af,{className:"w-4 h-4"}),a.jsx("span",{children:r("header.dashboard")})]}),!c&&a.jsxs("button",{onClick:()=>{j(!1),i("/dashboard?tab=settings&subTab=settings")},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsx(ch,{className:"w-4 h-4"}),a.jsx("span",{children:r("header.settings")})]}),c&&a.jsxs("button",{onClick:()=>{j(!1),i("/admin")},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsx(sd,{className:"w-4 h-4"}),a.jsx("span",{children:r("header.admin")})]}),a.jsxs("button",{onClick:re=>{re.preventDefault(),re.stopPropagation(),j(!1),q(re)},type:"button",className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors mt-2",children:[a.jsx(lh,{className:"w-4 h-4"}),a.jsx("span",{children:r("header.signOut")})]})]}):a.jsx(Xc,{onClick:()=>{j(!1),i("/auth/login")},className:"w-full bg-theme-500 hover:bg-theme-600 text-white font-medium py-3 rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl",children:r("header.auth")}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:r("header.language")}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:Cg.map(({code:re,iconClass:ce})=>a.jsxs("button",{onClick:()=>{t.changeLanguage(re),$(re),localStorage.setItem("selectedLanguage",re),j(!1)},className:`flex flex-col items-center p-3 rounded-lg border-2 transition-all duration-200 ${B===re?"border-theme-500 bg-theme-50 text-theme-600":"border-gray-200 text-gray-600 hover:border-theme-300 hover:bg-gray-50"}`,children:[a.jsx("span",{className:`${ce} w-6 h-4 mb-1`}),a.jsx("span",{className:"text-xs font-medium",children:r(`languages.${re}`)})]},re))})]})]})]})]})})]})}),document.body):null:a.jsx(mr,{children:g&&a.jsxs(a.Fragment,{children:[a.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>j(!1)}),a.jsx(Ie.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 right-0 h-full w-80 max-w-[85vw] bg-white shadow-2xl z-50 lg:hidden",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("div",{className:"flex items-center space-x-3",children:a.jsx("img",{src:"/logo.png",alt:"Level Auto Rental Logo",className:"w-40 h-auto"})}),a.jsx("button",{onClick:()=>j(!1),className:"p-2 rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100 transition-colors",children:a.jsx(hn,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.jsx("nav",{className:"p-6 space-y-2",children:W.map((re,ce)=>a.jsx(Ie.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:ce*.1},onClick:()=>{j(!1),M(re.href)},className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all duration-200 ${ee(re.href)?"bg-theme-50 text-theme-600 border-l-4 border-theme-500":"text-gray-700 hover:bg-gray-50 hover:text-theme-600"}`,style:{background:"none",border:"none",cursor:"pointer"},children:re.name},re.name))}),a.jsxs("div",{className:"p-6 border-t border-gray-200 space-y-4",children:[o&&s?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b border-gray-200",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-red-600 flex items-center justify-center font-semibold text-white text-sm",children:(((Z=s.email)==null?void 0:Z.split("@")[0])||s.email||"U").charAt(0).toUpperCase()}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:((P=s.email)==null?void 0:P.split("@")[0])||s.email}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:s.email})]})]}),a.jsxs("button",{onClick:()=>{j(!1),i("/dashboard?tab=overview")},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsx(Af,{className:"w-4 h-4"}),a.jsx("span",{children:r("header.dashboard")})]}),a.jsxs("button",{onClick:()=>{j(!1),i("/dashboard?tab=settings&subTab=profile")},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsx(sc,{className:"w-4 h-4"}),a.jsx("span",{children:r("header.profile")})]}),!c&&a.jsxs("button",{onClick:()=>{j(!1),i("/dashboard?tab=settings&subTab=settings")},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsx(ch,{className:"w-4 h-4"}),a.jsx("span",{children:r("header.settings")})]}),c&&a.jsxs("button",{onClick:()=>{j(!1),i("/admin")},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsx(sd,{className:"w-4 h-4"}),a.jsx("span",{children:r("header.admin")})]}),a.jsxs("button",{onClick:re=>{re.preventDefault(),re.stopPropagation(),j(!1),q(re)},type:"button",className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors mt-2",children:[a.jsx(lh,{className:"w-4 h-4"}),a.jsx("span",{children:r("header.signOut")})]})]}):a.jsx(Xc,{onClick:()=>{j(!1),i("/auth/login")},className:"w-full bg-theme-500 hover:bg-theme-600 text-white font-medium py-3 rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl",children:r("header.auth")}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:r("header.language")}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:Cg.map(({code:re,iconClass:ce})=>a.jsxs("button",{onClick:()=>{t.changeLanguage(re),$(re),localStorage.setItem("selectedLanguage",re),j(!1)},className:`flex flex-col items-center p-3 rounded-lg border-2 transition-all duration-200 ${B===re?"border-theme-500 bg-theme-50 text-theme-600":"border-gray-200 text-gray-600 hover:border-theme-300 hover:bg-gray-50"}`,children:[a.jsx("span",{className:`${ce} w-6 h-4 mb-1`}),a.jsx("span",{className:"text-xs font-medium",children:r(`languages.${re}`)})]},re))})]})]})]})]})})]})})]})}):null},nL=({isTransitioning:e=!1,onLoadingComplete:t})=>(_.useEffect(()=>{const r=["/logo.png","/lvl_bg.png","/backgrounds/bg2-desktop.jpeg","/backgrounds/bg3-mobile.jpeg","/backgrounds/bg4-mobile.jpeg","/backgrounds/bg10-mobile.jpeg","/logos/audi.png","/logos/bmw.webp","/logos/hyundai.png","/logos/maserati.png","/logos/merc.svg"];Promise.all(r.map(n=>new Promise(i=>{const s=new Image;s.onload=()=>i(),s.onerror=()=>i(),s.src=n}))).then(()=>{setTimeout(()=>{t==null||t()},1e3)})},[]),_.useEffect(()=>{if(e){const r=setTimeout(()=>{t==null||t()},300);return()=>clearTimeout(r)}},[e,t]),a.jsxs("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 ease-in-out z-[9999999] ${e?"opacity-0":"opacity-100"}`,style:{zIndex:9999999},children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-no-repeat bg-mobile-loader bg-loader-mobile md:bg-desktop-loader md:bg-loader-desktop opacity-40",style:{animation:"background-scale 2s ease-in-out infinite"}}),a.jsx("div",{className:"absolute inset-0 bg-black/40"}),a.jsx("div",{className:"relative flex flex-col items-center justify-center min-h-screen",children:a.jsx("div",{className:"relative w-64 h-24 flex items-center justify-center",children:a.jsx("img",{src:"/logo.png",alt:"Level Auto Rental",className:"w-64 h-auto brightness-0 invert drop-shadow-lg",style:{animation:"scale-premium 2s ease-in-out infinite"}})})}),a.jsx("style",{children:`
        @keyframes scale-premium {
          0% {
            transform: scale(1);
            opacity: 1;
          }
          50% {
            transform: scale(1.05);
            opacity: 0.8;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }
        
        @keyframes background-scale {
          0% {
            transform: scale(1);
          }
          50% {
            transform: scale(1.05);
          }
          100% {
            transform: scale(1);
          }
        }
        
        .bg-image-transition {
          transition: background-image 0.3s ease-in-out;
        }
      `})]})),YK=({className:e})=>{const[t,r]=_.useState(!1),n=[{name:"+373 62 000 112",icon:"/social/mobile.png",href:"tel:+37362000112",delay:.1},{name:"Telegram",icon:"/social/telegram.png",href:"https://t.me/Level_Auto_Rental",delay:.2},{name:"WhatsApp",icon:"/social/whatsapp.png",href:"https://wa.me/37362000112",delay:.3}];return a.jsxs("div",{className:`fixed bottom-6 right-6 z-50 ${e}`,children:[a.jsx(mr,{children:t&&a.jsx(Ie.div,{initial:{opacity:0,y:20,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:1},transition:{duration:.3,ease:"easeOut"},className:"absolute bottom-[70px] right-0 bg-white rounded-xl shadow-lg border border-gray-200 min-w-[200px]",children:a.jsx("div",{className:"space-y-1",children:n.map((i,s)=>a.jsxs(Ie.a,{href:i.href,target:"_blank",rel:"noopener noreferrer",initial:{opacity:1,x:0},animate:{opacity:1,x:0},exit:{opacity:1,x:0},transition:{delay:.1+s*.1,duration:.2},className:"flex items-center space-x-3 p-2 hover:bg-gray-50 transition-colors duration-200 border-b border-gray-200 last:border-b-0 p-3 px-5",whileHover:{scale:1.02},whileTap:{scale:.98},children:[a.jsxs("div",{className:"relative",children:[i.name==="+373 62 000 112"&&a.jsx(Ie.div,{className:"absolute inset-0 rounded-full border border-[#333333]",animate:{scale:[1,1.2,1],opacity:[.6,0,.6]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),a.jsx(Ie.img,{src:i.icon,alt:i.name,className:"w-8 h-8 object-contain",animate:i.name==="+373 62 000 112"?{rotate:[0,5,-5,0]}:{},transition:i.name==="+373 62 000 112"?{duration:1.2,repeat:1/0,ease:"easeInOut"}:{}})]}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:i.name})]},i.name))})})}),a.jsxs("div",{className:"relative",children:[a.jsx(Ie.div,{className:"absolute inset-0 rounded-full border-2 border-red-400",animate:{scale:[1,1.2,1],opacity:[.8,0,.8]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),a.jsx(Ie.button,{onClick:()=>r(!t),initial:{opacity:0,scale:0},animate:{opacity:1,scale:1,rotate:[0,10,-10,0]},transition:{delay:0,type:"spring",stiffness:200,damping:20,rotate:{duration:.8,repeat:3,repeatDelay:30,ease:"easeInOut"}},className:"relative flex items-center justify-center w-14 h-14 rounded-full shadow-lg transition-all duration-200 hover:shadow-xl z-10",style:{background:"linear-gradient(135deg, #F52C2D, #e02424)"},whileHover:{scale:1.1},whileTap:{scale:.95},children:a.jsx("div",{className:"relative w-7 h-7",children:a.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 flex items-center justify-center",children:t?a.jsx(mH,{className:"w-7 h-7 text-white font-bold",strokeWidth:3}):a.jsx("img",{src:"/social/chat.png",alt:"Chat",className:"w-7 h-7 object-contain scale-x-[-1]"})},t?"arrow":"chat")})})]})]})};function XK(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const JK=e=>{switch(e){case"success":return eG;case"info":return rG;case"warning":return tG;case"error":return nG;default:return null}},ZK=Array(12).fill(0),QK=({visible:e,className:t})=>vt.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},vt.createElement("div",{className:"sonner-spinner"},ZK.map((r,n)=>vt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),eG=vt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},vt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),tG=vt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},vt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),rG=vt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},vt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),nG=vt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},vt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),aG=vt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},vt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),vt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),iG=()=>{const[e,t]=vt.useState(document.hidden);return vt.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let p5=1;class sG{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...i}=t,s=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:p5++,o=this.toasts.find(c=>c.id===s),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...t,id:s,title:n}),{...c,...t,id:s,dismissible:l,title:n}):c):this.addToast({title:n,...i,dismissible:l,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let s=n!==void 0,o;const l=i.then(async u=>{if(o=["resolve",u],vt.isValidElement(u))s=!1,this.create({id:n,type:"default",message:u});else if(lG(u)&&!u.ok){s=!1;const m=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,x=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,v=typeof m=="object"&&!vt.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:x,...v})}else if(u instanceof Error){s=!1;const m=typeof r.error=="function"?await r.error(u):r.error,x=typeof r.description=="function"?await r.description(u):r.description,v=typeof m=="object"&&!vt.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:x,...v})}else if(r.success!==void 0){s=!1;const m=typeof r.success=="function"?await r.success(u):r.success,x=typeof r.description=="function"?await r.description(u):r.description,v=typeof m=="object"&&!vt.isValidElement(m)?m:{message:m};this.create({id:n,type:"success",description:x,...v})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){s=!1;const h=typeof r.error=="function"?await r.error(u):r.error,m=typeof r.description=="function"?await r.description(u):r.description,p=typeof h=="object"&&!vt.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:m,...p})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,h)=>l.then(()=>o[0]==="reject"?h(o[1]):u(o[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||p5++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Os=new sG,oG=(e,t)=>{const r=(t==null?void 0:t.id)||p5++;return Os.addToast({title:e,...t,id:r}),r},lG=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",cG=oG,uG=()=>Os.toasts,dG=()=>Os.getActiveToasts(),Rg=Object.assign(cG,{success:Os.success,info:Os.info,warning:Os.warning,error:Os.error,custom:Os.custom,message:Os.message,promise:Os.promise,dismiss:Os.dismiss,loading:Os.loading},{getHistory:uG,getToasts:dG});XK("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function zg(e){return e.label!==void 0}const hG=3,fG="24px",mG="16px",n4=4e3,pG=356,gG=14,xG=45,vG=200;function Gl(...e){return e.filter(Boolean).join(" ")}function yG(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const bG=e=>{var t,r,n,i,s,o,l,c,u;const{invert:h,toast:m,unstyled:x,interacting:p,setHeights:v,visibleToasts:y,heights:g,index:j,toasts:k,expanded:w,removeToast:E,defaultRichColors:O,closeButton:z,style:Y,cancelButtonStyle:B,actionButtonStyle:$,className:T="",descriptionClassName:A="",duration:R,position:L,gap:q,expandByDefault:W,classNames:ee,icons:M,closeButtonAriaLabel:V="Close toast"}=e,[U,I]=vt.useState(null),[H,D]=vt.useState(null),[G,Z]=vt.useState(!1),[P,re]=vt.useState(!1),[ce,be]=vt.useState(!1),[ae,ue]=vt.useState(!1),[fe,pe]=vt.useState(!1),[de,le]=vt.useState(0),[ne,Se]=vt.useState(0),Ee=vt.useRef(m.duration||R||n4),qe=vt.useRef(null),ve=vt.useRef(null),Ae=j===0,me=j+1<=y,Ce=m.type,Me=m.dismissible!==!1,He=m.className||"",at=m.descriptionClassName||"",pt=vt.useMemo(()=>g.findIndex(De=>De.toastId===m.id)||0,[g,m.id]),ge=vt.useMemo(()=>{var De;return(De=m.closeButton)!=null?De:z},[m.closeButton,z]),Le=vt.useMemo(()=>m.duration||R||n4,[m.duration,R]),Be=vt.useRef(0),Ge=vt.useRef(0),Qe=vt.useRef(0),St=vt.useRef(null),[oe,ht]=L.split("-"),wt=vt.useMemo(()=>g.reduce((De,$e,Ye)=>Ye>=pt?De:De+$e.height,0),[g,pt]),rt=iG(),Ne=m.invert||h,Ue=Ce==="loading";Ge.current=vt.useMemo(()=>pt*q+wt,[pt,wt]),vt.useEffect(()=>{Ee.current=Le},[Le]),vt.useEffect(()=>{Z(!0)},[]),vt.useEffect(()=>{const De=ve.current;if(De){const $e=De.getBoundingClientRect().height;return Se($e),v(Ye=>[{toastId:m.id,height:$e,position:m.position},...Ye]),()=>v(Ye=>Ye.filter(lt=>lt.toastId!==m.id))}},[v,m.id]),vt.useLayoutEffect(()=>{if(!G)return;const De=ve.current,$e=De.style.height;De.style.height="auto";const Ye=De.getBoundingClientRect().height;De.style.height=$e,Se(Ye),v(lt=>lt.find(et=>et.toastId===m.id)?lt.map(et=>et.toastId===m.id?{...et,height:Ye}:et):[{toastId:m.id,height:Ye,position:m.position},...lt])},[G,m.title,m.description,v,m.id,m.jsx,m.action,m.cancel]);const Re=vt.useCallback(()=>{re(!0),le(Ge.current),v(De=>De.filter($e=>$e.toastId!==m.id)),setTimeout(()=>{E(m)},vG)},[m,E,v,Ge]);vt.useEffect(()=>{if(m.promise&&Ce==="loading"||m.duration===1/0||m.type==="loading")return;let De;return w||p||rt?(()=>{if(Qe.current<Be.current){const lt=new Date().getTime()-Be.current;Ee.current=Ee.current-lt}Qe.current=new Date().getTime()})():(()=>{Ee.current!==1/0&&(Be.current=new Date().getTime(),De=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Re()},Ee.current))})(),()=>clearTimeout(De)},[w,p,m,Ce,rt,Re]),vt.useEffect(()=>{m.delete&&(Re(),m.onDismiss==null||m.onDismiss.call(m,m))},[Re,m.delete]);function Ve(){var De;if(M!=null&&M.loading){var $e;return vt.createElement("div",{className:Gl(ee==null?void 0:ee.loader,m==null||($e=m.classNames)==null?void 0:$e.loader,"sonner-loader"),"data-visible":Ce==="loading"},M.loading)}return vt.createElement(QK,{className:Gl(ee==null?void 0:ee.loader,m==null||(De=m.classNames)==null?void 0:De.loader),visible:Ce==="loading"})}const it=m.icon||(M==null?void 0:M[Ce])||JK(Ce);var ie,we;return vt.createElement("li",{tabIndex:0,ref:ve,className:Gl(T,He,ee==null?void 0:ee.toast,m==null||(t=m.classNames)==null?void 0:t.toast,ee==null?void 0:ee.default,ee==null?void 0:ee[Ce],m==null||(r=m.classNames)==null?void 0:r[Ce]),"data-sonner-toast":"","data-rich-colors":(ie=m.richColors)!=null?ie:O,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":G,"data-promise":!!m.promise,"data-swiped":fe,"data-removed":P,"data-visible":me,"data-y-position":oe,"data-x-position":ht,"data-index":j,"data-front":Ae,"data-swiping":ce,"data-dismissible":Me,"data-type":Ce,"data-invert":Ne,"data-swipe-out":ae,"data-swipe-direction":H,"data-expanded":!!(w||W&&G),"data-testid":m.testId,style:{"--index":j,"--toasts-before":j,"--z-index":k.length-j,"--offset":`${P?de:Ge.current}px`,"--initial-height":W?"auto":`${ne}px`,...Y,...m.style},onDragEnd:()=>{be(!1),I(null),St.current=null},onPointerDown:De=>{De.button!==2&&(Ue||!Me||(qe.current=new Date,le(Ge.current),De.target.setPointerCapture(De.pointerId),De.target.tagName!=="BUTTON"&&(be(!0),St.current={x:De.clientX,y:De.clientY})))},onPointerUp:()=>{var De,$e,Ye;if(ae||!Me)return;St.current=null;const lt=Number(((De=ve.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ft=Number((($e=ve.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),et=new Date().getTime()-((Ye=qe.current)==null?void 0:Ye.getTime()),Pt=U==="x"?lt:ft,kt=Math.abs(Pt)/et;if(Math.abs(Pt)>=xG||kt>.11){le(Ge.current),m.onDismiss==null||m.onDismiss.call(m,m),D(U==="x"?lt>0?"right":"left":ft>0?"down":"up"),Re(),ue(!0);return}else{var jt,Tt;(jt=ve.current)==null||jt.style.setProperty("--swipe-amount-x","0px"),(Tt=ve.current)==null||Tt.style.setProperty("--swipe-amount-y","0px")}pe(!1),be(!1),I(null)},onPointerMove:De=>{var $e,Ye,lt;if(!St.current||!Me||(($e=window.getSelection())==null?void 0:$e.toString().length)>0)return;const et=De.clientY-St.current.y,Pt=De.clientX-St.current.x;var kt;const jt=(kt=e.swipeDirections)!=null?kt:yG(L);!U&&(Math.abs(Pt)>1||Math.abs(et)>1)&&I(Math.abs(Pt)>Math.abs(et)?"x":"y");let Tt={x:0,y:0};const ut=Dt=>1/(1.5+Math.abs(Dt)/20);if(U==="y"){if(jt.includes("top")||jt.includes("bottom"))if(jt.includes("top")&&et<0||jt.includes("bottom")&&et>0)Tt.y=et;else{const Dt=et*ut(et);Tt.y=Math.abs(Dt)<Math.abs(et)?Dt:et}}else if(U==="x"&&(jt.includes("left")||jt.includes("right")))if(jt.includes("left")&&Pt<0||jt.includes("right")&&Pt>0)Tt.x=Pt;else{const Dt=Pt*ut(Pt);Tt.x=Math.abs(Dt)<Math.abs(Pt)?Dt:Pt}(Math.abs(Tt.x)>0||Math.abs(Tt.y)>0)&&pe(!0),(Ye=ve.current)==null||Ye.style.setProperty("--swipe-amount-x",`${Tt.x}px`),(lt=ve.current)==null||lt.style.setProperty("--swipe-amount-y",`${Tt.y}px`)}},ge&&!m.jsx&&Ce!=="loading"?vt.createElement("button",{"aria-label":V,"data-disabled":Ue,"data-close-button":!0,onClick:Ue||!Me?()=>{}:()=>{Re(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Gl(ee==null?void 0:ee.closeButton,m==null||(n=m.classNames)==null?void 0:n.closeButton)},(we=M==null?void 0:M.close)!=null?we:aG):null,(Ce||m.icon||m.promise)&&m.icon!==null&&((M==null?void 0:M[Ce])!==null||m.icon)?vt.createElement("div",{"data-icon":"",className:Gl(ee==null?void 0:ee.icon,m==null||(i=m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ve():null,m.type!=="loading"?it:null):null,vt.createElement("div",{"data-content":"",className:Gl(ee==null?void 0:ee.content,m==null||(s=m.classNames)==null?void 0:s.content)},vt.createElement("div",{"data-title":"",className:Gl(ee==null?void 0:ee.title,m==null||(o=m.classNames)==null?void 0:o.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?vt.createElement("div",{"data-description":"",className:Gl(A,at,ee==null?void 0:ee.description,m==null||(l=m.classNames)==null?void 0:l.description)},typeof m.description=="function"?m.description():m.description):null),vt.isValidElement(m.cancel)?m.cancel:m.cancel&&zg(m.cancel)?vt.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||B,onClick:De=>{zg(m.cancel)&&Me&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,De),Re())},className:Gl(ee==null?void 0:ee.cancelButton,m==null||(c=m.classNames)==null?void 0:c.cancelButton)},m.cancel.label):null,vt.isValidElement(m.action)?m.action:m.action&&zg(m.action)?vt.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||$,onClick:De=>{zg(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,De),!De.defaultPrevented&&Re())},className:Gl(ee==null?void 0:ee.actionButton,m==null||(u=m.classNames)==null?void 0:u.actionButton)},m.action.label):null)};function a4(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function wG(e,t){const r={};return[e,t].forEach((n,i)=>{const s=i===1,o=s?"--mobile-offset":"--offset",l=s?mG:fG;function c(u){["top","right","bottom","left"].forEach(h=>{r[`${o}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}const aL=vt.forwardRef(function(t,r){const{id:n,invert:i,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:c,className:u,offset:h,mobileOffset:m,theme:x="light",richColors:p,duration:v,style:y,visibleToasts:g=hG,toastOptions:j,dir:k=a4(),gap:w=gG,icons:E,containerAriaLabel:O="Notifications"}=t,[z,Y]=vt.useState([]),B=vt.useMemo(()=>n?z.filter(G=>G.toasterId===n):z.filter(G=>!G.toasterId),[z,n]),$=vt.useMemo(()=>Array.from(new Set([s].concat(B.filter(G=>G.position).map(G=>G.position)))),[B,s]),[T,A]=vt.useState([]),[R,L]=vt.useState(!1),[q,W]=vt.useState(!1),[ee,M]=vt.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=vt.useRef(null),U=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=vt.useRef(null),H=vt.useRef(!1),D=vt.useCallback(G=>{Y(Z=>{var P;return(P=Z.find(re=>re.id===G.id))!=null&&P.delete||Os.dismiss(G.id),Z.filter(({id:re})=>re!==G.id)})},[]);return vt.useEffect(()=>Os.subscribe(G=>{if(G.dismiss){requestAnimationFrame(()=>{Y(Z=>Z.map(P=>P.id===G.id?{...P,delete:!0}:P))});return}setTimeout(()=>{wF.flushSync(()=>{Y(Z=>{const P=Z.findIndex(re=>re.id===G.id);return P!==-1?[...Z.slice(0,P),{...Z[P],...G},...Z.slice(P+1)]:[G,...Z]})})})}),[z]),vt.useEffect(()=>{if(x!=="system"){M(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;const G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:Z})=>{M(Z?"dark":"light")})}catch{G.addListener(({matches:P})=>{try{M(P?"dark":"light")}catch(re){console.error(re)}})}},[x]),vt.useEffect(()=>{z.length<=1&&L(!1)},[z]),vt.useEffect(()=>{const G=Z=>{var P;if(o.every(be=>Z[be]||Z.code===be)){var ce;L(!0),(ce=V.current)==null||ce.focus()}Z.code==="Escape"&&(document.activeElement===V.current||(P=V.current)!=null&&P.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[o]),vt.useEffect(()=>{if(V.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,H.current=!1)}},[V.current]),vt.createElement("section",{ref:r,"aria-label":`${O} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},$.map((G,Z)=>{var P;const[re,ce]=G.split("-");return B.length?vt.createElement("ol",{key:G,dir:k==="auto"?a4():k,tabIndex:-1,ref:V,className:u,"data-sonner-toaster":!0,"data-sonner-theme":ee,"data-y-position":re,"data-x-position":ce,style:{"--front-toast-height":`${((P=T[0])==null?void 0:P.height)||0}px`,"--width":`${pG}px`,"--gap":`${w}px`,...y,...wG(h,m)},onBlur:be=>{H.current&&!be.currentTarget.contains(be.relatedTarget)&&(H.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||H.current||(H.current=!0,I.current=be.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{q||L(!1)},onDragEnd:()=>L(!1),onPointerDown:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},B.filter(be=>!be.position&&Z===0||be.position===G).map((be,ae)=>{var ue,fe;return vt.createElement(bG,{key:be.id,icons:E,index:ae,toast:be,defaultRichColors:p,duration:(ue=j==null?void 0:j.duration)!=null?ue:v,className:j==null?void 0:j.className,descriptionClassName:j==null?void 0:j.descriptionClassName,invert:i,visibleToasts:g,closeButton:(fe=j==null?void 0:j.closeButton)!=null?fe:c,interacting:q,position:G,style:j==null?void 0:j.style,unstyled:j==null?void 0:j.unstyled,classNames:j==null?void 0:j.classNames,cancelButtonStyle:j==null?void 0:j.cancelButtonStyle,actionButtonStyle:j==null?void 0:j.actionButtonStyle,closeButtonAriaLabel:j==null?void 0:j.closeButtonAriaLabel,removeToast:D,toasts:B.filter(pe=>pe.position==be.position),heights:T.filter(pe=>pe.position==be.position),setHeights:A,expandByDefault:l,gap:w,expanded:R,swipeDirections:t.swipeDirections})})):null}))}),jG=({children:e})=>{const t=go(),[r,n]=_.useState(!1),[i,s]=_.useState(!1),[o,l]=_.useState(!0),c=t.pathname.startsWith("/auth"),u=t.pathname.startsWith("/admin"),h=t.pathname.startsWith("/dashboard");return _.useEffect(()=>{l(!1),s(!0),n(!1);const m=setTimeout(()=>{l(!0)},200),x=setTimeout(()=>{n(!0)},1500),p=setTimeout(()=>{s(!1)},1800);return()=>{clearTimeout(m),clearTimeout(x),clearTimeout(p)}},[t.pathname]),a.jsxs(a.Fragment,{children:[!u&&a.jsx(aL,{position:"bottom-right",toastOptions:{duration:6e3,classNames:{toast:"bg-white border border-gray-200 text-gray-900 shadow-lg rounded-xl",success:"bg-white border border-green-200 text-gray-900",title:"text-green-800 font-semibold",description:"text-green-700"}}}),i&&a.jsx(nL,{isTransitioning:r}),a.jsx("a",{href:"#main-content",className:"absolute left-[-9999px] w-1 h-1 focus:left-4 focus:top-4 focus:z-[100] focus:w-auto focus:h-auto focus:px-4 focus:py-2 focus:bg-theme-500 focus:text-white focus:rounded-lg focus:font-semibold focus:shadow-lg focus:outline-none focus:ring-2 focus:ring-theme-500 focus:ring-offset-2",children:"Skip to content"}),a.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[a.jsx(rL,{}),o&&a.jsx(mr,{mode:"wait",initial:!1,children:a.jsx(Ie.main,{id:"main-content",variants:oH,initial:"initial",animate:"animate",exit:"exit",className:"flex-1",tabIndex:-1,children:e},t.pathname)}),!c&&!h&&a.jsx(QH,{})]}),!u&&!h&&a.jsx(YK,{})]})},NG=()=>{const{t:e}=br(),[t,r]=_.useState(!1);_.useEffect(()=>{const i=()=>{r(window.innerWidth>=768)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),e("pages.about.stats.vehicles"),e("pages.about.stats.customers"),e("pages.about.stats.experience"),e("pages.about.stats.awards");const n=[{icon:sd,title:e("pages.about.values.safety.title"),description:e("pages.about.values.safety.description")},{icon:em,title:e("pages.about.values.customer.title"),description:e("pages.about.values.customer.description")},{icon:kp,title:e("pages.about.values.quality.title"),description:e("pages.about.values.quality.description")}];return a.jsxs("div",{className:"min-h-screen",children:[a.jsxs("section",{className:"relative h-[500px] bg-fixed bg-cover bg-center bg-no-repeat pt-36 font-sans text-white",style:{backgroundImage:t?"url(/bg-hero.jpg)":"url(/backgrounds/bg4-mobile.jpeg)",backgroundPosition:t?"center -420px":"center -300px",backgroundSize:t?"115%":"cover"},children:[a.jsx("div",{className:"absolute inset-0 bg-black/70"}),a.jsx("div",{className:`absolute bottom-0 left-0 w-full h-40 
            bg-[linear-gradient(to_top,rgba(15,15,15,1),rgba(15,15,15,0))] 
            z-10 pointer-events-none`}),a.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 overflow-visible relative z-10",children:a.jsx("div",{className:"flex items-center justify-center h-full pt-16",children:a.jsx("div",{className:"text-center space-y-10 max-w-4xl",children:a.jsx("div",{className:"space-y-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("p",{className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:e("pages.about.hero.label")}),a.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-white leading-tight drop-shadow-lg",children:e("pages.about.hero.title")})]})})})})})]}),a.jsx("section",{className:"py-20 mt-0",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6 sm:px-16 lg:px-10",children:[a.jsxs(Ie.div,{variants:ja,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"text-center mb-16",children:[a.jsx(Ie.span,{variants:fr,className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:e("pages.about.story.label")}),a.jsx(Ie.h2,{variants:fr,className:"mt-3 text-3xl md:text-5xl font-bold text-gray-800 leading-tight max-w-3xl mx-auto",children:"Evoluia noastr n Moldova"})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center px-6 sm:px-10 lg:px-20",children:[a.jsxs(Ie.div,{variants:fr,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"relative",children:[a.jsx("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-gradient-to-b from-red-500 via-red-400 to-red-500 hidden lg:block"}),a.jsxs("div",{className:"space-y-10",children:[a.jsxs("div",{className:"relative flex items-start",children:[a.jsx("div",{className:"hidden lg:flex absolute left-4 w-4 h-4 bg-red-500 rounded-full border-4 border-white shadow-lg z-10"}),a.jsxs("div",{className:"lg:ml-16",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-red-50 text-red-600",children:"2023"}),a.jsx(sd,{className:"w-4 h-4 text-red-500"})]}),a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Lansarea"}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Am nceput cu 3 maini i o viziune: s facem nchirierile auto accesibile n Moldova."})]})]}),a.jsxs("div",{className:"relative flex items-start",children:[a.jsx("div",{className:"hidden lg:flex absolute left-4 w-4 h-4 bg-red-500 rounded-full border-4 border-white shadow-lg z-10"}),a.jsxs("div",{className:"lg:ml-16",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-red-50 text-red-600",children:"20232024"}),a.jsx(kp,{className:"w-4 h-4 text-red-500"})]}),a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Primul an"}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Am ajuns la 15 maini i 200+ clieni fideli. Procese mai simple, preuri transparente."})]})]}),a.jsxs("div",{className:"relative flex items-start",children:[a.jsx("div",{className:"hidden lg:flex absolute left-4 w-4 h-4 bg-red-500 rounded-full border-4 border-white shadow-lg z-10"}),a.jsxs("div",{className:"lg:ml-16",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-red-50 text-red-600",children:"Astzi"}),a.jsx(yh,{className:"w-4 h-4 text-red-500"})]}),a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Acum"}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:"25+ maini, rezervri online, livrare la domiciliu. Continum s cretem pas cu pas."})]})]})]})]}),a.jsx(Ie.div,{variants:fr,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"relative",children:a.jsx("img",{src:"/lvl_bg.png",alt:"Our story",className:"rounded-2xl shadow-lg"})})]})]})}),a.jsx("section",{className:"py-10 mb-20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(Ie.div,{variants:ja,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"text-center mb-16",children:[a.jsx(Ie.span,{variants:fr,className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:e("pages.about.values.label")}),a.jsx(Ie.h2,{variants:fr,className:"mt-3 text-3xl md:text-5xl font-bold text-gray-800 leading-tight max-w-3xl mx-auto",children:e("pages.about.values.title")})]}),a.jsx(Ie.div,{variants:ja,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"grid md:grid-cols-3 gap-8",children:n.map((i,s)=>a.jsx(Ie.div,{variants:fr,children:a.jsxs("div",{className:"text-center relative",children:[a.jsx(Ie.div,{whileHover:{scale:1.1,rotate:5},transition:{duration:.2},className:"w-16 h-16 rounded-2xl mx-auto mb-4 shadow-lg flex items-center justify-center bg-gradient-to-b from-red-500 to-red-600",children:a.jsx(i.icon,{className:"w-8 h-8 text-white"})}),a.jsx("div",{className:"text-xl font-bold text-gray-800 mb-3",children:i.title}),a.jsx("div",{className:"text-gray-500 text-sm leading-relaxed max-w-xs mx-auto",children:i.description})]})},i.title))})]})})]})},Lh=e=>{const t=_.useRef(null),r=sH(t,{once:!0});return{ref:t,isInView:r}},iL=({children:e,className:t,hover:r=!0})=>a.jsx(Ie.div,{whileHover:r?{y:-5,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"}:{},transition:{duration:.2},className:nN("bg-white rounded-lg shadow-md overflow-hidden",t),children:e}),ds=({label:e,error:t,className:r,...n})=>a.jsxs("div",{className:"space-y-1",children:[e&&a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),a.jsx(Ie.input,{whileFocus:{scale:1.02},transition:{duration:.2},className:nN("w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-theme-500 focus:border-theme-500 transition-colors",t&&"border-red-500 focus:ring-red-500 focus:border-red-500",r),...n}),t&&a.jsx(Ie.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-600",children:t})]}),_G=()=>{const e=new Date,t=new Date;t.setDate(e.getDate()+1);const[r,n]=_.useState(1),[i,s]=_.useState({pickupLocation:"",returnLocation:"",pickupDate:e.toISOString().split("T")[0],returnDate:t.toISOString().split("T")[0],pickupTime:"",returnTime:"",selectedCar:"",firstName:"",lastName:"",email:"",phone:"",licenseNumber:"",cardNumber:"",expiryDate:"",cvv:"",cardName:""}),{ref:o,isInView:l}=Lh(),c=[{number:1,title:"Rental Details",icon:ta},{number:2,title:"Select Car",icon:Pi},{number:3,title:"Personal Info",icon:sc},{number:4,title:"Payment",icon:mO}],u=(p,v)=>{s(y=>({...y,[p]:v}))},h=()=>{r<4&&n(r+1)},m=()=>{r>1&&n(r-1)},x=()=>{console.log("Booking submitted:",i)};return a.jsxs("div",{className:"min-h-screen bg-gray-50 mt-24",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs(Ie.div,{variants:ja,initial:"initial",animate:"animate",className:"text-center",children:[a.jsx(Ie.h1,{variants:fr,className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Book Your Car"}),a.jsx(Ie.p,{variants:fr,className:"text-xl text-gray-600",children:"Complete your reservation in just a few simple steps"})]})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx(Ie.div,{ref:o,variants:ja,initial:"initial",animate:l?"animate":"initial",className:"mb-8",children:a.jsx("div",{className:"flex items-center justify-between",children:c.map((p,v)=>a.jsxs(Ie.div,{variants:fr,className:"flex items-center",children:[a.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-full border-2 transition-colors ${r>=p.number?"bg-theme-500 border-theme-500 text-white":"bg-white border-gray-300 text-gray-400"}`,children:a.jsx(p.icon,{className:"w-6 h-6"})}),a.jsxs("div",{className:"ml-3 hidden sm:block",children:[a.jsxs("p",{className:`text-sm font-medium ${r>=p.number?"text-theme-500":"text-gray-400"}`,children:["Step ",p.number]}),a.jsx("p",{className:`text-sm ${r>=p.number?"text-gray-900":"text-gray-400"}`,children:p.title})]}),v<c.length-1&&a.jsx("div",{className:`w-16 h-0.5 ml-4 ${r>p.number?"bg-theme-500":"bg-gray-300"}`})]},p.number))})}),a.jsx(Ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:a.jsxs(iL,{className:"p-8",children:[r===1&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Rental Details"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(bh,{className:"absolute left-3 top-9 text-gray-400 w-5 h-5"}),a.jsx(ds,{label:"Pickup Location",placeholder:"Enter pickup location",value:i.pickupLocation,onChange:p=>u("pickupLocation",p.target.value),className:"pl-10"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(bh,{className:"absolute left-3 top-9 text-gray-400 w-5 h-5"}),a.jsx(ds,{label:"Return Location",placeholder:"Enter return location",value:i.returnLocation,onChange:p=>u("returnLocation",p.target.value),className:"pl-10"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx(ds,{label:"Pickup Date",type:"date",value:i.pickupDate,onChange:p=>u("pickupDate",p.target.value)}),a.jsx(ds,{label:"Pickup Time",type:"time",value:i.pickupTime,onChange:p=>u("pickupTime",p.target.value)})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx(ds,{label:"Return Date",type:"date",value:i.returnDate,onChange:p=>u("returnDate",p.target.value)}),a.jsx(ds,{label:"Return Time",type:"time",value:i.returnTime,onChange:p=>u("returnTime",p.target.value)})]})]}),r===2&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Select Your Car"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Choose from our available vehicles for your selected dates."}),a.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:[1,2,3,4].map(p=>a.jsxs(Ie.div,{whileHover:{scale:1.02},className:`border-2 rounded-lg p-4 cursor-pointer transition-colors ${i.selectedCar===`car-${p}`?"border-theme-500 bg-theme-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>u("selectedCar",`car-${p}`),children:[a.jsx("img",{src:"https://images.pexels.com/photos/116675/pexels-photo-116675.jpeg?auto=compress&cs=tinysrgb&w=400",alt:"Car",className:"w-full h-32 object-cover rounded mb-4"}),a.jsx("h3",{className:"font-semibold text-gray-900",children:"Toyota Corolla"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Economy  5 seats  Automatic"}),a.jsx("p",{className:"text-lg font-bold text-theme-500 mt-2",children:"$35/day"})]},p))})]}),r===3&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Personal Information"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx(ds,{label:"First Name",placeholder:"Enter your first name",value:i.firstName,onChange:p=>u("firstName",p.target.value)}),a.jsx(ds,{label:"Last Name",placeholder:"Enter your last name",value:i.lastName,onChange:p=>u("lastName",p.target.value)})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx(ds,{label:"Email",type:"email",placeholder:"your@email.com",value:i.email,onChange:p=>u("email",p.target.value)}),a.jsx(ds,{label:"Phone",type:"tel",placeholder:"(555) 123-4567",value:i.phone,onChange:p=>u("phone",p.target.value)})]}),a.jsx(ds,{label:"Driver's License Number",placeholder:"Enter your license number",value:i.licenseNumber,onChange:p=>u("licenseNumber",p.target.value)})]}),r===4&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Payment Information"}),a.jsx(ds,{label:"Cardholder Name",placeholder:"Name on card",value:i.cardName,onChange:p=>u("cardName",p.target.value)}),a.jsx(ds,{label:"Card Number",placeholder:"1234 5678 9012 3456",value:i.cardNumber,onChange:p=>u("cardNumber",p.target.value)}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx(ds,{label:"Expiry Date",placeholder:"MM/YY",value:i.expiryDate,onChange:p=>u("expiryDate",p.target.value)}),a.jsx(ds,{label:"CVV",placeholder:"123",value:i.cvv,onChange:p=>u("cvv",p.target.value)})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mt-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Booking Summary"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Car Rental (3 days)"}),a.jsx("span",{children:"$105.00"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Insurance"}),a.jsx("span",{children:"$15.00"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Taxes & Fees"}),a.jsx("span",{children:"$12.00"})]}),a.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold",children:[a.jsx("span",{children:"Total"}),a.jsx("span",{children:"$132.00"})]})]})]})]}),a.jsxs("div",{className:"flex justify-between mt-8",children:[a.jsx(Xc,{variant:"outline",onClick:m,disabled:r===1,children:"Previous"}),r<4?a.jsx(Xc,{onClick:h,children:"Next"}):a.jsx(Xc,{onClick:x,variant:"secondary",children:"Complete Booking"})]})]})},r)]})]})};function hN(e){return Ko({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 64C32 28.7 60.7 0 96 0L256 0c35.3 0 64 28.7 64 64l0 192 8 0c48.6 0 88 39.4 88 88l0 32c0 13.3 10.7 24 24 24s24-10.7 24-24l0-154c-27.6-7.1-48-32.2-48-62l0-64L384 64c-8.8-8.8-8.8-23.2 0-32s23.2-8.8 32 0l77.3 77.3c12 12 18.7 28.3 18.7 45.3l0 13.5 0 24 0 32 0 152c0 39.8-32.2 72-72 72s-72-32.2-72-72l0-32c0-22.1-17.9-40-40-40l-8 0 0 144c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 512c-17.7 0-32-14.3-32-32s14.3-32 32-32L32 64zM96 80l0 96c0 8.8 7.2 16 16 16l128 0c8.8 0 16-7.2 16-16l0-96c0-8.8-7.2-16-16-16L112 64c-8.8 0-16 7.2-16 16z"},child:[]}]})(e)}function jh(e){return Ko({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18 16a3 3 0 0 1 0 6h-1a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1zm0 4l.117 -.007a1 1 0 0 0 -.117 -1.993zm.5 -13a2.5 2.5 0 1 1 0 5h-.5v1a1 1 0 0 1 -.883 .993l-.117 .007a1 1 0 0 1 -1 -1v-5a1 1 0 0 1 1 -1zm-.5 3h.5a.5 .5 0 1 0 0 -1h-.5zm-5 0a1 1 0 0 1 0 2h-3v6h3a1 1 0 0 1 0 2h-3a2 2 0 0 1 -2 -2v-6h-2a2 2 0 0 1 -1.995 -1.85l-.005 -.15v-2.17a3 3 0 0 1 -2 -2.83l.005 -.176a3 3 0 1 1 3.996 3.005l-.001 2.171z"},child:[]}]})(e)}function fN(e){return Ko({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 2a3 3 0 0 1 3 3v2a3 3 0 0 1 -6 0h-1v10h1a3 3 0 0 1 6 0v2a3 3 0 0 1 -6 0h-4a3 3 0 0 1 -6 0v-2a3 3 0 0 1 6 0h1v-10h-1a3 3 0 1 1 -6 0v-2a3 3 0 1 1 6 0h4a3 3 0 0 1 3 -3"},child:[]}]})(e)}function cy(e){return Ko({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M19 3a3 3 0 0 1 1 5.829v1.171a3 3 0 0 1 -3 3h-4v2.171a3.001 3.001 0 1 1 -4 2.829l.005 -.176a3 3 0 0 1 1.995 -2.654v-2.17h-5v2.171a3.001 3.001 0 1 1 -4 2.829l.005 -.176a3 3 0 0 1 1.995 -2.654v-6.341a3 3 0 0 1 -2 -2.829l.005 -.176a3 3 0 1 1 3.996 3.005l-.001 2.171h5v-2.17a3 3 0 0 1 -2 -2.83l.005 -.176a3 3 0 1 1 3.996 3.005l-.001 2.171h4a1 1 0 0 0 1 -1v-1.17a3 3 0 0 1 -2 -2.83l.005 -.176a3 3 0 0 1 2.995 -2.824"},child:[]}]})(e)}function sL(e){return Ko({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M221.87,90.86a4,4,0,0,0-6.17-.62l-75.42,75.42A8,8,0,0,1,129,154.35l92.7-92.69a8,8,0,0,0-11.32-11.32L197,63.73A112.05,112.05,0,0,0,22.34,189.25,16.09,16.09,0,0,0,37.46,200H218.53a16,16,0,0,0,15.11-10.71,112.28,112.28,0,0,0-11.77-98.43ZM57.44,166.41a8,8,0,0,1-6.25,9.43,7.89,7.89,0,0,1-1.6.16,8,8,0,0,1-7.83-6.41A88.06,88.06,0,0,1,143.59,65.38a8,8,0,0,1-2.82,15.75,72.07,72.07,0,0,0-83.33,85.28Z"},child:[]}]})(e)}function Xx(e){return Ko({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.205 4.791a5.938 5.938 0 0 0-4.209-1.754A5.906 5.906 0 0 0 12 4.595a5.904 5.904 0 0 0-3.996-1.558 5.942 5.942 0 0 0-4.213 1.758c-2.353 2.363-2.352 6.059.002 8.412L12 21.414l8.207-8.207c2.354-2.353 2.355-6.049-.002-8.416z"},child:[]}]})(e)}function g5(e){return Ko({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 10.999h2C22 5.869 18.127 2 12.99 2v2C17.052 4 20 6.943 20 10.999z"},child:[]},{tag:"path",attr:{d:"M13 8c2.103 0 3 .897 3 3h2c0-3.225-1.775-5-5-5v2zm3.422 5.443a1.001 1.001 0 0 0-1.391.043l-2.393 2.461c-.576-.11-1.734-.471-2.926-1.66-1.192-1.193-1.553-2.354-1.66-2.926l2.459-2.394a1 1 0 0 0 .043-1.391L6.859 3.513a1 1 0 0 0-1.391-.087l-2.17 1.861a1 1 0 0 0-.29.649c-.015.25-.301 6.172 4.291 10.766C11.305 20.707 16.323 21 17.705 21c.202 0 .326-.006.359-.008a.992.992 0 0 0 .648-.291l1.86-2.171a1 1 0 0 0-.086-1.391l-4.064-3.696z"},child:[]}]})(e)}async function SG(e){console.log("fetching car by id from database");try{const{data:t,error:r}=await qt.from("Cars").select("*").eq("id",e).single();return r?(console.error("Error fetching cars:",r),null):t??null}catch(t){return console.error("Unexpected error while fetching a car:",t),null}}function kG(e){return e?e.toLowerCase().trim().replace(/\s*-\s*/g,"-").replace(/\s+/g,"-").replace(/mercedes-amg/gi,"mercedes").replace(/mercedes\s+amg/gi,"mercedes").replace(/amg-/gi,"").replace(/-amg/gi,"").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-+|-+$/g,""):""}async function Tn(e){var t;try{console.log(`[fetchImagesByCarName] Starting for car: "${e}"`);let r=kG(e);console.log(`[fetchImagesByCarName] Primary folder: "${r}"`);let{data:n,error:i}=await qt.storage.from("cars").list(r);if((i||!n||n.length===0)&&e){console.log(`[fetchImagesByCarName] Primary folder "${r}" not found or empty, trying alternatives`);const v=e.toLowerCase().split(/\s+/);if(v.length>=2){const y=v[0].replace(/mercedes-amg/gi,"mercedes").replace(/amg/gi,""),g=v.slice(1).join("-"),j=`${y}-${g}`.replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-+|-+$/g,"");if(console.log(`[fetchImagesByCarName] Trying alternative folder: "${j}"`),j!==r){const k=await qt.storage.from("cars").list(j);console.log("[fetchImagesByCarName] Alternative folder result:",k.error?"error":`${((t=k.data)==null?void 0:t.length)||0} files`),!k.error&&k.data&&k.data.length>0&&(r=j,n=k.data,i=null,console.log(`[fetchImagesByCarName] Using alternative folder: "${r}"`))}}}if(i||!n)return console.error(`[fetchImagesByCarName] Error listing files in folder "${r}":`,i),{mainImage:null,photoGallery:[]};console.log(`[fetchImagesByCarName] Found ${n.length} total files in "${r}":`,n.map(v=>v.name));const s=n.filter(v=>v.name!==".emptyFolderPlaceholder"&&/\.(jpg|jpeg|png)$/i.test(v.name));if(console.log(`[fetchImagesByCarName] Found ${s.length} image files:`,s.map(v=>v.name)),s.length===0)return console.warn(`[fetchImagesByCarName] No image files found in folder "${r}"`),{mainImage:null,photoGallery:[]};const o=r.split("-"),l=o.slice(1).join("-"),c=s.find(v=>{const y=v.name.toLowerCase().replace(/\.(jpg|jpeg|png)$/i,"");return!!(y===`${l}-main`||y===`${l}main`||y.endsWith("-main")||y===`${o[0]}-main`||y===l&&s.filter(g=>g.name.toLowerCase().replace(/\.(jpg|jpeg|png)$/i,"")===l).length===1)})||null;console.log("[fetchImagesByCarName] Main file detected:",(c==null?void 0:c.name)||"none");const u=v=>qt.storage.from("cars").getPublicUrl(`${r}/${v}`).data.publicUrl,h=c?u(c.name):s.length>0?u(s[0].name):null,m=c||(s.length>0?s[0]:null),x=s.filter(v=>v!==m).sort((v,y)=>{var k,w;const g=parseInt(((k=v.name.match(/-(\d+)\./))==null?void 0:k[1])||"0",10),j=parseInt(((w=y.name.match(/-(\d+)\./))==null?void 0:w[1])||"0",10);return g-j}).map(v=>u(v.name));console.log("[fetchImagesByCarName] Gallery images after sorting:",x.map(v=>v.split("/").pop()));const p=[...h?[h]:[],...x];return console.log(`[fetchImagesByCarName] Final result for "${e}": mainImage=${!!h}, gallery=${p.length} images`),{mainImage:h,photoGallery:p}}catch(r){return console.error("Unexpected error in fetchImagesByCarName:",r),{mainImage:null,photoGallery:[]}}}async function oL(e){const t=await SG(e);if(!t)throw new Error(`Car with id ${e} not found`);const r=`${t.make} ${t.model}`,{mainImage:n,photoGallery:i}=await Tn(r);return t.image_url=n,t.photo_gallery=i,t}async function lL(e=1,t=10,r){try{const n=(e-1)*t,i=n+t-1;let s=qt.from("Cars").select("*",{count:"exact"}).order("id",{ascending:!0}).range(n,i);if(r&&r.trim().length>0){const x=`%${r.trim()}%`;s=s.or(`make.ilike.${x},model.ilike.${x}`)}const{data:o,count:l,error:c}=await s;if(c&&o===null)return console.error("Error fetching paginated cars:",c),{cars:[],total:0,totalPages:0};const u=await Promise.all(o.map(x=>CG(x))),h=l??0,m=Math.ceil(h/t);return{cars:u,total:h,totalPages:m}}catch(n){return console.error("Unexpected error in fetchCarsPaginated:",n),{cars:[],total:0,totalPages:0}}}async function CG(e){const t=e.make+" "+e.model,{mainImage:r,photoGallery:n}=await Tn(t);return e.image_url=r,e.photo_gallery=n,e}const cL=_.createContext(void 0),PG=({children:e})=>{const[t,r]=_.useState(19.82),[n,i]=_.useState(17),[s,o]=_.useState(!0),[l,c]=_.useState(null),[u,h]=_.useState("fallback"),[m,x]=_.useState(()=>"MDL"),p=v=>{x(v),localStorage.setItem("selectedCurrency",v)};return _.useEffect(()=>{(async()=>{try{o(!0),c(null);const y=localStorage.getItem("exchange_rates_v2");if(y)try{const{timestamp:Y,rates:B}=JSON.parse(y);if(new Date().getTime()-Y<864e5){r(B.eur),i(B.usd),h("api"),o(!1);return}}catch{localStorage.removeItem("exchange_rates_v2")}const g="4d17fd225169d71925ab0fbcfb504a4e";let j=`http://api.exchangeratesapi.io/v1/latest?access_key=${g}&symbols=MDL,USD`,k=!1,w;try{if(w=await fetch(j),!w.ok)throw new Error(`API Error: ${w.status}`)}catch(Y){console.warn("Primary exchange API failed, trying backup...",Y),j="https://api.exchangerate-api.com/v4/latest/EUR",w=await fetch(j),k=!0}if(!w.ok)throw new Error("Failed to fetch from both exchange rate APIs");const E=await w.json();let O,z;if(E.rates&&(O=E.rates.MDL,z=E.rates.USD),O&&z&&O>0&&z>0){const Y=O,B=O/z;r(Y),i(B),h(k?"fallback":"api"),localStorage.setItem("exchange_rates_v2",JSON.stringify({timestamp:new Date().getTime(),rates:{eur:Y,usd:B}}))}else throw new Error("Invalid exchange rate data received")}catch(y){console.error("Error fetching exchange rates:",y),c(y instanceof Error?y.message:"Failed to fetch exchange rates"),h("fallback")}finally{o(!1)}})()},[]),a.jsx(cL.Provider,{value:{eur:t,usd:n,loading:s,error:l,source:u,selectedCurrency:m,setSelectedCurrency:p},children:e})},EG=()=>{const e=_.useContext(cL);if(e===void 0)throw new Error("useExchangeRateContext must be used within an ExchangeRateProvider");return e},uy=()=>EG(),uL=({car:e,index:t})=>{const{ref:r,isInView:n}=Lh(),{t:i}=br(),{selectedCurrency:s,eur:o,usd:l}=uy(),[c,u]=_.useState(0),[h,m]=_.useState(null),[x,p]=_.useState(e),[v,y]=_.useState([]),[g,j]=_.useState([]),k=()=>{try{const A=localStorage.getItem("carFavorites");return A?JSON.parse(A):[]}catch{return[]}},[w,E]=_.useState(()=>k().includes(x.id)),O=(A,R)=>{const L=k();if(R)L.includes(A)||L.push(A);else{const q=L.indexOf(A);q>-1&&L.splice(q,1)}localStorage.setItem("carFavorites",JSON.stringify(L))},z=()=>{const A=!w;E(A),O(x.id,A)};_.useEffect(()=>{(async()=>{if(e)try{let R=e.name;(!R||R.trim()==="")&&(R=`${e.make} ${e.model}`);const{mainImage:L,photoGallery:q}=await Tn(R),W={...e,image_url:L||e.image_url,photo_gallery:q.length>0?q:e.photo_gallery};p(W)}catch(R){console.error("Error fetching car images:",R),p(e)}})()},[e]),_.useEffect(()=>{(async()=>{if(e)try{const R=typeof e.id=="number"?e.id:parseInt(String(e.id),10),L=await qt.from("Rentals").select("*").eq("car_id",R).order("created_at",{ascending:!1}),q=new Date,W=(L.data||[]).filter(G=>{if(!G.end_date)return!1;const Z=G.end_date.includes("T")?G.end_date.split("T")[0]:G.end_date.split(" ")[0],P=new Date(Z);if(G.end_time){const[re,ce]=G.end_time.split(":").map(Number);P.setHours(re||17,ce||0,0,0)}else P.setHours(23,59,59,999);return P>=q});let ee=[];try{const G=await qt.from("BorrowRequest").select("*").eq("car_id",R).in("status",["APPROVED","EXECUTED"]).order("requested_at",{ascending:!1});G.data&&G.data.length>0&&(ee=G.data)}catch{}const M=W.map(G=>({id:G.id.toString(),user_id:G.user_id,car_id:G.car_id.toString(),start_date:G.start_date,start_time:G.start_time||"09:00:00",end_date:G.end_date,end_time:G.end_time||"17:00:00",status:"EXECUTED",created_at:G.created_at,updated_at:G.updated_at})),V=ee.map(G=>({id:G.id.toString(),user_id:G.user_id,car_id:G.car_id.toString(),start_date:G.start_date,start_time:G.start_time||"09:00:00",end_date:G.end_date,end_time:G.end_time||"17:00:00",status:"APPROVED",created_at:G.requested_at||G.created_at,updated_at:G.updated_at}));j(M),y(V);const I=[...M,...V].filter(G=>G.start_date&&G.end_date),H=new Date;let D=null;if(I.length>0){const G=[...I].sort((P,re)=>{const ce=new Date(P.start_date||0),be=new Date(re.start_date||0);return ce.getTime()-be.getTime()});let Z=null;for(let P=0;P<G.length;P++){const re=G[P];if(!re.end_date)continue;const ce=re.end_date.includes("T")?re.end_date.split("T")[0]:re.end_date.split(" ")[0],be=new Date(ce);if(re.end_time){const[ae,ue]=re.end_time.split(":").map(Number);be.setHours(ae||17,ue||0,0,0)}else be.setHours(17,0,0,0);if(be.setHours(be.getHours()+12),P===0)Z=be;else{const ae=G[P-1];if(!ae.end_date)continue;const ue=ae.end_date.includes("T")?ae.end_date.split("T")[0]:ae.end_date.split(" ")[0],fe=new Date(ue);if(ae.end_time){const[Se,Ee]=ae.end_time.split(":").map(Number);fe.setHours(Se||17,Ee||0,0,0)}else fe.setHours(17,0,0,0);fe.setHours(fe.getHours()+12);const pe=re.start_date.includes("T")?re.start_date.split("T")[0]:re.start_date.split(" ")[0],de=new Date(pe);if(re.start_time){const[Se,Ee]=re.start_time.split(":").map(Number);de.setHours(Se||9,Ee||0,0,0)}else de.setHours(9,0,0,0);const le=de.getTime()-fe.getTime(),ne=24*60*60*1e3;le>=0&&le<=ne+36e5||Z&&Z>H&&(D=Z),Z=be}}Z&&Z>H&&(D=Z)}m(D)}catch(R){console.error("Error fetching car availability:",R)}})()},[e]);const Y=kn(),B=A=>s==="MDL"?A:s==="EUR"?Math.round(A/o):s==="USD"?Math.round(A/l):A,$=A=>{switch(A){case"EUR":return"";case"USD":return"$";case"MDL":return"MDL";default:return A}},T=A=>{switch(A.toLowerCase()){case"automatic":return vt.createElement(jh,{className:"w-5 h-5 text-gray-600"});case"manual":return vt.createElement(cy,{className:"w-5 h-5 text-gray-600"});case"hybrid":return a.jsx(xO,{className:"w-5 h-5 text-green-500"});default:return vt.createElement(jh,{className:"w-5 h-5 text-gray-600"})}};return a.jsx(Ie.div,{ref:r,variants:fr,initial:"initial",animate:n?"animate":"initial",transition:{delay:t*.1},children:a.jsxs(iL,{className:"overflow-hidden flex flex-col bg-white transition-all duration-300 border border-gray-300 group rounded-3xl !shadow-none cursor-pointer hover:-translate-y-2 hover:shadow-lg",hover:!1,children:[a.jsxs("div",{className:"relative overflow-hidden",onMouseMove:A=>{if(x.photo_gallery&&x.photo_gallery.length>1){const R=A.currentTarget,L=R.getBoundingClientRect(),q=A.clientX-L.left,W=L.width,M=Math.min(x.photo_gallery.length,5),V=Math.floor(q/W*M),U=Math.max(0,Math.min(V,M-1));u(U);const I=R.querySelector(".photo-gallery");if(I){const H=-(U*100);I.style.transform=`translateX(${H}%)`}}},onMouseLeave:A=>{if(x.photo_gallery&&x.photo_gallery.length>1){u(0);const R=A.currentTarget.querySelector(".photo-gallery");R&&(R.style.transform="translateX(0%)")}},children:[a.jsx("div",{className:"flex transition-transform duration-300 ease-out group-hover:scale-105 photo-gallery",children:x.photo_gallery&&x.photo_gallery.length>1?(()=>{const R=x.photo_gallery.slice(0,5),q=x.photo_gallery.length-5;return R.map((W,ee)=>{const M=ee===R.length-1,V=M&&(q>0||q===0);return a.jsxs("div",{className:`relative w-full h-56 flex-shrink-0 ${V?"cursor-pointer":""}`,style:{minWidth:"100%"},onClick:V?()=>Y(`/cars/${x.id}`):void 0,children:[a.jsx("img",{src:W,alt:`${x.make} ${x.model} - Photo ${ee+1}`,className:"w-full h-56 object-cover object-center bg-gray-100"}),M&&q>0?a.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center text-white",children:[a.jsx($f,{className:"w-8 h-8 mb-2"}),a.jsx("span",{className:"text-lg font-semibold",children:i("car.seeMorePhotos",{count:q})})]}):M&&q===0?a.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center text-white",children:[a.jsx($f,{className:"w-8 h-8 mb-2"}),a.jsx("span",{className:"text-lg font-semibold",children:i("car.seeCar")})]}):null]},ee)})})():x.image_url?a.jsx("img",{src:x.image_url,alt:x.make+" "+x.model,className:"w-full h-56 object-cover object-center bg-gray-100"}):a.jsxs("div",{className:"w-full h-56 bg-gray-50 flex flex-col items-center justify-center text-gray-300 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"radial-gradient(circle at 2px 2px, black 1px, transparent 0)",backgroundSize:"16px 16px"}}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white flex items-center justify-center mb-3 shadow-sm border border-gray-100",children:a.jsx($f,{className:"w-8 h-8 text-gray-300"})}),a.jsx("span",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Fr fotografii"})]})]})}),x.photo_gallery&&x.photo_gallery.length>1&&a.jsx("div",{className:"absolute bottom-3 left-0 right-0 flex justify-center space-x-1 px-4",children:Array.from({length:Math.min(x.photo_gallery.length,5)}).map((A,R)=>a.jsx("div",{className:`flex-1 h-0.5 rounded-full transition-colors duration-200 ${R===c?"bg-white/90":"bg-white/30"}`},R))}),(()=>{const A=I=>{const H=I.getFullYear(),D=String(I.getMonth()+1).padStart(2,"0"),G=String(I.getDate()).padStart(2,"0");return`${H}-${D}-${G}`},R=I=>g.length===0?!1:g.some(H=>{if(!H.end_date||!H.end_time)return!1;const D=H.end_date.includes("T")?H.end_date.split("T")[0]:H.end_date.split(" ")[0],G=new Date(D+"T00:00:00"),[Z,P]=H.end_time.split(":").map(Number);G.setHours(Z||17,P||0,0,0);const re=new Date(G);re.setHours(re.getHours()+12);const ce=new Date(I);ce.setHours(0,0,0,0);const be=new Date(G);be.setHours(0,0,0,0);const ae=new Date(re);return ae.setHours(0,0,0,0),be.getTime()===ae.getTime()?A(ce)===A(be):ce>=be&&ce<=ae}),L=I=>{const H=I.split("T")[0],D=new Date(H+"T00:00:00");D.setHours(0,0,0,0);const G=new Date;return G.setHours(0,0,0,0),D<G?!1:R(D)||v.length>0&&v.some(P=>{if(!P.start_date||!P.end_date)return!1;const re=P.start_date.includes("T")?P.start_date.split("T")[0]:P.start_date.split(" ")[0],ce=new Date(re+"T00:00:00");ce.setHours(0,0,0,0);const be=P.end_date.includes("T")?P.end_date.split("T")[0]:P.end_date.split(" ")[0],ae=new Date(be+"T23:59:59");return ae.setHours(23,59,59,999),ae>=G&&D>=ce&&D<=ae})?!0:g.length>0?g.some(P=>{if(!P.start_date||!P.end_date)return!1;const re=P.start_date.includes("T")?P.start_date.split("T")[0]:P.start_date.split(" ")[0],ce=new Date(re+"T00:00:00");ce.setHours(0,0,0,0);const be=P.end_date.includes("T")?P.end_date.split("T")[0]:P.end_date.split(" ")[0],ae=new Date(be+"T23:59:59");return ae.setHours(23,59,59,999),ae>=G&&D>=ce&&D<=ae}):!1},q=()=>{const I=new Date;I.setHours(0,0,0,0);const H=A(I);let D=new Date(I);for(let G=0;G<60;G++){const Z=A(D),P=Z<H,re=h?(()=>{const be=new Date(h);be.setHours(0,0,0,0);const ae=new Date(Z);return ae.setHours(0,0,0,0),be<=I&&ae<be})():!1,ce=L(Z);if(!P&&!re&&!ce)return D;D.setDate(D.getDate()+1)}return null},W=I=>{const H=I.getDate(),G=["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"][I.getMonth()];return`Liber de pe ${H} ${G}`},ee=q(),M=new Date;M.setHours(0,0,0,0);const V=ee&&A(ee)===A(M),U=ee?V?"Disponibil":W(ee):x.status==="available"||x.status==="Available"?"Disponibil":x.status||"";return!U||U==="Disponibil"?null:a.jsxs("div",{className:"absolute top-3 left-3 bg-black/60 backdrop-blur-md text-white rounded-xl px-3 py-1.5 text-xs font-normal shadow-sm flex items-center gap-1.5",children:[a.jsx("svg",{className:"w-3 h-3 flex-shrink-0 opacity-80",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("span",{className:"whitespace-nowrap",children:U})]})})(),a.jsx("div",{className:`absolute top-3 right-3 z-10 group/heart transition-opacity duration-300 cursor-pointer ${w?"opacity-100":"opacity-0 group-hover:opacity-100"}`,onClick:A=>{A.stopPropagation(),z()},children:vt.createElement(Xx,{className:`transition-all duration-300 hover:scale-110 ${w?"w-6 h-6 text-red-500":"w-6 h-6 text-gray-400 group-hover/heart:text-red-500"}`})})]}),a.jsxs("div",{className:"p-5 flex flex-col justify-between flex-1",onClick:()=>Y(`/cars/${x.id}`),children:[a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-gray-700 transition-colors duration-300",children:[x.make," ",x.model]}),a.jsx("span",{className:"text-lg font-bold text-gray-600",children:x.year})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:vt.createElement(sL,{className:"w-4 h-4 text-gray-600"})}),a.jsx("span",{className:"text-sm font-medium",children:i("car.mileageLimit")})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 text-gray-600",children:[a.jsx("span",{className:"text-sm font-medium",children:(()=>{var R;const A=((R=x.transmission)==null?void 0:R.trim())||"";return A.toLowerCase()==="automatic"||A==="Automatic"?"Automat":A.toLowerCase()==="manual"||A==="Manual"?"Manual":A||"Automat"})()}),a.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:T(x.transmission||"Automatic")})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:vt.createElement(hN,{className:"w-4 h-4 text-gray-600"})}),a.jsx("span",{className:"text-sm font-medium",children:x.fuel_type==="gasoline"?"Benzin":x.fuel_type==="diesel"?"Diesel":x.fuel_type==="petrol"?"Benzin":x.fuel_type==="hybrid"?"Hibrid":x.fuel_type==="electric"?"Electric":x.fuel_type})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 text-gray-600",children:[a.jsx("span",{className:"text-sm font-medium",children:x.drivetrain||""}),a.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:vt.createElement(fN,{className:"w-4 h-4 text-gray-600"})})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[(()=>{const A=x.price_over_30_days||0,R=x.discount_percentage||x.discount_percentage||0,L=R>0?A*(1-R/100):A;return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-baseline gap-1",children:[a.jsxs("span",{className:"text-xl font-bold text-gray-800",children:[$(s),B(L).toFixed(0)]}),a.jsx("span",{className:"text-gray-500 text-sm",children:"pe zi"})]}),R>0&&a.jsxs("span",{className:"text-sm text-red-300 line-through font-semibold decoration-red-400/60",children:[$(s),B(A)]})]})})(),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-900 h-6 flex items-center justify-center",children:x.rating}),a.jsx("img",{src:"/assets/star.png",alt:"Rating",className:"w-6 h-6 flex-shrink-0 ml-2 relative bottom-0.5"})]})]})]})]})})};async function mN(e){try{let t=qt.from("Cars").select("*").or("status.is.null,status.neq.deleted").order("id",{ascending:!0});e&&(t=t.limit(e));const{data:r,error:n}=await t;return n?(console.error("Error fetching cars:",n),[]):r??[]}catch(t){return console.error("Unexpected error in fetchCars:",t),[]}}async function DG(e){try{const t=await AG(e),r=await Promise.all(t.map(async n=>{let i=n.name;(!i||i.trim()==="")&&(i=`${n.make} ${n.model}`);const{mainImage:s,photoGallery:o}=await Tn(i);return{...n,image_url:s,photo_gallery:o}}));return console.log("cars with images are: ",r),r}catch(t){return console.error("Error fetching filtered cars with photos:",t),[]}}async function AG(e){try{console.log("fetching filtered cars from database",e);let t=qt.from("Cars").select("*");if(t=t.or("status.is.null,status.neq.deleted"),e.make){const s=e.make.split(" ")[0];t=t.ilike("make",`${s}%`)}if(e.model&&(t=t.ilike("model",`%${e.model}%`)),e.minPrice!==void 0&&e.minPrice!==null&&typeof e.minPrice=="number"&&Number.isFinite(e.minPrice)&&(t=t.gte("price_2_4_days",e.minPrice)),e.maxPrice!==void 0&&e.maxPrice!==null&&typeof e.maxPrice=="number"&&Number.isFinite(e.maxPrice)&&(t=t.lte("price_2_4_days",e.maxPrice)),e.minYear!==void 0&&(t=t.gte("year",e.minYear)),e.maxYear!==void 0&&(t=t.lte("year",e.maxYear)),e.transmission&&(t=t.eq("transmission",e.transmission)),e.fuelType){const s={Petrol:"gasoline",Gasoline:"gasoline",Diesel:"diesel",Electric:"electric",Hybrid:"hybrid"}[e.fuelType]||e.fuelType.toLowerCase();t=t.eq("fuel_type",s)}typeof e.seats=="number"&&Number.isFinite(e.seats)&&(t=t.eq("seats",e.seats)),e.status&&e.status!=="Any"&&e.status!=="All"&&(t=t.eq("status",e.status)),t=t.order("id",{ascending:!0});const{data:r,error:n}=await t;return n?(console.error("Error fetching filtered cars:",n),[]):(console.log("!!!! filtered cars fetched: ",r),r??[])}catch(t){return console.error("Unexpected error in fetchFilteredCars:",t),[]}}async function dL(e){const t=await mN(e);return await Promise.all(t.map(async n=>{let i=n.name;(!i||i.trim()==="")&&(i=`${n.make} ${n.model}`);const{mainImage:s,photoGallery:o}=await Tn(i);return{...n,image_url:s,photo_gallery:o}}))}async function TG(e){console.log("the filters are: ",e);const t=e.page||1,r=e.pageSize,n=(t-1)*r,i=n+r-1;let s=qt.from("Cars").select("*",{count:"exact"});if(e.searchQuery){const h=`%${e.searchQuery}%`;s=s.or(`make.ilike.${h},model.ilike.${h}`)}s=s.range(n,i);const{data:o,count:l,error:c}=await s;return c||!o?(console.error("Error fetching filtered paginated cars:",c),{cars:[],total:0}):{cars:await Promise.all(o.map(async h=>{let m=h.name||`${h.make} ${h.model}`;const{mainImage:x}=await Tn(m);return{...h,image_url:x}})),total:l||0}}const hL=()=>a.jsx(a.Fragment,{children:a.jsxs("div",{className:"mt-8 bg-white rounded-2xl border border-gray-300 shadow-sm p-6 md:p-8 mb-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("span",{className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:"Servicii Suplimentare"}),a.jsx("h2",{className:"mt-3 text-2xl md:text-3xl font-bold text-gray-800 leading-tight",children:"Opiuni de nchiriere"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-300 p-5 hover:shadow-lg transition-all",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:a.jsx(Bx,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-1.5 text-sm",children:"Kilometraj nelimitat"}),a.jsx("p",{className:"text-red-600 font-medium text-xs",children:"Preul nchirierii va fi cu 50% mai mare"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-300 p-5 hover:shadow-lg transition-all",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:a.jsx(Hp,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-1.5 text-sm",children:"ofer personal"}),a.jsx("p",{className:"text-gray-700 font-medium text-xs",children:"de la 800 MDL pe zi"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-300 p-5 hover:shadow-lg transition-all",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:a.jsx(y0,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-1.5 text-sm",children:"Priority Service"}),a.jsx("p",{className:"text-gray-700 font-medium text-xs",children:"de la 1000 MDL pe zi"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-300 p-5 hover:shadow-lg transition-all",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:a.jsx(fH,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-1.5 text-sm",children:"Scaun auto pentru copii"}),a.jsx("p",{className:"text-gray-700 font-medium text-xs",children:"de la 100 MDL pe zi"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-300 p-5 hover:shadow-lg transition-all",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:a.jsx(kH,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-1.5 text-sm",children:"Cartel SIM cu internet"}),a.jsx("p",{className:"text-gray-700 font-medium text-xs",children:"de la 100 MDL pe zi"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-300 p-5 hover:shadow-lg transition-all",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:a.jsx(CH,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-1.5 text-sm",children:"Asisten rutier"}),a.jsx("p",{className:"text-gray-700 font-medium text-xs",children:"de la 500 MDL pe zi"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-300 p-5 hover:shadow-lg transition-all",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:a.jsx(bh,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-1.5 text-sm",children:"Livrare aeroport"}),a.jsx("p",{className:"text-green-600 font-medium text-xs",children:"Gratuit"})]})]})})]})]})}),pN=({transparent:e=!1})=>{const[t,r]=_.useState(!1);return a.jsx(a.Fragment,{children:a.jsxs("div",{className:`mt-8 rounded-2xl border shadow-sm p-6 md:p-8 mb-8 ${e?"bg-white/10 backdrop-blur-md border-white/20":"bg-white border-gray-300"}`,children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("span",{className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:"Informaii Legale"}),a.jsx("h2",{className:`mt-3 text-3xl font-bold leading-tight ${e?"text-white":"text-gray-800"}`,children:"Contract"}),a.jsx("p",{className:`mt-4 text-sm leading-relaxed max-w-4xl ${e?"text-gray-200":"text-gray-500"}`,children:"Compania noastr ofer servicii de nchiriere auto pe teritoriul Republicii Moldova, respectnd cu strictee legislaia n vigoare. Interaciunea cu clienii se bazeaz pe Contractul de nchiriere, care garanteaz protecia juridic a intereselor acestora."})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:a.jsx(Yc,{className:"w-5 h-5 text-white"})}),a.jsx("h3",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"Condiii i cerine"})]}),a.jsx("p",{className:`mt-4 text-sm leading-relaxed ${e?"text-gray-200":"text-gray-500"}`,children:"Pentru a nchiria o main, trebuie ndeplinite urmtoarele cerine:"})]}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:`text-center rounded-xl border p-5 hover:shadow-lg transition-all ${e?"bg-white/10 border-white/20 hover:bg-white/20":"bg-white border-gray-300"}`,children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl mx-auto mb-3 shadow-lg flex items-center justify-center bg-gradient-to-b from-red-500 to-red-600",children:a.jsx(sc,{className:"w-6 h-6 text-white"})}),a.jsx("div",{className:`text-xs font-semibold uppercase tracking-wide mb-2 ${e?"text-gray-300":"text-gray-500"}`,children:"Vrst"}),a.jsx("div",{className:`text-base font-bold ${e?"text-white":"text-gray-800"}`,children:"de la 21 de ani"})]}),a.jsxs("div",{className:`text-center rounded-xl border p-5 hover:shadow-lg transition-all ${e?"bg-white/10 border-white/20 hover:bg-white/20":"bg-white border-gray-300"}`,children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl mx-auto mb-3 shadow-lg flex items-center justify-center bg-gradient-to-b from-red-500 to-red-600",children:a.jsx(bH,{className:"w-6 h-6 text-white"})}),a.jsx("div",{className:`text-xs font-semibold uppercase tracking-wide mb-2 ${e?"text-gray-300":"text-gray-500"}`,children:"Permis"}),a.jsx("div",{className:`text-base font-bold ${e?"text-white":"text-gray-800"}`,children:"categoria B"})]}),a.jsxs("div",{className:`text-center rounded-xl border p-5 hover:shadow-lg transition-all ${e?"bg-white/10 border-white/20 hover:bg-white/20":"bg-white border-gray-300"}`,children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl mx-auto mb-3 shadow-lg flex items-center justify-center bg-gradient-to-b from-red-500 to-red-600",children:a.jsx(ta,{className:"w-6 h-6 text-white"})}),a.jsx("div",{className:`text-xs font-semibold uppercase tracking-wide mb-2 ${e?"text-gray-300":"text-gray-500"}`,children:"Experien"}),a.jsx("div",{className:`text-base font-bold ${e?"text-white":"text-gray-800"}`,children:"cel puin 3 ani"})]}),a.jsxs("div",{className:`text-center rounded-xl border p-5 hover:shadow-lg transition-all ${e?"bg-white/10 border-white/20 hover:bg-white/20":"bg-white border-gray-300"}`,children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl mx-auto mb-3 shadow-lg flex items-center justify-center bg-gradient-to-b from-red-500 to-red-600",children:a.jsx(Bx,{className:"w-6 h-6 text-white"})}),a.jsx("div",{className:`text-xs font-semibold uppercase tracking-wide mb-2 ${e?"text-gray-300":"text-gray-500"}`,children:"km/zi"}),a.jsx("div",{className:`text-base font-bold ${e?"text-white":"text-gray-800"}`,children:"pn la 200km"})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("button",{onClick:()=>r(!t),className:`w-full flex items-center justify-center gap-2 p-4 rounded-xl border transition-all group ${e?"bg-white/10 hover:bg-white/20 border-white/20":"bg-gray-50 hover:bg-gray-100 border-gray-300"}`,children:[a.jsx("span",{className:`text-sm font-semibold ${e?"text-white":"text-gray-800"}`,children:"Mai Multe Detalii"}),a.jsx(Ff,{className:`w-5 h-5 transition-transform duration-300 ${t?"rotate-180":""} ${e?"text-gray-300":"text-gray-600"}`})]}),t&&a.jsxs("div",{className:"mt-4 grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[a.jsx(Io,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:"Deinerea buletinului de identitate."})]}),a.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[a.jsx(Io,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:"Achitarea integral (100%) a taxei de nchiriere pentru maina selectat."})]}),a.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[a.jsx(Io,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:"Toate amenzile primite n timpul utilizrii vehiculului revin n responsabilitatea oferului."})]}),a.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[a.jsx(Io,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:"n lipsa poliei CASCO, responsabilitatea pentru accidente revine oferului."})]}),a.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[a.jsx(Io,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:"Plata se poate efectua n numerar, prin transfer bancar sau cu cardul."})]}),a.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[a.jsx(Io,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:"Clientul are dreptul la recalcularea costului n caz de returnare anticipat a vehiculului."})]}),a.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[a.jsx(Io,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:"Prelungirea Contractului de nchiriere este posibil n format la distan, dar nu este garantat."})]}),a.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[a.jsx(Io,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),a.jsxs("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:["Este posibil livrarea sau returnarea mainii la adresa convenabil. Costul se confirm la telefon"," ",a.jsx("a",{href:"tel:+37362000112",className:"text-red-500 font-semibold hover:underline",children:"+373 62 000 112"}),"."]})]}),a.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border md:col-span-2 ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[a.jsx(Io,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),a.jsxs("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:[a.jsx("span",{className:"font-semibold",children:"Depozit:"})," Depunerea unui depozit conform valorii stabilite n Contract. Depozitul reprezint o asigurare a ndeplinirii obligaiilor de ctre Chiria i este returnat dup 10 zile de la predarea mainii, n absena nclcrilor majore."]})]}),a.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border md:col-span-2 ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[a.jsx(Io,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),a.jsxs("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:[a.jsx("span",{className:"font-semibold",children:"Limita de kilometraj:"})," n cazul nchirierii pentru mai multe zile, limita se calculeaz n total. n cazul depirii limitei i n lipsa opiunii activate Kilometraj nelimitat, depirea se achit separat."]})]}),a.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border md:col-span-2 ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[a.jsx(Io,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),a.jsxs("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:[a.jsx("span",{className:"font-semibold",children:"Al doilea ofer:"})," nainte de semnarea Contractului de nchiriere, costul adugrii unui al doilea ofer este de 0 lei. Dup semnarea Contractului de nchiriere, costul adugrii unui al doilea ofer este de 500 lei."]})]}),a.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border md:col-span-2 ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[a.jsx(Io,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),a.jsxs("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:[a.jsx("span",{className:"font-semibold",children:"Returnarea depozitului:"})," Dac depozitul este lsat cash, se returneaz la predarea automobilului. Dac este reinut de pe card, returnarea are loc n termen de 10 zile lucrtoare dup predarea automobilului."]})]})]})]})]})})},OG=()=>{const{ref:e,isInView:t}=Lh(),[r]=du(),n=kn(),i=vt.useRef(!1);_.useEffect(()=>{const ue=window.location.search;if(ue.includes("~and~")||ue.includes("~")||ue.includes("&/")||ue.includes("/&")||(ue.match(/&/g)||[]).length>10){n("/cars",{replace:!0});return}},[]);const[s,o]=_.useState([]),[l,c]=_.useState([]),[u,h]=_.useState(!0),[m,x]=_.useState([]),[p,v]=_.useState([]),[y,g]=_.useState(!1),[j,k]=_.useState("price-low");async function w(){h(!0);try{const ue=await mN();o(ue),c(ue);const fe=ue.map(le=>{const ne=le.make||"";return(ne.includes("-")?ne.split("-")[0]:ne).trim().toLowerCase()}),de=Array.from(new Set(fe)).filter(Boolean).map(le=>le.charAt(0).toUpperCase()+le.slice(1).toLowerCase());x(de)}catch(ue){console.error("Error fetching cars:",ue)}finally{h(!1)}}async function E(ue){g(!0);try{await new Promise(de=>setTimeout(de,100));const fe=ue.trim().toLowerCase(),pe=l.filter(de=>{const le=de.make||"";return(le.includes("-")?le.split("-")[0]:le).trim().toLowerCase()===fe}).map(de=>de.model).filter(de=>de!=null&&de.trim()!=="").filter((de,le,ne)=>ne.indexOf(de)===le);v(pe)}finally{g(!1)}}async function O(ue){h(!0);try{const fe={make:ue.make||void 0,model:ue.model||void 0,minPrice:U.priceRange[0],maxPrice:U.priceRange[1],minYear:U.yearRange[0],maxYear:U.yearRange[1],fuelType:U.fuelType!=="Any"?Pk[U.fuelType]:void 0,transmission:U.transmission!=="Any"?U.transmission:void 0,seats:U.seats!==void 0?U.seats:void 0},pe=await DG(fe);o(pe)}catch(fe){console.error("Error fetching filtered cars:",fe)}finally{h(!1)}}_.useEffect(()=>{i.current||(i.current=!0,w())},[]);const[z,Y]=_.useState({make:"",model:""}),[B,$]=_.useState({make:"",model:""}),[T,A]=_.useState(!1),[R,L]=_.useState(!1),[q,W]=_.useState(!1),ee=()=>{A(!1),L(!1)},M=ue=>{if(ue==="make"&&T||ue==="model"&&R){ee();return}ee(),ue==="make"?A(!0):ue==="model"&&L(!0)};_.useEffect(()=>{const ue=fe=>{fe.target.closest(".dropdown-container")||ee()};return(T||R)&&document.addEventListener("mousedown",ue),()=>document.removeEventListener("mousedown",ue)},[T,R]),_.useEffect(()=>(q?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[q]);const V={priceRange:[0,1e4],yearRange:[new Date().getFullYear()-10,new Date().getFullYear()],transmission:"Any",fuelType:"Any",seats:void 0},[U,I]=_.useState(V),[H,D]=_.useState("");_.useEffect(()=>{const ue=r.get("make"),fe=r.get("model"),pe=de=>de!==null&&de.trim()!==""&&de.length<100&&!de.includes("~")&&!de.includes("<")&&!de.includes(">")&&!de.includes("&")&&!de.includes("%");if(ue&&pe(ue)||fe&&pe(fe)){const de={make:ue&&pe(ue)?ue:"",model:fe&&pe(fe)?fe:""};Y(de),$(de),O(de)}},[]),_.useEffect(()=>{const ue=r.get("make");ue&&(pe=>pe!==null&&pe.trim()!==""&&pe.length<100&&!pe.includes("~")&&!pe.includes("<")&&!pe.includes(">")&&!pe.includes("&")&&!pe.includes("%"))(ue)&&l.length>0&&!z.make&&E(ue)},[l,r]);const G=_.useMemo(()=>m.map(ue=>{const pe=ue.split(" ")[0];return pe.includes("-")?pe.split("-")[0]:pe}).filter((ue,fe,pe)=>pe.indexOf(ue)===fe),[m]),Z=ue=>{const fe=ue.toLowerCase();return{mercedes:"/logos/merc.svg","mercedes-benz":"/logos/merc.svg",bmw:"/logos/bmw.webp",audi:"/logos/audi.png",hyundai:"/logos/hyundai.png",maserati:"/logos/maserati.png",volkswagen:"/logos/volkswagen-1-logo-black-and-white.png",vw:"/logos/volkswagen-1-logo-black-and-white.png"}[fe]||null},P=ue=>{const fe=ue.toLowerCase();return fe==="audi"||fe==="maserati"?"w-6 h-6":"w-4 h-4"},re=(ue,fe)=>{Y(pe=>{const de={...pe,[ue]:fe};if(ue==="make"){const le=fe;if(le&&pe.model){const ne=le.trim().toLowerCase();l.filter(qe=>{const ve=qe.make||"";return(ve.includes("-")?ve.split("-")[0]:ve).trim().toLowerCase()===ne}).map(qe=>qe.model).filter(qe=>qe!=null&&qe.trim()!=="").some(qe=>qe.toLowerCase()===pe.model.toLowerCase())||(de.model="")}else le||(de.model="");le?E(le):v([])}return de}),D("")},ce=()=>{Y({make:"",model:""}),$({make:"",model:""}),I(V),window.location.pathname+window.location.search!=="/cars"&&n("/cars",{replace:!0}),w()},be=(ue,fe)=>{fe==="Any"&&(fe=void 0),I(pe=>({...pe,[ue]:fe}))},ae=ue=>{if(!(ue.make||ue.model)){D("V rugm s selectai cel puin un filtru pentru cutare."),setTimeout(()=>D(""),3e3);return}D(""),$({make:ue.make,model:ue.model}),ee();const pe=Ee=>!!(Ee&&Ee.trim()!==""&&Ee.length<100&&!Ee.includes("~")&&!Ee.includes("<")&&!Ee.includes(">")&&!Ee.includes("&")&&!Ee.includes("%"));if(ue.make&&!pe(ue.make)||ue.model&&!pe(ue.model)){D("Filtrele conin caractere nevalide."),setTimeout(()=>D(""),3e3);return}const de=new URLSearchParams;ue.make&&pe(ue.make)&&de.set("make",ue.make),ue.model&&pe(ue.model)&&de.set("model",ue.model);const le=de.toString(),ne=`/cars${le?`?${le}`:""}`;window.location.pathname+window.location.search!==ne&&n(ne,{replace:!0}),O(ue)};return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-[1500px] mx-auto px-4 sm:px-6 lg:px-8 py-8 mt-16",children:[a.jsxs("div",{className:"mt-8 mb-10 relative",children:[a.jsxs("div",{className:"rounded-3xl overflow-visible min-h-[480px] md:min-h-[350px] flex flex-col justify-end relative",children:[a.jsx("div",{className:"absolute inset-0 rounded-3xl overflow-hidden bg-cover bg-center md:bg-[center_-400px] z-0",style:{backgroundImage:"url(/backgrounds/bg10-mobile.jpeg)"},children:a.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm"})}),a.jsx("button",{onClick:()=>W(!0),className:`hidden md:flex absolute top-6 right-6 w-14 h-14 rounded-2xl items-center justify-center transition-all transform hover:scale-105 z-20 ${q?"bg-theme-500 text-white hover:bg-theme-600 shadow-lg":"bg-white/10 backdrop-blur-sm text-white hover:bg-white/20 border border-white/20"}`,children:a.jsx(Up,{className:"w-5 h-5 stroke-2"})}),a.jsxs("div",{className:"absolute top-6 left-4 right-4 md:top-12 md:left-12 md:right-auto z-10 max-w-[calc(100%-2rem)] md:max-w-3xl",children:[a.jsx(Ie.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-2xl md:text-4xl lg:text-5xl font-bold text-white mb-2 md:mb-4",children:"nchiriaz Maina Ta Ideal"}),a.jsx(Ie.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"text-sm md:text-base lg:text-lg text-white/90 font-medium leading-relaxed",children:"Flot variat de vehicule premium  Servicii complete cu sau fr ofer  Asisten permanent i preuri clare"})]}),a.jsxs("div",{className:"flex flex-col gap-4 p-6 md:p-8 relative z-10",children:[a.jsx(mr,{children:H&&a.jsx(Ie.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"fixed top-24 left-4 right-4 z-[10000] md:hidden bg-white border-l-4 border-theme-500 text-gray-900 px-4 py-3 rounded-xl text-sm font-medium shadow-xl",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-theme-500 flex items-center justify-center mt-0.5",children:a.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsx("p",{className:"flex-1 text-gray-900",children:H})]})})}),a.jsxs("div",{className:"hidden md:flex items-center justify-between gap-4",children:[a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx(mr,{children:H&&a.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"bg-red-500/10 backdrop-blur-sm border border-red-400/30 text-red-100 px-4 py-3 rounded-xl text-sm font-medium",children:H})})}),a.jsxs("button",{onClick:ce,className:"text-sm md:text-base text-white/80 hover:text-white transition-colors flex items-center gap-2 whitespace-nowrap flex-shrink-0",children:[a.jsx(hn,{className:"w-3 h-3 md:w-4 md:h-4"}),"Clear all filters"]})]}),a.jsxs("div",{className:"flex md:hidden items-center justify-between gap-2.5 mb-2",children:[a.jsxs("button",{onClick:ce,className:"text-sm font-medium text-white/80 hover:text-white transition-colors flex items-center gap-2 whitespace-nowrap",children:[a.jsx(hn,{className:"w-4 h-4"}),"Clear all filters"]}),a.jsx("button",{onClick:()=>W(!0),className:`flex-shrink-0 w-12 h-12 rounded-2xl flex items-center justify-center transition-all ${q?"bg-theme-500 text-white hover:bg-theme-600 shadow-lg":"backdrop-blur-md bg-white/20 hover:bg-white/30 border border-white/30 text-white"}`,children:a.jsx(Up,{className:"w-5 h-5 stroke-2"})})]}),a.jsx("div",{className:"backdrop-blur-md bg-white/20 border border-white/30 rounded-3xl overflow-visible shadow-lg",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-0 items-stretch",children:[a.jsxs("div",{className:"flex-1 relative border-b lg:border-b-0 lg:border-r border-white/20 px-4 py-3 md:px-6 md:py-5 dropdown-container overflow-visible",children:[a.jsx("label",{className:`text-[11px] font-semibold mb-2 md:mb-3 block transition-colors uppercase tracking-widest ${z.make?"text-white":"text-white/80"}`,children:"Marca"}),a.jsxs("div",{className:"relative overflow-visible",children:[a.jsxs("div",{className:`text-base font-medium cursor-pointer transition-colors pr-8 flex items-center gap-2 ${z.make?"text-white":"text-white/70"}`,onClick:()=>M("make"),children:[z.make&&(()=>{const ue=Z(z.make.toLowerCase());return ue?a.jsx("img",{src:ue,alt:z.make,className:`${P(z.make)} object-contain brightness-0 invert`,onError:fe=>{fe.target.style.display="none"}}):null})(),a.jsx("span",{children:z.make||"Selecteaz marca"})]}),a.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 pointer-events-none",children:a.jsx("svg",{className:"w-4 h-4 text-white/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),a.jsx(mr,{children:T&&a.jsx(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-2xl shadow-lg z-[100] min-w-[200px]",onClick:ue=>ue.stopPropagation(),children:a.jsx("div",{className:"py-1",children:G.map((ue,fe)=>{const pe=Z(ue.toLowerCase()),de=fe===0,le=fe===G.length-1;return a.jsxs("div",{className:`px-4 py-2 text-sm cursor-pointer select-none border-b border-gray-100 last:border-b-0 transition-colors flex items-center gap-2 ${de?"rounded-t-2xl":""} ${le?"rounded-b-2xl":""} ${z.make===ue?"text-gray-900 font-medium":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>{re("make",ue),ee()},children:[a.jsx("div",{className:"w-6 flex items-center justify-start flex-shrink-0",children:pe&&a.jsx("img",{src:pe,alt:ue,className:`${P(ue)} object-contain`,onError:ne=>{ne.target.style.display="none"}})}),a.jsx("span",{children:ue})]},ue)})})})})]})]}),a.jsxs("div",{className:"flex-1 relative border-b lg:border-b-0 lg:border-r border-white/20 px-4 py-3 md:px-6 md:py-5 dropdown-container overflow-visible",children:[a.jsx("label",{className:`text-[11px] font-semibold mb-2 md:mb-3 block transition-colors uppercase tracking-widest ${z.model?"text-white":"text-white/80"}`,children:"Model"}),a.jsxs("div",{className:"relative overflow-visible",children:[a.jsx("div",{className:`text-base font-medium transition-colors pr-8 ${z.make?z.model||y?"text-white cursor-pointer":"text-white/70 cursor-pointer":"text-white/50 cursor-not-allowed"}`,onClick:()=>z.make&&!y&&M("model"),children:z.make?y?"Se ncarc...":z.model||"Selecteaz modelul":"Selecteaz marca"}),a.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 pointer-events-none",children:y?a.jsx("div",{className:"w-4 h-4 border-2 border-white/60 border-t-transparent rounded-full animate-spin"}):a.jsx("svg",{className:`w-4 h-4 ${z.make?"text-white/60":"text-white/30"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),a.jsx(mr,{children:R&&z.make&&a.jsx(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-2xl shadow-lg z-[100] min-w-[200px]",onClick:ue=>ue.stopPropagation(),children:a.jsx("div",{className:"py-1",children:y?a.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}),"Se ncarc..."]})}):p.length>0?p.map((ue,fe)=>{const pe=fe===0,de=fe===p.length-1;return a.jsx("div",{className:`px-4 py-2 text-sm cursor-pointer select-none border-b border-gray-100 last:border-b-0 transition-colors ${pe?"rounded-t-2xl":""} ${de?"rounded-b-2xl":""} ${z.model===ue?"text-gray-900 font-medium":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>{re("model",ue),ee()},children:ue},ue)}):a.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"Nu sunt modele disponibile"})})})})]})]}),a.jsx("div",{className:"px-4 py-3 md:px-6 md:py-5 flex-[1.5] lg:flex-[1]",children:a.jsxs("button",{onClick:()=>ae(z),className:"w-full py-3.5 md:py-4 lg:py-3.5 bg-gradient-to-r from-theme-500 to-theme-600 hover:from-theme-600 hover:to-theme-700 text-white font-bold px-6 md:px-8 rounded-2xl text-sm md:text-base flex items-center justify-center gap-2.5 transition-all shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:[a.jsx(ic,{className:"w-4 h-4 md:w-5 md:h-5 stroke-[2.5]"}),"Caut"]})})]})})]})]}),a.jsx("img",{src:"/assets/Design Elements/keys.png",alt:"",className:"absolute hidden lg:block lg:bottom-[100px] lg:right-[250px] bottom-[400px] right-[0px]  lg:w-[300px] w-[200px] h-auto object-contain z-[10] pointer-events-none"})]}),a.jsx(mr,{children:q&&a.jsxs(a.Fragment,{children:[a.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 z-[9998]",onClick:()=>W(!1)}),a.jsx(Ie.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 right-0 h-full w-full max-w-md bg-white shadow-2xl z-[9999] overflow-y-auto",onClick:ue=>ue.stopPropagation(),children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filtre"}),a.jsx("button",{onClick:()=>W(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(hn,{className:"w-5 h-5 text-gray-600"})})]}),a.jsx("div",{className:"mb-8",children:a.jsx("button",{onClick:()=>{ce(),W(!1)},className:"text-lg font-medium text-gray-500 hover:text-gray-900 transition-colors",children:"Clear all"})}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-900 mb-4 block",children:"Price Range"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex justify-between items-center text-sm gap-2",children:[a.jsx("input",{type:"number",className:"w-20 px-2 py-1 rounded-md border border-gray-300 text-gray-900",value:U.priceRange[0],onChange:ue=>I({...U,priceRange:[Number(ue.target.value),U.priceRange[1]]})}),a.jsx("span",{className:"text-gray-400",children:""}),a.jsx("input",{type:"number",className:"w-20 px-2 py-1 rounded-md border border-gray-300 text-gray-900",value:U.priceRange[1],onChange:ue=>I({...U,priceRange:[U.priceRange[0],Number(ue.target.value)]})})]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-900 mb-4 block",children:"Year"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex justify-between items-center text-sm gap-2",children:[a.jsx("input",{type:"number",className:"w-20 px-2 py-1 rounded-md border border-gray-300 text-gray-900",value:U.yearRange[0],onChange:ue=>I({...U,yearRange:[Number(ue.target.value),U.yearRange[1]]})}),a.jsx("span",{className:"text-gray-400",children:""}),a.jsx("input",{type:"number",className:"w-20 px-2 py-1 rounded-md border border-gray-300 text-gray-900",value:U.yearRange[1],onChange:ue=>I({...U,yearRange:[U.yearRange[0],Number(ue.target.value)]})})]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-900 mb-4 block",children:"Transmission"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["Any","Manual","Automatic"].map(ue=>{const fe=ue==="Any"?void 0:ue,pe=U.transmission===fe||fe===void 0&&U.transmission==="Any";return a.jsx("button",{onClick:()=>be("transmission",fe),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${pe?"bg-theme-500 text-white hover:bg-theme-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:ue},ue)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-900 mb-4 block",children:"Fuel Type"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["Any",...Object.keys(Pk)].map(ue=>{const fe=ue==="Any"?void 0:ue,pe=U.fuelType===fe||fe===void 0&&U.fuelType==="Any";return a.jsx("button",{onClick:()=>be("fuelType",fe),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${pe?"bg-theme-500 text-white hover:bg-theme-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:ue},ue)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-900 mb-4 block",children:"Seats"}),a.jsx("div",{className:"space-y-4",children:a.jsx("div",{className:"flex justify-between items-center text-sm gap-2",children:a.jsx("input",{type:"number",className:"w-20 px-2 py-1 rounded-md border border-gray-300 text-gray-900",value:U.seats,onChange:ue=>I({...U,seats:parseInt(ue.target.value)})})})})]})]})]})})]})}),a.jsxs("div",{className:"w-full mt-8",children:[u?a.jsxs("div",{className:"text-center py-16 px-4",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 border-4 border-theme-500 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-gray-600",children:"Se ncarc mainile..."})]}):a.jsx(a.Fragment,{children:s.length>0?a.jsx(Ie.div,{ref:e,variants:ja,initial:"initial",animate:t?"animate":"initial",className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4 lg:gap-5",children:s.filter(ue=>{var pe;const fe=((pe=ue.status)==null?void 0:pe.toLowerCase())||"";return fe!=="ascuns"&&fe!=="hidden"}).map((ue,fe)=>a.jsx(uL,{car:ue,index:fe},ue.id))}):B.make||B.model||Object.values(U).some(ue=>Array.isArray(ue)?ue[0]!==(ue[1]===2025?2020:0)||ue[1]!==2025:ue!=="Any")?a.jsx(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 px-4",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-gray-100 flex items-center justify-center",children:a.jsx(ic,{className:"w-10 h-10 text-gray-400"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Nu s-au gsit maini"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Nu am gsit maini care s corespund criteriilor dvs. de filtrare. V rugm s ncercai s modificai filtrele."}),a.jsx("button",{onClick:ce,className:"px-6 py-3 bg-theme-500 hover:bg-theme-600 text-white font-semibold rounded-xl transition-colors",children:"Reseteaz filtrele"})]})}):null}),a.jsx(hL,{}),a.jsx(pN,{})]})]})})};var b1={},w1={},tp={},j1={},i4;function LG(){return i4||(i4=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};e.default=t}(j1)),j1}var N1,s4;function IG(){if(s4)return N1;s4=1;var e="Expected a function",t=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,c=typeof vg=="object"&&vg&&vg.Object===Object&&vg,u=typeof self=="object"&&self&&self.Object===Object&&self,h=c||u||Function("return this")(),m=Object.prototype,x=m.toString,p=Math.max,v=Math.min,y=function(){return h.Date.now()};function g(O,z,Y){var B,$,T,A,R,L,q=0,W=!1,ee=!1,M=!0;if(typeof O!="function")throw new TypeError(e);z=E(z)||0,j(Y)&&(W=!!Y.leading,ee="maxWait"in Y,T=ee?p(E(Y.maxWait)||0,z):T,M="trailing"in Y?!!Y.trailing:M);function V(ce){var be=B,ae=$;return B=$=void 0,q=ce,A=O.apply(ae,be),A}function U(ce){return q=ce,R=setTimeout(D,z),W?V(ce):A}function I(ce){var be=ce-L,ae=ce-q,ue=z-be;return ee?v(ue,T-ae):ue}function H(ce){var be=ce-L,ae=ce-q;return L===void 0||be>=z||be<0||ee&&ae>=T}function D(){var ce=y();if(H(ce))return G(ce);R=setTimeout(D,I(ce))}function G(ce){return R=void 0,M&&B?V(ce):(B=$=void 0,A)}function Z(){R!==void 0&&clearTimeout(R),q=0,B=L=$=R=void 0}function P(){return R===void 0?A:G(y())}function re(){var ce=y(),be=H(ce);if(B=arguments,$=this,L=ce,be){if(R===void 0)return U(L);if(ee)return R=setTimeout(D,z),V(L)}return R===void 0&&(R=setTimeout(D,z)),A}return re.cancel=Z,re.flush=P,re}function j(O){var z=typeof O;return!!O&&(z=="object"||z=="function")}function k(O){return!!O&&typeof O=="object"}function w(O){return typeof O=="symbol"||k(O)&&x.call(O)==r}function E(O){if(typeof O=="number")return O;if(w(O))return t;if(j(O)){var z=typeof O.valueOf=="function"?O.valueOf():O;O=j(z)?z+"":z}if(typeof O!="string")return O===0?O:+O;O=O.replace(n,"");var Y=s.test(O);return Y||o.test(O)?l(O.slice(2),Y?2:8):i.test(O)?t:+O}return N1=g,N1}var _1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var o4;function dy(){return o4||(o4=1,function(e){(function(){var t={}.hasOwnProperty;function r(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=i(s,n(l)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)t.call(s,l)&&s[l]&&(o=i(o,l));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(r.default=r,e.exports=r):window.classNames=r})()}(_1)),_1.exports}var Vt={},S1={},l4;function fL(){return l4||(l4=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(po());function r(i){return i&&i.__esModule?i:{default:i}}var n={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return t.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return t.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};e.default=n}(S1)),S1}var c4;function w0(){if(c4)return Vt;c4=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.checkSpecKeys=Vt.checkNavigable=Vt.changeSlide=Vt.canUseDOM=Vt.canGoNext=void 0,Vt.clamp=u,Vt.extractObject=void 0,Vt.filterSettings=V,Vt.validSettings=Vt.swipeStart=Vt.swipeMove=Vt.swipeEnd=Vt.slidesOnRight=Vt.slidesOnLeft=Vt.slideHandler=Vt.siblingDirection=Vt.safePreventDefault=Vt.lazyStartIndex=Vt.lazySlidesOnRight=Vt.lazySlidesOnLeft=Vt.lazyEndIndex=Vt.keyHandler=Vt.initializedState=Vt.getWidth=Vt.getTrackLeft=Vt.getTrackCSS=Vt.getTrackAnimateCSS=Vt.getTotalSlides=Vt.getSwipeDirection=Vt.getSlideCount=Vt.getRequiredLazySlides=Vt.getPreClones=Vt.getPostClones=Vt.getOnDemandLazySlides=Vt.getNavigableIndexes=Vt.getHeight=void 0;var e=r(po()),t=r(fL());function r(U){return U&&U.__esModule?U:{default:U}}function n(U){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},n(U)}function i(U,I){var H=Object.keys(U);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(U);I&&(D=D.filter(function(G){return Object.getOwnPropertyDescriptor(U,G).enumerable})),H.push.apply(H,D)}return H}function s(U){for(var I=1;I<arguments.length;I++){var H=arguments[I]!=null?arguments[I]:{};I%2?i(Object(H),!0).forEach(function(D){o(U,D,H[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(H)):i(Object(H)).forEach(function(D){Object.defineProperty(U,D,Object.getOwnPropertyDescriptor(H,D))})}return U}function o(U,I,H){return(I=l(I))in U?Object.defineProperty(U,I,{value:H,enumerable:!0,configurable:!0,writable:!0}):U[I]=H,U}function l(U){var I=c(U,"string");return n(I)=="symbol"?I:I+""}function c(U,I){if(n(U)!="object"||!U)return U;var H=U[Symbol.toPrimitive];if(H!==void 0){var D=H.call(U,I);if(n(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(U)}function u(U,I,H){return Math.max(I,Math.min(U,H))}var h=Vt.safePreventDefault=function(I){var H=["onTouchStart","onTouchMove","onWheel"];H.includes(I._reactName)||I.preventDefault()},m=Vt.getOnDemandLazySlides=function(I){for(var H=[],D=x(I),G=p(I),Z=D;Z<G;Z++)I.lazyLoadedList.indexOf(Z)<0&&H.push(Z);return H};Vt.getRequiredLazySlides=function(I){for(var H=[],D=x(I),G=p(I),Z=D;Z<G;Z++)H.push(Z);return H};var x=Vt.lazyStartIndex=function(I){return I.currentSlide-v(I)},p=Vt.lazyEndIndex=function(I){return I.currentSlide+y(I)},v=Vt.lazySlidesOnLeft=function(I){return I.centerMode?Math.floor(I.slidesToShow/2)+(parseInt(I.centerPadding)>0?1:0):0},y=Vt.lazySlidesOnRight=function(I){return I.centerMode?Math.floor((I.slidesToShow-1)/2)+1+(parseInt(I.centerPadding)>0?1:0):I.slidesToShow},g=Vt.getWidth=function(I){return I&&I.offsetWidth||0},j=Vt.getHeight=function(I){return I&&I.offsetHeight||0},k=Vt.getSwipeDirection=function(I){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D,G,Z,P;return D=I.startX-I.curX,G=I.startY-I.curY,Z=Math.atan2(G,D),P=Math.round(Z*180/Math.PI),P<0&&(P=360-Math.abs(P)),P<=45&&P>=0||P<=360&&P>=315?"left":P>=135&&P<=225?"right":H===!0?P>=35&&P<=135?"up":"down":"vertical"},w=Vt.canGoNext=function(I){var H=!0;return I.infinite||(I.centerMode&&I.currentSlide>=I.slideCount-1||I.slideCount<=I.slidesToShow||I.currentSlide>=I.slideCount-I.slidesToShow)&&(H=!1),H};Vt.extractObject=function(I,H){var D={};return H.forEach(function(G){return D[G]=I[G]}),D},Vt.initializedState=function(I){var H=e.default.Children.count(I.children),D=I.listRef,G=Math.ceil(g(D)),Z=I.trackRef&&I.trackRef.node,P=Math.ceil(g(Z)),re;if(I.vertical)re=G;else{var ce=I.centerMode&&parseInt(I.centerPadding)*2;typeof I.centerPadding=="string"&&I.centerPadding.slice(-1)==="%"&&(ce*=G/100),re=Math.ceil((G-ce)/I.slidesToShow)}var be=D&&j(D.querySelector('[data-index="0"]')),ae=be*I.slidesToShow,ue=I.currentSlide===void 0?I.initialSlide:I.currentSlide;I.rtl&&I.currentSlide===void 0&&(ue=H-1-I.initialSlide);var fe=I.lazyLoadedList||[],pe=m(s(s({},I),{},{currentSlide:ue,lazyLoadedList:fe}));fe=fe.concat(pe);var de={slideCount:H,slideWidth:re,listWidth:G,trackWidth:P,currentSlide:ue,slideHeight:be,listHeight:ae,lazyLoadedList:fe};return I.autoplaying===null&&I.autoplay&&(de.autoplaying="playing"),de},Vt.slideHandler=function(I){var H=I.waitForAnimate,D=I.animating,G=I.fade,Z=I.infinite,P=I.index,re=I.slideCount,ce=I.lazyLoad,be=I.currentSlide,ae=I.centerMode,ue=I.slidesToScroll,fe=I.slidesToShow,pe=I.useCSS,de=I.lazyLoadedList;if(H&&D)return{};var le=P,ne,Se,Ee,qe={},ve={},Ae=Z?P:u(P,0,re-1);if(G){if(!Z&&(P<0||P>=re))return{};P<0?le=P+re:P>=re&&(le=P-re),ce&&de.indexOf(le)<0&&(de=de.concat(le)),qe={animating:!0,currentSlide:le,lazyLoadedList:de,targetSlide:le},ve={animating:!1,targetSlide:le}}else ne=le,le<0?(ne=le+re,Z?re%ue!==0&&(ne=re-re%ue):ne=0):!w(I)&&le>be?le=ne=be:ae&&le>=re?(le=Z?re:re-1,ne=Z?0:re-1):le>=re&&(ne=le-re,Z?re%ue!==0&&(ne=0):ne=re-fe),!Z&&le+fe>=re&&(ne=re-fe),Se=T(s(s({},I),{},{slideIndex:le})),Ee=T(s(s({},I),{},{slideIndex:ne})),Z||(Se===Ee&&(le=ne),Se=Ee),ce&&(de=de.concat(m(s(s({},I),{},{currentSlide:le})))),pe?(qe={animating:!0,currentSlide:ne,trackStyle:$(s(s({},I),{},{left:Se})),lazyLoadedList:de,targetSlide:Ae},ve={animating:!1,currentSlide:ne,trackStyle:B(s(s({},I),{},{left:Ee})),swipeLeft:null,targetSlide:Ae}):qe={currentSlide:ne,trackStyle:B(s(s({},I),{},{left:Ee})),lazyLoadedList:de,targetSlide:Ae};return{state:qe,nextState:ve}},Vt.changeSlide=function(I,H){var D,G,Z,P,re,ce=I.slidesToScroll,be=I.slidesToShow,ae=I.slideCount,ue=I.currentSlide,fe=I.targetSlide,pe=I.lazyLoad,de=I.infinite;if(P=ae%ce!==0,D=P?0:(ae-ue)%ce,H.message==="previous")Z=D===0?ce:be-D,re=ue-Z,pe&&!de&&(G=ue-Z,re=G===-1?ae-1:G),de||(re=fe-ce);else if(H.message==="next")Z=D===0?ce:D,re=ue+Z,pe&&!de&&(re=(ue+ce)%ae+D),de||(re=fe+ce);else if(H.message==="dots")re=H.index*H.slidesToScroll;else if(H.message==="children"){if(re=H.index,de){var le=q(s(s({},I),{},{targetSlide:re}));re>H.currentSlide&&le==="left"?re=re-ae:re<H.currentSlide&&le==="right"&&(re=re+ae)}}else H.message==="index"&&(re=Number(H.index));return re},Vt.keyHandler=function(I,H,D){return I.target.tagName.match("TEXTAREA|INPUT|SELECT")||!H?"":I.keyCode===37?D?"next":"previous":I.keyCode===39?D?"previous":"next":""},Vt.swipeStart=function(I,H,D){return I.target.tagName==="IMG"&&h(I),!H||!D&&I.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:I.touches?I.touches[0].pageX:I.clientX,startY:I.touches?I.touches[0].pageY:I.clientY,curX:I.touches?I.touches[0].pageX:I.clientX,curY:I.touches?I.touches[0].pageY:I.clientY}}},Vt.swipeMove=function(I,H){var D=H.scrolling,G=H.animating,Z=H.vertical,P=H.swipeToSlide,re=H.verticalSwiping,ce=H.rtl,be=H.currentSlide,ae=H.edgeFriction,ue=H.edgeDragged,fe=H.onEdge,pe=H.swiped,de=H.swiping,le=H.slideCount,ne=H.slidesToScroll,Se=H.infinite,Ee=H.touchObject,qe=H.swipeEvent,ve=H.listHeight,Ae=H.listWidth;if(!D){if(G)return h(I);Z&&P&&re&&h(I);var me,Ce={},Me=T(H);Ee.curX=I.touches?I.touches[0].pageX:I.clientX,Ee.curY=I.touches?I.touches[0].pageY:I.clientY,Ee.swipeLength=Math.round(Math.sqrt(Math.pow(Ee.curX-Ee.startX,2)));var He=Math.round(Math.sqrt(Math.pow(Ee.curY-Ee.startY,2)));if(!re&&!de&&He>10)return{scrolling:!0};re&&(Ee.swipeLength=He);var at=(ce?-1:1)*(Ee.curX>Ee.startX?1:-1);re&&(at=Ee.curY>Ee.startY?1:-1);var pt=Math.ceil(le/ne),ge=k(H.touchObject,re),Le=Ee.swipeLength;return Se||(be===0&&(ge==="right"||ge==="down")||be+1>=pt&&(ge==="left"||ge==="up")||!w(H)&&(ge==="left"||ge==="up"))&&(Le=Ee.swipeLength*ae,ue===!1&&fe&&(fe(ge),Ce.edgeDragged=!0)),!pe&&qe&&(qe(ge),Ce.swiped=!0),Z?me=Me+Le*(ve/Ae)*at:ce?me=Me-Le*at:me=Me+Le*at,re&&(me=Me+Le*at),Ce=s(s({},Ce),{},{touchObject:Ee,swipeLeft:me,trackStyle:B(s(s({},H),{},{left:me}))}),Math.abs(Ee.curX-Ee.startX)<Math.abs(Ee.curY-Ee.startY)*.8||Ee.swipeLength>10&&(Ce.swiping=!0,h(I)),Ce}},Vt.swipeEnd=function(I,H){var D=H.dragging,G=H.swipe,Z=H.touchObject,P=H.listWidth,re=H.touchThreshold,ce=H.verticalSwiping,be=H.listHeight,ae=H.swipeToSlide,ue=H.scrolling,fe=H.onSwipe,pe=H.targetSlide,de=H.currentSlide,le=H.infinite;if(!D)return G&&h(I),{};var ne=ce?be/re:P/re,Se=k(Z,ce),Ee={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(ue||!Z.swipeLength)return Ee;if(Z.swipeLength>ne){h(I),fe&&fe(Se);var qe,ve,Ae=le?de:pe;switch(Se){case"left":case"up":ve=Ae+z(H),qe=ae?O(H,ve):ve,Ee.currentDirection=0;break;case"right":case"down":ve=Ae-z(H),qe=ae?O(H,ve):ve,Ee.currentDirection=1;break;default:qe=Ae}Ee.triggerSlideHandler=qe}else{var me=T(H);Ee.trackStyle=$(s(s({},H),{},{left:me}))}return Ee};var E=Vt.getNavigableIndexes=function(I){for(var H=I.infinite?I.slideCount*2:I.slideCount,D=I.infinite?I.slidesToShow*-1:0,G=I.infinite?I.slidesToShow*-1:0,Z=[];D<H;)Z.push(D),D=G+I.slidesToScroll,G+=Math.min(I.slidesToScroll,I.slidesToShow);return Z},O=Vt.checkNavigable=function(I,H){var D=E(I),G=0;if(H>D[D.length-1])H=D[D.length-1];else for(var Z in D){if(H<D[Z]){H=G;break}G=D[Z]}return H},z=Vt.getSlideCount=function(I){var H=I.centerMode?I.slideWidth*Math.floor(I.slidesToShow/2):0;if(I.swipeToSlide){var D,G=I.listRef,Z=G.querySelectorAll&&G.querySelectorAll(".slick-slide")||[];if(Array.from(Z).every(function(ce){if(I.vertical){if(ce.offsetTop+j(ce)/2>I.swipeLeft*-1)return D=ce,!1}else if(ce.offsetLeft-H+g(ce)/2>I.swipeLeft*-1)return D=ce,!1;return!0}),!D)return 0;var P=I.rtl===!0?I.slideCount-I.currentSlide:I.currentSlide,re=Math.abs(D.dataset.index-P)||1;return re}else return I.slidesToScroll},Y=Vt.checkSpecKeys=function(I,H){return H.reduce(function(D,G){return D&&I.hasOwnProperty(G)},!0)?null:console.error("Keys Missing:",I)},B=Vt.getTrackCSS=function(I){Y(I,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var H,D;if(!I.vertical)H=L(I)*I.slideWidth;else{var G=I.unslick?I.slideCount:I.slideCount+2*I.slidesToShow;D=G*I.slideHeight}var Z={opacity:1,transition:"",WebkitTransition:""};if(I.useTransform){var P=I.vertical?"translate3d(0px, "+I.left+"px, 0px)":"translate3d("+I.left+"px, 0px, 0px)",re=I.vertical?"translate3d(0px, "+I.left+"px, 0px)":"translate3d("+I.left+"px, 0px, 0px)",ce=I.vertical?"translateY("+I.left+"px)":"translateX("+I.left+"px)";Z=s(s({},Z),{},{WebkitTransform:P,transform:re,msTransform:ce})}else I.vertical?Z.top=I.left:Z.left=I.left;return I.fade&&(Z={opacity:1}),H&&(Z.width=H),D&&(Z.height=D),window&&!window.addEventListener&&window.attachEvent&&(I.vertical?Z.marginTop=I.left+"px":Z.marginLeft=I.left+"px"),Z},$=Vt.getTrackAnimateCSS=function(I){Y(I,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var H=B(I);return I.useTransform?(H.WebkitTransition="-webkit-transform "+I.speed+"ms "+I.cssEase,H.transition="transform "+I.speed+"ms "+I.cssEase):I.vertical?H.transition="top "+I.speed+"ms "+I.cssEase:H.transition="left "+I.speed+"ms "+I.cssEase,H},T=Vt.getTrackLeft=function(I){if(I.unslick)return 0;Y(I,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var H=I.slideIndex,D=I.trackRef,G=I.infinite,Z=I.centerMode,P=I.slideCount,re=I.slidesToShow,ce=I.slidesToScroll,be=I.slideWidth,ae=I.listWidth,ue=I.variableWidth,fe=I.slideHeight,pe=I.fade,de=I.vertical,le=0,ne,Se,Ee=0;if(pe||I.slideCount===1)return 0;var qe=0;if(G?(qe=-A(I),P%ce!==0&&H+ce>P&&(qe=-(H>P?re-(H-P):P%ce)),Z&&(qe+=parseInt(re/2))):(P%ce!==0&&H+ce>P&&(qe=re-P%ce),Z&&(qe=parseInt(re/2))),le=qe*be,Ee=qe*fe,de?ne=H*fe*-1+Ee:ne=H*be*-1+le,ue===!0){var ve,Ae=D&&D.node;if(ve=H+A(I),Se=Ae&&Ae.childNodes[ve],ne=Se?Se.offsetLeft*-1:0,Z===!0){ve=G?H+A(I):H,Se=Ae&&Ae.children[ve],ne=0;for(var me=0;me<ve;me++)ne-=Ae&&Ae.children[me]&&Ae.children[me].offsetWidth;ne-=parseInt(I.centerPadding),ne+=Se&&(ae-Se.offsetWidth)/2}}return ne},A=Vt.getPreClones=function(I){return I.unslick||!I.infinite?0:I.variableWidth?I.slideCount:I.slidesToShow+(I.centerMode?1:0)},R=Vt.getPostClones=function(I){return I.unslick||!I.infinite?0:I.variableWidth?I.slideCount:I.slidesToShow+(I.centerMode?1:0)},L=Vt.getTotalSlides=function(I){return I.slideCount===1?1:A(I)+I.slideCount+R(I)},q=Vt.siblingDirection=function(I){return I.targetSlide>I.currentSlide?I.targetSlide>I.currentSlide+W(I)?"left":"right":I.targetSlide<I.currentSlide-ee(I)?"right":"left"},W=Vt.slidesOnRight=function(I){var H=I.slidesToShow,D=I.centerMode,G=I.rtl,Z=I.centerPadding;if(D){var P=(H-1)/2+1;return parseInt(Z)>0&&(P+=1),G&&H%2===0&&(P+=1),P}return G?0:H-1},ee=Vt.slidesOnLeft=function(I){var H=I.slidesToShow,D=I.centerMode,G=I.rtl,Z=I.centerPadding;if(D){var P=(H-1)/2+1;return parseInt(Z)>0&&(P+=1),!G&&H%2===0&&(P+=1),P}return G?H-1:0};Vt.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var M=Vt.validSettings=Object.keys(t.default);function V(U){return M.reduce(function(I,H){return U.hasOwnProperty(H)&&(I[H]=U[H]),I},{})}return Vt}var rp={},u4;function MG(){if(u4)return rp;u4=1,Object.defineProperty(rp,"__esModule",{value:!0}),rp.Track=void 0;var e=n(po()),t=n(dy()),r=w0();function n($){return $&&$.__esModule?$:{default:$}}function i($){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},i($)}function s(){return s=Object.assign?Object.assign.bind():function($){for(var T=1;T<arguments.length;T++){var A=arguments[T];for(var R in A)({}).hasOwnProperty.call(A,R)&&($[R]=A[R])}return $},s.apply(null,arguments)}function o($,T){if(!($ instanceof T))throw new TypeError("Cannot call a class as a function")}function l($,T){for(var A=0;A<T.length;A++){var R=T[A];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty($,w(R.key),R)}}function c($,T,A){return T&&l($.prototype,T),Object.defineProperty($,"prototype",{writable:!1}),$}function u($,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(T&&T.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),T&&h($,T)}function h($,T){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,R){return A.__proto__=R,A},h($,T)}function m($){var T=v();return function(){var A,R=y($);if(T){var L=y(this).constructor;A=Reflect.construct(R,arguments,L)}else A=R.apply(this,arguments);return x(this,A)}}function x($,T){if(T&&(i(T)=="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p($)}function p($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function v(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v=function(){return!!$})()}function y($){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)},y($)}function g($,T){var A=Object.keys($);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols($);T&&(R=R.filter(function(L){return Object.getOwnPropertyDescriptor($,L).enumerable})),A.push.apply(A,R)}return A}function j($){for(var T=1;T<arguments.length;T++){var A=arguments[T]!=null?arguments[T]:{};T%2?g(Object(A),!0).forEach(function(R){k($,R,A[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(A)):g(Object(A)).forEach(function(R){Object.defineProperty($,R,Object.getOwnPropertyDescriptor(A,R))})}return $}function k($,T,A){return(T=w(T))in $?Object.defineProperty($,T,{value:A,enumerable:!0,configurable:!0,writable:!0}):$[T]=A,$}function w($){var T=E($,"string");return i(T)=="symbol"?T:T+""}function E($,T){if(i($)!="object"||!$)return $;var A=$[Symbol.toPrimitive];if(A!==void 0){var R=A.call($,T);if(i(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)($)}var O=function(T){var A,R,L,q,W;T.rtl?W=T.slideCount-1-T.index:W=T.index,L=W<0||W>=T.slideCount,T.centerMode?(q=Math.floor(T.slidesToShow/2),R=(W-T.currentSlide)%T.slideCount===0,W>T.currentSlide-q-1&&W<=T.currentSlide+q&&(A=!0)):A=T.currentSlide<=W&&W<T.currentSlide+T.slidesToShow;var ee;T.targetSlide<0?ee=T.targetSlide+T.slideCount:T.targetSlide>=T.slideCount?ee=T.targetSlide-T.slideCount:ee=T.targetSlide;var M=W===ee;return{"slick-slide":!0,"slick-active":A,"slick-center":R,"slick-cloned":L,"slick-current":M}},z=function(T){var A={};return(T.variableWidth===void 0||T.variableWidth===!1)&&(A.width=T.slideWidth),T.fade&&(A.position="relative",T.vertical?A.top=-T.index*parseInt(T.slideHeight):A.left=-T.index*parseInt(T.slideWidth),A.opacity=T.currentSlide===T.index?1:0,A.zIndex=T.currentSlide===T.index?999:998,T.useCSS&&(A.transition="opacity "+T.speed+"ms "+T.cssEase+", visibility "+T.speed+"ms "+T.cssEase)),A},Y=function(T,A){return T.key||A},B=function(T){var A,R=[],L=[],q=[],W=e.default.Children.count(T.children),ee=(0,r.lazyStartIndex)(T),M=(0,r.lazyEndIndex)(T);return e.default.Children.forEach(T.children,function(V,U){var I,H={message:"children",index:U,slidesToScroll:T.slidesToScroll,currentSlide:T.currentSlide};!T.lazyLoad||T.lazyLoad&&T.lazyLoadedList.indexOf(U)>=0?I=V:I=e.default.createElement("div",null);var D=z(j(j({},T),{},{index:U})),G=I.props.className||"",Z=O(j(j({},T),{},{index:U}));if(R.push(e.default.cloneElement(I,{key:"original"+Y(I,U),"data-index":U,className:(0,t.default)(Z,G),tabIndex:"-1","aria-hidden":!Z["slick-active"],style:j(j({outline:"none"},I.props.style||{}),D),onClick:function(ce){I.props&&I.props.onClick&&I.props.onClick(ce),T.focusOnSelect&&T.focusOnSelect(H)}})),T.infinite&&W>1&&T.fade===!1&&!T.unslick){var P=W-U;P<=(0,r.getPreClones)(T)&&(A=-P,A>=ee&&(I=V),Z=O(j(j({},T),{},{index:A})),L.push(e.default.cloneElement(I,{key:"precloned"+Y(I,A),"data-index":A,tabIndex:"-1",className:(0,t.default)(Z,G),"aria-hidden":!Z["slick-active"],style:j(j({},I.props.style||{}),D),onClick:function(ce){I.props&&I.props.onClick&&I.props.onClick(ce),T.focusOnSelect&&T.focusOnSelect(H)}}))),U<(0,r.getPostClones)(T)&&(A=W+U,A<M&&(I=V),Z=O(j(j({},T),{},{index:A})),q.push(e.default.cloneElement(I,{key:"postcloned"+Y(I,A),"data-index":A,tabIndex:"-1",className:(0,t.default)(Z,G),"aria-hidden":!Z["slick-active"],style:j(j({},I.props.style||{}),D),onClick:function(ce){I.props&&I.props.onClick&&I.props.onClick(ce),T.focusOnSelect&&T.focusOnSelect(H)}})))}}),T.rtl?L.concat(R,q).reverse():L.concat(R,q)};return rp.Track=function($){u(A,$);var T=m(A);function A(){var R;o(this,A);for(var L=arguments.length,q=new Array(L),W=0;W<L;W++)q[W]=arguments[W];return R=T.call.apply(T,[this].concat(q)),k(p(R),"node",null),k(p(R),"handleRef",function(ee){R.node=ee}),R}return c(A,[{key:"render",value:function(){var L=B(this.props),q=this.props,W=q.onMouseEnter,ee=q.onMouseOver,M=q.onMouseLeave,V={onMouseEnter:W,onMouseOver:ee,onMouseLeave:M};return e.default.createElement("div",s({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},V),L)}}]),A}(e.default.PureComponent),rp}var np={},d4;function RG(){if(d4)return np;d4=1;function e(O){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},e(O)}Object.defineProperty(np,"__esModule",{value:!0}),np.Dots=void 0;var t=i(po()),r=i(dy()),n=w0();function i(O){return O&&O.__esModule?O:{default:O}}function s(O,z){var Y=Object.keys(O);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(O);z&&(B=B.filter(function($){return Object.getOwnPropertyDescriptor(O,$).enumerable})),Y.push.apply(Y,B)}return Y}function o(O){for(var z=1;z<arguments.length;z++){var Y=arguments[z]!=null?arguments[z]:{};z%2?s(Object(Y),!0).forEach(function(B){l(O,B,Y[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(Y)):s(Object(Y)).forEach(function(B){Object.defineProperty(O,B,Object.getOwnPropertyDescriptor(Y,B))})}return O}function l(O,z,Y){return(z=m(z))in O?Object.defineProperty(O,z,{value:Y,enumerable:!0,configurable:!0,writable:!0}):O[z]=Y,O}function c(O,z){if(!(O instanceof z))throw new TypeError("Cannot call a class as a function")}function u(O,z){for(var Y=0;Y<z.length;Y++){var B=z[Y];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(O,m(B.key),B)}}function h(O,z,Y){return z&&u(O.prototype,z),Object.defineProperty(O,"prototype",{writable:!1}),O}function m(O){var z=x(O,"string");return e(z)=="symbol"?z:z+""}function x(O,z){if(e(O)!="object"||!O)return O;var Y=O[Symbol.toPrimitive];if(Y!==void 0){var B=Y.call(O,z);if(e(B)!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}function p(O,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(z&&z.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),z&&v(O,z)}function v(O,z){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Y,B){return Y.__proto__=B,Y},v(O,z)}function y(O){var z=k();return function(){var Y,B=w(O);if(z){var $=w(this).constructor;Y=Reflect.construct(B,arguments,$)}else Y=B.apply(this,arguments);return g(this,Y)}}function g(O,z){if(z&&(e(z)=="object"||typeof z=="function"))return z;if(z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(O)}function j(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function k(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k=function(){return!!O})()}function w(O){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)},w(O)}var E=function(z){var Y;return z.infinite?Y=Math.ceil(z.slideCount/z.slidesToScroll):Y=Math.ceil((z.slideCount-z.slidesToShow)/z.slidesToScroll)+1,Y};return np.Dots=function(O){p(Y,O);var z=y(Y);function Y(){return c(this,Y),z.apply(this,arguments)}return h(Y,[{key:"clickHandler",value:function($,T){T.preventDefault(),this.props.clickHandler($)}},{key:"render",value:function(){for(var $=this.props,T=$.onMouseEnter,A=$.onMouseOver,R=$.onMouseLeave,L=$.infinite,q=$.slidesToScroll,W=$.slidesToShow,ee=$.slideCount,M=$.currentSlide,V=E({slideCount:ee,slidesToScroll:q,slidesToShow:W,infinite:L}),U={onMouseEnter:T,onMouseOver:A,onMouseLeave:R},I=[],H=0;H<V;H++){var D=(H+1)*q-1,G=L?D:(0,n.clamp)(D,0,ee-1),Z=G-(q-1),P=L?Z:(0,n.clamp)(Z,0,ee-1),re=(0,r.default)({"slick-active":L?M>=P&&M<=G:M===P}),ce={message:"dots",index:H,slidesToScroll:q,currentSlide:M},be=this.clickHandler.bind(this,ce);I=I.concat(t.default.createElement("li",{key:H,className:re},t.default.cloneElement(this.props.customPaging(H),{onClick:be})))}return t.default.cloneElement(this.props.appendDots(I),o({className:this.props.dotsClass},U))}}]),Y}(t.default.PureComponent),np}var Xd={},h4;function zG(){if(h4)return Xd;h4=1;function e(O){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},e(O)}Object.defineProperty(Xd,"__esModule",{value:!0}),Xd.PrevArrow=Xd.NextArrow=void 0;var t=i(po()),r=i(dy()),n=w0();function i(O){return O&&O.__esModule?O:{default:O}}function s(){return s=Object.assign?Object.assign.bind():function(O){for(var z=1;z<arguments.length;z++){var Y=arguments[z];for(var B in Y)({}).hasOwnProperty.call(Y,B)&&(O[B]=Y[B])}return O},s.apply(null,arguments)}function o(O,z){var Y=Object.keys(O);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(O);z&&(B=B.filter(function($){return Object.getOwnPropertyDescriptor(O,$).enumerable})),Y.push.apply(Y,B)}return Y}function l(O){for(var z=1;z<arguments.length;z++){var Y=arguments[z]!=null?arguments[z]:{};z%2?o(Object(Y),!0).forEach(function(B){c(O,B,Y[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(Y)):o(Object(Y)).forEach(function(B){Object.defineProperty(O,B,Object.getOwnPropertyDescriptor(Y,B))})}return O}function c(O,z,Y){return(z=x(z))in O?Object.defineProperty(O,z,{value:Y,enumerable:!0,configurable:!0,writable:!0}):O[z]=Y,O}function u(O,z){if(!(O instanceof z))throw new TypeError("Cannot call a class as a function")}function h(O,z){for(var Y=0;Y<z.length;Y++){var B=z[Y];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(O,x(B.key),B)}}function m(O,z,Y){return z&&h(O.prototype,z),Object.defineProperty(O,"prototype",{writable:!1}),O}function x(O){var z=p(O,"string");return e(z)=="symbol"?z:z+""}function p(O,z){if(e(O)!="object"||!O)return O;var Y=O[Symbol.toPrimitive];if(Y!==void 0){var B=Y.call(O,z);if(e(B)!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}function v(O,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(z&&z.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),z&&y(O,z)}function y(O,z){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Y,B){return Y.__proto__=B,Y},y(O,z)}function g(O){var z=w();return function(){var Y,B=E(O);if(z){var $=E(this).constructor;Y=Reflect.construct(B,arguments,$)}else Y=B.apply(this,arguments);return j(this,Y)}}function j(O,z){if(z&&(e(z)=="object"||typeof z=="function"))return z;if(z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(O)}function k(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function w(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w=function(){return!!O})()}function E(O){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)},E(O)}return Xd.PrevArrow=function(O){v(Y,O);var z=g(Y);function Y(){return u(this,Y),z.apply(this,arguments)}return m(Y,[{key:"clickHandler",value:function($,T){T&&T.preventDefault(),this.props.clickHandler($,T)}},{key:"render",value:function(){var $={"slick-arrow":!0,"slick-prev":!0},T=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&($["slick-disabled"]=!0,T=null);var A={key:"0","data-role":"none",className:(0,r.default)($),style:{display:"block"},onClick:T},R={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},L;return this.props.prevArrow?L=t.default.cloneElement(this.props.prevArrow,l(l({},A),R)):L=t.default.createElement("button",s({key:"0",type:"button"},A)," ","Previous"),L}}]),Y}(t.default.PureComponent),Xd.NextArrow=function(O){v(Y,O);var z=g(Y);function Y(){return u(this,Y),z.apply(this,arguments)}return m(Y,[{key:"clickHandler",value:function($,T){T&&T.preventDefault(),this.props.clickHandler($,T)}},{key:"render",value:function(){var $={"slick-arrow":!0,"slick-next":!0},T=this.clickHandler.bind(this,{message:"next"});(0,n.canGoNext)(this.props)||($["slick-disabled"]=!0,T=null);var A={key:"1","data-role":"none",className:(0,r.default)($),style:{display:"block"},onClick:T},R={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},L;return this.props.nextArrow?L=t.default.cloneElement(this.props.nextArrow,l(l({},A),R)):L=t.default.createElement("button",s({key:"1",type:"button"},A)," ","Next"),L}}]),Y}(t.default.PureComponent),Xd}var mL=function(){if(typeof Map<"u")return Map;function e(t,r){var n=-1;return t.some(function(i,s){return i[0]===r?(n=s,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(r,n){var i=e(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,i=e(n,r);~i&&n.splice(i,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];r.call(n,o[1],o[0])}},t}()}(),x5=typeof window<"u"&&typeof document<"u"&&window.document===document,Jx=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),FG=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Jx):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),$G=2;function BG(e,t){var r=!1,n=!1,i=0;function s(){r&&(r=!1,e()),n&&l()}function o(){FG(s)}function l(){var c=Date.now();if(r){if(c-i<$G)return;n=!0}else r=!0,n=!1,setTimeout(o,t);i=c}return l}var UG=20,qG=["top","right","bottom","left","width","height","size","weight"],HG=typeof MutationObserver<"u",VG=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=BG(this.refresh.bind(this),UG)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!x5||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),HG?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!x5||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,i=qG.some(function(s){return!!~n.indexOf(s)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),pL=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},tm=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||Jx},gL=hy(0,0,0,0);function Zx(e){return parseFloat(e)||0}function f4(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,i){var s=e["border-"+i+"-width"];return n+Zx(s)},0)}function WG(e){for(var t=["top","right","bottom","left"],r={},n=0,i=t;n<i.length;n++){var s=i[n],o=e["padding-"+s];r[s]=Zx(o)}return r}function KG(e){var t=e.getBBox();return hy(0,0,t.width,t.height)}function GG(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return gL;var n=tm(e).getComputedStyle(e),i=WG(n),s=i.left+i.right,o=i.top+i.bottom,l=Zx(n.width),c=Zx(n.height);if(n.boxSizing==="border-box"&&(Math.round(l+s)!==t&&(l-=f4(n,"left","right")+s),Math.round(c+o)!==r&&(c-=f4(n,"top","bottom")+o)),!XG(e)){var u=Math.round(l+s)-t,h=Math.round(c+o)-r;Math.abs(u)!==1&&(l-=u),Math.abs(h)!==1&&(c-=h)}return hy(i.left,i.top,l,c)}var YG=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof tm(e).SVGGraphicsElement}:function(e){return e instanceof tm(e).SVGElement&&typeof e.getBBox=="function"}}();function XG(e){return e===tm(e).document.documentElement}function JG(e){return x5?YG(e)?KG(e):GG(e):gL}function ZG(e){var t=e.x,r=e.y,n=e.width,i=e.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return pL(o,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),o}function hy(e,t,r,n){return{x:e,y:t,width:r,height:n}}var QG=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=hy(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=JG(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),eY=function(){function e(t,r){var n=ZG(r);pL(this,{target:t,contentRect:n})}return e}(),tY=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new mL,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof tm(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)||(r.set(t,new QG(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof tm(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new eY(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),xL=typeof WeakMap<"u"?new WeakMap:new mL,vL=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=VG.getInstance(),n=new tY(t,r,this);xL.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){vL.prototype[e]=function(){var t;return(t=xL.get(this))[e].apply(t,arguments)}});var rY=function(){return typeof Jx.ResizeObserver<"u"?Jx.ResizeObserver:vL}();const nY=Object.freeze(Object.defineProperty({__proto__:null,default:rY},Symbol.toStringTag,{value:"Module"})),aY=eA(nY);var m4;function iY(){if(m4)return tp;m4=1,Object.defineProperty(tp,"__esModule",{value:!0}),tp.InnerSlider=void 0;var e=u(po()),t=u(LG()),r=u(IG()),n=u(dy()),i=w0(),s=MG(),o=RG(),l=zG(),c=u(aY);function u(L){return L&&L.__esModule?L:{default:L}}function h(L){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},h(L)}function m(){return m=Object.assign?Object.assign.bind():function(L){for(var q=1;q<arguments.length;q++){var W=arguments[q];for(var ee in W)({}).hasOwnProperty.call(W,ee)&&(L[ee]=W[ee])}return L},m.apply(null,arguments)}function x(L,q){if(L==null)return{};var W,ee,M=p(L,q);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(L);for(ee=0;ee<V.length;ee++)W=V[ee],q.includes(W)||{}.propertyIsEnumerable.call(L,W)&&(M[W]=L[W])}return M}function p(L,q){if(L==null)return{};var W={};for(var ee in L)if({}.hasOwnProperty.call(L,ee)){if(q.includes(ee))continue;W[ee]=L[ee]}return W}function v(L,q){var W=Object.keys(L);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(L);q&&(ee=ee.filter(function(M){return Object.getOwnPropertyDescriptor(L,M).enumerable})),W.push.apply(W,ee)}return W}function y(L){for(var q=1;q<arguments.length;q++){var W=arguments[q]!=null?arguments[q]:{};q%2?v(Object(W),!0).forEach(function(ee){T(L,ee,W[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(W)):v(Object(W)).forEach(function(ee){Object.defineProperty(L,ee,Object.getOwnPropertyDescriptor(W,ee))})}return L}function g(L,q){if(!(L instanceof q))throw new TypeError("Cannot call a class as a function")}function j(L,q){for(var W=0;W<q.length;W++){var ee=q[W];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(L,A(ee.key),ee)}}function k(L,q,W){return q&&j(L.prototype,q),Object.defineProperty(L,"prototype",{writable:!1}),L}function w(L,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(q&&q.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),Object.defineProperty(L,"prototype",{writable:!1}),q&&E(L,q)}function E(L,q){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(W,ee){return W.__proto__=ee,W},E(L,q)}function O(L){var q=B();return function(){var W,ee=$(L);if(q){var M=$(this).constructor;W=Reflect.construct(ee,arguments,M)}else W=ee.apply(this,arguments);return z(this,W)}}function z(L,q){if(q&&(h(q)=="object"||typeof q=="function"))return q;if(q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y(L)}function Y(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function B(){try{var L=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B=function(){return!!L})()}function $(L){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},$(L)}function T(L,q,W){return(q=A(q))in L?Object.defineProperty(L,q,{value:W,enumerable:!0,configurable:!0,writable:!0}):L[q]=W,L}function A(L){var q=R(L,"string");return h(q)=="symbol"?q:q+""}function R(L,q){if(h(L)!="object"||!L)return L;var W=L[Symbol.toPrimitive];if(W!==void 0){var ee=W.call(L,q);if(h(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)(L)}return tp.InnerSlider=function(L){w(W,L);var q=O(W);function W(ee){var M;g(this,W),M=q.call(this,ee),T(Y(M),"listRefHandler",function(U){return M.list=U}),T(Y(M),"trackRefHandler",function(U){return M.track=U}),T(Y(M),"adaptHeight",function(){if(M.props.adaptiveHeight&&M.list){var U=M.list.querySelector('[data-index="'.concat(M.state.currentSlide,'"]'));M.list.style.height=(0,i.getHeight)(U)+"px"}}),T(Y(M),"componentDidMount",function(){if(M.props.onInit&&M.props.onInit(),M.props.lazyLoad){var U=(0,i.getOnDemandLazySlides)(y(y({},M.props),M.state));U.length>0&&(M.setState(function(H){return{lazyLoadedList:H.lazyLoadedList.concat(U)}}),M.props.onLazyLoad&&M.props.onLazyLoad(U))}var I=y({listRef:M.list,trackRef:M.track},M.props);M.updateState(I,!0,function(){M.adaptHeight(),M.props.autoplay&&M.autoPlay("update")}),M.props.lazyLoad==="progressive"&&(M.lazyLoadTimer=setInterval(M.progressiveLazyLoad,1e3)),M.ro=new c.default(function(){M.state.animating?(M.onWindowResized(!1),M.callbackTimers.push(setTimeout(function(){return M.onWindowResized()},M.props.speed))):M.onWindowResized()}),M.ro.observe(M.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(H){H.onfocus=M.props.pauseOnFocus?M.onSlideFocus:null,H.onblur=M.props.pauseOnFocus?M.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",M.onWindowResized):window.attachEvent("onresize",M.onWindowResized)}),T(Y(M),"componentWillUnmount",function(){M.animationEndCallback&&clearTimeout(M.animationEndCallback),M.lazyLoadTimer&&clearInterval(M.lazyLoadTimer),M.callbackTimers.length&&(M.callbackTimers.forEach(function(U){return clearTimeout(U)}),M.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",M.onWindowResized):window.detachEvent("onresize",M.onWindowResized),M.autoplayTimer&&clearInterval(M.autoplayTimer),M.ro.disconnect()}),T(Y(M),"componentDidUpdate",function(U){if(M.checkImagesLoad(),M.props.onReInit&&M.props.onReInit(),M.props.lazyLoad){var I=(0,i.getOnDemandLazySlides)(y(y({},M.props),M.state));I.length>0&&(M.setState(function(G){return{lazyLoadedList:G.lazyLoadedList.concat(I)}}),M.props.onLazyLoad&&M.props.onLazyLoad(I))}M.adaptHeight();var H=y(y({listRef:M.list,trackRef:M.track},M.props),M.state),D=M.didPropsChange(U);D&&M.updateState(H,D,function(){M.state.currentSlide>=e.default.Children.count(M.props.children)&&M.changeSlide({message:"index",index:e.default.Children.count(M.props.children)-M.props.slidesToShow,currentSlide:M.state.currentSlide}),M.props.autoplay?M.autoPlay("update"):M.pause("paused")})}),T(Y(M),"onWindowResized",function(U){M.debouncedResize&&M.debouncedResize.cancel(),M.debouncedResize=(0,r.default)(function(){return M.resizeWindow(U)},50),M.debouncedResize()}),T(Y(M),"resizeWindow",function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,I=!!(M.track&&M.track.node);if(I){var H=y(y({listRef:M.list,trackRef:M.track},M.props),M.state);M.updateState(H,U,function(){M.props.autoplay?M.autoPlay("update"):M.pause("paused")}),M.setState({animating:!1}),clearTimeout(M.animationEndCallback),delete M.animationEndCallback}}),T(Y(M),"updateState",function(U,I,H){var D=(0,i.initializedState)(U);U=y(y(y({},U),D),{},{slideIndex:D.currentSlide});var G=(0,i.getTrackLeft)(U);U=y(y({},U),{},{left:G});var Z=(0,i.getTrackCSS)(U);(I||e.default.Children.count(M.props.children)!==e.default.Children.count(U.children))&&(D.trackStyle=Z),M.setState(D,H)}),T(Y(M),"ssrInit",function(){if(M.props.variableWidth){var U=0,I=0,H=[],D=(0,i.getPreClones)(y(y(y({},M.props),M.state),{},{slideCount:M.props.children.length})),G=(0,i.getPostClones)(y(y(y({},M.props),M.state),{},{slideCount:M.props.children.length}));M.props.children.forEach(function(Se){H.push(Se.props.style.width),U+=Se.props.style.width});for(var Z=0;Z<D;Z++)I+=H[H.length-1-Z],U+=H[H.length-1-Z];for(var P=0;P<G;P++)U+=H[P];for(var re=0;re<M.state.currentSlide;re++)I+=H[re];var ce={width:U+"px",left:-I+"px"};if(M.props.centerMode){var be="".concat(H[M.state.currentSlide],"px");ce.left="calc(".concat(ce.left," + (100% - ").concat(be,") / 2 ) ")}return{trackStyle:ce}}var ae=e.default.Children.count(M.props.children),ue=y(y(y({},M.props),M.state),{},{slideCount:ae}),fe=(0,i.getPreClones)(ue)+(0,i.getPostClones)(ue)+ae,pe=100/M.props.slidesToShow*fe,de=100/fe,le=-de*((0,i.getPreClones)(ue)+M.state.currentSlide)*pe/100;M.props.centerMode&&(le+=(100-de*pe/100)/2);var ne={width:pe+"%",left:le+"%"};return{slideWidth:de+"%",trackStyle:ne}}),T(Y(M),"checkImagesLoad",function(){var U=M.list&&M.list.querySelectorAll&&M.list.querySelectorAll(".slick-slide img")||[],I=U.length,H=0;Array.prototype.forEach.call(U,function(D){var G=function(){return++H&&H>=I&&M.onWindowResized()};if(!D.onclick)D.onclick=function(){return D.parentNode.focus()};else{var Z=D.onclick;D.onclick=function(P){Z(P),D.parentNode.focus()}}D.onload||(M.props.lazyLoad?D.onload=function(){M.adaptHeight(),M.callbackTimers.push(setTimeout(M.onWindowResized,M.props.speed))}:(D.onload=G,D.onerror=function(){G(),M.props.onLazyLoadError&&M.props.onLazyLoadError()}))})}),T(Y(M),"progressiveLazyLoad",function(){for(var U=[],I=y(y({},M.props),M.state),H=M.state.currentSlide;H<M.state.slideCount+(0,i.getPostClones)(I);H++)if(M.state.lazyLoadedList.indexOf(H)<0){U.push(H);break}for(var D=M.state.currentSlide-1;D>=-(0,i.getPreClones)(I);D--)if(M.state.lazyLoadedList.indexOf(D)<0){U.push(D);break}U.length>0?(M.setState(function(G){return{lazyLoadedList:G.lazyLoadedList.concat(U)}}),M.props.onLazyLoad&&M.props.onLazyLoad(U)):M.lazyLoadTimer&&(clearInterval(M.lazyLoadTimer),delete M.lazyLoadTimer)}),T(Y(M),"slideHandler",function(U){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,H=M.props,D=H.asNavFor,G=H.beforeChange,Z=H.onLazyLoad,P=H.speed,re=H.afterChange,ce=M.state.currentSlide,be=(0,i.slideHandler)(y(y(y({index:U},M.props),M.state),{},{trackRef:M.track,useCSS:M.props.useCSS&&!I})),ae=be.state,ue=be.nextState;if(ae){G&&G(ce,ae.currentSlide);var fe=ae.lazyLoadedList.filter(function(pe){return M.state.lazyLoadedList.indexOf(pe)<0});Z&&fe.length>0&&Z(fe),!M.props.waitForAnimate&&M.animationEndCallback&&(clearTimeout(M.animationEndCallback),re&&re(ce),delete M.animationEndCallback),M.setState(ae,function(){D&&M.asNavForIndex!==U&&(M.asNavForIndex=U,D.innerSlider.slideHandler(U)),ue&&(M.animationEndCallback=setTimeout(function(){var pe=ue.animating,de=x(ue,["animating"]);M.setState(de,function(){M.callbackTimers.push(setTimeout(function(){return M.setState({animating:pe})},10)),re&&re(ae.currentSlide),delete M.animationEndCallback})},P))})}}),T(Y(M),"changeSlide",function(U){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,H=y(y({},M.props),M.state),D=(0,i.changeSlide)(H,U);if(!(D!==0&&!D)&&(I===!0?M.slideHandler(D,I):M.slideHandler(D),M.props.autoplay&&M.autoPlay("update"),M.props.focusOnSelect)){var G=M.list.querySelectorAll(".slick-current");G[0]&&G[0].focus()}}),T(Y(M),"clickHandler",function(U){M.clickable===!1&&(U.stopPropagation(),U.preventDefault()),M.clickable=!0}),T(Y(M),"keyHandler",function(U){var I=(0,i.keyHandler)(U,M.props.accessibility,M.props.rtl);I!==""&&M.changeSlide({message:I})}),T(Y(M),"selectHandler",function(U){M.changeSlide(U)}),T(Y(M),"disableBodyScroll",function(){var U=function(H){H=H||window.event,H.preventDefault&&H.preventDefault(),H.returnValue=!1};window.ontouchmove=U}),T(Y(M),"enableBodyScroll",function(){window.ontouchmove=null}),T(Y(M),"swipeStart",function(U){M.props.verticalSwiping&&M.disableBodyScroll();var I=(0,i.swipeStart)(U,M.props.swipe,M.props.draggable);I!==""&&M.setState(I)}),T(Y(M),"swipeMove",function(U){var I=(0,i.swipeMove)(U,y(y(y({},M.props),M.state),{},{trackRef:M.track,listRef:M.list,slideIndex:M.state.currentSlide}));I&&(I.swiping&&(M.clickable=!1),M.setState(I))}),T(Y(M),"swipeEnd",function(U){var I=(0,i.swipeEnd)(U,y(y(y({},M.props),M.state),{},{trackRef:M.track,listRef:M.list,slideIndex:M.state.currentSlide}));if(I){var H=I.triggerSlideHandler;delete I.triggerSlideHandler,M.setState(I),H!==void 0&&(M.slideHandler(H),M.props.verticalSwiping&&M.enableBodyScroll())}}),T(Y(M),"touchEnd",function(U){M.swipeEnd(U),M.clickable=!0}),T(Y(M),"slickPrev",function(){M.callbackTimers.push(setTimeout(function(){return M.changeSlide({message:"previous"})},0))}),T(Y(M),"slickNext",function(){M.callbackTimers.push(setTimeout(function(){return M.changeSlide({message:"next"})},0))}),T(Y(M),"slickGoTo",function(U){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(U=Number(U),isNaN(U))return"";M.callbackTimers.push(setTimeout(function(){return M.changeSlide({message:"index",index:U,currentSlide:M.state.currentSlide},I)},0))}),T(Y(M),"play",function(){var U;if(M.props.rtl)U=M.state.currentSlide-M.props.slidesToScroll;else if((0,i.canGoNext)(y(y({},M.props),M.state)))U=M.state.currentSlide+M.props.slidesToScroll;else return!1;M.slideHandler(U)}),T(Y(M),"autoPlay",function(U){M.autoplayTimer&&clearInterval(M.autoplayTimer);var I=M.state.autoplaying;if(U==="update"){if(I==="hovered"||I==="focused"||I==="paused")return}else if(U==="leave"){if(I==="paused"||I==="focused")return}else if(U==="blur"&&(I==="paused"||I==="hovered"))return;M.autoplayTimer=setInterval(M.play,M.props.autoplaySpeed+50),M.setState({autoplaying:"playing"})}),T(Y(M),"pause",function(U){M.autoplayTimer&&(clearInterval(M.autoplayTimer),M.autoplayTimer=null);var I=M.state.autoplaying;U==="paused"?M.setState({autoplaying:"paused"}):U==="focused"?(I==="hovered"||I==="playing")&&M.setState({autoplaying:"focused"}):I==="playing"&&M.setState({autoplaying:"hovered"})}),T(Y(M),"onDotsOver",function(){return M.props.autoplay&&M.pause("hovered")}),T(Y(M),"onDotsLeave",function(){return M.props.autoplay&&M.state.autoplaying==="hovered"&&M.autoPlay("leave")}),T(Y(M),"onTrackOver",function(){return M.props.autoplay&&M.pause("hovered")}),T(Y(M),"onTrackLeave",function(){return M.props.autoplay&&M.state.autoplaying==="hovered"&&M.autoPlay("leave")}),T(Y(M),"onSlideFocus",function(){return M.props.autoplay&&M.pause("focused")}),T(Y(M),"onSlideBlur",function(){return M.props.autoplay&&M.state.autoplaying==="focused"&&M.autoPlay("blur")}),T(Y(M),"render",function(){var U=(0,n.default)("slick-slider",M.props.className,{"slick-vertical":M.props.vertical,"slick-initialized":!0}),I=y(y({},M.props),M.state),H=(0,i.extractObject)(I,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),D=M.props.pauseOnHover;H=y(y({},H),{},{onMouseEnter:D?M.onTrackOver:null,onMouseLeave:D?M.onTrackLeave:null,onMouseOver:D?M.onTrackOver:null,focusOnSelect:M.props.focusOnSelect&&M.clickable?M.selectHandler:null});var G;if(M.props.dots===!0&&M.state.slideCount>=M.props.slidesToShow){var Z=(0,i.extractObject)(I,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),P=M.props.pauseOnDotsHover;Z=y(y({},Z),{},{clickHandler:M.changeSlide,onMouseEnter:P?M.onDotsLeave:null,onMouseOver:P?M.onDotsOver:null,onMouseLeave:P?M.onDotsLeave:null}),G=e.default.createElement(o.Dots,Z)}var re,ce,be=(0,i.extractObject)(I,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);be.clickHandler=M.changeSlide,M.props.arrows&&(re=e.default.createElement(l.PrevArrow,be),ce=e.default.createElement(l.NextArrow,be));var ae=null;M.props.vertical&&(ae={height:M.state.listHeight});var ue=null;M.props.vertical===!1?M.props.centerMode===!0&&(ue={padding:"0px "+M.props.centerPadding}):M.props.centerMode===!0&&(ue={padding:M.props.centerPadding+" 0px"});var fe=y(y({},ae),ue),pe=M.props.touchMove,de={className:"slick-list",style:fe,onClick:M.clickHandler,onMouseDown:pe?M.swipeStart:null,onMouseMove:M.state.dragging&&pe?M.swipeMove:null,onMouseUp:pe?M.swipeEnd:null,onMouseLeave:M.state.dragging&&pe?M.swipeEnd:null,onTouchStart:pe?M.swipeStart:null,onTouchMove:M.state.dragging&&pe?M.swipeMove:null,onTouchEnd:pe?M.touchEnd:null,onTouchCancel:M.state.dragging&&pe?M.swipeEnd:null,onKeyDown:M.props.accessibility?M.keyHandler:null},le={className:U,dir:"ltr",style:M.props.style};return M.props.unslick&&(de={className:"slick-list"},le={className:U,style:M.props.style}),e.default.createElement("div",le,M.props.unslick?"":re,e.default.createElement("div",m({ref:M.listRefHandler},de),e.default.createElement(s.Track,m({ref:M.trackRefHandler},H),M.props.children)),M.props.unslick?"":ce,M.props.unslick?"":G)}),M.list=null,M.track=null,M.state=y(y({},t.default),{},{currentSlide:M.props.initialSlide,targetSlide:M.props.initialSlide?M.props.initialSlide:0,slideCount:e.default.Children.count(M.props.children)}),M.callbackTimers=[],M.clickable=!0,M.debouncedResize=null;var V=M.ssrInit();return M.state=y(y({},M.state),V),M}return k(W,[{key:"didPropsChange",value:function(M){for(var V=!1,U=0,I=Object.keys(this.props);U<I.length;U++){var H=I[U];if(!M.hasOwnProperty(H)){V=!0;break}if(!(h(M[H])==="object"||typeof M[H]=="function"||isNaN(M[H]))&&M[H]!==this.props[H]){V=!0;break}}return V||e.default.Children.count(this.props.children)!==e.default.Children.count(M.children)}}]),W}(e.default.Component),tp}var k1,p4;function sY(){if(p4)return k1;p4=1;var e=function(t){return t.replace(/[A-Z]/g,function(r){return"-"+r.toLowerCase()}).toLowerCase()};return k1=e,k1}var C1,g4;function oY(){if(g4)return C1;g4=1;var e=sY(),t=function(i){var s=/[height|width]$/;return s.test(i)},r=function(i){var s="",o=Object.keys(i);return o.forEach(function(l,c){var u=i[l];l=e(l),t(l)&&typeof u=="number"&&(u=u+"px"),u===!0?s+=l:u===!1?s+="not "+l:s+="("+l+": "+u+")",c<o.length-1&&(s+=" and ")}),s},n=function(i){var s="";return typeof i=="string"?i:i instanceof Array?(i.forEach(function(o,l){s+=r(o),l<i.length-1&&(s+=", ")}),s):r(i)};return C1=n,C1}var x4;function lY(){return x4||(x4=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(po()),r=iY(),n=o(oY()),i=o(fL()),s=w0();function o(B){return B&&B.__esModule?B:{default:B}}function l(B){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},l(B)}function c(){return c=Object.assign?Object.assign.bind():function(B){for(var $=1;$<arguments.length;$++){var T=arguments[$];for(var A in T)({}).hasOwnProperty.call(T,A)&&(B[A]=T[A])}return B},c.apply(null,arguments)}function u(B,$){var T=Object.keys(B);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(B);$&&(A=A.filter(function(R){return Object.getOwnPropertyDescriptor(B,R).enumerable})),T.push.apply(T,A)}return T}function h(B){for(var $=1;$<arguments.length;$++){var T=arguments[$]!=null?arguments[$]:{};$%2?u(Object(T),!0).forEach(function(A){O(B,A,T[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(T)):u(Object(T)).forEach(function(A){Object.defineProperty(B,A,Object.getOwnPropertyDescriptor(T,A))})}return B}function m(B,$){if(!(B instanceof $))throw new TypeError("Cannot call a class as a function")}function x(B,$){for(var T=0;T<$.length;T++){var A=$[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(B,z(A.key),A)}}function p(B,$,T){return $&&x(B.prototype,$),Object.defineProperty(B,"prototype",{writable:!1}),B}function v(B,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create($&&$.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),$&&y(B,$)}function y(B,$){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,A){return T.__proto__=A,T},y(B,$)}function g(B){var $=w();return function(){var T,A=E(B);if($){var R=E(this).constructor;T=Reflect.construct(A,arguments,R)}else T=A.apply(this,arguments);return j(this,T)}}function j(B,$){if($&&(l($)=="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(B)}function k(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}function w(){try{var B=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w=function(){return!!B})()}function E(B){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},E(B)}function O(B,$,T){return($=z($))in B?Object.defineProperty(B,$,{value:T,enumerable:!0,configurable:!0,writable:!0}):B[$]=T,B}function z(B){var $=Y(B,"string");return l($)=="symbol"?$:$+""}function Y(B,$){if(l(B)!="object"||!B)return B;var T=B[Symbol.toPrimitive];if(T!==void 0){var A=T.call(B,$);if(l(A)!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(B)}e.default=function(B){v(T,B);var $=g(T);function T(A){var R;return m(this,T),R=$.call(this,A),O(k(R),"innerSliderRefHandler",function(L){return R.innerSlider=L}),O(k(R),"slickPrev",function(){return R.innerSlider.slickPrev()}),O(k(R),"slickNext",function(){return R.innerSlider.slickNext()}),O(k(R),"slickGoTo",function(L){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return R.innerSlider.slickGoTo(L,q)}),O(k(R),"slickPause",function(){return R.innerSlider.pause("paused")}),O(k(R),"slickPlay",function(){return R.innerSlider.autoPlay("play")}),R.state={breakpoint:null},R._responsiveMediaHandlers=[],R}return p(T,[{key:"media",value:function(R,L){var q=window.matchMedia(R),W=function(M){var V=M.matches;V&&L()};q.addListener(W),this._responsiveMediaHandlers.push({mql:q,query:R,listener:W})}},{key:"componentDidMount",value:function(){var R=this;if(this.props.responsive){var L=this.props.responsive.map(function(W){return W.breakpoint});L.sort(function(W,ee){return W-ee}),L.forEach(function(W,ee){var M;ee===0?M=(0,n.default)({minWidth:0,maxWidth:W}):M=(0,n.default)({minWidth:L[ee-1]+1,maxWidth:W}),(0,s.canUseDOM)()&&R.media(M,function(){R.setState({breakpoint:W})})});var q=(0,n.default)({minWidth:L.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(q,function(){R.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(R){R.mql.removeListener(R.listener)})}},{key:"render",value:function(){var R=this,L,q;this.state.breakpoint?(q=this.props.responsive.filter(function(Z){return Z.breakpoint===R.state.breakpoint}),L=q[0].settings==="unslick"?"unslick":h(h(h({},i.default),this.props),q[0].settings)):L=h(h({},i.default),this.props),L.centerMode&&(L.slidesToScroll>1,L.slidesToScroll=1),L.fade&&(L.slidesToShow>1,L.slidesToScroll>1,L.slidesToShow=1,L.slidesToScroll=1);var W=t.default.Children.toArray(this.props.children);W=W.filter(function(Z){return typeof Z=="string"?!!Z.trim():!!Z}),L.variableWidth&&(L.rows>1||L.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),L.variableWidth=!1);for(var ee=[],M=null,V=0;V<W.length;V+=L.rows*L.slidesPerRow){for(var U=[],I=V;I<V+L.rows*L.slidesPerRow;I+=L.slidesPerRow){for(var H=[],D=I;D<I+L.slidesPerRow&&(L.variableWidth&&W[D].props.style&&(M=W[D].props.style.width),!(D>=W.length));D+=1)H.push(t.default.cloneElement(W[D],{key:100*V+10*I+D,tabIndex:-1,style:{width:"".concat(100/L.slidesPerRow,"%"),display:"inline-block"}}));U.push(t.default.createElement("div",{key:10*V+I},H))}L.variableWidth?ee.push(t.default.createElement("div",{key:V,style:{width:M}},U)):ee.push(t.default.createElement("div",{key:V},U))}if(L==="unslick"){var G="regular slider "+(this.props.className||"");return t.default.createElement("div",{className:G},W)}else ee.length<=L.slidesToShow&&(L.unslick=!0);return t.default.createElement(r.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(L)),ee)}}]),T}(t.default.Component)}(w1)),w1}var v4;function cY(){return v4||(v4=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(lY());function r(n){return n&&n.__esModule?n:{default:n}}e.default=t.default}(b1)),b1}var uY=cY();const yL=Wo(uY);function dY(e){return Ko({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 19H15V21H2V19H3V4C3 3.44772 3.44772 3 4 3H13C13.5523 3 14 3.44772 14 4V12H16C17.1046 12 18 12.8954 18 14V18C18 18.5523 18.4477 19 19 19C19.5523 19 20 18.5523 20 18V11H18C17.4477 11 17 10.5523 17 10V6.41421L15.3431 4.75736L16.7574 3.34315L21.7071 8.29289C21.9024 8.48816 22 8.74408 22 9V18C22 19.6569 20.6569 21 19 21C17.3431 21 16 19.6569 16 18V14H14V19ZM5 19H12V13H5V19ZM5 5V11H12V5H5Z"},child:[]}]})(e)}function gN(e){return Ko({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 6.59375 6 C 5.257813 6 4.023438 6.667969 3.28125 7.78125 L 0.5 11.9375 C 0.171875 12.429688 0 13 0 13.59375 L 0 20.21875 C 0 21.132813 0.613281 21.933594 1.5 22.15625 L 4.09375 22.8125 C 4.46875 24.628906 6.078125 26 8 26 C 9.851563 26 11.398438 24.71875 11.84375 23 L 21.15625 23 C 21.601563 24.71875 23.148438 26 25 26 C 26.851563 26 28.398438 24.71875 28.84375 23 L 30 23 C 31.09375 23 32 22.09375 32 21 L 32 17.34375 C 32 15.511719 30.746094 13.910156 28.96875 13.46875 L 23.5625 12.09375 L 19.65625 7.4375 C 18.894531 6.527344 17.78125 6 16.59375 6 Z M 6.59375 8 L 11 8 L 11 12 L 2.875 12 L 4.9375 8.90625 L 4.9375 8.875 C 5.308594 8.316406 5.921875 8 6.59375 8 Z M 13 8 L 16.59375 8 C 17.1875 8 17.746094 8.261719 18.125 8.71875 L 20.875 12 L 13 12 Z M 2 14 L 22.875 14 L 28.5 15.40625 C 29.394531 15.628906 30 16.421875 30 17.34375 L 30 21 L 28.84375 21 C 28.398438 19.28125 26.851563 18 25 18 C 23.148438 18 21.601563 19.28125 21.15625 21 L 11.84375 21 C 11.398438 19.28125 9.851563 18 8 18 C 6.226563 18 4.738281 19.171875 4.21875 20.78125 L 2 20.21875 Z M 8 20 C 9.117188 20 10 20.882813 10 22 C 10 23.117188 9.117188 24 8 24 C 6.882813 24 6 23.117188 6 22 C 6 20.882813 6.882813 20 8 20 Z M 25 20 C 26.117188 20 27 20.882813 27 22 C 27 23.117188 26.117188 24 25 24 C 23.882813 24 23 23.117188 23 22 C 23 20.882813 23.882813 20 25 20 Z"},child:[]}]})(e)}const hY=3,fY=()=>{const e=kn(),[t,r]=_.useState([]);async function n(){try{const i=await dL(hY);r(i)}catch(i){console.error("Error fetching cars:",i)}}return _.useEffect(()=>{n()},[]),a.jsx(Ie.div,{id:"car-not-found",className:"min-h-screen flex items-center justify-center bg-gray-50 px-6 py-20",initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.4},role:"status","aria-live":"polite",children:a.jsx("div",{className:"max-w-4xl w-full",children:a.jsxs("div",{className:"relative bg-white/80 backdrop-blur-md rounded-3xl shadow-xl border border-white/20 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-theme-50/50 via-white/50 to-theme-100/50"}),a.jsxs("div",{className:"relative z-10 p-8 md:p-12 text-center",children:[a.jsxs("div",{className:"mx-auto w-24 h-24 mb-8 relative",children:[a.jsx("div",{className:"w-full h-full rounded-full bg-gradient-to-r from-theme-500 to-theme-600 flex items-center justify-center shadow-lg",children:a.jsx(bk,{className:"w-10 h-10 text-white"})}),a.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-theme-400 rounded-full animate-pulse"}),a.jsx("div",{className:"absolute -bottom-1 -left-1 w-4 h-4 bg-theme-300 rounded-full animate-pulse delay-150"})]}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Maina nu a fost gsit"}),a.jsx("p",{className:"text-gray-600 text-lg mb-8 leading-relaxed max-w-lg mx-auto",children:"Ne pare ru  nu am gsit o main cu acel ID. Poi reveni la lista complet de maini sau ncerca una din sugestiile de mai jos."}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-8",children:[a.jsxs(Bo,{to:"/cars",className:"px-8 py-4 bg-gradient-to-r from-theme-500 to-theme-600 hover:from-theme-600 hover:to-theme-700 text-white font-semibold rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2",children:[a.jsx(bk,{className:"w-5 h-5"}),"Vezi toate mainile"]}),a.jsx("button",{onClick:()=>e(-1),className:"px-8 py-4 border-2 border-theme-500 text-theme-500 hover:bg-theme-500 hover:text-white font-semibold rounded-2xl transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105",children:"napoi"}),a.jsx(Bo,{to:"/contact",className:"px-8 py-4 border-2 border-gray-300 text-gray-700 hover:bg-gray-100 hover:border-gray-400 font-semibold rounded-2xl transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105",children:"Contacteaz-ne"})]}),t&&t.length>0&&a.jsxs("div",{className:"mt-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Poate te intereseaz"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:t.map(i=>a.jsx(Ie.div,{whileHover:{scale:1.02},transition:{type:"spring",stiffness:300,damping:20},children:a.jsxs(Bo,{to:`/cars/${i.id}`,className:"flex flex-col sm:flex-row items-center sm:items-start gap-4 p-4 rounded-2xl border border-gray-200 hover:shadow-xl hover:border-theme-300 transition-all duration-300 bg-white/60 backdrop-blur-sm",children:[a.jsx("div",{className:"relative",children:a.jsx("img",{src:i.image_url||"",alt:i.make+" "+i.model,className:"w-20 h-16 object-cover rounded-xl flex-shrink-0 shadow-sm"})}),a.jsxs("div",{className:"text-left sm:flex-1",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 truncate mb-1",children:i.make+" "+i.model}),a.jsx("div",{className:"text-xs text-gray-500 mb-2",children:i.year}),a.jsx("div",{className:"text-sm text-theme-600 font-bold",children:i.price_per_day?`${i.price_per_day}  / zi`:"Contacteaz-ne"})]})]})},i.id))})]})]})]})})})},mY="modulepreload",pY=function(e){return"/"+e},y4={},ii=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=pY(c),c in y4)return;y4[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":mY,u||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((x,p)=>{m.addEventListener("load",x),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};async function fy(e){try{const t=typeof e=="number"?e:parseInt(e.toString(),10),{data:r,error:n}=await qt.from("Rentals").select("id").eq("car_id",t).eq("rental_status","ACTIVE");if(n){console.error("Error checking active rentals for car:",n);return}const i=r&&r.length>0?"booked":"available",{error:s}=await ho.from("Cars").update({status:i,updated_at:new Date().toISOString()}).eq("id",t);s&&console.error("Error updating car status:",s)}catch(t){console.error("Error in updateCarStatusBasedOnRentals:",t)}}async function xN(){try{const{data:e,error:t}=await qt.from("BorrowRequest").select("*").order("requested_at",{ascending:!1});if(t||!e||e.length===0)try{const{supabaseAdmin:r}=await ii(async()=>{const{supabaseAdmin:i}=await Promise.resolve().then(()=>ld);return{supabaseAdmin:i}},[]),n=await r.from("BorrowRequest").select("*").order("requested_at",{ascending:!1});if(n.error)return[];if(n.data&&n.data.length>0)return n.data.map(i=>({id:i.id.toString(),user_id:i.user_id,car_id:i.car_id.toString(),start_date:i.start_date,start_time:i.start_time||"09:00:00",end_date:i.end_date,end_time:i.end_time||"17:00:00",status:i.status||"PENDING",created_at:i.requested_at||i.created_at,updated_at:i.updated_at,customer_name:i.customer_name,customer_first_name:i.customer_first_name,customer_last_name:i.customer_last_name,customer_email:i.customer_email,customer_phone:i.customer_phone,customer_age:i.customer_age,comment:i.comment,options:i.options||{},total_amount:i.total_amount,user:{id:i.user_id,email:i.customer_email||"",user_metadata:{first_name:i.customer_first_name,last_name:i.customer_last_name,full_name:i.customer_name}}}))}catch{}return t?(console.error("Error fetching borrow requests:",t),[]):(e||[]).map(r=>({id:r.id.toString(),user_id:r.user_id,car_id:r.car_id.toString(),start_date:r.start_date,start_time:r.start_time||"09:00:00",end_date:r.end_date,end_time:r.end_time||"17:00:00",status:r.status||"PENDING",created_at:r.requested_at||r.created_at,updated_at:r.updated_at,customer_name:r.customer_name,customer_first_name:r.customer_first_name,customer_last_name:r.customer_last_name,customer_email:r.customer_email,customer_phone:r.customer_phone,customer_age:r.customer_age,comment:r.comment,options:r.options||{},total_amount:r.total_amount,user:{id:r.user_id,email:r.customer_email||"",user_metadata:{first_name:r.customer_first_name,last_name:r.customer_last_name,full_name:r.customer_name}}}))}catch(e){return console.error("Error in fetchBorrowRequests:",e),[]}}async function my(){try{const{data:e,error:t}=await qt.from("Rentals").select("*").order("created_at",{ascending:!1});return t?(console.error("Error fetching rentals:",t),[]):(e||[]).map(r=>({...r,status:r.rental_status||r.status,user:{id:r.user_id,email:"",user_metadata:{}}}))}catch(e){return console.error("Error in fetchRentals:",e),[]}}async function vN(e){const t=new Map;if(e.length===0)return t;try{const{data:r,error:n}=await qt.from("Profiles").select("id, email, first_name, last_name, phone_number").in("id",e);!n&&r&&r.forEach(i=>{t.set(i.id,{email:i.email||"",firstName:i.first_name,lastName:i.last_name,phone:i.phone_number||""})})}catch(r){console.debug("Profiles table not available or error fetching:",r)}return t}function Qx(e){const t=new Date,r=[{firstName:"Ion",lastName:"Popescu",name:"Ion Popescu",email:"ion.popescu@example.com",phone:"+373 123 456 789",age:28},{firstName:"Maria",lastName:"Ionescu",name:"Maria Ionescu",email:"maria.ionescu@example.com",phone:"+373 234 567 890",age:35},{firstName:"Gheorghe",lastName:"Radu",name:"Gheorghe Radu",email:"gheorghe.radu@example.com",phone:"+373 345 678 901",age:42},{firstName:"Elena",lastName:"Stan",name:"Elena Stan",email:"elena.stan@example.com",phone:"+373 456 789 012",age:29},{firstName:"Nicolae",lastName:"Dumitru",name:"Nicolae Dumitru",email:"nicolae.dumitru@example.com",phone:"+373 567 890 123",age:31},{firstName:"Ana",lastName:"Constantinescu",name:"Ana Constantinescu",email:"ana.constantinescu@example.com",phone:"+373 678 901 234",age:26},{firstName:"Alexandru",lastName:"Munteanu",name:"Alexandru Munteanu",email:"alexandru.munteanu@example.com",phone:"+373 789 012 345",age:38},{firstName:"Natalia",lastName:"Nistor",name:"Natalia Nistor",email:"natalia.nistor@example.com",phone:"+373 890 123 456",age:33}],n=[];for(let i=0;i<5;i++){const s=e[i%e.length],o=r[i%r.length],l=i*2,c=new Date(t);c.setDate(c.getDate()-l);const u=new Date(t);u.setDate(u.getDate()+(i+1)*3);const h=new Date(u);h.setDate(h.getDate()+i%3+2);const m=["PENDING","APPROVED","REJECTED","PENDING","APPROVED"],x=[{unlimitedKm:!0,speedLimitIncrease:!0},{pickupAtAddress:!0,returnAtAddress:!0,personalDriver:!0},{unlimitedKm:!0,tireInsurance:!0,childSeat:!0},{priorityService:!0,simCard:!0,roadsideAssistance:!0},{pickupAtAddress:!0,unlimitedKm:!0,personalDriver:!0,tireInsurance:!0}];n.push({id:`req-${Date.now()}-${i}`,type:"request",customerName:o.name,customerEmail:o.email,customerPhone:o.phone,customerFirstName:o.firstName,customerLastName:o.lastName,customerAge:o.age,carName:(s==null?void 0:s.name)||`${s.make||""} ${s.model||""}`.trim(),avatar:(s==null?void 0:s.image)||s.image_url||"",pickupDate:u.toISOString().split("T")[0],pickupTime:["08:00","09:30","10:00","11:00","14:00"][i],returnDate:h.toISOString().split("T")[0],returnTime:["17:00","18:30","19:00","20:00","21:00"][i],status:m[i],total_amount:"0",amount:0,createdAt:c.toISOString(),carId:s.id.toString(),userId:`user-${i+1}`,options:x[i%x.length]})}for(let i=0;i<8;i++){const s=e[(i+2)%e.length],o=r[(i+3)%r.length],l=i*1.5,c=new Date(t);c.setDate(c.getDate()-Math.floor(l));const u=new Date(t);u.setDate(u.getDate()-i%4);const h=new Date(u);h.setDate(h.getDate()+i%5+3);const m=Math.ceil((h.getTime()-u.getTime())/(1e3*60*60*24)),x=((s==null?void 0:s.pricePerDay)||s.price_per_day||0)*m,p=["ACTIVE","COMPLETED","ACTIVE","COMPLETED","COMPLETED","ACTIVE","COMPLETED","CANCELLED"];n.push({id:`rental-${Date.now()}-${i}`,type:"rental",customerName:o.name,customerEmail:o.email,customerPhone:o.phone,customerFirstName:o.firstName,customerLastName:o.lastName,customerAge:o.age,carName:(s==null?void 0:s.name)||`${s.make||""} ${s.model||""}`.trim(),avatar:(s==null?void 0:s.image)||s.image_url||"",pickupDate:u.toISOString().split("T")[0],pickupTime:["08:00","09:00","10:30","11:00","12:00","13:00","14:30","15:00"][i],returnDate:h.toISOString().split("T")[0],returnTime:["17:00","18:00","19:30","20:00","21:00","22:00","23:30","00:00"][i],status:p[i],total_amount:x.toString(),amount:x,createdAt:c.toISOString(),carId:s.id.toString(),userId:`user-${i+10}`})}return n.sort((i,s)=>{const o=i.createdAt?new Date(i.createdAt).getTime():0;return(s.createdAt?new Date(s.createdAt).getTime():0)-o})}async function yN(e){try{const t=await my();if(t.length===0)return[];const r=new Set;t.forEach(u=>r.add(u.user_id));const n=await vN(Array.from(r)),i=[],s=new Set;t.forEach(u=>{const h=u.request_id;h&&s.add(typeof h=="number"?h:parseInt(h))});const o=new Map,l=new Map;if(s.size>0)try{const{data:u,error:h}=await qt.from("BorrowRequest").select("id, customer_name, customer_email, customer_phone, customer_first_name, customer_last_name, options").in("id",Array.from(s));!h&&u&&u.forEach(m=>{o.set(m.id,{name:m.customer_name||"",email:m.customer_email||"",phone:m.customer_phone||"",firstName:m.customer_first_name,lastName:m.customer_last_name}),m.options&&l.set(m.id,m.options)})}catch(u){console.debug("Error fetching customer info from requests:",u)}const c=await Promise.all(t.map(async u=>{var A,R;const h=typeof u.car_id=="number"?u.car_id:parseInt(u.car_id);let m=e.find(L=>{var q;return L.id===h||L.id.toString()===((q=u.car_id)==null?void 0:q.toString())});if(!m&&u.car_id)try{const{data:L,error:q}=await qt.from("Cars").select("*").eq("id",h).single();if(!q&&L&&(m={id:L.id,make:L.make,model:L.model,name:L.name||void 0,year:L.year||new Date().getFullYear(),price_per_day:L.price_per_day,discount_percentage:L.discount_percentage||void 0,category:L.category||void 0,image_url:L.image_url||void 0,photo_gallery:L.photo_gallery||void 0,seats:L.seats||void 0,transmission:L.transmission||void 0,body:L.body||void 0,fuel_type:L.fuel_type||void 0,features:L.features||void 0,rating:L.rating||void 0,reviews:L.reviews||void 0,status:L.status||void 0,drivetrain:L.drivetrain||void 0},m)){const W=m.name||`${m.make} ${m.model}`,{mainImage:ee,photoGallery:M}=await Tn(W);m.image_url=ee||m.image_url,m.photo_gallery=M.length>0?M:m.photo_gallery}}catch(L){console.error(`Error fetching car ${h} from database:`,L)}const x=u.request_id,p=x?o.get(typeof x=="number"?x:parseInt(x)):null;let v="",y="",g="",j="",k="";if(p)v=p.email,y=p.phone,g=p.firstName||"",j=p.lastName||"",k=p.name||(g&&j?`${g} ${j}`:g||j||v.split("@")[0]||"Unknown");else{const L=n.get(u.user_id);v=(L==null?void 0:L.email)||((A=u.user)==null?void 0:A.email)||"",y=(L==null?void 0:L.phone)||"",g=(L==null?void 0:L.firstName)||"",j=(L==null?void 0:L.lastName)||"",k=g&&j?`${g} ${j}`:g||j?`${g}${j}`:(v?v.split("@")[0]:"")||`User ${u.user_id.slice(0,8)}`}const w=new Date(u.start_date||new Date),E=new Date(u.end_date||new Date),O=Math.ceil((E.getTime()-w.getTime())/(1e3*60*60*24))||1,z=u.total_amount||(m?((m==null?void 0:m.pricePerDay)||m.price_per_day||0)*O:0),Y=L=>L?typeof L=="string"?L.match(/^\d{4}-\d{2}-\d{2}/)?L.split("T")[0]:new Date(L).toISOString().split("T")[0]:new Date(L).toISOString().split("T")[0]:"",B=u.request_id,$=u.features;let T;if(B&&l.has(typeof B=="number"?B:parseInt(B)))T=l.get(typeof B=="number"?B:parseInt(B));else if($)if(Array.isArray($))T={},$.forEach(L=>{const q=L.toLowerCase();q.includes("unlimited")||q.includes("kilometraj")?T.unlimitedKm=!0:q.includes("speed")||q.includes("vitez")?T.speedLimitIncrease=!0:q.includes("tire")||q.includes("anvelope")||q.includes("parbriz")?T.tireInsurance=!0:q.includes("driver")||q.includes("ofer")?T.personalDriver=!0:q.includes("priority")?T.priorityService=!0:q.includes("child")||q.includes("copil")||q.includes("scaun")?T.childSeat=!0:q.includes("sim")||q.includes("card")?T.simCard=!0:(q.includes("roadside")||q.includes("asisten")||q.includes("rutier"))&&(T.roadsideAssistance=!0)});else if(typeof $=="string")try{T=JSON.parse($)}catch{T={}}else T=$;return{id:u.id,type:"rental",customerName:k,customerEmail:v,customerPhone:y||"",customerFirstName:g||void 0,customerLastName:j||void 0,carName:(m==null?void 0:m.name)||`${(m==null?void 0:m.make)||""} ${(m==null?void 0:m.model)||""}`.trim()||"Unknown Car",avatar:(m==null?void 0:m.image_url)||(m==null?void 0:m.image)||"",pickupDate:Y(u.start_date),pickupTime:u.start_time||"09:00",returnDate:Y(u.end_date),returnTime:u.end_time||"17:00",status:u.rental_status||u.rental_status||"CONTRACT",total_amount:z.toString(),amount:z,createdAt:u.created_at||new Date().toISOString(),carId:((R=u.car_id)==null?void 0:R.toString())||"",userId:u.user_id||"",contract_url:u.contract_url||void 0,features:$,options:T,request_id:u.request_id||void 0}}));return i.push(...c),i.sort((u,h)=>{const m=u.createdAt?new Date(u.createdAt).getTime():0;return(h.createdAt?new Date(h.createdAt).getTime():0)-m})}catch(t){return console.error("Error in fetchRentalsOnly:",t),[]}}async function xx(e){try{const[t,r]=await Promise.all([xN(),my()]);if(t.length===0&&r.length===0)return Qx(e);const n=new Set;t.forEach(c=>n.add(c.user_id)),r.forEach(c=>n.add(c.user_id));const i=await vN(Array.from(n)),s=[],o=await Promise.all(t.map(async c=>{var g;const u=typeof c.car_id=="number"?c.car_id:parseInt(c.car_id.toString(),10);let h=e.find(j=>{var k;return j.id===u||j.id.toString()===((k=c.car_id)==null?void 0:k.toString())});if(!h&&c.car_id)try{const{data:j,error:k}=await qt.from("Cars").select("*").eq("id",u).single();if(!k&&j&&(h={id:j.id,make:j.make,model:j.model,name:j.name||void 0,year:j.year||new Date().getFullYear(),price_per_day:j.price_per_day,discount_percentage:j.discount_percentage||void 0,category:j.category||void 0,image_url:j.image_url||void 0,photo_gallery:j.photo_gallery||void 0,seats:j.seats||void 0,transmission:j.transmission||void 0,body:j.body||void 0,fuel_type:j.fuel_type||void 0,features:j.features||void 0,rating:j.rating||void 0,reviews:j.reviews||void 0,status:j.status||void 0,drivetrain:j.drivetrain||void 0},h)){const w=h.name||`${h.make} ${h.model}`,{mainImage:E,photoGallery:O}=await Tn(w);h.image_url=E||h.image_url,h.photo_gallery=O.length>0?O:h.photo_gallery}}catch(j){console.error(`Error fetching car ${u} from database:`,j)}const m=i.get(c.user_id),x=(m==null?void 0:m.email)||((g=c.user)==null?void 0:g.email)||"",p=(m==null?void 0:m.firstName)||"",v=(m==null?void 0:m.lastName)||"",y=p&&v?`${p} ${v}`:p||v?`${p}${v}`:(x?x.split("@")[0]:"")||`User ${c.user_id.slice(0,8)}`;return{id:c.id,type:"request",customerName:y,customerEmail:x,carName:(h==null?void 0:h.name)||`${(h==null?void 0:h.make)||""} ${(h==null?void 0:h.model)||""}`.trim()||"Unknown Car",avatar:(h==null?void 0:h.image_url)||(h==null?void 0:h.image)||"",pickupDate:c.start_date.includes(" ")?c.start_date.split(" ")[0]:c.start_date.split("T")[0],pickupTime:c.start_time||(c.start_date.includes(" ")?c.start_date.split(" ")[1]:c.start_time),returnDate:c.end_date.includes(" ")?c.end_date.split(" ")[0]:c.end_date.split("T")[0],returnTime:c.return_time||(c.end_date.includes(" ")?c.end_date.split(" ")[1]:c.return_time),status:c.status,total_amount:"0",amount:0,createdAt:c.created_at,carId:c.car_id,userId:c.user_id}}));s.push(...o);const l=await Promise.all(r.map(async c=>{var E;const u=typeof c.car_id=="number"?c.car_id:parseInt(c.car_id);let h=e.find(O=>{var z;return O.id===u||O.id.toString()===((z=c.car_id)==null?void 0:z.toString())});if(!h&&c.car_id)try{const{data:O,error:z}=await qt.from("Cars").select("*").eq("id",u).single();if(!z&&O&&(h={id:O.id,make:O.make,model:O.model,name:O.name||void 0,year:O.year||new Date().getFullYear(),price_per_day:O.price_per_day,discount_percentage:O.discount_percentage||void 0,category:O.category||void 0,image_url:O.image_url||void 0,photo_gallery:O.photo_gallery||void 0,seats:O.seats||void 0,transmission:O.transmission||void 0,body:O.body||void 0,fuel_type:O.fuel_type||void 0,features:O.features||void 0,rating:O.rating||void 0,reviews:O.reviews||void 0,status:O.status||void 0,drivetrain:O.drivetrain||void 0},h)){const Y=h.name||`${h.make} ${h.model}`,{mainImage:B,photoGallery:$}=await Tn(Y);h.image_url=B||h.image_url,h.photo_gallery=$.length>0?$:h.photo_gallery}}catch(O){console.error(`Error fetching car ${u} from database:`,O)}const m=i.get(c.user_id),x=(m==null?void 0:m.email)||((E=c.user)==null?void 0:E.email)||"",p=(m==null?void 0:m.firstName)||"",v=(m==null?void 0:m.lastName)||"",y=p&&v?`${p} ${v}`:p||v?`${p}${v}`:(x?x.split("@")[0]:"")||`User ${c.user_id.slice(0,8)}`,g=new Date(c.start_date||new Date),j=new Date(c.end_date||new Date),k=Math.ceil((j.getTime()-g.getTime())/(1e3*60*60*24))||1,w=c.total_amount||(h?((h==null?void 0:h.pricePerDay)||h.price_per_day||0)*k:0);return{id:c.id,type:"rental",customerName:y,customerEmail:x,carName:(h==null?void 0:h.name)||`${(h==null?void 0:h.make)||""} ${(h==null?void 0:h.model)||""}`.trim()||"Unknown Car",avatar:(h==null?void 0:h.image_url)||(h==null?void 0:h.image)||"",pickupDate:c.start_date,pickupTime:c.start_time,returnDate:c.end_date,returnTime:c.end_time,status:c.rental_status||c.rental_status,total_amount:w.toString(),amount:w,createdAt:c.created_at,carId:c.car_id,userId:c.user_id}}));return s.push(...l),s.sort((c,u)=>{const h=c.createdAt?new Date(c.createdAt).getTime():0;return(u.createdAt?new Date(u.createdAt).getTime():0)-h})}catch(t){return console.error("Error in fetchAllOrders:",t),Qx(e)}}async function bN(e){try{const r=await xN();if(r.length===0)return Qx(e).filter(l=>l.type==="request");const n=new Set;r.forEach(l=>n.add(l.user_id));const i=await vN(Array.from(n)),s=[],o=await Promise.all(r.map(async l=>{var $;const c=typeof l.car_id=="number"?l.car_id:parseInt(l.car_id.toString(),10);let u=e.find(T=>{var A;return T.id===c||T.id.toString()===((A=l.car_id)==null?void 0:A.toString())});if(!u&&l.car_id)try{const{data:T,error:A}=await qt.from("Cars").select("*").eq("id",c).single();if(!A&&T&&(u={id:T.id,make:T.make,model:T.model,name:T.name||void 0,year:T.year||new Date().getFullYear(),price_per_day:T.price_per_day,discount_percentage:T.discount_percentage||void 0,category:T.category||void 0,image_url:T.image_url||void 0,photo_gallery:T.photo_gallery||void 0,seats:T.seats||void 0,transmission:T.transmission||void 0,body:T.body||void 0,fuel_type:T.fuel_type||void 0,features:T.features||void 0,rating:T.rating||void 0,reviews:T.reviews||void 0,status:T.status||void 0,drivetrain:T.drivetrain||void 0},u)){const R=u.name||`${u.make} ${u.model}`,{mainImage:L,photoGallery:q}=await Tn(R);u.image_url=L||u.image_url,u.photo_gallery=q.length>0?q:u.photo_gallery}}catch(T){console.error(`Error fetching car ${c} from database:`,T)}const h=l.customer_email||(($=l.user)==null?void 0:$.email)||"",m=l.customer_phone||"",x=l.customer_first_name||"",p=l.customer_last_name||"",y=l.customer_name||(x&&p?`${x} ${p}`:x||p||"")||(h?h.split("@")[0]:"")||`User ${l.user_id.slice(0,8)}`,g=new Date(l.start_date||new Date),j=new Date(l.end_date||new Date),k=Math.ceil((j.getTime()-g.getTime())/(1e3*60*60*24))||1,w=l.total_amount,E=u?((u==null?void 0:u.pricePerDay)||u.price_per_day||0)*k:0,O=w||E,z=l.customer_age||void 0,Y=m||void 0;let B;if(l.options)if(typeof l.options=="string")try{B=JSON.parse(l.options)}catch{B={}}else B=l.options;return{id:l.id,type:"request",customerName:y,customerEmail:h,customerPhone:Y,customerFirstName:x,customerLastName:p,customerAge:z,carName:(u==null?void 0:u.name)||`${(u==null?void 0:u.make)||""} ${(u==null?void 0:u.model)||""}`.trim()||"Unknown Car",avatar:(u==null?void 0:u.image_url)||(u==null?void 0:u.image)||"",pickupDate:l.start_date.includes(" ")?l.start_date.split(" ")[0]:l.start_date.split("T")[0],pickupTime:l.start_time||(l.start_date.includes(" ")?l.start_date.split(" ")[1]:"09:00"),returnDate:l.end_date.includes(" ")?l.end_date.split(" ")[0]:l.end_date.split("T")[0],returnTime:l.end_time||(l.end_date.includes(" ")?l.end_date.split(" ")[1]:"17:00"),status:l.status,total_amount:O.toString(),amount:O,createdAt:l.created_at,carId:l.car_id,userId:l.user_id,comment:l.comment||void 0,options:B||{}}}));return s.push(...o),s.sort((l,c)=>new Date(c.createdAt||"").getTime()-new Date(l.createdAt||"").getTime())}catch(t){return console.error("Error in fetchBorrowRequestsForDisplay:",t),Qx(e).filter(r=>r.type==="request")}}async function gY(e,t){try{const{data:r,error:n}=await qt.from("BorrowRequest").select("*").eq("id",e).single();if(n||!r)return{success:!1,error:"Request not found"};if(r.status!=="PENDING"){const{data:g}=await qt.from("Rentals").select("id").eq("request_id",parseInt(e)).single();return g?(console.log("Request already approved with existing rental:",g.id),{success:!0,rentalId:g.id.toString()}):{success:!1,error:"Request is not pending"}}const i=t.find(g=>g.id.toString()===r.car_id.toString());if(!i)return{success:!1,error:"Car not found for this request"};let s=r.user_id;if(console.log("Processing userId for rental creation:",r.user_id),typeof r.user_id=="string"&&r.user_id.includes("@"))return console.error("Cannot create rental for email-based user:",r.user_id),{success:!1,error:"Email-based users cannot create rentals directly"};if(typeof r.user_id=="string"&&r.user_id.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i)){console.log("Ensuring profile exists for UUID:",r.user_id);const{data:g,error:j}=await qt.from("Profiles").select("id").eq("id",r.user_id).single();if(j||!g){console.warn("Profile not found, creating one:",r.user_id);const{error:k}=await qt.from("Profiles").insert({id:r.user_id,email:null,first_name:"",last_name:"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(k&&k.code!=="23505")return console.error("Error creating profile:",k),{success:!1,error:"Failed to create user profile"};console.log("Created profile for:",r.user_id)}s=r.user_id}else if(typeof r.user_id=="number")s=r.user_id.toString();else return console.error("Unknown userId format:",r.user_id,typeof r.user_id),{success:!1,error:"Invalid user ID format"};console.log("Final userId for rental:",s);const o=new Date(r.start_date),l=new Date(r.end_date),c=Math.ceil((l.getTime()-o.getTime())/(1e3*60*60*24))||1,u=(i==null?void 0:i.pricePerDay)||i.price_per_day||0,h=u*c,m=h*.1,x=h+m,{data:p,error:v}=await qt.from("Rentals").insert({request_id:parseInt(e),user_id:s,car_id:parseInt(r.car_id.toString()),start_date:r.start_date,start_time:r.start_time||"09:00",end_date:r.end_date,end_time:r.end_time||"17:00",price_per_day:u,subtotal:h,taxes_fees:m,total_amount:x,rental_status:"ACTIVE",payment_status:"PENDING"}).select().single();if(v)return console.error("Error creating rental:",v),{success:!1,error:"Failed to create rental: "+v.message};console.log("Updating request status to APPROVED for request:",e);const{error:y}=await qt.from("BorrowRequest").update({status:"APPROVED",updated_at:new Date().toISOString()}).eq("id",e);return y?(console.error("Error updating request status:",y),{success:!1,error:"Failed to update request status: "+y.message}):(console.log("Request status updated to APPROVED successfully"),console.log("Successfully created rental with ID:",p.id),{success:!0,rentalId:p.id.toString()})}catch(r){return console.error("Error accepting borrow request:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async function bL(e,t){try{const{error:r}=await qt.from("BorrowRequest").update({status:"REJECTED",updated_at:new Date().toISOString()}).eq("id",e);return r?{success:!1,error:r.message}:{success:!0}}catch(r){return console.error("Error rejecting borrow request:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async function wL(e){try{const{error:t}=await qt.from("BorrowRequest").update({status:"PENDING",updated_at:new Date().toISOString()}).eq("id",e);return t?{success:!1,error:t.message}:{success:!0}}catch(t){return console.error("Error undoing reject borrow request:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async function Tf(e,t){try{const r={updated_at:new Date().toISOString()};t.car_id!==void 0&&(r.car_id=t.car_id),t.start_date!==void 0&&(r.start_date=t.start_date),t.start_time!==void 0&&(r.start_time=t.start_time),t.end_date!==void 0&&(r.end_date=t.end_date),t.end_time!==void 0&&(r.end_time=t.end_time),t.customer_name!==void 0&&(r.customer_name=t.customer_name),t.customer_email!==void 0&&(r.customer_email=t.customer_email),t.customer_phone!==void 0&&(r.customer_phone=t.customer_phone),t.customer_age!==void 0&&(r.customer_age=t.customer_age),t.comment!==void 0&&(r.comment=t.comment),t.options!==void 0&&(r.options=typeof t.options=="string"?t.options:JSON.stringify(t.options)),t.status!==void 0&&(r.status=t.status);const{error:n}=await qt.from("BorrowRequest").update(r).eq("id",e);return n?{success:!1,error:n.message}:{success:!0}}catch(r){return console.error("Error updating borrow request:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async function jL(e,t,r,n,i,s,o,l,c,u,h,m,x,p){try{const y={user_id:`admin-${Date.now()}`,car_id:e,start_date:t,start_time:r,end_date:n,end_time:i,status:"APPROVED",customer_name:s,customer_first_name:o,customer_last_name:l,customer_email:c,customer_phone:u,requested_at:new Date().toISOString(),updated_at:new Date().toISOString()};h&&(y.customer_age=h),m&&(y.comment=m),x&&(y.options=typeof x=="string"?x:JSON.stringify(x)),p!==void 0&&(y.total_amount=p);const{data:g,error:j}=await qt.from("BorrowRequest").insert(y).select().single();return j?{success:!1,error:j.message}:{success:!0,requestId:g.id.toString()}}catch(v){return console.error("Error creating borrow request:",v),{success:!1,error:v instanceof Error?v.message:"Unknown error"}}}async function wN(e,t,r,n,i,s,o,l,c,u,h,m,x,p){try{const v=p||l,y=`${s} ${o}`.trim(),g=(Y,B)=>{if(Y.includes("T")||Y.includes(" "))return Y;const $=B.includes(":")&&B.split(":").length===2?`${B}:00`:B;return`${Y} ${$}`},j={user_id:v,car_id:parseInt(e,10),start_date:g(t,r),start_time:r,end_date:g(n,i),end_time:i,status:"PENDING",customer_name:y,customer_first_name:s,customer_last_name:o,customer_email:l,customer_phone:c,requested_at:new Date().toISOString(),updated_at:new Date().toISOString()};if(u&&(j.customer_age=parseInt(u,10)),h&&(j.comment=h),m)if(typeof m=="string")try{j.options=JSON.parse(m)}catch(Y){console.error("Error parsing options string:",Y),j.options={}}else typeof m=="object"&&m!==null?j.options=JSON.parse(JSON.stringify(m)):j.options={};else j.options={};x!==void 0&&(j.total_amount=x);const{data:{session:k}}=await qt.auth.getSession(),E=!!k?qt:ho,{data:O,error:z}=await E.from("BorrowRequest").insert(j).select().single();return z?(console.error("Error creating user borrow request:",z),{success:!1,error:z.message}):{success:!0,requestId:O.id.toString()}}catch(v){return console.error("Error creating user borrow request:",v),{success:!1,error:v instanceof Error?v.message:"Unknown error"}}}async function xY(e,t,r,n,i,s,o,l,c){try{const u=l.find(O=>O.id.toString()===t);if(!u)return{success:!1,error:"Car not found"};const h=(u==null?void 0:u.pricePerDay)||u.price_per_day||0,m=new Date(r),x=new Date(i),p=Math.ceil((x.getTime()-m.getTime())/(1e3*60*60*24))||1,v=(c==null?void 0:c.subtotal)||h*p,y=(c==null?void 0:c.taxesFees)||v*.1,g=(c==null?void 0:c.additionalTaxes)||0,j=v+y+g,k=o>0?o:j,{data:w,error:E}=await qt.from("Rentals").insert({user_id:e,car_id:parseInt(t),start_date:r,start_time:n||"09:00",end_date:i,end_time:s||"17:00",price_per_day:h,subtotal:v,taxes_fees:y,additional_taxes:g,total_amount:k,rental_status:(c==null?void 0:c.rentalStatus)||"CONTRACT",payment_status:(c==null?void 0:c.paymentStatus)||"PENDING",payment_method:(c==null?void 0:c.paymentMethod)||null,notes:(c==null?void 0:c.notes)||null,special_requests:(c==null?void 0:c.specialRequests)||null,features:(c==null?void 0:c.features)||null,request_id:c!=null&&c.requestId?typeof c.requestId=="string"?parseInt(c.requestId):c.requestId:null}).select().single();return E?{success:!1,error:E.message}:{success:!0,rentalId:w.id}}catch(u){return console.error("Error creating rental manually:",u),{success:!1,error:u instanceof Error?u.message:"Unknown error"}}}function NL(e,t){try{const[r,n]=t.split(":").map(Number),i=new Date(e);return i.setHours(r,n||0,0,0),new Date>=i}catch(r){return console.error("Error checking date/time:",r),!1}}async function _L(e){try{const{data:t,error:r}=await qt.from("BorrowRequest").select("*").eq("status","APPROVED");if(r)return{success:!1,processed:0,error:r.message};if(!t||t.length===0)return{success:!0,processed:0};let n=0;for(const i of t)if(NL(i.start_date,i.start_time)){const{data:s}=await qt.from("Rentals").select("id").eq("request_id",i.id).single();if(s){const{error:o}=await qt.from("Rentals").update({rental_status:"ACTIVE",updated_at:new Date().toISOString()}).eq("id",s.id);if(o){console.error(`Error updating rental for request ${i.id}:`,o);continue}const{error:l}=await qt.from("BorrowRequest").update({status:"EXECUTED",updated_at:new Date().toISOString()}).eq("id",i.id);if(l){console.error(`Error updating request status to EXECUTED for request ${i.id}:`,l);continue}n++,console.log(`Updated rental to ACTIVE and request to EXECUTED for request ${i.id}`)}else{console.warn(`No rental found for approved request ${i.id}`);continue}await fy(i.car_id)}return{success:!0,processed:n}}catch(t){return console.error("Error processing executed requests:",t),{success:!1,processed:0,error:t instanceof Error?t.message:"Unknown error"}}}async function SL(){try{const{data:e,error:t}=await qt.from("Rentals").select("*").eq("rental_status","ACTIVE");if(t)return{success:!1,processed:0,error:t.message};if(!e||e.length===0)return{success:!0,processed:0};let r=0;for(const n of e)if(NL(n.end_date,n.end_time)){const{error:i}=await qt.from("Rentals").update({rental_status:"COMPLETED",updated_at:new Date().toISOString()}).eq("id",n.id);if(i){console.error(`Error updating rental ${n.id} to COMPLETED:`,i);continue}await fy(n.car_id),r++}return{success:!0,processed:r}}catch(e){return console.error("Error processing completed orders:",e),{success:!1,processed:0,error:e instanceof Error?e.message:"Unknown error"}}}async function v5(e){try{const[t,r]=await Promise.all([_L(e),SL()]);return!t.success||!r.success?{success:!1,executed:t.processed,completed:r.processed,error:t.error||r.error}:{success:!0,executed:t.processed,completed:r.processed}}catch(t){return console.error("Error processing status transitions:",t),{success:!1,executed:0,completed:0,error:t instanceof Error?t.message:"Unknown error"}}}async function py(e){try{const{data:t,error:r}=await qt.from("Rentals").select("car_id").eq("id",e).single();if(r||!t)return{success:!1,error:"Rental not found"};const{error:n}=await qt.from("Rentals").update({rental_status:"CANCELLED",updated_at:new Date().toISOString()}).eq("id",e);return n?{success:!1,error:n.message}:(await fy(t.car_id),{success:!0})}catch(t){return console.error("Error cancelling rental order:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async function gy(e){try{const{error:t}=await qt.from("Rentals").update({rental_status:"CONTRACT",updated_at:new Date().toISOString()}).eq("id",e);return t?{success:!1,error:t.message}:{success:!0}}catch(t){return console.error("Error redoing rental order:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}const Nh=Object.freeze(Object.defineProperty({__proto__:null,acceptBorrowRequest:gY,cancelRentalOrder:py,createBorrowRequest:jL,createRentalManually:xY,createUserBorrowRequest:wN,fetchAllOrders:xx,fetchBorrowRequests:xN,fetchBorrowRequestsForDisplay:bN,fetchRentals:my,fetchRentalsOnly:yN,processActiveRentals:_L,processCompletedOrders:SL,processStatusTransitions:v5,redoRentalOrder:gy,rejectBorrowRequest:bL,undoRejectBorrowRequest:wL,updateBorrowRequest:Tf,updateCarStatusBasedOnRentals:fy},Symbol.toStringTag,{value:"Module"})),jN=e=>{let t;if(e.category)try{const r=JSON.parse(e.category);Array.isArray(r),t=r}catch{t=e.category}return{id:e.id,make:e.make,model:e.model,name:e.name||void 0,year:e.year||new Date().getFullYear(),price_2_4_days:e.price_2_4_days||void 0,price_5_15_days:e.price_5_15_days||void 0,price_16_30_days:e.price_16_30_days||void 0,price_over_30_days:e.price_over_30_days||void 0,discount_percentage:e.discount_percentage||void 0,category:t,image_url:e.image_url||void 0,photo_gallery:e.photo_gallery||void 0,seats:e.seats||void 0,transmission:e.transmission||void 0,body:e.body||void 0,fuel_type:e.fuel_type||void 0,features:e.features||void 0,rating:e.rating||void 0,reviews:e.reviews||void 0,status:e.status||void 0,drivetrain:e.drivetrain||void 0,mileage:e.kilometers||void 0,color:e.color||void 0,license:e.license||void 0,kilometers:e.kilometers||void 0}},lo=async()=>{try{const{data:e,error:t}=await qt.from("Cars").select("*").or("status.is.null,status.neq.deleted").order("id",{ascending:!0});if(t)throw console.error("Error fetching cars:",t),t;return e?e.map(jN):[]}catch(e){throw console.error("Error in fetchCars:",e),e}},Gp=async e=>{try{const{data:t,error:r}=await qt.from("Cars").select("*").eq("id",e).single();return r?(console.error("Error fetching car:",r),null):t?jN(t):null}catch(t){return console.error("Error in fetchCarById:",t),null}},vY=async e=>{try{let t=null;e.category&&(Array.isArray(e.category)?t=JSON.stringify(e.category):t=e.category);const r={make:e.make||"",model:e.model||"",name:e.name||null,year:e.year||new Date().getFullYear(),price_2_4_days:e.price_2_4_days||null,price_5_15_days:e.price_5_15_days||null,price_16_30_days:e.price_16_30_days||null,price_over_30_days:e.price_over_30_days||null,discount_percentage:e.discount_percentage!==void 0?e.discount_percentage:null,status:e.status||"available",body:e.body||null,transmission:e.transmission||null,drivetrain:e.drivetrain||null,seats:e.seats||null,category:t,image_url:e.image_url||null,photo_gallery:e.photo_gallery||[],fuel_type:e.fuel_type||null,features:e.features||[],rating:e.rating||0,reviews:e.reviews||0},{data:n,error:i}=await ho.from("Cars").insert(r).select().single();if(i)throw console.error("Error creating car:",i),i;return n?jN(n):null}catch(t){throw console.error("Error in createCar:",t),t}},P1=async(e,t)=>{try{const r={};if(console.log("updateCar called with data:",t),t.make!==void 0&&(r.make=t.make),t.model!==void 0&&(r.model=t.model),t.name!==void 0&&(r.name=t.name),t.year!==void 0&&(r.year=t.year),t.price_2_4_days!==void 0&&(r.price_2_4_days=t.price_2_4_days),t.price_5_15_days!==void 0&&(r.price_5_15_days=t.price_5_15_days),t.price_16_30_days!==void 0&&(r.price_16_30_days=t.price_16_30_days),t.price_over_30_days!==void 0&&(r.price_over_30_days=t.price_over_30_days),console.log("updateData prepared:",r),t.discount_percentage!==void 0&&(r.discount_percentage=t.discount_percentage),t.status!==void 0&&(r.status=t.status),t.body!==void 0&&(r.body=t.body),t.transmission!==void 0&&(r.transmission=t.transmission),t.drivetrain!==void 0&&(r.drivetrain=t.drivetrain),t.seats!==void 0&&(r.seats=t.seats),t.category!==void 0&&(Array.isArray(t.category)?r.category=JSON.stringify(t.category):r.category=t.category),(t.image!==void 0||t.image_url!==void 0)&&(r.image_url=t.image||t.image_url),(t.photoGallery!==void 0||t.photo_gallery!==void 0)&&(r.photo_gallery=t.photoGallery||t.photo_gallery),t.fuel_type!==void 0&&(r.fuel_type=t.fuel_type),t.features!==void 0&&(r.features=t.features),t.rating!==void 0&&(r.rating=t.rating),t.reviews!==void 0&&(r.reviews=t.reviews),Object.keys(r).length===0)return console.warn("No fields to update"),await Gp(e);const{error:n}=await ho.from("Cars").update(r).eq("id",e);if(n)throw console.error("Error updating car:",n),n;const i=await Gp(e);if(!i)throw new Error("Car not found after update");return i}catch(r){throw console.error("Error in updateCar:",r),r}},yY=({isOpen:e,onClose:t,car:r,pickupDate:n,returnDate:i,pickupTime:s,returnTime:o,rentalCalculation:l,approvedBorrowRequests:c=[],carRentalsForCalendar:u=[]})=>{const{selectedCurrency:h,eur:m,usd:x}=uy(),p=[{code:"+373",flag:"",country:"Moldova"},{code:"+40",flag:"",country:"Romania"},{code:"+380",flag:"",country:"Ukraine"},{code:"+7",flag:"",country:"Russia"},{code:"+1",flag:"",country:"USA"},{code:"+44",flag:"",country:"UK"},{code:"+49",flag:"",country:"Germany"},{code:"+33",flag:"",country:"France"},{code:"+39",flag:"",country:"Italy"},{code:"+34",flag:"",country:"Spain"},{code:"+32",flag:"",country:"Belgium"},{code:"+31",flag:"",country:"Netherlands"},{code:"+41",flag:"",country:"Switzerland"},{code:"+43",flag:"",country:"Austria"},{code:"+48",flag:"",country:"Poland"},{code:"+420",flag:"",country:"Czech Republic"},{code:"+36",flag:"",country:"Hungary"},{code:"+359",flag:"",country:"Bulgaria"},{code:"+30",flag:"",country:"Greece"},{code:"+90",flag:"",country:"Turkey"}],v=ge=>ge,y=()=>"MDL",[g,j]=_.useState({firstName:"",lastName:"",age:"",phone:"",email:"",comment:""}),[k,w]=_.useState(p[0]),[E,O]=_.useState(!1),[z,Y]=_.useState(!1),[B,$]=_.useState("terms"),[T,A]=_.useState(!1),[R,L]=_.useState(null),[q,W]=_.useState(!1),[ee,M]=_.useState(null),[V,U]=_.useState({}),[I,H]=_.useState(!1),{t:D}=br(),{user:G}=uc(),Z=kn(),[P,re]=_.useState({unlimitedKm:!1,personalDriver:!1,priorityService:!1,tireInsurance:!1,childSeat:!1,simCard:!1,roadsideAssistance:!1,airportDelivery:!1}),ce=(l==null?void 0:l.days)||0;let be=0;const ae=ee||r,ue=(l==null?void 0:l.days)||0;let fe=0;ue>=2&&ue<=4?fe=ae.price_2_4_days||0:ue>=5&&ue<=15?fe=ae.price_5_15_days||0:ue>=16&&ue<=30?fe=ae.price_16_30_days||0:ue>30&&(fe=ae.price_over_30_days||0);const pe=ae.discount_percentage||0,de=pe>0?fe*(1-pe/100):fe;P.unlimitedKm&&(be+=de*ce*.5),P.tireInsurance&&(be+=de*ce*.2),P.personalDriver&&(be+=800*ce),P.priorityService&&(be+=1e3*ce),P.childSeat&&(be+=100*ce),P.simCard&&(be+=100*ce),P.roadsideAssistance&&(be+=500*ce);const le=ge=>{const Le=new Date(ge),Be=String(Le.getDate()).padStart(2,"0"),Ge=String(Le.getMonth()+1).padStart(2,"0"),Qe=Le.getFullYear();return`${Be}.${Ge}.${Qe}`},ne=()=>{if(!l)return 0;const ge=ee||r,Le=l.days;let Be=0;Le>=2&&Le<=4?Be=ge.price_2_4_days||0:Le>=5&&Le<=15?Be=ge.price_5_15_days||0:Le>=16&&Le<=30?Be=ge.price_16_30_days||0:Le>30&&(Be=ge.price_over_30_days||0);const Ge=ge.discount_percentage||0,Qe=Ge>0?Be*(1-Ge/100):Be;let St=Qe*Le;return l.hours>0&&(St+=l.hours/24*Qe),Math.round(St)},Se=()=>{if(!l)return 0;const ge=ne();return Math.round(ge+be)},Ee=ne(),qe=Se();l&&Math.round(qe/(l.days+l.hours/24)),l&&r.price_per_day*(l.days+l.hours/24);const ve=ge=>ge.trim()?ge.trim().length<2?"Numele trebuie s aib minim 2 caractere.":ge.trim().length>50?"Numele nu poate depi 50 de caractere.":/^[a-zA-Z\s\-']+$/.test(ge.trim())?null:"Numele poate conine doar litere, spaii i cratime.":"Acest cmp este obligatoriu.",Ae=ge=>{if(!ge.trim())return"V rugm s introducei vrsta.";const Le=parseInt(ge,10);return isNaN(Le)?"V rugm s introducei un numr valid.":Le<18?"Vrsta minim este de 18 ani.":Le>100?"V rugm s introducei o vrst valid (maximum 100 ani).":null},me=ge=>{if(G){if(ge.trim()){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ge.trim()))return"V rugm s introducei o adres de e-mail valid.";if(ge.trim().length>255)return"Adresa de e-mail nu poate depi 255 de caractere."}return null}return ge.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ge.trim())?ge.trim().length>255?"Adresa de e-mail nu poate depi 255 de caractere.":null:"V rugm s introducei o adres de e-mail valid.":"Adresa de e-mail este obligatorie."},Ce=ge=>{if(!ge.trim())return"Numrul de telefon este obligatoriu.";const Le=ge.replace(/[\s\-\(\)]/g,"");return/^\d+$/.test(Le)?Le.length<6?"Numrul de telefon trebuie s aib minim 6 cifre.":Le.length>15?"Numrul de telefon nu poate depi 15 cifre.":null:"Numrul de telefon poate conine doar cifre, spaii i cratime."},Me=ge=>ge.length>1e3?"Comentariul nu poate depi 1000 de caractere.":null,He=(ge,Le)=>{let Be=Le;if(ge==="firstName"||ge==="lastName")Be=Le.replace(/[^a-zA-Z\s\-']/g,""),Be.length>50&&(Be=Be.substring(0,50));else if(ge==="age")Be=Le.replace(/\D/g,""),Be.length>3&&(Be=Be.substring(0,3));else if(ge==="email")Be.length>255&&(Be=Be.substring(0,255));else if(ge==="phone"){Be=Le.replace(/[^\d\s\-\(\)]/g,"");const Ge=Be.replace(/\D/g,"");Ge.length>15&&(Be=Be.substring(0,Be.length-(Ge.length-15)))}else ge==="comment"&&Be.length>1e3&&(Be=Be.substring(0,1e3));if(j(Ge=>({...Ge,[ge]:Be})),I){let Ge=null;ge==="firstName"||ge==="lastName"?Ge=ve(Be):ge==="age"?Ge=Ae(Be):ge==="email"?Ge=me(Be):ge==="phone"?Ge=Ce(Be):ge==="comment"&&(Ge=Me(Be)),U(Qe=>({...Qe,[ge]:Ge||void 0}))}R&&L(null)},at=(ge,Le)=>{re(Be=>({...Be,[ge]:Le}))},pt=async ge=>{ge.preventDefault(),H(!0);const Le={},Be=ve(g.firstName);Be&&(Le.firstName=Be);const Ge=ve(g.lastName);Ge&&(Le.lastName=Ge);const Qe=Ae(g.age);Qe&&(Le.age=Qe);const St=me(g.email);St&&(Le.email=St);const oe=Ce(g.phone);oe&&(Le.phone=oe);const ht=Me(g.comment);if(ht&&(Le.comment=ht),U(Le),Object.keys(Le).length>0){const Ne=Object.keys(Le)[0];setTimeout(()=>{const Ue=document.querySelector(`[data-field="${Ne}"]`);if(Ue){Ue.scrollIntoView({behavior:"smooth",block:"center"});const Re=Ue.querySelector("input, textarea");Re&&Re.focus()}},100),L("V rugm s corectai erorile din formular.");return}const rt=(()=>{const Ne=new Date(`${n}T${s}`),Ue=new Date(`${i}T${o}`),Re=[...u.map(Ve=>({start_date:Ve.start_date,end_date:Ve.end_date,start_time:Ve.start_time||"09:00",end_time:Ve.end_time||"17:00",status:Ve.rental_status||"ACTIVE"})),...c.map(Ve=>({start_date:Ve.start_date,end_date:Ve.end_date,start_time:Ve.start_time||"09:00",end_time:Ve.end_time||"17:00",status:Ve.status||"APPROVED"}))];for(const Ve of Re){if(!Ve.start_date||!Ve.end_date)continue;const it=Ve.start_date.includes("T")?Ve.start_date.split("T")[0]:Ve.start_date.split(" ")[0],ie=Ve.end_date.includes("T")?Ve.end_date.split("T")[0]:Ve.end_date.split(" ")[0],we=et=>et?et.match(/^\d{2}:\d{2}$/)?et:et.match(/^\d{2}:\d{2}:\d{2}$/)?et.substring(0,5):"09:00":"09:00",De=we(Ve.start_time||"09:00"),$e=we(Ve.end_time||"17:00"),Ye=new Date(`${it}T${De}`),lt=new Date(`${ie}T${$e}`);if(Ne<lt&&Ue>Ye){const et=Pt=>new Date(Pt).toLocaleDateString("ro-RO",{day:"numeric",month:"long",year:"numeric"});return`Maina este deja rezervat n perioada ${et(it)} - ${et(ie)}. V rugm s selectai o alt perioad.`}}return null})();if(rt){L(rt),A(!1);return}L(null),W(!1),A(!0);try{const Ne=`${k.code} ${g.phone.trim()}`,Ue=De=>De,Re=De=>{if(De.includes(":")){const $e=De.split(":");if($e.length===2)return`${$e[0]}:${$e[1]}:00`}return De},Ve={};P.unlimitedKm&&(Ve.unlimitedKm=!0),P.personalDriver&&(Ve.personalDriver=!0),P.priorityService&&(Ve.priorityService=!0),P.tireInsurance&&(Ve.tireInsurance=!0),P.childSeat&&(Ve.childSeat=!0),P.simCard&&(Ve.simCard=!0),P.roadsideAssistance&&(Ve.roadsideAssistance=!0),P.airportDelivery&&(Ve.airportDelivery=!0);const it=(G==null?void 0:G.email)||g.email,ie=it,we=await wN(r.id.toString(),Ue(n),Re(s),Ue(i),Re(o),g.firstName,g.lastName,it,Ne,g.age||void 0,g.comment||void 0,Object.keys(Ve).length>0?Ve:void 0,qe,ie);we.success?W(!0):L(we.error||"A aprut o eroare la trimiterea cererii. V rugm s ncercai din nou.")}catch(Ne){console.error("Error submitting rental request:",Ne),L("A aprut o eroare neateptat. V rugm s ncercai din nou.")}finally{A(!1)}};return _.useEffect(()=>{const ge=Le=>{Le.target.closest(".country-code-dropdown-container")||O(!1)};return E&&document.addEventListener("mousedown",ge),()=>{document.removeEventListener("mousedown",ge)}},[E]),_.useEffect(()=>{e&&(G!=null&&G.email)&&j(ge=>({...ge,email:G.email||""}))},[e,G]),_.useEffect(()=>{e||(j({firstName:"",lastName:"",age:"",phone:"",email:"",comment:""}),U({}),H(!1),re({unlimitedKm:!1,personalDriver:!1,priorityService:!1,tireInsurance:!1,childSeat:!1,simCard:!1,roadsideAssistance:!1,airportDelivery:!1}),L(null),W(!1))},[e]),_.useEffect(()=>{(async()=>{if(e&&(r!=null&&r.id))try{const Le=await Gp(typeof r.id=="string"?parseInt(r.id):r.id);Le&&M(Le)}catch(Le){console.error("Error fetching fresh car data:",Le),M(r)}})()},[e,r==null?void 0:r.id]),l?a.jsxs(mr,{children:[e&&a.jsxs(vt.Fragment,{children:[a.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9998]",onClick:t},"backdrop"),a.jsx(Ie.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.3,ease:"easeOut"},className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 overflow-y-auto",onClick:ge=>ge.stopPropagation(),children:a.jsxs("div",{className:"bg-white rounded-2xl border border-gray-300 shadow-2xl max-w-5xl w-full max-h-[95vh] md:max-h-[92vh] overflow-hidden md:my-4",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-300 px-6 md:px-8 py-6 flex items-center justify-between rounded-t-2xl z-10",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 leading-tight",children:"Cerere de nchiriere"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:(ee||r).make+" "+(ee||r).model})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-xl transition-all flex-shrink-0",children:a.jsx(hn,{className:"w-5 h-5 text-gray-500"})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-200px)] md:max-h-[calc(92vh-200px)]",children:q?a.jsxs("div",{className:"px-4 md:px-8 py-6 md:py-8 space-y-6 md:space-y-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl border border-gray-300 shadow-sm p-6 md:p-8",children:[a.jsx("div",{className:"mb-4",children:a.jsx("span",{className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:"Confirmare"})}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center shadow-lg bg-gradient-to-b from-red-500 to-red-600 flex-shrink-0",children:a.jsx(yh,{className:"w-7 h-7 text-white",strokeWidth:2.5})}),a.jsxs("div",{className:"flex-1 pt-1",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 leading-tight mb-3",children:"Cererea a fost trimis cu succes!"}),a.jsx("p",{className:"text-gray-600 text-base leading-relaxed",children:"n scurt timp v vom contacta pentru confirmare."})]})]})]}),!G&&a.jsx("div",{className:"bg-white rounded-2xl border border-gray-300 shadow-sm p-6 md:p-8",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center shadow-lg bg-gradient-to-b from-red-500 to-red-600 flex-shrink-0",children:a.jsx(Hp,{className:"w-5 h-5 text-white",strokeWidth:2})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"Creeaz cont pentru acces rapid"}),a.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-6",children:"Pentru a vedea i a avea acces rapid la cererile i comenzile dvs., putei s v nregistrai."}),a.jsx("button",{type:"button",onClick:()=>{t(),Z("/auth/signup")},className:"w-full py-3.5 px-6 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-xl transition-all shadow-md hover:shadow-lg text-base",children:"Creeaz cont"})]})]})})]}):a.jsxs("form",{onSubmit:pt,className:"px-4 md:px-8 py-6 md:py-8 space-y-6 md:space-y-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl border border-gray-300 p-4 md:p-6 shadow-sm",children:[a.jsx("div",{className:"mb-3 md:mb-4",children:a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:a.jsx(ta,{className:"w-5 h-5 text-white"})}),a.jsx("h3",{className:"text-base md:text-lg font-bold text-gray-800",children:"Perioada nchirierii"})]})}),a.jsxs("div",{className:"space-y-2 md:space-y-3",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"text-gray-600 text-sm md:text-base",children:[l.days," ",l.days===1?"zi":"zile",l.hours>0&&`, ${l.hours} ${l.hours===1?"or":"ore"}`]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4 pt-2 md:pt-3 border-t border-gray-300",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Data prelurii"}),a.jsx("p",{className:"text-gray-900 font-semibold text-sm md:text-base",children:le(n)}),a.jsxs("p",{className:"text-gray-500 text-xs md:text-sm",children:["ora ",s]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Data returnrii"}),a.jsx("p",{className:"text-gray-900 font-semibold text-sm md:text-base",children:le(i)}),a.jsxs("p",{className:"text-gray-500 text-xs md:text-sm",children:["ora ",o]})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-gray-300 p-4 md:p-6 shadow-sm",children:[a.jsx("div",{className:"mb-3 md:mb-4",children:a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:a.jsx(Hp,{className:"w-5 h-5 text-white"})}),a.jsx("h3",{className:"text-base md:text-lg font-bold text-gray-800",children:"Date de contact"})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4 mb-4",children:[a.jsxs("div",{"data-field":"firstName",children:[a.jsxs("label",{className:"block text-xs text-gray-500 uppercase tracking-wide mb-1",children:["Prenume ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:g.firstName,onChange:ge=>He("firstName",ge.target.value),className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-1 transition-colors text-sm md:text-base ${I&&V.firstName?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-gray-900 focus:border-gray-900 hover:border-gray-400"}`,required:!0,maxLength:50}),I&&V.firstName&&a.jsx("p",{className:"mt-1 text-xs text-red-500",children:V.firstName})]}),a.jsxs("div",{"data-field":"lastName",children:[a.jsxs("label",{className:"block text-xs text-gray-500 uppercase tracking-wide mb-1",children:["Nume ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:g.lastName,onChange:ge=>He("lastName",ge.target.value),className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-1 transition-colors text-sm md:text-base ${I&&V.lastName?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-gray-900 focus:border-gray-900 hover:border-gray-400"}`,required:!0,maxLength:50}),I&&V.lastName&&a.jsx("p",{className:"mt-1 text-xs text-red-500",children:V.lastName})]})]}),a.jsxs("div",{className:"mb-4","data-field":"age",children:[a.jsxs("label",{className:"block text-xs text-gray-500 uppercase tracking-wide mb-1",children:["Vrst ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",value:g.age,onChange:ge=>He("age",ge.target.value),placeholder:"18",min:"18",max:"100",className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-1 transition-colors text-sm md:text-base ${I&&V.age?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-gray-900 focus:border-gray-900 hover:border-gray-400"}`,required:!0}),I&&V.age&&a.jsx("p",{className:"mt-1 text-xs text-red-500",children:V.age})]}),!G&&a.jsxs("div",{className:"mb-4","data-field":"email",children:[a.jsxs("label",{className:"block text-xs text-gray-500 uppercase tracking-wide mb-1",children:["E-mail ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",value:g.email,onChange:ge=>He("email",ge.target.value),placeholder:"email@mail.com",className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-1 transition-colors text-sm md:text-base ${I&&V.email?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-gray-900 focus:border-gray-900 hover:border-gray-400"}`,required:!0,maxLength:255}),I&&V.email&&a.jsx("p",{className:"mt-1 text-xs text-red-500",children:V.email})]}),a.jsxs("div",{"data-field":"phone",children:[a.jsxs("label",{className:"block text-xs text-gray-500 uppercase tracking-wide mb-1",children:["Telefon ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 country-code-dropdown-container",children:[a.jsxs("button",{type:"button",onClick:()=>O(!E),className:"flex items-center gap-1.5 text-gray-600 hover:text-gray-900 text-sm font-medium px-2 py-1 rounded hover:bg-gray-100 transition-colors",children:[a.jsx("span",{children:k.flag}),a.jsx("span",{children:k.code}),a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),E&&a.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto z-50 min-w-[200px]",children:p.map(ge=>a.jsxs("button",{type:"button",onClick:()=>{w(ge),O(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[a.jsx("span",{children:ge.flag}),a.jsx("span",{className:"flex-1 text-left",children:ge.country}),a.jsx("span",{className:"text-gray-500",children:ge.code})]},ge.code))})]}),a.jsx("input",{type:"tel",value:g.phone,onChange:ge=>He("phone",ge.target.value),placeholder:"000 00 000",className:`w-full pl-28 pr-4 py-2.5 border rounded-lg focus:outline-none focus:ring-1 transition-colors ${I&&V.phone?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-gray-900 focus:border-gray-900 hover:border-gray-400"}`,required:!0,maxLength:20})]}),I&&V.phone&&a.jsx("p",{className:"mt-1 text-xs text-red-500",children:V.phone})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-gray-300 p-4 md:p-6 shadow-sm",children:[a.jsx("div",{className:"mb-3 md:mb-4",children:a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:a.jsx(Pi,{className:"w-5 h-5 text-white"})}),a.jsx("h3",{className:"text-base md:text-lg font-bold text-gray-800",children:"Opiuni de nchiriere"})]})}),a.jsxs("div",{className:"mb-5 md:mb-6",children:[a.jsx("h4",{className:"text-xs md:text-sm font-semibold text-gray-900 mb-2 md:mb-3",children:"Limite"}),a.jsx("div",{className:"space-y-2",children:a.jsxs("label",{className:"flex items-center justify-between p-3 md:p-4 rounded-xl bg-white border border-gray-300 hover:shadow-md cursor-pointer transition-all duration-200 group",children:[a.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[a.jsxs("div",{className:"relative flex-shrink-0",children:[a.jsx("input",{type:"checkbox",checked:P.unlimitedKm,onChange:ge=>at("unlimitedKm",ge.target.checked),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${P.unlimitedKm?"bg-red-500 border-red-500":"border-gray-300 bg-white group-hover:border-red-400"}`,children:a.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${P.unlimitedKm?"opacity-100":"opacity-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),a.jsx("span",{className:"font-medium text-gray-900 text-xs md:text-sm",children:"Kilometraj nelimitat"})]}),a.jsx("span",{className:"text-xs md:text-sm font-bold text-red-600 bg-red-50 px-2 md:px-3 py-1 rounded-lg",children:"+50%"})]})})]}),a.jsxs("div",{className:"mb-5 md:mb-6",children:[a.jsx("h4",{className:"text-xs md:text-sm font-semibold text-gray-900 mb-2 md:mb-3",children:"Servicii VIP"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center justify-between p-3 md:p-4 rounded-xl bg-white border border-gray-300 hover:shadow-md cursor-pointer transition-all duration-200 group",children:[a.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[a.jsxs("div",{className:"relative flex-shrink-0",children:[a.jsx("input",{type:"checkbox",checked:P.personalDriver,onChange:ge=>at("personalDriver",ge.target.checked),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${P.personalDriver?"bg-red-500 border-red-500":"border-gray-300 bg-white group-hover:border-red-400"}`,children:a.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${P.personalDriver?"opacity-100":"opacity-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),a.jsx("span",{className:"font-medium text-gray-900 text-xs md:text-sm",children:"ofer personal"})]}),a.jsx("span",{className:"text-xs md:text-sm font-bold text-gray-900 bg-gray-100 px-2 md:px-3 py-1 rounded-lg whitespace-nowrap",children:"800 MDL/zi"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 md:p-4 rounded-xl bg-white border border-gray-300 hover:shadow-md cursor-pointer transition-all duration-200 group",children:[a.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[a.jsxs("div",{className:"relative flex-shrink-0",children:[a.jsx("input",{type:"checkbox",checked:P.priorityService,onChange:ge=>at("priorityService",ge.target.checked),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${P.priorityService?"bg-red-500 border-red-500":"border-gray-300 bg-white group-hover:border-red-400"}`,children:a.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${P.priorityService?"opacity-100":"opacity-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),a.jsx("span",{className:"font-medium text-gray-900 text-xs md:text-sm",children:"Priority Service"})]}),a.jsx("span",{className:"text-xs md:text-sm font-bold text-gray-900 bg-gray-100 px-2 md:px-3 py-1 rounded-lg whitespace-nowrap",children:"1 000 MDL/zi"})]})]})]}),a.jsxs("div",{className:"mb-5 md:mb-6",children:[a.jsx("h4",{className:"text-xs md:text-sm font-semibold text-gray-900 mb-2 md:mb-3",children:"Asigurare"}),a.jsx("div",{className:"space-y-2",children:a.jsxs("label",{className:"flex items-center justify-between p-3 md:p-4 rounded-xl bg-white border border-gray-300 hover:shadow-md cursor-pointer transition-all duration-200 group",children:[a.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[a.jsxs("div",{className:"relative flex-shrink-0",children:[a.jsx("input",{type:"checkbox",checked:P.tireInsurance,onChange:ge=>at("tireInsurance",ge.target.checked),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${P.tireInsurance?"bg-red-500 border-red-500":"border-gray-300 bg-white group-hover:border-red-400"}`,children:a.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${P.tireInsurance?"opacity-100":"opacity-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),a.jsx("span",{className:"font-medium text-gray-900 text-xs md:text-sm",children:"Asigurare anvelope & parbriz"})]}),a.jsx("span",{className:"text-xs md:text-sm font-bold text-red-600 bg-red-50 px-2 md:px-3 py-1 rounded-lg",children:"+20%"})]})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs md:text-sm font-semibold text-gray-900 mb-2 md:mb-3",children:"Suplimentar"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center justify-between p-3 md:p-4 rounded-xl bg-white border border-gray-300 hover:shadow-md cursor-pointer transition-all duration-200 group",children:[a.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[a.jsxs("div",{className:"relative flex-shrink-0",children:[a.jsx("input",{type:"checkbox",checked:P.childSeat,onChange:ge=>at("childSeat",ge.target.checked),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${P.childSeat?"bg-red-500 border-red-500":"border-gray-300 bg-white group-hover:border-red-400"}`,children:a.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${P.childSeat?"opacity-100":"opacity-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),a.jsx("span",{className:"font-medium text-gray-900 text-xs md:text-sm",children:"Scaun auto pentru copii"})]}),a.jsx("span",{className:"text-xs md:text-sm font-bold text-gray-900 bg-gray-100 px-2 md:px-3 py-1 rounded-lg whitespace-nowrap",children:"100 MDL/zi"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 md:p-4 rounded-xl bg-white border border-gray-300 hover:shadow-md cursor-pointer transition-all duration-200 group",children:[a.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[a.jsxs("div",{className:"relative flex-shrink-0",children:[a.jsx("input",{type:"checkbox",checked:P.simCard,onChange:ge=>at("simCard",ge.target.checked),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${P.simCard?"bg-red-500 border-red-500":"border-gray-300 bg-white group-hover:border-red-400"}`,children:a.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${P.simCard?"opacity-100":"opacity-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),a.jsx("span",{className:"font-medium text-gray-900 text-xs md:text-sm",children:"Cartel SIM cu internet"})]}),a.jsx("span",{className:"text-xs md:text-sm font-bold text-gray-900 bg-gray-100 px-2 md:px-3 py-1 rounded-lg whitespace-nowrap",children:"100 MDL/zi"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 md:p-4 rounded-xl bg-white border border-gray-300 hover:shadow-md cursor-pointer transition-all duration-200 group",children:[a.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[a.jsxs("div",{className:"relative flex-shrink-0",children:[a.jsx("input",{type:"checkbox",checked:P.roadsideAssistance,onChange:ge=>at("roadsideAssistance",ge.target.checked),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${P.roadsideAssistance?"bg-red-500 border-red-500":"border-gray-300 bg-white group-hover:border-red-400"}`,children:a.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${P.roadsideAssistance?"opacity-100":"opacity-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),a.jsx("span",{className:"font-medium text-gray-900 text-xs md:text-sm",children:"Asisten rutier"})]}),a.jsx("span",{className:"text-xs md:text-sm font-bold text-gray-900 bg-gray-100 px-2 md:px-3 py-1 rounded-lg whitespace-nowrap",children:"500 MDL/zi"})]})]})]}),a.jsxs("div",{className:"mb-5 md:mb-6",children:[a.jsx("h4",{className:"text-xs md:text-sm font-semibold text-gray-900 mb-2 mt-4 md:mb-3",children:"Livrare"}),a.jsx("div",{className:"space-y-2",children:a.jsxs("label",{className:"flex items-center justify-between p-3 md:p-4 rounded-xl bg-white border border-gray-300 hover:shadow-md cursor-pointer transition-all duration-200 group",children:[a.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[a.jsxs("div",{className:"relative flex-shrink-0",children:[a.jsx("input",{type:"checkbox",checked:P.airportDelivery,onChange:ge=>at("airportDelivery",ge.target.checked),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${P.airportDelivery?"bg-red-500 border-red-500":"border-gray-300 bg-white group-hover:border-red-400"}`,children:a.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${P.airportDelivery?"opacity-100":"opacity-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),a.jsx("span",{className:"font-medium text-gray-900 text-xs md:text-sm",children:"Livrare aeroport"})]}),a.jsx("span",{className:"text-xs md:text-sm font-bold text-green-600 bg-green-50 px-2 md:px-3 py-1 rounded-lg whitespace-nowrap",children:"Gratuit"})]})})]})]}),a.jsxs("div",{"data-field":"comment",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Comentariu ",a.jsx("span",{className:"text-gray-400 font-normal",children:"(opional)"})]}),a.jsx("textarea",{value:g.comment,onChange:ge=>He("comment",ge.target.value),rows:3,className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-1 resize-none transition-colors ${I&&V.comment?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-gray-900 focus:border-gray-900 hover:border-gray-400"}`,placeholder:"Adugai un comentariu (opional)",maxLength:1e3}),I&&V.comment&&a.jsx("p",{className:"mt-1 text-xs text-red-500",children:V.comment}),g.comment.length>0&&a.jsxs("p",{className:"mt-1 text-xs text-gray-500 text-right",children:[g.comment.length,"/1000 caractere"]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-gray-300 p-4 md:p-6 shadow-sm mt-6",children:[a.jsx("div",{className:"mb-3 md:mb-4",children:a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:a.jsx(y0,{className:"w-5 h-5 text-white"})}),a.jsx("h3",{className:"text-base md:text-lg font-bold text-gray-800",children:"Detalii pre"})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm md:text-base",children:[a.jsx("span",{className:"text-gray-600",children:"Pre pe zi"}),a.jsxs("span",{className:"text-gray-900 font-medium",children:[y(),v(l.pricePerDay).toLocaleString("ro-RO")]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm md:text-base",children:[a.jsx("span",{className:"text-gray-600",children:"Perioad"}),a.jsxs("span",{className:"text-gray-900 font-medium",children:[l.days," ",l.days===1?"zi":"zile",l.hours>0&&`, ${l.hours} ${l.hours===1?"or":"ore"}`]})]}),a.jsx("div",{className:"pt-2 border-t border-gray-300",children:a.jsxs("div",{className:"flex items-center justify-between text-sm md:text-base",children:[a.jsx("span",{className:"text-gray-900 font-medium",children:"Pre de baz"}),a.jsxs("span",{className:"text-gray-900 font-medium",children:[y(),v(Math.round(Ee)).toLocaleString("ro-RO")]})]})}),be>0&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"pt-3 border-t border-gray-300",children:[a.jsx("h4",{className:"text-sm md:text-base font-bold text-gray-900 mb-3",children:"Servicii suplimentare"}),a.jsxs("div",{className:"space-y-2 text-sm md:text-base",children:[P.unlimitedKm&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Kilometraj nelimitat"}),a.jsxs("span",{className:"text-gray-900 font-medium",children:[y(),v(Math.round(l.pricePerDay*l.days*.5)).toLocaleString("ro-RO")]})]}),P.tireInsurance&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Asigurare anvelope & parbriz"}),a.jsxs("span",{className:"text-gray-900 font-medium",children:[y(),v(Math.round(l.pricePerDay*l.days*.2)).toLocaleString("ro-RO")]})]}),P.personalDriver&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"ofer personal"}),a.jsxs("span",{className:"text-gray-900 font-medium",children:[800*l.days," MDL"]})]}),P.priorityService&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Priority Service"}),a.jsxs("span",{className:"text-gray-900 font-medium",children:[1e3*l.days," MDL"]})]}),P.childSeat&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Scaun auto pentru copii"}),a.jsxs("span",{className:"text-gray-900 font-medium",children:[100*l.days," MDL"]})]}),P.simCard&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Cartel SIM cu internet"}),a.jsxs("span",{className:"text-gray-900 font-medium",children:[100*l.days," MDL"]})]}),P.roadsideAssistance&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Asisten rutier"}),a.jsxs("span",{className:"text-gray-900 font-medium",children:[500*l.days," MDL"]})]}),a.jsx("div",{className:"pt-2 border-t border-gray-300",children:a.jsxs("div",{className:"flex justify-between font-medium text-sm md:text-base",children:[a.jsx("span",{className:"text-gray-900",children:"Total servicii"}),a.jsxs("span",{className:"text-gray-900",children:[y(),v(Math.round(be)).toLocaleString("ro-RO")]})]})})]})]})}),a.jsxs("div",{className:"pt-3 border-t border-gray-300 flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-900 font-bold text-base md:text-lg",children:"Total"}),a.jsxs("span",{className:"text-gray-900 font-bold text-lg md:text-xl",children:[y(),v(qe).toLocaleString("ro-RO")]})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-2 mt-6",children:[R&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-xl",children:a.jsx("p",{className:"text-sm text-red-800 font-medium text-center",children:R})}),a.jsx("button",{type:"submit",onClick:pt,disabled:T||q,className:"w-full font-semibold text-sm md:text-base py-3.5 px-6 rounded-xl transition-all bg-red-600 hover:bg-red-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:T?"Se trimite...":q?"Trimis cu succes!":"Trimite cererea"}),a.jsxs("p",{className:"text-[10px] md:text-xs text-center text-gray-500 leading-relaxed",children:["Fcnd clic pe butonul Trimite cererea, suntei de acord cu"," ",a.jsx("button",{type:"button",onClick:()=>{$("terms"),Y(!0)},className:"text-red-600 hover:text-red-700 underline",children:"termenii de utilizare"})," ","i"," ",a.jsx("button",{type:"button",onClick:()=>{$("privacy"),Y(!0)},className:"text-red-600 hover:text-red-700 underline",children:"politica de confidenialitate"})]})]})]})})]})},"modal")]},"modal-container"),a.jsx(mr,{children:z&&a.jsxs(vt.Fragment,{children:[a.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[10000]",onClick:()=>Y(!1)},"terms-backdrop"),a.jsx(Ie.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},className:"fixed inset-0 z-[10001] flex items-center justify-center p-4",onClick:ge=>ge.stopPropagation(),children:a.jsxs("div",{className:"bg-white rounded-2xl border border-gray-300 shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-300 px-6 md:px-8 py-4 flex items-center justify-between rounded-t-2xl z-10",children:[a.jsx("div",{children:a.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800",children:B==="terms"?"Termeni i condiii":"Politica de confidenialitate"})}),a.jsx("button",{onClick:()=>Y(!1),className:"p-2 hover:bg-gray-100 rounded-xl transition-all flex-shrink-0",children:a.jsx(hn,{className:"w-5 h-5 text-gray-500"})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-100px)] px-6 md:px-8 py-6",children:B==="terms"?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 md:p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-b from-red-500 to-red-600 flex items-center justify-center flex-shrink-0",children:a.jsx(Yc,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-3",children:D("pages.terms.sections.intro.title")}),a.jsx("p",{className:"text-gray-600 leading-relaxed text-sm md:text-base",children:D("pages.terms.sections.intro.description")})]})]})}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 md:p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-b from-red-500 to-red-600 flex items-center justify-center flex-shrink-0",children:a.jsx(fO,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-3",children:D("pages.terms.sections.cookies.title")}),a.jsx("ul",{className:"space-y-2",children:[1,2,3,4].map(ge=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500 mt-2 flex-shrink-0"}),a.jsx("span",{className:"text-gray-600 leading-relaxed text-sm md:text-base",children:D(`pages.terms.sections.cookies.bullet${ge}`)})]},ge))})]})]})})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 md:p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-b from-red-500 to-red-600 flex items-center justify-center flex-shrink-0",children:a.jsx(sd,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-3",children:D("pages.terms.sections.personal-data.title")}),a.jsx("ul",{className:"space-y-2",children:[1,2,3,4].map(ge=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500 mt-2 flex-shrink-0"}),a.jsx("span",{className:"text-gray-600 leading-relaxed text-sm md:text-base",children:D(`pages.terms.sections.personal-data.bullet${ge}`)})]},ge))})]})]})}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 md:p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-b from-red-500 to-red-600 flex items-center justify-center flex-shrink-0",children:a.jsx(hO,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-3",children:D("pages.terms.sections.notifications.title")}),a.jsx("ul",{className:"space-y-2",children:[1,2,3,4].map(ge=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500 mt-2 flex-shrink-0"}),a.jsx("span",{className:"text-gray-600 leading-relaxed text-sm md:text-base",children:D(`pages.terms.sections.notifications.bullet${ge}`)})]},ge))})]})]})})]})})]})},"terms-modal")]},"terms-container")})]}):null},bY=()=>{const{carId:e}=kz(),t=kn(),{eur:r,usd:n,loading:i,selectedCurrency:s,setSelectedCurrency:o}=uy(),[l,c]=_.useState(null),[u,h]=_.useState(!0),[m,x]=_.useState(),[p,v]=_.useState(!1),[y,g]=_.useState(""),[j,k]=_.useState(""),[w,E]=_.useState(""),[O,z]=_.useState(""),[Y,B]=_.useState(!1),[$,T]=_.useState(!1),[A,R]=_.useState(!1),[L,q]=_.useState(!1),[W,ee]=_.useState(()=>{const ie=new Date,we=new Date(ie);return we.setDate(we.getDate()+1),{pickup:ie,return:we}}),[M,V]=_.useState(!1),[U,I]=_.useState(!1),[H,D]=_.useState(0),[G,Z]=_.useState(null),[P,re]=_.useState([]),[ce,be]=_.useState([]),[ae,ue]=_.useState(""),[fe,pe]=_.useState(!1),[de,le]=_.useState(!1),[ne,Se]=_.useState(!1),Ee=ie=>s==="MDL"?ie:s==="EUR"?Math.round(ie/r):s==="USD"?Math.round(ie/n):ie,qe=ie=>{switch(ie){case"EUR":return"";case"USD":return"$";case"MDL":return"MDL";default:return ie}},ve=_.useRef(null),Ae=_.useRef(null),me=_.useRef(null),Ce=_.useRef(null),Me=_.useRef(null),He=()=>{try{const ie=localStorage.getItem("carFavorites");return ie?JSON.parse(ie):[]}catch{return[]}},at=(ie,we)=>{const De=He();if(we)De.includes(ie)||De.push(ie);else{const $e=De.indexOf(ie);$e>-1&&De.splice($e,1)}localStorage.setItem("carFavorites",JSON.stringify(De))},pt=()=>{if(!l)return;const ie=!p;v(ie),at(Number(l.id),ie)},ge=ie=>{const we=new Date(ie),De=String(we.getDate()).padStart(2,"0"),$e=String(we.getMonth()+1).padStart(2,"0"),Ye=we.getFullYear();return`${De}.${$e}.${Ye}`},Le=ie=>{const we=ie.getFullYear(),De=String(ie.getMonth()+1).padStart(2,"0"),$e=String(ie.getDate()).padStart(2,"0");return`${we}-${De}-${$e}`},Be=ie=>{const we=ie.getFullYear(),De=ie.getMonth(),$e=new Date(we,De,1),Ye=new Date($e);Ye.setDate(Ye.getDate()-$e.getDay());const lt=[],ft=new Date(Ye);for(let et=0;et<42;et++)ft.getMonth()===De?lt.push(ft.toISOString().split("T")[0]):lt.push(null),ft.setDate(ft.getDate()+1);return lt},Ge=ie=>{const we=[],De=ie!==void 0?ie:0;for(let $e=De;$e<24;$e++)we.push(`${String($e).padStart(2,"0")}:00`);return we},Qe=(ie,we)=>ce.length===0?!1:ce.some(De=>{if(!De.end_date||!De.end_time)return!1;const $e=De.end_date.includes("T")?De.end_date.split("T")[0]:De.end_date.split(" ")[0],Ye=new Date($e),[lt,ft]=De.end_time.split(":").map(Number);Ye.setHours(lt||17,ft||0,0,0);const et=new Date(Ye);if(et.setHours(et.getHours()+12),we){const[Pt,kt]=we.split(":").map(Number),jt=new Date(ie);return jt.setHours(Pt||0,kt||0,0,0),jt>=Ye&&jt<et}else{const Pt=new Date(ie);Pt.setHours(0,0,0,0);const kt=new Date(ie);return kt.setHours(23,59,59,999),et>Pt&&Ye<kt}}),St=()=>{const ie=new Date;ie.setHours(0,0,0,0);let we=null;return P.forEach(De=>{if(!De.start_date)return;const $e=De.start_date.includes("T")?De.start_date.split("T")[0]:De.start_date.split(" ")[0],Ye=new Date($e+"T00:00:00");Ye.setHours(0,0,0,0),Ye>ie&&(!we||Ye<we)&&(we=Ye)}),ce.forEach(De=>{if(!De.start_date)return;const $e=De.start_date.includes("T")?De.start_date.split("T")[0]:De.start_date.split(" ")[0],Ye=new Date($e+"T00:00:00");Ye.setHours(0,0,0,0),Ye>ie&&(!we||Ye<we)&&(we=Ye)}),we?Le(we):null},oe=ie=>{const we=ie.split("T")[0],De=new Date(we+"T00:00:00");De.setHours(0,0,0,0);const $e=new Date;return $e.setHours(0,0,0,0),De<$e?!1:Qe(De)||P.length>0&&P.some(lt=>{if(!lt.start_date||!lt.end_date)return!1;const ft=lt.start_date.includes("T")?lt.start_date.split("T")[0]:lt.start_date.split(" ")[0],et=new Date(ft+"T00:00:00");et.setHours(0,0,0,0);const Pt=lt.end_date.includes("T")?lt.end_date.split("T")[0]:lt.end_date.split(" ")[0],kt=new Date(Pt+"T23:59:59");return kt.setHours(23,59,59,999),kt>=$e&&De>=et&&De<=kt})?!0:ce.length>0?ce.some(lt=>{if(!lt.start_date||!lt.end_date)return!1;const ft=lt.start_date.includes("T")?lt.start_date.split("T")[0]:lt.start_date.split(" ")[0],et=new Date(ft+"T00:00:00");et.setHours(0,0,0,0);const Pt=lt.end_date.includes("T")?lt.end_date.split("T")[0]:lt.end_date.split(" ")[0],kt=new Date(Pt+"T23:59:59");return kt.setHours(23,59,59,999),kt>=$e&&De>=et&&De<=kt}):!1},ht=ie=>{const we=St();return we!==null&&ie>=we},wt=ie=>oe(ie)||ht(ie);_.useEffect(()=>{U&&Me.current&&Me.current.slickGoTo(H)},[U,H]),_.useEffect(()=>{if(!e){h(!1);return}(async()=>{h(!0);try{const we=await Gp(Number(e));if(!we){h(!1);return}let De=we.name;(!De||De.trim()==="")&&(De=`${we.make} ${we.model}`);const{mainImage:$e,photoGallery:Ye}=await Tn(De),lt={...we,image_url:$e||we.image_url,photo_gallery:Ye.length>0?Ye:we.photo_gallery};c(lt)}catch(we){console.error("Error fetching car:",we)}finally{h(!1)}})()},[e,t]),_.useEffect(()=>{if(l){const ie=He();v(ie.includes(Number(l.id))),x(l.image_url||"")}},[l]),_.useEffect(()=>{(async()=>{if(!(!l||!e))try{const we=await my(),De=new Date,$e=we.filter(Ye=>{var et;const lt=typeof Ye.car_id=="number"?Ye.car_id:parseInt(((et=Ye.car_id)==null?void 0:et.toString())||"0",10),ft=Ye.status||Ye.rental_status||"";if(lt!==Number(l.id))return!1;if(ft==="ACTIVE"||ft==="CONTRACT")return!0;if(Ye.end_date){const Pt=new Date(Ye.end_date);if(Ye.end_time){const[kt,jt]=Ye.end_time.split(":").map(Number);Pt.setHours(kt||17,jt||0,0,0)}else Pt.setHours(23,59,59,999);return Pt>=De}return!1});be($e)}catch(we){console.error("Error fetching car availability:",we)}})()},[l,e]),_.useEffect(()=>{(async()=>{if(!(!l||!e))try{const we=typeof l.id=="number"?l.id:parseInt(String(l.id),10),De=await qt.from("Rentals").select("*").eq("car_id",we).order("created_at",{ascending:!1}),$e=new Date,Ye=(De.data||[]).filter(ut=>{if(!ut.end_date)return!1;const Dt=ut.end_date.includes("T")?ut.end_date.split("T")[0]:ut.end_date.split(" ")[0],Mt=new Date(Dt);if(ut.end_time){const[Ht,pr]=ut.end_time.split(":").map(Number);Mt.setHours(Ht||17,pr||0,0,0)}else Mt.setHours(23,59,59,999);return Mt>=$e});let lt=[];try{const ut=await qt.from("BorrowRequest").select("*").eq("car_id",we).in("status",["APPROVED","EXECUTED"]).order("requested_at",{ascending:!1});ut.data&&ut.data.length>0&&(lt=ut.data)}catch{}const ft=Ye.map(ut=>({id:ut.id.toString(),user_id:ut.user_id,car_id:ut.car_id.toString(),start_date:ut.start_date,start_time:ut.start_time||"09:00:00",end_date:ut.end_date,end_time:ut.end_time||"17:00:00",status:"EXECUTED",created_at:ut.created_at,updated_at:ut.updated_at})),et=lt.map(ut=>({id:ut.id.toString(),user_id:ut.user_id,car_id:ut.car_id.toString(),start_date:ut.start_date,start_time:ut.start_time||"09:00:00",end_date:ut.end_date,end_time:ut.end_time||"17:00:00",status:"APPROVED",created_at:ut.requested_at||ut.created_at,updated_at:ut.updated_at})),kt=[...ft,...et].filter(ut=>ut.start_date&&ut.end_date);re(kt);const jt=new Date;let Tt=null;if(kt.length>0){const ut=[...kt].sort((Dt,Mt)=>{const Ht=new Date(Dt.start_date||0),pr=new Date(Mt.start_date||0);return Ht.getTime()-pr.getTime()});for(let Dt=0;Dt<ut.length;Dt++){const Mt=ut[Dt];if(!Mt.start_date||!Mt.end_date)continue;const Ht=Mt.start_date.includes("T")?Mt.start_date.split("T")[0]:Mt.start_date.split(" ")[0],pr=new Date(Ht);if(Mt.start_time){const[er,Tr]=Mt.start_time.split(":").map(Number);pr.setHours(er||9,Tr||0,0,0)}else pr.setHours(9,0,0,0);const ar=Mt.end_date.includes("T")?Mt.end_date.split("T")[0]:Mt.end_date.split(" ")[0],Lt=new Date(ar);if(Mt.end_time){const[er,Tr]=Mt.end_time.split(":").map(Number);Lt.setHours(er||17,Tr||0,0,0)}else Lt.setHours(17,0,0,0);if(Lt.setHours(Lt.getHours()+12),Lt>jt)if(Dt<ut.length-1){const er=ut[Dt+1];if(er.start_date){const Tr=er.start_date.includes("T")?er.start_date.split("T")[0]:er.start_date.split(" ")[0],Yr=new Date(Tr);if(er.start_time){const[Di,na]=er.start_time.split(":").map(Number);Yr.setHours(Di||9,na||0,0,0)}else Yr.setHours(9,0,0,0);if((Yr.getTime()-Lt.getTime())/(1e3*60*60*24)>=2){Tt=Lt;break}}else{Tt=Lt;break}}else{Tt=Lt;break}else Lt>jt&&(!Tt||Lt<Tt)&&(Tt=Lt)}if(!Tt){let Dt=null;for(let Mt=0;Mt<ut.length;Mt++){const Ht=ut[Mt];if(!Ht.end_date)continue;const pr=Ht.end_date.includes("T")?Ht.end_date.split("T")[0]:Ht.end_date.split(" ")[0],ar=new Date(pr);if(Ht.end_time){const[Lt,Xt]=Ht.end_time.split(":").map(Number);ar.setHours(Lt||17,Xt||0,0,0)}else ar.setHours(17,0,0,0);if(ar.setHours(ar.getHours()+12),Mt===0)Dt=ar;else{const Lt=ut[Mt-1];if(Lt.end_date){const Xt=Lt.end_date.includes("T")?Lt.end_date.split("T")[0]:Lt.end_date.split(" ")[0],er=new Date(Xt);if(Lt.end_time){const[Di,na]=Lt.end_time.split(":").map(Number);er.setHours(Di||17,na||0,0,0)}else er.setHours(17,0,0,0);er.setHours(er.getHours()+12);const Tr=Ht.start_date.includes("T")?Ht.start_date.split("T")[0]:Ht.start_date.split(" ")[0],Yr=new Date(Tr);if(Ht.start_time){const[Di,na]=Ht.start_time.split(":").map(Number);Yr.setHours(Di||9,na||0,0,0)}else Yr.setHours(9,0,0,0);const mn=Yr.getTime()-er.getTime(),Ta=24*60*60*1e3;if(mn>=0&&mn<=Ta+36e5)Dt=ar;else{if(Dt&&Dt>jt){Tt=Dt;break}Dt=ar}}}}Dt&&Dt>jt&&(Tt=Dt)}}Z(Tt)}catch(we){console.error("Error fetching approved borrow requests:",we)}})()},[l,e]),_.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[e,l==null?void 0:l.image_url]);const rt=((l==null?void 0:l.photo_gallery)??[l==null?void 0:l.image_url]).filter(ie=>typeof ie=="string"&&ie.length>0);_.useEffect(()=>{if(!U||rt.length===0)return;const ie=we=>{we.key==="Escape"?I(!1):we.key==="ArrowLeft"&&rt.length>1?D(De=>De>0?De-1:rt.length-1):we.key==="ArrowRight"&&rt.length>1&&D(De=>De<rt.length-1?De+1:0)};return window.addEventListener("keydown",ie),()=>window.removeEventListener("keydown",ie)},[U,rt.length]);const Ne=(ie,we=!1)=>{const De=Be(ie),$e=new Date;$e.setHours(0,0,0,0);const Ye=De.filter(ft=>ft!==null);return Ye.every(ft=>{const et=Le($e),Pt=ft<et,kt=G?(()=>{const ut=new Date;ut.setHours(0,0,0,0);const Dt=new Date(G);Dt.setHours(0,0,0,0);const Mt=new Date(ft);return Mt.setHours(0,0,0,0),Dt<=ut&&Mt<Dt})():!1,jt=wt(ft),Tt=we&&y&&ft<=y;return Pt||kt||jt||Tt})&&Ye.length>0};if(_.useEffect(()=>{y&&ee(ie=>({...ie,pickup:new Date(y)}))},[y]),_.useEffect(()=>{if(j)ee(ie=>({...ie,return:new Date(j)}));else if(y){const ie=new Date(y);ee(we=>({...we,return:new Date(ie)}))}},[j,y]),_.useEffect(()=>{if(Y&&!de){if(Ne(W.pickup,!1)){const ie=new Date(W.pickup);ie.setMonth(ie.getMonth()+1),ee(we=>({...we,pickup:ie}))}le(!0)}else Y||le(!1)},[Y,W.pickup,G,P,de]),_.useEffect(()=>{if($&&!ne){if(Ne(W.return,!0)){const ie=new Date(W.return);ie.setMonth(ie.getMonth()+1),ee(we=>({...we,return:ie}))}Se(!0)}else $||Se(!1)},[$,W.return,G,P,y,ne]),_.useEffect(()=>{const ie=we=>{if(fe)return;const De=we.target;De.closest("button[data-calendar-toggle]")||(Y&&ve.current&&!ve.current.contains(De)&&B(!1),$&&Ae.current&&!Ae.current.contains(De)&&T(!1),A&&me.current&&!me.current.contains(De)&&R(!1),L&&Ce.current&&!Ce.current.contains(De)&&q(!1))};return document.addEventListener("mousedown",ie),document.addEventListener("touchstart",ie),()=>{document.removeEventListener("mousedown",ie),document.removeEventListener("touchstart",ie)}},[Y,$,A,L,fe]),!e||l===null&&!u)return a.jsx(fY,{});if(u)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-6 py-20",children:a.jsx(Ie.div,{className:"text-center py-16 px-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-r from-theme-500 to-theme-600 flex items-center justify-center shadow-lg",children:a.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Se ncarc maina..."}),a.jsx("p",{className:"text-gray-600",children:"Te rugm s atepi n timp ce pregtim detaliile mainii"})]})})});const Re=(()=>{if(!y||!j||!w||!O)return null;const ie=new Date(`${y}T${w}`),De=new Date(`${j}T${O}`).getTime()-ie.getTime(),$e=Math.floor(De/(1e3*60*60)),Ye=Math.floor($e/24),lt=$e%24;if(Ye<2)return null;const ft=Ye,et=Ye+lt/24;let Pt=0;ft>=2&&ft<=4?Pt=l.price_2_4_days||0:ft>=5&&ft<=15?Pt=l.price_5_15_days||0:ft>=16&&ft<=30?Pt=l.price_16_30_days||0:ft>30&&(Pt=l.price_over_30_days||0);const kt=l.discount_percentage||l.discount_percentage||0,jt=kt>0?Pt*(1-kt/100):Pt;let Tt=jt*ft;lt>0&&(Tt+=lt/24*jt);const ut=Math.round(Tt),Dt=et>0?Math.round(ut/et):jt;return{days:Ye,hours:lt,pricePerDay:Dt,totalPrice:ut}})(),Ve=y&&j&&w&&O,it=()=>{Ve&&V(!0)};return a.jsxs("div",{id:"individual-car-page",className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-12 mt-20",children:a.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-[1fr_460px] gap-12",children:[a.jsxs("div",{className:"lg:col-start-1",children:[a.jsxs("div",{className:"mb-8 lg:hidden",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:l.make+" "+l.model}),a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(y0,{className:"w-4 h-4 text-gray-400 fill-current"}),a.jsx("span",{className:"font-semibold text-gray-900",children:l.rating})]}),a.jsx("span",{className:"text-gray-400",children:""}),a.jsxs("span",{className:"text-gray-600",children:[l.reviews," recenzii"]})]})]}),a.jsxs("div",{className:"relative rounded-lg overflow-hidden bg-white shadow-sm mb-6 border border-gray-200",children:[a.jsxs("div",{className:"relative w-full h-[450px] md:h-[600px] overflow-hidden",onTouchStart:ie=>{if(rt.length>1){const we=ie.touches[0],De=ie.currentTarget,$e=De.getBoundingClientRect(),Ye=we.clientX-$e.left,lt=$e.width,ft=Math.floor(Ye/lt*rt.length),et=Math.max(0,Math.min(ft,rt.length-1));D(et),x(rt[et]||"");const Pt=De.querySelector(".photo-gallery");if(Pt){const kt=-(et*100);Pt.style.transform=`translateX(${kt}%)`}}},onTouchMove:ie=>{if(rt.length>1){const we=ie.touches[0],De=ie.currentTarget,$e=De.getBoundingClientRect(),Ye=we.clientX-$e.left,lt=$e.width,ft=Math.floor(Ye/lt*rt.length),et=Math.max(0,Math.min(ft,rt.length-1));D(et),x(rt[et]||"");const Pt=De.querySelector(".photo-gallery");if(Pt){const kt=-(et*100);Pt.style.transform=`translateX(${kt}%)`}}},onMouseMove:ie=>{if(rt.length>1){const we=ie.currentTarget,De=we.getBoundingClientRect(),$e=ie.clientX-De.left,Ye=De.width,lt=Math.floor($e/Ye*rt.length),ft=Math.max(0,Math.min(lt,rt.length-1));D(ft),x(rt[ft]||"");const et=we.querySelector(".photo-gallery");if(et){const Pt=-(ft*100);et.style.transform=`translateX(${Pt}%)`}}},onClick:()=>{const ie=rt.findIndex(we=>we===m);D(ie>=0?ie:0),I(!0)},children:[a.jsx("div",{className:"flex transition-transform duration-300 ease-out photo-gallery h-full",children:rt.map((ie,we)=>a.jsx("div",{className:"relative w-full h-full flex-shrink-0",style:{minWidth:"100%"},children:a.jsx("img",{src:ie,alt:`${l.make} ${l.model} - Photo ${we+1}`,className:"w-full h-full object-cover cursor-pointer select-none",draggable:!1})},we))}),a.jsx("div",{className:"absolute bottom-4 right-4 bg-black/60 hover:bg-black/80 backdrop-blur-md text-white rounded-full p-3 shadow-lg transition-all duration-300 hover:scale-110 cursor-pointer z-10",onClick:ie=>{ie.stopPropagation();const we=rt.findIndex(De=>De===m);D(we>=0?we:0),I(!0)},title:"View fullscreen",children:a.jsx(jH,{className:"w-5 h-5"})})]}),(()=>{const ie=()=>{const ft=new Date;ft.setHours(0,0,0,0);const et=Le(ft);let Pt=new Date(ft);for(let kt=0;kt<60;kt++){const jt=Le(Pt),Tt=jt<et,ut=G?(()=>{const Mt=new Date(G);Mt.setHours(0,0,0,0);const Ht=new Date(jt);return Ht.setHours(0,0,0,0),Mt<=ft&&Ht<Mt})():!1,Dt=oe(jt);if(!Tt&&!ut&&!Dt)return Pt;Pt.setDate(Pt.getDate()+1)}return null},we=ft=>{const et=ft.getDate(),kt=["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"][ft.getMonth()];return`Liber de pe ${et} ${kt}`};P.length>0||ce.length>0;const De=ie(),$e=new Date;$e.setHours(0,0,0,0);const Ye=De&&Le(De)===Le($e),lt=De?Ye?"Disponibil":we(De):l.status==="available"||l.status==="Available"?"Disponibil":l.status||"";return lt?a.jsxs("div",{className:"absolute top-3 left-3 bg-black/60 backdrop-blur-md text-white rounded-xl px-3 py-1.5 text-xs font-normal shadow-sm flex items-center gap-1.5",children:[a.jsx("svg",{className:"w-3 h-3 flex-shrink-0 opacity-80",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("span",{className:"whitespace-nowrap",children:lt})]}):null})()]}),rt.length>1&&a.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 mb-10",children:rt.map((ie,we)=>a.jsx("button",{onClick:()=>{x(ie||""),D(we);const De=document.querySelector(".photo-gallery");if(De){const $e=-(we*100);De.style.transform=`translateX(${$e}%)`}},className:`rounded-lg overflow-hidden border-2 transition-all cursor-pointer ${m===ie?"border-theme-500 ring-2 ring-theme-100":"border-gray-200 hover:border-gray-300"}`,children:a.jsx("img",{src:ie||"",alt:`${l.make} ${l.model}-${we}`,className:"w-full h-20 object-cover"})},we))}),a.jsx("div",{className:"lg:hidden mb-6",children:a.jsxs("div",{className:"bg-white rounded-2xl border border-gray-300 shadow-sm p-6",children:[a.jsx("div",{className:"mb-4",children:(()=>{const ie=l.price_over_30_days||0,we=l.discount_percentage||l.discount_percentage||0,De=we>0?ie*(1-we/100):ie;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"text-4xl font-bold text-gray-900",children:[qe(s),Ee(De).toLocaleString("ro-RO",{minimumFractionDigits:0,maximumFractionDigits:0})," ",a.jsx("span",{className:"text-lg font-normal text-gray-600",children:"pe zi"})]}),a.jsxs("div",{className:"relative ml-4",children:[a.jsxs("select",{value:s,onChange:$e=>o($e.target.value),className:"appearance-none bg-white border border-gray-200 rounded-full px-4 py-2 pr-8 text-sm font-medium text-gray-900 shadow-sm hover:border-red-300 focus:border-red-500 focus:ring-2 focus:ring-red-200 focus:outline-none transition-all duration-200 cursor-pointer",children:[a.jsx("option",{value:"MDL",children:"MDL"}),a.jsx("option",{value:"EUR",children:" EUR"}),a.jsx("option",{value:"USD",children:"$ USD"})]}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:a.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),we>0&&a.jsxs("div",{className:"text-sm text-gray-400 line-through mb-1",children:[qe(s),Ee(ie).toLocaleString("ro-RO")]})]})})()}),a.jsxs("a",{href:"tel:+37362000112",className:"flex items-center justify-center gap-3 w-full bg-gray-100 hover:bg-gray-200 text-gray-900 font-medium py-3.5 px-6 rounded-xl mb-3 transition-colors",children:[a.jsx(Qf,{className:"w-5 h-5"}),a.jsx("span",{children:"+373 (62) 000-112"})]}),a.jsxs("a",{href:"https://t.me/Level_Auto_Rental",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-3 w-full border-2 border-gray-300 hover:border-gray-400 text-gray-900 font-medium py-3.5 px-6 rounded-xl mb-3 transition-colors",children:[a.jsx(Z2,{className:"w-5 h-5"}),a.jsx("span",{children:"Scrie-ne pe Telegram"})]}),a.jsx("p",{className:"text-center text-base text-gray-500 mb-4",children:"Ne putei scrie sau apela, v vom ajuta"}),a.jsxs("div",{className:"grid grid-cols-[7fr_3fr] gap-3 mb-3",children:[a.jsxs("div",{className:"relative",ref:ve,children:[a.jsxs("button",{"data-calendar-toggle":"pickup",onClick:ie=>{ie.stopPropagation(),ie.preventDefault(),B(we=>!we),T(!1),R(!1),q(!1)},onMouseDown:ie=>{ie.stopPropagation(),ie.preventDefault()},className:`w-full flex items-center justify-center gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${y?"border-gray-300 text-gray-900 hover:border-gray-400":"border-gray-300 text-gray-400 hover:border-gray-400"}`,children:[a.jsx(ta,{className:"w-4 h-4"}),a.jsx("span",{children:y?ge(y):"Data nchirierii"})]}),a.jsx(mr,{children:Y&&a.jsxs(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-3 w-[120%]",onClick:ie=>ie.stopPropagation(),onMouseDown:ie=>ie.stopPropagation(),onTouchStart:ie=>ie.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("button",{onClick:ie=>{ie.stopPropagation();const we=new Date(W.pickup);we.setMonth(we.getMonth()-1),ee(De=>({...De,pickup:we}))},className:"p-1 hover:bg-gray-100 rounded transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("div",{className:"text-sm font-medium text-gray-700",children:W.pickup.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),a.jsx("button",{onClick:ie=>{ie.stopPropagation();const we=new Date(W.pickup);we.setMonth(we.getMonth()+1),ee(De=>({...De,pickup:we}))},className:"p-1 hover:bg-gray-100 rounded transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),a.jsx("div",{className:"mb-3 px-2 py-1.5 bg-gray-50 rounded-xl border border-gray-100",children:a.jsx("p",{className:"text-xs text-gray-600",children:y?"Clic pentru a schimba data de nceput":"Selecteaz data de nceput"})}),a.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Du","Lu","Ma","Mi","Jo","Vi","S"].map(ie=>a.jsx("div",{className:"text-gray-500 font-medium",children:ie},ie))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:Be(W.pickup).map((ie,we)=>{if(!ie)return a.jsx("div",{},we);const De=new Date(ie),$e=ie,Ye=new Date;Ye.setHours(0,0,0,0);const lt=Le(Ye),ft=$e<lt,et=G?(()=>{const Mt=new Date;Mt.setHours(0,0,0,0);const Ht=new Date(G);Ht.setHours(0,0,0,0);const pr=new Date($e);return pr.setHours(0,0,0,0),Ht<=Mt&&pr<Ht})():!1,Pt=oe($e),kt=ft||et||Pt,jt=$e===y,Tt=j&&$e===j,ut=y&&j&&$e>y&&$e<j,Dt=()=>"Aceast dat nu este disponibil.";return a.jsxs("div",{className:`w-8 h-8 flex items-center justify-center text-xs rounded transition-colors relative ${kt?"text-gray-300 cursor-not-allowed":"text-gray-700 cursor-pointer"} ${jt||Tt?"bg-theme-500 text-white hover:bg-theme-600 font-medium":ut?"bg-gray-100 text-gray-900 hover:bg-gray-200":kt?"":"hover:bg-gray-100"}`,onClick:()=>{if(kt)alert(Dt());else{const Mt=y&&y!==ie;if(Mt&&(k(""),E(""),z("")),g(ie),!Mt&&j&&ie>=j){const Ht=new Date(j),pr=new Date(ie),ar=Ht.getTime()-pr.getTime();Math.floor(ar/(1e3*60*60*24))<2&&k("")}pe(!0),setTimeout(()=>{B(!1),pe(!1),w||R(!0)},300)}},title:kt?Dt():"",children:[a.jsx("span",{className:"relative z-0",children:De.getDate()}),Pt&&a.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-red-600 font-bold text-base z-10 pointer-events-none",style:{fontSize:"14px"},children:""})]},we)})})]})})]}),a.jsxs("div",{className:"relative",ref:me,children:[a.jsxs("button",{onClick:ie=>{ie.stopPropagation(),ie.preventDefault(),y&&(R(we=>!we),q(!1),B(!1),T(!1))},onMouseDown:ie=>{ie.stopPropagation(),ie.preventDefault()},onTouchStart:ie=>{ie.stopPropagation()},disabled:!y,title:y?"":"Selecteaz mai nti data de nceput",className:`w-full flex items-center justify-center gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${y?w?"border-gray-300 text-gray-900 hover:border-gray-400":"border-gray-300 text-gray-400 hover:border-gray-400":"border-gray-300 text-gray-400 cursor-not-allowed"}`,children:[a.jsx(ra,{className:"w-4 h-4"}),a.jsx("span",{children:w||"__ : __"})]}),a.jsx(mr,{children:A&&a.jsx(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-2 max-h-[300px] overflow-y-auto w-full",onClick:ie=>ie.stopPropagation(),onMouseDown:ie=>ie.stopPropagation(),onTouchStart:ie=>ie.stopPropagation(),children:a.jsx("div",{className:"flex flex-col gap-1",children:(()=>{let ie;if(y){const De=new Date;De.setHours(0,0,0,0);const $e=Le(De);if(y===$e){let ft=new Date().getHours()+2;ft>=24&&(ft=23),ie=ft}else if(G){const Ye=G.toISOString().split("T")[0];if(y===Ye){const lt=G.getHours();ie=G.getMinutes()>0?lt+1:lt}}}return Ge(ie).filter(De=>{if(!y)return!0;const $e=new Date(y);return!Qe($e,De)}).map(De=>a.jsx("button",{onClick:$e=>{$e.stopPropagation(),E(De),pe(!0),setTimeout(()=>{R(!1),pe(!1),j||T(!0)},300)},onMouseDown:$e=>$e.stopPropagation(),className:`w-full px-3 py-2 text-sm rounded transition-colors text-center ${w===De?"bg-theme-500 text-white font-medium":"text-gray-700 hover:bg-gray-100"}`,children:De},De))})()})})})]})]}),a.jsxs("div",{className:"grid grid-cols-[7fr_3fr] gap-3 mb-4",children:[a.jsxs("div",{className:"relative",ref:Ae,children:[a.jsxs("button",{"data-calendar-toggle":"return",onClick:ie=>{ie.stopPropagation(),ie.preventDefault(),!(!y||!w)&&(T(we=>!we),B(!1),R(!1),q(!1))},onMouseDown:ie=>{ie.stopPropagation(),ie.preventDefault()},disabled:!y||!w,title:!y||!w?y?"Selecteaz mai nti ora de nceput":"Selecteaz mai nti data de nceput":"",className:`w-full flex items-center justify-center gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${!y||!w?"border-gray-300 text-gray-400 cursor-not-allowed":j?"border-gray-300 text-gray-900 hover:border-gray-400":"border-gray-300 text-gray-400 hover:border-gray-400"}`,children:[a.jsx(ta,{className:"w-4 h-4"}),a.jsx("span",{children:j?ge(j):"Data returnrii"})]}),a.jsx(mr,{children:$&&a.jsxs(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-3 w-[120%]",onClick:ie=>ie.stopPropagation(),onMouseDown:ie=>ie.stopPropagation(),onTouchStart:ie=>ie.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("button",{onClick:ie=>{ie.stopPropagation();const we=new Date(W.return);we.setMonth(we.getMonth()-1),ee(De=>({...De,return:we}))},className:"p-1 hover:bg-gray-100 rounded transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("div",{className:"text-sm font-medium text-gray-700",children:W.return.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),a.jsx("button",{onClick:ie=>{ie.stopPropagation();const we=new Date(W.return);we.setMonth(we.getMonth()+1),ee(De=>({...De,return:we}))},className:"p-1 hover:bg-gray-100 rounded transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),a.jsx("div",{className:"mb-3 px-2 py-1.5 bg-gray-50 rounded-xl border border-gray-100",children:a.jsx("p",{className:"text-xs text-gray-600",children:y?j?"Clic pentru a schimba data de returnare":"Selecteaz data de returnare":"Selecteaz mai nti data de nceput"})}),a.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Du","Lu","Ma","Mi","Jo","Vi","S"].map(ie=>a.jsx("div",{className:"text-gray-500 font-medium",children:ie},ie))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:Be(W.return).map((ie,we)=>{if(!ie)return a.jsx("div",{},we);const De=new Date(ie),$e=ie,Ye=new Date;Ye.setHours(0,0,0,0);const lt=Le(Ye),ft=$e<lt,et=G?(()=>{const ar=new Date;ar.setHours(0,0,0,0);const Lt=new Date(G);Lt.setHours(0,0,0,0);const Xt=new Date($e);return Xt.setHours(0,0,0,0),Lt<=ar&&Xt<Lt})():!1,Pt=y&&$e<=y,kt=y&&(()=>{const ar=new Date(y),Xt=new Date($e).getTime()-ar.getTime();return Math.floor(Xt/(1e3*60*60*24))<2})(),jt=oe($e),Tt=y?(()=>{const ar=St();if(!ar)return!1;const Lt=new Date(y);Lt.setHours(0,0,0,0);const Xt=new Date(ar);Xt.setHours(0,0,0,0);const er=new Date($e);return er.setHours(0,0,0,0),Lt>=Xt?!1:er>=Xt})():ht($e),ut=ft||et||Pt||jt||Tt,Dt=$e===j,Mt=y&&$e===y,Ht=y&&j&&$e>y&&$e<j,pr=()=>{if(Tt){const ar=St();if(ar)return`Nu putei selecta aceast dat. Maina este deja rezervat ncepnd cu ${new Date(ar).toLocaleDateString("ro-RO",{day:"numeric",month:"long",year:"numeric"})}.`}return"Aceast dat nu este disponibil."};return a.jsxs("div",{className:`w-8 h-8 flex items-center justify-center text-xs rounded transition-colors relative ${kt?"text-black opacity-50 cursor-not-allowed":ut?"text-gray-300 cursor-not-allowed":"text-gray-700 cursor-pointer"} ${Dt||Mt?"bg-theme-500 text-white hover:bg-theme-600 font-medium":Ht?"bg-gray-100 text-gray-900 hover:bg-gray-200":!ut&&!kt?"hover:bg-gray-100":""}`,onClick:()=>{if(kt){ue("Perioada minim de nchiriere este de 2 zile"),setTimeout(()=>ue(""),3e3);return}ut?alert(pr()):(k(ie),pe(!0),setTimeout(()=>{T(!1),pe(!1),O||q(!0)},300))},title:ut?pr():"",children:[a.jsx("span",{className:"relative z-0",children:De.getDate()}),jt&&a.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-red-600 font-bold text-base z-10 pointer-events-none",style:{fontSize:"14px"},children:""})]},we)})}),ae&&a.jsx("div",{className:"mt-3 px-2 py-1.5 bg-blue-50 rounded-xl border border-blue-100",children:a.jsx("p",{className:"text-xs text-blue-700",children:ae})})]})})]}),a.jsxs("div",{className:"relative",ref:Ce,children:[a.jsxs("button",{onClick:ie=>{ie.stopPropagation(),ie.preventDefault(),!(!y||!w||!j)&&(q(we=>!we),R(!1),B(!1),T(!1))},onMouseDown:ie=>{ie.stopPropagation(),ie.preventDefault()},onTouchStart:ie=>{ie.stopPropagation()},disabled:!y||!w||!j,title:!y||!w||!j?y?w?"Selecteaz mai nti data de returnare":"Selecteaz mai nti ora de nceput":"Selecteaz mai nti data de nceput":"",className:`w-full flex items-center justify-center gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${!y||!w||!j?"border-gray-300 text-gray-400 cursor-not-allowed":O?"border-gray-300 text-gray-900 hover:border-gray-400":"border-gray-300 text-gray-400 hover:border-gray-400"}`,children:[a.jsx(ra,{className:"w-4 h-4"}),a.jsx("span",{children:O||"__ : __"})]}),a.jsx(mr,{children:L&&a.jsx(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-2 max-h-[300px] overflow-y-auto w-full",onClick:ie=>ie.stopPropagation(),onMouseDown:ie=>ie.stopPropagation(),onTouchStart:ie=>ie.stopPropagation(),children:a.jsx("div",{className:"flex flex-col gap-1",children:Ge().map(ie=>a.jsx("button",{onClick:we=>{we.stopPropagation(),z(ie),pe(!0),setTimeout(()=>{q(!1),pe(!1)},300)},onMouseDown:we=>we.stopPropagation(),className:`w-full px-3 py-2 text-sm rounded transition-colors text-center ${O===ie?"bg-theme-500 text-white font-medium":"text-gray-700 hover:bg-gray-100"}`,children:ie},ie))})})})]})]}),a.jsx("div",{className:"mb-4",children:Ve?a.jsx("button",{onClick:it,className:"w-full font-semibold py-3 px-4 rounded-xl transition-colors bg-red-600 hover:bg-red-700 text-white cursor-pointer text-sm",children:"nchiriaz"}):a.jsx("button",{disabled:!0,className:"w-full font-semibold py-3 px-4 rounded-xl transition-colors bg-gray-200 text-gray-400 cursor-not-allowed text-sm",children:"Alegei datele"})}),a.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg md:text-2xl font-bold text-gray-900",children:"Costul nchirierii"}),l.discount_percentage&&l.discount_percentage>0&&a.jsxs("div",{className:"px-2 py-1 md:px-3 md:py-1.5 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-full text-xs font-semibold shadow-sm md:shadow-md",children:[l.discount_percentage,"% REDUCERE"]})]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx("div",{className:"relative group",children:a.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 shadow-sm hover:shadow-lg transition-all duration-300 hover:scale-105",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-red-500 rounded-full shadow-sm",children:a.jsx("span",{className:"text-white font-semibold text-xs",children:"2-4"})}),a.jsx("span",{className:"text-xs font-semibold text-red-600 uppercase tracking-wide",children:"ZILE"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[l.discount_percentage&&l.discount_percentage>0&&a.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[qe(s),Ee(l.price_2_4_days||0).toLocaleString("ro-RO")]}),a.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:qe(s)}),Ee(l.discount_percentage&&l.discount_percentage>0?Math.round((l.price_2_4_days||0)*(1-l.discount_percentage/100)):l.price_2_4_days||0).toLocaleString("ro-RO")]})]})]})})}),a.jsx("div",{className:"relative group",children:a.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 shadow-sm hover:shadow-lg transition-all duration-300 hover:scale-105",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-red-500 rounded-full shadow-sm",children:a.jsx("span",{className:"text-white font-semibold text-xs",children:"5-15"})}),a.jsx("span",{className:"text-xs font-semibold text-red-600 uppercase tracking-wide",children:"ZILE"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[l.discount_percentage&&l.discount_percentage>0&&a.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[qe(s),Ee(l.price_5_15_days||0).toLocaleString("ro-RO")]}),a.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:qe(s)}),Ee(l.discount_percentage&&l.discount_percentage>0?Math.round((l.price_5_15_days||0)*(1-l.discount_percentage/100)):l.price_5_15_days||0).toLocaleString("ro-RO")]})]})]})})}),a.jsx("div",{className:"relative group",children:a.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 shadow-sm hover:shadow-lg transition-all duration-300 hover:scale-105",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-red-500 rounded-full shadow-sm",children:a.jsx("span",{className:"text-white font-semibold text-xs",children:"16-30"})}),a.jsx("span",{className:"text-xs font-semibold text-red-600 uppercase tracking-wide",children:"ZILE"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[l.discount_percentage&&l.discount_percentage>0&&a.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[qe(s),Ee(l.price_16_30_days||0).toLocaleString("ro-RO")]}),a.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:qe(s)}),Ee(l.discount_percentage&&l.discount_percentage>0?Math.round((l.price_16_30_days||0)*(1-l.discount_percentage/100)):l.price_16_30_days||0).toLocaleString("ro-RO")]})]})]})})}),a.jsx("div",{className:"relative group",children:a.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 shadow-sm hover:shadow-lg transition-all duration-300 hover:scale-105",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-red-500 rounded-full shadow-sm",children:a.jsx("span",{className:"text-white font-semibold text-xs",children:"30+"})}),a.jsx("span",{className:"text-xs font-semibold text-red-600 uppercase tracking-wide",children:"ZILE"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[l.discount_percentage&&l.discount_percentage>0&&a.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[qe(s),Ee(l.price_over_30_days||0).toLocaleString("ro-RO")]}),a.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:qe(s)}),Ee(l.discount_percentage&&l.discount_percentage>0?Math.round((l.price_over_30_days||0)*(1-l.discount_percentage/100)):l.price_over_30_days||0).toLocaleString("ro-RO")]})]})]})})})]})]})]})}),a.jsxs("div",{className:"bg-white rounded-2xl border border-gray-300 shadow-sm p-6 md:p-8 mb-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("span",{className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:"Specificaii"}),a.jsx("h2",{className:"mt-3 text-2xl md:text-3xl font-bold text-gray-800 leading-tight",children:"Caracteristici vehicul"})]}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5 md:gap-3 p-1.5 md:p-3 bg-white rounded-lg border border-gray-300 hover:shadow-md transition-all",children:[a.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-lg flex items-center justify-center flex-shrink-0 shadow-md bg-gradient-to-b from-red-500 to-red-600",children:a.jsx(em,{className:"w-3.5 h-3.5 md:w-5 md:h-5 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-0.5",children:"Locuri"}),a.jsx("div",{className:"text-sm font-bold text-gray-800",children:l.seats})]})]}),a.jsxs("div",{className:"flex items-center gap-1.5 md:gap-3 p-1.5 md:p-3 bg-white rounded-lg border border-gray-300 hover:shadow-md transition-all",children:[a.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-lg flex items-center justify-center flex-shrink-0 shadow-md bg-gradient-to-b from-red-500 to-red-600",children:(()=>{var $e;const ie=(($e=l.transmission)==null?void 0:$e.trim())||"",De=ie.toLowerCase()==="manual"||ie==="Manual"?cy:jh;return vt.createElement(De,{className:"w-5 h-5 text-white"})})()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-0.5",children:"Transmisie"}),a.jsx("div",{className:"text-sm font-bold text-gray-800",children:(()=>{var we;const ie=((we=l.transmission)==null?void 0:we.trim())||"";return ie.toLowerCase()==="automatic"||ie==="Automatic"?"Automat":ie.toLowerCase()==="manual"||ie==="Manual"?"Manual":ie||"Automat"})()})]})]}),a.jsxs("div",{className:"flex items-center gap-1.5 md:gap-3 p-1.5 md:p-3 bg-white rounded-lg border border-gray-300 hover:shadow-md transition-all",children:[a.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-lg flex items-center justify-center flex-shrink-0 shadow-md bg-gradient-to-b from-red-500 to-red-600",children:vt.createElement(dY,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-0.5",children:"Combustibil"}),a.jsx("div",{className:"text-sm font-bold text-gray-800",children:l.fuel_type==="gasoline"?"Benzin":l.fuel_type==="diesel"?"Diesel":l.fuel_type==="petrol"?"Benzin":l.fuel_type==="hybrid"?"Hibrid":l.fuel_type==="electric"?"Electric":l.fuel_type})]})]}),a.jsxs("div",{className:"flex items-center gap-1.5 md:gap-3 p-1.5 md:p-3 bg-white rounded-lg border border-gray-300 hover:shadow-md transition-all",children:[a.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-lg flex items-center justify-center flex-shrink-0 shadow-md bg-gradient-to-b from-red-500 to-red-600",children:vt.createElement(gN,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-0.5",children:"Caroserie"}),a.jsx("div",{className:"text-sm font-bold text-gray-800",children:l.body})]})]})]}),(l.power||l.acceleration||l.fuel_consumption)&&a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[a.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-4 uppercase tracking-wide flex items-center gap-2",children:[a.jsx(Bx,{className:"w-4 h-4 text-gray-500"}),"Specificaii tehnice"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.power&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 md:p-4 border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-1 md:gap-2 mb-2",children:[a.jsx(PH,{className:"w-2.5 h-2.5 md:w-4 md:h-4 text-theme-600"}),a.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Putere"})]}),a.jsx("div",{className:"text-lg font-bold text-gray-900",children:l.power})]}),l.acceleration&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 md:p-4 border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-1 md:gap-2 mb-2",children:[a.jsx(Bx,{className:"w-2.5 h-2.5 md:w-4 md:h-4 text-theme-600"}),a.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Acceleraie"})]}),a.jsx("div",{className:"text-lg font-bold text-gray-900",children:l.acceleration})]}),l.fuel_consumption&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 md:p-4 border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-1 md:gap-2 mb-2",children:[a.jsx(xH,{className:"w-1.5 h-1.5 md:w-4 md:h-4 text-theme-600"}),a.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Consum"})]}),a.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[l.fuel_consumption," L/100km"]})]})]})]})]}),l.features&&l.features.length>0&&a.jsxs("div",{className:"bg-white rounded-2xl border border-gray-300 shadow-sm p-6 md:p-8 mb-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("span",{className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:"Echipament"}),a.jsx("h2",{className:"mt-3 text-2xl md:text-3xl font-bold text-gray-800 leading-tight",children:"Echipament inclus"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:l.features.map((ie,we)=>a.jsxs("div",{className:"flex items-center gap-3 bg-white rounded-xl p-4 border border-gray-300 hover:shadow-md transition-all group",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 flex-shrink-0 group-hover:scale-125 transition-transform"}),a.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900 transition-colors",children:ie})]},we))})]}),a.jsx(hL,{}),a.jsx(pN,{})]}),a.jsx("aside",{className:"hidden lg:block lg:col-start-2",children:a.jsx("div",{className:"sticky",style:{top:"calc(6rem + env(safe-area-inset-top))"},children:a.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:[a.jsx("div",{className:"mb-4",children:(()=>{const ie=l.price_over_30_days||0,we=l.discount_percentage||l.discount_percentage||0,De=we>0?ie*(1-we/100):ie;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"text-4xl font-bold text-gray-900",children:[qe(s),Ee(De).toLocaleString("ro-RO",{minimumFractionDigits:0,maximumFractionDigits:0})," ",a.jsx("span",{className:"text-lg font-normal text-gray-600",children:"pe zi"})]}),a.jsxs("div",{className:"relative ml-4",children:[a.jsxs("select",{value:s,onChange:$e=>o($e.target.value),className:"appearance-none bg-white border border-gray-200 rounded-full px-4 py-2 pr-8 text-sm font-medium text-gray-900 shadow-sm hover:border-red-300 focus:border-red-500 focus:ring-2 focus:ring-red-200 focus:outline-none transition-all duration-200 cursor-pointer",children:[a.jsx("option",{value:"MDL",children:"MDL"}),a.jsx("option",{value:"EUR",children:" EUR"}),a.jsx("option",{value:"USD",children:"$ USD"})]}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:a.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),we>0&&a.jsxs("div",{className:"text-sm text-gray-400 line-through mb-1",children:[qe(s),Ee(ie).toLocaleString("ro-RO")]})]})})()}),a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:["nchiriere ",l.make," ",l.model,", ",l.year," an"]}),a.jsxs("a",{href:"tel:+37362000112",className:"flex items-center justify-center gap-3 w-full bg-gray-100 hover:bg-gray-200 text-gray-900 font-medium py-3.5 px-6 rounded-xl mb-3 transition-colors",children:[a.jsx(Qf,{className:"w-5 h-5"}),a.jsx("span",{children:"+373 (62) 000-112"})]}),a.jsxs("a",{href:"https://t.me/Level_Auto_Rental",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-3 w-full border-2 border-gray-300 hover:border-gray-400 text-gray-900 font-medium py-3.5 px-6 rounded-xl mb-3 transition-colors",children:[a.jsx(Z2,{className:"w-5 h-5"}),a.jsx("span",{children:"Scrie-ne pe Telegram"})]}),a.jsx("p",{className:"text-center text-base text-gray-500 mb-6",children:"Ne putei scrie sau apela, v vom ajuta"}),a.jsxs("div",{className:"grid grid-cols-[7fr_3fr] gap-3 mb-3",children:[a.jsxs("div",{className:"relative",ref:ve,children:[a.jsxs("button",{"data-calendar-toggle":"pickup",onClick:ie=>{ie.stopPropagation(),ie.preventDefault(),B(we=>!we),T(!1),R(!1),q(!1)},onMouseDown:ie=>{ie.stopPropagation(),ie.preventDefault()},className:`w-full flex items-center justify-center gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${y?"border-gray-300 text-gray-900 hover:border-gray-400":"border-gray-300 text-gray-400 hover:border-gray-400"}`,children:[a.jsx(ta,{className:"w-4 h-4"}),a.jsx("span",{children:y?ge(y):"Data primirii"})]}),a.jsx(mr,{children:Y&&a.jsxs(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-3 w-full",onClick:ie=>ie.stopPropagation(),onMouseDown:ie=>ie.stopPropagation(),onTouchStart:ie=>ie.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("button",{onClick:ie=>{ie.stopPropagation();const we=new Date(W.pickup);we.setMonth(we.getMonth()-1),ee(De=>({...De,pickup:we}))},className:"p-1 hover:bg-gray-100 rounded transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("div",{className:"text-sm font-medium text-gray-700",children:W.pickup.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),a.jsx("button",{onClick:ie=>{ie.stopPropagation();const we=new Date(W.pickup);we.setMonth(we.getMonth()+1),ee(De=>({...De,pickup:we}))},className:"p-1 hover:bg-gray-100 rounded transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),a.jsx("div",{className:"mb-3 px-2 py-1.5 bg-gray-50 rounded-xl border border-gray-100",children:a.jsx("p",{className:"text-xs text-gray-600",children:y?"Clic pentru a schimba data de nceput":"Selecteaz data de nceput"})}),a.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Du","Lu","Ma","Mi","Jo","Vi","S"].map(ie=>a.jsx("div",{className:"text-gray-500 font-medium",children:ie},ie))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:Be(W.pickup).map((ie,we)=>{if(!ie)return a.jsx("div",{},we);const De=new Date(ie),$e=ie,Ye=new Date;Ye.setHours(0,0,0,0);const lt=Le(Ye),ft=$e<lt,et=G?(()=>{const Dt=new Date;Dt.setHours(0,0,0,0);const Mt=new Date(G);Mt.setHours(0,0,0,0);const Ht=new Date($e);return Ht.setHours(0,0,0,0),Mt<=Dt&&Ht<Mt})():!1,Pt=oe($e),kt=ft||et||Pt,jt=$e===y,Tt=j&&$e===j,ut=y&&j&&$e>y&&$e<j;return a.jsxs("div",{className:`w-8 h-8 flex items-center justify-center text-xs cursor-pointer rounded transition-colors relative ${kt?"text-gray-300 cursor-not-allowed":"text-gray-700"} ${jt||Tt?"bg-theme-500 text-white hover:bg-theme-600 font-medium":ut?"bg-gray-100 text-gray-900 hover:bg-gray-200":kt?"":"hover:bg-gray-100"}`,onClick:()=>{if(!kt){const Dt=y&&y!==ie;if(g(ie),Dt)k(""),E(""),z("");else if(j&&ie>=j){const Mt=new Date(j),Ht=new Date(ie),pr=Mt.getTime()-Ht.getTime();Math.floor(pr/(1e3*60*60*24))<2&&k("")}pe(!0),setTimeout(()=>{B(!1),pe(!1),w||R(!0)},300)}},children:[a.jsx("span",{className:"relative z-0",children:De.getDate()}),Pt&&a.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-red-600 font-bold text-base z-10 pointer-events-none",style:{fontSize:"14px"},children:""})]},we)})})]})})]}),a.jsxs("div",{className:"relative",ref:me,children:[a.jsxs("button",{onClick:ie=>{ie.stopPropagation(),ie.preventDefault(),y&&(R(we=>!we),q(!1),B(!1),T(!1))},onMouseDown:ie=>{ie.stopPropagation(),ie.preventDefault()},onTouchStart:ie=>{ie.stopPropagation()},disabled:!y,title:y?"":"Selecteaz mai nti data de nceput",className:`w-full flex items-center justify-center gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${y?w?"border-gray-300 text-gray-900 hover:border-gray-400":"border-gray-300 text-gray-400 hover:border-gray-400":"border-gray-300 text-gray-400 cursor-not-allowed"}`,children:[a.jsx(ra,{className:"w-4 h-4"}),a.jsx("span",{children:w||"__ : __"})]}),a.jsx(mr,{children:A&&a.jsx(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-2 max-h-[300px] overflow-y-auto w-full",onClick:ie=>ie.stopPropagation(),onMouseDown:ie=>ie.stopPropagation(),onTouchStart:ie=>ie.stopPropagation(),children:a.jsx("div",{className:"flex flex-col gap-1",children:(()=>{let ie;if(y){const De=new Date;De.setHours(0,0,0,0);const $e=Le(De);if(y===$e){let ft=new Date().getHours()+2;ft>=24&&(ft=23),ie=ft}else if(G){const Ye=G.toISOString().split("T")[0];if(y===Ye){const lt=G.getHours();ie=G.getMinutes()>0?lt+1:lt}}}return Ge(ie).filter(De=>{if(!y)return!0;const $e=new Date(y);return!Qe($e,De)}).map(De=>a.jsx("button",{onClick:$e=>{$e.stopPropagation(),E(De),pe(!0),setTimeout(()=>{R(!1),pe(!1),j||T(!0)},300)},onMouseDown:$e=>$e.stopPropagation(),className:`w-full px-3 py-2 text-sm rounded transition-colors text-center ${w===De?"bg-theme-500 text-white font-medium":"text-gray-700 hover:bg-gray-100"}`,children:De},De))})()})})})]})]}),a.jsxs("div",{className:"grid grid-cols-[7fr_3fr] gap-3 mb-4",children:[a.jsxs("div",{className:"relative",ref:Ae,children:[a.jsxs("button",{onClick:ie=>{ie.stopPropagation(),!(!y||!w)&&(T(!$),B(!1),R(!1),q(!1))},onMouseDown:ie=>ie.stopPropagation(),disabled:!y||!w,title:!y||!w?y?"Selecteaz mai nti ora de nceput":"Selecteaz mai nti data de nceput":"",className:`w-full flex items-center justify-center gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${!y||!w?"border-gray-300 text-gray-400 cursor-not-allowed":j?"border-gray-300 text-gray-900 hover:border-gray-400":"border-gray-300 text-gray-400 hover:border-gray-400"}`,children:[a.jsx(ta,{className:"w-4 h-4"}),a.jsx("span",{children:j?ge(j):"Data returnrii"})]}),a.jsx(mr,{children:$&&a.jsxs(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-3 w-full",onClick:ie=>ie.stopPropagation(),onMouseDown:ie=>ie.stopPropagation(),onTouchStart:ie=>ie.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("button",{onClick:ie=>{ie.stopPropagation();const we=new Date(W.return);we.setMonth(we.getMonth()-1),ee(De=>({...De,return:we}))},className:"p-1 hover:bg-gray-100 rounded transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("div",{className:"text-sm font-medium text-gray-700",children:W.return.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),a.jsx("button",{onClick:ie=>{ie.stopPropagation();const we=new Date(W.return);we.setMonth(we.getMonth()+1),ee(De=>({...De,return:we}))},className:"p-1 hover:bg-gray-100 rounded transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),a.jsx("div",{className:"mb-3 px-2 py-1.5 bg-gray-50 rounded-xl border border-gray-100",children:a.jsx("p",{className:"text-xs text-gray-600",children:y?j?"Clic pentru a schimba data de returnare":"Selecteaz data de returnare":"Selecteaz mai nti data de nceput"})}),a.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Du","Lu","Ma","Mi","Jo","Vi","S"].map(ie=>a.jsx("div",{className:"text-gray-500 font-medium",children:ie},ie))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:Be(W.return).map((ie,we)=>{if(!ie)return a.jsx("div",{},we);const De=new Date(ie),$e=ie,Ye=new Date;Ye.setHours(0,0,0,0);const lt=Le(Ye),ft=$e<lt,et=G?(()=>{const ar=new Date;ar.setHours(0,0,0,0);const Lt=new Date(G);Lt.setHours(0,0,0,0);const Xt=new Date($e);return Xt.setHours(0,0,0,0),Lt<=ar&&Xt<Lt})():!1,Pt=y&&$e<=y,kt=y&&(()=>{const ar=new Date(y),Xt=new Date($e).getTime()-ar.getTime();return Math.floor(Xt/(1e3*60*60*24))<2})(),jt=oe($e),Tt=y?(()=>{const ar=St();if(!ar)return!1;const Lt=new Date(y);Lt.setHours(0,0,0,0);const Xt=new Date(ar);Xt.setHours(0,0,0,0);const er=new Date($e);return er.setHours(0,0,0,0),Lt>=Xt?!1:er>=Xt})():ht($e),ut=ft||et||Pt||jt||Tt,Dt=$e===j,Mt=y&&$e===y,Ht=y&&j&&$e>y&&$e<j,pr=()=>{if(Tt){const ar=St();if(ar)return`Nu putei selecta aceast dat. Maina este deja rezervat ncepnd cu ${new Date(ar).toLocaleDateString("ro-RO",{day:"numeric",month:"long",year:"numeric"})}.`}return"Aceast dat nu este disponibil."};return a.jsxs("div",{className:`w-8 h-8 flex items-center justify-center text-xs rounded transition-colors relative ${kt?"text-black opacity-50 cursor-not-allowed":ut?"text-gray-300 cursor-not-allowed":"text-gray-700 cursor-pointer"} ${Dt||Mt?"bg-theme-500 text-white hover:bg-theme-600 font-medium":Ht?"bg-gray-100 text-gray-900 hover:bg-gray-200":!ut&&!kt?"hover:bg-gray-100":""}`,onClick:()=>{if(kt){ue("Perioada minim de nchiriere este de 2 zile"),setTimeout(()=>ue(""),3e3);return}ut?alert(pr()):(k(ie),pe(!0),setTimeout(()=>{T(!1),pe(!1),O||q(!0)},300))},title:ut?pr():"",children:[a.jsx("span",{className:"relative z-0",children:De.getDate()}),jt&&a.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-red-600 font-bold text-base z-10 pointer-events-none",style:{fontSize:"14px"},children:""})]},we)})}),ae&&a.jsx("div",{className:"mt-3 px-2 py-1.5 bg-blue-50 rounded-xl border border-blue-100",children:a.jsx("p",{className:"text-xs text-blue-700",children:ae})})]})})]}),a.jsxs("div",{className:"relative",ref:Ce,children:[a.jsxs("button",{onClick:ie=>{ie.stopPropagation(),ie.preventDefault(),!(!y||!w||!j)&&(q(we=>!we),R(!1),B(!1),T(!1))},onMouseDown:ie=>{ie.stopPropagation(),ie.preventDefault()},onTouchStart:ie=>{ie.stopPropagation()},disabled:!y||!w||!j,title:!y||!w||!j?y?w?"Selecteaz mai nti data de returnare":"Selecteaz mai nti ora de nceput":"Selecteaz mai nti data de nceput":"",className:`w-full flex items-center justify-center gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${!y||!w||!j?"border-gray-300 text-gray-400 cursor-not-allowed":O?"border-gray-300 text-gray-900 hover:border-gray-400":"border-gray-300 text-gray-400 hover:border-gray-400"}`,children:[a.jsx(ra,{className:"w-4 h-4"}),a.jsx("span",{children:O||"__ : __"})]}),a.jsx(mr,{children:L&&a.jsx(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-2 max-h-[300px] overflow-y-auto w-full",onClick:ie=>ie.stopPropagation(),onMouseDown:ie=>ie.stopPropagation(),onTouchStart:ie=>ie.stopPropagation(),children:a.jsx("div",{className:"flex flex-col gap-1",children:Ge().map(ie=>a.jsx("button",{onClick:we=>{we.stopPropagation(),z(ie),pe(!0),setTimeout(()=>{q(!1),pe(!1)},300)},onMouseDown:we=>we.stopPropagation(),className:`w-full px-3 py-2 text-sm rounded transition-colors text-center ${O===ie?"bg-theme-500 text-white font-medium":"text-gray-700 hover:bg-gray-100"}`,children:ie},ie))})})})]})]}),Re&&a.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-xl border border-gray-200",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Pre pentru ",Re.days," ",Re.days===1?"zi":"zile",Re.hours>0&&`, ${Re.hours} ${Re.hours===1?"or":"ore"}`]}),a.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[qe(s),Ee(Re.totalPrice).toLocaleString("ro-RO")]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total"}),a.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[qe(s),Ee(Re.totalPrice).toLocaleString("ro-RO")]})]})]}),a.jsxs("div",{className:"flex gap-3 mb-6",children:[Ve?a.jsx("button",{onClick:it,className:"flex-1 font-semibold py-3.5 px-6 rounded-xl transition-colors bg-red-600 hover:bg-red-700 text-white cursor-pointer",children:"nchiriaz"}):a.jsx("button",{disabled:!0,className:"flex-1 font-semibold py-3.5 px-6 rounded-xl transition-colors bg-gray-200 text-gray-400 cursor-not-allowed",children:"Alegei datele"}),a.jsx("button",{onClick:pt,className:"w-14 h-14 flex items-center justify-center border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors",children:vt.createElement(Xx,{className:`w-6 h-6 transition-all duration-300 ${p?"text-red-500":"text-gray-600 hover:text-red-500"}`})})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg md:text-2xl font-bold text-gray-900",children:"Costul nchirierii"}),l.discount_percentage&&l.discount_percentage>0&&a.jsxs("div",{className:"px-2 py-1 md:px-3 md:py-1.5 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-full text-xs font-semibold shadow-sm md:shadow-md",children:[l.discount_percentage,"% REDUCERE"]})]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx("div",{className:"relative group",children:a.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 shadow-sm hover:shadow-lg transition-all duration-300 hover:scale-105",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-red-500 rounded-full shadow-sm",children:a.jsx("span",{className:"text-white font-semibold text-xs",children:"2-4"})}),a.jsx("span",{className:"text-xs font-semibold text-red-600 uppercase tracking-wide",children:"ZILE"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[l.discount_percentage&&l.discount_percentage>0&&a.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[qe(s),Ee(l.price_2_4_days||0).toLocaleString("ro-RO")]}),a.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:qe(s)}),Ee(l.discount_percentage&&l.discount_percentage>0?Math.round((l.price_2_4_days||0)*(1-l.discount_percentage/100)):l.price_2_4_days||0).toLocaleString("ro-RO")]})]})]})})}),a.jsx("div",{className:"relative group",children:a.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 shadow-sm hover:shadow-lg transition-all duration-300 hover:scale-105",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-red-500 rounded-full shadow-sm",children:a.jsx("span",{className:"text-white font-semibold text-xs",children:"5-15"})}),a.jsx("span",{className:"text-xs font-semibold text-red-600 uppercase tracking-wide",children:"ZILE"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[l.discount_percentage&&l.discount_percentage>0&&a.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[qe(s),Ee(l.price_5_15_days||0).toLocaleString("ro-RO")]}),a.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:qe(s)}),Ee(l.discount_percentage&&l.discount_percentage>0?Math.round((l.price_5_15_days||0)*(1-l.discount_percentage/100)):l.price_5_15_days||0).toLocaleString("ro-RO")]})]})]})})}),a.jsx("div",{className:"relative group",children:a.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 shadow-sm hover:shadow-lg transition-all duration-300 hover:scale-105",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-red-500 rounded-full shadow-sm",children:a.jsx("span",{className:"text-white font-semibold text-xs",children:"16-30"})}),a.jsx("span",{className:"text-xs font-semibold text-red-600 uppercase tracking-wide",children:"ZILE"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[l.discount_percentage&&l.discount_percentage>0&&a.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[qe(s),Ee(l.price_16_30_days||0).toLocaleString("ro-RO")]}),a.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:qe(s)}),Ee(l.discount_percentage&&l.discount_percentage>0?Math.round((l.price_16_30_days||0)*(1-l.discount_percentage/100)):l.price_16_30_days||0).toLocaleString("ro-RO")]})]})]})})}),a.jsx("div",{className:"relative group",children:a.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 shadow-sm hover:shadow-lg transition-all duration-300 hover:scale-105",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-red-500 rounded-full shadow-sm",children:a.jsx("span",{className:"text-white font-semibold text-xs",children:"30+"})}),a.jsx("span",{className:"text-xs font-semibold text-red-600 uppercase tracking-wide",children:"ZILE"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[l.discount_percentage&&l.discount_percentage>0&&a.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[qe(s),Ee(l.price_over_30_days||0).toLocaleString("ro-RO")]}),a.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:qe(s)}),Ee(l.discount_percentage&&l.discount_percentage>0?Math.round((l.price_over_30_days||0)*(1-l.discount_percentage/100)):l.price_over_30_days||0).toLocaleString("ro-RO")]})]})]})})})]})]})]})})})]})}),l&&Re&&a.jsx(yY,{isOpen:M,onClose:()=>V(!1),car:l,pickupDate:y,returnDate:j,pickupTime:w,returnTime:O,rentalCalculation:Re,approvedBorrowRequests:P,carRentalsForCalendar:ce}),U&&Na.createPortal(a.jsx(mr,{children:U&&a.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black z-[99999] flex items-center justify-center",style:{top:0,left:0,right:0,bottom:0,position:"fixed"},onClick:()=>I(!1),onKeyDown:ie=>{var we,De;if(ie.key==="Escape")I(!1);else if(ie.key==="ArrowLeft"&&rt.length>1){const $e=H>0?H-1:rt.length-1;D($e),(we=Me.current)==null||we.slickGoTo($e)}else if(ie.key==="ArrowRight"&&rt.length>1){const $e=H<rt.length-1?H+1:0;D($e),(De=Me.current)==null||De.slickGoTo($e)}},tabIndex:0,children:a.jsxs(Ie.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},onClick:ie=>ie.stopPropagation(),className:"relative w-full h-full flex flex-col md:items-center md:justify-center",onKeyDown:ie=>ie.stopPropagation(),children:[a.jsxs("div",{className:"absolute top-0 left-0 right-0 z-20 flex items-center justify-between px-6 py-3",children:[a.jsx("div",{className:"flex items-center gap-3",children:rt.length>1&&a.jsxs("span",{className:"text-white/70 text-sm font-medium",children:[H+1," of ",rt.length]})}),a.jsx("button",{onClick:()=>I(!1),className:"p-2 hover:bg-white/10 text-white/80 hover:text-white rounded-lg transition-colors",children:a.jsx(hn,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-6 md:p-2 relative",children:rt.length>0&&a.jsxs("div",{className:"w-full h-full max-w-full max-h-[75vh] flex items-center justify-center md:max-w-6xl md:mx-auto",children:[a.jsx("style",{children:`
                                                .image-viewer-slider .slick-list {
                                                    height: 100%;
                                                    overflow: visible;
                                                }
                                                .image-viewer-slider .slick-track {
                                                    height: 100%;
                                                    display: flex;
                                                    align-items: center;
                                                    transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                                                }
                                                .image-viewer-slider .slick-slide {
                                                    height: auto;
                                                    transition: opacity 0.3s ease;
                                                    padding: 0 10px;
                                                }
                                                @media (min-width: 768px) {
                                                    .image-viewer-slider .slick-slide {
                                                        padding: 0 5px;
                                                    }
                                                }
                                                .image-viewer-slider .slick-slide > div {
                                                    height: 100%;
                                                    display: flex;
                                                    align-items: center;
                                                    justify-content: center;
                                                    width: 100%;
                                                }
                                                .image-viewer-slider .slick-arrow {
                                                    display: none !important;
                                                }
                                                @media (min-width: 768px) {
                                                    .image-viewer-slider .slick-slide > div {
                                                        justify-content: center !important;
                                                    }
                                                }
                                            `}),a.jsx(yL,{ref:Me,initialSlide:H,afterChange:ie=>D(ie),infinite:rt.length>1,speed:400,slidesToShow:1,slidesToScroll:1,swipeToSlide:!0,touchMove:!0,draggable:!0,fade:!1,arrows:!1,cssEase:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",useCSS:!0,useTransform:!0,className:"image-viewer-slider w-full h-full md:w-full",children:rt.filter(ie=>typeof ie=="string"&&ie.length>0).map((ie,we)=>a.jsx("div",{className:"flex items-center justify-center h-full w-full",children:a.jsx("img",{src:ie,alt:`${l.make} ${l.model} - Image ${we+1}`,className:"max-w-full max-h-[75vh] object-contain rounded-xl select-none md:max-w-[90vw]",style:{margin:"0 auto"},draggable:!1})},we))})]})}),rt.length>1&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 border-t border-white/10 bg-black/40 backdrop-blur-md",children:a.jsx("div",{className:"px-6 py-4 md:px-3 md:py-2",children:a.jsx("div",{className:"grid grid-cols-6 gap-3 md:gap-1.5 max-w-4xl mx-auto",children:rt.map((ie,we)=>a.jsx("button",{onClick:()=>D(we),className:`relative transition-all ${H===we?"opacity-100":"opacity-50 hover:opacity-80"}`,children:a.jsx("img",{src:ie,alt:`Thumbnail ${we+1}`,className:`w-full h-20 object-cover rounded-lg transition-all ${H===we?"border-2 border-white":"border border-white/20"}`})},we))})})})]})})}),document.body)]})},Fg=[{id:"1",userName:"Artur Sincarenco",userInitial:"A",userInitialColor:"bg-green-500",rating:5,date:"6 februarie 2025",category:"nchiriere",comment:"Am avut experien cu mai multe servicii de nchiriere, iar acesta este, probabil, unul dintre cele mai rapide i de ncredere. Mainile ngrijite, contractul este transparent i bine detaliat, fr condiii speciale sau plat n plus pentru plecri peste hotare, loiali. Dac ar trebui s recomand un parc de nchirieri, cu siguran ar fi acesta.",hasProfilePicture:!0,profilePicture:"https://images.pexels.com/photos/13866229/pexels-photo-13866229.jpeg"},{id:"2",userName:"Drago",userInitial:"D",userInitialColor:"bg-blue-500",rating:5,date:"1 martie 2025",category:"nchiriere",comment:"Totul super  service la nivel, masini fain, personal de nota 10. "},{id:"3",userName:"Igor Karpov",userInitial:"I",userInitialColor:"bg-purple-500",rating:5,date:"30 ianuarie 2025",category:"Splare",comment:"Bieii ofer ntr-adevr un serviciu de calitate, cea mai bun spltorie auto din Chiinu, o gam larg de servicii, folosesc produse chimice de calitate i respect procesul de curare, pleci mereu cu bun dispoziie ntr-o main cu adevrat curat.",isTranslated:!0,originalLanguage:"rus"},{id:"4",userName:"Alexandr",userInitial:"A",userInitialColor:"bg-green-500",rating:5,date:"19 ianuarie 2025",category:"nchiriere",comment:"Evaluare fr recenzie"},{id:"5",userName:"Artiom Rebrov",userInitial:"A",userInitialColor:"bg-green-500",rating:5,date:"28 ianuarie 2025",category:"nchiriere",comment:"Serviciu excelent, gam larg de maini, posibilitatea de a prelungi contractul de nchiriere la distan! Biei extraordinari. ",isTranslated:!0,originalLanguage:"rus",hasProfilePicture:!0,profilePicture:"https://images.pexels.com/photos/7401381/pexels-photo-7401381.jpeg"},{id:"6",userName:"Stefan",userInitial:"S",userInitialColor:"bg-purple-500",rating:5,date:"19 ianuarie 2025",category:"nchiriere",comment:"Am gsit maina de nchiriat pe care o cutam.",isTranslated:!0,originalLanguage:"rus"},{id:"7",userName:"Andriy Vovchok",userInitial:"A",userInitialColor:"bg-green-500",rating:5,date:"19 ianuarie 2025",category:"nchiriere",comment:"Serviciu excelent. Sunt multe maini. Procesul de nchiriere este foarte rapid. Ofer maini i strinilor. Recomand!",isTranslated:!0,originalLanguage:"rus",hasProfilePicture:!0,profilePicture:"https://images.pexels.com/photos/2797720/pexels-photo-2797720.jpeg"},{id:"8",userName:"Iulian Iulian",userInitial:"I",userInitialColor:"bg-pink-500",rating:4,date:"19 ianuarie 2025",category:"Vnzare",comment:"Au i maini de vnzare. Am vrut s vedem una. n primul rnd, nu rspundeau. A doua oar au rspuns. Au spus c vor reveni cu un apel. Nu au sunat napoi. S-a dovedit c anunul nu era actualizat.",isTranslated:!0,originalLanguage:"rus"},{id:"9",userName:"Alexandr",userInitial:"A",userInitialColor:"bg-green-500",rating:5,date:"20 decembrie 2024",category:"Detailing auto",comment:"Evaluare fr recenzie"},{id:"10",userName:"Iura",userInitial:"I",userInitialColor:"bg-blue-600",rating:5,date:"15 decembrie 2024",category:"nchiriere",comment:"Serviciu foarte bun! Maina era curat i n stare perfect. Procesul de rezervare a fost simplu i rapid. Voi folosi din nou cu siguran serviciile acestea.",hasProfilePicture:!0,profilePicture:"https://images.pexels.com/photos/839011/pexels-photo-839011.jpeg"},{id:"11",userName:"Maxim",userInitial:"M",userInitialColor:"bg-green-500",rating:5,date:"10 decembrie 2024",category:"nchiriere",comment:"Cea mai bun experien de nchiriere auto! Preuri excelente, serviciu clieni extraordinar, iar maina a depit ateptrile mele. Recomand cu ncredere!"},{id:"12",userName:"Ion",userInitial:"I",userInitialColor:"bg-blue-600",rating:5,date:"5 decembrie 2024",category:"Splare",comment:"Serviciu de splare auto de calitate superioar! Maina a ieit ca nou. Personalul este foarte atent la detalii i folosete produse de calitate. Voi reveni sigur!"},{id:"13",userName:"Cristian Popescu",userInitial:"C",userInitialColor:"bg-red-500",rating:5,date:"15 februarie 2025",category:"nchiriere",comment:"Experien fantastic! Am nchiriat un Mercedes i totul a fost perfect. Echipa este profesionist, am fost reprezentai imediat i procesul a fost foarte simplu. Maina era n stare impecabil!"},{id:"14",userName:"Ana Maria",userInitial:"A",userInitialColor:"bg-pink-500",rating:5,date:"20 februarie 2025",category:"nchiriere",comment:"Recomand cu toat ncrederea! Serviciu rapid, maini noi i preuri corecte. Am folosit serviciile de dou ori deja i de fiecare dat am fost foarte mulumit."},{id:"15",userName:"Vadim",userInitial:"V",userInitialColor:"bg-indigo-500",rating:5,date:"25 februarie 2025",category:"nchiriere",comment:"Excelent serviciu pentru nchirieri auto n Chiinu. Ofer i livrare la domiciliu, ceea ce este foarte convenabil. Mainile sunt ngrijite i preurile sunt mai bune dect la concuren."},{id:"16",userName:"Elena Radu",userInitial:"E",userInitialColor:"bg-yellow-500",rating:5,date:"3 martie 2025",category:"nchiriere",comment:"Am nchiriat pentru weekend i am fost foarte impresionat de calitatea serviciului. Personal foarte amabil i rspunde prompt la ntrebri. Maina a fost curat i n stare perfect de funcionare."},{id:"17",userName:"Petru",userInitial:"P",userInitialColor:"bg-orange-500",rating:5,date:"10 martie 2025",category:"nchiriere",comment:"Serviciu profesionist i de ncredere. Contractul este clar, fr surprize. Am nchiriat de mai multe ori i de fiecare dat totul a mers perfect. Recomand!"},{id:"18",userName:"Diana",userInitial:"D",userInitialColor:"bg-teal-500",rating:5,date:"18 martie 2025",category:"nchiriere",comment:"Cea mai bun companie de nchirieri auto din Moldova! Preuri fair, maini calitative i echipa super de ajutor. Will definitely use again!"},{id:"19",userName:"Sergey",userInitial:"S",userInitialColor:"bg-slate-500",rating:5,date:"22 martie 2025",category:"nchiriere",comment:"Fast service, good cars, fair prices. What more can you ask for? Highly recommend for anyone needing a rental car in Chisinau."},{id:"20",userName:"Alin",userInitial:"A",userInitialColor:"bg-cyan-500",rating:5,date:"28 martie 2025",category:"nchiriere",comment:"Am fost foarte mulumit de serviciul oferit. Preuri competitive, maini bune i personal prietenos. Voi reveni cu siguran pentru urmtoarea nchiriere!"}],wY=({review:e,index:t})=>{const{t:r}=br();return a.jsxs(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:t*.05},className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-200 hover:border-red-300 hover:shadow-md transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-md flex-shrink-0 ${e.userInitialColor}`,children:e.userInitial}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-1 truncate",children:e.userName}),a.jsx("div",{className:"text-sm text-gray-500",children:e.date})]})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5},(n,i)=>a.jsx(y0,{className:`w-5 h-5 ${i<e.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},`star-${e.id}-${i}`))}),a.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:[e.rating,".0"]}),e.category&&!["Splare","Detailing auto","Vnzare"].includes(e.category)&&a.jsx("span",{className:"ml-auto px-3 py-1 rounded-full text-xs font-semibold bg-red-50 text-red-600",children:r(`pages.reviews.categories.${e.category}`,{defaultValue:e.category})})]}),e.comment&&e.comment!=="Evaluare fr recenzie"&&a.jsx("div",{className:"pt-4 border-t border-gray-100",children:a.jsx("p",{className:"text-gray-700 text-[15px] leading-relaxed",children:r(`pages.reviews.comments.${e.id}`,{defaultValue:e.comment})})})]})},jY=()=>{var l;const{t:e}=br(),[t,r]=_.useState(((l=globalThis.window)==null?void 0:l.matchMedia("(min-width: 640px)").matches)??!1),n=kn();_.useEffect(()=>{if(globalThis.window===void 0)return;const c=globalThis.window.matchMedia("(min-width: 640px)"),u=h=>r(h.matches);return r(c.matches),c.addEventListener("change",u),()=>c.removeEventListener("change",u)},[]);const i=Fg.length,s=i?(Fg.reduce((c,u)=>c+(u.rating??0),0)/i).toFixed(1):"0.0",o=i?Math.round(Fg.filter(c=>(c.rating??0)>=4).length/i*100):0;return a.jsxs("div",{className:"min-h-screen font-montserrat",children:[a.jsxs("section",{className:"relative h-[500px] bg-fixed bg-cover bg-center bg-no-repeat pt-36 font-sans text-white overflow-hidden",style:{backgroundImage:t?"url(/lvl_bg.png)":"url(/backgrounds/bg4-mobile.jpeg)",backgroundPosition:t?"center -420px":"center -300px",backgroundSize:t?"115%":"cover"},children:[a.jsx("div",{className:"absolute inset-0 bg-black/70"}),a.jsx("div",{className:`absolute bottom-0 left-0 w-full h-40 
            bg-[linear-gradient(to_top,rgba(15,15,15,1),rgba(15,15,15,0))] 
            z-10 pointer-events-none`}),a.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 overflow-visible relative z-10",children:a.jsx("div",{className:"flex items-center justify-center h-full pt-16",children:a.jsx("div",{className:"text-center space-y-10 max-w-4xl",children:a.jsx("div",{className:"space-y-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("p",{className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:e("pages.reviews.hero.label")}),a.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-white leading-tight drop-shadow-lg",children:e("pages.reviews.hero.title")})]})})})})})]}),a.jsxs("section",{className:"py-20 bg-gradient-to-br from-gray-50 to-white relative overflow-hidden font-montserrat",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx(Ie.div,{animate:{scale:[1,1.1,1],opacity:[.1,.2,.1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute -top-20 -right-20 w-80 h-80 bg-red-100 rounded-full blur-3xl"}),a.jsx(Ie.div,{animate:{scale:[1,1.2,1],opacity:[.05,.15,.05]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute -bottom-20 -left-20 w-96 h-96 bg-red-200 rounded-full blur-3xl"})]}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[a.jsxs(Ie.div,{variants:ja,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"mt-0 grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[a.jsxs(Ie.div,{variants:fr,className:"bg-gray-100 rounded-2xl p-5 flex flex-row items-center gap-5",children:[a.jsx(kp,{className:"w-12 h-12 text-gray-600 flex-shrink-0"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("div",{className:"text-3xl font-bold text-gray-900",children:i}),a.jsx("div",{className:"text-xs text-gray-600",children:e("pages.reviews.stats.totalReviews")})]})]}),a.jsxs(Ie.div,{variants:fr,className:"bg-gray-100 rounded-2xl p-5 flex flex-row items-center gap-5",children:[a.jsx(y0,{className:"w-12 h-12 text-gray-600 flex-shrink-0"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("div",{className:"text-3xl font-bold text-gray-900",children:s}),a.jsx("div",{className:"text-xs text-gray-600",children:e("pages.reviews.stats.averageRating")})]})]}),a.jsxs(Ie.div,{variants:fr,className:"bg-gray-100 rounded-2xl p-5 flex flex-row items-center gap-5",children:[a.jsx(SH,{className:"w-12 h-12 text-gray-600 flex-shrink-0"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[o,"%"]}),a.jsx("div",{className:"text-xs text-gray-600",children:e("pages.reviews.stats.satisfaction")})]})]})]}),a.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-6",children:Fg.map((c,u)=>a.jsx(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:u*.05,ease:"easeOut"},whileHover:{y:-12,scale:1.03,transition:{duration:.4,ease:[.25,.46,.45,.94]}},className:"w-full break-inside-avoid mb-6",children:a.jsx(wY,{review:c,index:u})},c.id))}),a.jsxs(Ie.div,{variants:fr,className:"mt-16 mb-10 text-center max-w-3xl mx-auto",children:[a.jsx("h3",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:e("pages.reviews.cta.title")}),a.jsx("p",{className:"text-lg text-gray-600 mb-8",children:e("pages.reviews.cta.description")}),a.jsx(Ie.button,{className:"bg-red-600 hover:bg-red-700 text-white px-10 py-4 rounded-xl font-semibold shadow-md hover:shadow-lg transition-all duration-300",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>n("/cars"),children:e("pages.reviews.cta.button")})]})]})]})]})},NY=({className:e})=>a.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})}),_Y=()=>{const{t:e}=br(),[t,r]=_.useState(!1);_.useEffect(()=>{if(typeof window>"u")return;const u=window.matchMedia("(min-width: 768px)"),h=m=>r(m.matches);return r(u.matches),u.addEventListener("change",h),()=>u.removeEventListener("change",h)},[]);const n=[{icon:Qf,text:"+373 62 000 112",href:"tel:+37362000112",label:"Phone"},{icon:md,text:"info@levelautorental.com",href:"mailto:info@levelautorental.com",label:"Email"},{icon:bh,text:"Chisinau, Moldova",href:"#",label:"Location"}],i=[{icon:NY,href:"https://www.tiktok.com/@level.auto.rental.md",label:e("footer.social.tiktok")},{icon:Wx,href:"https://www.facebook.com/levelautorental",label:e("footer.social.facebook")},{icon:wO,href:"https://www.instagram.com/level_auto_rental",label:e("footer.social.instagram")}],[s,o]=_.useState({firstName:"",lastName:"",email:"",phone:"",message:""}),l=(u,h)=>{o(m=>({...m,[u]:h}))},c=u=>{u.preventDefault(),console.log("Form submitted:",s)};return a.jsxs("div",{className:"min-h-screen",children:[a.jsxs("section",{className:"relative h-[500px] bg-fixed bg-cover bg-center bg-no-repeat pt-36 font-sans text-white",style:{backgroundImage:t?"url(/lvl_bg.png)":"url(/backgrounds/bg10-mobile.jpeg)",backgroundPosition:t?"center -400px":"center center",backgroundSize:t?"115%":"cover"},children:[a.jsx("div",{className:"absolute inset-0 bg-black/70"}),a.jsx("div",{className:`absolute bottom-0 left-0 w-full h-40 
              bg-[linear-gradient(to_top,rgba(15,15,15,1),rgba(15,15,15,0))] 
              z-10 pointer-events-none`}),a.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 overflow-visible relative z-10",children:a.jsx("div",{className:"flex items-center justify-center h-full pt-16",children:a.jsx("div",{className:"text-center space-y-10 max-w-4xl",children:a.jsx("div",{className:"space-y-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("p",{className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:e("pages.contact.hero.label")}),a.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-white leading-tight drop-shadow-lg",children:e("pages.contact.hero.title")})]})})})})})]}),a.jsx("section",{className:"py-20 bg-gradient-to-b from-gray-50 to-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[a.jsxs(Ie.div,{variants:ja,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"space-y-8",children:[a.jsxs(Ie.div,{variants:fr,children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:e("pages.contact.contact-info")}),a.jsx("p",{className:"text-gray-600 mb-8",children:e("pages.contact.contact-description")})]}),a.jsx("div",{className:"space-y-4",children:n.map((u,h)=>a.jsxs(Ie.a,{href:u.href,variants:fr,className:"flex items-center p-6 bg-white rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300 group",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-b from-red-500 to-red-600 flex items-center justify-center mr-4 group-hover:scale-110 transition-transform duration-300",children:a.jsx(u.icon,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:u.text}),a.jsx("p",{className:"text-sm text-gray-500",children:u.label})]})]},h))}),a.jsxs(Ie.div,{variants:fr,className:"pt-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:e("footer.social.follow-us")}),a.jsx("div",{className:"flex space-x-3",children:i.map(u=>a.jsx(Ie.a,{href:u.href,target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 rounded-xl bg-white shadow-sm hover:shadow-lg flex items-center justify-center text-gray-600 hover:text-red-600 transition-all duration-300 hover:scale-110 border border-gray-100","aria-label":u.label,whileHover:{y:-2},whileTap:{scale:.95},children:a.jsx(u.icon,{className:u.icon===Wx?"w-5 h-5":"w-6 h-6"})},u.label))})]})]}),a.jsxs(Ie.div,{variants:ja,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"bg-white rounded-3xl shadow-lg border border-gray-100 p-8",children:[a.jsxs(Ie.div,{variants:fr,children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:e("pages.contact.send-message")}),a.jsx("p",{className:"text-gray-600 mb-8",children:e("pages.contact.form-description")})]}),a.jsxs(Ie.form,{onSubmit:c,variants:ja,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"space-y-6",children:[a.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[a.jsx(Ie.div,{variants:fr,children:a.jsxs("label",{className:"block",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-700 mb-3 block",children:[e("pages.contact.form.first-name")," *"]}),a.jsx("input",{type:"text",placeholder:e("pages.contact.form.first-name"),value:s.firstName,onChange:u=>l("firstName",u.target.value),required:!0,className:"w-full px-4 py-4 rounded-2xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-300 hover:border-gray-300"})]})}),a.jsx(Ie.div,{variants:fr,children:a.jsxs("label",{className:"block",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-700 mb-3 block",children:[e("pages.contact.form.last-name")," *"]}),a.jsx("input",{type:"text",placeholder:e("pages.contact.form.last-name"),value:s.lastName,onChange:u=>l("lastName",u.target.value),required:!0,className:"w-full px-4 py-4 rounded-2xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-300 hover:border-gray-300"})]})})]}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[a.jsx(Ie.div,{variants:fr,children:a.jsxs("label",{className:"block",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-700 mb-3 block",children:[e("pages.contact.form.email")," *"]}),a.jsx("input",{type:"email",placeholder:e("pages.contact.form.email-example"),value:s.email,onChange:u=>l("email",u.target.value),required:!0,className:"w-full px-4 py-4 rounded-2xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-300 hover:border-gray-300"})]})}),a.jsx(Ie.div,{variants:fr,children:a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700 mb-3 block",children:e("pages.contact.form.phone-number")}),a.jsx("input",{type:"tel",placeholder:"+373 (555) 000-000",value:s.phone,onChange:u=>l("phone",u.target.value),className:"w-full px-4 py-4 rounded-2xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-300 hover:border-gray-300"})]})})]}),a.jsx(Ie.div,{variants:fr,children:a.jsxs("label",{className:"block",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-700 mb-3 block",children:[e("pages.contact.form.message")," *"]}),a.jsx("textarea",{rows:3,placeholder:e("pages.contact.form.message-cta"),value:s.message,onChange:u=>l("message",u.target.value),className:"w-full px-4 py-4 rounded-2xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-300 resize-none hover:border-gray-300",required:!0})]})}),a.jsxs(Ie.button,{type:"submit",variants:fr,className:"w-full py-4 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white rounded-2xl font-semibold transition-all duration-300 flex items-center justify-center gap-3 shadow-lg hover:shadow-xl transform hover:scale-[1.02]",whileHover:{scale:1.02},whileTap:{scale:.98},children:[a.jsx(Z2,{className:"w-5 h-5"}),e("pages.contact.form.start")]})]})]})]})})})]})},SY=4,kY=()=>{const e=kn(),[t,r]=_.useState("all"),{ref:n,isInView:i}=Lh(),s=vt.useRef(!1),[o,l]=_.useState([]);async function c(){try{const u=await dL(SY);l(u)}catch(u){console.error("Error fetching cars:",u)}}return _.useEffect(()=>{s.current||(s.current=!0,c())},[]),a.jsx("section",{className:"py-16 pb-32 https://sevenluxurycarrental.com/wp-content/uploads/2024/08/benefits-of-renting-an-exotic-car-in-dubai.jpg",children:a.jsxs("div",{className:"max-w-[1450px] mx-auto px-8 sm:px-12 lg:px-16",children:[a.jsxs(Ie.div,{ref:n,variants:ja,initial:"initial",animate:i?"animate":"initial",className:"text-center mb-16",children:[a.jsx(Ie.span,{variants:fr,className:"text-sm font-semibold tracking-wider text-transparent bg-gradient-to-r from-red-500 to-red-600 bg-clip-text uppercase",id:"popular-cars",children:"Maini Populare"}),a.jsx(Ie.h2,{variants:fr,className:"mt-3 text-3xl md:text-5xl font-bold text-gray-800 leading-tight max-w-3xl mx-auto",children:"Cele mai populare oferte de nchirieri auto"})]}),a.jsx(Ie.div,{variants:ja,initial:"initial",animate:i?"animate":"initial",className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4 lg:gap-5",children:o.map((u,h)=>a.jsx(uL,{car:u,index:h},u.id))}),a.jsx(Ie.div,{variants:fr,initial:"initial",animate:i?"animate":"initial",className:"text-center mt-16",children:a.jsxs(Xc,{variant:"outline",size:"lg",className:"inline-flex items-center gap-2 rounded-2xl border-red-500 text-red-500 hover:bg-red-500 hover:text-white transition-all duration-300",onClick:()=>e("/cars"),children:["Vezi Toate Vehiculele",a.jsx(fs,{className:"w-4 h-4"})]})})]})})};function CY({title:e,titleId:t,...r},n){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?_.createElement("title",{id:t},e):null,_.createElement("path",{d:"M12 7.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z"}),_.createElement("path",{fillRule:"evenodd",d:"M1.5 4.875C1.5 3.839 2.34 3 3.375 3h17.25c1.035 0 1.875.84 1.875 1.875v9.75c0 1.036-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 14.625v-9.75ZM8.25 9.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM18.75 9a.75.75 0 0 0-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 0 0 .75-.75V9.75a.75.75 0 0 0-.75-.75h-.008ZM4.5 9.75A.75.75 0 0 1 5.25 9h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H5.25a.75.75 0 0 1-.75-.75V9.75Z",clipRule:"evenodd"}),_.createElement("path",{d:"M2.25 18a.75.75 0 0 0 0 1.5c5.4 0 10.63.722 15.6 2.075 1.19.324 2.4-.558 2.4-1.82V18.75a.75.75 0 0 0-.75-.75H2.25Z"}))}const PY=_.forwardRef(CY),EY=()=>{const{t:e}=br(),{ref:t,isInView:r}=Lh(),n=[{icon:PY,title:e("features.bestPrices.title"),description:e("features.bestPrices.description")},{icon:yH,title:e("features.support.title"),description:e("features.support.description")},{icon:ra,title:e("features.easyBooking.title"),description:e("features.easyBooking.description")},{icon:kp,title:e("features.wideSelection.title"),description:e("features.wideSelection.description")}];return a.jsx("section",{className:"py-40 mt-0",children:a.jsxs("div",{className:"max-w-7xl mx-auto ",children:[a.jsxs(Ie.div,{ref:t,variants:ja,initial:"initial",animate:r?"animate":"initial",className:"text-center mb-16",children:[a.jsx(Ie.span,{variants:fr,className:"text-sm font-semibold tracking-wider text-red-500 uppercase bg-gradient-to-r from-red-500 to-red-600 bg-clip-text",id:"why-choose-us",children:e("features.sectionLabel")}),a.jsx(Ie.h2,{variants:fr,className:"mt-3 text-3xl md:text-5xl font-bold text-gray-800 leading-tight max-w-3xl mx-auto",children:e("features.sectionTitle")})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:n.map((i,s)=>a.jsxs(Ie.div,{variants:fr,className:"text-center relative",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl mx-auto mb-4 shadow-lg flex items-center justify-center bg-gradient-to-b from-red-500 to-red-600",children:a.jsx(i.icon,{className:"w-8 h-8 text-white"})}),a.jsx("div",{className:"text-xl font-bold text-gray-800 mb-3",children:i.title}),a.jsx("div",{className:"text-gray-500 text-sm leading-relaxed max-w-xs mx-auto",children:i.description})]},i.title))})]})})},DY=()=>{const{t:e}=br(),t=kn(),r=new Date().toISOString().split("T")[0],[n,i]=_.useState([]);_.useEffect(()=>{(async()=>{try{const q=await mN();i(q)}catch(q){console.error("Error fetching cars:",q)}})()},[]);const[s,o]=_.useState({make:"",model:"",location:"",dateRange:{startDate:"",endDate:""}}),[l,c]=_.useState(!1),[u,h]=_.useState(!1),[m,x]=_.useState(!1),[p,v]=_.useState(!1),y=_.useMemo(()=>{const L=n.map(W=>{const ee=W.make||"";return(ee.includes("-")?ee.split("-")[0]:ee).trim().toLowerCase()});return Array.from(new Set(L)).filter(Boolean).map(W=>W.charAt(0).toUpperCase()+W.slice(1).toLowerCase())},[n]),g=_.useMemo(()=>{const L={};return n.forEach(q=>{const W=q.make||"",ee=q.model||"",V=(W.includes("-")?W.split("-")[0]:W).trim().toLowerCase();V&&(L[V]||(L[V]=[]),ee&&!L[V].includes(ee)&&L[V].push(ee))}),L},[n]),j=_.useMemo(()=>{if(!s.make)return[];const L=s.make.trim().toLowerCase();return g[L]||[]},[s.make,g]),k=L=>{const q=L.toLowerCase();return{mercedes:"/logos/merc.svg","mercedes-benz":"/logos/merc.svg",bmw:"/logos/bmw.webp",audi:"/logos/audi.png",hyundai:"/logos/hyundai.png",maserati:"/logos/maserati.png",volkswagen:"/logos/volkswagen-1-logo-black-and-white.png",vw:"/logos/volkswagen-1-logo-black-and-white.png"}[q]||null},w=L=>{const q=L.toLowerCase();return q==="audi"||q==="maserati"?"w-6 h-6":"w-4 h-4"},E=()=>{c(!1),h(!1),x(!1),v(!1)},O=L=>{if(L==="location"&&l||L==="date"&&u||L==="make"&&m||L==="model"&&p){E();return}E(),L==="location"?c(!0):L==="date"?h(!0):L==="make"?x(!0):L==="model"&&v(!0)};vt.useEffect(()=>{const L=q=>{q.target.closest(".dropdown-container")||E()};return(l||u||m||p)&&document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[l,u,m,p]);const z=(L,q)=>{o(W=>{const ee={...W,[L]:q};if(L==="make"){const M=q;if(M&&W.model){const V=M.trim().toLowerCase();(g[V]||[]).some(H=>H.toLowerCase()===W.model.toLowerCase())||(ee.model="")}else M||(ee.model="")}return ee})},Y=L=>{const{startDate:q,endDate:W}=s.dateRange;if(!q){z("dateRange",{startDate:L,endDate:""});return}W?L<q?z("dateRange",{startDate:L,endDate:""}):(z("dateRange",{startDate:q,endDate:L}),setTimeout(()=>E(),200)):L<q?z("dateRange",{startDate:L,endDate:""}):L>=q&&(z("dateRange",{startDate:q,endDate:L}),setTimeout(()=>E(),200))},B=()=>{const L=new URLSearchParams;s.make&&L.set("make",s.make),s.model&&L.set("model",s.model),s.location&&L.set("location",s.location),s.dateRange.startDate&&L.set("startDate",s.dateRange.startDate),s.dateRange.endDate&&L.set("endDate",s.dateRange.endDate);const q=L.toString();t(`/cars${q?`?${q}`:""}`)};return a.jsxs("section",{className:"relative h-[725px] pt-36 font-sans bg-white",children:[a.jsx("div",{className:"hidden lg:block absolute inset-0 overflow-hidden",style:{zIndex:0},children:a.jsx("img",{src:"/lvl_bg.png",alt:"Background",className:"w-full h-full object-cover",style:{position:"absolute",top:"-300px",left:0,width:"100%",height:"calc(100% + 300px)",objectFit:"cover",objectPosition:"center center",zIndex:0}})}),a.jsx("div",{className:"hidden md:block lg:hidden absolute inset-0 overflow-hidden",style:{zIndex:0},children:a.jsx("img",{src:"/lvl_bg.png",alt:"Background",className:"w-full h-full object-cover",style:{position:"absolute",top:"25px",left:0,width:"100%",height:"100%",objectFit:"cover",objectPosition:"center center",zIndex:0}})}),a.jsx("div",{className:"md:hidden absolute inset-0 overflow-hidden",style:{zIndex:0},children:a.jsx("img",{src:"/backgrounds/bg10-mobile.jpeg",alt:"Background",className:"w-full h-full object-cover",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0}})}),a.jsx("div",{className:"absolute inset-0 bg-black/60",style:{zIndex:1}}),a.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 overflow-visible relative z-10",children:a.jsx("div",{className:"flex items-center justify-center h-full lg:pt-24",children:a.jsx("div",{className:"text-center space-y-10 max-w-4xl",children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-6 ",children:[a.jsx("p",{className:"text-lg md:text-xl text-theme-500 font-semibold drop-shadow-md uppercase tracking-wide"}),a.jsx("h1",{className:"text-4xl md:text-4xl lg:text-5xl font-bold text-white leading-tight drop-shadow-lg",children:"Level Auto Rental"}),a.jsxs("p",{className:"text-lg md:text-xl text-white max-w-2xl mx-auto leading-relaxed drop-shadow-md",children:[e("hero.label"),a.jsxs("span",{className:"text-theme-500 font-medium block",children:[" ",e("hero.smallLabel")]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ie.div,{className:"absolute inset-0 rounded-2xl border-2 border-red-400",animate:{scale:[1,1.05,1],opacity:[.8,0,.8]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),a.jsx("div",{className:"relative",children:a.jsxs(Ie.button,{className:"relative px-8 py-4 bg-theme-500 hover:bg-theme-600 text-white font-semibold rounded-2xl transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-2 overflow-hidden",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.open("tel:+37362000112","_self"),animate:{boxShadow:["0 4px 15px rgba(239, 68, 68, 0.3)","0 8px 25px rgba(239, 68, 68, 0.6)","0 4px 15px rgba(239, 68, 68, 0.3)"]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:[a.jsx(Ie.div,{animate:{rotate:[0,5,-5,0]},transition:{duration:1.2,repeat:1/0,ease:"easeInOut"},children:g5({className:"w-6 h-6"})}),e("hero.start")]})})]}),a.jsx("button",{className:"px-10 py-4 border-2 border-white hover:border-theme-500 text-white hover:text-theme-500 font-semibold rounded-2xl transition-all duration-300 transform hover:scale-105 bg-white/10 backdrop-blur-sm",onClick:()=>t("/cars"),children:e("hero.seeCars")})]})]})})})}),a.jsx("div",{className:"py-[0px] top-[140px] lg:top-[305px] -mt-10 md:-mt-28 relative z-20",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"bg-white backdrop-blur-sm rounded-3xl shadow-lg border border-white/20 dropdown-container",children:[a.jsxs("div",{className:"flex flex-col md:hidden space-y-4 p-4",children:[a.jsxs("div",{className:"w-full dropdown-container overflow-visible",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-700 uppercase mb-2 tracking-wide",children:"Marca"}),a.jsxs("div",{className:"relative overflow-visible",children:[a.jsxs("div",{className:"w-full text-sm font-medium text-gray-900 bg-transparent border border-gray-200 rounded-xl py-3 px-4 cursor-pointer flex items-center gap-2",onClick:()=>O("make"),children:[s.make&&(()=>{const L=k(s.make.toLowerCase());return L?a.jsx("img",{src:L,alt:s.make,className:`${w(s.make)} object-contain`,onError:q=>{q.target.style.display="none"}}):null})(),a.jsx("span",{className:"flex-1",children:s.make||"Selecteaz marca"}),a.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a.jsx(mr,{children:m&&a.jsx(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-2xl shadow-lg z-[100] min-w-[200px]",onClick:L=>L.stopPropagation(),children:a.jsx("div",{className:"py-1",children:y.map((L,q)=>{const W=k(L.toLowerCase()),ee=q===0,M=q===y.length-1;return a.jsxs("div",{className:`px-4 py-2 text-sm cursor-pointer select-none border-b border-gray-100 last:border-b-0 transition-colors flex items-center gap-2 ${ee?"rounded-t-2xl":""} ${M?"rounded-b-2xl":""} ${s.make===L?"text-gray-900 font-medium":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>{z("make",L),E()},children:[a.jsx("div",{className:"w-6 flex items-center justify-start flex-shrink-0",children:W&&a.jsx("img",{src:W,alt:L,className:`${w(L)} object-contain`,onError:V=>{V.target.style.display="none"}})}),a.jsx("span",{children:L})]},L)})})})})]})]}),a.jsxs("div",{className:"w-full dropdown-container overflow-visible",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-700 uppercase mb-2 tracking-wide",children:"Model"}),a.jsxs("div",{className:"relative overflow-visible",children:[a.jsxs("div",{className:`w-full text-sm font-medium text-gray-900 bg-transparent border border-gray-200 rounded-xl py-3 px-4 cursor-pointer flex items-center gap-2 ${s.make?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>s.make&&O("model"),children:[a.jsx("span",{className:"flex-1",children:s.make?s.model||"Selecteaz modelul":"Selecteaz marca"}),a.jsx("svg",{className:`w-4 h-4 text-gray-400 ${s.make?"":"opacity-30"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a.jsx(mr,{children:p&&s.make&&a.jsx(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-2xl shadow-lg z-[100] min-w-[200px]",onClick:L=>L.stopPropagation(),children:a.jsx("div",{className:"py-1",children:j.length>0?j.map((L,q)=>{const W=q===0,ee=q===j.length-1;return a.jsx("div",{className:`px-4 py-2 text-sm cursor-pointer select-none border-b border-gray-100 last:border-b-0 transition-colors ${W?"rounded-t-2xl":""} ${ee?"rounded-b-2xl":""} ${s.model===L?"text-gray-900 font-medium":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>{z("model",L),E()},children:L},L)}):a.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"Nu sunt modele disponibile"})})})})]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-700 uppercase mb-2 tracking-wide",children:e("hero.location")}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 cursor-pointer hover:text-gray-700 transition-colors border border-gray-200 rounded-xl py-3 px-4",onClick:()=>O("location"),children:s.location||e("hero.searchLocation")}),a.jsx(mr,{children:l&&a.jsx(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-2xl shadow-lg z-[100] min-w-[200px]",onClick:L=>L.stopPropagation(),children:a.jsxs("div",{className:"py-1",children:[a.jsx("div",{className:"px-4 py-2 text-sm text-gray-700 cursor-pointer select-none border-b border-gray-100 last:border-b-0 hover:bg-gray-100 transition-colors rounded-t-2xl",onClick:()=>{z("location","Chisinau Airport"),E()},children:"Chisinau Airport"}),a.jsx("div",{className:"px-4 py-2 text-sm text-gray-700 cursor-pointer select-none border-b border-gray-100 last:border-b-0 hover:bg-gray-100 transition-colors rounded-b-2xl",onClick:()=>{z("location","Chisinau"),E()},children:"Chisinau"})]})})})]})]}),a.jsxs("div",{className:"w-full hidden",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-700 uppercase mb-2 tracking-wide",children:"Perioad"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 cursor-pointer hover:text-gray-700 transition-colors border border-gray-200 rounded-xl py-3 px-4",onClick:()=>O("date"),children:T(s.dateRange)||"Selecteaz perioada"}),a.jsx(mr,{children:u&&a.jsxs(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-2xl shadow-lg z-50 p-3 min-w-[280px]",onClick:L=>L.stopPropagation(),children:[a.jsx("div",{className:"mb-3 px-2 py-1.5 bg-gray-50 rounded-xl border border-gray-100",children:a.jsx("p",{className:"text-xs text-gray-600",children:s.dateRange.startDate?s.dateRange.endDate?"Clic pentru a schimba perioada":"Selecteaz data de sfrit":"Selecteaz data de nceput"})}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("button",{onClick:()=>{const L=s.dateRange.startDate||r,q=new Date(L);q.setMonth(q.getMonth()-1),o(W=>({...W,dateRange:{...W.dateRange,startDate:q.toISOString().split("T")[0]}}))},className:"p-1 hover:bg-gray-100 rounded-xl transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("div",{className:"text-sm font-medium text-gray-700",children:new Date(s.dateRange.startDate||r).toLocaleDateString("en-US",{month:"long",year:"numeric"})}),a.jsx("button",{onClick:()=>{const L=s.dateRange.startDate||r,q=new Date(L);q.setMonth(q.getMonth()+1),o(W=>({...W,dateRange:{...W.dateRange,startDate:q.toISOString().split("T")[0]}}))},className:"p-1 hover:bg-gray-100 rounded-xl transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),a.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(L=>a.jsx("div",{className:"text-gray-500 font-medium",children:L},L))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:A(new Date(s.dateRange.startDate||r)).map((L,q)=>{if(!L)return a.jsx("div",{},q);const W=new Date(L),ee=L,M=s.dateRange.startDate&&R(W,new Date(s.dateRange.startDate)),V=s.dateRange.endDate&&R(W,new Date(s.dateRange.endDate)),U=s.dateRange.startDate&&s.dateRange.endDate&&ee>=s.dateRange.startDate&&ee<=s.dateRange.endDate,I=M||V;return a.jsx("div",{className:`w-8 h-8 flex items-center justify-center text-xs cursor-pointer rounded-xl transition-colors ${L?"text-gray-700":"text-gray-300"} ${I?"bg-theme-500 text-white hover:bg-theme-600 font-medium":U?"bg-gray-100 text-gray-900 hover:bg-gray-200":"hover:bg-gray-100"}`,onClick:()=>{Y(L)},children:new Date(L).getDate()},q)})})]})})]})]}),a.jsx("div",{className:"w-full",children:a.jsxs(Xc,{onClick:B,className:"w-full bg-theme-500 hover:bg-theme-600 text-white py-5 px-8 rounded-2xl text-base font-semibold flex items-center justify-center gap-2",children:[a.jsx(ic,{className:"w-4 h-4 stroke-2"}),e("hero.search")]})})]}),a.jsxs("div",{className:"hidden md:flex",children:[a.jsxs("div",{className:"flex-1 px-6 py-5 dropdown-container overflow-visible",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-700 uppercase mb-2 tracking-wide",children:"Marca"}),a.jsxs("div",{className:"relative overflow-visible",children:[a.jsxs("div",{className:"w-full text-sm text-gray-500 bg-transparent border-none outline-none cursor-pointer hover:text-gray-700 transition-colors pr-8 flex items-center gap-2",onClick:()=>O("make"),children:[s.make&&(()=>{const L=k(s.make.toLowerCase());return L?a.jsx("img",{src:L,alt:s.make,className:`${w(s.make)} object-contain`,onError:q=>{q.target.style.display="none"}}):null})(),a.jsx("span",{className:"flex-1",children:s.make||"Selecteaz marca"})]}),a.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),a.jsx(mr,{children:m&&a.jsx(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-2xl shadow-lg z-[100] min-w-[200px]",onClick:L=>L.stopPropagation(),children:a.jsx("div",{className:"py-1",children:y.map((L,q)=>{const W=k(L.toLowerCase()),ee=q===0,M=q===y.length-1;return a.jsxs("div",{className:`px-4 py-2 text-sm cursor-pointer select-none border-b border-gray-100 last:border-b-0 transition-colors flex items-center gap-2 ${ee?"rounded-t-2xl":""} ${M?"rounded-b-2xl":""} ${s.make===L?"text-gray-900 font-medium":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>{z("make",L),E()},children:[a.jsx("div",{className:"w-6 flex items-center justify-start flex-shrink-0",children:W&&a.jsx("img",{src:W,alt:L,className:`${w(L)} object-contain`,onError:V=>{V.target.style.display="none"}})}),a.jsx("span",{children:L})]},L)})})})})]})]}),a.jsx("div",{className:"w-px bg-gray-200 my-4"}),a.jsxs("div",{className:"flex-1 px-6 py-5 dropdown-container overflow-visible",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-700 uppercase mb-2 tracking-wide",children:"Model"}),a.jsxs("div",{className:"relative overflow-visible",children:[a.jsx("div",{className:`w-full text-sm text-gray-500 bg-transparent border-none outline-none cursor-pointer hover:text-gray-700 transition-colors pr-8 flex items-center gap-2 ${s.make?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>s.make&&O("model"),children:a.jsx("span",{className:"flex-1",children:s.make?s.model||"Selecteaz modelul":"Selecteaz marca"})}),a.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",children:a.jsx("svg",{className:`w-4 h-4 ${s.make?"":"opacity-30"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),a.jsx(mr,{children:p&&s.make&&a.jsx(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-2xl shadow-lg z-[100] min-w-[200px]",onClick:L=>L.stopPropagation(),children:a.jsx("div",{className:"py-1",children:j.length>0?j.map((L,q)=>{const W=q===0,ee=q===j.length-1;return a.jsx("div",{className:`px-4 py-2 text-sm cursor-pointer select-none border-b border-gray-100 last:border-b-0 transition-colors ${W?"rounded-t-2xl":""} ${ee?"rounded-b-2xl":""} ${s.model===L?"text-gray-900 font-medium":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>{z("model",L),E()},children:L},L)}):a.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"Nu sunt modele disponibile"})})})})]})]}),a.jsx("div",{className:"w-px bg-gray-200 my-4"}),a.jsxs("div",{className:"flex-1 px-6 py-5 dropdown-container overflow-visible",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-700 uppercase mb-2 tracking-wide",children:"Locaie"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"text-sm text-gray-500 cursor-pointer hover:text-gray-700 transition-colors pr-8",onClick:()=>O("location"),children:s.location||e("hero.searchLocation")}),a.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),a.jsx(mr,{children:l&&a.jsx(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-2xl shadow-lg z-[100] min-w-[200px]",onClick:L=>L.stopPropagation(),children:a.jsxs("div",{className:"py-1",children:[a.jsx("div",{className:"px-4 py-2 text-sm text-gray-700 cursor-pointer select-none border-b border-gray-100 last:border-b-0 hover:bg-gray-100 transition-colors rounded-t-2xl",onClick:()=>{z("location","Chisinau Airport"),E()},children:"Chisinau Airport"}),a.jsx("div",{className:"px-4 py-2 text-sm text-gray-700 cursor-pointer select-none border-b border-gray-100 last:border-b-0 hover:bg-gray-100 transition-colors rounded-b-2xl",onClick:()=>{z("location","Chisinau"),E()},children:"Chisinau"})]})})})]})]}),a.jsx("div",{className:"w-px bg-gray-200 my-4"}),a.jsx("div",{className:"flex-1 px-6 py-5 flex items-center",children:a.jsxs(Xc,{onClick:B,className:"w-full h-full bg-theme-500 hover:bg-theme-600 text-white py-3 px-6 rounded-2xl font-medium flex items-center justify-center gap-2",children:[a.jsx(ic,{className:"w-3.5 h-3.5 stroke-2"}),e("hero.search")]})})]})]})})})]});function $(L){if(!L)return"";const q=new Date(L),W=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ee=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return`${W[q.getDay()]} ${q.getDate()} ${ee[q.getMonth()]}`}function T(L){return!L.startDate&&!L.endDate?"":L.endDate?L.startDate?`${$(L.startDate)} - ${$(L.endDate)}`:$(L.endDate):$(L.startDate)}function A(L){const q=L.getFullYear(),W=L.getMonth(),ee=new Date(q,W,1),M=new Date(ee);M.setDate(M.getDate()-ee.getDay());const V=[],U=new Date(M);for(let I=0;I<42;I++)U.getMonth()===W?V.push(U.toISOString().split("T")[0]):V.push(null),U.setDate(U.getDate()+1);return V}function R(L,q){return L.getFullYear()===q.getFullYear()&&L.getMonth()===q.getMonth()&&L.getDate()===q.getDate()}},AY=[{id:"1",name:"Maxim Popovici",userName:"Maxim Popovici",avatar:"https://images.pexels.com/photos/13866229/pexels-photo-13866229.jpeg",rating:5,comment:"Serviciu uimitor! Maina era curat, de ncredere, iar procesul de rezervare a fost incredibil de simplu. Voi folosi din nou cu siguran!",location:"Chiinu, Moldova",product:{name:"Mercedes-AMG C43",images:[]}},{id:"2",name:"Mihai Cernat",userName:"Mihai Cernat",avatar:"https://images.pexels.com/photos/7401381/pexels-photo-7401381.jpeg",rating:5,comment:"Cea mai bun experien de nchiriere auto pe care am avut-o. Preuri excelente, serviciu clieni extraordinar, iar maina a depit ateptrile mele.",location:"Bli, Moldova",product:{name:"Mercedes GLE",images:[]}},{id:"3",name:"Emil Rusu",userName:"Emil Rusu",avatar:"https://images.pexels.com/photos/2797720/pexels-photo-2797720.jpeg",rating:4,comment:"Serviciu foarte profesional. Preluarea a fost rapid iar maina era exact cum a fost descris. Recomand cu ncredere!",location:"Tiraspol, Moldova",product:{name:"Mercedes CLS",images:[]}},{id:"4",name:"David Munteanu",userName:"David Munteanu",avatar:"https://images.pexels.com/photos/839011/pexels-photo-839011.jpeg",rating:5,comment:"Experien fantastic de la nceput pn la sfrit. Site-ul este uor de folosit iar maina a fost perfect pentru cltoria noastr cu familia.",location:"Orhei, Moldova",product:{name:"Maserati Ghibli",images:[]}}],TY=()=>a.jsx("style",{dangerouslySetInnerHTML:{__html:`
    .slick-slider {
      position: relative;
      display: block;
      box-sizing: border-box;
      user-select: none;
      touch-action: pan-y;
    }
    
    .slick-list {
      position: relative;
      display: block;
      overflow: hidden;
      margin: 0;
      padding: 0;
    }
    
    .slick-track {
      position: relative;
      top: 0;
      left: 0;
      display: flex;
      margin-left: auto;
      margin-right: auto;
    }
    
    .slick-slide {
      display: none;
      height: 100%;
      min-height: 1px;
    }
    
    .slick-slide.slick-active {
      display: block;
    }
    
    .slick-initialized .slick-slide {
      display: block;
    }
    
    .slick-slide > div {
      transition: transform 0.5s ease-in-out;
      position: relative;
      z-index: 1;
    }
    
    .slick-slide > div > div {
      position: relative;
      z-index: 1;
    }
    
    .slick-center > div {
      transform: translateY(-32px);
      z-index: 10;
    }
    
    .slick-active > div {
      z-index: 5;
    }
    
    @media (max-width: 768px) {
      .slick-center > div {
        transform: translateY(0);
      }
      .slick-slide {
        width: 100% !important;
        flex: 0 0 100% !important;
      }
      .slick-track {
        width: 100% !important;
        display: flex !important;
      }
      .slick-list {
        overflow: hidden !important;
      }
    }
  `}}),OY=({review:e})=>{var s,o;const{t}=br(),r=_.useRef(null),[n,i]=_.useState(((o=(s=e.product.images)==null?void 0:s[0])==null?void 0:o.url)||"");return _.useEffect(()=>{(async()=>{if(e.product.name)try{const{mainImage:c}=await Tn(e.product.name);c&&i(c)}catch(c){console.error("Error fetching testimonial car image:",c)}})()},[e.product.name]),_.useEffect(()=>{const l=r.current;if(!l)return;const c=h=>{const m=l.getBoundingClientRect(),x=h.clientX-m.left,p=h.clientY-m.top,v=m.width/2,y=m.height/2,g=(p-y)/15,j=(v-x)/15;l.style.transform=`
        perspective(1000px) 
        rotateX(${g}deg) 
        rotateY(${j}deg) 
        translateY(-10px)
      `},u=()=>{l.style.transform="perspective(1000px) rotateX(0) rotateY(0) translateY(0)"};return l.addEventListener("mousemove",c),l.addEventListener("mouseleave",u),()=>{l.removeEventListener("mousemove",c),l.removeEventListener("mouseleave",u)}},[]),a.jsxs("div",{ref:r,className:"relative w-full h-[450px] cursor-pointer rounded-[20px] shadow-md transition-all duration-500 overflow-hidden border border-red-500/10 hover:border-red-500/20 my-14",style:{transformStyle:"preserve-3d",transition:"all 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundImage:`url(${n})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",zIndex:10,isolation:"isolate"},children:[a.jsx("div",{className:"absolute inset-0 bg-black/80 z-0"}),a.jsx("div",{className:"absolute top-6 right-6 opacity-5 group-hover:opacity-15 transition-opacity duration-300",children:a.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h4v10h-10z"})})}),a.jsxs("div",{className:"relative z-50 p-8 flex flex-col h-full",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:n,alt:e.product.name,className:"w-16 h-16 object-cover rounded-xl border-2 shadow-sm"}),a.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-red-500 rounded-full border-2 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs",children:""})})]}),a.jsx("div",{className:"flex-grow",children:a.jsx("div",{className:"text-sm font-bold transition-colors duration-200 truncate cursor-pointer text-white",children:e.product.name})})]})}),a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((l,c)=>a.jsx("svg",{className:`w-5 h-5 ${c<e.rating?"text-yellow-400":"text-gray-200"}`,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},c))}),a.jsxs("span",{className:"ml-3 text-sm font-medium text-white",children:["(",e.rating,".0)"]})]}),a.jsx("div",{className:"flex-grow mb-6",children:a.jsxs("p",{className:"text-base leading-relaxed font-medium text-white",children:['"',e.comment,'"']})}),a.jsxs("div",{className:"flex items-center pt-4 border-t",children:[a.jsxs("div",{className:"relative mr-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center border bg-gradient-to-br from-gray-100 to-gray-200 border-gray-200",children:a.jsx("span",{className:"font-bold text-sm text-gray-600",children:e.userName.split(" ").map(l=>l[0]).join("")})}),a.jsx("div",{className:"absolute -bottom-[-1px] -right-[-1px] w-3 h-3 bg-red-500 rounded-full border border-white"})]}),a.jsxs("div",{className:"flex-grow",children:[a.jsx("h4",{className:"font-bold text-base mb-1 text-white",children:e.userName}),a.jsx("p",{className:"text-sm font-medium text-white",children:t("testimonials.verifiedClient")})]})]})]})]})},LY=({testimonials:e,showArrows:t=!0,autoplay:r=!1,autoplaySpeed:n=4e3})=>{const i=_.useRef(null),[s,o]=vt.useState(!1);_.useEffect(()=>{const c=()=>{o(window.innerWidth<=768)};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),_.useEffect(()=>{i.current&&i.current.slickGoTo(0)},[s]);const l={dots:!1,arrows:!1,infinite:!0,speed:700,slidesToShow:s?1:3,slidesToScroll:1,autoplay:r,autoplaySpeed:n,pauseOnHover:!0,centerMode:s?!1:!r,centerPadding:"0px",cssEase:"ease-out",useCSS:!0,useTransform:!0,swipeToSlide:!0,touchMove:!0};return a.jsxs("div",{className:"relative",children:[a.jsx(TY,{}),a.jsx(yL,{ref:i,...l,children:e.map(c=>a.jsx("div",{className:"px-3",children:a.jsx(OY,{review:c})},c.id))},s?"mobile":"desktop"),t&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{var c;return(c=i.current)==null?void 0:c.slickPrev()},className:"hidden md:block absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-32 z-10 w-14 h-14 rounded-full shadow-sm transition-all duration-300 bg-white border-2 border-gray-200 hover:border-red-500 hover:bg-red-500 text-gray-600 hover:text-white group",children:a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:"mx-auto transition-transform duration-300 group-hover:-translate-x-0.5",children:a.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),a.jsx("button",{onClick:()=>{var c;return(c=i.current)==null?void 0:c.slickNext()},className:"hidden md:block absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-32 z-10 w-14 h-14 rounded-full shadow-sm transition-all duration-300 bg-white border-2 border-gray-200 hover:border-red-500 hover:bg-red-500 text-gray-600 hover:text-white group",children:a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:"mx-auto transition-transform duration-300 group-hover:translate-x-0.5",children:a.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})})})]})]})},IY=()=>{const{t:e}=br();return a.jsx("section",{className:"relative py-0 mt-10 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("span",{className:"text-sm font-semibold tracking-wider text-red-500 uppercase bg-gradient-to-r from-red-500 to-red-600 bg-clip-text",children:e("testimonials.sectionLabel")}),a.jsx("h2",{className:"mt-3 text-3xl md:text-5xl font-bold text-gray-800 leading-tight max-w-3xl mx-auto",children:e("testimonials.sectionTitle")}),a.jsx("p",{className:"mt-4 text-lg text-gray-600 max-w-2xl mx-auto",children:e("testimonials.sectionDescription")})]}),a.jsx(LY,{testimonials:AY,showArrows:!0,autoplay:!0,autoplaySpeed:4e3})]})})},MY=()=>{const e=kn(),t=[{src:"/logos/audi.png",alt:"Audi",filter:"Audi"},{src:"/logos/bmw.webp",alt:"BMW",filter:"BMW"},{src:"/logos/hyundai.png",alt:"Hyundai",filter:"Hyundai"},{src:"/logos/maserati.png",alt:"Maserati",filter:"Maserati"},{src:"/logos/merc.svg",alt:"Mercedes-Benz",filter:"Mercedes"},{src:"/logos/audi.png",alt:"Audi",filter:"Audi"},{src:"/logos/bmw.webp",alt:"BMW",filter:"BMW"}],r=i=>{const s=i.toLowerCase();return s==="audi"||s==="hyundai"?"h-12 md:h-16":"h-16 md:h-24"},n=i=>{e(`/cars?make=${i}`)};return a.jsx("section",{className:"lg:py-16 py-0 mt-[280px] lg:mt-20 w-full",children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"marquee",children:[a.jsx("ul",{className:"marquee__content",children:t.map((i,s)=>a.jsx("li",{className:"mx-8 md:mx-12 lg:mx-4",children:a.jsx("img",{src:i.src,alt:i.alt,onClick:()=>n(i.filter),className:`${r(i.alt)} w-auto object-contain grayscale hover:grayscale-0 transition-all duration-300 cursor-pointer`})},s))}),a.jsx("ul",{className:"marquee__content","aria-hidden":"true",children:t.map((i,s)=>a.jsx("li",{className:"mx-8 md:mx-12 lg:mx-4",children:a.jsx("img",{src:i.src,alt:i.alt,onClick:()=>n(i.filter),className:`${r(i.alt)} w-auto object-contain grayscale hover:grayscale-0 transition-all duration-300 cursor-pointer`})},`duplicate-${s}`))})]})})})},RY=()=>{const{t:e}=br(),t=[{number:1,title:e("howToRent.steps.contact.title"),description:e("howToRent.steps.contact.description")},{number:2,title:e("howToRent.steps.details.title"),description:e("howToRent.steps.details.description")},{number:3,title:e("howToRent.steps.price.title"),description:e("howToRent.steps.price.description")},{number:4,title:e("howToRent.steps.pickup.title"),description:e("howToRent.steps.pickup.description")},{number:5,title:e("howToRent.steps.return.title"),description:e("howToRent.steps.return.description")}];return a.jsxs("section",{className:"relative py-20 mb-40",children:[a.jsx("div",{className:"hidden lg:block absolute inset-0",style:{backgroundImage:"url('/backgrounds/bg5-desktop.jpeg')",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",zIndex:0}}),a.jsx("div",{className:"hidden md:block lg:hidden absolute inset-0",style:{backgroundImage:"url('/lvl_bg.png')",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",zIndex:0}}),a.jsx("div",{className:"md:hidden absolute inset-0 overflow-hidden",style:{zIndex:0},children:a.jsx("img",{src:"/backgrounds/bg6-mobile.jpeg",alt:"Background",className:"w-full h-full object-cover",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0}})}),a.jsx("div",{className:"absolute inset-0 bg-black/60"}),a.jsxs("div",{className:"relative max-w-[1600px] mx-auto",children:[a.jsxs(Ie.div,{variants:ja,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"text-center mb-20",children:[a.jsx(Ie.span,{variants:fr,className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:e("howToRent.sectionLabel")}),a.jsx(Ie.h2,{variants:fr,className:"mt-4 text-4xl md:text-6xl font-bold text-white leading-tight max-w-4xl mx-auto drop-shadow-lg px-4 md:px-0",children:e("howToRent.sectionTitle")}),a.jsx(Ie.p,{variants:fr,className:"mt-6 text-xl text-gray-100 max-w-3xl mx-auto leading-relaxed drop-shadow-md",children:e("howToRent.sectionDescription")})]}),a.jsx(Ie.div,{variants:ja,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 lg:gap-20",children:t.map((r,n)=>a.jsxs(Ie.div,{variants:fr,className:"relative group",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 md:p-6 border border-white/20 hover:bg-white/20 transition-all duration-300 h-full mx-4  md:mx-0 lg:w-[120%] w-[90%] lg:-ml-[10%] -ml-[-5%]",children:[a.jsx("div",{className:"flex justify-center mb-4 md:mb-6",children:a.jsx(Ie.div,{whileHover:{scale:1.1},transition:{duration:.2},className:"inline-flex h-16 w-16 items-center justify-center rounded-full bg-red-500 shadow-lg",children:a.jsx("span",{className:"text-2xl font-bold text-white",children:r.number})})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-3 md:mb-4 leading-tight",children:r.title}),a.jsx("p",{className:"text-gray-200 text-sm leading-relaxed",children:r.description})]})]}),n<t.length-1&&a.jsx("div",{className:"hidden lg:block absolute top-1/2 -right-10 transform -translate-y-1/2 z-10",children:a.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})})]},r.number))})]})]})},zY=()=>a.jsxs("div",{children:[a.jsx(DY,{}),a.jsx(MY,{}),a.jsx(kY,{}),a.jsx(RY,{}),a.jsx(IY,{}),a.jsx(EY,{})]}),FY=()=>{const{t:e,i18n:t}=br(),[r,n]=_.useState(!1);_.useEffect(()=>{const s=()=>{n(window.innerWidth>=768)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const i=[{number:1,title:e("howToRent.steps.contact.title"),description:e("howToRent.steps.contact.description")},{number:2,title:e("howToRent.steps.details.title"),description:e("howToRent.steps.details.description")},{number:3,title:e("howToRent.steps.price.title"),description:e("howToRent.steps.price.description")},{number:4,title:e("howToRent.steps.pickup.title"),description:e("howToRent.steps.pickup.description")},{number:5,title:e("howToRent.steps.return.title"),description:e("howToRent.steps.return.description")}];return a.jsx("section",{className:"relative py-44",children:a.jsxs("div",{className:"relative max-w-[1600px] mx-auto",children:[a.jsxs(Ie.div,{variants:ja,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"text-center mb-20",children:[a.jsx(Ie.span,{variants:fr,className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:e("howToRent.sectionLabel")}),a.jsx(Ie.h2,{variants:fr,className:"mt-4 text-4xl md:text-6xl font-bold text-white leading-tight max-w-4xl mx-auto drop-shadow-lg",children:e("howToRent.sectionTitle")}),a.jsx(Ie.p,{variants:fr,className:"mt-6 text-xl text-gray-100 max-w-3xl mx-auto leading-relaxed drop-shadow-md",children:e("howToRent.sectionDescription")})]}),a.jsx(Ie.div,{variants:ja,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8 lg:gap-20",children:i.map((s,o)=>a.jsxs(Ie.div,{variants:fr,className:"relative group",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 md:p-6 border border-white/20 hover:bg-white/20 transition-all duration-300 h-full mx-8 md:mx-0 md:w-[120%] md:-ml-[10%]",children:[a.jsx("div",{className:"flex justify-center mb-4 md:mb-6",children:a.jsx(Ie.div,{whileHover:{scale:1.1},transition:{duration:.2},className:"inline-flex h-16 w-16 items-center justify-center rounded-full bg-red-500 shadow-lg",children:a.jsx("span",{className:"text-2xl font-bold text-white",children:s.number})})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-3 md:mb-4 leading-tight",children:s.title}),a.jsx("p",{className:"text-gray-200 text-sm leading-relaxed",children:s.description})]})]}),o<i.length-1&&a.jsx("div",{className:"hidden lg:block absolute top-1/2 -right-10 transform -translate-y-1/2 z-10",children:a.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})})]},s.number))})]})},t.language)},$Y=()=>a.jsxs("div",{className:"relative min-h-screen",children:[a.jsx("div",{className:"hidden md:block absolute inset-0",style:{backgroundImage:"url(/lvl_bg.png)",backgroundPosition:"center -150px",backgroundSize:"115%",backgroundAttachment:"fixed",zIndex:0}}),a.jsx("div",{className:"md:hidden absolute inset-0 overflow-hidden",style:{zIndex:0},children:a.jsx("img",{src:"/backgrounds/bg10-mobile.jpeg",alt:"Background",className:"w-full h-full object-cover",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0}})}),a.jsx("div",{className:"absolute inset-0 bg-black/60 pointer-events-none"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx(FY,{}),a.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 mt-[-100px] relative z-20 pb-20",children:a.jsx(pN,{transparent:!0})})]}),a.jsx("div",{className:"absolute bottom-0 left-0 w-full h-40 bg-[linear-gradient(to_top,rgba(15,15,15,1),rgba(15,15,15,0))] z-20 pointer-events-none"})]}),BY=()=>{const{t:e}=br(),[t,r]=_.useState(!1);_.useEffect(()=>{const s=()=>{r(window.innerWidth>=768)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const n=s=>{const o=s!=="intro";return{icon:s==="intro"?Yc:s==="cookies"?fO:s==="personal-data"?sd:s==="location"?bh:s==="payment"?mO:hO,title:e(`pages.terms.sections.${s}.title`),description:o?null:e(`pages.terms.sections.${s}.description`),bullets:o?[e(`pages.terms.sections.${s}.bullet1`),e(`pages.terms.sections.${s}.bullet2`),e(`pages.terms.sections.${s}.bullet3`),e(`pages.terms.sections.${s}.bullet4`)].filter(Boolean):null,key:s}},i=["intro","cookies","personal-data","notifications"].map(n);return a.jsxs("div",{className:"min-h-screen",children:[a.jsxs("section",{className:"relative h-[500px] bg-fixed bg-cover bg-center bg-no-repeat pt-36 font-sans text-white",style:{backgroundImage:t?"url(/lvl_bg.png)":"url(/backgrounds/bg10-mobile.jpeg)",backgroundPosition:t?"center -400px":"center center",backgroundSize:t?"115%":"cover"},children:[a.jsx("div",{className:"absolute inset-0 bg-black/70"}),a.jsx("div",{className:`absolute bottom-0 left-0 w-full h-40 
                    bg-[linear-gradient(to_top,rgba(15,15,15,1),rgba(15,15,15,0))] 
                    z-10 pointer-events-none`}),a.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 overflow-visible relative z-10",children:a.jsx("div",{className:"flex items-center justify-center h-full pt-16",children:a.jsx("div",{className:"text-center space-y-10 max-w-4xl",children:a.jsx("div",{className:"space-y-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("p",{className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:e("pages.terms.hero.label")}),a.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-white leading-tight drop-shadow-lg",children:e("pages.terms.hero.title")})]})})})})})]}),a.jsx("section",{className:"py-20 bg-gradient-to-b from-gray-50 to-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx(Ie.div,{variants:ja,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"space-y-8",children:i.map(s=>a.jsx(Ie.div,{variants:fr,className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 md:p-8 hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"flex items-start gap-3 md:gap-6",children:[a.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-b from-red-500 to-red-600 flex items-center justify-center flex-shrink-0",children:a.jsx(s.icon,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-3 break-words",children:s.title}),s.description?a.jsx("p",{className:"text-gray-600 leading-relaxed text-sm md:text-base break-words hyphens-auto",children:s.description}):s.bullets?a.jsx("ul",{className:"space-y-3",children:s.bullets.map((o,l)=>a.jsxs("li",{className:"flex items-start gap-2 md:gap-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500 mt-2 flex-shrink-0"}),a.jsx("span",{className:"text-gray-600 leading-relaxed text-sm md:text-base break-words hyphens-auto flex-1 min-w-0",children:o})]},l))}):null]})]})},s.key))})})})]})},UY=()=>{const[e,t]=_.useState(null),{ref:r,isInView:n}=Lh(),{t:i}=br(),s=kn(),o=[{id:1,title:i("pages.faq.sections.booking.title"),items:[{id:"booking-1",question:i("pages.faq.sections.booking.questions.how-to-book"),answer:i("pages.faq.sections.booking.answers.how-to-book")},{id:"booking-2",question:i("pages.faq.sections.booking.questions.modify-cancel"),answer:i("pages.faq.sections.booking.answers.modify-cancel")},{id:"booking-3",question:i("pages.faq.sections.booking.questions.account-required"),answer:i("pages.faq.sections.booking.answers.account-required")},{id:"booking-4",question:i("pages.faq.sections.booking.questions.advance-booking"),answer:i("pages.faq.sections.booking.answers.advance-booking")}]},{id:2,title:i("pages.faq.sections.requirements.title"),items:[{id:"policy-1",question:i("pages.faq.sections.requirements.questions.documents"),answer:i("pages.faq.sections.requirements.answers.documents")},{id:"policy-2",question:i("pages.faq.sections.requirements.questions.age-requirement"),answer:i("pages.faq.sections.requirements.answers.age-requirement")},{id:"policy-3",question:i("pages.faq.sections.requirements.questions.insurance"),answer:i("pages.faq.sections.requirements.answers.insurance")},{id:"policy-4",question:i("pages.faq.sections.requirements.questions.additional-driver"),answer:i("pages.faq.sections.requirements.answers.additional-driver")}]},{id:3,title:i("pages.faq.sections.payment.title"),items:[{id:"payment-1",question:i("pages.faq.sections.payment.questions.payment-methods"),answer:i("pages.faq.sections.payment.answers.payment-methods")},{id:"payment-2",question:i("pages.faq.sections.payment.questions.deposit"),answer:i("pages.faq.sections.payment.answers.deposit")},{id:"payment-3",question:i("pages.faq.sections.payment.questions.additional-fees"),answer:i("pages.faq.sections.payment.answers.additional-fees")},{id:"payment-4",question:i("pages.faq.sections.payment.questions.discounts"),answer:i("pages.faq.sections.payment.answers.discounts")}]},{id:4,title:i("pages.faq.sections.pickup.title"),items:[{id:"pickup-1",question:i("pages.faq.sections.pickup.questions.pickup-location"),answer:i("pages.faq.sections.pickup.answers.pickup-location")},{id:"pickup-2",question:i("pages.faq.sections.pickup.questions.different-return"),answer:i("pages.faq.sections.pickup.answers.different-return")},{id:"pickup-3",question:i("pages.faq.sections.pickup.questions.late-return"),answer:i("pages.faq.sections.pickup.answers.late-return")},{id:"pickup-4",question:i("pages.faq.sections.pickup.questions.refuel"),answer:i("pages.faq.sections.pickup.answers.refuel")}]}],l=c=>{t(e===c?null:c)};return a.jsx("section",{className:"py-20 bg-gradient-to-b from-gray-50 to-white",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx(Ie.div,{ref:r,variants:ja,initial:"initial",animate:n?"animate":"initial",className:"space-y-20",children:o.map(c=>a.jsxs(Ie.div,{variants:fr,className:"space-y-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 mb-4",children:c.title}),a.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-red-500 to-red-600 mx-auto rounded-full"})]}),a.jsx("div",{className:"grid gap-6",children:c.items.map(u=>a.jsxs(Ie.div,{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-lg transition-all duration-300 group",whileHover:{y:-2},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[a.jsxs("div",{className:"p-6 cursor-pointer flex items-center justify-between group",onClick:()=>l(u.id),children:[a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 group-hover:text-red-600 transition-colors duration-200 pr-4",children:u.question}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Ie.div,{className:`w-10 h-10 rounded-full bg-gray-100 group-hover:bg-red-100 flex items-center justify-center transition-all duration-300 ${e===u.id?"bg-red-100":""}`,whileHover:{scale:1.1},whileTap:{scale:.95},children:a.jsx(Ff,{className:`w-5 h-5 text-gray-600 group-hover:text-red-600 transition-all duration-300 ${e===u.id?"rotate-180 text-red-600":""}`})})})]}),a.jsx(mr,{children:e===u.id&&a.jsx(Ie.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:a.jsx("div",{className:"px-6 pb-6",children:a.jsx("div",{className:"pt-4 border-t border-gray-100",children:a.jsx("div",{className:"text-gray-700 leading-relaxed text-base sm:text-lg prose prose-gray max-w-none",children:u.answer.includes("")?a.jsx("div",{className:"space-y-3",children:u.answer.split("").filter(h=>h.trim()).map((h,m)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-red-500 font-bold mr-3 flex-shrink-0 -mt-0.5",children:""}),a.jsx("div",{className:"flex-1",children:h.trim().split("\\n").map((x,p)=>a.jsx("div",{className:"mb-1",children:x.includes("**")?a.jsx("span",{dangerouslySetInnerHTML:{__html:x.replace(/\*\*(.*?)\*\*/g,'<strong class="font-semibold text-gray-900">$1</strong>')}}):a.jsx("span",{children:x})},p))})]},m))}):a.jsx("p",{children:u.answer})})})})})})]},u.id))})]},c.id))}),a.jsx(Ie.div,{variants:fr,className:"mt-20 flex justify-center",children:a.jsxs(Ie.div,{className:"bg-white rounded-3xl p-8 sm:p-12 shadow-xl border border-gray-100 max-w-4xl w-full relative overflow-hidden",whileHover:{y:-5,boxShadow:"0 25px 50px rgba(0,0,0,0.15)"},transition:{type:"spring",stiffness:300},children:[a.jsx("div",{className:"absolute inset-0 opacity-5"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-b from-red-500 to-red-600 shadow-lg",children:g5({className:"w-8 h-8 text-white"})})}),a.jsx("h3",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold mb-4 text-center text-gray-900",children:i("pages.faq.contact.title")}),a.jsx("p",{className:"text-gray-600 mb-8 text-base sm:text-lg lg:text-xl max-w-2xl mx-auto text-center leading-relaxed",children:i("pages.faq.contact.description")}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(Ie.button,{className:"bg-red-600 hover:bg-red-700 text-white px-8 py-4 rounded-xl font-semibold shadow-lg transition-all duration-300 flex items-center justify-center gap-3 group",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s("/contact"),children:[a.jsx(md,{className:"w-5 h-5 group-hover:animate-pulse"}),i("pages.faq.contact.contact-support")]}),a.jsxs(Ie.button,{className:"bg-gray-100 hover:bg-gray-200 text-gray-800 px-8 py-4 rounded-xl font-semibold border border-gray-200 transition-all duration-300 flex items-center justify-center gap-3 group",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.open("tel:+37362000112","_self"),children:[g5({className:"w-5 h-5 group-hover:animate-pulse"}),i("pages.faq.contact.call-us")]})]})]})]})})]})})},qY=()=>{const{t:e}=br(),[t,r]=_.useState(typeof window<"u"&&window.matchMedia("(min-width: 768px)").matches);return _.useEffect(()=>{if(typeof window>"u")return;const n=window.matchMedia("(min-width: 768px)"),i=s=>r(s.matches);return r(n.matches),n.addEventListener("change",i),()=>n.removeEventListener("change",i)},[]),a.jsxs("section",{className:"relative py-32 bg-cover bg-center bg-no-repeat bg-fixed",style:{backgroundImage:t?"url(/lvl_bg.png)":"url(/backgrounds/bg10-mobile.jpeg)",backgroundPosition:t?"center -400px":"center center",backgroundSize:t?"115%":"cover"},children:[a.jsx("div",{className:"absolute inset-0 bg-black/60"}),a.jsx("div",{className:`absolute bottom-0 left-0 w-full h-40 
                bg-[linear-gradient(to_top,rgba(15,15,15,1),rgba(15,15,15,0))] 
                z-10 pointer-events-none`}),a.jsx("div",{className:"relative max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs(Ie.div,{variants:ja,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"text-center mb-12",children:[a.jsx(Ie.span,{variants:fr,className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:e("pages.faq.hero.label")}),a.jsx(Ie.h2,{variants:fr,className:"mt-4 text-4xl md:text-6xl font-bold text-white leading-tight max-w-4xl mx-auto drop-shadow-lg",children:e("pages.faq.hero.title")}),a.jsx(Ie.p,{variants:fr,className:"mt-6 text-xl text-gray-100 max-w-3xl mx-auto leading-relaxed drop-shadow-md",children:e("pages.faq.hero.description")})]})})]})},HY=()=>a.jsxs("div",{children:[a.jsx(qY,{}),a.jsx(UY,{})]}),VY=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(""),[i,s]=_.useState(!1),[o,l]=_.useState(""),[c,u]=_.useState(!1),[h,m]=_.useState(!1),x=_.useRef(null),p=_.useRef(!1),{t:v}=br(),{signIn:y,isAuthenticated:g,loading:j,isAdmin:k,roleLoaded:w}=uc(),E=kn();if(_.useEffect(()=>{!j&&g&&w&&(k?E("/admin",{replace:!0}):E("/dashboard",{replace:!0}))},[g,j,k,w,E]),_.useEffect(()=>{h&&g&&w&&(x.current&&(clearTimeout(x.current),x.current=null),p.current=!1,k?E("/admin",{replace:!0}):E("/dashboard",{replace:!0}),u(!1),m(!1))},[h,g,w,k,E]),_.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]),j)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});if(g&&w)return k?a.jsx(Mf,{to:"/admin",replace:!0}):a.jsx(Mf,{to:"/dashboard",replace:!0});const O=async z=>{z.preventDefault(),l(""),u(!0);try{const{error:Y}=await y(e,r);if(Y){l(Y.message||"Invalid email or password"),u(!1);return}m(!0),p.current=!0,x.current=setTimeout(()=>{p.current&&(E("/dashboard"),u(!1),m(!1),p.current=!1),x.current=null},3e3)}catch{l("An unexpected error occurred. Please try again."),u(!1),m(!1),p.current=!1,x.current&&(clearTimeout(x.current),x.current=null)}};return a.jsxs("section",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 md:px-10 lg:px-16 py-8 sm:py-10 md:py-12 relative",children:[a.jsx("div",{className:"absolute inset-0 md:hidden",style:{backgroundImage:"url('/bg-hero.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),a.jsx("div",{className:"hidden md:block absolute inset-0",style:{backgroundImage:"url('/bg-hero.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),a.jsx("div",{className:"hidden md:block absolute inset-0",style:{background:"radial-gradient(ellipse at center, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.85))"}}),a.jsx("div",{className:"absolute inset-0 md:hidden",style:{background:"radial-gradient(ellipse at center, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.85))"}}),a.jsxs(Ie.div,{variants:fr,initial:"initial",animate:"animate",className:"w-full max-w-6xl bg-white rounded-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2 relative z-10",style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 0.1)"},children:[a.jsxs("div",{className:"relative hidden md:block bg-cover bg-center min-h-[600px]",style:{backgroundImage:"url('/backgrounds/bg5-desktop.jpeg')",minHeight:"560px"},children:[a.jsx("div",{className:"absolute inset-0 bg-black/70"}),a.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(315deg, rgba(220, 38, 38, 0.3), rgba(0, 0, 0, 0.4))"}}),a.jsxs("div",{className:"relative z-10 h-full flex flex-col items-start justify-center p-10 text-white",children:[a.jsx("h3",{className:"text-sm font-semibold tracking-wider text-red-600 uppercase",children:v("auth.login.left-part.smallLabel")}),a.jsx("h2",{className:"mt-4 text-3xl md:text-4xl font-bold leading-tight drop-shadow",children:v("auth.login.left-part.label")}),a.jsx("p",{className:"mt-4 text-gray-200 max-w-sm",children:v("auth.login.left-part.description")}),a.jsx("div",{className:"mt-8 flex items-center gap-3"})]})]}),a.jsx("div",{className:"p-6 md:p-16 flex items-center justify-center min-h-[600px]",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-600",children:v("auth.login.right-part.label")}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:v("auth.login.right-part.description")})]}),a.jsxs("form",{onSubmit:O,className:"space-y-5",children:[o&&a.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700 text-sm",children:[a.jsx(Df,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{children:o})]}),a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"text-xs font-medium text-gray-700",children:v("auth.login.right-part.email")}),a.jsxs("div",{className:"mt-2 relative",children:[a.jsx(md,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"email",value:e,onChange:z=>t(z.target.value),required:!0,disabled:c,className:"pl-10 pr-3 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400 transition disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:v("auth.login.right-part.email-example")})]})]}),a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"text-xs font-medium text-gray-700",children:v("auth.login.right-part.password")}),a.jsxs("div",{className:"mt-2 relative",children:[a.jsx(sy,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"password",value:r,onChange:z=>n(z.target.value),required:!0,disabled:c,className:"pl-10 pr-3 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400 transition disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:v("auth.login.right-part.enter-password")})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"inline-flex items-center gap-3 text-sm text-gray-600 cursor-pointer group",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:i,onChange:z=>s(z.target.checked),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${i?"bg-red-600 border-red-600":"border-gray-300 group-hover:border-red-400"}`,children:a.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${i?"opacity-100":"opacity-0 group-hover:opacity-100"}`,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),v("auth.login.right-part.remember-me")]}),a.jsx(Bo,{to:"/auth/forgot",className:"text-sm text-red-600 hover:underline",children:v("auth.login.right-part.forgot-password")})]}),a.jsx("button",{type:"submit",disabled:c,className:"w-full py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-shadow shadow-sm hover:shadow-md disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Signing in..."})]}):v("auth.login.right-part.login")})]}),a.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 h-px bg-gray-200"}),a.jsx("div",{className:"text-xs text-gray-400 uppercase",children:v("auth.login.right-part.or")}),a.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx(Bo,{to:"/auth/signup",className:"inline-block px-6 py-2 border-2 border-red-600 text-red-600 rounded-lg bg-white transition transform duration-200 ease-out hover:bg-red-600 hover:text-white hover:scale-105 hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-red-200",children:v("auth.login.right-part.create-account")})})]})})]})]})};async function j0(){const{data:{user:e},error:t}=await qt.auth.getUser();if(t||!e||!e.id)throw console.error("Auth error or no logged-in user",t),t;const{data:r,error:n}=await qt.from("Profiles").select().eq("id",e.id).single();if(n)throw n;return r}async function WY(){try{const e=await j0();if(!e)return console.error("No logged-in user found"),null;const{data:t,error:r}=await qt.from("Profiles").select("*").eq("id",e.id).single();return r?(console.error("Error fetching profile:",r),null):t}catch(e){return console.error("Unexpected error fetching profile:",e),null}}async function KY(e){try{const t={};e.first_name&&(t.first_name=e.first_name),e.last_name&&(t.last_name=e.last_name),e.phone_number&&(t.phone_number=e.phone_number);const{data:r,error:n}=await qt.from("Profiles").update(t).eq("id",e.id).select();return n?(console.error("Error updating profile:",n),{success:!1,error:n.message}):(console.log("Updated user profile:",r),{success:!0,data:r})}catch(t){return console.error("Unexpected error updating user profile:",t),{success:!1,error:"Unexpected error occurred"}}}const kL="https://yourproductiondomain.com/update-password";console.log("Redirect URL:",kL);async function GY(e){console.log("creating a user after sign up");try{const{id:t,first_name:r,last_name:n,email:i,phone_number:s,role:o}=e,{data:l,error:c}=await ho.from("Profiles").insert({id:t,first_name:r,last_name:n,email:i,phone_number:s,role:o}).select();return console.log("created user is: ",l),console.log("error: ",c),{data:l,error:c}}catch(t){return console.error("Unexpected error in while creating a new user:",t),{data:null,error:t}}}async function YY(e,t){const r=await j0(),n=r&&r.email&&r.email!==null?r==null?void 0:r.email:"",{error:i}=await qt.auth.signInWithPassword({email:n,password:e});if(i)return{succes:!1,error:i.message};const{error:s}=await CL(t);return s?{succes:!1,error:s.message}:{success:!0}}async function CL(e){const{error:t}=await qt.auth.updateUser({password:e});return t?{success:!1,error:t}:{success:!0}}async function XY(e){const{data:t,error:r}=await qt.auth.resetPasswordForEmail(e,{redirectTo:kL});return r?{succes:!1,error:r.message}:{success:!0,data:t}}const JY=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(""),[i,s]=_.useState(""),[o,l]=_.useState(""),[c,u]=_.useState(""),[h,m]=_.useState(!1),[x,p]=_.useState(""),[v,y]=_.useState(!1),{t:g}=br(),{signUp:j,isAuthenticated:k,loading:w}=uc(),E=kn();if(_.useEffect(()=>{!w&&k&&E("/dashboard",{replace:!0})},[k,w,E]),w)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});const O=async z=>{var Y;z.preventDefault(),p(""),y(!0);try{const{data:B,error:$}=await j(i,o);if($||!((Y=B==null?void 0:B.user)!=null&&Y.id)){p(($==null?void 0:$.message)||"Failed to create account"),y(!1);return}const T=B.user.id,{data:A,error:R}=await GY({id:T,first_name:e,last_name:r,phone_number:c,email:i,role:"USER"});if(R||!A){console.error("Profile creation error:",R),p("Failed to create profile. Please try again later."),y(!1);return}E("/dashboard")}catch{p("An unexpected error occurred. Please contact the administrator.")}finally{y(!1)}};return a.jsxs("section",{className:"min-h-[calc(100vh+150px)] md:min-h-screen flex items-center justify-center px-4 sm:px-6 md:px-10 lg:px-16 py-8 sm:py-10 md:py-12 relative",children:[a.jsx("div",{className:"absolute inset-0 md:hidden",style:{backgroundImage:"url('/bg-hero.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),a.jsx("div",{className:"hidden md:block absolute inset-0",style:{backgroundImage:"url('/bg-hero.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),a.jsx("div",{className:"hidden md:block absolute inset-0",style:{background:"radial-gradient(ellipse at center, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.85))"}}),a.jsx("div",{className:"absolute inset-0 md:hidden",style:{background:"radial-gradient(ellipse at center, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.85))"}}),a.jsxs(Ie.div,{variants:fr,initial:"initial",animate:"animate",className:"w-full max-w-6xl bg-white rounded-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2 relative z-10",style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 0.1)"},children:[a.jsxs("div",{className:"relative hidden md:block bg-cover bg-center min-h-[600px]",style:{backgroundImage:"url('/lvl_bg.png')",minHeight:"560px"},children:[a.jsx("div",{className:"absolute inset-0 bg-black/70"}),a.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(315deg, rgba(220, 38, 38, 0.3), rgba(0, 0, 0, 0.4))"}}),a.jsxs("div",{className:"relative z-10 h-full flex flex-col items-start justify-center p-10 text-white",children:[a.jsx("h3",{className:"text-sm font-semibold tracking-wider text-red-600 uppercase",children:g("auth.register.left-part.smallLabel")}),a.jsx("h2",{className:"mt-4 text-3xl md:text-4xl font-bold leading-tight drop-shadow",children:g("auth.register.left-part.label")}),a.jsx("p",{className:"mt-4 text-gray-200 max-w-sm",children:g("auth.register.left-part.description")})]})]}),a.jsx("div",{className:"p-6 md:p-16 flex items-center justify-center min-h-[600px]",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-600",children:g("auth.register.right-part.label")}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:g("auth.register.right-part.description")})]}),a.jsxs("form",{onSubmit:O,className:"space-y-5",children:[x&&a.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700 text-sm",children:[a.jsx(Df,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{children:x})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"text-xs font-medium text-gray-700",children:g("auth.register.right-part.first-name")}),a.jsxs("div",{className:"mt-2 relative",children:[a.jsx(Hp,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",value:e,onChange:z=>t(z.target.value),required:!0,className:"pl-10 pr-3 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400 transition",placeholder:g("auth.register.right-part.first-name-placeholder")})]})]}),a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"text-xs font-medium text-gray-700",children:g("auth.register.right-part.last-name")}),a.jsxs("div",{className:"mt-2 relative",children:[a.jsx(Hp,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",value:r,onChange:z=>n(z.target.value),required:!0,className:"pl-10 pr-3 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400 transition",placeholder:g("auth.register.right-part.last-name-placeholder")})]})]})]}),a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"text-xs font-medium text-gray-700",children:g("auth.register.right-part.email")}),a.jsxs("div",{className:"mt-2 relative",children:[a.jsx(md,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"email",value:i,onChange:z=>s(z.target.value),required:!0,className:"pl-10 pr-3 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400 transition",placeholder:g("auth.register.right-part.email-placeholder")})]})]}),a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"text-xs font-medium text-gray-700",children:g("auth.register.right-part.phone")}),a.jsx("div",{className:"mt-2 relative",children:a.jsx("input",{type:"tel",value:c,onChange:z=>{let Y=z.target.value.replace(/[^0-9+]/g,"");Y.includes("+")&&Y.indexOf("+")!==0&&(Y=Y.replace(/\+/g,"")),Y.length>13&&(Y=Y.slice(0,13)),u(Y)},required:!0,className:"pl-3 pr-3 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400 transition",placeholder:"+373 62 000 112"})})]}),a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"text-xs font-medium text-gray-700",children:g("auth.register.right-part.password")}),a.jsxs("div",{className:"mt-2 relative",children:[a.jsx(sy,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:h?"text":"password",value:o,onChange:z=>l(z.target.value),required:!0,className:"pl-10 pr-10 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400 transition",placeholder:g("auth.register.right-part.enter-password")}),a.jsx("button",{type:"button",onClick:()=>m(z=>!z),"aria-label":h?"Hide password":"Show password",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-red-600 p-1 rounded",children:h?a.jsx(gH,{className:"w-4 h-4"}):a.jsx(gO,{className:"w-4 h-4"})})]})]}),a.jsx("button",{type:"submit",disabled:v,className:"w-full py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-shadow shadow-sm hover:shadow-md disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:v?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Creating account..."})]}):g("auth.register.right-part.join-us")})]}),a.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 h-px bg-gray-200"}),a.jsx("div",{className:"text-xs text-gray-400 uppercase",children:g("auth.register.right-part.or")}),a.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx(Bo,{to:"/auth/login",className:"inline-block px-6 py-2 border-2 border-red-600 text-red-600 rounded-lg bg-white transition transform duration-200 ease-out hover:bg-red-600 hover:text-white hover:scale-105 hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-red-200",children:g("auth.register.right-part.already-have-account")})})]})})]})]})},ZY=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(!1),{t:i}=br(),s=o=>{o.preventDefault(),XY(e),console.log("forgot password",{email:e}),n(!0)};return a.jsxs("section",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 md:px-10 lg:px-16 py-8 sm:py-10 md:py-12 relative",children:[a.jsx("div",{className:"absolute inset-0 md:hidden",style:{backgroundImage:"url('/bg-hero.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),a.jsx("div",{className:"hidden md:block absolute inset-0",style:{backgroundImage:"url('/bg-hero.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),a.jsx("div",{className:"hidden md:block absolute inset-0",style:{background:"radial-gradient(ellipse at center, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.85))"}}),a.jsx("div",{className:"absolute inset-0 md:hidden",style:{background:"radial-gradient(ellipse at center, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.85))"}}),a.jsxs(Ie.div,{variants:fr,initial:"initial",animate:"animate",className:"w-full max-w-6xl bg-white rounded-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2 relative z-10",style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 0.1)"},children:[a.jsxs("div",{className:"relative hidden md:block bg-cover bg-center min-h-[400px] md:min-h-[600px]",style:{backgroundImage:"url('/backgrounds/bg5-desktop.jpeg')",minHeight:"560px"},children:[a.jsx("div",{className:"absolute inset-0 bg-black/70"}),a.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(315deg, rgba(220, 38, 38, 0.3), rgba(0, 0, 0, 0.4))"}}),a.jsxs("div",{className:"relative z-10 h-full flex flex-col items-start justify-center p-10 text-white",children:[a.jsx("h3",{className:"text-sm font-semibold tracking-wider text-red-600 uppercase",children:i("auth.forgot.left-part.smallLabel")}),a.jsx("h2",{className:"mt-4 text-3xl md:text-4xl font-bold leading-tight drop-shadow",children:i("auth.forgot.left-part.label")}),a.jsx("p",{className:"mt-4 text-gray-200 max-w-sm",children:i("auth.forgot.left-part.description")})]})]}),a.jsx("div",{className:"p-6 md:p-16 flex items-center justify-center min-h-[400px] md:min-h-[600px]",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-600",children:i("auth.forgot.right-part.label")}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:i("auth.forgot.right-part.description")})]}),r?a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:a.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i("auth.forgot.success.title")}),a.jsx("p",{className:"text-sm text-gray-600",children:i("auth.forgot.success.description")})]}):a.jsxs("form",{onSubmit:s,className:"space-y-5",children:[a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"text-xs font-medium text-gray-700",children:i("auth.forgot.right-part.email")}),a.jsxs("div",{className:"mt-2 relative",children:[a.jsx(md,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"email",value:e,onChange:o=>t(o.target.value),required:!0,className:"pl-10 pr-3 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400 transition",placeholder:i("auth.forgot.right-part.email-placeholder")})]})]}),a.jsx("button",{type:"submit",className:"w-full py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-shadow shadow-sm hover:shadow-md",children:i("auth.forgot.right-part.send-reset")})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(Bo,{to:"/auth/login",className:"inline-flex items-center gap-2 text-sm text-red-600 hover:text-red-700 transition-colors",children:[a.jsx(Oh,{className:"w-4 h-4"}),i("auth.forgot.right-part.back-to-login")]})})]})})]})]})},nc=[{id:3,name:"Mercedes CLS",category:"luxury",image:"",photoGallery:[],pricePerDay:380,year:2022,seats:4,body:"SUV",transmission:"Automatic",fuelType:"diesel",drivetrain:"AWD",features:["Motor 3.0 Diesel","Interior Luxos Premium","Confort Exclusiv"],rating:4.9,reviews:187},{id:6,name:"Mercedes CLS",category:"luxury",image:"",photoGallery:[],pricePerDay:400,year:2023,seats:5,body:"Sedan",transmission:"Automatic",fuelType:"diesel",drivetrain:"AWD",features:["Motor Diesel 3.0L","Interior Luxos Premium","Tehnologie Modern","Design Sportiv i Elegant","4MATIC AWD"],rating:4.9,reviews:162,availability:"Liber de 12 septembrie, 09:00"}],QY=()=>{var H;const{t:e,i18n:t}=br(),{eur:r,usd:n}=uy(),[i,s]=_.useState(!1),[o,l]=_.useState(((H=nc[0])==null?void 0:H.id)||1),[c,u]=_.useState(1),[h,m]=_.useState(""),[x,p]=_.useState("");_.useEffect(()=>{const D=()=>{s(window.innerWidth>=768)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]);const v=_.useMemo(()=>[e("calculator.locations.chisinauAirport","Chisinau Airport"),e("calculator.locations.chisinauCenter","Chisinau Center"),e("calculator.locations.chisinauNord","Chiinu Nord")],[e]);_.useEffect(()=>{const D=v[0];h||m(D),x||p(D)},[v,h,x]);const[y,g]=_.useState(!1),[j,k]=_.useState(!1),[w,E]=_.useState(!1),[O,z]=_.useState(!1),[Y,B]=_.useState(!1),[$,T]=_.useState(!1),[A,R]=_.useState(!1),[L,q]=_.useState(!1),W=nc.find(D=>D.id===o),ee=_.useMemo(()=>{if(!W)return 0;const D=W.pricePerDay||W.price_per_day||0,G=W.discount_percentage||W.discount_percentage||0;return(G>0?D*(1-G/100):D)*c},[W,c]),M=_.useMemo(()=>{let D=0;const G=W&&(W.pricePerDay||W.price_per_day)||0,Z=W&&(W.discount_percentage||W.discount_percentage)||0,P=Z>0?G*(1-Z/100):G;return y&&(D+=P*c*.5),Y&&(D+=P*c*.2),w&&(D+=800*c),O&&(D+=1e3*c),$&&(D+=100*c),A&&(D+=100*c),L&&(D+=500*c),D},[y,Y,w,O,$,A,L,W,c,j]),V=ee+M,U=(V/r).toFixed(2),I=(V/n).toFixed(2);return a.jsxs("section",{className:"relative py-60 bg-cover bg-center bg-no-repeat bg-fixed",style:{backgroundImage:i?"url(/lvl_bg.png)":"url(/backgrounds/bg10-mobile.jpeg)",backgroundPosition:i?"center -150px":"center center",backgroundSize:i?"115%":"cover"},children:[a.jsx("div",{className:"absolute inset-0 bg-black/60"}),a.jsx("div",{className:`absolute bottom-0 left-0 w-full h-40 
                bg-[linear-gradient(to_top,rgba(15,15,15,1),rgba(15,15,15,0))] 
                z-50 pointer-events-none`}),a.jsx("div",{className:"relative max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid lg:grid-cols-[1fr_420px] gap-8",children:[a.jsxs(Ie.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"space-y-6",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-8 shadow-xl hover:bg-white/15 transition-all duration-300",children:[a.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:a.jsx(Pi,{className:"w-5 h-5 text-theme-500"})}),e("calculator.selectVehicle")]}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:o,onChange:D=>l(Number(D.target.value)),className:"w-full px-4 py-3.5 bg-white/10 backdrop-blur-md border border-white/30 rounded-xl focus:ring-2 focus:ring-theme-500 focus:border-theme-500 outline-none text-white font-medium transition-all hover:bg-white/15 shadow-sm appearance-none pr-10",children:nc.map(D=>a.jsxs("option",{value:D.id,className:"bg-gray-800 text-white",children:[D.name," (",D.year,") - ",D.pricePerDay," MDL",e("calculator.perDay")]},D.id))}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:a.jsx(Ff,{className:"w-5 h-5 text-white/70"})})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-8 shadow-xl hover:bg-white/15 transition-all duration-300",children:[a.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:a.jsx(ta,{className:"w-5 h-5 text-theme-500"})}),e("calculator.rentalPeriod")]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("label",{className:"block text-sm font-semibold text-white",children:e("calculator.numberOfDays")}),a.jsx("span",{className:"text-2xl font-bold text-theme-500",children:c})]}),a.jsx("input",{type:"range",min:"1",max:"30",value:c,onChange:D=>u(Number(D.target.value)),className:"w-full h-3 bg-white/20 rounded-full appearance-none cursor-pointer accent-theme-500",style:{background:`linear-gradient(to right, #F52C2D 0%, #F52C2D ${(c-1)/29*100}%, rgba(255,255,255,0.2) ${(c-1)/29*100}%, rgba(255,255,255,0.2) 100%)`}}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-300 mt-3 font-medium",children:[a.jsxs("span",{children:["1 ",e("calculator.day")]}),a.jsxs("span",{children:["30 ",e("calculator.days")]})]})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-8 shadow-xl hover:bg-white/15 transition-all duration-300",children:[a.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:a.jsx(bh,{className:"w-5 h-5 text-theme-500"})}),e("calculator.locations.title")]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-white mb-3",children:e("calculator.pickup")}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:h,onChange:D=>m(D.target.value),className:"w-full px-4 py-3.5 bg-white/10 backdrop-blur-md border border-white/30 rounded-xl focus:ring-2 focus:ring-theme-500 focus:border-theme-500 outline-none text-white font-medium transition-all hover:bg-white/15 shadow-sm appearance-none pr-10",children:v.map(D=>a.jsx("option",{value:D,className:"bg-gray-800 text-white",children:D},D))}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:a.jsx(Ff,{className:"w-5 h-5 text-white/70"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-white mb-3",children:e("calculator.return")}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:x,onChange:D=>p(D.target.value),className:"w-full px-4 py-3.5 bg-white/10 backdrop-blur-md border border-white/30 rounded-xl focus:ring-2 focus:ring-theme-500 focus:border-theme-500 outline-none text-white font-medium transition-all hover:bg-white/15 shadow-sm appearance-none pr-10",children:v.map(D=>a.jsx("option",{value:D,className:"bg-gray-800 text-white",children:D},D))}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:a.jsx(Ff,{className:"w-5 h-5 text-white/70"})})]})]})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-8 shadow-xl hover:bg-white/15 transition-all duration-300",children:[a.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:a.jsx(wH,{className:"w-5 h-5 text-theme-500"})}),e("calculator.additionalOptions")]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-white/90 font-bold mb-4 ml-1 text-lg",children:e("calculator.limits","Limite")}),a.jsx("div",{className:"space-y-3",children:a.jsxs("label",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 cursor-pointer transition-all duration-200 group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:y,onChange:D=>g(D.target.checked),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${y?"bg-theme-500 border-theme-500":"border-white/30 bg-white/10 group-hover:border-theme-400"}`,children:a.jsx(ro,{className:`w-3 h-3 text-white transition-opacity duration-200 ${y?"opacity-100":"opacity-0 group-hover:opacity-100"}`})})]}),a.jsx("span",{className:"font-medium text-white group-hover:text-gray-100",children:e("calculator.unlimitedMileage")})]}),a.jsx("span",{className:"text-sm font-bold text-theme-500 bg-theme-500/20 px-3 py-1 rounded-lg",children:"+50%"})]})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white/90 font-bold mb-4 ml-1 text-lg",children:e("calculator.vipServices","Servicii VIP")}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 cursor-pointer transition-all duration-200 group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:w,onChange:D=>E(D.target.checked),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${w?"bg-theme-500 border-theme-500":"border-white/30 bg-white/10 group-hover:border-theme-400"}`,children:a.jsx(ro,{className:`w-3 h-3 text-white transition-opacity duration-200 ${w?"opacity-100":"opacity-0 group-hover:opacity-100"}`})})]}),a.jsx("span",{className:"font-medium text-white group-hover:text-gray-100",children:e("calculator.personalDriver")})]}),a.jsxs("span",{className:"text-sm font-bold text-white bg-white/10 px-3 py-1 rounded-lg",children:["800 MDL",e("calculator.perDay")]})]}),a.jsxs("label",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 cursor-pointer transition-all duration-200 group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:O,onChange:D=>z(D.target.checked),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${O?"bg-theme-500 border-theme-500":"border-white/30 bg-white/10 group-hover:border-theme-400"}`,children:a.jsx(ro,{className:`w-3 h-3 text-white transition-opacity duration-200 ${O?"opacity-100":"opacity-0 group-hover:opacity-100"}`})})]}),a.jsx("span",{className:"font-medium text-white group-hover:text-gray-100",children:e("calculator.priorityService")})]}),a.jsxs("span",{className:"text-sm font-bold text-white bg-white/10 px-3 py-1 rounded-lg",children:["1000 MDL",e("calculator.perDay")]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white/90 font-bold mb-4 ml-1 text-lg",children:e("calculator.insuranceTitle","Asigurare")}),a.jsx("div",{className:"space-y-3",children:a.jsxs("label",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 cursor-pointer transition-all duration-200 group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:Y,onChange:D=>B(D.target.checked),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${Y?"bg-theme-500 border-theme-500":"border-white/30 bg-white/10 group-hover:border-theme-400"}`,children:a.jsx(ro,{className:`w-3 h-3 text-white transition-opacity duration-200 ${Y?"opacity-100":"opacity-0 group-hover:opacity-100"}`})})]}),a.jsx("span",{className:"font-medium text-white group-hover:text-gray-100",children:e("calculator.tireInsurance")})]}),a.jsx("span",{className:"text-sm font-bold text-theme-500 bg-theme-500/20 px-3 py-1 rounded-lg",children:"+20%"})]})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white/90 font-bold mb-4 ml-1 text-lg",children:e("calculator.extra","Suplimentar")}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 cursor-pointer transition-all duration-200 group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:$,onChange:D=>T(D.target.checked),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${$?"bg-theme-500 border-theme-500":"border-white/30 bg-white/10 group-hover:border-theme-400"}`,children:a.jsx(ro,{className:`w-3 h-3 text-white transition-opacity duration-200 ${$?"opacity-100":"opacity-0 group-hover:opacity-100"}`})})]}),a.jsx("span",{className:"font-medium text-white group-hover:text-gray-100",children:e("calculator.childCarSeat")})]}),a.jsxs("span",{className:"text-sm font-bold text-white bg-white/10 px-3 py-1 rounded-lg",children:["100 MDL",e("calculator.perDay")]})]}),a.jsxs("label",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 cursor-pointer transition-all duration-200 group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:A,onChange:D=>R(D.target.checked),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${A?"bg-theme-500 border-theme-500":"border-white/30 bg-white/10 group-hover:border-theme-400"}`,children:a.jsx(ro,{className:`w-3 h-3 text-white transition-opacity duration-200 ${A?"opacity-100":"opacity-0 group-hover:opacity-100"}`})})]}),a.jsx("span",{className:"font-medium text-white group-hover:text-gray-100",children:e("calculator.simWithInternet")})]}),a.jsxs("span",{className:"text-sm font-bold text-white bg-white/10 px-3 py-1 rounded-lg",children:["100 MDL",e("calculator.perDay")]})]}),a.jsxs("label",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 cursor-pointer transition-all duration-200 group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:L,onChange:D=>q(D.target.checked),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${L?"bg-theme-500 border-theme-500":"border-white/30 bg-white/10 group-hover:border-theme-400"}`,children:a.jsx(ro,{className:`w-3 h-3 text-white transition-opacity duration-200 ${L?"opacity-100":"opacity-0 group-hover:opacity-100"}`})})]}),a.jsx("span",{className:"font-medium text-white group-hover:text-gray-100",children:e("calculator.roadsideAssistance")})]}),a.jsxs("span",{className:"text-sm font-bold text-white bg-white/10 px-3 py-1 rounded-lg",children:["500 MDL",e("calculator.perDay")]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white/90 font-bold mb-4 ml-1 text-lg",children:e("calculator.delivery","Livrare")}),a.jsx("div",{className:"space-y-3",children:a.jsx("label",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 cursor-pointer transition-all duration-200 group",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:j,onChange:D=>k(D.target.checked),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${j?"bg-theme-500 border-theme-500":"border-white/30 bg-white/10 group-hover:border-theme-400"}`,children:a.jsx(ro,{className:`w-3 h-3 text-white transition-opacity duration-200 ${j?"opacity-100":"opacity-0 group-hover:opacity-100"}`})})]}),a.jsx("span",{className:"font-medium text-white group-hover:text-gray-100",children:e("calculator.airportDelivery","Livrare aeroport")})]})})})]})]})]})]}),a.jsx(Ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:a.jsxs("div",{className:"sticky top-24",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-br from-theme-500 to-theme-600 text-white p-8",children:[a.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider opacity-90 mb-3",children:e("calculator.totalCost")}),a.jsxs("div",{className:"text-5xl font-bold mb-3",children:[V.toFixed(0)," ",a.jsx("span",{className:"text-2xl font-semibold",children:"MDL"})]}),a.jsxs("div",{className:"text-sm opacity-95 font-medium",children:[U," EUR / ",I," USD"]})]}),a.jsxs("div",{className:"p-6 space-y-5 bg-white/5",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-white mb-4 text-lg",children:e("calculator.priceDetails")}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-200",children:e("calculator.selectedVehicle")}),a.jsx("span",{className:"font-medium text-white",children:W==null?void 0:W.name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-200",children:e("calculator.pricePerDay")}),a.jsxs("span",{className:"font-medium text-white",children:[W==null?void 0:W.pricePerDay," MDL"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-200",children:e("calculator.numberDays")}),a.jsx("span",{className:"font-medium text-white",children:c})]}),a.jsx("div",{className:"pt-2 border-t border-white/20",children:a.jsxs("div",{className:"flex justify-between font-medium",children:[a.jsx("span",{className:"text-white",children:e("calculator.basePrice")}),a.jsxs("span",{className:"text-white",children:[ee.toFixed(0)," MDL"]})]})})]})]}),M>0&&a.jsxs("div",{className:"pt-5 border-t border-white/20",children:[a.jsx("h4",{className:"font-bold text-white mb-4 text-lg",children:e("calculator.additionalServices")}),a.jsxs("div",{className:"space-y-2 text-sm",children:[y&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-200",children:e("calculator.unlimitedMileage")}),a.jsxs("span",{className:"font-medium text-white",children:[(((W==null?void 0:W.pricePerDay)||0)*c*.5).toFixed(0)," MDL"]})]}),Y&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-200",children:e("calculator.insurance")}),a.jsxs("span",{className:"font-medium text-white",children:[(((W==null?void 0:W.pricePerDay)||0)*c*.2).toFixed(0)," MDL"]})]}),w&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-200",children:e("calculator.personalDriver")}),a.jsxs("span",{className:"font-medium text-white",children:[800*c," MDL"]})]}),O&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-200",children:e("calculator.priorityService")}),a.jsxs("span",{className:"font-medium text-white",children:[1e3*c," MDL"]})]}),$&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-200",children:e("calculator.childSeat")}),a.jsxs("span",{className:"font-medium text-white",children:[100*c," MDL"]})]}),A&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-200",children:e("calculator.simInternet")}),a.jsxs("span",{className:"font-medium text-white",children:[100*c," MDL"]})]}),L&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-200",children:e("calculator.assistance")}),a.jsxs("span",{className:"font-medium text-white",children:[500*c," MDL"]})]}),j&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-200",children:e("calculator.airportDelivery","Livrare aeroport")}),a.jsx("span",{className:"font-medium text-white",children:"0 MDL"})]}),a.jsx("div",{className:"pt-2 border-t border-white/20",children:a.jsxs("div",{className:"flex justify-between font-medium",children:[a.jsx("span",{className:"text-white",children:e("calculator.services")}),a.jsxs("span",{className:"text-white",children:[M.toFixed(0)," MDL"]})]})})]})]}),a.jsxs("div",{className:"pt-5 border-t border-white/20",children:[a.jsx("a",{href:"tel:+37362000112",className:"block w-full bg-theme-500 hover:bg-theme-600 text-white font-bold py-4 px-6 rounded-xl text-center transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:e("calculator.bookNow")}),a.jsx("a",{href:"https://t.me/Level_Auto_Rental",target:"_blank",rel:"noopener noreferrer",className:"block w-full mt-3 border-2 border-white/30 hover:border-white/50 hover:bg-white/10 text-white font-semibold py-4 px-6 rounded-xl text-center transition-all duration-200",children:e("calculator.contactUs")})]})]})]}),a.jsx("div",{className:"mt-6 bg-white/10 backdrop-blur-md border border-white/20 rounded-xl p-4",children:a.jsxs("div",{className:"flex gap-3 items-start",children:[a.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-bold",children:"i"})}),a.jsxs("div",{className:"flex-1 text-white",children:[a.jsx("p",{className:"font-bold text-sm mb-1",children:e("calculator.pricesAreIndicative")}),a.jsx("p",{className:"text-white/90 text-xs leading-relaxed",children:e("calculator.pricesDescription")})]})]})})]})})]})})]},t.language)},b4=()=>{const e=kn(),{t}=br();return a.jsxs("section",{id:"not-found-page",className:"relative bg-cover bg-no-repeat bg-fixed bg-center flex items-center justify-center py-32",style:{backgroundImage:window.innerWidth<768?"url('/backgrounds/bg10-mobile.jpeg')":"url('/backgrounds/bg2-desktop.jpeg')",backgroundPosition:"center center",backgroundSize:"cover",minHeight:"calc(100vh - 80px)"},children:[a.jsx("div",{className:"absolute inset-0 bg-black/70"}),a.jsx("div",{className:`absolute bottom-0 left-0 w-full h-40 
            bg-[linear-gradient(to_top,rgba(15,15,15,1),rgba(15,15,15,0))] 
            z-50 pointer-events-none`}),a.jsx("div",{className:"relative z-30 w-full flex items-center justify-center px-4 sm:px-6 lg:px-8 py-20",children:a.jsxs(Ie.div,{variants:fr,initial:"initial",animate:"animate",className:"max-w-2xl w-full text-center",children:[a.jsx(Ie.h1,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-[100px] md:text-[150px] font-extrabold text-white/20 leading-none mb-6",children:"404"}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:t("notFound.title")}),a.jsx("p",{className:"text-lg text-gray-300 mb-10 max-w-xl mx-auto",children:t("notFound.description")}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[a.jsxs(Ie.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("/"),className:"px-8 py-4 bg-theme-500 hover:bg-theme-600 text-white font-semibold rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:[a.jsx(Ux,{className:"w-5 h-5"}),t("notFound.goBackHome")]}),a.jsxs(Ie.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(-1),className:"px-8 py-4 border-2 border-white/30 hover:border-white/50 text-white font-semibold rounded-2xl transition-all duration-300 bg-white/10 backdrop-blur-sm flex items-center justify-center gap-2",children:[a.jsx(Oh,{className:"w-5 h-5"}),t("notFound.goBack")]})]})]})})]})},eX=()=>{const{pathname:e}=go();return _.useEffect(()=>{window.scrollTo(0,0)},[e]),null};function w4({children:e,value:t,index:r}){return t===r?a.jsx("div",{className:"mt-6",children:e}):null}const tX=()=>{const{t:e}=br(),{userProfile:t,user:r}=uc(),[n,i]=_.useState("profile"),[s,o]=_.useState(!1),[l,c]=_.useState(null),[u,h]=_.useState(""),[m,x]=_.useState(""),[p,v]=_.useState(""),[y,g]=_.useState(""),[j,k]=_.useState(""),[w,E]=_.useState("");_.useEffect(()=>{t?(h(t.first_name||""),x(t.last_name||""),v(t.email||(r==null?void 0:r.email)||""),g(t.phone_number||"")):r!=null&&r.email&&v(r.email)},[t,r]);const[O,z]=_.useState(null),[Y,B]=_.useState(null);_.useEffect(()=>{if(!O){B(null);return}const V=URL.createObjectURL(O);return B(V),()=>URL.revokeObjectURL(V)},[O]),_.useEffect(()=>{const V="montserrat-font";if(!document.getElementById(V)){const U=document.createElement("link");U.id=V,U.rel="stylesheet",U.href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap",document.head.appendChild(U)}},[]);const[$,T]=_.useState(""),[A,R]=_.useState(""),[L,q]=_.useState(""),W=[{key:"profile",label:e("admin.settings.profile")},{key:"password",label:e("admin.settings.password")}],ee=async()=>{if(!(t!=null&&t.id)&&!(r!=null&&r.id)){c({type:"error",text:e("admin.settings.userNotFound")});return}o(!0),c(null);try{const V=(t==null?void 0:t.id)||(r==null?void 0:r.id);if(!V)throw new Error(e("admin.settings.userIdNotFound"));const{error:U}=await qt.from("Profiles").update({first_name:u,last_name:m,email:p,phone_number:y||null}).eq("id",V);if(U)throw U;c({type:"success",text:e("admin.settings.profileUpdatedSuccess")}),setTimeout(()=>{c(null)},3e3)}catch(V){console.error("Error updating profile:",V),c({type:"error",text:(V==null?void 0:V.message)||e("admin.settings.profileUpdateFailed")}),setTimeout(()=>{c(null)},5e3)}finally{o(!1)}},M=()=>{if(A!==L){alert(e("admin.settings.passwordsDoNotMatch"));return}console.log("update password",{currentPassword:$,newPassword:A})};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-wrap gap-2",children:W.map(V=>a.jsx("button",{onClick:()=>i(V.key),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${n===V.key?"bg-red-500/20 border border-red-500/50 text-white":"bg-white/5 border border-white/10 text-gray-300 hover:bg-white/10"}`,children:V.label},V.key))}),a.jsxs(w4,{value:n,index:"profile",children:[l&&a.jsx("div",{className:`mb-4 p-4 rounded-lg border ${l.type==="success"?"bg-green-500/20 border-green-500/50 text-green-300":"bg-red-500/20 border-red-500/50 text-red-300"}`,children:l.text}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[a.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[a.jsx(sc,{className:"w-5 h-5"}),e("admin.settings.profileInformation")]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("admin.settings.firstName")}),a.jsx("input",{type:"text",value:u,onChange:V=>h(V.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("admin.settings.lastName")}),a.jsx("input",{type:"text",value:m,onChange:V=>x(V.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("admin.settings.email")}),a.jsx("input",{type:"email",value:p,onChange:V=>v(V.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("admin.settings.phone")}),a.jsx("input",{type:"tel",value:y,onChange:V=>g(V.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50"})]})]})]}),a.jsx("div",{className:"flex gap-4 justify-end pt-4 border-t border-white/10",children:a.jsxs("button",{type:"button",onClick:ee,disabled:s,className:"px-6 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 hover:text-red-200 font-semibold rounded-lg transition-all backdrop-blur-xl flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(wh,{className:`w-4 h-4 ${s?"animate-spin":""}`}),e(s?"admin.settings.saving":"admin.settings.saveChanges")]})})]}),a.jsxs(w4,{value:n,index:"password",children:[a.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[a.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[a.jsx(sy,{className:"w-5 h-5"}),e("admin.settings.changePassword")]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("admin.settings.currentPassword")}),a.jsx("input",{type:"password",value:$,onChange:V=>T(V.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("admin.settings.newPassword")}),a.jsx("input",{type:"password",value:A,onChange:V=>R(V.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:e("admin.settings.passwordRequirement")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("admin.settings.confirmNewPassword")}),a.jsx("input",{type:"password",value:L,onChange:V=>q(V.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50"})]})]})]}),a.jsx("div",{className:"flex gap-4 justify-end pt-4 border-t border-white/10",children:a.jsxs("button",{type:"button",onClick:M,className:"px-6 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 hover:text-red-200 font-semibold rounded-lg transition-all backdrop-blur-xl flex items-center gap-2",children:[a.jsx(wh,{className:"w-4 h-4"}),e("admin.settings.updatePassword")]})})]})]})},rX=({...e})=>a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        [data-sonner-toaster] [data-sonner-toast] {
          background: rgba(255, 255, 255, 0.1) !important;
          backdrop-filter: blur(24px) !important;
          -webkit-backdrop-filter: blur(24px) !important;
          border: 1px solid rgba(255, 255, 255, 0.2) !important;
          border-radius: 0.75rem !important;
        }
        [data-sonner-toaster] [data-sonner-toast][data-type="success"] {
          background: rgba(255, 255, 255, 0.1) !important;
          backdrop-filter: blur(24px) !important;
          -webkit-backdrop-filter: blur(24px) !important;
          border-color: rgba(52, 211, 153, 0.3) !important;
          color: rgb(110, 231, 183) !important;
        }
        [data-sonner-toaster] [data-sonner-toast][data-type="error"] {
          background: rgba(255, 255, 255, 0.1) !important;
          backdrop-filter: blur(24px) !important;
          -webkit-backdrop-filter: blur(24px) !important;
          border-color: rgba(248, 113, 113, 0.3) !important;
          color: rgb(252, 165, 165) !important;
        }
        [data-sonner-toaster] [data-sonner-toast][data-type="info"] {
          background: rgba(255, 255, 255, 0.1) !important;
          backdrop-filter: blur(24px) !important;
          -webkit-backdrop-filter: blur(24px) !important;
          border-color: rgba(96, 165, 250, 0.3) !important;
          color: rgb(147, 197, 253) !important;
        }
        [data-sonner-toaster] [data-sonner-toast][data-type="warning"] {
          background: rgba(255, 255, 255, 0.1) !important;
          backdrop-filter: blur(24px) !important;
          -webkit-backdrop-filter: blur(24px) !important;
          border-color: rgba(251, 191, 36, 0.3) !important;
          color: rgb(253, 224, 71) !important;
        }
      `}),a.jsx(aL,{theme:"dark",className:"toaster group",position:"bottom-right",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-white/10 group-[.toaster]:backdrop-blur-xl group-[.toaster]:border group-[.toaster]:border-white/20 group-[.toaster]:text-white group-[.toaster]:shadow-lg group-[.toaster]:rounded-xl",description:"group-[.toast]:text-white/70",actionButton:"group-[.toast]:bg-red-500/20 group-[.toast]:text-white group-[.toast]:border group-[.toast]:border-red-500/50 group-[.toast]:rounded-lg group-[.toast]:px-4 group-[.toast]:py-2 group-[.toast]:font-medium group-[.toast]:transition-all group-[.toast]:hover:bg-red-500/30",cancelButton:"group-[.toast]:bg-white/10 group-[.toast]:text-white/70 group-[.toast]:rounded-lg group-[.toast]:px-4 group-[.toast]:py-2 group-[.toast]:font-medium group-[.toast]:transition-all group-[.toast]:hover:bg-white/20",success:"group-[.toaster]:bg-white/10 group-[.toaster]:backdrop-blur-xl group-[.toaster]:border-emerald-400/30 group-[.toaster]:text-emerald-300",error:"group-[.toaster]:bg-white/10 group-[.toaster]:backdrop-blur-xl group-[.toaster]:border-red-400/30 group-[.toaster]:text-red-300",info:"group-[.toaster]:bg-white/10 group-[.toaster]:backdrop-blur-xl group-[.toaster]:border-blue-400/30 group-[.toaster]:text-blue-300",warning:"group-[.toaster]:bg-white/10 group-[.toaster]:backdrop-blur-xl group-[.toaster]:border-yellow-400/30 group-[.toaster]:text-yellow-300"}},...e})]}),Ih=()=>({showSuccess:(i,s)=>{Rg.success(i,{description:s,duration:4e3})},showError:(i,s)=>{Rg.error(i,{description:s,duration:5e3})},showInfo:(i,s)=>{Rg.info(i,{description:s,duration:4e3})},showWarning:(i,s)=>{Rg.warning(i,{description:s,duration:4e3})}});var nX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function NN(e){if(typeof e!="string")return!1;var t=nX;return t.includes(e)}var aX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function PL(e){if(typeof e!="string")return!1;var t=aX;return t.includes(e)}function EL(e){return typeof e=="string"&&e.startsWith("data-")}function nu(e){var t=Object.entries(e).filter(r=>{var[n]=r;return PL(n)||EL(n)});return Object.fromEntries(t)}function xy(e){if(e==null)return null;if(_.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return nu(t)}return typeof e=="object"&&!Array.isArray(e)?nu(e):null}function gs(e){var t=Object.entries(e).filter(r=>{var[n]=r;return PL(n)||EL(n)||NN(n)});return Object.fromEntries(t)}function iX(e){return e==null?null:_.isValidElement(e)?gs(e.props):typeof e=="object"&&!Array.isArray(e)?gs(e):null}var sX=["children","width","height","viewBox","className","style","title","desc"];function y5(){return y5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y5.apply(null,arguments)}function oX(e,t){if(e==null)return{};var r,n,i=lX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DL=_.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:o,style:l,title:c,desc:u}=e,h=oX(e,sX),m=s||{width:n,height:i,x:0,y:0},x=fn("recharts-surface",o);return _.createElement("svg",y5({},gs(h),{className:x,width:n,height:i,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),_.createElement("title",null,c),_.createElement("desc",null,u),r)}),cX=["children","className"];function b5(){return b5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b5.apply(null,arguments)}function uX(e,t){if(e==null)return{};var r,n,i=dX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ud=_.forwardRef((e,t)=>{var{children:r,className:n}=e,i=uX(e,cX),s=fn("recharts-layer",n);return _.createElement("g",b5({className:s},gs(i),{ref:t}),r)}),hX=_.createContext(null);function Nn(e){return function(){return e}}const AL=Math.cos,ev=Math.sin,Cl=Math.sqrt,tv=Math.PI,vy=2*tv,w5=Math.PI,j5=2*w5,Zd=1e-6,fX=j5-Zd;function TL(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function mX(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return TL;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class pX{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?TL:mX(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=i-r,h=o-t,m=l-r,x=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>Zd)if(!(Math.abs(m*c-u*h)>Zd)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,v=i-l,y=c*c+u*u,g=p*p+v*v,j=Math.sqrt(y),k=Math.sqrt(x),w=s*Math.tan((w5-Math.acos((y+x-g)/(2*j*k)))/2),E=w/k,O=w/j;Math.abs(E-1)>Zd&&this._append`L${t+E*h},${r+E*m}`,this._append`A${s},${s},0,0,${+(m*p>h*v)},${this._x1=t+O*c},${this._y1=r+O*u}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,h=r+c,m=1^o,x=o?i-s:s-i;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>Zd||Math.abs(this._y1-h)>Zd)&&this._append`L${u},${h}`,n&&(x<0&&(x=x%j5+j5),x>fX?this._append`A${n},${n},0,1,${m},${t-l},${r-c}A${n},${n},0,1,${m},${this._x1=u},${this._y1=h}`:x>Zd&&this._append`A${n},${n},0,${+(x>=w5)},${m},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function _N(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new pX(t)}function SN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function OL(e){this._context=e}OL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function yy(e){return new OL(e)}function LL(e){return e[0]}function IL(e){return e[1]}function ML(e,t){var r=Nn(!0),n=null,i=yy,s=null,o=_N(l);e=typeof e=="function"?e:e===void 0?LL:Nn(e),t=typeof t=="function"?t:t===void 0?IL:Nn(t);function l(c){var u,h=(c=SN(c)).length,m,x=!1,p;for(n==null&&(s=i(p=o())),u=0;u<=h;++u)!(u<h&&r(m=c[u],u,c))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+e(m,u,c),+t(m,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Nn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Nn(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Nn(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function $g(e,t,r){var n=null,i=Nn(!0),s=null,o=yy,l=null,c=_N(u);e=typeof e=="function"?e:e===void 0?LL:Nn(+e),t=typeof t=="function"?t:Nn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?IL:Nn(+r);function u(m){var x,p,v,y=(m=SN(m)).length,g,j=!1,k,w=new Array(y),E=new Array(y);for(s==null&&(l=o(k=c())),x=0;x<=y;++x){if(!(x<y&&i(g=m[x],x,m))===j)if(j=!j)p=x,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=x-1;v>=p;--v)l.point(w[v],E[v]);l.lineEnd(),l.areaEnd()}j&&(w[x]=+e(g,x,m),E[x]=+t(g,x,m),l.point(n?+n(g,x,m):w[x],r?+r(g,x,m):E[x]))}if(k)return l=null,k+""||null}function h(){return ML().defined(i).curve(o).context(s)}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:Nn(+m),n=null,u):e},u.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Nn(+m),u):e},u.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Nn(+m),u):n},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:Nn(+m),r=null,u):t},u.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Nn(+m),u):t},u.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Nn(+m),u):r},u.lineX0=u.lineY0=function(){return h().x(e).y(t)},u.lineY1=function(){return h().x(e).y(r)},u.lineX1=function(){return h().x(n).y(t)},u.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Nn(!!m),u):i},u.curve=function(m){return arguments.length?(o=m,s!=null&&(l=o(s)),u):o},u.context=function(m){return arguments.length?(m==null?s=l=null:l=o(s=m),u):s},u}class RL{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function gX(e){return new RL(e,!0)}function xX(e){return new RL(e,!1)}const kN={draw(e,t){const r=Cl(t/tv);e.moveTo(r,0),e.arc(0,0,r,0,vy)}},vX={draw(e,t){const r=Cl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},zL=Cl(1/3),yX=zL*2,bX={draw(e,t){const r=Cl(t/yX),n=r*zL;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},wX={draw(e,t){const r=Cl(t),n=-r/2;e.rect(n,n,r,r)}},jX=.8908130915292852,FL=ev(tv/10)/ev(7*tv/10),NX=ev(vy/10)*FL,_X=-AL(vy/10)*FL,SX={draw(e,t){const r=Cl(t*jX),n=NX*r,i=_X*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const o=vy*s/5,l=AL(o),c=ev(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},E1=Cl(3),kX={draw(e,t){const r=-Cl(t/(E1*3));e.moveTo(0,r*2),e.lineTo(-E1*r,-r),e.lineTo(E1*r,-r),e.closePath()}},Mo=-.5,Ro=Cl(3)/2,N5=1/Cl(12),CX=(N5/2+1)*3,PX={draw(e,t){const r=Cl(t/CX),n=r/2,i=r*N5,s=n,o=r*N5+r,l=-s,c=o;e.moveTo(n,i),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(Mo*n-Ro*i,Ro*n+Mo*i),e.lineTo(Mo*s-Ro*o,Ro*s+Mo*o),e.lineTo(Mo*l-Ro*c,Ro*l+Mo*c),e.lineTo(Mo*n+Ro*i,Mo*i-Ro*n),e.lineTo(Mo*s+Ro*o,Mo*o-Ro*s),e.lineTo(Mo*l+Ro*c,Mo*c-Ro*l),e.closePath()}};function EX(e,t){let r=null,n=_N(i);e=typeof e=="function"?e:Nn(e||kN),t=typeof t=="function"?t:Nn(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Nn(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Nn(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function rv(){}function nv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function $L(e){this._context=e}$L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DX(e){return new $L(e)}function BL(e){this._context=e}BL.prototype={areaStart:rv,areaEnd:rv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:nv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function AX(e){return new BL(e)}function UL(e){this._context=e}UL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:nv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function TX(e){return new UL(e)}function qL(e){this._context=e}qL.prototype={areaStart:rv,areaEnd:rv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function OX(e){return new qL(e)}function j4(e){return e<0?-1:1}function N4(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(s*i+o*n)/(n+i);return(j4(s)+j4(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function _4(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function D1(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,o-l*r,s,o)}function av(e){this._context=e}av.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:D1(this,this._t0,_4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,D1(this,_4(this,r=N4(this,e,t)),r);break;default:D1(this,this._t0,r=N4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function HL(e){this._context=new VL(e)}(HL.prototype=Object.create(av.prototype)).point=function(e,t){av.prototype.point.call(this,t,e)};function VL(e){this._context=e}VL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function LX(e){return new av(e)}function IX(e){return new HL(e)}function WL(e){this._context=e}WL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=S4(e),i=S4(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function S4(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function MX(e){return new WL(e)}function by(e,t){this._context=e,this._t=t}by.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function RX(e){return new by(e,.5)}function zX(e){return new by(e,0)}function FX(e){return new by(e,1)}function rm(e,t){if((o=e.length)>1)for(var r=1,n,i,s=e[t[0]],o,l=s.length;r<o;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function _5(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function $X(e,t){return e[t]}function BX(e){const t=[];return t.key=e,t}function UX(){var e=Nn([]),t=_5,r=rm,n=$X;function i(s){var o=Array.from(e.apply(this,arguments),BX),l,c=o.length,u=-1,h;for(const m of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(m,o[l].key,u,s)]).data=m;for(l=0,h=SN(t(o));l<c;++l)o[h[l]].index=l;return r(o,h),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Nn(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Nn(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?_5:typeof s=="function"?s:Nn(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??rm,i):r},i}function qX(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}rm(e,t)}}function HX(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}rm(e,t)}}function VX(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var h=e[t[l]],m=h[n][1]||0,x=h[n-1][1]||0,p=(m-x)/2,v=0;v<l;++v){var y=e[t[v]],g=y[n][1]||0,j=y[n-1][1]||0;p+=g-j}c+=m,u+=p*m}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,rm(e,t)}}var A1={},T1={},k4;function WX(){return k4||(k4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t}(T1)),T1}var O1={},C4;function KL(){return C4||(C4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t}(O1)),O1}var L1={},P4;function CN(){return P4||(P4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t}(L1)),L1}var I1={},M1={},E4;function KX(){return E4||(E4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t}(M1)),M1}var D4;function PN(){return D4||(D4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KX(),r=CN();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],o=i.length;if(o===0)return s;let l=0,c="",u="",h=!1;for(i.charCodeAt(0)===46&&(s.push(""),l++);l<o;){const m=i[l];u?m==="\\"&&l+1<o?(l++,c+=i[l]):m===u?u="":c+=m:h?m==='"'||m==="'"?u=m:m==="]"?(h=!1,s.push(c),c=""):c+=m:m==="["?(h=!0,c&&(s.push(c),c="")):m==="."?c&&(s.push(c),c=""):c+=m,l++}return c&&s.push(c),s}e.toPath=n}(I1)),I1}var A4;function EN(){return A4||(A4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WX(),r=KL(),n=CN(),i=PN();function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const h=l[c];return h===void 0?r.isDeepKey(c)?s(l,i.toPath(c),u):u:h}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const h=l[c];return h===void 0?u:h}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const h=l[c];return h===void 0?u:h}}}function o(l,c,u){if(c.length===0)return u;let h=l;for(let m=0;m<c.length;m++){if(h==null||t.isUnsafeProperty(c[m]))return u;h=h[c[m]]}return h===void 0?u:h}e.get=s}(A1)),A1}var R1,T4;function GX(){return T4||(T4=1,R1=EN().get),R1}var YX=GX();const wy=Wo(YX);var jl=e=>e===0?0:e>0?1:-1,au=e=>typeof e=="number"&&e!=+e,iu=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Sr=e=>(typeof e=="number"||e instanceof Number)&&!au(e),oc=e=>Sr(e)||typeof e=="string",XX=0,Yp=e=>{var t=++XX;return"".concat(e||"").concat(t)},dd=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Sr(t)&&typeof t!="string")return n;var s;if(iu(t)){if(r==null)return n;var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return au(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},GL=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Is(e,t,r){return Sr(e)&&Sr(t)?e+r*(t-e):t}function YL(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):wy(n,t))===r)}var si=e=>e===null||typeof e>"u",N0=e=>si(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function JX(e){return e!=null}function mm(){}var ZX=["type","size","sizeType"];function S5(){return S5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S5.apply(null,arguments)}function O4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O4(Object(r),!0).forEach(function(n){QX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QX(e,t,r){return(t=eJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eJ(e){var t=tJ(e,"string");return typeof t=="symbol"?t:t+""}function tJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rJ(e,t){if(e==null)return{};var r,n,i=nJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XL={symbolCircle:kN,symbolCross:vX,symbolDiamond:bX,symbolSquare:wX,symbolStar:SX,symbolTriangle:kX,symbolWye:PX},aJ=Math.PI/180,iJ=e=>{var t="symbol".concat(N0(e));return XL[t]||kN},sJ=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*aJ;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},oJ=(e,t)=>{XL["symbol".concat(N0(e))]=t},JL=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=rJ(e,ZX),s=L4(L4({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var x=iJ(o),p=EX().type(x).size(sJ(r,n,o)),v=p();if(v!==null)return v},{className:c,cx:u,cy:h}=s,m=gs(s);return Sr(u)&&Sr(h)&&Sr(r)?_.createElement("path",S5({},m,{className:fn("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(h,")"),d:l()})):null};JL.registerSymbol=oJ;var ZL=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,DN=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(_.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{NN(i)&&(n[i]=s=>r[i](r,s))}),n},lJ=(e,t,r)=>n=>(e(t,r,n),null),cJ=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];NN(i)&&typeof s=="function"&&(n||(n={}),n[i]=lJ(s,t,r))}),n};function I4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I4(Object(r),!0).forEach(function(n){dJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dJ(e,t,r){return(t=hJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hJ(e){var t=fJ(e,"string");return typeof t=="symbol"?t:t+""}function fJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xo(e,t){var r=uJ({},e),n=t,i=Object.keys(t),s=i.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return s}var z1={},F1={},M4;function mJ(){return M4||(M4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const o=r[s],l=n(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}e.uniqBy=t}(F1)),F1}var $1={},R4;function QL(){return R4||(R4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t}($1)),$1}var B1={},U1={},q1={},z4;function pJ(){return z4||(z4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t}(q1)),q1}var F4;function AN(){return F4||(F4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pJ();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r}(U1)),U1}var H1={},$4;function gJ(){return $4||($4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t}(H1)),H1}var B4;function xJ(){return B4||(B4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AN(),r=gJ();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n}(B1)),B1}var V1={},W1={},U4;function vJ(){return U4||(U4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EN();function r(n){return function(i){return t.get(i,n)}}e.property=r}(W1)),W1}var K1={},G1={},Y1={},X1={},q4;function eI(){return q4||(q4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t}(X1)),X1}var J1={},H4;function tI(){return H4||(H4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t}(J1)),J1}var Z1={},V4;function rI(){return V4||(V4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t}(Z1)),Z1}var W4;function yJ(){return W4||(W4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eI(),r=tI(),n=rI();function i(h,m,x){return typeof x!="function"?i(h,m,()=>{}):s(h,m,function p(v,y,g,j,k,w){const E=x(v,y,g,j,k,w);return E!==void 0?!!E:s(v,y,p,w)},new Map)}function s(h,m,x,p){if(m===h)return!0;switch(typeof m){case"object":return o(h,m,x,p);case"function":return Object.keys(m).length>0?s(h,{...m},x,p):n.eq(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:n.eq(h,m)}}function o(h,m,x,p){if(m==null)return!0;if(Array.isArray(m))return c(h,m,x,p);if(m instanceof Map)return l(h,m,x,p);if(m instanceof Set)return u(h,m,x,p);const v=Object.keys(m);if(h==null)return v.length===0;if(v.length===0)return!0;if(p!=null&&p.has(m))return p.get(m)===h;p==null||p.set(m,h);try{for(let y=0;y<v.length;y++){const g=v[y];if(!r.isPrimitive(h)&&!(g in h)||m[g]===void 0&&h[g]!==void 0||m[g]===null&&h[g]!==null||!x(h[g],m[g],g,h,m,p))return!1}return!0}finally{p==null||p.delete(m)}}function l(h,m,x,p){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[v,y]of m.entries()){const g=h.get(v);if(x(g,y,v,h,m,p)===!1)return!1}return!0}function c(h,m,x,p){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const v=new Set;for(let y=0;y<m.length;y++){const g=m[y];let j=!1;for(let k=0;k<h.length;k++){if(v.has(k))continue;const w=h[k];let E=!1;if(x(w,g,y,h,m,p)&&(E=!0),E){v.add(k),j=!0;break}}if(!j)return!1}return!0}function u(h,m,x,p){return m.size===0?!0:h instanceof Set?c([...h],[...m],x,p):!1}e.isMatchWith=i,e.isSetMatch=u}(Y1)),Y1}var K4;function nI(){return K4||(K4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yJ();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(G1)),G1}var Q1={},ew={},tw={},G4;function bJ(){return G4||(G4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t}(tw)),tw}var rw={},Y4;function aI(){return Y4||(Y4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t}(rw)),rw}var nw={},X4;function iI(){return X4||(X4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",h="[object Array]",m="[object Function]",x="[object ArrayBuffer]",p="[object Object]",v="[object Error]",y="[object DataView]",g="[object Uint8Array]",j="[object Uint8ClampedArray]",k="[object Uint16Array]",w="[object Uint32Array]",E="[object BigUint64Array]",O="[object Int8Array]",z="[object Int16Array]",Y="[object Int32Array]",B="[object BigInt64Array]",$="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=x,e.arrayTag=h,e.bigInt64ArrayTag=B,e.bigUint64ArrayTag=E,e.booleanTag=i,e.dataViewTag=y,e.dateTag=l,e.errorTag=v,e.float32ArrayTag=$,e.float64ArrayTag=T,e.functionTag=m,e.int16ArrayTag=z,e.int32ArrayTag=Y,e.int8ArrayTag=O,e.mapTag=c,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=k,e.uint32ArrayTag=w,e.uint8ArrayTag=g,e.uint8ClampedArrayTag=j}(nw)),nw}var aw={},J4;function wJ(){return J4||(J4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t}(aw)),aw}var Z4;function sI(){return Z4||(Z4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bJ(),r=aI(),n=iI(),i=tI(),s=wJ();function o(h,m){return l(h,void 0,h,new Map,m)}function l(h,m,x,p=new Map,v=void 0){const y=v==null?void 0:v(h,m,x,p);if(y!==void 0)return y;if(i.isPrimitive(h))return h;if(p.has(h))return p.get(h);if(Array.isArray(h)){const g=new Array(h.length);p.set(h,g);for(let j=0;j<h.length;j++)g[j]=l(h[j],j,x,p,v);return Object.hasOwn(h,"index")&&(g.index=h.index),Object.hasOwn(h,"input")&&(g.input=h.input),g}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const g=new RegExp(h.source,h.flags);return g.lastIndex=h.lastIndex,g}if(h instanceof Map){const g=new Map;p.set(h,g);for(const[j,k]of h)g.set(j,l(k,j,x,p,v));return g}if(h instanceof Set){const g=new Set;p.set(h,g);for(const j of h)g.add(l(j,void 0,x,p,v));return g}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(s.isTypedArray(h)){const g=new(Object.getPrototypeOf(h)).constructor(h.length);p.set(h,g);for(let j=0;j<h.length;j++)g[j]=l(h[j],j,x,p,v);return g}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const g=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return p.set(h,g),c(g,h,x,p,v),g}if(typeof File<"u"&&h instanceof File){const g=new File([h],h.name,{type:h.type});return p.set(h,g),c(g,h,x,p,v),g}if(typeof Blob<"u"&&h instanceof Blob){const g=new Blob([h],{type:h.type});return p.set(h,g),c(g,h,x,p,v),g}if(h instanceof Error){const g=new h.constructor;return p.set(h,g),g.message=h.message,g.name=h.name,g.stack=h.stack,g.cause=h.cause,c(g,h,x,p,v),g}if(h instanceof Boolean){const g=new Boolean(h.valueOf());return p.set(h,g),c(g,h,x,p,v),g}if(h instanceof Number){const g=new Number(h.valueOf());return p.set(h,g),c(g,h,x,p,v),g}if(h instanceof String){const g=new String(h.valueOf());return p.set(h,g),c(g,h,x,p,v),g}if(typeof h=="object"&&u(h)){const g=Object.create(Object.getPrototypeOf(h));return p.set(h,g),c(g,h,x,p,v),g}return h}function c(h,m,x=h,p,v){const y=[...Object.keys(m),...t.getSymbols(m)];for(let g=0;g<y.length;g++){const j=y[g],k=Object.getOwnPropertyDescriptor(h,j);(k==null||k.writable)&&(h[j]=l(m[j],j,x,p,v))}}function u(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c}(ew)),ew}var Q4;function jJ(){return Q4||(Q4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sI();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r}(Q1)),Q1}var eC;function NJ(){return eC||(eC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nI(),r=jJ();function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n}(K1)),K1}var iw={},sw={},ow={},tC;function _J(){return tC||(tC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sI(),r=iI();function n(i,s){return t.cloneDeepWith(i,(o,l,c,u)=>{const h=s==null?void 0:s(o,l,c,u);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(m,i),m}case r.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n}(ow)),ow}var rC;function SJ(){return rC||(rC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_J();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r}(sw)),sw}var lw={},cw={},nC;function oI(){return nC||(nC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r}(cw)),cw}var uw={},aC;function kJ(){return aC||(aC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aI();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r}(uw)),uw}var iC;function CJ(){return iC||(iC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KL(),r=oI(),n=kJ(),i=PN();function s(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let h=0;h<c.length;h++){const m=c[h];if((u==null||!Object.hasOwn(u,m))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(m)&&m<u.length))return!1;u=u[m]}return!0}e.has=s}(lw)),lw}var sC;function PJ(){return sC||(sC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nI(),r=CN(),n=SJ(),i=EN(),s=CJ();function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const h=i.get(u,l);return h===void 0?s.has(u,l):c===void 0?h===void 0:t.isMatch(h,c)}}e.matchesProperty=o}(iw)),iw}var oC;function EJ(){return oC||(oC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QL(),r=vJ(),n=NJ(),i=PJ();function s(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=s}(V1)),V1}var lC;function DJ(){return lC||(lC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mJ(),r=QL(),n=xJ(),i=EJ();function s(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(l)):[]}e.uniqBy=s}(z1)),z1}var dw,cC;function AJ(){return cC||(cC=1,dw=DJ().uniqBy),dw}var TJ=AJ();const uC=Wo(TJ);function OJ(e,t,r){return t===!0?uC(e,r):typeof t=="function"?uC(e,t):e}var hw={exports:{}},fw={},mw={exports:{}},pw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dC;function LJ(){if(dC)return pw;dC=1;var e=po();function t(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function l(m,x){var p=x(),v=n({inst:{value:p,getSnapshot:x}}),y=v[0].inst,g=v[1];return s(function(){y.value=p,y.getSnapshot=x,c(y)&&g({inst:y})},[m,p,x]),i(function(){return c(y)&&g({inst:y}),m(function(){c(y)&&g({inst:y})})},[m]),o(p),p}function c(m){var x=m.getSnapshot;m=m.value;try{var p=x();return!r(m,p)}catch{return!0}}function u(m,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return pw.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,pw}var hC;function IJ(){return hC||(hC=1,mw.exports=LJ()),mw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fC;function MJ(){if(fC)return fw;fC=1;var e=po(),t=IJ();function r(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,s=e.useRef,o=e.useEffect,l=e.useMemo,c=e.useDebugValue;return fw.useSyncExternalStoreWithSelector=function(u,h,m,x,p){var v=s(null);if(v.current===null){var y={hasValue:!1,value:null};v.current=y}else y=v.current;v=l(function(){function j(z){if(!k){if(k=!0,w=z,z=x(z),p!==void 0&&y.hasValue){var Y=y.value;if(p(Y,z))return E=Y}return E=z}if(Y=E,n(w,z))return Y;var B=x(z);return p!==void 0&&p(Y,B)?(w=z,Y):(w=z,E=B)}var k=!1,w,E,O=m===void 0?null:m;return[function(){return j(h())},O===null?void 0:function(){return j(O())}]},[h,m,x,p]);var g=i(u,v[0],v[1]);return o(function(){y.hasValue=!0,y.value=g},[g]),c(g),g},fw}var mC;function RJ(){return mC||(mC=1,hw.exports=MJ()),hw.exports}var zJ=RJ(),TN=_.createContext(null),FJ=e=>e,ui=()=>{var e=_.useContext(TN);return e?e.store.dispatch:FJ},vx=()=>{},$J=()=>vx,BJ=(e,t)=>e===t;function yr(e){var t=_.useContext(TN);return zJ.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:$J,t?t.store.getState:vx,t?t.store.getState:vx,t?e:vx,BJ)}function UJ(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function qJ(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function HJ(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var pC=e=>Array.isArray(e)?e:[e];function VJ(e){const t=Array.isArray(e[0])?e[0]:e;return HJ(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function WJ(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var KJ=class{constructor(e){this.value=e}deref(){return this.value}},GJ=typeof WeakRef<"u"?WeakRef:KJ,YJ=0,gC=1;function Bg(){return{s:YJ,v:void 0,o:null,p:null}}function lI(e,t={}){let r=Bg();const{resultEqualityCheck:n}=t;let i,s=0;function o(){var m;let l=r;const{length:c}=arguments;for(let x=0,p=c;x<p;x++){const v=arguments[x];if(typeof v=="function"||typeof v=="object"&&v!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const g=y.get(v);g===void 0?(l=Bg(),y.set(v,l)):l=g}else{let y=l.p;y===null&&(l.p=y=new Map);const g=y.get(v);g===void 0?(l=Bg(),y.set(v,l)):l=g}}const u=l;let h;if(l.s===gC)h=l.v;else if(h=e.apply(null,arguments),s++,n){const x=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;x!=null&&n(x,h)&&(h=x,s!==0&&s--),i=typeof h=="object"&&h!==null||typeof h=="function"?new GJ(h):h}return u.s=gC,u.v=h,h}return o.clearCache=()=>{r=Bg(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function XJ(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,o=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),UJ(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const h={...r,...c},{memoize:m,memoizeOptions:x=[],argsMemoize:p=lI,argsMemoizeOptions:v=[]}=h,y=pC(x),g=pC(v),j=VJ(i),k=m(function(){return s++,u.apply(null,arguments)},...y),w=p(function(){o++;const O=WJ(j,arguments);return l=k.apply(null,O),l},...g);return Object.assign(w,{resultFunc:u,memoizedResultFunc:k,dependencies:j,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var yt=XJ(lI),JJ=Object.assign((e,t=yt)=>{qJ(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>JJ}),gw={},xw={},vw={},xC;function ZJ(){return xC||(xC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const o=t(n),l=t(i);if(o===l&&o===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?l-o:o-l}return 0};e.compareValues=r}(vw)),vw}var yw={},bw={},vC;function cI(){return vC||(vC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t}(bw)),bw}var yC;function QJ(){return yC||(yC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cI(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||o!=null&&Object.hasOwn(o,s)}e.isKey=i}(yw)),yw}var bC;function eZ(){return bC||(bC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZJ(),r=QJ(),n=PN();function i(s,o,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(p=>String(p));const u=(p,v)=>{let y=p;for(let g=0;g<v.length&&y!=null;++g)y=y[v[g]];return y},h=(p,v)=>v==null||p==null?v:typeof p=="object"&&"key"in p?Object.hasOwn(v,p.key)?v[p.key]:u(v,p.path):typeof p=="function"?p(v):Array.isArray(p)?u(v,p):typeof v=="object"?v[p]:v,m=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return s.map(p=>({original:p,criteria:m.map(v=>h(v,p))})).slice().sort((p,v)=>{for(let y=0;y<m.length;y++){const g=t.compareValues(p.criteria[y],v.criteria[y],l[y]);if(g!==0)return g}return 0}).map(p=>p.original)}e.orderBy=i}(xw)),xw}var ww={},wC;function tZ(){return wC||(wC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),o=(l,c)=>{for(let u=0;u<l.length;u++){const h=l[u];Array.isArray(h)&&c<s?o(h,c+1):i.push(h)}};return o(r,0),i}e.flatten=t}(ww)),ww}var jw={},jC;function uI(){return jC||(jC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oI(),r=AN(),n=eI(),i=rI();function s(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],o):!1}e.isIterateeCall=s}(jw)),jw}var NC;function rZ(){return NC||(NC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eZ(),r=tZ(),n=uI();function i(s,...o){const l=o.length;return l>1&&n.isIterateeCall(s,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(s,r.flatten(o),["asc"])}e.sortBy=i}(gw)),gw}var Nw,_C;function nZ(){return _C||(_C=1,Nw=rZ().sortBy),Nw}var aZ=nZ();const jy=Wo(aZ);var dI=e=>e.legend.settings,iZ=e=>e.legend.size,sZ=e=>e.legend.payload;yt([sZ,dI],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?jy(n,r):n});var Ug=1;function oZ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=_.useState({height:0,left:0,top:0,width:0}),n=_.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-t.height)>Ug||Math.abs(o.left-t.left)>Ug||Math.abs(o.top-t.top)>Ug||Math.abs(o.width-t.width)>Ug)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Ni(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var lZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",SC=lZ,_w=()=>Math.random().toString(36).substring(7).split("").join("."),cZ={INIT:`@@redux/INIT${_w()}`,REPLACE:`@@redux/REPLACE${_w()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${_w()}`},iv=cZ;function ON(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function hI(e,t,r){if(typeof e!="function")throw new Error(Ni(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ni(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ni(1));return r(hI)(e,t)}let n=e,i=t,s=new Map,o=s,l=0,c=!1;function u(){o===s&&(o=new Map,s.forEach((g,j)=>{o.set(j,g)}))}function h(){if(c)throw new Error(Ni(3));return i}function m(g){if(typeof g!="function")throw new Error(Ni(4));if(c)throw new Error(Ni(5));let j=!0;u();const k=l++;return o.set(k,g),function(){if(j){if(c)throw new Error(Ni(6));j=!1,u(),o.delete(k),s=null}}}function x(g){if(!ON(g))throw new Error(Ni(7));if(typeof g.type>"u")throw new Error(Ni(8));if(typeof g.type!="string")throw new Error(Ni(17));if(c)throw new Error(Ni(9));try{c=!0,i=n(i,g)}finally{c=!1}return(s=o).forEach(k=>{k()}),g}function p(g){if(typeof g!="function")throw new Error(Ni(10));n=g,x({type:iv.REPLACE})}function v(){const g=m;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(Ni(11));function k(){const E=j;E.next&&E.next(h())}return k(),{unsubscribe:g(k)}},[SC](){return this}}}return x({type:iv.INIT}),{dispatch:x,subscribe:m,getState:h,replaceReducer:p,[SC]:v}}function uZ(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:iv.INIT})>"u")throw new Error(Ni(12));if(typeof r(void 0,{type:iv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ni(13))})}function fI(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{uZ(r)}catch(s){i=s}return function(o={},l){if(i)throw i;let c=!1;const u={};for(let h=0;h<n.length;h++){const m=n[h],x=r[m],p=o[m],v=x(p,l);if(typeof v>"u")throw l&&l.type,new Error(Ni(14));u[m]=v,c=c||v!==p}return c=c||n.length!==Object.keys(o).length,c?u:o}}function sv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function dZ(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(Ni(15))};const o={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(o));return s=sv(...l)(i.dispatch),{...i,dispatch:s}}}function mI(e){return ON(e)&&"type"in e&&typeof e.type=="string"}var pI=Symbol.for("immer-nothing"),kC=Symbol.for("immer-draftable"),mo=Symbol.for("immer-state");function bl(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Xp=Object.getPrototypeOf;function _h(e){return!!e&&!!e[mo]}function su(e){var t;return e?gI(e)||Array.isArray(e)||!!e[kC]||!!((t=e.constructor)!=null&&t[kC])||_0(e)||_y(e):!1}var hZ=Object.prototype.constructor.toString(),CC=new WeakMap;function gI(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=CC.get(r);return n===void 0&&(n=Function.toString.call(r),CC.set(r,n)),n===hZ}function ov(e,t,r=!0){Ny(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Ny(e){const t=e[mo];return t?t.type_:Array.isArray(e)?1:_0(e)?2:_y(e)?3:0}function k5(e,t){return Ny(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function xI(e,t,r){const n=Ny(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function fZ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function _0(e){return e instanceof Map}function _y(e){return e instanceof Set}function Qd(e){return e.copy_||e.base_}function C5(e,t){if(_0(e))return new Map(e);if(_y(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=gI(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[mo];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const o=i[s],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Xp(e),n)}else{const n=Xp(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function LN(e,t=!1){return Sy(e)||_h(e)||!su(e)||(Ny(e)>1&&Object.defineProperties(e,{set:qg,add:qg,clear:qg,delete:qg}),Object.freeze(e),t&&Object.values(e).forEach(r=>LN(r,!0))),e}function mZ(){bl(2)}var qg={value:mZ};function Sy(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var pZ={};function Sh(e){const t=pZ[e];return t||bl(0,e),t}var Jp;function vI(){return Jp}function gZ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function PC(e,t){t&&(Sh("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function P5(e){E5(e),e.drafts_.forEach(xZ),e.drafts_=null}function E5(e){e===Jp&&(Jp=e.parent_)}function EC(e){return Jp=gZ(Jp,e)}function xZ(e){const t=e[mo];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function DC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[mo].modified_&&(P5(t),bl(4)),su(e)&&(e=lv(t,e),t.parent_||cv(t,e)),t.patches_&&Sh("Patches").generateReplacementPatches_(r[mo].base_,e,t.patches_,t.inversePatches_)):e=lv(t,r,[]),P5(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==pI?e:void 0}function lv(e,t,r){if(Sy(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[mo];if(!i)return ov(t,(s,o)=>AC(e,i,t,s,o,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return cv(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let o=s,l=!1;i.type_===3&&(o=new Set(s),s.clear(),l=!0),ov(o,(c,u)=>AC(e,i,s,c,u,r,l),n),cv(e,s,!1),r&&e.patches_&&Sh("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function AC(e,t,r,n,i,s,o){if(i==null||typeof i!="object"&&!o)return;const l=Sy(i);if(!(l&&!o)){if(_h(i)){const c=s&&t&&t.type_!==3&&!k5(t.assigned_,n)?s.concat(n):void 0,u=lv(e,i,c);if(xI(r,n,u),_h(u))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(su(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&l)return;lv(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(_0(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&cv(e,i)}}}function cv(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&LN(t,r)}function vZ(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:vI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=IN;r&&(i=[n],s=Zp);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return n.draft_=l,n.revoke_=o,l}var IN={get(e,t){if(t===mo)return e;const r=Qd(e);if(!k5(r,t))return yZ(e,r,t);const n=r[t];return e.finalized_||!su(n)?n:n===Sw(e.base_,t)?(kw(e),e.copy_[t]=A5(n,e)):n},has(e,t){return t in Qd(e)},ownKeys(e){return Reflect.ownKeys(Qd(e))},set(e,t,r){const n=yI(Qd(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Sw(Qd(e),t),s=i==null?void 0:i[mo];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(fZ(r,i)&&(r!==void 0||k5(e.base_,t)))return!0;kw(e),D5(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Sw(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,kw(e),D5(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Qd(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){bl(11)},getPrototypeOf(e){return Xp(e.base_)},setPrototypeOf(){bl(12)}},Zp={};ov(IN,(e,t)=>{Zp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Zp.deleteProperty=function(e,t){return Zp.set.call(this,e,t,void 0)};Zp.set=function(e,t,r){return IN.set.call(this,e[0],t,r,e[0])};function Sw(e,t){const r=e[mo];return(r?Qd(r):e)[t]}function yZ(e,t,r){var i;const n=yI(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function yI(e,t){if(!(t in e))return;let r=Xp(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Xp(r)}}function D5(e){e.modified_||(e.modified_=!0,e.parent_&&D5(e.parent_))}function kw(e){e.copy_||(e.copy_=C5(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var bZ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const o=this;return function(c=s,...u){return o.produce(c,h=>r.call(this,h,...u))}}typeof r!="function"&&bl(6),n!==void 0&&typeof n!="function"&&bl(7);let i;if(su(t)){const s=EC(this),o=A5(t,void 0);let l=!0;try{i=r(o),l=!1}finally{l?P5(s):E5(s)}return PC(s,n),DC(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===pI&&(i=void 0),this.autoFreeze_&&LN(i,!0),n){const s=[],o=[];Sh("Patches").generateReplacementPatches_(t,i,s,o),n(s,o)}return i}else bl(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,i;return[this.produce(t,r,(o,l)=>{n=o,i=l}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){su(e)||bl(8),_h(e)&&(e=Jc(e));const t=EC(this),r=A5(e,void 0);return r[mo].isManual_=!0,E5(t),r}finishDraft(e,t){const r=e&&e[mo];(!r||!r.isManual_)&&bl(9);const{scope_:n}=r;return PC(n,t),DC(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Sh("Patches").applyPatches_;return _h(e)?n(e,t):this.produce(e,i=>n(i,t))}};function A5(e,t){const r=_0(e)?Sh("MapSet").proxyMap_(e,t):_y(e)?Sh("MapSet").proxySet_(e,t):vZ(e,t);return(t?t.scope_:vI()).drafts_.push(r),r}function Jc(e){return _h(e)||bl(10,e),bI(e)}function bI(e){if(!su(e)||Sy(e))return e;const t=e[mo];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=C5(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=C5(e,!0);return ov(r,(i,s)=>{xI(r,i,bI(s))},n),t&&(t.finalized_=!1),r}var T5=new bZ,wI=T5.produce,wZ=T5.setUseStrictIteration.bind(T5);function jI(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var jZ=jI(),NZ=jI,_Z=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?sv:sv.apply(null,arguments)};function qo(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(fo(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>mI(n)&&n.type===e,r}var NI=class xp extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,xp.prototype)}static get[Symbol.species](){return xp}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new xp(...t[0].concat(this)):new xp(...t.concat(this))}};function TC(e){return su(e)?wI(e,()=>{}):e}function Hg(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function SZ(e){return typeof e=="boolean"}var kZ=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new NI;return r&&(SZ(r)?o.push(jZ):o.push(NZ(r.extraArgument))),o},_I="RTK_autoBatch",Ha=()=>e=>({payload:e,meta:{[_I]:!0}}),OC=e=>t=>{setTimeout(t,e)},SI=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:OC(10):e.type==="callback"?e.queueNotification:OC(e.timeout),u=()=>{o=!1,s&&(s=!1,l.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const m=()=>i&&h(),x=n.subscribe(m);return l.add(h),()=>{x(),l.delete(h)}},dispatch(h){var m;try{return i=!((m=h==null?void 0:h.meta)!=null&&m[_I]),s=!i,s&&(o||(o=!0,c(u))),n.dispatch(h)}finally{i=!0}}})},CZ=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new NI(e);return n&&i.push(SI(typeof n=="object"?n:void 0)),i};function PZ(e){const t=kZ(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(ON(r))l=fI(r);else throw new Error(fo(1));let c;typeof n=="function"?c=n(t):c=t();let u=sv;i&&(u=_Z({trace:!1,...typeof i=="object"&&i}));const h=dZ(...c),m=CZ(h);let x=typeof o=="function"?o(m):m();const p=u(...x);return hI(l,s,p)}function kI(e){const t={},r=[];let n;const i={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(fo(28));if(l in t)throw new Error(fo(29));return t[l]=o,i},addAsyncThunk(s,o){return o.pending&&(t[s.pending.type]=o.pending),o.rejected&&(t[s.rejected.type]=o.rejected),o.fulfilled&&(t[s.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:s.settled,reducer:o.settled}),i},addMatcher(s,o){return r.push({matcher:s,reducer:o}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}wZ(!1);function EZ(e){return typeof e=="function"}function DZ(e,t){let[r,n,i]=kI(t),s;if(EZ(e))s=()=>TC(e());else{const l=TC(e);s=()=>l}function o(l=s(),c){let u=[r[c.type],...n.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return u.filter(h=>!!h).length===0&&(u=[i]),u.reduce((h,m)=>{if(m)if(_h(h)){const p=m(h,c);return p===void 0?h:p}else{if(su(h))return wI(h,x=>m(x,c));{const x=m(h,c);if(x===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return h},l)}return o.getInitialState=s,o}var AZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",TZ=(e=21)=>{let t="",r=e;for(;r--;)t+=AZ[Math.random()*64|0];return t},OZ=Symbol.for("rtk-slice-createasyncthunk");function LZ(e,t){return`${e}/${t}`}function IZ({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[OZ];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(fo(11));const l=(typeof i.reducers=="function"?i.reducers(RZ()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(E,O){const z=typeof E=="string"?E:E.type;if(!z)throw new Error(fo(12));if(z in u.sliceCaseReducersByType)throw new Error(fo(13));return u.sliceCaseReducersByType[z]=O,h},addMatcher(E,O){return u.sliceMatchers.push({matcher:E,reducer:O}),h},exposeAction(E,O){return u.actionCreators[E]=O,h},exposeCaseReducer(E,O){return u.sliceCaseReducersByName[E]=O,h}};c.forEach(E=>{const O=l[E],z={reducerName:E,type:LZ(s,E),createNotation:typeof i.reducers=="function"};FZ(O)?BZ(z,O,h,t):zZ(z,O,h)});function m(){const[E={},O=[],z=void 0]=typeof i.extraReducers=="function"?kI(i.extraReducers):[i.extraReducers],Y={...E,...u.sliceCaseReducersByType};return DZ(i.initialState,B=>{for(let $ in Y)B.addCase($,Y[$]);for(let $ of u.sliceMatchers)B.addMatcher($.matcher,$.reducer);for(let $ of O)B.addMatcher($.matcher,$.reducer);z&&B.addDefaultCase(z)})}const x=E=>E,p=new Map,v=new WeakMap;let y;function g(E,O){return y||(y=m()),y(E,O)}function j(){return y||(y=m()),y.getInitialState()}function k(E,O=!1){function z(B){let $=B[E];return typeof $>"u"&&O&&($=Hg(v,z,j)),$}function Y(B=x){const $=Hg(p,O,()=>new WeakMap);return Hg($,B,()=>{const T={};for(const[A,R]of Object.entries(i.selectors??{}))T[A]=MZ(R,B,()=>Hg(v,B,j),O);return T})}return{reducerPath:E,getSelectors:Y,get selectors(){return Y(z)},selectSlice:z}}const w={name:s,reducer:g,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:j,...k(o),injectInto(E,{reducerPath:O,...z}={}){const Y=O??o;return E.inject({reducerPath:Y,reducer:g},z),{...w,...k(Y,!0)}}};return w}}function MZ(e,t,r,n){function i(s,...o){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return i.unwrapped=e,i}var zs=IZ();function RZ(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function zZ({type:e,reducerName:t,createNotation:r},n,i){let s,o;if("reducer"in n){if(r&&!$Z(n))throw new Error(fo(17));s=n.reducer,o=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?qo(e,o):qo(e))}function FZ(e){return e._reducerDefinitionType==="asyncThunk"}function $Z(e){return e._reducerDefinitionType==="reducerWithPrepare"}function BZ({type:e,reducerName:t},r,n,i){if(!i)throw new Error(fo(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:u,options:h}=r,m=i(e,s,h);n.exposeAction(t,m),o&&n.addCase(m.fulfilled,o),l&&n.addCase(m.pending,l),c&&n.addCase(m.rejected,c),u&&n.addMatcher(m.settled,u),n.exposeCaseReducer(t,{fulfilled:o||Vg,pending:l||Vg,rejected:c||Vg,settled:u||Vg})}function Vg(){}var UZ="task",CI="listener",PI="completed",MN="cancelled",qZ=`task-${MN}`,HZ=`task-${PI}`,O5=`${CI}-${MN}`,VZ=`${CI}-${PI}`,ky=class{constructor(e){Jr(this,"name","TaskAbortError");Jr(this,"message");this.code=e,this.message=`${UZ} ${MN} (reason: ${e})`}},RN=(e,t)=>{if(typeof e!="function")throw new TypeError(fo(32))},uv=()=>{},EI=(e,t=uv)=>(e.catch(t),e),DI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),mh=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ph=e=>{if(e.aborted){const{reason:t}=e;throw new ky(t)}};function AI(e,t){let r=uv;return new Promise((n,i)=>{const s=()=>i(new ky(e.reason));if(e.aborted){s();return}r=DI(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=uv})}var WZ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ky?"cancelled":"rejected",error:r}}finally{t==null||t()}},dv=e=>t=>EI(AI(e,t).then(r=>(ph(e),r))),TI=e=>{const t=dv(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:qf}=Object,LC={},Cy="listenerMiddleware",KZ=(e,t)=>{const r=n=>DI(e,()=>mh(n,e.reason));return(n,i)=>{RN(n);const s=new AbortController;r(s);const o=WZ(async()=>{ph(e),ph(s.signal);const l=await n({pause:dv(s.signal),delay:TI(s.signal),signal:s.signal});return ph(s.signal),l},()=>mh(s,HZ));return i!=null&&i.autoJoin&&t.push(o.catch(uv)),{result:dv(e)(o),cancel(){mh(s,qZ)}}}},GZ=(e,t)=>{const r=async(n,i)=>{ph(t);let s=()=>{};const l=[new Promise((c,u)=>{let h=e({predicate:n,effect:(m,x)=>{x.unsubscribe(),c([m,x.getState(),x.getOriginalState()])}});s=()=>{h(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await AI(t,Promise.race(l));return ph(t),c}finally{s()}};return(n,i)=>EI(r(n,i))},OI=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=qo(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(fo(21));return RN(s),{predicate:i,type:t,effect:s}},LI=qf(e=>{const{type:t,predicate:r,effect:n}=OI(e);return{id:TZ(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(fo(22))}}},{withTypes:()=>LI}),IC=(e,t)=>{const{type:r,effect:n,predicate:i}=OI(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},L5=e=>{e.pending.forEach(t=>{mh(t,O5)})},YZ=(e,t)=>()=>{for(const r of t.keys())L5(r);e.clear()},MC=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},II=qf(qo(`${Cy}/add`),{withTypes:()=>II}),XZ=qo(`${Cy}/removeAll`),MI=qf(qo(`${Cy}/remove`),{withTypes:()=>MI}),JZ=(...e)=>{console.error(`${Cy}/error`,...e)},S0=(e={})=>{const t=new Map,r=new Map,n=p=>{const v=r.get(p)??0;r.set(p,v+1)},i=p=>{const v=r.get(p)??1;v===1?r.delete(p):r.set(p,v-1)},{extra:s,onError:o=JZ}=e;RN(o);const l=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),v=>{p.unsubscribe(),v!=null&&v.cancelActive&&L5(p)}),c=p=>{const v=IC(t,p)??LI(p);return l(v)};qf(c,{withTypes:()=>c});const u=p=>{const v=IC(t,p);return v&&(v.unsubscribe(),p.cancelActive&&L5(v)),!!v};qf(u,{withTypes:()=>u});const h=async(p,v,y,g)=>{const j=new AbortController,k=GZ(c,j.signal),w=[];try{p.pending.add(j),n(p),await Promise.resolve(p.effect(v,qf({},y,{getOriginalState:g,condition:(E,O)=>k(E,O).then(Boolean),take:k,delay:TI(j.signal),pause:dv(j.signal),extra:s,signal:j.signal,fork:KZ(j.signal,w),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((E,O,z)=>{E!==j&&(mh(E,O5),z.delete(E))})},cancel:()=>{mh(j,O5),p.pending.delete(j)},throwIfCancelled:()=>{ph(j.signal)}})))}catch(E){E instanceof ky||MC(o,E,{raisedBy:"effect"})}finally{await Promise.all(w),mh(j,VZ),i(p),p.pending.delete(j)}},m=YZ(t,r);return{middleware:p=>v=>y=>{if(!mI(y))return v(y);if(II.match(y))return c(y.payload);if(XZ.match(y)){m();return}if(MI.match(y))return u(y.payload);let g=p.getState();const j=()=>{if(g===LC)throw new Error(fo(23));return g};let k;try{if(k=v(y),t.size>0){const w=p.getState(),E=Array.from(t.values());for(const O of E){let z=!1;try{z=O.predicate(y,w,g)}catch(Y){z=!1,MC(o,Y,{raisedBy:"predicate"})}z&&h(O,y,p,j)}}}finally{g=LC}return k},startListening:c,stopListening:u,clearListeners:m}};function fo(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ZZ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},RI=zs({name:"chartLayout",initialState:ZZ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:QZ,setLayout:eQ,setChartSize:tQ,setScale:rQ}=RI.actions,nQ=RI.reducer;function zI(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function RC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Of(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(r),!0).forEach(function(n){aQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aQ(e,t,r){return(t=iQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iQ(e){var t=sQ(e,"string");return typeof t=="symbol"?t:t+""}function sQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ps(e,t,r){return si(e)||si(t)?r:oc(t)?wy(e,t,r):typeof t=="function"?t(e):r}var oQ=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&s!=="center"&&Sr(e[s]))return Of(Of({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&o!=="middle"&&Sr(e[o]))return Of(Of({},e),{},{[o]:e[o]+(i||0)})}return e},gd=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",zC=1e-4,lQ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-zC,s=Math.max(n[0],n[1])+zC,o=e(t[0]),l=e(t[r-1]);(o<i||o>s||l<i||l>s)&&e.domain([t[0],t[r-1]])}},cQ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0,o=0;o<t;++o){var l=au(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},uQ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0;s<t;++s){var o=au(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},dQ={sign:cQ,expand:qX,none:rm,silhouette:HX,wiggle:VX,positive:uQ},hQ=(e,t,r)=>{var n=dQ[r],i=UX().keys(t).value((s,o)=>Number(ps(s,o,0))).order(_5).offset(n);return i(e)};function FC(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:s,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!si(i[t.dataKey])){var l=YL(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=ps(i,si(o)?t.dataKey:o);return si(c)?null:t.scale(c)}var fQ=e=>{var t=e.flat(2).filter(Sr);return[Math.min(...t),Math.max(...t)]},mQ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],pQ=(e,t,r)=>{if(e!=null)return mQ(Object.keys(e).reduce((n,i)=>{var s=e[i],{stackedData:o}=s,l=o.reduce((c,u)=>{var h=zI(u,t,r),m=fQ(h);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},$C=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hv=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=jy(t,h=>h.coordinate),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],u=i[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function UC(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return Of(Of({},t),{},{dataKey:r,payload:n,value:i,name:s})}function FI(e,t){if(e)return String(e);if(typeof t=="string")return t}var gQ=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},xQ=(e,t)=>t==="centric"?e.angle:e.radius,hu=e=>e.layout.width,fu=e=>e.layout.height,vQ=e=>e.layout.scale,$I=e=>e.layout.margin,Py=yt(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ey=yt(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),yQ="data-recharts-item-index",bQ="data-recharts-item-data-key",k0=60;function qC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qC(Object(r),!0).forEach(function(n){wQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wQ(e,t,r){return(t=jQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jQ(e){var t=NQ(e,"string");return typeof t=="symbol"?t:t+""}function NQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Q=e=>e.brush.height;function SQ(e){var t=Ey(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:k0;return r+i}return r},0)}function kQ(e){var t=Ey(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:k0;return r+i}return r},0)}function CQ(e){var t=Py(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function PQ(e){var t=Py(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ei=yt([hu,fu,$I,_Q,SQ,kQ,CQ,PQ,dI,iZ],(e,t,r,n,i,s,o,l,c,u)=>{var h={left:(r.left||0)+i,right:(r.right||0)+s},m={top:(r.top||0)+o,bottom:(r.bottom||0)+l},x=Wg(Wg({},m),h),p=x.bottom;x.bottom+=n,x=oQ(x,c,u);var v=e-x.left-x.right,y=t-x.top-x.bottom;return Wg(Wg({brushBottom:p},x),{},{width:Math.max(v,0),height:Math.max(y,0)})}),EQ=yt(Ei,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),BI=yt(hu,fu,(e,t)=>({x:0,y:0,width:e,height:t})),DQ=_.createContext(null),vo=()=>_.useContext(DQ)!=null,Dy=e=>e.brush,Ay=yt([Dy,Ei,$I],(e,t,r)=>({height:e.height,x:Sr(e.x)?e.x:t.left,y:Sr(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Sr(e.width)?e.width:t.width})),Cw={},Pw={},Ew={},HC;function AQ(){return HC||(HC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let o,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),h=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},m=()=>{u&&h(),y()};let x=null;const p=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,m()},n)},v=()=>{x!==null&&(clearTimeout(x),x=null)},y=()=>{v(),o=void 0,l=null},g=()=>{h()},j=function(...k){if(i!=null&&i.aborted)return;o=this,l=k;const w=x==null;p(),c&&w&&h()};return j.schedule=p,j.cancel=y,j.flush=g,i==null||i.addEventListener("abort",y,{once:!0}),j}e.debounce=t}(Ew)),Ew}var VC;function TQ(){return VC||(VC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AQ();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let h,m=null;const x=t.debounce(function(...y){h=n.apply(this,y),m=null},i,{edges:u}),p=function(...y){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(h=n.apply(this,y),m=Date.now(),x.cancel(),x.schedule(),h):(x.apply(this,y),h)},v=()=>(x.flush(),h);return p.cancel=x.cancel,p.flush=v,p}e.debounce=r}(Pw)),Pw}var WC;function OQ(){return WC||(WC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TQ();function r(n,i=0,s={}){const{leading:o=!0,trailing:l=!0}=s;return t.debounce(n,i,{leading:o,maxWait:i,trailing:l})}e.throttle=r}(Cw)),Cw}var Dw,KC;function LQ(){return KC||(KC=1,Dw=OQ().throttle),Dw}var IQ=LQ();const MQ=Wo(IQ);var GC=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},UI=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:s,maxHeight:o}=r,l=iu(n)?e:Number(n),c=iu(i)?t:Number(i);return s&&s>0&&(l?c=l/s:c&&(l=c*s),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:l,calculatedHeight:c}},RQ={width:0,height:0,overflow:"visible"},zQ={width:0,overflowX:"visible"},FQ={height:0,overflowY:"visible"},$Q={},BQ=e=>{var{width:t,height:r}=e,n=iu(t),i=iu(r);return n&&i?RQ:n?zQ:i?FQ:$Q};function UQ(e){var{width:t,height:r,aspect:n}=e,i=t,s=r;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:i,height:s}}function oi(e){return Number.isFinite(e)}function hd(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function I5(){return I5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I5.apply(null,arguments)}function YC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(r),!0).forEach(function(n){qQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qQ(e,t,r){return(t=HQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HQ(e){var t=VQ(e,"string");return typeof t=="symbol"?t:t+""}function VQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qI=_.createContext({width:-1,height:-1});function WQ(e){return hd(e.width)&&hd(e.height)}function HI(e){var{children:t,width:r,height:n}=e,i=_.useMemo(()=>({width:r,height:n}),[r,n]);return WQ(i)?_.createElement(qI.Provider,{value:i},t):null}var zN=()=>_.useContext(qI),KQ=_.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:s,minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:h=0,id:m,className:x,onResize:p,style:v={}}=e,y=_.useRef(null),g=_.useRef();g.current=p,_.useImperativeHandle(t,()=>y.current);var[j,k]=_.useState({containerWidth:n.width,containerHeight:n.height}),w=_.useCallback((B,$)=>{k(T=>{var A=Math.round(B),R=Math.round($);return T.containerWidth===A&&T.containerHeight===R?T:{containerWidth:A,containerHeight:R}})},[]);_.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return mm;var B=R=>{var L,{width:q,height:W}=R[0].contentRect;w(q,W),(L=g.current)===null||L===void 0||L.call(g,q,W)};h>0&&(B=MQ(B,h,{trailing:!0,leading:!1}));var $=new ResizeObserver(B),{width:T,height:A}=y.current.getBoundingClientRect();return w(T,A),$.observe(y.current),()=>{$.disconnect()}},[w,h]);var{containerWidth:E,containerHeight:O}=j;GC(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:z,calculatedHeight:Y}=UI(E,O,{width:i,height:s,aspect:r,maxHeight:c});return GC(z!=null&&z>0||Y!=null&&Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,Y,i,s,o,l,r),_.createElement("div",{id:m?"".concat(m):void 0,className:fn("recharts-responsive-container",x),style:XC(XC({},v),{},{width:i,height:s,minWidth:o,minHeight:l,maxHeight:c}),ref:y},_.createElement("div",{style:BQ({width:i,height:s})},_.createElement(HI,{width:z,height:Y},u)))}),yx=_.forwardRef((e,t)=>{var r=zN();if(hd(r.width)&&hd(r.height))return e.children;var{width:n,height:i}=UQ({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:o}=UI(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Sr(s)&&Sr(o)?_.createElement(HI,{width:s,height:o},e.children):_.createElement(KQ,I5({},e,{width:n,height:i,ref:t}))});function VI(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Ty=()=>{var e,t=vo(),r=yr(EQ),n=yr(Ay),i=(e=yr(Dy))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},GQ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},YQ=()=>{var e;return(e=yr(Ei))!==null&&e!==void 0?e:GQ},XQ=()=>yr(hu),JQ=()=>yr(fu),On=e=>e.layout.layoutType,Oy=()=>yr(On),ZQ=()=>{var e=Oy();return e!==void 0},Ly=e=>{var t=ui(),r=vo(),{width:n,height:i}=e,s=zN(),o=n,l=i;return s&&(o=s.width>0?s.width:n,l=s.height>0?s.height:i),_.useEffect(()=>{!r&&hd(o)&&hd(l)&&t(tQ({width:o,height:l}))},[t,r,o,l]),null},QQ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},WI=zs({name:"legend",initialState:QQ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ha()},removeLegendPayload:{reducer(e,t){var r=Jc(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ha()}}}),{setLegendSize:Axe,setLegendSettings:Txe,addLegendPayload:eee,removeLegendPayload:tee}=WI.actions,ree=WI.reducer;function M5(){return M5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M5.apply(null,arguments)}function JC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Aw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JC(Object(r),!0).forEach(function(n){nee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nee(e,t,r){return(t=aee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aee(e){var t=iee(e,"string");return typeof t=="symbol"?t:t+""}function iee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function see(e){return Array.isArray(e)&&oc(e[0])&&oc(e[1])?e.join(" ~ "):e}var oee=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:h,labelFormatter:m,accessibilityLayer:x=!1}=e,p=()=>{if(s&&s.length){var O={padding:0,margin:0},z=(l?jy(s,l):s).map((Y,B)=>{if(Y.type==="none")return null;var $=Y.formatter||o||see,{value:T,name:A}=Y,R=T,L=A;if($){var q=$(T,A,Y,B,s);if(Array.isArray(q))[R,L]=q;else if(q!=null)R=q;else return null}var W=Aw({display:"block",paddingTop:4,paddingBottom:4,color:Y.color||"#000"},n);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:W},oc(L)?_.createElement("span",{className:"recharts-tooltip-item-name"},L):null,oc(L)?_.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,_.createElement("span",{className:"recharts-tooltip-item-value"},R),_.createElement("span",{className:"recharts-tooltip-item-unit"},Y.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:O},z)}return null},v=Aw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=Aw({margin:0},i),g=!si(h),j=g?h:"",k=fn("recharts-default-tooltip",c),w=fn("recharts-tooltip-label",u);g&&m&&s!==void 0&&s!==null&&(j=m(h,s));var E=x?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",M5({className:k,style:v},E),_.createElement("p",{className:w,style:y},_.isValidElement(j)?j:"".concat(j)),p())},ap="recharts-tooltip-wrapper",lee={visibility:"hidden"};function cee(e){var{coordinate:t,translateX:r,translateY:n}=e;return fn(ap,{["".concat(ap,"-right")]:Sr(r)&&t&&Sr(t.x)&&r>=t.x,["".concat(ap,"-left")]:Sr(r)&&t&&Sr(t.x)&&r<t.x,["".concat(ap,"-bottom")]:Sr(n)&&t&&Sr(t.y)&&n>=t.y,["".concat(ap,"-top")]:Sr(n)&&t&&Sr(t.y)&&n<t.y})}function ZC(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(s&&Sr(s[n]))return s[n];var h=r[n]-l-(i>0?i:0),m=r[n]+i;if(t[n])return o[n]?h:m;var x=c[n];if(x==null)return 0;if(o[n]){var p=h,v=x;return p<v?Math.max(m,x):Math.max(h,x)}if(u==null)return 0;var y=m+l,g=x+u;return y>g?Math.max(h,x):Math.max(m,x)}function uee(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function dee(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,u,h,m;return o.height>0&&o.width>0&&r?(h=ZC({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=ZC({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=uee({translateX:h,translateY:m,useTranslate3d:l})):u=lee,{cssProperties:u,cssClasses:cee({translateX:h,translateY:m,coordinate:r})}}function QC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(r),!0).forEach(function(n){R5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R5(e,t,r){return(t=hee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hee(e){var t=fee(e,"string");return typeof t=="symbol"?t:t+""}function fee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class mee extends _.PureComponent{constructor(){super(...arguments),R5(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),R5(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:h,reverseDirection:m,useTranslate3d:x,viewBox:p,wrapperStyle:v,lastBoundingBox:y,innerRef:g,hasPortalFromProps:j}=this.props,{cssClasses:k,cssProperties:w}=dee({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:h,reverseDirection:m,tooltipBox:{height:y.height,width:y.width},useTranslate3d:x,viewBox:p}),E=j?{}:Kg(Kg({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),O=Kg(Kg({},E),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},v);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:O,ref:g},s)}}var pee=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),pm={devToolsEnabled:!1,isSsr:pee()},KI=()=>{var e;return(e=yr(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function z5(){return z5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z5.apply(null,arguments)}function eP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(r),!0).forEach(function(n){gee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gee(e,t,r){return(t=xee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xee(e){var t=vee(e,"string");return typeof t=="symbol"?t:t+""}function vee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rP={curveBasisClosed:AX,curveBasisOpen:TX,curveBasis:DX,curveBumpX:gX,curveBumpY:xX,curveLinearClosed:OX,curveLinear:yy,curveMonotoneX:LX,curveMonotoneY:IX,curveNatural:MX,curveStep:RX,curveStepAfter:FX,curveStepBefore:zX},fv=e=>oi(e.x)&&oi(e.y),nP=e=>e.base!=null&&fv(e.base)&&fv(e),ip=e=>e.x,sp=e=>e.y,yee=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(N0(e));return(r==="curveMonotone"||r==="curveBump")&&t?rP["".concat(r).concat(t==="vertical"?"Y":"X")]:rP[r]||yy},bee=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,o=yee(t,i),l=s?r.filter(fv):r,c;if(Array.isArray(n)){var u=r.map((p,v)=>tP(tP({},p),{},{base:n[v]}));i==="vertical"?c=$g().y(sp).x1(ip).x0(p=>p.base.x):c=$g().x(ip).y1(sp).y0(p=>p.base.y);var h=c.defined(nP).curve(o),m=s?u.filter(nP):u;return h(m)}i==="vertical"&&Sr(n)?c=$g().y(sp).x1(ip).x0(n):Sr(n)?c=$g().x(ip).y1(sp).y0(n):c=ML().x(ip).y(sp);var x=c.defined(fv).curve(o);return x(l)},GI=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?bee(e):n;return _.createElement("path",z5({},nu(e),DN(e),{className:fn("recharts-curve",t),d:s===null?void 0:s,ref:i}))},wee=["x","y","top","left","width","height","className"];function F5(){return F5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F5.apply(null,arguments)}function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(n){Nee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nee(e,t,r){return(t=_ee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ee(e){var t=See(e,"string");return typeof t=="symbol"?t:t+""}function See(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kee(e,t){if(e==null)return{};var r,n,i=Cee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Cee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Pee=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),Eee=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:o=0,className:l}=e,c=kee(e,wee),u=jee({x:t,y:r,top:n,left:i,width:s,height:o},c);return!Sr(t)||!Sr(r)||!Sr(s)||!Sr(o)||!Sr(n)||!Sr(i)?null:_.createElement("path",F5({},gs(u),{className:fn("recharts-cross",l),d:Pee(t,r,s,o,n,i)}))};function Dee(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function iP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(r),!0).forEach(function(n){Aee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aee(e,t,r){return(t=Tee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tee(e){var t=Oee(e,"string");return typeof t=="symbol"?t:t+""}function Oee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lee=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),YI=(e,t,r)=>e.map(n=>"".concat(Lee(n)," ").concat(t,"ms ").concat(r)).join(","),Iee=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Qp=(e,t)=>Object.keys(t).reduce((r,n)=>sP(sP({},r),{},{[n]:e(n,t[n])}),{});function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){Mee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mee(e,t,r){return(t=Ree(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ree(e){var t=zee(e,"string");return typeof t=="symbol"?t:t+""}function zee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mv=(e,t,r)=>e+(t-e)*r,$5=e=>{var{from:t,to:r}=e;return t!==r},XI=(e,t,r)=>{var n=Qp((i,s)=>{if($5(s)){var[o,l]=e(s.from,s.to,s.velocity);return qa(qa({},s),{},{from:o,velocity:l})}return s},t);return r<1?Qp((i,s)=>$5(s)?qa(qa({},s),{},{velocity:mv(s.velocity,n[i].velocity,r),from:mv(s.from,n[i].from,r)}):s,t):XI(e,n,r-1)};function Fee(e,t,r,n,i,s){var o,l=n.reduce((x,p)=>qa(qa({},x),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>Qp((x,p)=>p.from,l),u=()=>!Object.values(l).filter($5).length,h=null,m=x=>{o||(o=x);var p=x-o,v=p/r.dt;l=XI(r,l,v),i(qa(qa(qa({},e),t),c())),o=x,u()||(h=s.setTimeout(m))};return()=>(h=s.setTimeout(m),()=>{var x;(x=h)===null||x===void 0||x()})}function $ee(e,t,r,n,i,s,o){var l=null,c=i.reduce((m,x)=>qa(qa({},m),{},{[x]:[e[x],t[x]]}),{}),u,h=m=>{u||(u=m);var x=(m-u)/n,p=Qp((y,g)=>mv(...g,r(x)),c);if(s(qa(qa(qa({},e),t),p)),x<1)l=o.setTimeout(h);else{var v=Qp((y,g)=>mv(...g,r(1)),c);s(qa(qa(qa({},e),t),v))}};return()=>(l=o.setTimeout(h),()=>{var m;(m=l)===null||m===void 0||m()})}const Bee=(e,t,r,n,i,s)=>{var o=Iee(e,t);return r==null?()=>(i(qa(qa({},e),t)),()=>{}):r.isStepper===!0?Fee(e,t,r,o,i,s):$ee(e,t,r,n,o,i,s)};var pv=1e-4,JI=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],ZI=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),lP=(e,t)=>r=>{var n=JI(e,t);return ZI(n,r)},Uee=(e,t)=>r=>{var n=JI(e,t),i=[...n.map((s,o)=>s*o).slice(1),0];return ZI(i,r)},qee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=r[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=s[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return r.length===4?r:[0,0,1,1]},Hee=(e,t,r,n)=>{var i=lP(e,r),s=lP(t,n),o=Uee(e,r),l=u=>u>1?1:u<0?0:u,c=u=>{for(var h=u>1?1:u,m=h,x=0;x<8;++x){var p=i(m)-h,v=o(m);if(Math.abs(p-h)<pv||v<pv)return s(m);m=l(m-p/v)}return s(m)};return c.isStepper=!1,c},cP=function(){return Hee(...qee(...arguments))},Vee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(o,l,c)=>{var u=-(o-l)*r,h=c*n,m=c+(u-h)*i/1e3,x=c*i/1e3+o;return Math.abs(x-l)<pv&&Math.abs(m)<pv?[l,0]:[x,m]};return s.isStepper=!0,s.dt=i,s},Wee=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return cP(e);case"spring":return Vee();default:if(e.split("(")[0]==="cubic-bezier")return cP(e)}return typeof e=="function"?e:null};function Kee(e){var t,r=()=>null,n=!1,i=null,s=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){i=e.setTimeout(s.bind(null,u),c);return}s(c),i=e.setTimeout(s.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),s(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class Gee{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function Yee(){return Kee(new Gee)}var Xee=_.createContext(Yee);function Jee(e,t){var r=_.useContext(Xee);return _.useMemo(()=>t??r(e),[e,t,r])}var Zee={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},uP={t:0},Tw={t:1};function FN(e){var t=xo(e,Zee),{isActive:r,canBegin:n,duration:i,easing:s,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,h=Jee(t.animationId,t.animationManager),[m,x]=_.useState(r?uP:Tw),p=_.useRef(null);return _.useEffect(()=>{r||x(Tw)},[r]),_.useEffect(()=>{if(!r||!n)return mm;var v=Bee(uP,Tw,Wee(s),i,x,h.getTimeoutController()),y=()=>{p.current=v()};return h.start([c,o,y,i,l]),()=>{h.stop(),p.current&&p.current(),l()}},[r,n,i,s,o,c,l,h]),u(m.t)}function $N(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=_.useRef(Yp(t)),n=_.useRef(e);return n.current!==e&&(r.current=Yp(t),n.current=e),r.current}var Qee=["radius"],ete=["radius"];function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(n){tte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tte(e,t,r){return(t=rte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rte(e){var t=nte(e,"string");return typeof t=="symbol"?t:t+""}function nte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gv.apply(null,arguments)}function fP(e,t){if(e==null)return{};var r,n,i=ate(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ate(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mP=(e,t,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(s>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,x=4;m<x;m++)h[m]=i[m]>s?s:i[m];u="M".concat(e,",").concat(t+o*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(e+l*h[0],",").concat(t)),u+="L ".concat(e+r-l*h[1],",").concat(t),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*h[1])),u+="L ".concat(e+r,",").concat(t+n-o*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(e+r-l*h[2],",").concat(t+n)),u+="L ".concat(e+l*h[3],",").concat(t+n),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*h[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var p=Math.min(s,i);u="M ".concat(e,",").concat(t+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+l*p,",").concat(t,`
            L `).concat(e+r-l*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*p,`
            L `).concat(e+r,",").concat(t+n-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-l*p,",").concat(t+n,`
            L `).concat(e+l*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},pP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QI=e=>{var t=xo(e,pP),r=_.useRef(null),[n,i]=_.useState(-1);_.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var M=r.current.getTotalLength();M&&i(M)}catch{}},[]);var{x:s,y:o,width:l,height:c,radius:u,className:h}=t,{animationEasing:m,animationDuration:x,animationBegin:p,isAnimationActive:v,isUpdateAnimationActive:y}=t,g=_.useRef(l),j=_.useRef(c),k=_.useRef(s),w=_.useRef(o),E=_.useMemo(()=>({x:s,y:o,width:l,height:c,radius:u}),[s,o,l,c,u]),O=$N(E,"rectangle-");if(s!==+s||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var z=fn("recharts-rectangle",h);if(!y){var Y=gs(t),{radius:B}=Y,$=fP(Y,Qee);return _.createElement("path",gv({},$,{radius:typeof u=="number"?u:void 0,className:z,d:mP(s,o,l,c,u)}))}var T=g.current,A=j.current,R=k.current,L=w.current,q="0px ".concat(n===-1?1:n,"px"),W="".concat(n,"px 0px"),ee=YI(["strokeDasharray"],x,typeof m=="string"?m:pP.animationEasing);return _.createElement(FN,{animationId:O,key:O,canBegin:n>0,duration:x,easing:m,isActive:y,begin:p},M=>{var V=Is(T,l,M),U=Is(A,c,M),I=Is(R,s,M),H=Is(L,o,M);r.current&&(g.current=V,j.current=U,k.current=I,w.current=H);var D;v?M>0?D={transition:ee,strokeDasharray:W}:D={strokeDasharray:q}:D={strokeDasharray:W};var G=gs(t),{radius:Z}=G,P=fP(G,ete);return _.createElement("path",gv({},P,{radius:typeof u=="number"?u:void 0,className:z,d:mP(I,H,V,U,u),ref:r,style:hP(hP({},D),t.style)}))})};function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){ite(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ite(e,t,r){return(t=ste(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ste(e){var t=ote(e,"string");return typeof t=="symbol"?t:t+""}function ote(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xv=Math.PI/180,lte=e=>e*180/Math.PI,Ci=(e,t,r,n)=>({x:e+Math.cos(-xv*n)*r,y:t+Math.sin(-xv*n)*r}),cte=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},ute=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},dte=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,o=ute({x:r,y:n},{x:i,y:s});if(o<=0)return{radius:o,angle:0};var l=(r-i)/o,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:o,angle:lte(c),angleInRadian:c}},hte=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},fte=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return e+o*360},mte=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:s}=dte({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(i<o||i>l||i===0)return null;var{startAngle:c,endAngle:u}=hte(t),h=s,m;if(c<=u){for(;h>u;)h-=360;for(;h<c;)h+=360;m=h>=c&&h<=u}else{for(;h>c;)h-=360;for(;h<u;)h+=360;m=h>=u&&h<=c}return m?xP(xP({},t),{},{radius:i,angle:fte(h,t)}):null};function eM(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,o=Ci(t,r,n,i),l=Ci(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function B5(){return B5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B5.apply(null,arguments)}var pte=(e,t)=>{var r=jl(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Gg=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+n,h=Math.asin(l/u)/xv,m=c?i:i+s*h,x=Ci(t,r,u,m),p=Ci(t,r,n,m),v=c?i-s*h:i,y=Ci(t,r,u*Math.cos(h*xv),v);return{center:x,circleTangency:p,lineTangency:y,theta:h}},tM=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:o}=e,l=pte(s,o),c=s+l,u=Ci(t,r,i,s),h=Ci(t,r,i,c),m="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var x=Ci(t,r,n,s),p=Ci(t,r,n,c);m+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(x.x,",").concat(x.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},gte=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,h=jl(u-c),{circleTangency:m,lineTangency:x,theta:p}=Gg({cx:t,cy:r,radius:i,angle:c,sign:h,cornerRadius:s,cornerIsExternal:l}),{circleTangency:v,lineTangency:y,theta:g}=Gg({cx:t,cy:r,radius:i,angle:u,sign:-h,cornerRadius:s,cornerIsExternal:l}),j=l?Math.abs(c-u):Math.abs(c-u)-p-g;if(j<0)return o?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):tM({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var k="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:E,theta:O}=Gg({cx:t,cy:r,radius:n,angle:c,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:z,lineTangency:Y,theta:B}=Gg({cx:t,cy:r,radius:n,angle:u,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),$=l?Math.abs(c-u):Math.abs(c-u)-O-B;if($<0&&s===0)return"".concat(k,"L").concat(t,",").concat(r,"Z");k+="L".concat(Y.x,",").concat(Y.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(z.x,",").concat(z.y,`
      A`).concat(n,",").concat(n,",0,").concat(+($>180),",").concat(+(h>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,"Z")}else k+="L".concat(t,",").concat(r,"Z");return k},xte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},rM=e=>{var t=xo(e,xte),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:h,className:m}=t;if(s<i||u===h)return null;var x=fn("recharts-sector",m),p=s-i,v=dd(o,p,0,!0),y;return v>0&&Math.abs(u-h)<360?y=gte({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(v,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:h}):y=tM({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:h}),_.createElement("path",B5({},gs(t),{className:x,d:y}))};function vte(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(ZL(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:s,outerRadius:o,angle:l}=t,c=Ci(n,i,s,l),u=Ci(n,i,o,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return eM(t)}}var Ow={},Lw={},Iw={},vP;function yte(){return vP||(vP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cI();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r}(Iw)),Iw}var yP;function bte(){return yP||(yP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yte();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r}(Lw)),Lw}var bP;function wte(){return bP||(bP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uI(),r=bte();function n(i,s,o){o&&typeof o!="number"&&t.isIterateeCall(i,s,o)&&(s=o=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),o=o===void 0?i<s?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((s-i)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=o;return c}e.range=n}(Ow)),Ow}var Mw,wP;function jte(){return wP||(wP=1,Mw=wte().range),Mw}var Nte=jte();const nM=Wo(Nte);function cd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _te(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function BN(e){let t,r,n;e.length!==2?(t=cd,r=(l,c)=>cd(e(l),c),n=(l,c)=>e(l)-c):(t=e===cd||e===_te?e:Ste,r=e,n=e);function i(l,c,u=0,h=l.length){if(u<h){if(t(c,c)!==0)return h;do{const m=u+h>>>1;r(l[m],c)<0?u=m+1:h=m}while(u<h)}return u}function s(l,c,u=0,h=l.length){if(u<h){if(t(c,c)!==0)return h;do{const m=u+h>>>1;r(l[m],c)<=0?u=m+1:h=m}while(u<h)}return u}function o(l,c,u=0,h=l.length){const m=i(l,c,u,h-1);return m>u&&n(l[m-1],c)>-n(l[m],c)?m-1:m}return{left:i,center:o,right:s}}function Ste(){return 0}function aM(e){return e===null?NaN:+e}function*kte(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Cte=BN(cd),C0=Cte.right;BN(aM).center;class jP extends Map{constructor(t,r=Dte){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(NP(this,t))}has(t){return super.has(NP(this,t))}set(t,r){return super.set(Pte(this,t),r)}delete(t){return super.delete(Ete(this,t))}}function NP({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Pte({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Ete({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Dte(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ate(e=cd){if(e===cd)return iM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function iM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Tte=Math.sqrt(50),Ote=Math.sqrt(10),Lte=Math.sqrt(2);function vv(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=Tte?10:s>=Ote?5:s>=Lte?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?vv(e,t,r*2):[l,c,u]}function U5(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,o]=n?vv(t,e,r):vv(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function q5(e,t,r){return t=+t,e=+e,r=+r,vv(e,t,r)[2]}function H5(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?q5(t,e,r):q5(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function _P(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function SP(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function sM(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?iM:Ate(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,h=Math.log(c),m=.5*Math.exp(2*h/3),x=.5*Math.sqrt(h*m*(c-m)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*m/c+x)),v=Math.min(n,Math.floor(t+(c-u)*m/c+x));sM(e,t,p,v,i)}const s=e[t];let o=r,l=n;for(op(e,r,t),i(e[n],s)>0&&op(e,r,n);o<l;){for(op(e,o,l),++o,--l;i(e[o],s)<0;)++o;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?op(e,r,l):(++l,op(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function op(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Ite(e,t,r){if(e=Float64Array.from(kte(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return SP(e);if(t>=1)return _P(e);var n,i=(n-1)*t,s=Math.floor(i),o=_P(sM(e,s).subarray(0,s+1)),l=SP(e.subarray(s+1));return o+(l-o)*(i-s)}}function Mte(e,t,r=aM){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(i-s)}}function Rte(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function Go(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function mu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const V5=Symbol("implicit");function UN(){var e=new jP,t=[],r=[],n=V5;function i(s){let o=e.get(s);if(o===void 0){if(n!==V5)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new jP;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return UN(t,r).unknown(n)},Go.apply(i,arguments),i}function qN(){var e=UN().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,o,l=!1,c=0,u=0,h=.5;delete e.unknown;function m(){var x=t().length,p=i<n,v=p?i:n,y=p?n:i;s=(y-v)/Math.max(1,x-c+u*2),l&&(s=Math.floor(s)),v+=(y-v-s*(x-c))*h,o=s*(1-c),l&&(v=Math.round(v),o=Math.round(o));var g=Rte(x).map(function(j){return v+s*j});return r(p?g.reverse():g)}return e.domain=function(x){return arguments.length?(t(x),m()):t()},e.range=function(x){return arguments.length?([n,i]=x,n=+n,i=+i,m()):[n,i]},e.rangeRound=function(x){return[n,i]=x,n=+n,i=+i,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(x){return arguments.length?(l=!!x,m()):l},e.padding=function(x){return arguments.length?(c=Math.min(1,u=+x),m()):c},e.paddingInner=function(x){return arguments.length?(c=Math.min(1,x),m()):c},e.paddingOuter=function(x){return arguments.length?(u=+x,m()):u},e.align=function(x){return arguments.length?(h=Math.max(0,Math.min(1,x)),m()):h},e.copy=function(){return qN(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(h)},Go.apply(m(),arguments)}function oM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oM(t())},e}function zte(){return oM(qN.apply(null,arguments).paddingInner(1))}function HN(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function lM(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function P0(){}var e0=.7,yv=1/e0,Hf="\\s*([+-]?\\d+)\\s*",t0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ac="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fte=/^#([0-9a-f]{3,8})$/,$te=new RegExp(`^rgb\\(${Hf},${Hf},${Hf}\\)$`),Bte=new RegExp(`^rgb\\(${ac},${ac},${ac}\\)$`),Ute=new RegExp(`^rgba\\(${Hf},${Hf},${Hf},${t0}\\)$`),qte=new RegExp(`^rgba\\(${ac},${ac},${ac},${t0}\\)$`),Hte=new RegExp(`^hsl\\(${t0},${ac},${ac}\\)$`),Vte=new RegExp(`^hsla\\(${t0},${ac},${ac},${t0}\\)$`),kP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};HN(P0,r0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:CP,formatHex:CP,formatHex8:Wte,formatHsl:Kte,formatRgb:PP,toString:PP});function CP(){return this.rgb().formatHex()}function Wte(){return this.rgb().formatHex8()}function Kte(){return cM(this).formatHsl()}function PP(){return this.rgb().formatRgb()}function r0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Fte.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?EP(t):r===3?new Ms(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Yg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Yg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=$te.exec(e))?new Ms(t[1],t[2],t[3],1):(t=Bte.exec(e))?new Ms(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ute.exec(e))?Yg(t[1],t[2],t[3],t[4]):(t=qte.exec(e))?Yg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Hte.exec(e))?TP(t[1],t[2]/100,t[3]/100,1):(t=Vte.exec(e))?TP(t[1],t[2]/100,t[3]/100,t[4]):kP.hasOwnProperty(e)?EP(kP[e]):e==="transparent"?new Ms(NaN,NaN,NaN,0):null}function EP(e){return new Ms(e>>16&255,e>>8&255,e&255,1)}function Yg(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ms(e,t,r,n)}function Gte(e){return e instanceof P0||(e=r0(e)),e?(e=e.rgb(),new Ms(e.r,e.g,e.b,e.opacity)):new Ms}function W5(e,t,r,n){return arguments.length===1?Gte(e):new Ms(e,t,r,n??1)}function Ms(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}HN(Ms,W5,lM(P0,{brighter(e){return e=e==null?yv:Math.pow(yv,e),new Ms(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?e0:Math.pow(e0,e),new Ms(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ms(gh(this.r),gh(this.g),gh(this.b),bv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DP,formatHex:DP,formatHex8:Yte,formatRgb:AP,toString:AP}));function DP(){return`#${dh(this.r)}${dh(this.g)}${dh(this.b)}`}function Yte(){return`#${dh(this.r)}${dh(this.g)}${dh(this.b)}${dh((isNaN(this.opacity)?1:this.opacity)*255)}`}function AP(){const e=bv(this.opacity);return`${e===1?"rgb(":"rgba("}${gh(this.r)}, ${gh(this.g)}, ${gh(this.b)}${e===1?")":`, ${e})`}`}function bv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function dh(e){return e=gh(e),(e<16?"0":"")+e.toString(16)}function TP(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new wl(e,t,r,n)}function cM(e){if(e instanceof wl)return new wl(e.h,e.s,e.l,e.opacity);if(e instanceof P0||(e=r0(e)),!e)return new wl;if(e instanceof wl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-i,c=(s+i)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new wl(o,l,c,e.opacity)}function Xte(e,t,r,n){return arguments.length===1?cM(e):new wl(e,t,r,n??1)}function wl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}HN(wl,Xte,lM(P0,{brighter(e){return e=e==null?yv:Math.pow(yv,e),new wl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?e0:Math.pow(e0,e),new wl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Ms(Rw(e>=240?e-240:e+120,i,n),Rw(e,i,n),Rw(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new wl(OP(this.h),Xg(this.s),Xg(this.l),bv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bv(this.opacity);return`${e===1?"hsl(":"hsla("}${OP(this.h)}, ${Xg(this.s)*100}%, ${Xg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function OP(e){return e=(e||0)%360,e<0?e+360:e}function Xg(e){return Math.max(0,Math.min(1,e||0))}function Rw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const VN=e=>()=>e;function Jte(e,t){return function(r){return e+r*t}}function Zte(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Qte(e){return(e=+e)==1?uM:function(t,r){return r-t?Zte(t,r,e):VN(isNaN(t)?r:t)}}function uM(e,t){var r=t-e;return r?Jte(e,r):VN(isNaN(e)?t:e)}const LP=function e(t){var r=Qte(t);function n(i,s){var o=r((i=W5(i)).r,(s=W5(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=uM(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=c(h),i.opacity=u(h),i+""}}return n.gamma=e,n}(1);function ere(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function tre(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function rre(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=gm(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=i[o](l);return s}}function nre(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function wv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function are(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=gm(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var K5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zw=new RegExp(K5.source,"g");function ire(e){return function(){return e}}function sre(e){return function(t){return e(t)+""}}function ore(e,t){var r=K5.lastIndex=zw.lastIndex=0,n,i,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=K5.exec(e))&&(i=zw.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:wv(n,i)})),r=zw.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?sre(c[0].x):ire(t):(t=c.length,function(u){for(var h=0,m;h<t;++h)l[(m=c[h]).i]=m.x(u);return l.join("")})}function gm(e,t){var r=typeof t,n;return t==null||r==="boolean"?VN(t):(r==="number"?wv:r==="string"?(n=r0(t))?(t=n,LP):ore:t instanceof r0?LP:t instanceof Date?nre:tre(t)?ere:Array.isArray(t)?rre:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?are:wv)(e,t)}function WN(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function lre(e,t){t===void 0&&(t=e,e=gm);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function cre(e){return function(){return e}}function jv(e){return+e}var IP=[0,1];function ms(e){return e}function G5(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:cre(isNaN(t)?NaN:.5)}function ure(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function dre(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=G5(i,n),s=r(o,s)):(n=G5(n,i),s=r(s,o)),function(l){return s(n(l))}}function hre(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=G5(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=C0(e,l,1,n)-1;return s[c](i[c](l))}}function E0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Iy(){var e=IP,t=IP,r=gm,n,i,s,o=ms,l,c,u;function h(){var x=Math.min(e.length,t.length);return o!==ms&&(o=ure(e[0],e[x-1])),l=x>2?hre:dre,c=u=null,m}function m(x){return x==null||isNaN(x=+x)?s:(c||(c=l(e.map(n),t,r)))(n(o(x)))}return m.invert=function(x){return o(i((u||(u=l(t,e.map(n),wv)))(x)))},m.domain=function(x){return arguments.length?(e=Array.from(x,jv),h()):e.slice()},m.range=function(x){return arguments.length?(t=Array.from(x),h()):t.slice()},m.rangeRound=function(x){return t=Array.from(x),r=WN,h()},m.clamp=function(x){return arguments.length?(o=x?!0:ms,h()):o!==ms},m.interpolate=function(x){return arguments.length?(r=x,h()):r},m.unknown=function(x){return arguments.length?(s=x,m):s},function(x,p){return n=x,i=p,h()}}function KN(){return Iy()(ms,ms)}function fre(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Nv(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function nm(e){return e=Nv(Math.abs(e)),e?e[1]:NaN}function mre(e,t){return function(r,n){for(var i=r.length,s=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function pre(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var gre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function n0(e){if(!(t=gre.exec(e)))throw new Error("invalid format: "+e);var t;return new GN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}n0.prototype=GN.prototype;function GN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}GN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xre(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var dM;function vre(e,t){var r=Nv(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(dM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Nv(e,Math.max(0,t+s-1))[0]}function MP(e,t){var r=Nv(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const RP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:fre,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>MP(e*100,t),r:MP,s:vre,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function zP(e){return e}var FP=Array.prototype.map,$P=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yre(e){var t=e.grouping===void 0||e.thousands===void 0?zP:mre(FP.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?zP:pre(FP.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(m){m=n0(m);var x=m.fill,p=m.align,v=m.sign,y=m.symbol,g=m.zero,j=m.width,k=m.comma,w=m.precision,E=m.trim,O=m.type;O==="n"?(k=!0,O="g"):RP[O]||(w===void 0&&(w=12),E=!0,O="g"),(g||x==="0"&&p==="=")&&(g=!0,x="0",p="=");var z=y==="$"?r:y==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",Y=y==="$"?n:/[%p]/.test(O)?o:"",B=RP[O],$=/[defgprs%]/.test(O);w=w===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(A){var R=z,L=Y,q,W,ee;if(O==="c")L=B(A)+L,A="";else{A=+A;var M=A<0||1/A<0;if(A=isNaN(A)?c:B(Math.abs(A),w),E&&(A=xre(A)),M&&+A==0&&v!=="+"&&(M=!1),R=(M?v==="("?v:l:v==="-"||v==="("?"":v)+R,L=(O==="s"?$P[8+dM/3]:"")+L+(M&&v==="("?")":""),$){for(q=-1,W=A.length;++q<W;)if(ee=A.charCodeAt(q),48>ee||ee>57){L=(ee===46?i+A.slice(q+1):A.slice(q))+L,A=A.slice(0,q);break}}}k&&!g&&(A=t(A,1/0));var V=R.length+A.length+L.length,U=V<j?new Array(j-V+1).join(x):"";switch(k&&g&&(A=t(U+A,U.length?j-L.length:1/0),U=""),p){case"<":A=R+A+L+U;break;case"=":A=R+U+A+L;break;case"^":A=U.slice(0,V=U.length>>1)+R+A+L+U.slice(V);break;default:A=U+R+A+L;break}return s(A)}return T.toString=function(){return m+""},T}function h(m,x){var p=u((m=n0(m),m.type="f",m)),v=Math.max(-8,Math.min(8,Math.floor(nm(x)/3)))*3,y=Math.pow(10,-v),g=$P[8+v/3];return function(j){return p(y*j)+g}}return{format:u,formatPrefix:h}}var Jg,YN,hM;bre({thousands:",",grouping:[3],currency:["$",""]});function bre(e){return Jg=yre(e),YN=Jg.format,hM=Jg.formatPrefix,Jg}function wre(e){return Math.max(0,-nm(Math.abs(e)))}function jre(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nm(t)/3)))*3-nm(Math.abs(e)))}function Nre(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,nm(t)-nm(e))+1}function fM(e,t,r,n){var i=H5(e,t,r),s;switch(n=n0(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=jre(i,o))&&(n.precision=s),hM(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Nre(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=wre(i))&&(n.precision=s-(n.type==="%")*2);break}}return YN(n)}function xd(e){var t=e.domain;return e.ticks=function(r){var n=t();return U5(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return fM(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],l=n[s],c,u,h=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);h-- >0;){if(u=q5(o,l,r),u===c)return n[i]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function mM(){var e=KN();return e.copy=function(){return E0(e,mM())},Go.apply(e,arguments),xd(e)}function pM(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,jv),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return pM(e).unknown(t)},e=arguments.length?Array.from(e,jv):[0,1],xd(r)}function gM(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}function BP(e){return Math.log(e)}function UP(e){return Math.exp(e)}function _re(e){return-Math.log(-e)}function Sre(e){return-Math.exp(-e)}function kre(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Cre(e){return e===10?kre:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Pre(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function qP(e){return(t,r)=>-e(-t,r)}function XN(e){const t=e(BP,UP),r=t.domain;let n=10,i,s;function o(){return i=Pre(n),s=Cre(n),r()[0]<0?(i=qP(i),s=qP(s),e(_re,Sre)):e(BP,UP),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],h=c[c.length-1];const m=h<u;m&&([u,h]=[h,u]);let x=i(u),p=i(h),v,y;const g=l==null?10:+l;let j=[];if(!(n%1)&&p-x<g){if(x=Math.floor(x),p=Math.ceil(p),u>0){for(;x<=p;++x)for(v=1;v<n;++v)if(y=x<0?v/s(-x):v*s(x),!(y<u)){if(y>h)break;j.push(y)}}else for(;x<=p;++x)for(v=n-1;v>=1;--v)if(y=x>0?v/s(-x):v*s(x),!(y<u)){if(y>h)break;j.push(y)}j.length*2<g&&(j=U5(u,h,g))}else j=U5(x,p,Math.min(p-x,g)).map(s);return m?j.reverse():j},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=n0(c)).precision==null&&(c.trim=!0),c=YN(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return h=>{let m=h/s(Math.round(i(h)));return m*n<n-.5&&(m*=n),m<=u?c(h):""}},t.nice=()=>r(gM(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function xM(){const e=XN(Iy()).domain([1,10]);return e.copy=()=>E0(e,xM()).base(e.base()),Go.apply(e,arguments),e}function HP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function VP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function JN(e){var t=1,r=e(HP(t),VP(t));return r.constant=function(n){return arguments.length?e(HP(t=+n),VP(t)):t},xd(r)}function vM(){var e=JN(Iy());return e.copy=function(){return E0(e,vM()).constant(e.constant())},Go.apply(e,arguments)}function WP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ere(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Dre(e){return e<0?-e*e:e*e}function ZN(e){var t=e(ms,ms),r=1;function n(){return r===1?e(ms,ms):r===.5?e(Ere,Dre):e(WP(r),WP(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},xd(t)}function QN(){var e=ZN(Iy());return e.copy=function(){return E0(e,QN()).exponent(e.exponent())},Go.apply(e,arguments),e}function Are(){return QN.apply(null,arguments).exponent(.5)}function KP(e){return Math.sign(e)*e*e}function Tre(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function yM(){var e=KN(),t=[0,1],r=!1,n;function i(s){var o=Tre(e(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return e.invert(KP(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,jv)).map(KP)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return yM(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Go.apply(i,arguments),xd(i)}function bM(){var e=[],t=[],r=[],n;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Mte(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[C0(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(cd),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return bM().domain(e).range(t).unknown(n)},Go.apply(s,arguments)}function wM(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[C0(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return wM().domain([e,t]).range(i).unknown(s)},Go.apply(xd(o),arguments)}function jM(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[C0(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return jM().domain(e).range(t).unknown(r)},Go.apply(i,arguments)}const Fw=new Date,$w=new Date;function Va(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},i.filter=s=>Va(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(i.count=(s,o)=>(Fw.setTime(+s),$w.setTime(+o),e(Fw),e($w),Math.floor(r(Fw,$w))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const _v=Va(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);_v.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Va(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):_v);_v.range;const Wc=1e3,$o=Wc*60,Kc=$o*60,ou=Kc*24,e3=ou*7,GP=ou*30,Bw=ou*365,hh=Va(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Wc)},(e,t)=>(t-e)/Wc,e=>e.getUTCSeconds());hh.range;const t3=Va(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wc)},(e,t)=>{e.setTime(+e+t*$o)},(e,t)=>(t-e)/$o,e=>e.getMinutes());t3.range;const r3=Va(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*$o)},(e,t)=>(t-e)/$o,e=>e.getUTCMinutes());r3.range;const n3=Va(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wc-e.getMinutes()*$o)},(e,t)=>{e.setTime(+e+t*Kc)},(e,t)=>(t-e)/Kc,e=>e.getHours());n3.range;const a3=Va(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Kc)},(e,t)=>(t-e)/Kc,e=>e.getUTCHours());a3.range;const D0=Va(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$o)/ou,e=>e.getDate()-1);D0.range;const My=Va(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ou,e=>e.getUTCDate()-1);My.range;const NM=Va(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ou,e=>Math.floor(e/ou));NM.range;function Mh(e){return Va(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*$o)/e3)}const Ry=Mh(0),Sv=Mh(1),Ore=Mh(2),Lre=Mh(3),am=Mh(4),Ire=Mh(5),Mre=Mh(6);Ry.range;Sv.range;Ore.range;Lre.range;am.range;Ire.range;Mre.range;function Rh(e){return Va(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/e3)}const zy=Rh(0),kv=Rh(1),Rre=Rh(2),zre=Rh(3),im=Rh(4),Fre=Rh(5),$re=Rh(6);zy.range;kv.range;Rre.range;zre.range;im.range;Fre.range;$re.range;const i3=Va(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());i3.range;const s3=Va(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());s3.range;const lu=Va(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());lu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Va(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});lu.range;const cu=Va(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());cu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Va(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});cu.range;function _M(e,t,r,n,i,s){const o=[[hh,1,Wc],[hh,5,5*Wc],[hh,15,15*Wc],[hh,30,30*Wc],[s,1,$o],[s,5,5*$o],[s,15,15*$o],[s,30,30*$o],[i,1,Kc],[i,3,3*Kc],[i,6,6*Kc],[i,12,12*Kc],[n,1,ou],[n,2,2*ou],[r,1,e3],[t,1,GP],[t,3,3*GP],[e,1,Bw]];function l(u,h,m){const x=h<u;x&&([u,h]=[h,u]);const p=m&&typeof m.range=="function"?m:c(u,h,m),v=p?p.range(u,+h+1):[];return x?v.reverse():v}function c(u,h,m){const x=Math.abs(h-u)/m,p=BN(([,,g])=>g).right(o,x);if(p===o.length)return e.every(H5(u/Bw,h/Bw,m));if(p===0)return _v.every(Math.max(H5(u,h,m),1));const[v,y]=o[x/o[p-1][2]<o[p][2]/x?p-1:p];return v.every(y)}return[l,c]}const[Bre,Ure]=_M(cu,s3,zy,NM,a3,r3),[qre,Hre]=_M(lu,i3,Ry,D0,n3,t3);function Uw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function lp(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Vre(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=cp(i),h=up(i),m=cp(s),x=up(s),p=cp(o),v=up(o),y=cp(l),g=up(l),j=cp(c),k=up(c),w={a:M,A:V,b:U,B:I,c:null,d:e6,e:e6,f:mne,g:_ne,G:kne,H:dne,I:hne,j:fne,L:SM,m:pne,M:gne,p:H,q:D,Q:n6,s:a6,S:xne,u:vne,U:yne,V:bne,w:wne,W:jne,x:null,X:null,y:Nne,Y:Sne,Z:Cne,"%":r6},E={a:G,A:Z,b:P,B:re,c:null,d:t6,e:t6,f:Ane,g:Bne,G:qne,H:Pne,I:Ene,j:Dne,L:CM,m:Tne,M:One,p:ce,q:be,Q:n6,s:a6,S:Lne,u:Ine,U:Mne,V:Rne,w:zne,W:Fne,x:null,X:null,y:$ne,Y:Une,Z:Hne,"%":r6},O={a:T,A,b:R,B:L,c:q,d:ZP,e:ZP,f:one,g:JP,G:XP,H:QP,I:QP,j:nne,L:sne,m:rne,M:ane,p:$,q:tne,Q:cne,s:une,S:ine,u:Xre,U:Jre,V:Zre,w:Yre,W:Qre,x:W,X:ee,y:JP,Y:XP,Z:ene,"%":lne};w.x=z(r,w),w.X=z(n,w),w.c=z(t,w),E.x=z(r,E),E.X=z(n,E),E.c=z(t,E);function z(ae,ue){return function(fe){var pe=[],de=-1,le=0,ne=ae.length,Se,Ee,qe;for(fe instanceof Date||(fe=new Date(+fe));++de<ne;)ae.charCodeAt(de)===37&&(pe.push(ae.slice(le,de)),(Ee=YP[Se=ae.charAt(++de)])!=null?Se=ae.charAt(++de):Ee=Se==="e"?" ":"0",(qe=ue[Se])&&(Se=qe(fe,Ee)),pe.push(Se),le=de+1);return pe.push(ae.slice(le,de)),pe.join("")}}function Y(ae,ue){return function(fe){var pe=lp(1900,void 0,1),de=B(pe,ae,fe+="",0),le,ne;if(de!=fe.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(ue&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(le=qw(lp(pe.y,0,1)),ne=le.getUTCDay(),le=ne>4||ne===0?kv.ceil(le):kv(le),le=My.offset(le,(pe.V-1)*7),pe.y=le.getUTCFullYear(),pe.m=le.getUTCMonth(),pe.d=le.getUTCDate()+(pe.w+6)%7):(le=Uw(lp(pe.y,0,1)),ne=le.getDay(),le=ne>4||ne===0?Sv.ceil(le):Sv(le),le=D0.offset(le,(pe.V-1)*7),pe.y=le.getFullYear(),pe.m=le.getMonth(),pe.d=le.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),ne="Z"in pe?qw(lp(pe.y,0,1)).getUTCDay():Uw(lp(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(ne+5)%7:pe.w+pe.U*7-(ne+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,qw(pe)):Uw(pe)}}function B(ae,ue,fe,pe){for(var de=0,le=ue.length,ne=fe.length,Se,Ee;de<le;){if(pe>=ne)return-1;if(Se=ue.charCodeAt(de++),Se===37){if(Se=ue.charAt(de++),Ee=O[Se in YP?ue.charAt(de++):Se],!Ee||(pe=Ee(ae,fe,pe))<0)return-1}else if(Se!=fe.charCodeAt(pe++))return-1}return pe}function $(ae,ue,fe){var pe=u.exec(ue.slice(fe));return pe?(ae.p=h.get(pe[0].toLowerCase()),fe+pe[0].length):-1}function T(ae,ue,fe){var pe=p.exec(ue.slice(fe));return pe?(ae.w=v.get(pe[0].toLowerCase()),fe+pe[0].length):-1}function A(ae,ue,fe){var pe=m.exec(ue.slice(fe));return pe?(ae.w=x.get(pe[0].toLowerCase()),fe+pe[0].length):-1}function R(ae,ue,fe){var pe=j.exec(ue.slice(fe));return pe?(ae.m=k.get(pe[0].toLowerCase()),fe+pe[0].length):-1}function L(ae,ue,fe){var pe=y.exec(ue.slice(fe));return pe?(ae.m=g.get(pe[0].toLowerCase()),fe+pe[0].length):-1}function q(ae,ue,fe){return B(ae,t,ue,fe)}function W(ae,ue,fe){return B(ae,r,ue,fe)}function ee(ae,ue,fe){return B(ae,n,ue,fe)}function M(ae){return o[ae.getDay()]}function V(ae){return s[ae.getDay()]}function U(ae){return c[ae.getMonth()]}function I(ae){return l[ae.getMonth()]}function H(ae){return i[+(ae.getHours()>=12)]}function D(ae){return 1+~~(ae.getMonth()/3)}function G(ae){return o[ae.getUTCDay()]}function Z(ae){return s[ae.getUTCDay()]}function P(ae){return c[ae.getUTCMonth()]}function re(ae){return l[ae.getUTCMonth()]}function ce(ae){return i[+(ae.getUTCHours()>=12)]}function be(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var ue=z(ae+="",w);return ue.toString=function(){return ae},ue},parse:function(ae){var ue=Y(ae+="",!1);return ue.toString=function(){return ae},ue},utcFormat:function(ae){var ue=z(ae+="",E);return ue.toString=function(){return ae},ue},utcParse:function(ae){var ue=Y(ae+="",!0);return ue.toString=function(){return ae},ue}}}var YP={"-":"",_:" ",0:"0"},di=/^\s*\d+/,Wre=/^%/,Kre=/[\\^$*+?|[\]().{}]/g;function Gr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function Gre(e){return e.replace(Kre,"\\$&")}function cp(e){return new RegExp("^(?:"+e.map(Gre).join("|")+")","i")}function up(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Yre(e,t,r){var n=di.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Xre(e,t,r){var n=di.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Jre(e,t,r){var n=di.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Zre(e,t,r){var n=di.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Qre(e,t,r){var n=di.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function XP(e,t,r){var n=di.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function JP(e,t,r){var n=di.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ene(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function tne(e,t,r){var n=di.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function rne(e,t,r){var n=di.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function ZP(e,t,r){var n=di.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function nne(e,t,r){var n=di.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function QP(e,t,r){var n=di.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function ane(e,t,r){var n=di.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ine(e,t,r){var n=di.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function sne(e,t,r){var n=di.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function one(e,t,r){var n=di.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function lne(e,t,r){var n=Wre.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function cne(e,t,r){var n=di.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function une(e,t,r){var n=di.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function e6(e,t){return Gr(e.getDate(),t,2)}function dne(e,t){return Gr(e.getHours(),t,2)}function hne(e,t){return Gr(e.getHours()%12||12,t,2)}function fne(e,t){return Gr(1+D0.count(lu(e),e),t,3)}function SM(e,t){return Gr(e.getMilliseconds(),t,3)}function mne(e,t){return SM(e,t)+"000"}function pne(e,t){return Gr(e.getMonth()+1,t,2)}function gne(e,t){return Gr(e.getMinutes(),t,2)}function xne(e,t){return Gr(e.getSeconds(),t,2)}function vne(e){var t=e.getDay();return t===0?7:t}function yne(e,t){return Gr(Ry.count(lu(e)-1,e),t,2)}function kM(e){var t=e.getDay();return t>=4||t===0?am(e):am.ceil(e)}function bne(e,t){return e=kM(e),Gr(am.count(lu(e),e)+(lu(e).getDay()===4),t,2)}function wne(e){return e.getDay()}function jne(e,t){return Gr(Sv.count(lu(e)-1,e),t,2)}function Nne(e,t){return Gr(e.getFullYear()%100,t,2)}function _ne(e,t){return e=kM(e),Gr(e.getFullYear()%100,t,2)}function Sne(e,t){return Gr(e.getFullYear()%1e4,t,4)}function kne(e,t){var r=e.getDay();return e=r>=4||r===0?am(e):am.ceil(e),Gr(e.getFullYear()%1e4,t,4)}function Cne(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Gr(t/60|0,"0",2)+Gr(t%60,"0",2)}function t6(e,t){return Gr(e.getUTCDate(),t,2)}function Pne(e,t){return Gr(e.getUTCHours(),t,2)}function Ene(e,t){return Gr(e.getUTCHours()%12||12,t,2)}function Dne(e,t){return Gr(1+My.count(cu(e),e),t,3)}function CM(e,t){return Gr(e.getUTCMilliseconds(),t,3)}function Ane(e,t){return CM(e,t)+"000"}function Tne(e,t){return Gr(e.getUTCMonth()+1,t,2)}function One(e,t){return Gr(e.getUTCMinutes(),t,2)}function Lne(e,t){return Gr(e.getUTCSeconds(),t,2)}function Ine(e){var t=e.getUTCDay();return t===0?7:t}function Mne(e,t){return Gr(zy.count(cu(e)-1,e),t,2)}function PM(e){var t=e.getUTCDay();return t>=4||t===0?im(e):im.ceil(e)}function Rne(e,t){return e=PM(e),Gr(im.count(cu(e),e)+(cu(e).getUTCDay()===4),t,2)}function zne(e){return e.getUTCDay()}function Fne(e,t){return Gr(kv.count(cu(e)-1,e),t,2)}function $ne(e,t){return Gr(e.getUTCFullYear()%100,t,2)}function Bne(e,t){return e=PM(e),Gr(e.getUTCFullYear()%100,t,2)}function Une(e,t){return Gr(e.getUTCFullYear()%1e4,t,4)}function qne(e,t){var r=e.getUTCDay();return e=r>=4||r===0?im(e):im.ceil(e),Gr(e.getUTCFullYear()%1e4,t,4)}function Hne(){return"+0000"}function r6(){return"%"}function n6(e){return+e}function a6(e){return Math.floor(+e/1e3)}var pf,EM,DM;Vne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Vne(e){return pf=Vre(e),EM=pf.format,pf.parse,DM=pf.utcFormat,pf.utcParse,pf}function Wne(e){return new Date(e)}function Kne(e){return e instanceof Date?+e:+new Date(+e)}function o3(e,t,r,n,i,s,o,l,c,u){var h=KN(),m=h.invert,x=h.domain,p=u(".%L"),v=u(":%S"),y=u("%I:%M"),g=u("%I %p"),j=u("%a %d"),k=u("%b %d"),w=u("%B"),E=u("%Y");function O(z){return(c(z)<z?p:l(z)<z?v:o(z)<z?y:s(z)<z?g:n(z)<z?i(z)<z?j:k:r(z)<z?w:E)(z)}return h.invert=function(z){return new Date(m(z))},h.domain=function(z){return arguments.length?x(Array.from(z,Kne)):x().map(Wne)},h.ticks=function(z){var Y=x();return e(Y[0],Y[Y.length-1],z??10)},h.tickFormat=function(z,Y){return Y==null?O:u(Y)},h.nice=function(z){var Y=x();return(!z||typeof z.range!="function")&&(z=t(Y[0],Y[Y.length-1],z??10)),z?x(gM(Y,z)):h},h.copy=function(){return E0(h,o3(e,t,r,n,i,s,o,l,c,u))},h}function Gne(){return Go.apply(o3(qre,Hre,lu,i3,Ry,D0,n3,t3,hh,EM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Yne(){return Go.apply(o3(Bre,Ure,cu,s3,zy,My,a3,r3,hh,DM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fy(){var e=0,t=1,r,n,i,s,o=ms,l=!1,c;function u(m){return m==null||isNaN(m=+m)?c:o(i===0?.5:(m=(s(m)-r)*i,l?Math.max(0,Math.min(1,m)):m))}u.domain=function(m){return arguments.length?([e,t]=m,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(m){return arguments.length?(l=!!m,u):l},u.interpolator=function(m){return arguments.length?(o=m,u):o};function h(m){return function(x){var p,v;return arguments.length?([p,v]=x,o=m(p,v),u):[o(0),o(1)]}}return u.range=h(gm),u.rangeRound=h(WN),u.unknown=function(m){return arguments.length?(c=m,u):c},function(m){return s=m,r=m(e),n=m(t),i=r===n?0:1/(n-r),u}}function vd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function AM(){var e=xd(Fy()(ms));return e.copy=function(){return vd(e,AM())},mu.apply(e,arguments)}function TM(){var e=XN(Fy()).domain([1,10]);return e.copy=function(){return vd(e,TM()).base(e.base())},mu.apply(e,arguments)}function OM(){var e=JN(Fy());return e.copy=function(){return vd(e,OM()).constant(e.constant())},mu.apply(e,arguments)}function l3(){var e=ZN(Fy());return e.copy=function(){return vd(e,l3()).exponent(e.exponent())},mu.apply(e,arguments)}function Xne(){return l3.apply(null,arguments).exponent(.5)}function LM(){var e=[],t=ms;function r(n){if(n!=null&&!isNaN(n=+n))return t((C0(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(cd),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>Ite(e,s/n))},r.copy=function(){return LM(t).domain(e)},mu.apply(r,arguments)}function $y(){var e=0,t=.5,r=1,n=1,i,s,o,l,c,u=ms,h,m=!1,x;function p(y){return isNaN(y=+y)?x:(y=.5+((y=+h(y))-s)*(n*y<n*s?l:c),u(m?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([e,t,r]=y,i=h(e=+e),s=h(t=+t),o=h(r=+r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,p):[e,t,r]},p.clamp=function(y){return arguments.length?(m=!!y,p):m},p.interpolator=function(y){return arguments.length?(u=y,p):u};function v(y){return function(g){var j,k,w;return arguments.length?([j,k,w]=g,u=lre(y,[j,k,w]),p):[u(0),u(.5),u(1)]}}return p.range=v(gm),p.rangeRound=v(WN),p.unknown=function(y){return arguments.length?(x=y,p):x},function(y){return h=y,i=y(e),s=y(t),o=y(r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,p}}function IM(){var e=xd($y()(ms));return e.copy=function(){return vd(e,IM())},mu.apply(e,arguments)}function MM(){var e=XN($y()).domain([.1,1,10]);return e.copy=function(){return vd(e,MM()).base(e.base())},mu.apply(e,arguments)}function RM(){var e=JN($y());return e.copy=function(){return vd(e,RM()).constant(e.constant())},mu.apply(e,arguments)}function c3(){var e=ZN($y());return e.copy=function(){return vd(e,c3()).exponent(e.exponent())},mu.apply(e,arguments)}function Jne(){return c3.apply(null,arguments).exponent(.5)}const vp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:qN,scaleDiverging:IM,scaleDivergingLog:MM,scaleDivergingPow:c3,scaleDivergingSqrt:Jne,scaleDivergingSymlog:RM,scaleIdentity:pM,scaleImplicit:V5,scaleLinear:mM,scaleLog:xM,scaleOrdinal:UN,scalePoint:zte,scalePow:QN,scaleQuantile:bM,scaleQuantize:wM,scaleRadial:yM,scaleSequential:AM,scaleSequentialLog:TM,scaleSequentialPow:l3,scaleSequentialQuantile:LM,scaleSequentialSqrt:Xne,scaleSequentialSymlog:OM,scaleSqrt:Are,scaleSymlog:vM,scaleThreshold:jM,scaleTime:Gne,scaleUtc:Yne,tickFormat:fM},Symbol.toStringTag,{value:"Module"}));var yd=e=>e.chartData,Zne=yt([yd],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),u3=(e,t,r,n)=>n?Zne(e):yd(e);function kh(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(oi(t)&&oi(r))return!0}return!1}function i6(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function zM(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(oi(r))i=r;else if(typeof r=="function")return;if(oi(n))s=n;else if(typeof n=="function")return;var o=[i,s];if(kh(o))return o}}function Qne(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(kh(n))return i6(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,o,l;if(i==="auto")t!=null&&(o=Math.min(...t));else if(Sr(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&$C.test(i)){var c=$C.exec(i);if(c==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(Sr(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&BC.test(s)){var h=BC.exec(s);if(h==null||t==null)l=void 0;else{var m=+h[1];l=t[1]+m}}else l=t==null?void 0:t[1];var x=[o,l];if(kh(x))return t==null?x:i6(x,t,r)}}}var xm=1e9,eae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},h3,Hn=!0,Ho="[DecimalError] ",xh=Ho+"Invalid argument: ",d3=Ho+"Exponent out of range: ",vm=Math.floor,eh=Math.pow,tae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,oo,ni=1e7,Dn=7,FM=9007199254740991,Cv=vm(FM/Dn),Zt={};Zt.absoluteValue=Zt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Zt.comparedTo=Zt.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Zt.decimalPlaces=Zt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Dn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Zt.dividedBy=Zt.div=function(e){return Zc(this,new this.constructor(e))};Zt.dividedToIntegerBy=Zt.idiv=function(e){var t=this,r=t.constructor;return vn(Zc(t,new r(e),0,1),r.precision)};Zt.equals=Zt.eq=function(e){return!this.cmp(e)};Zt.exponent=function(){return Aa(this)};Zt.greaterThan=Zt.gt=function(e){return this.cmp(e)>0};Zt.greaterThanOrEqualTo=Zt.gte=function(e){return this.cmp(e)>=0};Zt.isInteger=Zt.isint=function(){return this.e>this.d.length-2};Zt.isNegative=Zt.isneg=function(){return this.s<0};Zt.isPositive=Zt.ispos=function(){return this.s>0};Zt.isZero=function(){return this.s===0};Zt.lessThan=Zt.lt=function(e){return this.cmp(e)<0};Zt.lessThanOrEqualTo=Zt.lte=function(e){return this.cmp(e)<1};Zt.logarithm=Zt.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(oo))throw Error(Ho+"NaN");if(r.s<1)throw Error(Ho+(r.s?"NaN":"-Infinity"));return r.eq(oo)?new n(0):(Hn=!1,t=Zc(a0(r,s),a0(e,s),s),Hn=!0,vn(t,i))};Zt.minus=Zt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?UM(t,e):$M(t,(e.s=-e.s,e))};Zt.modulo=Zt.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Ho+"NaN");return r.s?(Hn=!1,t=Zc(r,e,0,1).times(e),Hn=!0,r.minus(t)):vn(new n(r),i)};Zt.naturalExponential=Zt.exp=function(){return BM(this)};Zt.naturalLogarithm=Zt.ln=function(){return a0(this)};Zt.negated=Zt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Zt.plus=Zt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$M(t,e):UM(t,(e.s=-e.s,e))};Zt.precision=Zt.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(xh+e);if(t=Aa(i)+1,n=i.d.length-1,r=n*Dn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Zt.squareRoot=Zt.sqrt=function(){var e,t,r,n,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ho+"NaN")}for(e=Aa(l),Hn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Ql(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=vm((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(s=n,n=s.plus(Zc(l,s,o+2)).times(.5),Ql(s.d).slice(0,o)===(t=Ql(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(vn(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return Hn=!0,vn(n,r)};Zt.times=Zt.mul=function(e){var t,r,n,i,s,o,l,c,u,h=this,m=h.constructor,x=h.d,p=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,r=h.e+e.e,c=x.length,u=p.length,c<u&&(s=x,x=p,p=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+p[n]*x[i-n-1]+t,s[i--]=l%ni|0,t=l/ni|0;s[i]=(s[i]+t)%ni|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Hn?vn(e,m.precision):e};Zt.toDecimalPlaces=Zt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(lc(e,0,xm),t===void 0?t=n.rounding:lc(t,0,8),vn(r,e+Aa(r)+1,t))};Zt.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ch(n,!0):(lc(e,0,xm),t===void 0?t=i.rounding:lc(t,0,8),n=vn(new i(n),e+1,t),r=Ch(n,!0,e+1)),r};Zt.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Ch(i):(lc(e,0,xm),t===void 0?t=s.rounding:lc(t,0,8),n=vn(new s(i),e+Aa(i)+1,t),r=Ch(n.abs(),!1,e+Aa(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Zt.toInteger=Zt.toint=function(){var e=this,t=e.constructor;return vn(new t(e),Aa(e)+1,t.rounding)};Zt.toNumber=function(){return+this};Zt.toPower=Zt.pow=function(e){var t,r,n,i,s,o,l=this,c=l.constructor,u=12,h=+(e=new c(e));if(!e.s)return new c(oo);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ho+"Infinity");return l}if(l.eq(oo))return l;if(n=c.precision,e.eq(oo))return vn(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=h<0?-h:h)<=FM){for(i=new c(oo),t=Math.ceil(n/Dn+4),Hn=!1;r%2&&(i=i.times(l),o6(i.d,t)),r=vm(r/2),r!==0;)l=l.times(l),o6(l.d,t);return Hn=!0,e.s<0?new c(oo).div(i):vn(i,n)}}else if(s<0)throw Error(Ho+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Hn=!1,i=e.times(a0(l,n+u)),Hn=!0,i=BM(i),i.s=s,i};Zt.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=Aa(i),n=Ch(i,r<=s.toExpNeg||r>=s.toExpPos)):(lc(e,1,xm),t===void 0?t=s.rounding:lc(t,0,8),i=vn(new s(i),e,t),r=Aa(i),n=Ch(i,e<=r||r<=s.toExpNeg,e)),n};Zt.toSignificantDigits=Zt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(lc(e,1,xm),t===void 0?t=n.rounding:lc(t,0,8)),vn(new n(r),e,t)};Zt.toString=Zt.valueOf=Zt.val=Zt.toJSON=Zt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Aa(e),r=e.constructor;return Ch(e,t<=r.toExpNeg||t>=r.toExpPos)};function $M(e,t){var r,n,i,s,o,l,c,u,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Hn?vn(t,m):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),s=o-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(m/Dn),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/ni|0,c[s]%=ni;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Hn?vn(t,m):t}function lc(e,t,r){if(e!==~~e||e<t||e>r)throw Error(xh+e)}function Ql(e){var t,r,n,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)n=e[t]+"",r=Dn-n.length,r&&(s+=ed(r)),s+=n;o=e[t],n=o+"",r=Dn-n.length,r&&(s+=ed(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Zc=function(){function e(n,i){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+o,n[l]=s%ni|0,o=s/ni|0;return o&&n.unshift(o),n}function t(n,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*ni+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var l,c,u,h,m,x,p,v,y,g,j,k,w,E,O,z,Y,B,$=n.constructor,T=n.s==i.s?1:-1,A=n.d,R=i.d;if(!n.s)return new $(n);if(!i.s)throw Error(Ho+"Division by zero");for(c=n.e-i.e,Y=R.length,O=A.length,p=new $(T),v=p.d=[],u=0;R[u]==(A[u]||0);)++u;if(R[u]>(A[u]||0)&&--c,s==null?k=s=$.precision:o?k=s+(Aa(n)-Aa(i))+1:k=s,k<0)return new $(0);if(k=k/Dn+2|0,u=0,Y==1)for(h=0,R=R[0],k++;(u<O||h)&&k--;u++)w=h*ni+(A[u]||0),v[u]=w/R|0,h=w%R|0;else{for(h=ni/(R[0]+1)|0,h>1&&(R=e(R,h),A=e(A,h),Y=R.length,O=A.length),E=Y,y=A.slice(0,Y),g=y.length;g<Y;)y[g++]=0;B=R.slice(),B.unshift(0),z=R[0],R[1]>=ni/2&&++z;do h=0,l=t(R,y,Y,g),l<0?(j=y[0],Y!=g&&(j=j*ni+(y[1]||0)),h=j/z|0,h>1?(h>=ni&&(h=ni-1),m=e(R,h),x=m.length,g=y.length,l=t(m,y,x,g),l==1&&(h--,r(m,Y<x?B:R,x))):(h==0&&(l=h=1),m=R.slice()),x=m.length,x<g&&m.unshift(0),r(y,m,g),l==-1&&(g=y.length,l=t(R,y,Y,g),l<1&&(h++,r(y,Y<g?B:R,g))),g=y.length):l===0&&(h++,y=[0]),v[u++]=h,l&&y[0]?y[g++]=A[E]||0:(y=[A[E]],g=1);while((E++<O||y[0]!==void 0)&&k--)}return v[0]||v.shift(),p.e=c,vn(p,o?s+Aa(p)+1:s)}}();function BM(e,t){var r,n,i,s,o,l,c=0,u=0,h=e.constructor,m=h.precision;if(Aa(e)>16)throw Error(d3+Aa(e));if(!e.s)return new h(oo);for(Hn=!1,l=m,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(eh(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new h(oo),h.precision=l;;){if(i=vn(i.times(e),l),r=r.times(++c),o=s.plus(Zc(i,r,l)),Ql(o.d).slice(0,l)===Ql(s.d).slice(0,l)){for(;u--;)s=vn(s.times(s),l);return h.precision=m,t==null?(Hn=!0,vn(s,m)):s}s=o}}function Aa(e){for(var t=e.e*Dn,r=e.d[0];r>=10;r/=10)t++;return t}function Hw(e,t,r){if(t>e.LN10.sd())throw Hn=!0,r&&(e.precision=r),Error(Ho+"LN10 precision limit exceeded");return vn(new e(e.LN10),t)}function ed(e){for(var t="";e--;)t+="0";return t}function a0(e,t){var r,n,i,s,o,l,c,u,h,m=1,x=10,p=e,v=p.d,y=p.constructor,g=y.precision;if(p.s<1)throw Error(Ho+(p.s?"NaN":"-Infinity"));if(p.eq(oo))return new y(0);if(t==null?(Hn=!1,u=g):u=t,p.eq(10))return t==null&&(Hn=!0),Hw(y,u);if(u+=x,y.precision=u,r=Ql(v),n=r.charAt(0),s=Aa(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ql(p.d),n=r.charAt(0),m++;s=Aa(p),n>1?(p=new y("0."+r),s++):p=new y(n+"."+r.slice(1))}else return c=Hw(y,u+2,g).times(s+""),p=a0(new y(n+"."+r.slice(1)),u-x).plus(c),y.precision=g,t==null?(Hn=!0,vn(p,g)):p;for(l=o=p=Zc(p.minus(oo),p.plus(oo),u),h=vn(p.times(p),u),i=3;;){if(o=vn(o.times(h),u),c=l.plus(Zc(o,new y(i),u)),Ql(c.d).slice(0,u)===Ql(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(Hw(y,u+2,g).times(s+""))),l=Zc(l,new y(m),u),y.precision=g,t==null?(Hn=!0,vn(l,g)):l;l=c,i+=2}}function s6(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=vm(r/Dn),e.d=[],n=(r+1)%Dn,r<0&&(n+=Dn),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Dn;n<i;)e.d.push(+t.slice(n,n+=Dn));t=t.slice(n),n=Dn-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Hn&&(e.e>Cv||e.e<-Cv))throw Error(d3+r)}else e.s=0,e.e=0,e.d=[0];return e}function vn(e,t,r){var n,i,s,o,l,c,u,h,m=e.d;for(o=1,s=m[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Dn,i=t,u=m[h=0];else{if(h=Math.ceil((n+1)/Dn),s=m.length,h>=s)return e;for(u=s=m[h],o=1;s>=10;s/=10)o++;n%=Dn,i=n-Dn+o}if(r!==void 0&&(s=eh(10,o-i-1),l=u/s%10|0,c=t<0||m[h+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/eh(10,o-i):0:m[h-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return c?(s=Aa(e),m.length=1,t=t-s-1,m[0]=eh(10,(Dn-t%Dn)%Dn),e.e=vm(-t/Dn)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=h,s=1,h--):(m.length=h+1,s=eh(10,Dn-n),m[h]=i>0?(u/eh(10,o-i)%eh(10,i)|0)*s:0),c)for(;;)if(h==0){(m[0]+=s)==ni&&(m[0]=1,++e.e);break}else{if(m[h]+=s,m[h]!=ni)break;m[h--]=0,s=1}for(n=m.length;m[--n]===0;)m.pop();if(Hn&&(e.e>Cv||e.e<-Cv))throw Error(d3+Aa(e));return e}function UM(e,t){var r,n,i,s,o,l,c,u,h,m,x=e.constructor,p=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Hn?vn(t,p):t;if(c=e.d,m=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(h=o<0,h?(r=c,o=-o,l=m.length):(r=m,n=u,l=c.length),i=Math.max(Math.ceil(p/Dn),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=m.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}o=0}for(h&&(r=c,c=m,m=r,t.s=-t.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>o;){if(c[--i]<m[i]){for(s=i;s&&c[--s]===0;)c[s]=ni-1;--c[s],c[i]+=ni}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Hn?vn(t,p):t):new x(0)}function Ch(e,t,r){var n,i=Aa(e),s=Ql(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+ed(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ed(-i-1)+s,r&&(n=r-o)>0&&(s+=ed(n))):i>=o?(s+=ed(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+ed(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=ed(n))),e.s<0?"-"+s:s}function o6(e,t){if(e.length>t)return e.length=t,!0}function qM(e){var t,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(xh+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return s6(o,s.toString())}else if(typeof s!="string")throw Error(xh+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,tae.test(s))s6(o,s);else throw Error(xh+s)}if(i.prototype=Zt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=qM,i.config=i.set=rae,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function rae(e){if(!e||typeof e!="object")throw Error(Ho+"Object expected");var t,r,n,i=["precision",1,xm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(vm(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(xh+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(xh+r+": "+n);return this}var h3=qM(eae);oo=new h3(1);const ln=h3;var nae=e=>e,HM={},VM=e=>e===HM,l6=e=>function t(){return arguments.length===0||arguments.length===1&&VM(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},WM=(e,t)=>e===1?t:l6(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(o=>o!==HM).length;return s>=e?t(...n):WM(e-s,l6(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=n.map(h=>VM(h)?l.shift():h);return t(...u,...l)}))}),By=e=>WM(e.length,e),Y5=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},aae=By((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),iae=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return nae;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce((l,c)=>c(l),s(...arguments))}},X5=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),KM=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t&&i.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=i,r=e(...i)),r}};function GM(e){var t;return e===0?t=1:t=Math.floor(new ln(e).abs().log(10).toNumber())+1,t}function YM(e,t,r){for(var n=new ln(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}By((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});By((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});By((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var XM=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},JM=(e,t,r)=>{if(e.lte(0))return new ln(0);var n=GM(e.toNumber()),i=new ln(10).pow(n),s=e.div(i),o=n!==1?.05:.1,l=new ln(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return t?new ln(c.toNumber()):new ln(Math.ceil(c.toNumber()))},sae=(e,t,r)=>{var n=new ln(1),i=new ln(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new ln(10).pow(GM(e)-1),i=new ln(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new ln(Math.floor(e)))}else e===0?i=new ln(Math.floor((t-1)/2)):r||(i=new ln(Math.floor(e)));var o=Math.floor((t-1)/2),l=iae(aae(c=>i.add(new ln(c-o).mul(n)).toNumber()),Y5);return l(0,t)},ZM=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ln(0),tickMin:new ln(0),tickMax:new ln(0)};var o=JM(new ln(r).sub(t).div(n-1),i,s),l;t<=0&&r>=0?l=new ln(0):(l=new ln(t).add(r).div(2),l=l.sub(new ln(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new ln(r).sub(l).div(o).toNumber()),h=c+u+1;return h>n?ZM(t,r,n,i,s+1):(h<n&&(u=r>0?u+(n-h):u,c=r>0?c:c+(n-h)),{step:o,tickMin:l.sub(new ln(c).mul(o)),tickMax:l.add(new ln(u).mul(o))})};function oae(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[o,l]=XM([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Y5(0,n-1).map(()=>1/0)]:[...Y5(0,n-1).map(()=>-1/0),l];return t>r?X5(c):c}if(o===l)return sae(o,n,i);var{step:u,tickMin:h,tickMax:m}=ZM(o,l,s,i,0),x=YM(h,m.add(new ln(.1).mul(u)),u);return t>r?X5(x):x}function lae(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=XM([r,n]);if(s===-1/0||o===1/0)return[r,n];if(s===o)return[s];var l=Math.max(t,2),c=JM(new ln(o).sub(s).div(l-1),i,0),u=[...YM(new ln(s),new ln(o),c),o];return i===!1&&(u=u.map(h=>Math.round(h))),r>n?X5(u):u}var cae=KM(oae),uae=KM(lae),dae=e=>e.rootProps.barCategoryGap,Uy=e=>e.rootProps.stackOffset,f3=e=>e.options.chartName,m3=e=>e.rootProps.syncId,QM=e=>e.rootProps.syncMethod,p3=e=>e.options.eventEmitter,Rs={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Hc={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},no={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},qy=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},hae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Hc.angleAxisId,includeHidden:!1,name:void 0,reversed:Hc.reversed,scale:Hc.scale,tick:Hc.tick,tickCount:void 0,ticks:void 0,type:Hc.type,unit:void 0},fae={allowDataOverflow:no.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:no.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:no.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:no.scale,tick:no.tick,tickCount:no.tickCount,ticks:void 0,type:no.type,unit:void 0},mae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Hc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Hc.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Hc.scale,tick:Hc.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},pae={allowDataOverflow:no.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:no.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:no.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:no.scale,tick:no.tick,tickCount:no.tickCount,ticks:void 0,type:"category",unit:void 0},g3=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?mae:hae,x3=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?pae:fae,Hy=e=>e.polarOptions,v3=yt([hu,fu,Ei],cte),e8=yt([Hy,v3],(e,t)=>{if(e!=null)return dd(e.innerRadius,t,0)}),t8=yt([Hy,v3],(e,t)=>{if(e!=null)return dd(e.outerRadius,t,t*.8)}),gae=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},r8=yt([Hy],gae);yt([g3,r8],qy);var n8=yt([v3,e8,t8],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});yt([x3,n8],qy);var a8=yt([On,Hy,e8,t8,hu,fu],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:dd(o,i,i/2),cy:dd(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Wa=(e,t)=>t,Vy=(e,t,r)=>r;function i8(e){return e==null?void 0:e.id}function s8(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=r,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var h=i8(l);u.forEach((m,x)=>{var p=s==null||i?x:String(ps(m,s,null)),v=ps(m,l.dataKey,0),y;o.has(p)?y=o.get(p):y={},Object.assign(y,{[h]:v}),o.set(p,y)})}}),Array.from(o.values())}function y3(e){return e.stackId!=null&&e.dataKey!=null}var Wy=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Ky(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function xae(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Ka=e=>{var t=On(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ym=e=>e.tooltip.settings.axisId;function c6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c6(Object(r),!0).forEach(function(n){vae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vae(e,t,r){return(t=yae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yae(e){var t=bae(e,"string");return typeof t=="symbol"?t:t+""}function bae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J5=[0,"auto"],eo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},o8=(e,t)=>e.cartesianAxis.xAxis[t],pu=(e,t)=>{var r=o8(e,t);return r??eo},to={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:J5,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:k0},l8=(e,t)=>e.cartesianAxis.yAxis[t],gu=(e,t)=>{var r=l8(e,t);return r??to},wae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},b3=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??wae},xs=(e,t,r)=>{switch(t){case"xAxis":return pu(e,r);case"yAxis":return gu(e,r);case"zAxis":return b3(e,r);case"angleAxis":return g3(e,r);case"radiusAxis":return x3(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},jae=(e,t,r)=>{switch(t){case"xAxis":return pu(e,r);case"yAxis":return gu(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},A0=(e,t,r)=>{switch(t){case"xAxis":return pu(e,r);case"yAxis":return gu(e,r);case"angleAxis":return g3(e,r);case"radiusAxis":return x3(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},c8=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function u8(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var d8=e=>e.graphicalItems.cartesianItems,Nae=yt([Wa,Vy],u8),h8=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),T0=yt([d8,xs,Nae],h8,{memoizeOptions:{resultEqualityCheck:Ky}}),f8=yt([T0],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(y3)),m8=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),_ae=yt([T0],m8),p8=e=>e.map(t=>t.data).filter(Boolean).flat(1),Sae=yt([T0],p8,{memoizeOptions:{resultEqualityCheck:Ky}}),g8=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},w3=yt([Sae,u3],g8),x8=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:ps(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:ps(i,n)}))):e.map(n=>({value:n})),Gy=yt([w3,xs,T0],x8);function v8(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function bx(e){if(oc(e)||e instanceof Date){var t=Number(e);if(oi(t))return t}}function u6(e){if(Array.isArray(e)){var t=[bx(e[0]),bx(e[1])];return kh(t)?t:void 0}var r=bx(e);if(r!=null)return[r,r]}function uu(e){return e.map(bx).filter(JX)}function kae(e,t,r){return!r||typeof t!="number"||au(t)?[]:r.length?uu(r.flatMap(n=>{var i=ps(e,n.dataKey),s,o;if(Array.isArray(i)?[s,o]=i:s=o=i,!(!oi(s)||!oi(o)))return[t-s,t+o]})):[]}var Ga=e=>{var t=Ka(e),r=ym(e);return A0(e,t,r)},y8=yt([Ga],e=>e==null?void 0:e.dataKey),Cae=yt([f8,u3,Ga],s8),b8=(e,t,r)=>{var n={},i=t.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[o,l]=s,c=l.map(i8);return[o,{stackedData:hQ(e,c,r),graphicalItems:l}]}))},Pae=yt([Cae,f8,Uy],b8),w8=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var o=pQ(e,i,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Eae=yt([xs],e=>e.allowDataOverflow),j3=e=>{var t;if(e==null||!("domain"in e))return J5;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=uu(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:J5},j8=yt([xs],j3),N8=yt([j8,Eae],zM),Dae=yt([Pae,yd,Wa,N8],w8,{memoizeOptions:{resultEqualityCheck:Wy}}),N3=e=>e.errorBars,Aae=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>v8(r,n)),Ev=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),o=Math.min(...s),l=Math.max(...s);return[o,l]}},_8=(e,t,r,n,i)=>{var s,o;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var u,h,m=(u=n[c.id])===null||u===void 0?void 0:u.filter(j=>v8(i,j)),x=ps(l,(h=t.dataKey)!==null&&h!==void 0?h:c.dataKey),p=kae(l,x,m);if(p.length>=2){var v=Math.min(...p),y=Math.max(...p);(s==null||v<s)&&(s=v),(o==null||y>o)&&(o=y)}var g=u6(x);g!=null&&(s=s==null?g[0]:Math.min(s,g[0]),o=o==null?g[1]:Math.max(o,g[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=u6(ps(l,t.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),oi(s)&&oi(o))return[s,o]},Tae=yt([w3,xs,_ae,N3,Wa],_8,{memoizeOptions:{resultEqualityCheck:Wy}});function Oae(e){var{value:t}=e;if(oc(t)||t instanceof Date)return t}var Lae=(e,t,r)=>{var n=e.map(Oae).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&GL(n))?nM(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},S8=e=>e.referenceElements.dots,bm=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Iae=yt([S8,Wa,Vy],bm),k8=e=>e.referenceElements.areas,Mae=yt([k8,Wa,Vy],bm),C8=e=>e.referenceElements.lines,Rae=yt([C8,Wa,Vy],bm),P8=(e,t)=>{var r=uu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},zae=yt(Iae,Wa,P8),E8=(e,t)=>{var r=uu(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Fae=yt([Mae,Wa],E8);function $ae(e){var t;if(e.x!=null)return uu([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:uu(r)}function Bae(e){var t;if(e.y!=null)return uu([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:uu(r)}var D8=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?$ae(n):Bae(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Uae=yt([Rae,Wa],D8),qae=yt(zae,Uae,Fae,(e,t,r)=>Ev(e,r,t)),A8=(e,t,r,n,i,s,o,l)=>{if(r!=null)return r;var c=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=c?Ev(n,s,i):Ev(s,i);return Qne(t,u,e.allowDataOverflow)},Hae=yt([xs,j8,N8,Dae,Tae,qae,On,Wa],A8,{memoizeOptions:{resultEqualityCheck:Wy}}),Vae=[0,1],T8=(e,t,r,n,i,s,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=gd(t,s);if(u&&l==null){var h;return nM(0,(h=r==null?void 0:r.length)!==null&&h!==void 0?h:0)}return c==="category"?Lae(n,e,u):i==="expand"?Vae:o}},_3=yt([xs,On,w3,Gy,Uy,Wa,Hae],T8),O8=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:o}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(N0(s));return l in vp?l:"point"}}},O0=yt([xs,On,c8,f3,Wa],O8);function Wae(e){if(e!=null){if(e in vp)return vp[e]();var t="scale".concat(N0(e));if(t in vp)return vp[t]()}}function S3(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=Wae(t);if(i!=null){var s=i.domain(r).range(n);return lQ(s),s}}}var L8=(e,t,r)=>{var n=j3(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&kh(e))return cae(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&kh(e))return uae(e,t.tickCount,t.allowDecimals)}},k3=yt([_3,A0,O0],L8),I8=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&kh(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],o=t[1],l=r[r.length-1];return[Math.min(i,s),Math.max(o,l)]}return t},Kae=yt([xs,_3,k3,Wa],I8),Gae=yt(Gy,xs,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(uu(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var o=n[s+1]-n[s];r=Math.min(r,o)}return r/i}}),M8=yt(Gae,On,dae,Ei,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!oi(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var o=dd(r,e*s),l=e*s/2;return l-o-(l-o)/s*o}return 0}),Yae=(e,t)=>{var r=pu(e,t);return r==null||typeof r.padding!="string"?0:M8(e,"xAxis",t,r.padding)},Xae=(e,t)=>{var r=gu(e,t);return r==null||typeof r.padding!="string"?0:M8(e,"yAxis",t,r.padding)},Jae=yt(pu,Yae,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),Zae=yt(gu,Xae,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),Qae=yt([Ei,Jae,Ay,Dy,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),eie=yt([Ei,On,Zae,Ay,Dy,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:o}=i;return s?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),L0=(e,t,r,n)=>{var i;switch(t){case"xAxis":return Qae(e,r,n);case"yAxis":return eie(e,r,n);case"zAxis":return(i=b3(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return r8(e);case"radiusAxis":return n8(e,r);default:return}},R8=yt([xs,L0],qy),wm=yt([xs,O0,Kae,R8],S3);yt([T0,N3,Wa],Aae);function z8(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Yy=(e,t)=>t,Xy=(e,t,r)=>r,tie=yt(Py,Yy,Xy,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(z8)),rie=yt(Ey,Yy,Xy,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(z8)),F8=(e,t)=>({width:e.width,height:t.height}),nie=(e,t)=>{var r=typeof t.width=="number"?t.width:k0;return{width:r,height:e.height}},aie=yt(Ei,pu,F8),iie=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},sie=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},oie=yt(fu,Ei,tie,Yy,Xy,(e,t,r,n,i)=>{var s={},o;return r.forEach(l=>{var c=F8(t,l);o==null&&(o=iie(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;s[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),s}),lie=yt(hu,Ei,rie,Yy,Xy,(e,t,r,n,i)=>{var s={},o;return r.forEach(l=>{var c=nie(t,l);o==null&&(o=sie(t,n,e));var u=n==="left"&&!i||n==="right"&&i;s[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),s}),cie=(e,t)=>{var r=pu(e,t);if(r!=null)return oie(e,r.orientation,r.mirror)},uie=yt([Ei,pu,cie,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),die=(e,t)=>{var r=gu(e,t);if(r!=null)return lie(e,r.orientation,r.mirror)},hie=yt([Ei,gu,die,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),fie=yt(Ei,gu,(e,t)=>{var r=typeof t.width=="number"?t.width:k0;return{width:r,height:e.height}}),$8=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:o}=r,l=gd(e,n),c=t.map(u=>u.value);if(o&&l&&s==="category"&&i&&GL(c))return c}},C3=yt([On,Gy,xs,Wa],$8),B8=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,o=gd(e,n);if(o&&(i==="number"||s!=="auto"))return t.map(l=>l.value)}},P3=yt([On,Gy,A0,Wa],B8);yt([On,jae,O0,wm,C3,P3,L0,k3,Wa],(e,t,r,n,i,s,o,l,c)=>{if(t!=null){var u=gd(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:n}}});var mie=(e,t,r,n,i,s,o,l,c)=>{if(!(t==null||n==null)){var u=gd(e,c),{type:h,ticks:m,tickCount:x}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=h==="category"&&n.bandwidth?n.bandwidth()/p:0;v=c==="angleAxis"&&s!=null&&s.length>=2?jl(s[0]-s[1])*2*v:v;var y=m||i;if(y){var g=y.map((j,k)=>{var w=o?o.indexOf(j):j;return{index:k,coordinate:n(w)+v,value:j,offset:v}});return g.filter(j=>oi(j.coordinate))}return u&&l?l.map((j,k)=>({coordinate:n(j)+v,value:j,index:k,offset:v})).filter(j=>oi(j.coordinate)):n.ticks?n.ticks(x).map(j=>({coordinate:n(j)+v,value:j,offset:v})):n.domain().map((j,k)=>({coordinate:n(j)+v,value:o?o[j]:j,index:k,offset:v}))}},U8=yt([On,A0,O0,wm,k3,L0,C3,P3,Wa],mie),pie=(e,t,r,n,i,s,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=gd(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?jl(n[0]-n[1])*2*u:u,l&&s?s.map((h,m)=>({coordinate:r(h)+u,value:h,index:m,offset:u})):r.ticks?r.ticks(c).map(h=>({coordinate:r(h)+u,value:h,offset:u})):r.domain().map((h,m)=>({coordinate:r(h)+u,value:i?i[h]:h,index:m,offset:u}))}},q8=yt([On,A0,wm,L0,C3,P3,Wa],pie),H8=yt(xs,wm,(e,t)=>{if(!(e==null||t==null))return Pv(Pv({},e),{},{scale:t})}),gie=yt([xs,O0,_3,R8],S3);yt((e,t,r)=>b3(e,r),gie,(e,t)=>{if(!(e==null||t==null))return Pv(Pv({},e),{},{scale:t})});var xie=yt([On,Py,Ey],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),V8=e=>e.options.defaultTooltipEventType,W8=e=>e.options.validateTooltipEventTypes;function K8(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function E3(e,t){var r=V8(e),n=W8(e);return K8(t,r,n)}function vie(e){return yr(t=>E3(t,e))}var G8=(e,t)=>{var r,n=Number(t);if(!(au(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},yie=e=>e.tooltip.settings,nd={active:!1,index:null,dataKey:void 0,coordinate:void 0},bie={itemInteraction:{click:nd,hover:nd},axisInteraction:{click:nd,hover:nd},keyboardInteraction:nd,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Y8=zs({name:"tooltip",initialState:bie,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ha()},removeTooltipEntrySettings:{reducer(e,t){var r=Jc(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ha()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:wie,removeTooltipEntrySettings:jie,setTooltipSettingsState:Nie,setActiveMouseOverItemIndex:_ie,mouseLeaveItem:Oxe,mouseLeaveChart:X8,setActiveClickItemIndex:Lxe,setMouseOverAxisIndex:J8,setMouseClickAxisIndex:Sie,setSyncInteraction:Z5,setKeyboardInteraction:Q5}=Y8.actions,kie=Y8.reducer;function d6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d6(Object(r),!0).forEach(function(n){Cie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cie(e,t,r){return(t=Pie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pie(e){var t=Eie(e,"string");return typeof t=="symbol"?t:t+""}function Eie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Die(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Aie(e){return e.index!=null}var Z8=(e,t,r,n)=>{if(t==null)return nd;var i=Die(e,t,r);if(i==null)return nd;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Aie(i)){if(s)return Zg(Zg({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Zg(Zg({},nd),{},{coordinate:i.coordinate})},D3=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!oi(n))return r;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(n,s)))},Q8=(e,t,r,n,i,s,o,l)=>{if(!(s==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var h=i==null?void 0:i[Number(s)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},eR=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.dataKey)===i})},I0=e=>e.options.tooltipPayloadSearcher,jm=e=>e.tooltip;function h6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function f6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h6(Object(r),!0).forEach(function(n){Tie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tie(e,t,r){return(t=Oie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oie(e){var t=Lie(e,"string");return typeof t=="symbol"?t:t+""}function Lie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iie(e,t){return e??t}var tR=(e,t,r,n,i,s,o)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:h}=r,m=[];return e.reduce((x,p)=>{var v,{dataDefinedOnItem:y,settings:g}=p,j=Iie(y,l),k=Array.isArray(j)?zI(j,u,h):j,w=(v=g==null?void 0:g.dataKey)!==null&&v!==void 0?v:n,E=g==null?void 0:g.nameKey,O;if(n&&Array.isArray(k)&&!Array.isArray(k[0])&&o==="axis"?O=YL(k,n,i):O=s(k,t,c,E),Array.isArray(O))O.forEach(Y=>{var B=f6(f6({},g),{},{name:Y.name,unit:Y.unit,color:void 0,fill:void 0});x.push(UC({tooltipEntrySettings:B,dataKey:Y.dataKey,payload:Y.payload,value:ps(Y.payload,Y.dataKey),name:Y.name}))});else{var z;x.push(UC({tooltipEntrySettings:g,dataKey:w,payload:O,value:ps(O,w),name:(z=ps(O,E))!==null&&z!==void 0?z:g==null?void 0:g.name}))}return x},m)}},A3=yt([Ga,On,c8,f3,Ka],O8),Mie=yt([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Rie=yt([Ka,ym],u8),M0=yt([Mie,Ga,Rie],h8,{memoizeOptions:{resultEqualityCheck:Ky}}),zie=yt([M0],e=>e.filter(y3)),Fie=yt([M0],p8,{memoizeOptions:{resultEqualityCheck:Ky}}),Nm=yt([Fie,yd],g8),$ie=yt([zie,yd,Ga],s8),T3=yt([Nm,Ga,M0],x8),rR=yt([Ga],j3),Bie=yt([Ga],e=>e.allowDataOverflow),nR=yt([rR,Bie],zM),Uie=yt([M0],e=>e.filter(y3)),qie=yt([$ie,Uie,Uy],b8),Hie=yt([qie,yd,Ka,nR],w8),Vie=yt([M0],m8),Wie=yt([Nm,Ga,Vie,N3,Ka],_8,{memoizeOptions:{resultEqualityCheck:Wy}}),Kie=yt([S8,Ka,ym],bm),Gie=yt([Kie,Ka],P8),Yie=yt([k8,Ka,ym],bm),Xie=yt([Yie,Ka],E8),Jie=yt([C8,Ka,ym],bm),Zie=yt([Jie,Ka],D8),Qie=yt([Gie,Zie,Xie],Ev),ese=yt([Ga,rR,nR,Hie,Wie,Qie,On,Ka],A8),aR=yt([Ga,On,Nm,T3,Uy,Ka,ese],T8),tse=yt([aR,Ga,A3],L8),rse=yt([Ga,aR,tse,Ka],I8),iR=e=>{var t=Ka(e),r=ym(e),n=!1;return L0(e,t,r,n)},sR=yt([Ga,iR],qy),oR=yt([Ga,A3,rse,sR],S3),nse=yt([On,T3,Ga,Ka],$8),ase=yt([On,T3,Ga,Ka],B8),ise=(e,t,r,n,i,s,o,l)=>{if(t){var{type:c}=t,u=gd(e,l);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=c==="category"&&n.bandwidth?n.bandwidth()/h:0;return m=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?jl(i[0]-i[1])*2*m:m,u&&o?o.map((x,p)=>({coordinate:n(x)+m,value:x,index:p,offset:m})):n.domain().map((x,p)=>({coordinate:n(x)+m,value:s?s[x]:x,index:p,offset:m}))}}},xu=yt([On,Ga,A3,oR,iR,nse,ase,Ka],ise),O3=yt([V8,W8,yie],(e,t,r)=>K8(r.shared,e,t)),lR=e=>e.tooltip.settings.trigger,L3=e=>e.tooltip.settings.defaultIndex,Jy=yt([jm,O3,lR,L3],Z8),i0=yt([Jy,Nm],D3),cR=yt([xu,i0],G8),sse=yt([Jy],e=>{if(e)return e.dataKey}),uR=yt([jm,O3,lR,L3],eR),ose=yt([hu,fu,On,Ei,xu,L3,uR,I0],Q8),lse=yt([Jy,ose],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),cse=yt([Jy],e=>e.active),use=yt([uR,i0,yd,y8,cR,I0,O3],tR),dse=yt([use],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function m6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function p6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m6(Object(r),!0).forEach(function(n){hse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hse(e,t,r){return(t=fse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fse(e){var t=mse(e,"string");return typeof t=="symbol"?t:t+""}function mse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pse=()=>yr(Ga),gse=()=>{var e=pse(),t=yr(xu),r=yr(oR);return hv(!e||!r?void 0:p6(p6({},e),{},{scale:r}),t)};function g6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g6(Object(r),!0).forEach(function(n){xse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xse(e,t,r){return(t=vse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vse(e){var t=yse(e,"string");return typeof t=="symbol"?t:t+""}function yse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bse=(e,t,r,n)=>{var i=t.find(s=>s&&s.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},wse=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var s=i.coordinate,{radius:o}=n;return gf(gf(gf({},n),Ci(n.cx,n.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,{angle:c}=n;return gf(gf(gf({},n),Ci(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function jse(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var dR=(e,t,r,n,i)=>{var s,o=-1,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,h=r[c].coordinate,m=c>=l-1?r[0].coordinate:r[c+1].coordinate,x=void 0;if(jl(h-u)!==jl(m-h)){var p=[];if(jl(m-h)===jl(i[1]-i[0])){x=m;var v=h+i[1]-i[0];p[0]=Math.min(v,(v+u)/2),p[1]=Math.max(v,(v+u)/2)}else{x=u;var y=m+i[1]-i[0];p[0]=Math.min(h,(y+h)/2),p[1]=Math.max(h,(y+h)/2)}var g=[Math.min(h,(x+h)/2),Math.max(h,(x+h)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){({index:o}=r[c]);break}}else{var j=Math.min(u,m),k=Math.max(u,m);if(e>(j+h)/2&&e<=(k+h)/2){({index:o}=r[c]);break}}}else if(t){for(var w=0;w<l;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:o}=t[w]);break}}return o},Nse=()=>yr(f3),I3=(e,t)=>t,hR=(e,t,r)=>r,M3=(e,t,r,n)=>n,_se=yt(xu,e=>jy(e,t=>t.coordinate)),R3=yt([jm,I3,hR,M3],Z8),fR=yt([R3,Nm],D3),Sse=(e,t,r)=>{if(t!=null){var n=jm(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},mR=yt([jm,I3,hR,M3],eR),Dv=yt([hu,fu,On,Ei,xu,M3,mR,I0],Q8),kse=yt([R3,Dv],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),pR=yt([xu,fR],G8),Cse=yt([mR,fR,yd,y8,pR,I0,I3],tR),Pse=yt([R3],e=>({isActive:e.active,activeIndex:e.index})),Ese=(e,t,r,n,i,s,o)=>{if(!(!e||!r||!n||!i)&&jse(e,o)){var l=gQ(e,t),c=dR(l,s,i,r,n),u=bse(t,i,c,e);return{activeIndex:String(c),activeCoordinate:u}}},Dse=(e,t,r,n,i,s,o)=>{if(!(!e||!n||!i||!s||!r)){var l=mte(e,r);if(l){var c=xQ(l,t),u=dR(c,o,s,n,i),h=wse(t,s,u,l);return{activeIndex:String(u),activeCoordinate:h}}}},Ase=(e,t,r,n,i,s,o,l)=>{if(!(!e||!t||!n||!i||!s))return t==="horizontal"||t==="vertical"?Ese(e,t,n,i,s,o,l):Dse(e,t,r,n,i,s,o)},Tse=yt(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),Ose=yt(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Rs)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:xae}});function x6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function v6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x6(Object(r),!0).forEach(function(n){Lse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lse(e,t,r){return(t=Ise(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ise(e){var t=Mse(e,"string");return typeof t=="symbol"?t:t+""}function Mse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rse={},zse={zIndexMap:Object.values(Rs).reduce((e,t)=>v6(v6({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Rse)},Fse=new Set(Object.values(Rs));function $se(e){return Fse.has(e)}var gR=zs({name:"zIndex",initialState:zse,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ha()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!$se(r)&&delete e.zIndexMap[r])},prepare:Ha()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:Ha()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Ha()}}}),{registerZIndexPortal:Bse,unregisterZIndexPortal:Use,registerZIndexPortalId:qse,unregisterZIndexPortalId:Hse}=gR.actions,Vse=gR.reducer;function bd(e){var{zIndex:t,children:r}=e,n=ZQ(),i=n&&t!==void 0&&t!==0,s=vo(),o=ui();_.useLayoutEffect(()=>i?(o(Bse({zIndex:t})),()=>{o(Use({zIndex:t}))}):mm,[o,t,i]);var l=yr(u=>Tse(u,t,s));if(!i)return r;if(!l)return null;var c=document.getElementById(l);return c?Na.createPortal(r,c):null}function ej(){return ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ej.apply(null,arguments)}function y6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y6(Object(r),!0).forEach(function(n){Wse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wse(e,t,r){return(t=Kse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kse(e){var t=Gse(e,"string");return typeof t=="symbol"?t:t+""}function Gse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yse(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return _.isValidElement(t)?_.cloneElement(t,n):_.createElement(r,n)}function Xse(e){var t,{coordinate:r,payload:n,index:i,offset:s,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:u,chartName:h}=e,m=r,x=n,p=i;if(!c||!m||h!=="ScatterChart"&&u!=="axis")return null;var v,y,g;if(h==="ScatterChart")v=m,y=Eee,g=Rs.cursorLine;else if(h==="BarChart")v=Dee(l,m,s,o),y=QI,g=Rs.cursorRectangle;else if(l==="radial"&&ZL(m)){var{cx:j,cy:k,radius:w,startAngle:E,endAngle:O}=eM(m);v={cx:j,cy:k,startAngle:E,endAngle:O,innerRadius:w,outerRadius:w},y=rM,g=Rs.cursorLine}else v={points:vte(l,m,s)},y=GI,g=Rs.cursorLine;var z=typeof c=="object"&&"className"in c?c.className:void 0,Y=Qg(Qg(Qg(Qg({stroke:"#ccc",pointerEvents:"none"},s),v),xy(c)),{},{payload:x,payloadIndex:p,className:fn("recharts-tooltip-cursor",z)});return _.createElement(bd,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:g},_.createElement(Yse,{cursor:c,cursorComp:y,cursorProps:Y}))}function Jse(e){var t=gse(),r=YQ(),n=Oy(),i=Nse();return t==null||r==null||n==null||i==null?null:_.createElement(Xse,ej({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var xR=_.createContext(null),Zse=()=>_.useContext(xR),Vw={exports:{}},b6;function Qse(){return b6||(b6=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,h){this.fn=c,this.context=u,this.once=h||!1}function s(c,u,h,m,x){if(typeof h!="function")throw new TypeError("The listener must be a function");var p=new i(h,m||c,x),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],h,m;if(this._eventsCount===0)return u;for(m in h=this._events)t.call(h,m)&&u.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},l.prototype.listeners=function(u){var h=r?r+u:u,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var x=0,p=m.length,v=new Array(p);x<p;x++)v[x]=m[x].fn;return v},l.prototype.listenerCount=function(u){var h=r?r+u:u,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(u,h,m,x,p,v){var y=r?r+u:u;if(!this._events[y])return!1;var g=this._events[y],j=arguments.length,k,w;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),j){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,h),!0;case 3:return g.fn.call(g.context,h,m),!0;case 4:return g.fn.call(g.context,h,m,x),!0;case 5:return g.fn.call(g.context,h,m,x,p),!0;case 6:return g.fn.call(g.context,h,m,x,p,v),!0}for(w=1,k=new Array(j-1);w<j;w++)k[w-1]=arguments[w];g.fn.apply(g.context,k)}else{var E=g.length,O;for(w=0;w<E;w++)switch(g[w].once&&this.removeListener(u,g[w].fn,void 0,!0),j){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,h);break;case 3:g[w].fn.call(g[w].context,h,m);break;case 4:g[w].fn.call(g[w].context,h,m,x);break;default:if(!k)for(O=1,k=new Array(j-1);O<j;O++)k[O-1]=arguments[O];g[w].fn.apply(g[w].context,k)}}return!0},l.prototype.on=function(u,h,m){return s(this,u,h,m,!1)},l.prototype.once=function(u,h,m){return s(this,u,h,m,!0)},l.prototype.removeListener=function(u,h,m,x){var p=r?r+u:u;if(!this._events[p])return this;if(!h)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===h&&(!x||v.once)&&(!m||v.context===m)&&o(this,p);else{for(var y=0,g=[],j=v.length;y<j;y++)(v[y].fn!==h||x&&!v[y].once||m&&v[y].context!==m)&&g.push(v[y]);g.length?this._events[p]=g.length===1?g[0]:g:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var h;return u?(h=r?r+u:u,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l}(Vw)),Vw.exports}var eoe=Qse();const toe=Wo(eoe);var s0=new toe,tj="recharts.syncEvent.tooltip",w6="recharts.syncEvent.brush";function roe(e,t){if(t){var r=Number.parseInt(t,10);if(!au(r))return e==null?void 0:e[r]}}var noe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},vR=zs({name:"options",initialState:noe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),aoe=vR.reducer,{createEventEmitter:ioe}=vR.actions;function soe(e){return e.tooltip.syncInteraction}var ooe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},yR=zs({name:"chartData",initialState:ooe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:j6,setDataStartEndIndexes:loe,setComputedData:Ixe}=yR.actions,coe=yR.reducer,uoe=["x","y"];function N6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N6(Object(r),!0).forEach(function(n){doe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function doe(e,t,r){return(t=hoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hoe(e){var t=foe(e,"string");return typeof t=="symbol"?t:t+""}function foe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function moe(e,t){if(e==null)return{};var r,n,i=poe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function poe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function goe(){var e=yr(m3),t=yr(p3),r=ui(),n=yr(QM),i=yr(xu),s=Oy(),o=Ty(),l=yr(c=>c.rootProps.className);_.useEffect(()=>{if(e==null)return mm;var c=(u,h,m)=>{if(t!==m&&e===u){if(n==="index"){var x;if(o&&h!==null&&h!==void 0&&(x=h.payload)!==null&&x!==void 0&&x.coordinate&&h.payload.sourceViewBox){var p=h.payload.coordinate,{x:v,y}=p,g=moe(p,uoe),{x:j,y:k,width:w,height:E}=h.payload.sourceViewBox,O=xf(xf({},g),{},{x:o.x+(w?(v-j)/w:0)*o.width,y:o.y+(E?(y-k)/E:0)*o.height});r(xf(xf({},h),{},{payload:xf(xf({},h.payload),{},{coordinate:O})}))}else r(h);return}if(i!=null){var z;if(typeof n=="function"){var Y={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},B=n(i,Y);z=i[B]}else n==="value"&&(z=i.find(ee=>String(ee.value)===h.payload.label));var{coordinate:$}=h.payload;if(z==null||h.payload.active===!1||$==null||o==null){r(Z5({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:T,y:A}=$,R=Math.min(T,o.x+o.width),L=Math.min(A,o.y+o.height),q={x:s==="horizontal"?z.coordinate:R,y:s==="horizontal"?L:z.coordinate},W=Z5({active:h.payload.active,coordinate:q,dataKey:h.payload.dataKey,index:String(z.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});r(W)}}};return s0.on(tj,c),()=>{s0.off(tj,c)}},[l,r,t,e,n,i,s,o])}function xoe(){var e=yr(m3),t=yr(p3),r=ui();_.useEffect(()=>{if(e==null)return mm;var n=(i,s,o)=>{t!==o&&e===i&&r(loe(s))};return s0.on(w6,n),()=>{s0.off(w6,n)}},[r,t,e])}function voe(){var e=ui();_.useEffect(()=>{e(ioe())},[e]),goe(),xoe()}function yoe(e,t,r,n,i,s){var o=yr(p=>Sse(p,e,t)),l=yr(p3),c=yr(m3),u=yr(QM),h=yr(soe),m=h==null?void 0:h.active,x=Ty();_.useEffect(()=>{if(!m&&c!=null&&l!=null){var p=Z5({active:s,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:x});s0.emit(tj,c,p,l)}},[m,r,o,i,n,l,c,u,s,x])}function _6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function S6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_6(Object(r),!0).forEach(function(n){boe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function boe(e,t,r){return(t=woe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function woe(e){var t=joe(e,"string");return typeof t=="symbol"?t:t+""}function joe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Noe(e){return e.dataKey}function _oe(e,t){return _.isValidElement(e)?_.cloneElement(e,t):typeof e=="function"?_.createElement(e,t):_.createElement(oee,t)}var k6=[],Soe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!pm.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function koe(e){var t,r,n=xo(e,Soe),{active:i,allowEscapeViewBox:s,animationDuration:o,animationEasing:l,content:c,filterNull:u,isAnimationActive:h,offset:m,payloadUniqBy:x,position:p,reverseDirection:v,useTranslate3d:y,wrapperStyle:g,cursor:j,shared:k,trigger:w,defaultIndex:E,portal:O,axisId:z}=n,Y=ui(),B=typeof E=="number"?String(E):E;_.useEffect(()=>{Y(Nie({shared:k,trigger:w,axisId:z,active:i,defaultIndex:B}))},[Y,k,w,z,i,B]);var $=Ty(),T=KI(),A=vie(k),{activeIndex:R,isActive:L}=(t=yr(ce=>Pse(ce,A,w,B)))!==null&&t!==void 0?t:{},q=yr(ce=>Cse(ce,A,w,B)),W=yr(ce=>pR(ce,A,w,B)),ee=yr(ce=>kse(ce,A,w,B)),M=q,V=Zse(),U=(r=i??L)!==null&&r!==void 0?r:!1,[I,H]=oZ([M,U]),D=A==="axis"?W:void 0;yoe(A,w,ee,D,R,U);var G=O??V;if(G==null||$==null||A==null)return null;var Z=M??k6;U||(Z=k6),u&&Z.length&&(Z=OJ(Z.filter(ce=>ce.value!=null&&(ce.hide!==!0||n.includeHidden)),x,Noe));var P=Z.length>0,re=_.createElement(mee,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:U,coordinate:ee,hasPayload:P,offset:m,position:p,reverseDirection:v,useTranslate3d:y,viewBox:$,wrapperStyle:g,lastBoundingBox:I,innerRef:H,hasPortalFromProps:!!O},_oe(c,S6(S6({},n),{},{payload:Z,label:D,active:U,activeIndex:R,coordinate:ee,accessibilityLayer:T})));return _.createElement(_.Fragment,null,Na.createPortal(re,G),U&&_.createElement(Jse,{cursor:j,tooltipEventType:A,coordinate:ee,payload:Z,index:R}))}function Coe(e,t,r){return(t=Poe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Poe(e){var t=Eoe(e,"string");return typeof t=="symbol"?t:t+""}function Eoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Doe{constructor(t){Coe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function C6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Aoe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C6(Object(r),!0).forEach(function(n){Toe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Toe(e,t,r){return(t=Ooe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ooe(e){var t=Loe(e,"string");return typeof t=="symbol"?t:t+""}function Loe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ioe={cacheSize:2e3,enableCache:!0},bR=Aoe({},Ioe),P6=new Doe(bR.cacheSize),Moe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},E6="recharts_measurement_span";function Roe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(o,"|").concat(l)}var D6=(e,t)=>{try{var r=document.getElementById(E6);r||(r=document.createElement("span"),r.setAttribute("id",E6),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Moe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Ep=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||pm.isSsr)return{width:0,height:0};if(!bR.enableCache)return D6(t,r);var n=Roe(t,r),i=P6.get(n);if(i)return i;var s=D6(t,r);return P6.set(n,s),s},A6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,T6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zoe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Foe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$oe=Object.keys(wR),Lf="NaN";function Boe(e,t){return e*wR[t]}class Ls{static parse(t){var r,[,n,i]=(r=Foe.exec(t))!==null&&r!==void 0?r:[];return new Ls(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,au(t)&&(this.unit=""),r!==""&&!zoe.test(r)&&(this.num=NaN,this.unit=""),$oe.includes(r)&&(this.num=Boe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ls(NaN,""):new Ls(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ls(NaN,""):new Ls(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ls(NaN,""):new Ls(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ls(NaN,""):new Ls(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return au(this.num)}}function jR(e){if(e.includes(Lf))return Lf;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=A6.exec(t))!==null&&r!==void 0?r:[],o=Ls.parse(n??""),l=Ls.parse(s??""),c=i==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Lf;t=t.replace(A6,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,h,m,x]=(u=T6.exec(t))!==null&&u!==void 0?u:[],p=Ls.parse(h??""),v=Ls.parse(x??""),y=m==="+"?p.add(v):p.subtract(v);if(y.isNaN())return Lf;t=t.replace(T6,y.toString())}return t}var O6=/\(([^()]*)\)/;function Uoe(e){for(var t=e,r;(r=O6.exec(t))!=null;){var[,n]=r;t=t.replace(O6,jR(n))}return t}function qoe(e){var t=e.replace(/\s+/g,"");return t=Uoe(t),t=jR(t),t}function Hoe(e){try{return qoe(e)}catch{return Lf}}function Ww(e){var t=Hoe(e.slice(5,-1));return t===Lf?"":t}var Voe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Woe=["dx","dy","angle","className","breakAll"];function rj(){return rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rj.apply(null,arguments)}function L6(e,t){if(e==null)return{};var r,n,i=Koe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Koe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NR=/[ \f\n\r\t\v\u2028\u2029]+/,_R=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];si(t)||(r?i=t.toString().split(""):i=t.toString().split(NR));var s=i.map(l=>({word:l,width:Ep(l,n).width})),o=r?0:Ep("",n).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}};function Goe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var SR=(e,t,r,n)=>e.reduce((i,s)=>{var{word:o,width:l}=s,c=i[i.length-1];if(c&&l!=null&&(t==null||n||c.width+l+r<Number(t)))c.words.push(o),c.width+=l+r;else{var u={words:[o],width:l};i.push(u)}return i},[]),kR=e=>e.reduce((t,r)=>t.width>r.width?t:r),Yoe="",I6=(e,t,r,n,i,s,o,l)=>{var c=e.slice(0,t),u=_R({breakAll:r,style:n,children:c+Yoe});if(!u)return[!1,[]];var h=SR(u.wordsWithComputedWidth,s,o,l),m=h.length>i||kR(h).width>Number(s);return[m,h]},Xoe=(e,t,r,n,i)=>{var{maxLines:s,children:o,style:l,breakAll:c}=e,u=Sr(s),h=String(o),m=SR(t,n,r,i);if(!u||i)return m;var x=m.length>s||kR(m).width>Number(n);if(!x)return m;for(var p=0,v=h.length-1,y=0,g;p<=v&&y<=h.length-1;){var j=Math.floor((p+v)/2),k=j-1,[w,E]=I6(h,k,c,l,s,n,r,i),[O]=I6(h,j,c,l,s,n,r,i);if(!w&&!O&&(p=j+1),w&&O&&(v=j-1),!w&&O){g=E;break}y++}return g||m},M6=e=>{var t=si(e)?[]:e.toString().split(NR);return[{words:t,width:void 0}]},Joe=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:o}=e;if((t||r)&&!pm.isSsr){var l,c,u=_R({breakAll:s,children:n,style:i});if(u){var{wordsWithComputedWidth:h,spaceWidth:m}=u;l=h,c=m}else return M6(n);return Xoe({breakAll:s,children:n,maxLines:o,style:i},l,c,t,!!r)}return M6(n)},CR="#808080",Zoe={breakAll:!1,capHeight:"0.71em",fill:CR,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},z3=_.forwardRef((e,t)=>{var r=xo(e,Zoe),{x:n,y:i,lineHeight:s,capHeight:o,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:h}=r,m=L6(r,Voe),x=_.useMemo(()=>Joe({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:c,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,c,m.style,m.width]),{dx:p,dy:v,angle:y,className:g,breakAll:j}=m,k=L6(m,Woe);if(!oc(n)||!oc(i)||x.length===0)return null;var w=Number(n)+(Sr(p)?p:0),E=Number(i)+(Sr(v)?v:0);if(!oi(w)||!oi(E))return null;var O;switch(h){case"start":O=Ww("calc(".concat(o,")"));break;case"middle":O=Ww("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:O=Ww("calc(".concat(x.length-1," * -").concat(s,")"));break}var z=[];if(c){var Y=x[0].width,{width:B}=m;z.push("scale(".concat(Sr(B)&&Sr(Y)?B/Y:1,")"))}return y&&z.push("rotate(".concat(y,", ").concat(w,", ").concat(E,")")),z.length&&(k.transform=z.join(" ")),_.createElement("text",rj({},gs(k),{ref:t,x:w,y:E,className:fn("recharts-text",g),textAnchor:u,fill:l.includes("url")?CR:l}),x.map(($,T)=>{var A=$.words.join(j?"":" ");return _.createElement("tspan",{x:w,dy:T===0?O:s,key:"".concat(A,"-").concat(T)},A)}))});z3.displayName="Text";var Qoe=["labelRef"];function ele(e,t){if(e==null)return{};var r,n,i=tle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function R6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R6(Object(r),!0).forEach(function(n){rle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rle(e,t,r){return(t=nle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nle(e){var t=ale(e,"string");return typeof t=="symbol"?t:t+""}function ale(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vc.apply(null,arguments)}var PR=_.createContext(null),ile=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:s,height:o,children:l}=e,c=_.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:s,height:o}),[t,r,n,i,s,o]);return _.createElement(PR.Provider,{value:c},l)},ER=()=>{var e=_.useContext(PR),t=Ty();return e||VI(t)},sle=_.createContext(null),ole=()=>{var e=_.useContext(sle),t=yr(a8);return e||t},lle=e=>{var{value:t,formatter:r}=e,n=si(e.children)?t:e.children;return typeof r=="function"?r(n):n},F3=e=>e!=null&&typeof e=="function",cle=(e,t)=>{var r=jl(t-e),n=Math.min(Math.abs(t-e),360);return r*n},ule=(e,t,r,n,i)=>{var{offset:s,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:h,startAngle:m,endAngle:x,clockWise:p}=i,v=(u+h)/2,y=cle(m,x),g=y>=0?1:-1,j,k;switch(t){case"insideStart":j=m+g*s,k=p;break;case"insideEnd":j=x-g*s,k=!p;break;case"end":j=x+g*s,k=p;break;default:throw new Error("Unsupported position ".concat(t))}k=y<=0?k:!k;var w=Ci(l,c,v,j),E=Ci(l,c,v,j+(k?1:-1)*359),O="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(k?0:1,`,
    `).concat(E.x,",").concat(E.y),z=si(e.id)?Yp("recharts-radial-line-"):e.id;return _.createElement("text",Vc({},n,{dominantBaseline:"central",className:fn("recharts-radial-bar-label",o)}),_.createElement("defs",null,_.createElement("path",{id:z,d:O})),_.createElement("textPath",{xlinkHref:"#".concat(z)},r))},dle=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:h,y:m}=Ci(n,i,o+t,u);return{x:h,y:m,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var x=(s+o)/2,{x:p,y:v}=Ci(n,i,x,u);return{x:p,y:v,textAnchor:"middle",verticalAnchor:"middle"}},nj=e=>"cx"in e&&Sr(e.cx),hle=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,s;r!=null&&!nj(r)&&(s=r);var{x:o,y:l,upperWidth:c,lowerWidth:u,height:h}=t,m=o,x=o+(c-u)/2,p=(m+x)/2,v=(c+u)/2,y=m+c/2,g=h>=0?1:-1,j=g*n,k=g>0?"end":"start",w=g>0?"start":"end",E=c>=0?1:-1,O=E*n,z=E>0?"end":"start",Y=E>0?"start":"end";if(i==="top"){var B={x:m+c/2,y:l-j,textAnchor:"middle",verticalAnchor:k};return va(va({},B),s?{height:Math.max(l-s.y,0),width:c}:{})}if(i==="bottom"){var $={x:x+u/2,y:l+h+j,textAnchor:"middle",verticalAnchor:w};return va(va({},$),s?{height:Math.max(s.y+s.height-(l+h),0),width:u}:{})}if(i==="left"){var T={x:p-O,y:l+h/2,textAnchor:z,verticalAnchor:"middle"};return va(va({},T),s?{width:Math.max(T.x-s.x,0),height:h}:{})}if(i==="right"){var A={x:p+v+O,y:l+h/2,textAnchor:Y,verticalAnchor:"middle"};return va(va({},A),s?{width:Math.max(s.x+s.width-A.x,0),height:h}:{})}var R=s?{width:v,height:h}:{};return i==="insideLeft"?va({x:p+O,y:l+h/2,textAnchor:Y,verticalAnchor:"middle"},R):i==="insideRight"?va({x:p+v-O,y:l+h/2,textAnchor:z,verticalAnchor:"middle"},R):i==="insideTop"?va({x:m+c/2,y:l+j,textAnchor:"middle",verticalAnchor:w},R):i==="insideBottom"?va({x:x+u/2,y:l+h-j,textAnchor:"middle",verticalAnchor:k},R):i==="insideTopLeft"?va({x:m+O,y:l+j,textAnchor:Y,verticalAnchor:w},R):i==="insideTopRight"?va({x:m+c-O,y:l+j,textAnchor:z,verticalAnchor:w},R):i==="insideBottomLeft"?va({x:x+O,y:l+h-j,textAnchor:Y,verticalAnchor:k},R):i==="insideBottomRight"?va({x:x+u-O,y:l+h-j,textAnchor:z,verticalAnchor:k},R):i&&typeof i=="object"&&(Sr(i.x)||iu(i.x))&&(Sr(i.y)||iu(i.y))?va({x:o+dd(i.x,v),y:l+dd(i.y,h),textAnchor:"end",verticalAnchor:"end"},R):va({x:y,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},R)},fle={offset:5,zIndex:Rs.label};function td(e){var t=xo(e,fle),{viewBox:r,position:n,value:i,children:s,content:o,className:l="",textBreakAll:c,labelRef:u}=t,h=ole(),m=ER(),x=n==="center"?m:h??m,p,v,y;if(r==null?p=x:nj(r)?p=r:p=VI(r),!p||si(i)&&si(s)&&!_.isValidElement(o)&&typeof o!="function")return null;var g=va(va({},t),{},{viewBox:p});if(_.isValidElement(o)){var{labelRef:j}=g,k=ele(g,Qoe);return _.cloneElement(o,k)}if(typeof o=="function"){if(v=_.createElement(o,g),_.isValidElement(v))return v}else v=lle(t);var w=gs(t);if(nj(p)){if(n==="insideStart"||n==="insideEnd"||n==="end")return ule(t,n,v,w,p);y=dle(p,t.offset,t.position)}else y=hle(t,p);return _.createElement(bd,{zIndex:t.zIndex},_.createElement(z3,Vc({ref:u,className:fn("recharts-label",l)},w,y,{textAnchor:Goe(w.textAnchor)?w.textAnchor:y.textAnchor,breakAll:c}),v))}td.displayName="Label";var mle=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?_.createElement(td,Vc({key:"label-implicit"},n)):oc(e)?_.createElement(td,Vc({key:"label-implicit",value:e},n)):_.isValidElement(e)?e.type===td?_.cloneElement(e,va({key:"label-implicit"},n)):_.createElement(td,Vc({key:"label-implicit",content:e},n)):F3(e)?_.createElement(td,Vc({key:"label-implicit",content:e},n)):e&&typeof e=="object"?_.createElement(td,Vc({},e,{key:"label-implicit"},n)):null};function ple(e){var{label:t,labelRef:r}=e,n=ER();return mle(t,n,r)||null}var Kw={},Gw={},z6;function gle(){return z6||(z6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t}(Gw)),Gw}var Yw={},F6;function xle(){return F6||(F6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t}(Yw)),Yw}var $6;function vle(){return $6||($6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gle(),r=xle(),n=AN();function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i}(Kw)),Kw}var Xw,B6;function yle(){return B6||(B6=1,Xw=vle().last),Xw}var ble=yle();const wle=Wo(ble);var jle=["valueAccessor"],Nle=["dataKey","clockWise","id","textBreakAll","zIndex"];function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(null,arguments)}function U6(e,t){if(e==null)return{};var r,n,i=_le(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _le(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Sle=e=>Array.isArray(e.value)?wle(e.value):e.value,DR=_.createContext(void 0),kle=DR.Provider,AR=_.createContext(void 0);AR.Provider;function Cle(){return _.useContext(DR)}function Ple(){return _.useContext(AR)}function wx(e){var{valueAccessor:t=Sle}=e,r=U6(e,jle),{dataKey:n,clockWise:i,id:s,textBreakAll:o,zIndex:l}=r,c=U6(r,Nle),u=Cle(),h=Ple(),m=u||h;return!m||!m.length?null:_.createElement(bd,{zIndex:l??Rs.label},_.createElement(ud,{className:"recharts-label-list"},m.map((x,p)=>{var v,y=si(n)?t(x,p):ps(x&&x.payload,n),g=si(s)?{}:{id:"".concat(s,"-").concat(p)};return _.createElement(td,Av({key:"label-".concat(p)},gs(x),c,g,{fill:(v=r.fill)!==null&&v!==void 0?v:x.fill,parentViewBox:x.parentViewBox,value:y,textBreakAll:o,viewBox:x.viewBox,index:p,zIndex:0}))})))}wx.displayName="LabelList";function Ele(e){var{label:t}=e;return t?t===!0?_.createElement(wx,{key:"labelList-implicit"}):_.isValidElement(t)||F3(t)?_.createElement(wx,{key:"labelList-implicit",content:t}):typeof t=="object"?_.createElement(wx,Av({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function aj(){return aj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aj.apply(null,arguments)}var TR=e=>{var{cx:t,cy:r,r:n,className:i}=e,s=fn("recharts-dot",i);return Sr(t)&&Sr(r)&&Sr(n)?_.createElement("circle",aj({},nu(e),DN(e),{className:s,cx:t,cy:r,r:n})):null},Dle={radiusAxis:{},angleAxis:{}},OR=zs({name:"polarAxis",initialState:Dle,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Mxe,removeRadiusAxis:Rxe,addAngleAxis:zxe,removeAngleAxis:Fxe}=OR.actions,Ale=OR.reducer,LR=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Jw={},q6;function Tle(){return q6||(q6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t}(Jw)),Jw}var Zw,H6;function Ole(){return H6||(H6=1,Zw=Tle().isPlainObject),Zw}var Lle=Ole();const Ile=Wo(Lle);function V6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function W6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V6(Object(r),!0).forEach(function(n){Mle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mle(e,t,r){return(t=Rle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rle(e){var t=zle(e,"string");return typeof t=="symbol"?t:t+""}function zle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tv.apply(null,arguments)}var K6=(e,t,r,n,i)=>{var s=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-s/2,",").concat(t+i),o+="L ".concat(e+r-s/2-n,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},Fle={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$le=e=>{var t=xo(e,Fle),{x:r,y:n,upperWidth:i,lowerWidth:s,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:h,isUpdateAnimationActive:m}=t,x=_.useRef(null),[p,v]=_.useState(-1),y=_.useRef(i),g=_.useRef(s),j=_.useRef(o),k=_.useRef(r),w=_.useRef(n),E=$N(e,"trapezoid-");if(_.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var q=x.current.getTotalLength();q&&v(q)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||o!==+o||i===0&&s===0||o===0)return null;var O=fn("recharts-trapezoid",l);if(!m)return _.createElement("g",null,_.createElement("path",Tv({},gs(t),{className:O,d:K6(r,n,i,s,o)})));var z=y.current,Y=g.current,B=j.current,$=k.current,T=w.current,A="0px ".concat(p===-1?1:p,"px"),R="".concat(p,"px 0px"),L=YI(["strokeDasharray"],u,c);return _.createElement(FN,{animationId:E,key:E,canBegin:p>0,duration:u,easing:c,isActive:m,begin:h},q=>{var W=Is(z,i,q),ee=Is(Y,s,q),M=Is(B,o,q),V=Is($,r,q),U=Is(T,n,q);x.current&&(y.current=W,g.current=ee,j.current=M,k.current=V,w.current=U);var I=q>0?{transition:L,strokeDasharray:R}:{strokeDasharray:A};return _.createElement("path",Tv({},gs(t),{className:O,d:K6(V,U,W,ee,M),ref:x,style:W6(W6({},I),t.style)}))})},Ble=["option","shapeType","propTransformer","activeClassName","isActive"];function Ule(e,t){if(e==null)return{};var r,n,i=qle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function G6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ov(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G6(Object(r),!0).forEach(function(n){Hle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hle(e,t,r){return(t=Vle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vle(e){var t=Wle(e,"string");return typeof t=="symbol"?t:t+""}function Wle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kle(e,t){return Ov(Ov({},t),e)}function Gle(e,t){return e==="symbols"}function Y6(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return _.createElement(QI,r);case"trapezoid":return _.createElement($le,r);case"sector":return _.createElement(rM,r);case"symbols":if(Gle(t))return _.createElement(JL,r);break;case"curve":return _.createElement(GI,r);default:return null}}function Yle(e){return _.isValidElement(e)?e.props:e}function Xle(e){var{option:t,shapeType:r,propTransformer:n=Kle,activeClassName:i="recharts-active-shape",isActive:s}=e,o=Ule(e,Ble),l;if(_.isValidElement(t))l=_.cloneElement(t,Ov(Ov({},o),Yle(t)));else if(typeof t=="function")l=t(o);else if(Ile(t)&&typeof t!="boolean"){var c=n(t,o);l=_.createElement(Y6,{shapeType:r,elementProps:c})}else{var u=o;l=_.createElement(Y6,{shapeType:r,elementProps:u})}return s?_.createElement(ud,{className:i},l):l}function Jle(e){var{fn:t,args:r}=e,n=ui(),i=vo();return _.useLayoutEffect(()=>{if(!i){var s=t(r);return n(wie(s)),()=>{n(jie(s))}}},[t,r,n,i]),null}function Zle(e){var{legendPayload:t}=e,r=ui(),n=vo();return _.useLayoutEffect(()=>n?mm:(r(eee(t)),()=>{r(tee(t))}),[r,n,t]),null}var Qw,Qle=()=>{var[e]=_.useState(()=>Yp("uid-"));return e},ece=(Qw=V9.useId)!==null&&Qw!==void 0?Qw:Qle;function IR(e,t){var r=ece();return t||(e?"".concat(e,"-").concat(r):r)}var tce=_.createContext(void 0),rce=e=>{var{id:t,type:r,children:n}=e,i=IR("recharts-".concat(r),t);return _.createElement(tce.Provider,{value:i},n(i))},nce={cartesianItems:[],polarItems:[]},MR=zs({name:"graphicalItems",initialState:nce,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ha()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Jc(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Ha()},removeCartesianGraphicalItem:{reducer(e,t){var r=Jc(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ha()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ha()},removePolarGraphicalItem:{reducer(e,t){var r=Jc(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ha()}}}),{addCartesianGraphicalItem:ace,replaceCartesianGraphicalItem:ice,removeCartesianGraphicalItem:sce,addPolarGraphicalItem:$xe,removePolarGraphicalItem:Bxe}=MR.actions,oce=MR.reducer;function lce(e){var t=ui(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(ace(e)):r.current!==e&&t(ice({prev:r.current,next:e})),r.current=e},[t,e]),_.useLayoutEffect(()=>()=>{r.current&&(t(sce(r.current)),r.current=null)},[t]),null}var cce=["points"];function X6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function e2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X6(Object(r),!0).forEach(function(n){uce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uce(e,t,r){return(t=dce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dce(e){var t=hce(e,"string");return typeof t=="symbol"?t:t+""}function hce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lv.apply(null,arguments)}function fce(e,t){if(e==null)return{};var r,n,i=mce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pce(e){var{option:t,dotProps:r,className:n}=e;if(_.isValidElement(t))return _.cloneElement(t,r);if(typeof t=="function")return t(r);var i=fn(n,typeof t!="boolean"?t.className:""),s=r??{},{points:o}=s,l=fce(s,cce);return _.createElement(TR,Lv({},l,{className:i}))}function gce(e,t){return e==null?!1:t?!0:e.length===1}function xce(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:s,baseProps:o,needClip:l,clipPathId:c,zIndex:u=Rs.scatter}=e;if(!gce(t,r))return null;var h=LR(r),m=iX(r),x=t.map((v,y)=>{var g,j,k=e2(e2(e2({r:3},o),m),{},{index:y,cx:(g=v.x)!==null&&g!==void 0?g:void 0,cy:(j=v.y)!==null&&j!==void 0?j:void 0,dataKey:s,value:v.value,payload:v.payload,points:t});return _.createElement(pce,{key:"dot-".concat(y),option:r,dotProps:k,className:i})}),p={};return l&&c!=null&&(p.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(c,")")),_.createElement(bd,{zIndex:u},_.createElement(ud,Lv({className:n},p),x))}function J6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Z6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J6(Object(r),!0).forEach(function(n){vce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vce(e,t,r){return(t=yce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yce(e){var t=bce(e,"string");return typeof t=="symbol"?t:t+""}function bce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wce={xAxis:{},yAxis:{},zAxis:{}},RR=zs({name:"cartesianAxis",initialState:wce,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ha()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ha()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ha()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ha()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ha()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ha()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-s[0])<=1)return;var o=[...s,n].slice(-3);e.yAxis[r]=Z6(Z6({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:jce,removeXAxis:Nce,addYAxis:_ce,removeYAxis:Sce,addZAxis:Uxe,removeZAxis:qxe,updateYAxisWidth:kce}=RR.actions,Cce=RR.reducer,Pce=yt([Ei],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Ece=yt([Pce,hu,fu],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),$3=()=>yr(Ece),Dce=()=>yr(dse);function Q6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function t2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q6(Object(r),!0).forEach(function(n){Ace(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ace(e,t,r){return(t=Tce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tce(e){var t=Oce(e,"string");return typeof t=="symbol"?t:t+""}function Oce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lce=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=t2(t2(t2({},o),xy(i)),DN(i)),c;return _.isValidElement(i)?c=_.cloneElement(i,l):typeof i=="function"?c=i(l):c=_.createElement(TR,l),_.createElement(ud,{className:"recharts-active-dot"},c)};function Ice(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,zIndex:s=Rs.activeDot}=e,o=yr(i0),l=Dce();if(t==null||l==null)return null;var c=t.find(u=>l.includes(u.payload));return si(c)?null:_.createElement(bd,{zIndex:s},_.createElement(Lce,{point:c,childIndex:Number(o),mainColor:r,dataKey:i,activeDot:n}))}var Mce={},zR=zs({name:"errorBars",initialState:Mce,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Hxe,replaceErrorBar:Vxe,removeErrorBar:Wxe}=zR.actions,Rce=zR.reducer,zce=["children"];function Fce(e,t){if(e==null)return{};var r,n,i=$ce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $ce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bce={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Uce=_.createContext(Bce);function qce(e){var{children:t}=e,r=Fce(e,zce);return _.createElement(Uce.Provider,{value:r},t)}function FR(e,t){var r,n,i=yr(u=>pu(u,e)),s=yr(u=>gu(u,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:eo.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:to.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function Hce(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=$3(),{needClipX:s,needClipY:o,needClip:l}=FR(t,r);if(!l||!i)return null;var{x:c,y:u,width:h,height:m}=i;return _.createElement("clipPath",{id:"clipPath-".concat(n)},_.createElement("rect",{x:s?c:c-h/2,y:o?u:u-m/2,width:s?h:h*2,height:o?m:m*2}))}var Vce=e=>{var{chartData:t}=e,r=ui(),n=vo();return _.useEffect(()=>n?()=>{}:(r(j6(t)),()=>{r(j6(void 0))}),[t,r,n]),null},eE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},$R=zs({name:"brush",initialState:eE,reducers:{setBrushSettings(e,t){return t.payload==null?eE:t.payload}}}),{setBrushSettings:Kxe}=$R.actions,Wce=$R.reducer;function Kce(e,t,r){return(t=Gce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gce(e){var t=Yce(e,"string");return typeof t=="symbol"?t:t+""}function Yce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class B3{static create(t){return new B3(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}Kce(B3,"EPS",1e-4);function Xce(e){return(e%180+180)%180}var Jce=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Xce(i),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Zce={dots:[],areas:[],lines:[]},BR=zs({name:"referenceElements",initialState:Zce,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Jc(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Jc(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Jc(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Gxe,removeDot:Yxe,addArea:Xxe,removeArea:Jxe,addLine:Zxe,removeLine:Qxe}=BR.actions,Qce=BR.reducer,eue=_.createContext(void 0),tue=e=>{var{children:t}=e,[r]=_.useState("".concat(Yp("recharts"),"-clip")),n=$3();if(n==null)return null;var{x:i,y:s,width:o,height:l}=n;return _.createElement(eue.Provider,{value:r},_.createElement("defs",null,_.createElement("clipPath",{id:r},_.createElement("rect",{x:i,y:s,height:l,width:o}))),t)};function sm(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function UR(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function rue(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Jce(n,r)}function nue(e,t,r){var n=r==="width",{x:i,y:s,width:o,height:l}=e;return t===1?{start:n?i:s,end:n?i+o:s+l}:{start:n?i+o:s+l,end:n?i:s}}function Iv(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function aue(e,t){return UR(e,t+1)}function iue(e,t,r,n,i){for(var s=(n||[]).slice(),{start:o,end:l}=t,c=0,u=1,h=o,m=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:UR(n,u)};var y=c,g,j=()=>(g===void 0&&(g=r(v,y)),g),k=v.coordinate,w=c===0||Iv(e,k,j,h,l);w||(c=0,h=o,u+=1),w&&(h=k+e*(j()/2+i),c+=u)},x;u<=s.length;)if(x=m(),x)return x.v;return[]}function tE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(r),!0).forEach(function(n){sue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sue(e,t,r){return(t=oue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oue(e){var t=lue(e,"string");return typeof t=="symbol"?t:t+""}function lue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cue(e,t,r,n,i){for(var s=(n||[]).slice(),o=s.length,{start:l}=t,{end:c}=t,u=function(x){var p=s[x],v,y=()=>(v===void 0&&(v=r(p,x)),v);if(x===o-1){var g=e*(p.coordinate+e*y()/2-c);s[x]=p=Qi(Qi({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else s[x]=p=Qi(Qi({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var j=Iv(e,p.tickCoord,y,l,c);j&&(c=p.tickCoord-e*(y()/2+i),s[x]=Qi(Qi({},p),{},{isShow:!0}))}},h=o-1;h>=0;h--)u(h);return s}function uue(e,t,r,n,i,s){var o=(n||[]).slice(),l=o.length,{start:c,end:u}=t;if(s){var h=n[l-1],m=r(h,l-1),x=e*(h.coordinate+e*m/2-u);if(o[l-1]=h=Qi(Qi({},h),{},{tickCoord:x>0?h.coordinate-x*e:h.coordinate}),h.tickCoord!=null){var p=Iv(e,h.tickCoord,()=>m,c,u);p&&(u=h.tickCoord-e*(m/2+i),o[l-1]=Qi(Qi({},h),{},{isShow:!0}))}}for(var v=s?l-1:l,y=function(k){var w=o[k],E,O=()=>(E===void 0&&(E=r(w,k)),E);if(k===0){var z=e*(w.coordinate-e*O()/2-c);o[k]=w=Qi(Qi({},w),{},{tickCoord:z<0?w.coordinate-z*e:w.coordinate})}else o[k]=w=Qi(Qi({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var Y=Iv(e,w.tickCoord,O,c,u);Y&&(c=w.tickCoord+e*(O()/2+i),o[k]=Qi(Qi({},w),{},{isShow:!0}))}},g=0;g<v;g++)y(g);return o}function due(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:h,angle:m}=e;if(!i||!i.length||!n)return[];if(Sr(c)||pm.isSsr){var x;return(x=aue(i,Sr(c)?c:0))!==null&&x!==void 0?x:[]}var p=[],v=l==="top"||l==="bottom"?"width":"height",y=h&&v==="width"?Ep(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(w,E)=>{var O=typeof u=="function"?u(w.value,E):w.value;return v==="width"?rue(Ep(O,{fontSize:t,letterSpacing:r}),y,m):Ep(O,{fontSize:t,letterSpacing:r})[v]},j=i.length>=2?jl(i[1].coordinate-i[0].coordinate):1,k=nue(s,j,v);return c==="equidistantPreserveStart"?iue(j,k,g,i,o):(c==="preserveStart"||c==="preserveStartEnd"?p=uue(j,k,g,i,o,c==="preserveStartEnd"):p=cue(j,k,g,i,o),p.filter(w=>w.isShow))}var hue=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,o=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>o&&(o=m.width)}});var l=r?r.getBoundingClientRect().width:0,c=i+s,u=o+c+l+(r?n:0);return Math.round(u)}return 0},fue=["axisLine","width","height","className","hide","ticks","axisType"],mue=["viewBox"],pue=["viewBox"];function ij(e,t){if(e==null)return{};var r,n,i=gue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ph.apply(null,arguments)}function rE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(r),!0).forEach(function(n){xue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xue(e,t,r){return(t=vue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vue(e){var t=yue(e,"string");return typeof t=="symbol"?t:t+""}function yue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bue={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Rs.axis};function wue(e){var{x:t,y:r,width:n,height:i,orientation:s,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=Da(Da(Da({},c),nu(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var h=+(s==="top"&&!o||s==="bottom"&&o);u=Da(Da({},u),{},{x1:t,y1:r+h*i,x2:t+n,y2:r+h*i})}else{var m=+(s==="left"&&!o||s==="right"&&o);u=Da(Da({},u),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+i})}return _.createElement("line",Ph({},u,{className:fn("recharts-cartesian-axis-line",wy(l,"className"))}))}function jue(e,t,r,n,i,s,o,l,c){var u,h,m,x,p,v,y=l?-1:1,g=e.tickSize||o,j=Sr(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":u=h=e.coordinate,x=r+ +!l*i,m=x-y*g,v=m-y*c,p=j;break;case"left":m=x=e.coordinate,h=t+ +!l*n,u=h-y*g,p=u-y*c,v=j;break;case"right":m=x=e.coordinate,h=t+ +l*n,u=h+y*g,p=u+y*c,v=j;break;default:u=h=e.coordinate,x=r+ +l*i,m=x+y*g,v=m+y*c,p=j;break}return{line:{x1:u,y1:m,x2:h,y2:x},tick:{x:p,y:v}}}function Nue(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function _ue(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Sue(e){var{option:t,tickProps:r,value:n}=e,i,s=fn(r.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(t))i=_.cloneElement(t,Da(Da({},r),{},{className:s}));else if(typeof t=="function")i=t(Da(Da({},r),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=fn(o,t==null?void 0:t.className)),i=_.createElement(z3,Ph({},r,{className:o}),n)}return i}var kue=_.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:s,tickFormatter:o,unit:l,padding:c,tickTextProps:u,orientation:h,mirror:m,x,y:p,width:v,height:y,tickSize:g,tickMargin:j,fontSize:k,letterSpacing:w,getTicksConfig:E,events:O,axisType:z}=e,Y=due(Da(Da({},E),{},{ticks:r}),k,w),B=Nue(h,m),$=_ue(h,m),T=nu(E),A=xy(n),R={};typeof i=="object"&&(R=i);var L=Da(Da({},T),{},{fill:"none"},R),q=Y.map(M=>Da({entry:M},jue(M,x,p,v,y,h,g,m,j))),W=q.map(M=>{var{entry:V,line:U}=M;return _.createElement(ud,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},i&&_.createElement("line",Ph({},L,U,{className:fn("recharts-cartesian-axis-tick-line",wy(i,"className"))})))}),ee=q.map((M,V)=>{var{entry:U,tick:I}=M,H=Da(Da(Da(Da({textAnchor:B,verticalAnchor:$},T),{},{stroke:"none",fill:s},A),I),{},{index:V,payload:U,visibleTicksCount:Y.length,tickFormatter:o,padding:c},u);return _.createElement(ud,Ph({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},cJ(O,U,V)),n&&_.createElement(Sue,{option:n,tickProps:H,value:"".concat(typeof o=="function"?o(U.value,V):U.value).concat(l||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(z,"-ticks")},ee.length>0&&_.createElement(bd,{zIndex:Rs.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(z,"-tick-labels"),ref:t},ee)),W.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(z,"-tick-lines")},W))}),Cue=_.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:s,hide:o,ticks:l,axisType:c}=e,u=ij(e,fue),[h,m]=_.useState(""),[x,p]=_.useState(""),v=_.useRef(null);_.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return hue({ticks:v.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=_.useCallback(g=>{if(g){var j=g.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=j;var k=j[0];if(k){var w=window.getComputedStyle(k),E=w.fontSize,O=w.letterSpacing;(E!==h||O!==x)&&(m(E),p(O))}}},[h,x]);return o||n!=null&&n<=0||i!=null&&i<=0?null:_.createElement(bd,{zIndex:e.zIndex},_.createElement(ud,{className:fn("recharts-cartesian-axis",s)},_.createElement(wue,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:nu(e)}),_.createElement(kue,{ref:y,axisType:c,events:u,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:x,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),_.createElement(ile,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},_.createElement(ple,{label:e.label,labelRef:e.labelRef}),e.children)))}),Pue=_.memo(Cue,(e,t)=>{var{viewBox:r}=e,n=ij(e,mue),{viewBox:i}=t,s=ij(t,pue);return sm(r,i)&&sm(n,s)}),U3=_.forwardRef((e,t)=>{var r=xo(e,bue);return _.createElement(Pue,Ph({},r,{ref:t}))});U3.displayName="CartesianAxis";var qR=(e,t,r,n)=>H8(e,"xAxis",t,n),HR=(e,t,r,n)=>q8(e,"xAxis",t,n),VR=(e,t,r,n)=>H8(e,"yAxis",r,n),WR=(e,t,r,n)=>q8(e,"yAxis",r,n),Eue=yt([On,qR,VR,HR,WR],(e,t,r,n,i)=>gd(e,"xAxis")?hv(t,n,!1):hv(r,i,!1)),Due=(e,t,r,n,i)=>i;function Aue(e){return e.type==="line"}var Tue=yt([d8,Due],(e,t)=>e.filter(Aue).find(r=>r.id===t)),Oue=yt([On,qR,VR,HR,WR,Tue,Eue,u3],(e,t,r,n,i,s,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:h}=l;if(!(s==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{dataKey:m,data:x}=s,p;if(x!=null&&x.length>0?p=x:p=c==null?void 0:c.slice(u,h+1),p!=null)return ede({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:m,bandSize:o,displayedData:p})}});function Lue(e){var t=xy(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:s}=t,o=Number(i),l=Number(s);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var Iue=["id"],Mue=["type","layout","connectNulls","needClip","shape"],Rue=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function o0(){return o0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o0.apply(null,arguments)}function nE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nE(Object(r),!0).forEach(function(n){zue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zue(e,t,r){return(t=Fue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fue(e){var t=$ue(e,"string");return typeof t=="symbol"?t:t+""}function $ue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q3(e,t){if(e==null)return{};var r,n,i=Bue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Bue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Uue=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:FI(r,t),payload:e}]};function que(e){var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:s,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:FI(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var KR=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Hue(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var Vue=(e,t,r)=>{var n=r.reduce((m,x)=>m+x);if(!n)return KR(t,e);for(var i=Math.floor(e/n),s=e%n,o=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>s){l=[...r.slice(0,c),s-u];break}var h=l.length%2===0?[0,o]:[o];return[...Hue(r,i),...l,...h].map(m=>"".concat(m,"px")).join(", ")};function Wue(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:s,needClip:o}=n,{id:l}=n,c=q3(n,Iue),u=nu(c);return _.createElement(xce,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:u,needClip:o,clipPathId:t})}function Kue(e){var{showLabels:t,children:r,points:n}=e,i=_.useMemo(()=>n==null?void 0:n.map(s=>{var o,l,c={x:(o=s.x)!==null&&o!==void 0?o:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Zl(Zl({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return _.createElement(kle,{value:t?i:void 0},r)}function aE(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:s}=e,{type:o,layout:l,connectNulls:c,needClip:u,shape:h}=s,m=q3(s,Mue),x=Zl(Zl({},gs(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:i??s.strokeDasharray});return _.createElement(_.Fragment,null,(n==null?void 0:n.length)>1&&_.createElement(Xle,o0({shapeType:"curve",option:h},x,{pathRef:r})),_.createElement(Wue,{points:n,clipPathId:t,props:s}))}function Gue(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Yue(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:s}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:h,animationEasing:m,animateNewValues:x,width:p,height:v,onAnimationEnd:y,onAnimationStart:g}=r,j=i.current,k=$N(r,"recharts-line-"),[w,E]=_.useState(!1),O=!w,z=_.useCallback(()=>{typeof y=="function"&&y(),E(!1)},[y]),Y=_.useCallback(()=>{typeof g=="function"&&g(),E(!0)},[g]),B=Gue(n.current),$=s.current;return _.createElement(Kue,{points:o,showLabels:O},r.children,_.createElement(FN,{animationId:k,begin:u,duration:h,isActive:c,easing:m,onAnimationEnd:z,onAnimationStart:Y,key:k},T=>{var A=Is($,B+$,T),R=Math.min(A,B),L;if(c)if(l){var q="".concat(l).split(/[,\s]+/gim).map(M=>parseFloat(M));L=Vue(R,B,q)}else L=KR(B,R);else L=l==null?void 0:String(l);if(j){var W=j.length/o.length,ee=T===1?o:o.map((M,V)=>{var U=Math.floor(V*W);if(j[U]){var I=j[U];return Zl(Zl({},M),{},{x:Is(I.x,M.x,T),y:Is(I.y,M.y,T)})}return x?Zl(Zl({},M),{},{x:Is(p*2,M.x,T),y:Is(v/2,M.y,T)}):Zl(Zl({},M),{},{x:M.x,y:M.y})});return i.current=ee,_.createElement(aE,{props:r,points:ee,clipPathId:t,pathRef:n,strokeDasharray:L})}return T>0&&B>0&&(i.current=o,s.current=R),_.createElement(aE,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:L})}),_.createElement(Ele,{label:r.label}))}function Xue(e){var{clipPathId:t,props:r}=e,n=_.useRef(null),i=_.useRef(0),s=_.useRef(null);return _.createElement(Yue,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:s})}var Jue=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:ps(e.payload,t)}};class Zue extends _.Component{render(){var{hide:t,dot:r,points:n,className:i,xAxisId:s,yAxisId:o,top:l,left:c,width:u,height:h,id:m,needClip:x,zIndex:p}=this.props;if(t)return null;var v=fn("recharts-line",i),y=m,{r:g,strokeWidth:j}=Lue(r),k=LR(r),w=g*2+j;return _.createElement(bd,{zIndex:p},_.createElement(ud,{className:v},x&&_.createElement("defs",null,_.createElement(Hce,{clipPathId:y,xAxisId:s,yAxisId:o}),!k&&_.createElement("clipPath",{id:"clipPath-dots-".concat(y)},_.createElement("rect",{x:c-w/2,y:l-w/2,width:u+w,height:h+w}))),_.createElement(qce,{xAxisId:s,yAxisId:o,data:n,dataPointFormatter:Jue,errorBarOffset:0},_.createElement(Xue,{props:this.props,clipPathId:y}))),_.createElement(Ice,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var GR={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!pm.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Rs.line};function Que(e){var t=xo(e,GR),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:h,label:m,legendType:x,xAxisId:p,yAxisId:v,id:y}=t,g=q3(t,Rue),{needClip:j}=FR(p,v),k=$3(),w=Oy(),E=vo(),O=yr(T=>Oue(T,p,v,E,y));if(w!=="horizontal"&&w!=="vertical"||O==null||k==null)return null;var{height:z,width:Y,x:B,y:$}=k;return _.createElement(Zue,o0({},g,{id:y,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:o,isAnimationActive:h,hide:u,label:m,legendType:x,xAxisId:p,yAxisId:v,points:O,layout:w,height:z,width:Y,left:B,top:$,needClip:j}))}function ede(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((u,h)=>{var m=ps(u,o);if(t==="horizontal"){var x=FC({axis:r,ticks:i,bandSize:l,entry:u,index:h}),p=si(m)?null:n.scale(m);return{x,y:p,value:m,payload:u}}var v=si(m)?null:r.scale(m),y=FC({axis:n,ticks:s,bandSize:l,entry:u,index:h});return v==null||y==null?null:{x:v,y,value:m,payload:u}}).filter(Boolean)}function tde(e){var t=xo(e,GR),r=vo();return _.createElement(rce,{id:t.id,type:"line"},n=>_.createElement(_.Fragment,null,_.createElement(Zle,{legendPayload:Uue(t)}),_.createElement(Jle,{fn:que,args:t}),_.createElement(lce,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),_.createElement(Que,o0({},t,{id:n}))))}var Vf=_.memo(tde);Vf.displayName="Line";var rde=["dangerouslySetInnerHTML","ticks"],nde=["id"],ade=["domain"],ide=["domain"];function sj(){return sj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sj.apply(null,arguments)}function Mv(e,t){if(e==null)return{};var r,n,i=sde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ode(e){var t=ui();return _.useLayoutEffect(()=>(t(jce(e)),()=>{t(Nce(e))}),[e,t]),null}var lde=e=>{var{xAxisId:t,className:r}=e,n=yr(BI),i=vo(),s="xAxis",o=yr(g=>wm(g,s,t,i)),l=yr(g=>U8(g,s,t,i)),c=yr(g=>aie(g,t)),u=yr(g=>uie(g,t)),h=yr(g=>o8(g,t));if(c==null||u==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:x}=e,p=Mv(e,rde),{id:v}=h,y=Mv(h,nde);return _.createElement(U3,sj({},p,y,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:fn("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l,axisType:s}))},cde={allowDataOverflow:eo.allowDataOverflow,allowDecimals:eo.allowDecimals,allowDuplicatedCategory:eo.allowDuplicatedCategory,height:eo.height,hide:!1,mirror:eo.mirror,orientation:eo.orientation,padding:eo.padding,reversed:eo.reversed,scale:eo.scale,tickCount:eo.tickCount,type:eo.type,xAxisId:0},ude=e=>{var t,r,n,i,s,o=xo(e,cde);return _.createElement(_.Fragment,null,_.createElement(ode,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(s=o.tick)!==null&&s!==void 0?s:!0,tickFormatter:o.tickFormatter}),_.createElement(lde,o))},dde=(e,t)=>{var{domain:r}=e,n=Mv(e,ade),{domain:i}=t,s=Mv(t,ide);return sm(n,s)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:sm({domain:r},{domain:i}):!1},YR=_.memo(ude,dde);YR.displayName="XAxis";var hde=["dangerouslySetInnerHTML","ticks"],fde=["id"],mde=["domain"],pde=["domain"];function oj(){return oj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oj.apply(null,arguments)}function Rv(e,t){if(e==null)return{};var r,n,i=gde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xde(e){var t=ui();return _.useLayoutEffect(()=>(t(_ce(e)),()=>{t(Sce(e))}),[e,t]),null}var vde=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,s=_.useRef(null),o=_.useRef(null),l=yr(BI),c=vo(),u=ui(),h="yAxis",m=yr(O=>wm(O,h,t,c)),x=yr(O=>fie(O,t)),p=yr(O=>hie(O,t)),v=yr(O=>U8(O,h,t,c)),y=yr(O=>l8(O,t));if(_.useLayoutEffect(()=>{if(!(n!=="auto"||!x||F3(i)||_.isValidElement(i)||y==null)){var O=s.current;if(O){var z=O.getCalculatedWidth();Math.round(x.width)!==Math.round(z)&&u(kce({id:t,width:z}))}}},[v,x,u,i,t,n,y]),x==null||p==null||y==null)return null;var{dangerouslySetInnerHTML:g,ticks:j}=e,k=Rv(e,hde),{id:w}=y,E=Rv(y,fde);return _.createElement(U3,oj({},k,E,{ref:s,labelRef:o,scale:m,x:p.x,y:p.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:x.width,height:x.height,className:fn("recharts-".concat(h," ").concat(h),r),viewBox:l,ticks:v,axisType:h}))},yde={allowDataOverflow:to.allowDataOverflow,allowDecimals:to.allowDecimals,allowDuplicatedCategory:to.allowDuplicatedCategory,hide:!1,mirror:to.mirror,orientation:to.orientation,padding:to.padding,reversed:to.reversed,scale:to.scale,tickCount:to.tickCount,type:to.type,width:to.width,yAxisId:0},bde=e=>{var t,r,n,i,s,o=xo(e,yde);return _.createElement(_.Fragment,null,_.createElement(xde,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(s=o.tick)!==null&&s!==void 0?s:!0,tickFormatter:o.tickFormatter}),_.createElement(vde,o))},wde=(e,t)=>{var{domain:r}=e,n=Rv(e,mde),{domain:i}=t,s=Rv(t,pde);return sm(n,s)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:sm({domain:r},{domain:i}):!1},XR=_.memo(bde,wde);XR.displayName="YAxis";var r2={exports:{}},n2={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function jde(){if(iE)return n2;iE=1;var e=po();function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,l=e.useDebugValue;return n2.useSyncExternalStoreWithSelector=function(c,u,h,m,x){var p=i(null);if(p.current===null){var v={hasValue:!1,value:null};p.current=v}else v=p.current;p=o(function(){function g(O){if(!j){if(j=!0,k=O,O=m(O),x!==void 0&&v.hasValue){var z=v.value;if(x(z,O))return w=z}return w=O}if(z=w,r(k,O))return z;var Y=m(O);return x!==void 0&&x(z,Y)?(k=O,z):(k=O,w=Y)}var j=!1,k,w,E=h===void 0?null:h;return[function(){return g(u())},E===null?void 0:function(){return g(E())}]},[u,h,m,x]);var y=n(c,p[0],p[1]);return s(function(){v.hasValue=!0,v.value=y},[y]),l(y),y},n2}var sE;function Nde(){return sE||(sE=1,r2.exports=jde()),r2.exports}Nde();function _de(e){e()}function Sde(){let e=null,t=null;return{clear(){e=null,t=null},notify(){_de(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var oE={notify(){},get:()=>[]};function kde(e,t){let r,n=oE,i=0,s=!1;function o(y){h();const g=n.subscribe(y);let j=!1;return()=>{j||(j=!0,g(),m())}}function l(){n.notify()}function c(){v.onStateChange&&v.onStateChange()}function u(){return s}function h(){i++,r||(r=e.subscribe(c),n=Sde())}function m(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=oE)}function x(){s||(s=!0,h())}function p(){s&&(s=!1,m())}const v={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:x,tryUnsubscribe:p,getListeners:()=>n};return v}var Cde=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pde=Cde(),Ede=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Dde=Ede(),Ade=()=>Pde||Dde?_.useLayoutEffect:_.useEffect,Tde=Ade(),a2=Symbol.for("react-redux-context"),i2=typeof globalThis<"u"?globalThis:{};function Ode(){if(!_.createContext)return{};const e=i2[a2]??(i2[a2]=new Map);let t=e.get(_.createContext);return t||(t=_.createContext(null),e.set(_.createContext,t)),t}var Lde=Ode();function Ide(e){const{children:t,context:r,serverState:n,store:i}=e,s=_.useMemo(()=>{const c=kde(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),o=_.useMemo(()=>i.getState(),[i]);Tde(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,o]);const l=r||Lde;return _.createElement(l.Provider,{value:s},t)}var Mde=Ide,Rde=(e,t)=>t,H3=yt([Rde,On,a8,Ka,sR,xu,_se,Ei],Ase),V3=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},JR=qo("mouseClick"),ZR=S0();ZR.startListening({actionCreator:JR,effect:(e,t)=>{var r=e.payload,n=H3(t.getState(),V3(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(Sie({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var lj=qo("mouseMove"),QR=S0();QR.startListening({actionCreator:lj,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=E3(n,n.tooltip.settings.shared),s=H3(n,V3(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(J8({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(X8()))}});var lE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},e7=zs({name:"rootProps",initialState:lE,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:lE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue}}}),zde=e7.reducer,{updateOptions:Fde}=e7.actions,t7=zs({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:eve}=t7.actions,$de=t7.reducer,r7=qo("keyDown"),n7=qo("focus"),W3=S0();W3.startListening({actionCreator:r7,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=Number(D3(i,Nm(r))),l=xu(r);if(s==="Enter"){var c=Dv(r,"axis","hover",String(i.index));t.dispatch(Q5({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=xie(r),h=u==="left-to-right"?1:-1,m=s==="ArrowRight"?1:-1,x=o+m*h;if(!(l==null||x>=l.length||x<0)){var p=Dv(r,"axis","hover",String(x));t.dispatch(Q5({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});W3.startListening({actionCreator:n7,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",o=Dv(r,"axis","hover",String(s));t.dispatch(Q5({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:o}))}}}});var zo=qo("externalEvent"),a7=S0();a7.startListening({actionCreator:zo,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:lse(r),activeDataKey:sse(r),activeIndex:i0(r),activeLabel:cR(r),activeTooltipIndex:i0(r),isTooltipActive:cse(r)};e.payload.handler(n,e.payload.reactEvent)}}});var Bde=yt([jm],e=>e.tooltipItemPayloads),Ude=yt([Bde,I0,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(l=>l.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var o=t(s,r);return o}}}),i7=qo("touchMove"),s7=S0();s7.startListening({actionCreator:i7,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=E3(n,n.tooltip.settings.shared);if(i==="axis"){var s=H3(n,V3({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(J8({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=r.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(yQ),h=(o=c.getAttribute(bQ))!==null&&o!==void 0?o:void 0,m=Ude(t.getState(),u,h);t.dispatch(_ie({activeDataKey:h,activeIndex:u,activeCoordinate:m}))}}}});var qde=fI({brush:Wce,cartesianAxis:Cce,chartData:coe,errorBars:Rce,graphicalItems:oce,layout:nQ,legend:ree,options:aoe,polarAxis:Ale,polarOptions:$de,referenceElements:Qce,rootProps:zde,tooltip:kie,zIndex:Vse}),Hde=function(t){return PZ({reducer:qde,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([ZR.middleware,QR.middleware,W3.middleware,a7.middleware,s7.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(SI({type:"raf"}))},devTools:pm.devToolsEnabled})};function Vde(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=vo(),s=_.useRef(null);if(i)return r;s.current==null&&(s.current=Hde(t));var o=TN;return _.createElement(Mde,{context:o,store:s.current},r)}function Wde(e){var{layout:t,margin:r}=e,n=ui(),i=vo();return _.useEffect(()=>{i||(n(eQ(t)),n(QZ(r)))},[n,i,t,r]),null}function Kde(e){var t=ui();return _.useEffect(()=>{t(Fde(e))},[t,e]),null}function cE(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",i=IR("".concat(n).concat(t)),s=ui();return _.useLayoutEffect(()=>(s(qse({zIndex:t,elementId:i,isPanorama:r})),()=>{s(Hse({zIndex:t,isPanorama:r}))}),[s,t,i,r]),_.createElement("g",{id:i})}function uE(e){var{children:t,isPanorama:r}=e,n=yr(Ose);if(!n||n.length===0)return t;var i=n.filter(o=>o<0),s=n.filter(o=>o>0);return _.createElement(_.Fragment,null,i.map(o=>_.createElement(cE,{key:o,zIndex:o,isPanorama:r})),t,s.map(o=>_.createElement(cE,{key:o,zIndex:o,isPanorama:r})))}var Gde=["children"];function Yde(e,t){if(e==null)return{};var r,n,i=Xde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Xde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zv.apply(null,arguments)}var Jde={width:"100%",height:"100%",display:"block"},Zde=_.forwardRef((e,t)=>{var r=XQ(),n=JQ(),i=KI();if(!hd(r)||!hd(n))return null;var{children:s,otherAttributes:o,title:l,desc:c}=e,u,h;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0),_.createElement(DL,zv({},o,{title:l,desc:c,role:h,tabIndex:u,width:r,height:n,style:Jde,ref:t}),s)}),Qde=e=>{var{children:t}=e,r=yr(Ay);if(!r)return null;var{width:n,height:i,y:s,x:o}=r;return _.createElement(DL,{width:n,height:i,x:o,y:s},t)},dE=_.forwardRef((e,t)=>{var{children:r}=e,n=Yde(e,Gde),i=vo();return i?_.createElement(Qde,null,_.createElement(uE,{isPanorama:!0},r)):_.createElement(Zde,zv({ref:t},n),_.createElement(uE,{isPanorama:!1},r))});function ehe(){var e=ui(),[t,r]=_.useState(null),n=yr(vQ);return _.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;oi(s)&&s!==n&&e(rQ(s))}},[t,e,n]),r}function hE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function the(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hE(Object(r),!0).forEach(function(n){rhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rhe(e,t,r){return(t=nhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nhe(e){var t=ahe(e,"string");return typeof t=="symbol"?t:t+""}function ahe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eh(){return Eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eh.apply(null,arguments)}var ihe=()=>(voe(),null);function Fv(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var she=_.forwardRef((e,t)=>{var r,n,i=_.useRef(null),[s,o]=_.useState({containerWidth:Fv((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Fv((n=e.style)===null||n===void 0?void 0:n.height)}),l=_.useCallback((u,h)=>{o(m=>{var x=Math.round(u),p=Math.round(h);return m.containerWidth===x&&m.containerHeight===p?m:{containerWidth:x,containerHeight:p}})},[]),c=_.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=u.getBoundingClientRect();l(h,m);var x=v=>{var{width:y,height:g}=v[0].contentRect;l(y,g)},p=new ResizeObserver(x);p.observe(u),i.current=p}},[t,l]);return _.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[l]),_.createElement(_.Fragment,null,_.createElement(Ly,{width:s.containerWidth,height:s.containerHeight}),_.createElement("div",Eh({ref:c},e)))}),ohe=_.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,s]=_.useState({containerWidth:Fv(r),containerHeight:Fv(n)}),o=_.useCallback((c,u)=>{s(h=>{var m=Math.round(c),x=Math.round(u);return h.containerWidth===m&&h.containerHeight===x?h:{containerWidth:m,containerHeight:x}})},[]),l=_.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:h}=c.getBoundingClientRect();o(u,h)}},[t,o]);return _.createElement(_.Fragment,null,_.createElement(Ly,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",Eh({ref:l},e)))}),lhe=_.forwardRef((e,t)=>{var{width:r,height:n}=e;return _.createElement(_.Fragment,null,_.createElement(Ly,{width:r,height:n}),_.createElement("div",Eh({ref:t},e)))}),che=_.forwardRef((e,t)=>{var{width:r,height:n}=e;return iu(r)||iu(n)?_.createElement(ohe,Eh({},e,{ref:t})):_.createElement(lhe,Eh({},e,{ref:t}))});function uhe(e){return e===!0?she:che}var dhe=_.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:h,onMouseMove:m,onMouseUp:x,onTouchEnd:p,onTouchMove:v,onTouchStart:y,style:g,width:j,responsive:k,dispatchTouchEvents:w=!0}=e,E=_.useRef(null),O=ui(),[z,Y]=_.useState(null),[B,$]=_.useState(null),T=ehe(),A=zN(),R=(A==null?void 0:A.width)>0?A.width:j,L=(A==null?void 0:A.height)>0?A.height:i,q=_.useCallback(ae=>{T(ae),typeof t=="function"&&t(ae),Y(ae),$(ae),ae!=null&&(E.current=ae)},[T,t,Y,$]),W=_.useCallback(ae=>{O(JR(ae)),O(zo({handler:s,reactEvent:ae}))},[O,s]),ee=_.useCallback(ae=>{O(lj(ae)),O(zo({handler:u,reactEvent:ae}))},[O,u]),M=_.useCallback(ae=>{O(X8()),O(zo({handler:h,reactEvent:ae}))},[O,h]),V=_.useCallback(ae=>{O(lj(ae)),O(zo({handler:m,reactEvent:ae}))},[O,m]),U=_.useCallback(()=>{O(n7())},[O]),I=_.useCallback(ae=>{O(r7(ae.key))},[O]),H=_.useCallback(ae=>{O(zo({handler:o,reactEvent:ae}))},[O,o]),D=_.useCallback(ae=>{O(zo({handler:l,reactEvent:ae}))},[O,l]),G=_.useCallback(ae=>{O(zo({handler:c,reactEvent:ae}))},[O,c]),Z=_.useCallback(ae=>{O(zo({handler:x,reactEvent:ae}))},[O,x]),P=_.useCallback(ae=>{O(zo({handler:y,reactEvent:ae}))},[O,y]),re=_.useCallback(ae=>{w&&O(i7(ae)),O(zo({handler:v,reactEvent:ae}))},[O,w,v]),ce=_.useCallback(ae=>{O(zo({handler:p,reactEvent:ae}))},[O,p]),be=uhe(k);return _.createElement(xR.Provider,{value:z},_.createElement(hX.Provider,{value:B},_.createElement(be,{width:R??(g==null?void 0:g.width),height:L??(g==null?void 0:g.height),className:fn("recharts-wrapper",n),style:the({position:"relative",cursor:"default",width:R,height:L},g),onClick:W,onContextMenu:H,onDoubleClick:D,onFocus:U,onKeyDown:I,onMouseDown:G,onMouseEnter:ee,onMouseLeave:M,onMouseMove:V,onMouseUp:Z,onTouchEnd:ce,onTouchMove:re,onTouchStart:P,ref:q},_.createElement(ihe,null),r)))}),hhe=["width","height","responsive","children","className","style","compact","title","desc"];function fhe(e,t){if(e==null)return{};var r,n,i=mhe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var phe=_.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:s,className:o,style:l,compact:c,title:u,desc:h}=e,m=fhe(e,hhe),x=nu(m);return c?_.createElement(_.Fragment,null,_.createElement(Ly,{width:r,height:n}),_.createElement(dE,{otherAttributes:x,title:u,desc:h},s)):_.createElement(dhe,{className:o,style:l,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},_.createElement(dE,{otherAttributes:x,title:u,desc:h,ref:t},_.createElement(tue,null,s)))});function cj(){return cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cj.apply(null,arguments)}var ghe={top:5,right:5,bottom:5,left:5},xhe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ghe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},vhe=_.forwardRef(function(t,r){var n,i=xo(t.categoricalChartProps,xhe),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,h={chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return _.createElement(Vde,{preloadedState:{options:h},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:s},_.createElement(Vce,{chartData:u.data}),_.createElement(Wde,{layout:i.layout,margin:i.margin}),_.createElement(Kde,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),_.createElement(phe,cj({},i,{ref:r})))}),yhe=["axis"],jx=_.forwardRef((e,t)=>_.createElement(vhe,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:yhe,tooltipPayloadSearcher:roe,categoricalChartProps:e,ref:t}));const bhe=e=>{const r=n=>{const i=Math.sin(n*12345)*1e4;return i-Math.floor(i)};switch(e){case"24H":return Array.from({length:24}).map((n,i)=>{const s=i,l=s<6||s>22?20:120,c=Math.sin(i/6)*80,u=r(i)*60;return{day:i+1,sales:Math.round(l+c+u),baseline:Math.round(l*.7+c*.5)}});case"7D":return Array.from({length:7}).map((n,i)=>{const l=i>=5?2500:1800,c=Math.sin(i/2)*400,u=r(i)*300;return{day:i+1,sales:Math.round(l+c+u),baseline:Math.round(l*.75+c*.6)}});case"30D":return Array.from({length:30}).map((n,i)=>{const l=i%7>=5?3200:2200,c=Math.sin(i/5)*600,u=r(i)*400;return{day:i+1,sales:Math.round(l+c+u),baseline:Math.round(l*.7+c*.5)}});case"12M":return Array.from({length:12}).map((n,i)=>{const s=i,l=s>=4&&s<=7?65e3:45e3,c=Math.sin(i/3)*1e4,u=r(i)*8e3;return{day:i+1,sales:Math.round(l+c+u),baseline:Math.round(l*.75+c*.6)}});case"WEEKS":return Array.from({length:12}).map((n,i)=>{const s=i,l=s===0||s===11?2e4:15e3,c=Math.sin(i/2)*3e3,u=r(i)*2e3;return{day:i+1,sales:Math.round(l+c+u),baseline:Math.round(l*.7+c*.5)}});default:return Array.from({length:30}).map((n,i)=>({day:i+1,sales:Math.round(2200+Math.sin(i/5)*600),baseline:Math.round(1500+Math.cos(i/5)*400)}))}},whe=e=>e.reduce((t,r)=>t+r.sales,0),jhe=(e,t)=>({"24H":t("admin.dashboard.chart.change.24H"),"7D":t("admin.dashboard.chart.change.7D"),"30D":t("admin.dashboard.chart.change.30D"),"12M":t("admin.dashboard.chart.change.12M"),WEEKS:t("admin.dashboard.chart.change.4W")})[e]||t("admin.dashboard.chart.change.default"),o7=({totalSales:e,change:t,data:r,allPeriodData:n,periodStats:i})=>{const{t:s}=br(),[o,l]=_.useState("30D"),c=_.useMemo(()=>{if(n&&n[o])return n[o];if(r&&r.length>0&&o==="30D")return r;if(o==="WEEKS"&&r&&r.length>0){const p=[],y=Math.min(28,r.length),g=r.slice(-y);for(let j=0;j<4;j++){const k=j*7,w=Math.min(k+7,g.length),E=g.slice(k,w).reduce((z,Y)=>z+Y.sales,0),O=g.slice(k,w).reduce((z,Y)=>z+Y.baseline,0);p.push({day:j+1,sales:Math.round(E),baseline:Math.round(O)})}return p}return bhe(o)},[o,r,n]),u=_.useMemo(()=>i&&i[o]?i[o].sales:e!==void 0?typeof e=="number"?e:parseFloat(String(e).replace(/[^0-9.-]+/g,""))||0:whe(c),[c,e,o,i]),h=_.useMemo(()=>{if(i&&i[o]){const p=i[o],v={"24H":"ultimele 24 ore","7D":"ultimele 7 zile","30D":"ultimele 30 zile",WEEKS:"ultimele 4 sptmni","12M":"ultimele 12 luni"};return`${p.isPositive?"":""} ${Math.abs(p.change).toFixed(1)}% fa de ${v[o]}`}return t||jhe(o,s)},[o,t,s,i]),m=(p,v)=>{const y=n||i||r&&r.length>0?"MDL":"$";return v==="12M"?`${y==="MDL"?"":y}${(p/1e3).toFixed(0)}K${y==="MDL"?" MDL":""}`:v==="WEEKS"?p>=1e3?`${y==="MDL"?"":y}${(p/1e3).toFixed(1)}K${y==="MDL"?" MDL":""}`:`${y==="MDL"?"":y}${p.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}${y==="MDL"?" MDL":""}`:v==="30D"||v==="7D"?p>=1e3?`${y==="MDL"?"":y}${(p/1e3).toFixed(1)}K${y==="MDL"?" MDL":""}`:`${y==="MDL"?"":y}${p.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}${y==="MDL"?" MDL":""}`:`${y==="MDL"?"":y}${p.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}${y==="MDL"?" MDL":""}`},x=p=>({"24H":s("admin.dashboard.chart.periods.24H"),"7D":s("admin.dashboard.chart.periods.7D"),"30D":s("admin.dashboard.chart.periods.30D"),WEEKS:s("admin.dashboard.chart.periods.4W"),"12M":s("admin.dashboard.chart.periods.12M")})[p];return a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold tracking-wider text-gray-400 uppercase mb-1",children:s("admin.dashboard.chart.sales")}),a.jsx("h3",{className:"text-3xl md:text-4xl font-bold text-white",children:m(u,o)}),a.jsx("p",{className:"mt-2 text-sm text-emerald-400 font-semibold",children:h})]}),a.jsx("div",{className:"flex items-center gap-2",children:["12M","WEEKS","30D","7D","24H"].map(p=>a.jsx("button",{onClick:()=>l(p),className:`px-3 py-1.5 rounded-lg text-xs font-semibold transition-all ${p===o?"bg-red-500/20 text-red-300 border border-red-500/50":"bg-white/5 text-gray-300 border border-white/10 hover:bg-white/10 hover:text-white"}`,children:x(p)},p))})]}),a.jsx("div",{style:{width:"100%",height:320},children:a.jsx(yx,{children:a.jsxs(jx,{data:c,children:[a.jsx(YR,{dataKey:"day",tick:{fontSize:12,fill:"#D1D5DB"},stroke:"#374151"}),a.jsx(XR,{tick:{fontSize:12,fill:"#D1D5DB"},stroke:"#374151"}),a.jsx(koe,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.3)"}}),a.jsx(Vf,{type:"monotone",dataKey:"sales",stroke:"#EF4444",strokeWidth:3,dot:!1}),a.jsx(Vf,{type:"monotone",dataKey:"baseline",stroke:"#6B7280",strokeWidth:2,dot:!1,strokeDasharray:"5 5"})]})})})]})},ex=({title:e,value:t,spark:r,subtitle:n,trend:i,trendValue:s,valueSize:o="lg"})=>{const l=()=>{switch(o){case"sm":return"text-xl";case"md":return"text-2xl";case"lg":default:return"text-3xl"}};return a.jsxs(Ie.div,{initial:{opacity:0,y:0},animate:{opacity:1,y:0},transition:{duration:.3},className:"relative group",children:[a.jsx("div",{className:"absolute inset-0 bg-red-500/10 rounded-xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsx("div",{className:"relative bg-white/10 backdrop-blur-xl border top-2 lg:top-0 border-white/20 hover:border-red-500/50 rounded-xl p-6 transition-all duration-300 shadow-lg",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-gray-300 text-xs font-semibold uppercase tracking-wider mb-2",children:e}),a.jsx("h4",{className:`font-bold ${l()} text-white mb-2 whitespace-nowrap`,children:t}),s&&a.jsxs("div",{className:"flex items-center gap-1.5",children:[i==="up"?a.jsx(hH,{className:"w-4 h-4 text-emerald-400"}):a.jsx(dH,{className:"w-4 h-4 text-red-400"}),a.jsx("span",{className:`text-sm font-semibold ${i==="up"?"text-emerald-400":"text-red-400"}`,children:s})]}),n&&a.jsx("div",{className:"mt-1 text-gray-300 text-sm",children:n})]}),r&&a.jsx("div",{className:"w-28 h-16 flex items-center justify-end opacity-80",children:r})]})})]})},uj=(e,t)=>{let r,n;if(typeof e=="string"&&e.includes("-")){const[s,o,l]=e.split("-").map(Number);r=new Date(s,o-1,l)}else r=new Date(e);if(typeof t=="string"&&t.includes("-")){const[s,o,l]=t.split("-").map(Number);n=new Date(s,o-1,l)}else n=new Date(t);const i=Math.abs(n.getTime()-r.getTime());return Math.round(i/(1e3*60*60*24))};function Nhe(e,t,r,n){const i=j=>{if(!j)return{hours:9,minutes:0};const[k,w]=j.split(":").map(Number);return{hours:k||0,minutes:w||0}},s=new Date(e),o=new Date(r),{hours:l,minutes:c}=i(t),{hours:u,minutes:h}=i(n),m=new Date(s);m.setHours(l,c,0,0);const x=new Date(o);u===0&&h===0?x.setHours(23,59,59,999):x.setHours(u,h,0,0);const p=x.getTime()-m.getTime();if(p<=0)return{days:0,hours:0,totalHours:0};const v=p/(1e3*60*60),y=Math.floor(v/24),g=Math.round(v%24);return{days:y,hours:g,totalHours:v}}const Zy=({isOpen:e,onClose:t,order:r,onCancel:n,onRedo:i,isProcessing:s,onOpenContractModal:o,showOrderNumber:l=!0})=>{var H,D,G,Z,P,re,ce,be,ae,ue;const{t:c}=br(),[u,h]=_.useState(!1),[m,x]=_.useState(!1),[p,v]=_.useState(null),[y,g]=_.useState(r),j=y||r;_.useEffect(()=>{g(r),j&&!j.contract_url&&j.rental_status==="ACTIVE"&&k()},[r,e,j]);const k=async()=>{if(!(!r||!r.id))try{const{fetchRentalsOnly:fe}=await ii(async()=>{const{fetchRentalsOnly:ne}=await Promise.resolve().then(()=>Nh);return{fetchRentalsOnly:ne}},void 0),pe=await lo(),le=(await fe(pe)).find(ne=>ne.id===r.id);le&&(console.log("Refreshed order data:",le),g(le))}catch(fe){console.error("Error refreshing order data:",fe)}},w=()=>{o?o():x(!0)},[E,O]=_.useState([]),[z,Y]=_.useState(void 0);if(_.useEffect(()=>{(async()=>{if(e)try{const pe=await lo();if(pe.length===0){O([]);return}const de=await Promise.all(pe.map(async le=>{let ne=le.name;(!ne||ne.trim()==="")&&(ne=`${le.make} ${le.model}`);const{mainImage:Se,photoGallery:Ee}=await Tn(ne);return{...le,image_url:Se||le.image_url,photo_gallery:Ee.length>0?Ee:le.photo_gallery}}));O(de)}catch(pe){console.error("Error loading cars:",pe),O([])}})()},[e]),_.useEffect(()=>{e&&r&&(async()=>{if(!j){v(null);return}const pe=j.request_id;if(console.log("OrderDetailsModal: Checking for request_id. Order:",{id:r.id,request_id:pe,orderKeys:Object.keys(r),fullOrder:r}),!pe){console.log("OrderDetailsModal: No request_id found in order. Trying to find request by matching data...");try{const{supabase:de}=await ii(async()=>{const{supabase:Se}=await Promise.resolve().then(()=>ld);return{supabase:Se}},void 0),{data:le,error:ne}=await de.from("BorrowRequest").select("id, options, user_id, car_id, start_date, end_date").eq("user_id",r.user_id).eq("car_id",r.car_id||r.carId).eq("start_date",B).eq("end_date",T).limit(1);if(!ne&&le&&le.length>0){const Se=le[0];if(console.log("OrderDetailsModal: Found matching request:",Se),Se.options){let Ee={};if(typeof Se.options=="string")try{Ee=JSON.parse(Se.options)}catch{Ee={}}else Ee=Se.options;if(Ee&&typeof Ee=="object"&&Object.keys(Ee).length>0){console.log("OrderDetailsModal: Using options from matching request:",Ee),v(Ee);return}}}}catch(de){console.error("OrderDetailsModal: Error searching for matching request:",de)}v(null);return}try{const{supabase:de}=await ii(async()=>{const{supabase:Se}=await Promise.resolve().then(()=>ld);return{supabase:Se}},void 0);console.log("OrderDetailsModal: Fetching request options for request_id:",pe);const{data:le,error:ne}=await de.from("BorrowRequest").select("options, id, status").eq("id",pe).single();if(ne){console.error("OrderDetailsModal: Error fetching request:",ne),v(null);return}if(console.log("OrderDetailsModal: Fetched request:",le),le&&le.options){let Se={};if(typeof le.options=="string")try{Se=JSON.parse(le.options)}catch(Ee){console.error("OrderDetailsModal: Error parsing options string:",Ee),Se={}}else Se=le.options;Se&&typeof Se=="object"&&Object.keys(Se).length>0?(console.log("OrderDetailsModal: Parsed options from request:",Se),v(Se)):(console.log("OrderDetailsModal: Request has empty options object"),v(null))}else console.log("OrderDetailsModal: Request has no options field"),v(null)}catch(de){console.error("OrderDetailsModal: Error fetching request options:",de),v(null)}})()},[e,r]),_.useEffect(()=>{if(!r){Y(void 0);return}(async()=>{const pe=r.car_id||r.carId;let de=E.find(le=>{if(!pe)return!1;const ne=typeof le.id=="number"?le.id:parseInt(le.id.toString(),10),Se=typeof pe=="number"?pe:parseInt(pe.toString(),10);if(!isNaN(ne)&&!isNaN(Se)&&ne===Se)return!0;const Ee=le.id.toString(),qe=pe.toString();return Ee===qe});if(!de&&pe){console.warn("OrderDetailsModal: Car not found in cars array, fetching from database",{orderCarId:pe,orderCarName:r.carName});try{const{supabase:le}=await ii(async()=>{const{supabase:qe}=await Promise.resolve().then(()=>ld);return{supabase:qe}},void 0),ne=typeof pe=="number"?pe:parseInt(pe.toString(),10),{data:Se,error:Ee}=await le.from("Cars").select("*").eq("id",ne).single();if(!Ee&&Se&&(de={id:Se.id,make:Se.make,model:Se.model,name:Se.name||void 0,year:Se.year||new Date().getFullYear(),price_per_day:Se.price_per_day,discount_percentage:Se.discount_percentage||void 0,category:Se.category||void 0,image_url:Se.image_url||void 0,photo_gallery:Se.photo_gallery||void 0,seats:Se.seats||void 0,transmission:Se.transmission||void 0,body:Se.body||void 0,fuel_type:Se.fuel_type||void 0,features:Se.features||void 0,rating:Se.rating||void 0,reviews:Se.reviews||void 0,status:Se.status||void 0,drivetrain:Se.drivetrain||void 0},de)){const qe=de.name||`${de.make} ${de.model}`,{mainImage:ve,photoGallery:Ae}=await Tn(qe);de.image_url=ve||de.image_url,de.photo_gallery=Ae.length>0?Ae:de.photo_gallery}}catch(le){console.error(`OrderDetailsModal: Error fetching car ${pe} from database:`,le)}}Y(de)})()},[r,E,r==null?void 0:r.car_id]),!r)return null;const B=r.start_date||r.pickupDate,$=r.start_time||r.pickupTime,T=r.end_date||r.returnDate,A=r.end_time||r.returnTime,{days:R,hours:L,totalHours:q}=Nhe(B,$,T,A),W=R,ee=R+L/24;let M=0,V=0;if(z){W>=2&&W<=4?V=z.price_2_4_days||0:W>=5&&W<=15?V=z.price_5_15_days||0:W>=16&&W<=30?V=z.price_16_30_days||0:W>30&&(V=z.price_over_30_days||0);const fe=z.discount_percentage||z.discount_percentage||0;if(fe>0&&(V=V*(1-fe/100)),M=V*W,L>0){const pe=L/24*V;M+=pe}}else{const fe=r.car;if(fe){W>=2&&W<=4?V=fe.price_2_4_days||0:W>=5&&W<=15?V=fe.price_5_15_days||0:W>=16&&W<=30?V=fe.price_16_30_days||0:W>30&&(V=fe.price_over_30_days||0);const pe=fe.discount_percentage||0;if(pe>0&&(V=V*(1-pe/100)),M=V*W,L>0){const de=L/24*V;M+=de}}}const U=fe=>{try{return new Date(fe).toLocaleDateString("ro-RO",{day:"numeric",month:"short",year:"numeric"})}catch{return fe}},I=fe=>{try{if(fe&&fe.includes(":")){const pe=fe.split(":");if(pe.length>=2)return`${pe[0]}:${pe[1]}`}return fe}catch{return fe}};return e?a.jsx(a.Fragment,{children:Na.createPortal(a.jsx(mr,{children:e&&a.jsx(Ie.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:1},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",style:{zIndex:1e4},onClick:t,children:a.jsxs(Ie.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:fe=>fe.stopPropagation(),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto mx-2 sm:mx-4",children:[a.jsxs("div",{className:"sticky top-0 border-b border-white/20 px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between z-10",style:{backgroundColor:"#1C1C1C"},children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:c("admin.orders.orderDetails")}),l&&a.jsxs("p",{className:"text-gray-400 text-xs sm:text-sm mt-1",children:[c("admin.orders.orderNumber"),r.id?r.id.toString().padStart(4,"0"):"N/A"]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-lg transition-colors flex-shrink-0",children:a.jsx(hn,{className:"w-5 h-5 text-white"})})]}),a.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0 mb-4",children:[a.jsxs("h3",{className:"text-base sm:text-lg font-bold text-white flex items-center gap-2",children:[a.jsx(ta,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"text-sm sm:text-base",children:c("admin.orders.rentalPeriod")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[((z==null?void 0:z.image_url)||(z==null?void 0:z.image)||((H=r.car)==null?void 0:H.image_url))&&a.jsx("img",{src:(z==null?void 0:z.image_url)||(z==null?void 0:z.image)||((D=r.car)==null?void 0:D.image_url),alt:(z?`${z.make} ${z.model}`.trim():"")||((G=r.car)==null?void 0:G.make)+" "+((Z=r.car)==null?void 0:Z.model)||c("admin.orders.unknownCar"),className:"w-10 h-7 sm:w-12 sm:h-8 object-cover rounded-md border border-white/10"}),a.jsx("span",{className:"text-white font-semibold text-xs sm:text-sm",children:(z?`${z.make} ${z.model}`.trim():"")||(((P=r.car)==null?void 0:P.make)+" "+((re=r.car)==null?void 0:re.model)&&((ce=r.car)==null?void 0:ce.make)+" "+((be=r.car)==null?void 0:be.model)!="Unknown Car"?((ae=r.car)==null?void 0:ae.make)+" "+((ue=r.car)==null?void 0:ue.model):"")||c("admin.orders.unknownCar")})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-3 sm:p-4 border border-white/10",children:[a.jsx("p",{className:"text-gray-400 text-xs sm:text-sm mb-2",children:c("admin.orders.pickup")}),a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(ta,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-white font-semibold text-sm sm:text-base",children:U(B)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ra,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-300 text-sm sm:text-base",children:I($)})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-3 sm:p-4 border border-white/10",children:[a.jsx("p",{className:"text-gray-400 text-xs sm:text-sm mb-2",children:c("admin.orders.return")}),a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(ta,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-white font-semibold text-sm sm:text-base",children:U(T)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ra,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-gray-300 text-sm sm:text-base",children:I(A)})]})]})]}),a.jsx("div",{className:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-white/10",children:a.jsxs("p",{className:"text-gray-400 text-xs sm:text-sm",children:[c("admin.orders.duration"),": ",a.jsxs("span",{className:"text-white font-semibold",children:[R," ",c("admin.orders.days"),L>0?`, ${L} ${c("admin.requestDetails.hours")||"ore"}`:""]})]})})]}),(()=>{var Se;let fe={};if(p&&Object.keys(p).length>0)console.log("OrderDetailsModal: Using options from request:",p),fe=p;else if(r.options&&Object.keys(r.options).length>0)if(console.log("OrderDetailsModal: Using options from order:",r.options),typeof r.options=="string")try{fe=JSON.parse(r.options)}catch{fe={}}else fe=r.options;else if(!fe||Object.keys(fe).length===0){console.log("OrderDetailsModal: No options found, checking features");const Ee=r.features;if(Ee)if(console.log("OrderDetailsModal: Found features:",Ee),Array.isArray(Ee))Ee.forEach(qe=>{const ve=qe.replace(/\s+/g,""),Ae={unlimitedKm:"unlimitedKm",unlimitedkm:"unlimitedKm",speedLimitIncrease:"speedLimitIncrease",speedlimitincrease:"speedLimitIncrease",tireInsurance:"tireInsurance",tireinsurance:"tireInsurance",personalDriver:"personalDriver",personaldriver:"personalDriver",priorityService:"priorityService",priorityservice:"priorityService",childSeat:"childSeat",childseat:"childSeat",simCard:"simCard",simcard:"simCard",roadsideAssistance:"roadsideAssistance",roadsideassistance:"roadsideAssistance"},me=ve.charAt(0).toLowerCase()+ve.slice(1);if(Ae[ve]||Ae[me]){const Ce=Ae[ve]||Ae[me]||ve;fe[Ce]=!0}else{const Ce=qe.toLowerCase();Ce.includes("unlimited")||Ce.includes("kilometraj")?fe.unlimitedKm=!0:Ce.includes("speed")||Ce.includes("vitez")||Ce.includes("limita")?fe.speedLimitIncrease=!0:Ce.includes("tire")||Ce.includes("anvelope")||Ce.includes("parbriz")?fe.tireInsurance=!0:Ce.includes("driver")||Ce.includes("ofer")||Ce.includes("sofer")?fe.personalDriver=!0:Ce.includes("priority")?fe.priorityService=!0:Ce.includes("child")||Ce.includes("copil")||Ce.includes("scaun")?fe.childSeat=!0:Ce.includes("sim")||Ce.includes("card")?fe.simCard=!0:(Ce.includes("roadside")||Ce.includes("asisten")||Ce.includes("rutier")||Ce.includes("asistenta"))&&(fe.roadsideAssistance=!0)}});else if(typeof Ee=="string")try{fe=JSON.parse(Ee)}catch{fe={}}else fe=Ee}console.log("OrderDetailsModal: Final parsedOptions:",fe);let pe=0;const de=(z==null?void 0:z.price_per_day)||r.price_per_day||((Se=r.car)==null?void 0:Se.price_per_day)||0;fe.unlimitedKm&&(pe+=de*ee*.5),fe.speedLimitIncrease&&(pe+=de*ee*.2),fe.tireInsurance&&(pe+=de*ee*.2),fe.personalDriver&&(pe+=800*W),fe.priorityService&&(pe+=1e3*W),fe.childSeat&&(pe+=100*W),fe.simCard&&(pe+=100*W),fe.roadsideAssistance&&(pe+=500*W);const le=M+pe,ne={unlimitedKm:"Kilometraj nelimitat",speedLimitIncrease:"Creterea limitei de vitez",tireInsurance:"Asigurare anvelope & parbriz",personalDriver:"ofer personal",priorityService:"Priority Service",childSeat:"Scaun copil",simCard:"Cartel SIM cu internet",roadsideAssistance:"Asisten rutier"};return a.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[a.jsxs("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4 flex items-center gap-2",children:[a.jsx(Pi,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"text-sm sm:text-base",children:c("admin.requestDetails.priceDetails")})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-300 text-xs sm:text-sm",children:c("admin.requestDetails.pricePerDay")}),a.jsx("span",{className:"text-white font-semibold text-sm sm:text-base",children:V>0?`${Math.round(V)} MDL`:"N/A"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-300 text-xs sm:text-sm",children:c("admin.requestDetails.numberOfDays")}),a.jsxs("span",{className:"text-white font-semibold text-sm sm:text-base",children:[W," ",c("admin.requestDetails.days"),L>0?`, ${L} ${c("admin.requestDetails.hours")}`:""]})]}),a.jsx("div",{className:"pt-2 border-t border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white font-medium text-sm sm:text-base",children:c("admin.requestDetails.basePrice")}),a.jsxs("span",{className:"text-white font-semibold text-sm sm:text-base",children:[Math.round(M).toLocaleString()," MDL"]})]})}),pe>0&&a.jsxs("div",{className:"pt-3 border-t border-white/10",children:[a.jsx("h4",{className:"text-sm font-bold text-white mb-3",children:c("admin.requestDetails.additionalServices")}),a.jsx("div",{className:"space-y-2 text-sm",children:Object.keys(fe).length>0&&(fe.unlimitedKm||fe.speedLimitIncrease||fe.tireInsurance||fe.personalDriver||fe.priorityService||fe.childSeat||fe.simCard||fe.roadsideAssistance)?a.jsxs(a.Fragment,{children:[fe.unlimitedKm&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:ne.unlimitedKm}),a.jsxs("span",{className:"text-white font-medium",children:[Math.round(de*ee*.5).toLocaleString()," MDL"]})]}),fe.speedLimitIncrease&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:ne.speedLimitIncrease}),a.jsxs("span",{className:"text-white font-medium",children:[Math.round(de*ee*.2).toLocaleString()," MDL"]})]}),fe.tireInsurance&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:ne.tireInsurance}),a.jsxs("span",{className:"text-white font-medium",children:[Math.round(de*ee*.2).toLocaleString()," MDL"]})]}),fe.personalDriver&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:ne.personalDriver}),a.jsxs("span",{className:"text-white font-medium",children:[(800*W).toLocaleString()," MDL"]})]}),fe.priorityService&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:ne.priorityService}),a.jsxs("span",{className:"text-white font-medium",children:[(1e3*W).toLocaleString()," MDL"]})]}),fe.childSeat&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:ne.childSeat}),a.jsxs("span",{className:"text-white font-medium",children:[(100*W).toLocaleString()," MDL"]})]}),fe.simCard&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:ne.simCard}),a.jsxs("span",{className:"text-white font-medium",children:[(100*W).toLocaleString()," MDL"]})]}),fe.roadsideAssistance&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:ne.roadsideAssistance}),a.jsxs("span",{className:"text-white font-medium",children:[(500*W).toLocaleString()," MDL"]})]})]}):null}),a.jsx("div",{className:"pt-2 border-t border-white/10 mt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-300 text-sm",children:c("admin.requestDetails.totalServices")}),a.jsxs("span",{className:"text-white font-semibold text-sm",children:[Math.round(pe).toLocaleString()," MDL"]})]})})]}),a.jsx("div",{className:"pt-2 border-t border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white font-semibold text-base sm:text-lg",children:c("admin.requestDetails.total")}),a.jsxs("span",{className:"text-emerald-400 font-bold text-lg sm:text-xl",children:[Math.round(le).toLocaleString()," MDL"]})]})})]})]})})(),(j==null?void 0:j.contract_url)&&a.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10 mb-4",children:[a.jsxs("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4 flex items-center gap-2",children:[a.jsx(Yc,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"text-sm sm:text-base",children:c("admin.orders.contract")})]}),a.jsxs("a",{href:j.contract_url,target:"_blank",rel:"noopener noreferrer",className:"w-full px-4 py-2.5 sm:py-3 bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/50 text-emerald-300 rounded-lg transition-all flex items-center justify-center gap-2 text-xs sm:text-sm font-semibold",children:[a.jsx(pO,{className:"w-4 h-4"}),a.jsx("span",{children:c("admin.orders.downloadContractPDF")})]}),a.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 mt-2 text-center",children:"Descarc contractul de nchiriere"})]}),l&&(j==null?void 0:j.status)!=="COMPLETED"&&a.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[a.jsxs("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4 flex items-center gap-2",children:[a.jsx(Yc,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"text-sm sm:text-base",children:"Aciuni"})]}),a.jsxs("div",{className:"space-y-3",children:[(j==null?void 0:j.status)==="CONTRACT"&&a.jsxs("button",{onClick:w,className:"w-full px-4 py-2.5 sm:py-3 bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/50 text-emerald-300 rounded-lg transition-all flex items-center justify-center gap-2 text-xs sm:text-sm font-semibold disabled:opacity-50",disabled:u,children:[u?a.jsx(ua,{className:"w-4 h-4 animate-spin"}):a.jsx(Yc,{className:"w-4 h-4"}),a.jsx("span",{children:"Creeaz Contract"})]}),((j==null?void 0:j.status)==="ACTIVE"||(j==null?void 0:j.status)==="CONTRACT")&&n&&a.jsxs("button",{onClick:()=>{window.confirm("Eti sigur c vrei s anulezi aceast comand? Aceast aciune va anula i cererea corespunztoare.")&&n(j)},className:"w-full px-4 py-2.5 sm:py-3 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 rounded-lg transition-all flex items-center justify-center gap-2 text-xs sm:text-sm font-semibold",children:[a.jsx(vO,{className:"w-4 h-4"}),a.jsx("span",{children:"Anuleaz Comanda"})]})]})]})]})]})})}),document.body)}):null},fE=()=>{const{t:e}=br(),t=kn(),{showSuccess:r,showError:n}=Ih(),[i,s]=_.useState([]),[o,l]=_.useState([]),[c,u]=_.useState(!0),[h,m]=_.useState(!1),[x,p]=_.useState(null),[v,y]=_.useState(null);_.useEffect(()=>{(async()=>{try{const Y=await lo(),B=await Promise.all(Y.map(async $=>{let T=$.name;(!T||T.trim()==="")&&(T=`${$.make} ${$.model}`);const{mainImage:A,photoGallery:R}=await Tn(T);return{...$,image_url:A||$.image_url,photo_gallery:R.length>0?R:$.photo_gallery}}));if(s(B),B.length>0){const $=await xx(B);l($)}}catch(Y){console.error("Error loading data:",Y)}finally{u(!1)}})()},[]);const g=()=>{console.log("[Dashboard] Car statuses:",i.map(B=>{var $;return{id:B.id,name:B.name||`${B.make} ${B.model}`,status:B.status,statusLower:($=B.status)==null?void 0:$.toLowerCase()}}));const z=i.filter(B=>{var L;const T=(((L=B.status)==null?void 0:L.trim())||"").toLowerCase(),A=o.some(q=>parseInt(q.carId)===parseInt(B.id,10)&&(q.status==="ACTIVE"||q.type==="rental"));return(T===""||T==="available"||T!=="ascuns"&&T!=="hidden"&&T!=="maintenance"&&T!=="deleted"&&T!=="nchiriat"&&T!=="rented"&&T!=="borrowed")&&!A}),Y=i.filter(B=>{var R;const T=(((R=B.status)==null?void 0:R.trim())||"").toLowerCase();return o.some(L=>parseInt(L.carId)===parseInt(B.id,10)&&(L.status==="ACTIVE"||L.type==="rental"))||T==="nchiriat"||T==="rented"||T==="borrowed"});return console.log(`[Dashboard] Free cars: ${z.length}, Rented cars: ${Y.length}`),{freeCars:z,rentedCars:Y}},{freeCars:j,rentedCars:k}=g(),w=_.useMemo(()=>{const z=o.filter(B=>B.type==="rental"&&B.status==="COMPLETED"),Y=B=>{const $=new Date,T=[];let A,R,L;switch(B){case"24H":A=new Date($.getTime()-24*60*60*1e3),R=24,L=60*60*1e3;break;case"7D":A=new Date($.getTime()-7*24*60*60*1e3),R=7,L=24*60*60*1e3;break;case"30D":A=new Date($.getTime()-30*24*60*60*1e3),R=30,L=24*60*60*1e3;break;case"WEEKS":A=new Date($.getTime()-28*24*60*60*1e3),R=4,L=7*24*60*60*1e3;break;case"12M":A=new Date($.getTime()-365*24*60*60*1e3),R=12,L=30*24*60*60*1e3;break}for(let q=0;q<R;q++){const W=new Date(A.getTime()+q*L),ee=new Date(A.getTime()+(q+1)*L),V=z.filter(I=>{if(!I.createdAt)return!1;const H=new Date(I.createdAt);return H>=W&&H<ee}).reduce((I,H)=>{const D=H.amount||parseFloat(H.total_amount)||0;return I+D},0),U=z.length>0?z.reduce((I,H)=>I+(H.amount||parseFloat(H.total_amount)||0),0)/z.length*.7:0;T.push({day:q+1,sales:Math.round(V),baseline:Math.round(U)})}return T};return{"24H":Y("24H"),"7D":Y("7D"),"30D":Y("30D"),WEEKS:Y("WEEKS"),"12M":Y("12M")}},[o]),E=_.useMemo(()=>{const z=o.filter(A=>A.type==="rental"&&A.status==="COMPLETED"),Y=z.reduce((A,R)=>{const L=R.amount||parseFloat(R.total_amount)||0;return A+L},0),B=z.length,$=z.length>0?Y/z.length:0,T=(A,R=2)=>A.toFixed(R).replace(/\B(?=(\d{3})+(?!\d))/g,",");return{totalSales:Y,totalOrders:B,avgOrderPrice:$,formattedTotalSales:T(Y),formattedAvgOrderPrice:T($)}},[o]),O=_.useMemo(()=>{const z=o.filter(B=>B.type==="rental"&&B.status==="COMPLETED"),Y=B=>{const $=new Date;let T,A,R;switch(B){case"24H":T=new Date($.getTime()-24*60*60*1e3),A=new Date($.getTime()-48*60*60*1e3),R=new Date($.getTime()-24*60*60*1e3);break;case"7D":T=new Date($.getTime()-7*24*60*60*1e3),A=new Date($.getTime()-14*24*60*60*1e3),R=new Date($.getTime()-7*24*60*60*1e3);break;case"30D":T=new Date($.getTime()-30*24*60*60*1e3),A=new Date($.getTime()-60*24*60*60*1e3),R=new Date($.getTime()-30*24*60*60*1e3);break;case"WEEKS":T=new Date($.getTime()-28*24*60*60*1e3),A=new Date($.getTime()-56*24*60*60*1e3),R=new Date($.getTime()-28*24*60*60*1e3);break;case"12M":T=new Date($.getTime()-365*24*60*60*1e3),A=new Date($.getTime()-730*24*60*60*1e3),R=new Date($.getTime()-365*24*60*60*1e3);break}const L=z.filter(V=>{if(!V.createdAt)return!1;const U=new Date(V.createdAt);return U>=T&&U<=$}),q=z.filter(V=>{if(!V.createdAt)return!1;const U=new Date(V.createdAt);return U>=A&&U<R}),W=L.reduce((V,U)=>{const I=U.amount||parseFloat(U.total_amount)||0;return V+I},0),ee=q.reduce((V,U)=>{const I=U.amount||parseFloat(U.total_amount)||0;return V+I},0),M=ee>0?(W-ee)/ee*100:W>0?100:0;return{sales:W,change:M,isPositive:M>=0}};return{"24H":Y("24H"),"7D":Y("7D"),"30D":Y("30D"),WEEKS:Y("WEEKS"),"12M":Y("12M")}},[o]);return c?a.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-center h-64",children:a.jsx(ua,{className:"w-8 h-8 animate-spin text-white"})}):a.jsxs(Ie.div,{initial:{opacity:1},animate:{opacity:1},transition:{duration:.4},className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(ex,{title:e("admin.dashboard.totalSales"),value:`${E.formattedTotalSales} MDL`,trend:"up",trendValue:"2.4%",valueSize:"md",spark:a.jsx(yx,{width:"65%",height:36,children:a.jsx(jx,{data:c1,children:a.jsx(Vf,{dataKey:"y",stroke:"#EF4444",strokeWidth:2,dot:!1})})})}),a.jsx(ex,{title:e("admin.dashboard.totalOrders"),value:E.totalOrders,trend:"up",trendValue:"8.6%",valueSize:"md",spark:a.jsx(yx,{width:"65%",height:36,children:a.jsx(jx,{data:c1,children:a.jsx(Vf,{dataKey:"y",stroke:"#10B981",strokeWidth:2,dot:!1})})})}),a.jsx("div",{className:"hidden md:block",children:a.jsx(ex,{title:e("admin.dashboard.avgOrderValue"),value:`${E.formattedAvgOrderPrice} MDL`,trend:"up",trendValue:"6.0%",valueSize:"md",spark:a.jsx(yx,{width:"65%",height:36,children:a.jsx(jx,{data:c1,children:a.jsx(Vf,{dataKey:"y",stroke:"#9CA3AF",strokeWidth:2,dot:!1})})})})}),a.jsx(ex,{title:e("admin.dashboard.fleetStatus"),value:`${j.length}/${i.length}`,valueSize:"md",subtitle:a.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[a.jsxs("span",{className:"text-emerald-400",children:[j.length," ",e("admin.dashboard.available")]}),a.jsxs("span",{className:"text-red-400",children:[k.length," ",e("admin.dashboard.rented")]})]})})]}),a.jsxs(Ie.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.15},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-white/10 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:e("admin.dashboard.fleetStatus")}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-300",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold text-emerald-400",children:j.length})," ",e("admin.dashboard.available")]}),a.jsx("span",{className:"text-gray-500",children:""}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold text-red-400",children:k.length})," ",e("admin.dashboard.rented")]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-white mb-3",children:e("admin.dashboard.available")}),a.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:j.length>0?j.map(z=>a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-lg border border-white/10 hover:bg-white/10 transition-colors",children:[a.jsx("img",{src:z.image||z.image_url||"",alt:z.name||`${z.make} ${z.model}`,className:"w-12 h-12 object-cover rounded-md"}),a.jsx("p",{className:"text-sm font-medium text-white truncate flex-1",children:z.name||`${z.make} ${z.model}`}),a.jsx("button",{onClick:()=>{t(`/admin?section=requests&carId=${z.id}`)},className:"px-3 py-1.5 bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/50 text-emerald-300 text-xs font-semibold rounded-lg transition-all flex-shrink-0",children:e("admin.dashboard.book")})]},z.id)):a.jsx("div",{className:"text-center py-6 text-gray-400 text-sm",children:""})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-white mb-3",children:e("admin.dashboard.rented")}),a.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:k.length>0?k.map(z=>{const Y=o.find(B=>parseInt(B.carId)===z.id&&(B.status==="ACTIVE"||B.type==="rental"));return a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-lg border border-white/10 hover:bg-white/10 transition-colors",children:[a.jsx("img",{src:z.image||z.image_url||"",alt:z.name||`${z.make} ${z.model}`,className:"w-12 h-12 object-cover rounded-md"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-white truncate",children:z.name||`${z.make} ${z.model}`}),a.jsx("p",{className:"text-xs text-gray-400 truncate",children:Y!=null&&Y.returnDate?(()=>{try{const B=new Date(Y.returnDate);let $=Y.returnTime;if(!$&&Y.returnDate.includes("T")){const R=Y.returnDate.match(/T(\d{2}:\d{2})/);R&&($=R[1])}$=$||"17:00";const T=B.toLocaleDateString("ro-RO",{day:"numeric",month:"short",year:"numeric"}),A=$.includes(":")?$.split(":").slice(0,2).join(":"):$;return`${e("admin.dashboard.until")} ${T}, ${A}`}catch{return`${e("admin.dashboard.until")} ${Y.returnDate}`}})():e("admin.dashboard.rented")})]}),a.jsx("button",{onClick:()=>{Y&&(p(Y),m(!0))},className:"px-3 py-1.5 bg-white/10 hover:bg-white/20 border border-white/20 text-white text-xs font-semibold rounded-lg transition-all flex-shrink-0",children:e("admin.dashboard.view")})]},z.id)}):a.jsx("div",{className:"text-center py-6 text-gray-400 text-sm",children:""})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(Ie.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg",children:a.jsx(o7,{allPeriodData:w,periodStats:O})}),a.jsx(Ie.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg",children:a.jsxs("div",{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-xs font-semibold tracking-wider text-gray-400 uppercase mb-1",children:e("admin.dashboard.topPerformers")}),a.jsx("h3",{className:"text-3xl md:text-4xl font-bold text-white",children:e("admin.dashboard.mostRented")})]}),a.jsx("div",{className:"space-y-4",children:(()=>{const z=i.map(B=>{const $=o.filter(A=>parseInt(A.carId)===parseInt(B.id,10)&&A.type==="rental"&&A.status==="COMPLETED"),T=$.reduce((A,R)=>{const L=R.amount||parseFloat(R.total_amount||"0");return A+(typeof L=="number"?L:0)},0);return{...B,rentals:$.length,revenue:T}}).filter(B=>B.rentals>0).sort((B,$)=>$.revenue-B.revenue).slice(0,5);if(z.length===0)return a.jsx("div",{className:"text-center py-8 text-gray-400",children:a.jsx("p",{className:"text-sm",children:"Nu exist date disponibile"})});const Y=Math.max(...z.map(B=>B.revenue),1);return z.map((B,$)=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[a.jsx("span",{className:"text-sm font-bold text-gray-400 w-6",children:$+1}),a.jsx("img",{src:B.image||B.image_url||"",alt:B.name||`${B.make} ${B.model}`,className:"w-10 h-10 object-cover rounded-md"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-white truncate",children:B.name||`${B.make} ${B.model}`}),a.jsxs("p",{className:"text-xs text-gray-400",children:[B.rentals," ",B.rentals>1?e("admin.dashboard.rentals"):e("admin.dashboard.rental")]})]})]}),a.jsxs("span",{className:"text-sm font-bold text-white",children:[B.revenue.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})," MDL"]})]}),a.jsx("div",{className:"relative h-2 bg-white/5 rounded-full overflow-hidden",children:a.jsx("div",{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-gray-400 to-gray-500 rounded-full",style:{width:`${B.revenue/Y*100}%`}})})]},B.id))})()})]})})]}),a.jsx(Zy,{isOpen:h,onClose:()=>{m(!1),p(null)},order:x,onCancel:async z=>{if(window.confirm(e("admin.orders.confirmCancelOrder"))){y(z.id.toString());try{const Y=await py(z.id.toString());if(Y.success){r(e("admin.orders.orderCancelled"));const B=await xx(i);l(B),m(!1),p(null)}else n(`${e("admin.orders.orderCancelFailed")} ${Y.error}`)}catch(Y){console.error("Error cancelling order:",Y),n(e("admin.orders.orderCancelErrorOccurred"))}finally{y(null)}}},onRedo:async z=>{if(window.confirm(e("admin.orders.confirmRestoreOrder"))){y(z.id.toString());try{const Y=await gy(z.id.toString());if(Y.success){r(e("admin.orders.orderRestored"));const B=await xx(i);l(B),m(!1),p(null)}else n(`${e("admin.orders.orderRestoreFailed")} ${Y.error}`)}catch(Y){console.error("Error restoring order:",Y),n(e("admin.orders.orderRestoreErrorOccurred"))}finally{y(null)}}},isProcessing:v===(x==null?void 0:x.id.toString())})]})};function li(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function cc(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function _he(e,t){const r=li(e);return isNaN(t)?cc(e,NaN):(r.setDate(r.getDate()+t),r)}function K3(e,t){const r=li(e);if(isNaN(t))return cc(e,NaN);if(!t)return r;const n=r.getDate(),i=cc(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const l7=6048e5,She=864e5;let khe={};function Qy(){return khe}function om(e,t){var l,c,u,h;const r=Qy(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,i=li(e),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function $v(e){return om(e,{weekStartsOn:1})}function c7(e){const t=li(e),r=t.getFullYear(),n=cc(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=$v(n),s=cc(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=$v(s);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Bv(e){const t=li(e);return t.setHours(0,0,0,0),t}function mE(e){const t=li(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Che(e,t){const r=Bv(e),n=Bv(t),i=+r-mE(r),s=+n-mE(n);return Math.round((i-s)/She)}function Phe(e){const t=c7(e),r=cc(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),$v(r)}function Ehe(e,t){const r=Bv(e),n=Bv(t);return+r==+n}function Dhe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ahe(e){if(!Dhe(e)&&typeof e!="number")return!1;const t=li(e);return!isNaN(Number(t))}function The(e){const t=li(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Ohe(e){const t=li(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Lhe(e){const t=li(e),r=cc(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Ihe(e,t){const r=t==null?void 0:t.weekStartsOn,n=li(e),i=n.getDay(),s=(i<r?-7:0)+6-(i-r);return n.setDate(n.getDate()+s),n.setHours(23,59,59,999),n}const Mhe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Rhe=(e,t,r)=>{let n;const i=Mhe[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function s2(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const zhe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Fhe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$he={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bhe={date:s2({formats:zhe,defaultWidth:"full"}),time:s2({formats:Fhe,defaultWidth:"full"}),dateTime:s2({formats:$he,defaultWidth:"full"})},Uhe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qhe=(e,t,r,n)=>Uhe[e];function dp(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const Hhe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Vhe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Whe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Khe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ghe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Yhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Xhe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Jhe={ordinalNumber:Xhe,era:dp({values:Hhe,defaultWidth:"wide"}),quarter:dp({values:Vhe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:dp({values:Whe,defaultWidth:"wide"}),day:dp({values:Khe,defaultWidth:"wide"}),dayPeriod:dp({values:Ghe,defaultWidth:"wide",formattingValues:Yhe,defaultFormattingWidth:"wide"})};function hp(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Qhe(l,m=>m.test(o)):Zhe(l,m=>m.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const h=t.slice(o.length);return{value:u,rest:h}}}function Zhe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Qhe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function efe(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const tfe=/^(\d+)(th|st|nd|rd)?/i,rfe=/\d+/i,nfe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},afe={any:[/^b/i,/^(a|c)/i]},ife={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sfe={any:[/1/i,/2/i,/3/i,/4/i]},ofe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lfe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cfe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ufe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dfe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hfe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ffe={ordinalNumber:efe({matchPattern:tfe,parsePattern:rfe,valueCallback:e=>parseInt(e,10)}),era:hp({matchPatterns:nfe,defaultMatchWidth:"wide",parsePatterns:afe,defaultParseWidth:"any"}),quarter:hp({matchPatterns:ife,defaultMatchWidth:"wide",parsePatterns:sfe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hp({matchPatterns:ofe,defaultMatchWidth:"wide",parsePatterns:lfe,defaultParseWidth:"any"}),day:hp({matchPatterns:cfe,defaultMatchWidth:"wide",parsePatterns:ufe,defaultParseWidth:"any"}),dayPeriod:hp({matchPatterns:dfe,defaultMatchWidth:"any",parsePatterns:hfe,defaultParseWidth:"any"})},mfe={code:"en-US",formatDistance:Rhe,formatLong:Bhe,formatRelative:qhe,localize:Jhe,match:ffe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pfe(e){const t=li(e);return Che(t,Lhe(t))+1}function gfe(e){const t=li(e),r=+$v(t)-+Phe(t);return Math.round(r/l7)+1}function u7(e,t){var h,m,x,p;const r=li(e),n=r.getFullYear(),i=Qy(),s=(t==null?void 0:t.firstWeekContainsDate)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(x=i.locale)==null?void 0:x.options)==null?void 0:p.firstWeekContainsDate)??1,o=cc(e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=om(o,t),c=cc(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=om(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function xfe(e,t){var l,c,u,h;const r=Qy(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,i=u7(e,t),s=cc(e,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),om(s,t)}function vfe(e,t){const r=li(e),n=+om(r,t)-+xfe(r,t);return Math.round(n/l7)+1}function on(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ku={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return on(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):on(r+1,2)},d(e,t){return on(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return on(e.getHours()%12||12,t.length)},H(e,t){return on(e.getHours(),t.length)},m(e,t){return on(e.getMinutes(),t.length)},s(e,t){return on(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return on(i,t.length)}},vf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pE={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Ku.y(e,t)},Y:function(e,t,r,n){const i=u7(e,n),s=i>0?i:1-i;if(t==="YY"){const o=s%100;return on(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):on(s,t.length)},R:function(e,t){const r=c7(e);return on(r,t.length)},u:function(e,t){const r=e.getFullYear();return on(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return on(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return on(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ku.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return on(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=vfe(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):on(i,t.length)},I:function(e,t,r){const n=gfe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):on(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ku.d(e,t)},D:function(e,t,r){const n=pfe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):on(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return on(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return on(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return on(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=vf.noon:n===0?i=vf.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=vf.evening:n>=12?i=vf.afternoon:n>=4?i=vf.morning:i=vf.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ku.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ku.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):on(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):on(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ku.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ku.s(e,t)},S:function(e,t){return Ku.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return xE(n);case"XXXX":case"XX":return th(n);case"XXXXX":case"XXX":default:return th(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return xE(n);case"xxxx":case"xx":return th(n);case"xxxxx":case"xxx":default:return th(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+gE(n,":");case"OOOO":default:return"GMT"+th(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+gE(n,":");case"zzzz":default:return"GMT"+th(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return on(n,t.length)},T:function(e,t,r){const n=e.getTime();return on(n,t.length)}};function gE(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+t+on(s,2)}function xE(e,t){return e%60===0?(e>0?"-":"+")+on(Math.abs(e)/60,2):th(e,t)}function th(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=on(Math.trunc(n/60),2),s=on(n%60,2);return r+i+t+s}const vE=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},d7=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},yfe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return vE(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",vE(n,t)).replace("{{time}}",d7(i,t))},bfe={p:d7,P:yfe},wfe=/^D+$/,jfe=/^Y+$/,Nfe=["D","DD","YY","YYYY"];function _fe(e){return wfe.test(e)}function Sfe(e){return jfe.test(e)}function kfe(e,t,r){const n=Cfe(e,t,r);if(console.warn(n),Nfe.includes(e))throw new RangeError(n)}function Cfe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Pfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Efe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Dfe=/^'([^]*?)'?$/,Afe=/''/g,Tfe=/[a-zA-Z]/;function ao(e,t,r){var h,m,x,p;const n=Qy(),i=n.locale??mfe,s=n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(x=n.locale)==null?void 0:x.options)==null?void 0:p.weekStartsOn)??0,l=li(e);if(!Ahe(l))throw new RangeError("Invalid time value");let c=t.match(Efe).map(v=>{const y=v[0];if(y==="p"||y==="P"){const g=bfe[y];return g(v,i.formatLong)}return v}).join("").match(Pfe).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:Ofe(v)};if(pE[y])return{isToken:!0,value:v};if(y.match(Tfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(v=>{if(!v.isToken)return v.value;const y=v.value;(Sfe(y)||_fe(y))&&kfe(y,t,String(e));const g=pE[y[0]];return g(l,y,i.localize,u)}).join("")}function Ofe(e){const t=e.match(Dfe);return t?t[1].replace(Afe,"'"):e}function G3(e,t){const r=li(e),n=li(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function h7(e,t){return K3(e,-1)}const Lfe=({title:e,orders:t,loading:r=!1,onOrderClick:n,onAddOrder:i,initialSearch:s,showCancelled:o=!1,onToggleShowCancelled:l,cars:c})=>{const{t:u}=br(),[h,m]=_.useState(s||""),[x,p]=_.useState("status"),[v,y]=_.useState("asc"),[g,j]=_.useState(1),k=6,w=c||nc,E=_.useCallback(W=>{const ee=w.find(Me=>Me.id.toString()===W.carId);if(!ee)return W.amount||0;const M=Me=>{if(!Me)return"00:00";if(Me.includes("AM")||Me.includes("PM")){const[He,at]=Me.split(" "),[pt,ge]=He.split(":");let Le=parseInt(pt);return at==="PM"&&Le!==12&&(Le+=12),at==="AM"&&Le===12&&(Le=0),`${String(Le).padStart(2,"0")}:${ge||"00"}`}if(Me.includes(":")){const[He,at]=Me.split(":");return`${String(parseInt(He)).padStart(2,"0")}:${at||"00"}`}return"00:00"},V=new Date(W.pickupDate),U=new Date(W.returnDate),I=M(W.pickupTime),H=M(W.returnTime),[D,G]=I.split(":").map(Number),[Z,P]=H.split(":").map(Number),re=new Date(V);re.setHours(D,G,0,0);const ce=new Date(U);Z===0&&P===0?ce.setHours(23,59,59,999):ce.setHours(Z,P,0,0);const be=ce.getTime()-re.getTime(),ae=Math.floor(be/(1e3*60*60*24)),ue=Math.floor(be%(1e3*60*60*24)/(1e3*60*60)),fe=ae,pe=ue>=0?ue:0,de=fe,le=fe+pe/24;let ne=0,Se=0;de>=2&&de<=4?Se=ee.price_2_4_days||0:de>=5&&de<=15?Se=ee.price_5_15_days||0:de>=16&&de<=30?Se=ee.price_16_30_days||0:de>30&&(Se=ee.price_over_30_days||0);const Ee=ee.discount_percentage||ee.discount_percentage||0;if(Ee>0&&(Se=Se*(1-Ee/100)),ne=Se*de,pe>0){const Me=pe/24*Se;ne+=Me}const qe=W.options||W.features;let ve={};if(qe)if(typeof qe=="string")try{ve=JSON.parse(qe)}catch{ve={}}else Array.isArray(qe)?(ve={},qe.forEach(Me=>{const He=Me.toLowerCase();He.includes("unlimited")||He.includes("kilometraj")?ve.unlimitedKm=!0:He.includes("speed")||He.includes("vitez")?ve.speedLimitIncrease=!0:He.includes("tire")||He.includes("anvelope")||He.includes("parbriz")?ve.tireInsurance=!0:He.includes("driver")||He.includes("ofer")?ve.personalDriver=!0:He.includes("priority")?ve.priorityService=!0:He.includes("child")||He.includes("copil")||He.includes("scaun")?ve.childSeat=!0:He.includes("sim")||He.includes("card")?ve.simCard=!0:(He.includes("roadside")||He.includes("asisten")||He.includes("rutier"))&&(ve.roadsideAssistance=!0)})):ve=qe;let Ae=0;const me=ee.price_per_day;ve.unlimitedKm&&(Ae+=me*le*.5),ve.speedLimitIncrease&&(Ae+=me*le*.2),ve.tireInsurance&&(Ae+=me*le*.2),ve.personalDriver&&(Ae+=800*de),ve.priorityService&&(Ae+=1e3*de),ve.childSeat&&(Ae+=100*de),ve.simCard&&(Ae+=100*de),ve.roadsideAssistance&&(Ae+=500*de);const Ce=ne+Ae;return Math.round(Ce)},[w]);_.useEffect(()=>{s!==void 0&&m(s)},[s]);const O=_.useMemo(()=>{let W=t.filter(ee=>{var H,D;const M=h.toLowerCase(),V=typeof ee.id=="string"?ee.id:ee.id.toString(),U=ee.customerName.toLowerCase().includes(M)||((H=ee.customerPhone)==null?void 0:H.toLowerCase().includes(M))||((D=ee.customerEmail)==null?void 0:D.toLowerCase().includes(M))||ee.carName.toLowerCase().includes(M)||V.toLowerCase().includes(M),I=o?ee.status==="CANCELLED":ee.status!=="CANCELLED";return U&&I});if(x)W.sort((ee,M)=>{let V=0;if(x==="date")V=new Date(ee.createdAt).getTime()-new Date(M.createdAt).getTime();else if(x==="customer")V=ee.customerName.localeCompare(M.customerName);else if(x==="amount")V=E(ee)-E(M);else if(x==="status"){const U={CONTRACT:0,ACTIVE:1,COMPLETED:2,CANCELLED:3};V=(U[ee.status]||0)-(U[M.status]||0)}return v==="asc"?V:-V});else{const ee={CONTRACT:0,ACTIVE:1,COMPLETED:2,CANCELLED:3};W.sort((M,V)=>(ee[M.status]||0)-(ee[V.status]||0))}return W},[t,h,x,v,o,E]),z=Math.ceil(O.length/k),Y=O.slice((g-1)*k,g*k),B=W=>{W<1||W>z||j(W)},$=W=>{x===W?y(ee=>ee==="asc"?"desc":"asc"):(p(W),y(W==="date"?"desc":"asc")),j(1)},T=W=>(typeof W.id=="number"?W.id:parseInt(W.id.toString(),10))||0,A=W=>{const ee={CONTRACT:{bg:"bg-orange-500/20",text:"text-orange-300",border:"border-orange-500/50"},ACTIVE:{bg:"bg-blue-500/20",text:"text-blue-300",border:"border-blue-500/50"},COMPLETED:{bg:"bg-emerald-500/20",text:"text-emerald-300",border:"border-emerald-500/50"},CANCELLED:{bg:"bg-gray-500/20",text:"text-gray-300",border:"border-gray-500/50"}},M=ee[W]||ee.ACTIVE,U={CONTRACT:u("admin.status.contract"),ACTIVE:u("admin.status.active"),COMPLETED:u("admin.status.completed"),CANCELLED:u("admin.status.cancelled")}[W]||W.charAt(0)+W.slice(1).toLowerCase();return a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold border backdrop-blur-sm ${M.bg} ${M.text} ${M.border}`,children:U})},R=W=>{try{return ao(new Date(W),"MMM dd, yyyy")}catch{return W}},L=W=>{if(n){const ee=T(W);n(W,ee)}},q=W=>{const ee=W.trim().split(" ");return ee.length>=2?`${ee[0][0]}${ee[ee.length-1][0]}`.toUpperCase():W.substring(0,2).toUpperCase()};return r?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(ua,{className:"w-8 h-8 animate-spin text-white/50"})}):a.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"px-3 md:px-6 py-3 md:py-4 border-b border-white/10",children:a.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3 md:gap-4",children:[a.jsx("div",{children:a.jsx("h2",{className:"text-lg md:text-xl font-bold text-white",children:e})}),a.jsx("div",{className:"flex items-center gap-2 flex-wrap w-full md:w-auto",children:l&&a.jsx("button",{onClick:l,className:`flex items-center justify-center gap-1.5 px-3 md:px-4 py-2 text-xs md:text-sm font-semibold rounded-lg border transition-all whitespace-nowrap ${o?"bg-red-500/20 text-red-300 border-red-500/50 hover:bg-red-500/30 hover:border-red-500/60":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:u(o?"admin.orders.hideCancelled":"admin.orders.showCancelled")})})]}),a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3 md:gap-4",children:[a.jsx("div",{className:"w-full md:flex-1 md:max-w-md",children:a.jsxs("div",{className:"relative",children:[a.jsx(ic,{className:"absolute left-2.5 md:left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-3.5 h-3.5 md:w-4 md:h-4"}),a.jsx("input",{type:"text",placeholder:u("admin.placeholders.searchOrders"),value:h,onChange:W=>{m(W.target.value),j(1)},className:"w-full pl-9 md:pl-10 pr-3 md:pr-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/50 text-white text-xs md:text-sm placeholder-gray-400"})]})}),a.jsxs("div",{className:"w-full md:w-auto flex flex-col md:flex-row items-stretch md:items-center gap-2",children:[a.jsx("span",{className:"hidden md:inline text-xs font-semibold text-gray-400 uppercase tracking-wider",children:u("admin.orders.sortBy")}),a.jsx("span",{className:"md:hidden text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:u("admin.orders.sortBy")}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("button",{onClick:()=>$("date"),className:`flex items-center gap-1 px-2.5 md:px-3 py-1.5 text-xs font-semibold rounded-lg border transition-all flex-1 sm:flex-initial min-w-0 ${x==="date"?"bg-red-500/20 text-red-300 border-red-500/50":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:[a.jsx("span",{className:"truncate",children:u("admin.orders.date")}),x==="date"&&(v==="asc"?a.jsx(ki,{className:"w-3 h-3 flex-shrink-0"}):a.jsx(_i,{className:"w-3 h-3 flex-shrink-0"})),x!=="date"&&a.jsx(Si,{className:"w-3 h-3 opacity-50 flex-shrink-0"})]}),a.jsxs("button",{onClick:()=>$("amount"),className:`flex items-center gap-1 px-2.5 md:px-3 py-1.5 text-xs font-semibold rounded-lg border transition-all flex-1 sm:flex-initial min-w-0 ${x==="amount"?"bg-red-500/20 text-red-300 border-red-500/50":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:[a.jsx("span",{className:"truncate",children:u("admin.orders.amount")}),x==="amount"&&(v==="asc"?a.jsx(ki,{className:"w-3 h-3 flex-shrink-0"}):a.jsx(_i,{className:"w-3 h-3 flex-shrink-0"})),x!=="amount"&&a.jsx(Si,{className:"w-3 h-3 opacity-50 flex-shrink-0"})]}),x&&x!=="status"&&a.jsx("button",{onClick:()=>{p("status"),y("asc")},className:"px-2.5 md:px-3 py-1.5 text-xs font-semibold text-gray-400 hover:text-white transition-colors whitespace-nowrap",children:u("admin.orders.clearSort")})]})]})]})]})}),a.jsx("div",{className:"block md:hidden p-4 space-y-4",children:Y.length===0?a.jsx("div",{className:"px-4 py-12 text-center text-gray-400",children:u("admin.orders.noOrders")}):Y.map(W=>{const ee=W.carImage||W.avatar||"";return a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:bg-white/10 transition cursor-pointer",onClick:()=>L(W),children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("span",{className:"text-white font-semibold text-sm",children:["#",T(W).toString().padStart(4,"0")]}),A(W.status)]}),a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-xs flex-shrink-0 shadow-md",children:q(W.customerName||"U")}),a.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[a.jsx("span",{className:"font-semibold text-white text-sm truncate",children:W.customerName||"Unknown"}),W.customerPhone&&a.jsx("span",{className:"text-gray-400 text-xs truncate",children:W.customerPhone})]})]}),a.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-white/10",children:[ee?a.jsx("img",{src:ee,alt:W.carName||"Car",className:"w-12 h-12 object-cover rounded-md border border-white/10 flex-shrink-0"}):a.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-md border border-white/10 flex items-center justify-center flex-shrink-0",children:a.jsx(Pi,{className:"w-5 h-5 text-gray-400"})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx("p",{className:"text-white font-semibold text-sm truncate",children:W.carName||"Unknown Car"})})]}),(W.pickupDate||W.returnDate)&&a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[W.pickupDate&&a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-xs mb-1",children:u("admin.requests.pickup")||"Pickup"}),a.jsx("p",{className:"text-white text-sm font-medium",children:W.pickupDate?R(W.pickupDate):""}),W.pickupTime&&a.jsx("p",{className:"text-gray-400 text-xs",children:W.pickupTime})]}),W.returnDate&&a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-xs mb-1",children:u("admin.requests.return")||"Return"}),a.jsx("p",{className:"text-white text-sm font-medium",children:W.returnDate?R(W.returnDate):""}),W.returnTime&&a.jsx("p",{className:"text-gray-400 text-xs",children:W.returnTime})]})]}),a.jsxs("div",{className:"pt-4 border-t border-white/10",children:[a.jsx("p",{className:"text-gray-400 text-xs mb-1",children:u("admin.orders.amount")}),a.jsx("p",{className:"text-white font-semibold text-base",children:E(W)>0?`${E(W).toLocaleString()} MDL`:a.jsx("span",{className:"text-gray-400",children:""})})]})]},W.id)})}),a.jsx("div",{className:"hidden md:block overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-white/10",children:[a.jsx("thead",{className:"bg-white/5",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:u("admin.orders.orderId")}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:u("admin.orders.customer")}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:u("admin.orders.vehicle")}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:u("admin.orders.status")}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:a.jsxs("button",{onClick:()=>$("amount"),className:"flex items-center gap-1.5 hover:text-white transition-colors",children:[u("admin.orders.amount"),x==="amount"?v==="asc"?a.jsx(ki,{className:"w-3 h-3"}):a.jsx(_i,{className:"w-3 h-3"}):a.jsx(Si,{className:"w-3 h-3 opacity-50"})]})})]})}),a.jsx("tbody",{className:"divide-y divide-white/10",children:Y.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-400",children:u("admin.orders.noOrders")})}):Y.map(W=>a.jsxs("tr",{className:"hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>L(W),children:[a.jsx("td",{className:"px-6 py-3",children:a.jsxs("span",{className:"text-white font-semibold text-sm",children:["#",T(W).toString().padStart(4,"0")]})}),a.jsx("td",{className:"px-6 py-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-xs flex-shrink-0 shadow-md",children:q(W.customerName)}),a.jsxs("div",{className:"flex flex-col min-w-0",children:[a.jsx("span",{className:"font-semibold text-white text-sm truncate",children:W.customerName}),a.jsx("span",{className:"text-gray-400 text-xs truncate",children:W.customerPhone||"N/A"})]})]})}),a.jsx("td",{className:"px-6 py-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[W.carImage||W.avatar?a.jsx("img",{src:W.carImage||W.avatar,alt:W.carName||"Car",className:"w-10 h-10 object-cover rounded-md border border-white/10 flex-shrink-0"}):a.jsx("div",{className:"w-10 h-10 bg-white/5 rounded-md border border-white/10 flex items-center justify-center flex-shrink-0",children:a.jsx(Pi,{className:"w-4 h-4 text-gray-400"})}),a.jsx("div",{children:a.jsx("p",{className:"text-white font-semibold text-sm",children:W.carName||"Unknown Car"})})]})}),a.jsx("td",{className:"px-6 py-3",children:A(W.status)}),a.jsx("td",{className:"px-6 py-3 text-white font-semibold text-sm",children:E(W)>0?`${E(W).toLocaleString()} MDL`:a.jsx("span",{className:"text-gray-400",children:""})})]},W.id))})]})}),a.jsxs("div",{className:"px-3 md:px-6 py-3 md:py-4 border-t border-white/10 flex flex-col sm:flex-row items-center justify-between gap-3",children:[a.jsxs("div",{className:"text-xs md:text-sm text-gray-300 text-center sm:text-left",children:[u("admin.orders.showing")," ",Y.length>0?(g-1)*k+1:0," ",u("admin.orders.to")," ",Math.min(g*k,O.length)," ",u("admin.orders.of")," ",O.length," ",u("admin.orders.orders")]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>B(g-1),disabled:g===1,className:"flex items-center gap-1.5 md:gap-2 px-2.5 md:px-3 py-1.5 md:py-2 rounded-lg border border-white/20 bg-white/10 backdrop-blur-xl text-white disabled:opacity-50 hover:bg-white/20 transition-all text-xs md:text-sm",children:[a.jsx(Oh,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),a.jsx("span",{className:"hidden sm:inline",children:u("admin.orders.previous")})]}),a.jsxs("div",{className:"text-xs md:text-sm text-gray-300 px-2",children:[u("admin.orders.page")," ",g," ",u("admin.orders.ofPage")," ",z||1]}),a.jsxs("button",{onClick:()=>B(g+1),disabled:g===z||z===0,className:"flex items-center gap-1.5 md:gap-2 px-2.5 md:px-3 py-1.5 md:py-2 rounded-lg border border-white/20 bg-white/10 backdrop-blur-xl text-white disabled:opacity-50 hover:bg-white/20 transition-all text-xs md:text-sm",children:[a.jsx("span",{className:"hidden sm:inline",children:u("admin.orders.next")}),a.jsx(fs,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})]})]})]})]})};function cn(e){"@babel/helpers - typeof";return cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cn(e)}var _l=Uint8Array,co=Uint16Array,Y3=Int32Array,X3=new _l([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),J3=new _l([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),yE=new _l([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f7=function(e,t){for(var r=new co(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new Y3(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},m7=f7(X3,2),Ife=m7.b,dj=m7.r;Ife[28]=258,dj[258]=28;var Mfe=f7(J3,0),bE=Mfe.r,hj=new co(32768);for(var An=0;An<32768;++An){var Gu=(An&43690)>>1|(An&21845)<<1;Gu=(Gu&52428)>>2|(Gu&13107)<<2,Gu=(Gu&61680)>>4|(Gu&3855)<<4,hj[An]=((Gu&65280)>>8|(Gu&255)<<8)>>1}var Dp=function(e,t,r){for(var n=e.length,i=0,s=new co(t);i<n;++i)e[i]&&++s[e[i]-1];var o=new co(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var l;if(r){l=new co(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],h=t-e[i],m=o[e[i]-1]++<<h,x=m|(1<<h)-1;m<=x;++m)l[hj[m]>>c]=u}else for(l=new co(n),i=0;i<n;++i)e[i]&&(l[i]=hj[o[e[i]-1]++]>>15-e[i]);return l},Dh=new _l(288);for(var An=0;An<144;++An)Dh[An]=8;for(var An=144;An<256;++An)Dh[An]=9;for(var An=256;An<280;++An)Dh[An]=7;for(var An=280;An<288;++An)Dh[An]=8;var Uv=new _l(32);for(var An=0;An<32;++An)Uv[An]=5;var Rfe=Dp(Dh,9,0),zfe=Dp(Uv,5,0),p7=function(e){return(e+7)/8|0},Ffe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new _l(e.subarray(t,r))},$c=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},fp=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},o2=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,s=r.slice();if(!i)return{t:x7,l:0};if(i==1){var o=new _l(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(O,z){return O.f-z.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,h=1,m=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};h!=i-1;)l=r[r[u].f<r[m].f?u++:m++],c=r[u!=h&&r[u].f<r[m].f?u++:m++],r[h++]={s:-1,f:l.f+c.f,l,r:c};for(var x=s[0].s,n=1;n<i;++n)s[n].s>x&&(x=s[n].s);var p=new co(x+1),v=fj(r[h-1],p,0);if(v>t){var n=0,y=0,g=v-t,j=1<<g;for(s.sort(function(z,Y){return p[Y.s]-p[z.s]||z.f-Y.f});n<i;++n){var k=s[n].s;if(p[k]>t)y+=j-(1<<v-p[k]),p[k]=t;else break}for(y>>=g;y>0;){var w=s[n].s;p[w]<t?y-=1<<t-p[w]++-1:++n}for(;n>=0&&y;--n){var E=s[n].s;p[E]==t&&(--p[E],++y)}v=t}return{t:new _l(p),l:v}},fj=function(e,t,r){return e.s==-1?Math.max(fj(e.l,t,r+1),fj(e.r,t,r+1)):t[e.s]=r},wE=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new co(++t),n=0,i=e[0],s=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==i&&l!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[l]}return{c:r.subarray(0,n),n:t}},mp=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},g7=function(e,t,r){var n=r.length,i=p7(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<n;++s)e[i+s+4]=r[s];return(i+4+n)*8},jE=function(e,t,r,n,i,s,o,l,c,u,h){$c(t,h++,r),++i[256];for(var m=o2(i,15),x=m.t,p=m.l,v=o2(s,15),y=v.t,g=v.l,j=wE(x),k=j.c,w=j.n,E=wE(y),O=E.c,z=E.n,Y=new co(19),B=0;B<k.length;++B)++Y[k[B]&31];for(var B=0;B<O.length;++B)++Y[O[B]&31];for(var $=o2(Y,7),T=$.t,A=$.l,R=19;R>4&&!T[yE[R-1]];--R);var L=u+5<<3,q=mp(i,Dh)+mp(s,Uv)+o,W=mp(i,x)+mp(s,y)+o+14+3*R+mp(Y,T)+2*Y[16]+3*Y[17]+7*Y[18];if(c>=0&&L<=q&&L<=W)return g7(t,h,e.subarray(c,c+u));var ee,M,V,U;if($c(t,h,1+(W<q)),h+=2,W<q){ee=Dp(x,p,0),M=x,V=Dp(y,g,0),U=y;var I=Dp(T,A,0);$c(t,h,w-257),$c(t,h+5,z-1),$c(t,h+10,R-4),h+=14;for(var B=0;B<R;++B)$c(t,h+3*B,T[yE[B]]);h+=3*R;for(var H=[k,O],D=0;D<2;++D)for(var G=H[D],B=0;B<G.length;++B){var Z=G[B]&31;$c(t,h,I[Z]),h+=T[Z],Z>15&&($c(t,h,G[B]>>5&127),h+=G[B]>>12)}}else ee=Rfe,M=Dh,V=zfe,U=Uv;for(var B=0;B<l;++B){var P=n[B];if(P>255){var Z=P>>18&31;fp(t,h,ee[Z+257]),h+=M[Z+257],Z>7&&($c(t,h,P>>23&31),h+=X3[Z]);var re=P&31;fp(t,h,V[re]),h+=U[re],re>3&&(fp(t,h,P>>5&8191),h+=J3[re])}else fp(t,h,ee[P]),h+=M[P]}return fp(t,h,ee[256]),h+M[256]},$fe=new Y3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),x7=new _l(0),Bfe=function(e,t,r,n,i,s){var o=s.z||e.length,l=new _l(n+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(n,l.length-i),u=s.l,h=(s.r||0)&7;if(t){h&&(c[0]=s.r>>3);for(var m=$fe[t-1],x=m>>13,p=m&8191,v=(1<<r)-1,y=s.p||new co(32768),g=s.h||new co(v+1),j=Math.ceil(r/3),k=2*j,w=function(le){return(e[le]^e[le+1]<<j^e[le+2]<<k)&v},E=new Y3(25e3),O=new co(288),z=new co(32),Y=0,B=0,$=s.i||0,T=0,A=s.w||0,R=0;$+2<o;++$){var L=w($),q=$&32767,W=g[L];if(y[q]=W,g[L]=q,A<=$){var ee=o-$;if((Y>7e3||T>24576)&&(ee>423||!u)){h=jE(e,c,0,E,O,z,B,T,R,$-R,h),T=Y=B=0,R=$;for(var M=0;M<286;++M)O[M]=0;for(var M=0;M<30;++M)z[M]=0}var V=2,U=0,I=p,H=q-W&32767;if(ee>2&&L==w($-H))for(var D=Math.min(x,ee)-1,G=Math.min(32767,$),Z=Math.min(258,ee);H<=G&&--I&&q!=W;){if(e[$+V]==e[$+V-H]){for(var P=0;P<Z&&e[$+P]==e[$+P-H];++P);if(P>V){if(V=P,U=H,P>D)break;for(var re=Math.min(H,P-2),ce=0,M=0;M<re;++M){var be=$-H+M&32767,ae=y[be],ue=be-ae&32767;ue>ce&&(ce=ue,W=be)}}}q=W,W=y[q],H+=q-W&32767}if(U){E[T++]=268435456|dj[V]<<18|bE[U];var fe=dj[V]&31,pe=bE[U]&31;B+=X3[fe]+J3[pe],++O[257+fe],++z[pe],A=$+V,++Y}else E[T++]=e[$],++O[e[$]]}}for($=Math.max($,A);$<o;++$)E[T++]=e[$],++O[e[$]];h=jE(e,c,u,E,O,z,B,T,R,$-R,h),u||(s.r=h&7|c[h/8|0]<<3,h-=7,s.h=g,s.p=y,s.i=$,s.w=A)}else{for(var $=s.w||0;$<o+u;$+=65535){var de=$+65535;de>=o&&(c[h/8|0]=u,de=o),h=g7(c,h+1,e.subarray($,de))}s.i=o}return Ffe(l,0,n+p7(h)+i)},v7=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,s=r.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Ufe=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new _l(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return Bfe(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},y7=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},qfe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=v7();i.p(t.dictionary),y7(e,2,i.d())}};function mj(e,t){t||(t={});var r=v7();r.p(e);var n=Ufe(e,t,t.dictionary?6:2,4);return qfe(n,t),y7(n,n.length-4,r.d()),n}var Hfe=typeof TextDecoder<"u"&&new TextDecoder,Vfe=0;try{Hfe.decode(x7,{stream:!0}),Vfe=1}catch{}function Wfe(e){if(Array.isArray(e))return e}function Kfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function NE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Gfe(e,t){if(e){if(typeof e=="string")return NE(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?NE(e,t):void 0}}function Yfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _E(e,t){return Wfe(e)||Kfe(e,t)||Gfe(e,t)||Yfe()}function SE(e,t="utf8"){return new TextDecoder(t).decode(e)}const Xfe=new TextEncoder;function Jfe(e){return Xfe.encode(e)}const Zfe=1024*8,Qfe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),l2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Z3{constructor(t=Zfe,r={}){Jr(this,"buffer");Jr(this,"byteLength");Jr(this,"byteOffset");Jr(this,"length");Jr(this,"offset");Jr(this,"lastWrittenByte");Jr(this,"littleEndian");Jr(this,"_data");Jr(this,"_mark");Jr(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,s=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof Z3)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=l2[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===Qfe&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+n));l.reverse();const c=new l2[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new l2[r](s);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return SE(this.readBytes(t))}decodeText(t=1,r="utf8"){return SE(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(Jfe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function _m(e){let t=e.length;for(;--t>=0;)e[t]=0}const eme=3,tme=258,b7=29,rme=256,nme=rme+1+b7,w7=30,ame=512,ime=new Array((nme+2)*2);_m(ime);const sme=new Array(w7*2);_m(sme);const ome=new Array(ame);_m(ome);const lme=new Array(tme-eme+1);_m(lme);const cme=new Array(b7);_m(cme);const ume=new Array(w7);_m(ume);const dme=(e,t,r,n)=>{let i=e&65535|0,s=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+t[n++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var pj=dme;const hme=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},fme=new Uint32Array(hme()),mme=(e,t,r,n)=>{const i=fme,s=n+r;e^=-1;for(let o=n;o<s;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var Yl=mme,gj={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},j7={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const pme=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var gme=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)pme(r,n)&&(e[n]=r[n])}}return e},xme=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,s=e.length;n<s;n++){let o=e[n];r.set(o,i),i+=o.length}return r},N7={assign:gme,flattenChunks:xme};let _7=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_7=!1}const l0=new Uint8Array(256);for(let e=0;e<256;e++)l0[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;l0[254]=l0[254]=1;var vme=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,s,o=e.length,l=0;for(i=0;i<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),s=0,i=0;s<l;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|r&63):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|r&63):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|r&63);return t};const yme=(e,t)=>{if(t<65534&&e.subarray&&_7)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var bme=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let o=e[n++];if(o<128){s[i++]=o;continue}let l=l0[o];if(l>4){s[i++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return yme(s,i)},wme=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+l0[e[r]]>t?r:t},xj={string2buf:vme,buf2string:bme,utf8border:wme};function jme(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Nme=jme;const tx=16209,_me=16191;var Sme=function(t,r){let n,i,s,o,l,c,u,h,m,x,p,v,y,g,j,k,w,E,O,z,Y,B,$,T;const A=t.state;n=t.next_in,$=t.input,i=n+(t.avail_in-5),s=t.next_out,T=t.output,o=s-(r-t.avail_out),l=s+(t.avail_out-257),c=A.dmax,u=A.wsize,h=A.whave,m=A.wnext,x=A.window,p=A.hold,v=A.bits,y=A.lencode,g=A.distcode,j=(1<<A.lenbits)-1,k=(1<<A.distbits)-1;e:do{v<15&&(p+=$[n++]<<v,v+=8,p+=$[n++]<<v,v+=8),w=y[p&j];t:for(;;){if(E=w>>>24,p>>>=E,v-=E,E=w>>>16&255,E===0)T[s++]=w&65535;else if(E&16){O=w&65535,E&=15,E&&(v<E&&(p+=$[n++]<<v,v+=8),O+=p&(1<<E)-1,p>>>=E,v-=E),v<15&&(p+=$[n++]<<v,v+=8,p+=$[n++]<<v,v+=8),w=g[p&k];r:for(;;){if(E=w>>>24,p>>>=E,v-=E,E=w>>>16&255,E&16){if(z=w&65535,E&=15,v<E&&(p+=$[n++]<<v,v+=8,v<E&&(p+=$[n++]<<v,v+=8)),z+=p&(1<<E)-1,z>c){t.msg="invalid distance too far back",A.mode=tx;break e}if(p>>>=E,v-=E,E=s-o,z>E){if(E=z-E,E>h&&A.sane){t.msg="invalid distance too far back",A.mode=tx;break e}if(Y=0,B=x,m===0){if(Y+=u-E,E<O){O-=E;do T[s++]=x[Y++];while(--E);Y=s-z,B=T}}else if(m<E){if(Y+=u+m-E,E-=m,E<O){O-=E;do T[s++]=x[Y++];while(--E);if(Y=0,m<O){E=m,O-=E;do T[s++]=x[Y++];while(--E);Y=s-z,B=T}}}else if(Y+=m-E,E<O){O-=E;do T[s++]=x[Y++];while(--E);Y=s-z,B=T}for(;O>2;)T[s++]=B[Y++],T[s++]=B[Y++],T[s++]=B[Y++],O-=3;O&&(T[s++]=B[Y++],O>1&&(T[s++]=B[Y++]))}else{Y=s-z;do T[s++]=T[Y++],T[s++]=T[Y++],T[s++]=T[Y++],O-=3;while(O>2);O&&(T[s++]=T[Y++],O>1&&(T[s++]=T[Y++]))}}else if(E&64){t.msg="invalid distance code",A.mode=tx;break e}else{w=g[(w&65535)+(p&(1<<E)-1)];continue r}break}}else if(E&64)if(E&32){A.mode=_me;break e}else{t.msg="invalid literal/length code",A.mode=tx;break e}else{w=y[(w&65535)+(p&(1<<E)-1)];continue t}break}}while(n<i&&s<l);O=v>>3,n-=O,v-=O<<3,p&=(1<<v)-1,t.next_in=n,t.next_out=s,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=s<l?257+(l-s):257-(s-l),A.hold=p,A.bits=v};const yf=15,kE=852,CE=592,PE=0,c2=1,EE=2,kme=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Cme=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Pme=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Eme=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Dme=(e,t,r,n,i,s,o,l)=>{const c=l.bits;let u=0,h=0,m=0,x=0,p=0,v=0,y=0,g=0,j=0,k=0,w,E,O,z,Y,B=null,$;const T=new Uint16Array(yf+1),A=new Uint16Array(yf+1);let R=null,L,q,W;for(u=0;u<=yf;u++)T[u]=0;for(h=0;h<n;h++)T[t[r+h]]++;for(p=c,x=yf;x>=1&&T[x]===0;x--);if(p>x&&(p=x),x===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,l.bits=1,0;for(m=1;m<x&&T[m]===0;m++);for(p<m&&(p=m),g=1,u=1;u<=yf;u++)if(g<<=1,g-=T[u],g<0)return-1;if(g>0&&(e===PE||x!==1))return-1;for(A[1]=0,u=1;u<yf;u++)A[u+1]=A[u]+T[u];for(h=0;h<n;h++)t[r+h]!==0&&(o[A[t[r+h]]++]=h);if(e===PE?(B=R=o,$=20):e===c2?(B=kme,R=Cme,$=257):(B=Pme,R=Eme,$=0),k=0,h=0,u=m,Y=s,v=p,y=0,O=-1,j=1<<p,z=j-1,e===c2&&j>kE||e===EE&&j>CE)return 1;for(;;){L=u-y,o[h]+1<$?(q=0,W=o[h]):o[h]>=$?(q=R[o[h]-$],W=B[o[h]-$]):(q=96,W=0),w=1<<u-y,E=1<<v,m=E;do E-=w,i[Y+(k>>y)+E]=L<<24|q<<16|W|0;while(E!==0);for(w=1<<u-1;k&w;)w>>=1;if(w!==0?(k&=w-1,k+=w):k=0,h++,--T[u]===0){if(u===x)break;u=t[r+o[h]]}if(u>p&&(k&z)!==O){for(y===0&&(y=p),Y+=m,v=u-y,g=1<<v;v+y<x&&(g-=T[v+y],!(g<=0));)v++,g<<=1;if(j+=1<<v,e===c2&&j>kE||e===EE&&j>CE)return 1;O=k&z,i[O]=p<<24|v<<16|Y-s|0}}return k!==0&&(i[Y+k]=u-y<<24|64<<16|0),l.bits=p,0};var Ap=Dme;const Ame=0,S7=1,k7=2,{Z_FINISH:DE,Z_BLOCK:Tme,Z_TREES:rx,Z_OK:Ah,Z_STREAM_END:Ome,Z_NEED_DICT:Lme,Z_STREAM_ERROR:Vo,Z_DATA_ERROR:C7,Z_MEM_ERROR:P7,Z_BUF_ERROR:Ime,Z_DEFLATED:AE}=j7,eb=16180,TE=16181,OE=16182,LE=16183,IE=16184,ME=16185,RE=16186,zE=16187,FE=16188,$E=16189,qv=16190,Bc=16191,u2=16192,BE=16193,d2=16194,UE=16195,qE=16196,HE=16197,VE=16198,nx=16199,ax=16200,WE=16201,KE=16202,GE=16203,YE=16204,XE=16205,h2=16206,JE=16207,ZE=16208,qn=16209,E7=16210,D7=16211,Mme=852,Rme=592,zme=15,Fme=zme,QE=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function $me(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const zh=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<eb||t.mode>D7?1:0},A7=e=>{if(zh(e))return Vo;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=eb,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Mme),t.distcode=t.distdyn=new Int32Array(Rme),t.sane=1,t.back=-1,Ah},T7=e=>{if(zh(e))return Vo;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,A7(e)},O7=(e,t)=>{let r;if(zh(e))return Vo;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Vo:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,T7(e))},L7=(e,t)=>{if(!e)return Vo;const r=new $me;e.state=r,r.strm=e,r.window=null,r.mode=eb;const n=O7(e,t);return n!==Ah&&(e.state=null),n},Bme=e=>L7(e,Fme);let eD=!0,f2,m2;const Ume=e=>{if(eD){f2=new Int32Array(512),m2=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ap(S7,e.lens,0,288,f2,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ap(k7,e.lens,0,32,m2,0,e.work,{bits:5}),eD=!1}e.lencode=f2,e.lenbits=9,e.distcode=m2,e.distbits=5},I7=(e,t,r,n)=>{let i;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(t.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(t.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},qme=(e,t)=>{let r,n,i,s,o,l,c,u,h,m,x,p,v,y,g=0,j,k,w,E,O,z,Y,B;const $=new Uint8Array(4);let T,A;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(zh(e)||!e.output||!e.input&&e.avail_in!==0)return Vo;r=e.state,r.mode===Bc&&(r.mode=u2),o=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,u=r.hold,h=r.bits,m=l,x=c,B=Ah;e:for(;;)switch(r.mode){case eb:if(r.wrap===0){r.mode=u2;break}for(;h<16;){if(l===0)break e;l--,u+=n[s++]<<h,h+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,$[0]=u&255,$[1]=u>>>8&255,r.check=Yl(r.check,$,2,0),u=0,h=0,r.mode=TE;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=qn;break}if((u&15)!==AE){e.msg="unknown compression method",r.mode=qn;break}if(u>>>=4,h-=4,Y=(u&15)+8,r.wbits===0&&(r.wbits=Y),Y>15||Y>r.wbits){e.msg="invalid window size",r.mode=qn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?$E:Bc,u=0,h=0;break;case TE:for(;h<16;){if(l===0)break e;l--,u+=n[s++]<<h,h+=8}if(r.flags=u,(r.flags&255)!==AE){e.msg="unknown compression method",r.mode=qn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=qn;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&($[0]=u&255,$[1]=u>>>8&255,r.check=Yl(r.check,$,2,0)),u=0,h=0,r.mode=OE;case OE:for(;h<32;){if(l===0)break e;l--,u+=n[s++]<<h,h+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&($[0]=u&255,$[1]=u>>>8&255,$[2]=u>>>16&255,$[3]=u>>>24&255,r.check=Yl(r.check,$,4,0)),u=0,h=0,r.mode=LE;case LE:for(;h<16;){if(l===0)break e;l--,u+=n[s++]<<h,h+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&($[0]=u&255,$[1]=u>>>8&255,r.check=Yl(r.check,$,2,0)),u=0,h=0,r.mode=IE;case IE:if(r.flags&1024){for(;h<16;){if(l===0)break e;l--,u+=n[s++]<<h,h+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&($[0]=u&255,$[1]=u>>>8&255,r.check=Yl(r.check,$,2,0)),u=0,h=0}else r.head&&(r.head.extra=null);r.mode=ME;case ME:if(r.flags&1024&&(p=r.length,p>l&&(p=l),p&&(r.head&&(Y=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+p),Y)),r.flags&512&&r.wrap&4&&(r.check=Yl(r.check,n,p,s)),l-=p,s+=p,r.length-=p),r.length))break e;r.length=0,r.mode=RE;case RE:if(r.flags&2048){if(l===0)break e;p=0;do Y=n[s+p++],r.head&&Y&&r.length<65536&&(r.head.name+=String.fromCharCode(Y));while(Y&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=Yl(r.check,n,p,s)),l-=p,s+=p,Y)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=zE;case zE:if(r.flags&4096){if(l===0)break e;p=0;do Y=n[s+p++],r.head&&Y&&r.length<65536&&(r.head.comment+=String.fromCharCode(Y));while(Y&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=Yl(r.check,n,p,s)),l-=p,s+=p,Y)break e}else r.head&&(r.head.comment=null);r.mode=FE;case FE:if(r.flags&512){for(;h<16;){if(l===0)break e;l--,u+=n[s++]<<h,h+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=qn;break}u=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Bc;break;case $E:for(;h<32;){if(l===0)break e;l--,u+=n[s++]<<h,h+=8}e.adler=r.check=QE(u),u=0,h=0,r.mode=qv;case qv:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=h,Lme;e.adler=r.check=1,r.mode=Bc;case Bc:if(t===Tme||t===rx)break e;case u2:if(r.last){u>>>=h&7,h-=h&7,r.mode=h2;break}for(;h<3;){if(l===0)break e;l--,u+=n[s++]<<h,h+=8}switch(r.last=u&1,u>>>=1,h-=1,u&3){case 0:r.mode=BE;break;case 1:if(Ume(r),r.mode=nx,t===rx){u>>>=2,h-=2;break e}break;case 2:r.mode=qE;break;case 3:e.msg="invalid block type",r.mode=qn}u>>>=2,h-=2;break;case BE:for(u>>>=h&7,h-=h&7;h<32;){if(l===0)break e;l--,u+=n[s++]<<h,h+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=qn;break}if(r.length=u&65535,u=0,h=0,r.mode=d2,t===rx)break e;case d2:r.mode=UE;case UE:if(p=r.length,p){if(p>l&&(p=l),p>c&&(p=c),p===0)break e;i.set(n.subarray(s,s+p),o),l-=p,s+=p,c-=p,o+=p,r.length-=p;break}r.mode=Bc;break;case qE:for(;h<14;){if(l===0)break e;l--,u+=n[s++]<<h,h+=8}if(r.nlen=(u&31)+257,u>>>=5,h-=5,r.ndist=(u&31)+1,u>>>=5,h-=5,r.ncode=(u&15)+4,u>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=qn;break}r.have=0,r.mode=HE;case HE:for(;r.have<r.ncode;){for(;h<3;){if(l===0)break e;l--,u+=n[s++]<<h,h+=8}r.lens[R[r.have++]]=u&7,u>>>=3,h-=3}for(;r.have<19;)r.lens[R[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,T={bits:r.lenbits},B=Ap(Ame,r.lens,0,19,r.lencode,0,r.work,T),r.lenbits=T.bits,B){e.msg="invalid code lengths set",r.mode=qn;break}r.have=0,r.mode=VE;case VE:for(;r.have<r.nlen+r.ndist;){for(;g=r.lencode[u&(1<<r.lenbits)-1],j=g>>>24,k=g>>>16&255,w=g&65535,!(j<=h);){if(l===0)break e;l--,u+=n[s++]<<h,h+=8}if(w<16)u>>>=j,h-=j,r.lens[r.have++]=w;else{if(w===16){for(A=j+2;h<A;){if(l===0)break e;l--,u+=n[s++]<<h,h+=8}if(u>>>=j,h-=j,r.have===0){e.msg="invalid bit length repeat",r.mode=qn;break}Y=r.lens[r.have-1],p=3+(u&3),u>>>=2,h-=2}else if(w===17){for(A=j+3;h<A;){if(l===0)break e;l--,u+=n[s++]<<h,h+=8}u>>>=j,h-=j,Y=0,p=3+(u&7),u>>>=3,h-=3}else{for(A=j+7;h<A;){if(l===0)break e;l--,u+=n[s++]<<h,h+=8}u>>>=j,h-=j,Y=0,p=11+(u&127),u>>>=7,h-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=qn;break}for(;p--;)r.lens[r.have++]=Y}}if(r.mode===qn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=qn;break}if(r.lenbits=9,T={bits:r.lenbits},B=Ap(S7,r.lens,0,r.nlen,r.lencode,0,r.work,T),r.lenbits=T.bits,B){e.msg="invalid literal/lengths set",r.mode=qn;break}if(r.distbits=6,r.distcode=r.distdyn,T={bits:r.distbits},B=Ap(k7,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,T),r.distbits=T.bits,B){e.msg="invalid distances set",r.mode=qn;break}if(r.mode=nx,t===rx)break e;case nx:r.mode=ax;case ax:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=h,Sme(e,x),o=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,u=r.hold,h=r.bits,r.mode===Bc&&(r.back=-1);break}for(r.back=0;g=r.lencode[u&(1<<r.lenbits)-1],j=g>>>24,k=g>>>16&255,w=g&65535,!(j<=h);){if(l===0)break e;l--,u+=n[s++]<<h,h+=8}if(k&&!(k&240)){for(E=j,O=k,z=w;g=r.lencode[z+((u&(1<<E+O)-1)>>E)],j=g>>>24,k=g>>>16&255,w=g&65535,!(E+j<=h);){if(l===0)break e;l--,u+=n[s++]<<h,h+=8}u>>>=E,h-=E,r.back+=E}if(u>>>=j,h-=j,r.back+=j,r.length=w,k===0){r.mode=XE;break}if(k&32){r.back=-1,r.mode=Bc;break}if(k&64){e.msg="invalid literal/length code",r.mode=qn;break}r.extra=k&15,r.mode=WE;case WE:if(r.extra){for(A=r.extra;h<A;){if(l===0)break e;l--,u+=n[s++]<<h,h+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=KE;case KE:for(;g=r.distcode[u&(1<<r.distbits)-1],j=g>>>24,k=g>>>16&255,w=g&65535,!(j<=h);){if(l===0)break e;l--,u+=n[s++]<<h,h+=8}if(!(k&240)){for(E=j,O=k,z=w;g=r.distcode[z+((u&(1<<E+O)-1)>>E)],j=g>>>24,k=g>>>16&255,w=g&65535,!(E+j<=h);){if(l===0)break e;l--,u+=n[s++]<<h,h+=8}u>>>=E,h-=E,r.back+=E}if(u>>>=j,h-=j,r.back+=j,k&64){e.msg="invalid distance code",r.mode=qn;break}r.offset=w,r.extra=k&15,r.mode=GE;case GE:if(r.extra){for(A=r.extra;h<A;){if(l===0)break e;l--,u+=n[s++]<<h,h+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=qn;break}r.mode=YE;case YE:if(c===0)break e;if(p=x-c,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=qn;break}p>r.wnext?(p-=r.wnext,v=r.wsize-p):v=r.wnext-p,p>r.length&&(p=r.length),y=r.window}else y=i,v=o-r.offset,p=r.length;p>c&&(p=c),c-=p,r.length-=p;do i[o++]=y[v++];while(--p);r.length===0&&(r.mode=ax);break;case XE:if(c===0)break e;i[o++]=r.length,c--,r.mode=ax;break;case h2:if(r.wrap){for(;h<32;){if(l===0)break e;l--,u|=n[s++]<<h,h+=8}if(x-=c,e.total_out+=x,r.total+=x,r.wrap&4&&x&&(e.adler=r.check=r.flags?Yl(r.check,i,x,o-x):pj(r.check,i,x,o-x)),x=c,r.wrap&4&&(r.flags?u:QE(u))!==r.check){e.msg="incorrect data check",r.mode=qn;break}u=0,h=0}r.mode=JE;case JE:if(r.wrap&&r.flags){for(;h<32;){if(l===0)break e;l--,u+=n[s++]<<h,h+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=qn;break}u=0,h=0}r.mode=ZE;case ZE:B=Ome;break e;case qn:B=C7;break e;case E7:return P7;case D7:default:return Vo}return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=h,(r.wsize||x!==e.avail_out&&r.mode<qn&&(r.mode<h2||t!==DE))&&I7(e,e.output,e.next_out,x-e.avail_out),m-=e.avail_in,x-=e.avail_out,e.total_in+=m,e.total_out+=x,r.total+=x,r.wrap&4&&x&&(e.adler=r.check=r.flags?Yl(r.check,i,x,e.next_out-x):pj(r.check,i,x,e.next_out-x)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Bc?128:0)+(r.mode===nx||r.mode===d2?256:0),(m===0&&x===0||t===DE)&&B===Ah&&(B=Ime),B},Hme=e=>{if(zh(e))return Vo;let t=e.state;return t.window&&(t.window=null),e.state=null,Ah},Vme=(e,t)=>{if(zh(e))return Vo;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,Ah):Vo},Wme=(e,t)=>{const r=t.length;let n,i,s;return zh(e)||(n=e.state,n.wrap!==0&&n.mode!==qv)?Vo:n.mode===qv&&(i=1,i=pj(i,t,r,0),i!==n.check)?C7:(s=I7(e,t,r,r),s?(n.mode=E7,P7):(n.havedict=1,Ah))};var Kme=T7,Gme=O7,Yme=A7,Xme=Bme,Jme=L7,Zme=qme,Qme=Hme,epe=Vme,tpe=Wme,rpe="pako inflate (from Nodeca project)",qc={inflateReset:Kme,inflateReset2:Gme,inflateResetKeep:Yme,inflateInit:Xme,inflateInit2:Jme,inflate:Zme,inflateEnd:Qme,inflateGetHeader:epe,inflateSetDictionary:tpe,inflateInfo:rpe};function npe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ape=npe;const M7=Object.prototype.toString,{Z_NO_FLUSH:ipe,Z_FINISH:spe,Z_OK:c0,Z_STREAM_END:p2,Z_NEED_DICT:g2,Z_STREAM_ERROR:ope,Z_DATA_ERROR:tD,Z_MEM_ERROR:lpe}=j7;function R0(e){this.options=N7.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Nme,this.strm.avail_out=0;let r=qc.inflateInit2(this.strm,t.windowBits);if(r!==c0)throw new Error(gj[r]);if(this.header=new ape,qc.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=xj.string2buf(t.dictionary):M7.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=qc.inflateSetDictionary(this.strm,t.dictionary),r!==c0)))throw new Error(gj[r])}R0.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?spe:ipe,M7.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=qc.inflate(r,o),s===g2&&i&&(s=qc.inflateSetDictionary(r,i),s===c0?s=qc.inflate(r,o):s===tD&&(s=g2));r.avail_in>0&&s===p2&&r.state.wrap>0&&e[r.next_in]!==0;)qc.inflateReset(r),s=qc.inflate(r,o);switch(s){case ope:case tD:case g2:case lpe:return this.onEnd(s),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||s===p2))if(this.options.to==="string"){let c=xj.utf8border(r.output,r.next_out),u=r.next_out-c,h=xj.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===c0&&l===0)){if(s===p2)return s=qc.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};R0.prototype.onData=function(e){this.chunks.push(e)};R0.prototype.onEnd=function(e){e===c0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=N7.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function cpe(e,t){const r=new R0(t);if(r.push(e),r.err)throw r.msg||gj[r.err];return r.result}var upe=R0,dpe=cpe,hpe={Inflate:upe,inflate:dpe};const{Inflate:fpe,inflate:mpe}=hpe;var rD=fpe,ppe=mpe;const R7=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;R7[e]=t}const nD=4294967295;function gpe(e,t,r){let n=e;for(let i=0;i<r;i++)n=R7[(n^t[i])&255]^n>>>8;return n}function xpe(e,t){return(gpe(nD,e,t)^nD)>>>0}function aD(e,t,r){const n=e.readUint32(),i=xpe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function z7(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function F7(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function $7(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function B7(e,t,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+(t[s-i]>>1)&255}else{for(;s<i;s++)t[s]=e[s]+(r[s]>>1)&255;for(;s<n;s++)t[s]=e[s]+(t[s-i]+r[s]>>1)&255}}function U7(e,t,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-i]&255}else{for(;s<i;s++)t[s]=e[s]+r[s]&255;for(;s<n;s++)t[s]=e[s]+vpe(t[s-i],r[s],r[s-i])&255}}function vpe(e,t,r){const n=e+t-r,i=Math.abs(n-e),s=Math.abs(n-t),o=Math.abs(n-r);return i<=s&&i<=o?e:s<=o?t:r}function ype(e,t,r,n,i,s){switch(e){case 0:z7(t,r,i);break;case 1:F7(t,r,i,s);break;case 2:$7(t,r,n,i);break;case 3:B7(t,r,n,i,s);break;case 4:U7(t,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const bpe=new Uint16Array([255]),wpe=new Uint8Array(bpe.buffer),jpe=wpe[0]===255;function Npe(e){const{data:t,width:r,height:n,channels:i,depth:s}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*i,c=new Uint8Array(n*r*l);let u=0;for(let h=0;h<7;h++){const m=o[h],x=Math.ceil((r-m.x)/m.xStep),p=Math.ceil((n-m.y)/m.yStep);if(x<=0||p<=0)continue;const v=x*l,y=new Uint8Array(v);for(let g=0;g<p;g++){const j=t[u++],k=t.subarray(u,u+v);u+=v;const w=new Uint8Array(v);ype(j,k,w,y,v,l),y.set(w);for(let E=0;E<x;E++){const O=m.x+E*m.xStep,z=m.y+g*m.yStep;if(!(O>=r||z>=n))for(let Y=0;Y<l;Y++)c[(z*r+O)*l+Y]=w[E*l+Y]}}}if(s===16){const h=new Uint16Array(c.buffer);if(jpe)for(let m=0;m<h.length;m++)h[m]=_pe(h[m]);return h}else return c}function _pe(e){return(e&255)<<8|e>>8&255}const Spe=new Uint16Array([255]),kpe=new Uint8Array(Spe.buffer),Cpe=kpe[0]===255,Ppe=new Uint8Array(0);function iD(e){const{data:t,width:r,height:n,channels:i,depth:s}=e,o=Math.ceil(s/8)*i,l=Math.ceil(s/8*i*r),c=new Uint8Array(n*l);let u=Ppe,h=0,m,x;for(let p=0;p<n;p++){switch(m=t.subarray(h+1,h+1+l),x=c.subarray(p*l,(p+1)*l),t[h]){case 0:z7(m,x,l);break;case 1:F7(m,x,l,o);break;case 2:$7(m,x,u,l);break;case 3:B7(m,x,u,l,o);break;case 4:U7(m,x,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}u=x,h+=l+1}if(s===16){const p=new Uint16Array(c.buffer);if(Cpe)for(let v=0;v<p.length;v++)p[v]=Epe(p[v]);return p}else return c}function Epe(e){return(e&255)<<8|e>>8&255}const Nx=Uint8Array.of(137,80,78,71,13,10,26,10);function sD(e){if(!Dpe(e.readBytes(Nx.length)))throw new Error("wrong PNG signature")}function Dpe(e){if(e.length<Nx.length)return!1;for(let t=0;t<Nx.length;t++)if(e[t]!==Nx[t])return!1;return!0}const Ape="tEXt",Tpe=0,q7=new TextDecoder("latin1");function Ope(e){if(Ipe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Lpe=/^[\u0000-\u00FF]*$/;function Ipe(e){if(!Lpe.test(e))throw new Error("invalid latin1 text")}function Mpe(e,t,r){const n=H7(t);e[n]=Rpe(t,r-n.length-1)}function H7(e){for(e.mark();e.readByte()!==Tpe;);const t=e.offset;e.reset();const r=q7.decode(e.readBytes(t-e.offset-1));return e.skip(1),Ope(r),r}function Rpe(e,t){return q7.decode(e.readBytes(t))}const Qs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},x2={UNKNOWN:-1,DEFLATE:0},oD={UNKNOWN:-1,ADAPTIVE:0},v2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ix={NONE:0,BACKGROUND:1,PREVIOUS:2},y2={SOURCE:0,OVER:1};class zpe extends Z3{constructor(r,n={}){super(r);Jr(this,"_checkCrc");Jr(this,"_inflator");Jr(this,"_png");Jr(this,"_apng");Jr(this,"_end");Jr(this,"_hasPalette");Jr(this,"_palette");Jr(this,"_hasTransparency");Jr(this,"_transparency");Jr(this,"_compressionMethod");Jr(this,"_filterMethod");Jr(this,"_interlaceMethod");Jr(this,"_colorType");Jr(this,"_isAnimated");Jr(this,"_numberOfFrames");Jr(this,"_numberOfPlays");Jr(this,"_frames");Jr(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new rD,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=x2.UNKNOWN,this._filterMethod=oD.UNKNOWN,this._interlaceMethod=v2.UNKNOWN,this._colorType=Qs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(sD(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(sD(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Ape:Mpe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?aD(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?aD(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=Fpe(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Qs.GREYSCALE:i=1;break;case Qs.TRUECOLOUR:i=3;break;case Qs.INDEXED_COLOUR:i=1;break;case Qs.GREYSCALE_ALPHA:i=2;break;case Qs.TRUECOLOUR_ALPHA:i=4;break;case Qs.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==x2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Qs.GREYSCALE:case Qs.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Qs.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Qs.UNKNOWN:case Qs.GREYSCALE_ALPHA:case Qs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=H7(this),i=this.readUint8();if(i!==x2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:ppe(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=iD({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case ix.NONE:break;case ix.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const l=(s*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[l+c]=0}break;case ix.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case y2.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=s(o,l);for(let h=0;h<this._png.channels;h++)r.data[c+h]=n.data[u+h]}break;case y2.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=s(o,l);for(let h=0;h<this._png.channels;h++){const m=n.data[u+this._png.channels-1]/i,x=h%(this._png.channels-1)===0?1:n.data[u+h],p=Math.floor(m*x+(1-m)*r.data[c+h]);r.data[c+h]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==oD.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===v2.NO_INTERLACE)this._png.data=iD({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===v2.ADAM7)this._png.data=Npe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ix.NONE,blendOp:y2.SOURCE,data:r}),this._inflator=new rD,this._writingDataChunks=!1}}function Fpe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var lD;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(lD||(lD={}));function $pe(e,t){return new zpe(e,t).decode()}var Cr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function b2(){Cr.console&&typeof Cr.console.log=="function"&&Cr.console.log.apply(Cr.console,arguments)}var xn={log:b2,warn:function(e){Cr.console&&(typeof Cr.console.warn=="function"?Cr.console.warn.apply(Cr.console,arguments):b2.call(null,arguments))},error:function(e){Cr.console&&(typeof Cr.console.error=="function"?Cr.console.error.apply(Cr.console,arguments):b2(e))}};function w2(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){rh(n.response,t,r)},n.onerror=function(){xn.error("could not download file")},n.send()}function cD(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function sx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var rh=Cr.saveAs||((typeof window>"u"?"undefined":cn(window))!=="object"||window!==Cr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Cr.URL||Cr.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?cD(i.href)?w2(e,t,r):sx(i,i.target="_blank"):sx(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){sx(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(cD(e))w2(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){sx(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:cn(s)!=="object"&&(xn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return w2(e,t,r);var i=e.type==="application/octet-stream",s=/constructor/i.test(Cr.HTMLElement)||Cr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":cn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},l.readAsDataURL(e)}else{var c=Cr.URL||Cr.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function V7(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var _x=Cr.atob.bind(Cr),uD=Cr.btoa.bind(Cr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function j2(e,t){var r=e[0],n=e[1],i=e[2],s=e[3];r=Ki(r,n,i,s,t[0],7,-680876936),s=Ki(s,r,n,i,t[1],12,-389564586),i=Ki(i,s,r,n,t[2],17,606105819),n=Ki(n,i,s,r,t[3],22,-1044525330),r=Ki(r,n,i,s,t[4],7,-176418897),s=Ki(s,r,n,i,t[5],12,1200080426),i=Ki(i,s,r,n,t[6],17,-1473231341),n=Ki(n,i,s,r,t[7],22,-45705983),r=Ki(r,n,i,s,t[8],7,1770035416),s=Ki(s,r,n,i,t[9],12,-1958414417),i=Ki(i,s,r,n,t[10],17,-42063),n=Ki(n,i,s,r,t[11],22,-1990404162),r=Ki(r,n,i,s,t[12],7,1804603682),s=Ki(s,r,n,i,t[13],12,-40341101),i=Ki(i,s,r,n,t[14],17,-1502002290),r=Gi(r,n=Ki(n,i,s,r,t[15],22,1236535329),i,s,t[1],5,-165796510),s=Gi(s,r,n,i,t[6],9,-1069501632),i=Gi(i,s,r,n,t[11],14,643717713),n=Gi(n,i,s,r,t[0],20,-373897302),r=Gi(r,n,i,s,t[5],5,-701558691),s=Gi(s,r,n,i,t[10],9,38016083),i=Gi(i,s,r,n,t[15],14,-660478335),n=Gi(n,i,s,r,t[4],20,-405537848),r=Gi(r,n,i,s,t[9],5,568446438),s=Gi(s,r,n,i,t[14],9,-1019803690),i=Gi(i,s,r,n,t[3],14,-187363961),n=Gi(n,i,s,r,t[8],20,1163531501),r=Gi(r,n,i,s,t[13],5,-1444681467),s=Gi(s,r,n,i,t[2],9,-51403784),i=Gi(i,s,r,n,t[7],14,1735328473),r=Yi(r,n=Gi(n,i,s,r,t[12],20,-1926607734),i,s,t[5],4,-378558),s=Yi(s,r,n,i,t[8],11,-2022574463),i=Yi(i,s,r,n,t[11],16,1839030562),n=Yi(n,i,s,r,t[14],23,-35309556),r=Yi(r,n,i,s,t[1],4,-1530992060),s=Yi(s,r,n,i,t[4],11,1272893353),i=Yi(i,s,r,n,t[7],16,-155497632),n=Yi(n,i,s,r,t[10],23,-1094730640),r=Yi(r,n,i,s,t[13],4,681279174),s=Yi(s,r,n,i,t[0],11,-358537222),i=Yi(i,s,r,n,t[3],16,-722521979),n=Yi(n,i,s,r,t[6],23,76029189),r=Yi(r,n,i,s,t[9],4,-640364487),s=Yi(s,r,n,i,t[12],11,-421815835),i=Yi(i,s,r,n,t[15],16,530742520),r=Xi(r,n=Yi(n,i,s,r,t[2],23,-995338651),i,s,t[0],6,-198630844),s=Xi(s,r,n,i,t[7],10,1126891415),i=Xi(i,s,r,n,t[14],15,-1416354905),n=Xi(n,i,s,r,t[5],21,-57434055),r=Xi(r,n,i,s,t[12],6,1700485571),s=Xi(s,r,n,i,t[3],10,-1894986606),i=Xi(i,s,r,n,t[10],15,-1051523),n=Xi(n,i,s,r,t[1],21,-2054922799),r=Xi(r,n,i,s,t[8],6,1873313359),s=Xi(s,r,n,i,t[15],10,-30611744),i=Xi(i,s,r,n,t[6],15,-1560198380),n=Xi(n,i,s,r,t[13],21,1309151649),r=Xi(r,n,i,s,t[4],6,-145523070),s=Xi(s,r,n,i,t[11],10,-1120210379),i=Xi(i,s,r,n,t[2],15,718787259),n=Xi(n,i,s,r,t[9],21,-343485551),e[0]=od(r,e[0]),e[1]=od(n,e[1]),e[2]=od(i,e[2]),e[3]=od(s,e[3])}function tb(e,t,r,n,i,s){return t=od(od(t,e),od(n,s)),od(t<<i|t>>>32-i,r)}function Ki(e,t,r,n,i,s,o){return tb(t&r|~t&n,e,t,i,s,o)}function Gi(e,t,r,n,i,s,o){return tb(t&n|r&~n,e,t,i,s,o)}function Yi(e,t,r,n,i,s,o){return tb(t^r^n,e,t,i,s,o)}function Xi(e,t,r,n,i,s,o){return tb(r^(t|~n),e,t,i,s,o)}function W7(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)j2(n,Bpe(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(j2(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,j2(n,i),n}function Bpe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var dD="0123456789abcdef".split("");function Upe(e){for(var t="",r=0;r<4;r++)t+=dD[e>>8*r+4&15]+dD[e>>8*r&15];return t}function qpe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function vj(e){return W7(e).map(qpe).join("")}var Hpe=function(e){for(var t=0;t<e.length;t++)e[t]=Upe(e[t]);return e.join("")}(W7("hello"))!="5d41402abc4b2a76b9719d911017c592";function od(e,t){if(Hpe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function yj(e,t){var r,n,i,s;if(e!==r){for(var o=(i=e,s=1+(256/e.length|0),new Array(s+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var h=l[c];u=(u+h+o.charCodeAt(c))%256,l[c]=l[u],l[u]=h}r=e,n=l}else l=n;var m=t.length,x=0,p=0,v="";for(c=0;c<m;c++)p=(p+(h=l[x=(x+1)%256]))%256,l[x]=l[p],l[p]=h,o=l[(l[x]+l[p])%256],v+=String.fromCharCode(t.charCodeAt(c)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var hD={print:4,modify:8,copy:16,"annot-forms":32};function kf(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(hD.perm!==void 0)throw new Error("Invalid permission: "+l);i+=hD[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=vj(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=yj(this.encryptionKey,this.padding)}function Cf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function fD(e){if(cn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[r]){var o=t[r][s];try{o[0].apply(e,n)}catch(l){Cr.console&&xn.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Hv(e){if(!(this instanceof Hv))return new Hv(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function K7(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function sh(e,t,r,n,i){if(!(this instanceof sh))return new sh(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,K7.call(this,n,i)}function If(e,t,r,n,i){if(!(this instanceof If))return new If(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,K7.call(this,n,i)}function dr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],o=[],l=1,c=16,u="S",h=null;cn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,s=e.compress||e.compressPdf||s,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,x={},p={internal:{},__private__:{}};p.__private__.PubSub=fD;var v="1.3",y=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(F){v=F};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return g};var j=p.__private__.getPageFormat=function(F){return g[F]};i=i||"a4";var k="compat",w="advanced",E=k;function O(){this.saveGraphicsState(),ne(new et(Ge,0,0,-Ge,0,Mi()*Ge).toString()+" cm"),this.setFontSize(this.getFontSize()/Ge),u="n",E=w}function z(){this.restoreGraphicsState(),u="S",E=k}var Y=p.__private__.combineFontStyleAndFontWeight=function(F,se){if(F=="bold"&&se=="normal"||F=="bold"&&se==400||F=="normal"&&se=="italic"||F=="bold"&&se=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return se&&(F=se==400||se==="normal"?F==="italic"?"italic":"normal":se!=700&&se!=="bold"||F!=="normal"?(se==700?"bold":se)+""+F:"bold"),F};p.advancedAPI=function(F){var se=E===k;return se&&O.call(this),typeof F!="function"||(F(this),se&&z.call(this)),this},p.compatAPI=function(F){var se=E===w;return se&&z.call(this),typeof F!="function"||(F(this),se&&O.call(this)),this},p.isAdvancedAPI=function(){return E===w};var B,$=function(F){if(E!==w)throw new Error(F+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=p.roundToPrecision=p.__private__.roundToPrecision=function(F,se){var Pe=t||se;if(isNaN(F)||isNaN(Pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return F.toFixed(Pe).replace(/0+$/,"")};B=p.hpf=p.__private__.hpf=typeof c=="number"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return T(F,c)}:c==="smart"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return T(F,F>-1&&F<1?16:5)}:function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return T(F,16)};var A=p.f2=p.__private__.f2=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f2");return T(F,2)},R=p.__private__.f3=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f3");return T(F,3)},L=p.scale=p.__private__.scale=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.scale");return E===k?F*Ge:E===w?F:void 0},q=function(F){return L(function(se){return E===k?Mi()-se:E===w?se:void 0}(F))};p.__private__.setPrecision=p.setPrecision=function(F){typeof parseInt(F,10)=="number"&&(t=parseInt(F,10))};var W,ee="00000000000000000000000000000000",M=p.__private__.getFileId=function(){return ee},V=p.__private__.setFileId=function(F){return ee=F!==void 0&&/^[a-fA-F0-9]{32}$/.test(F)?F.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Ur=new kf(h.userPermissions,h.userPassword,h.ownerPassword,ee)),ee};p.setFileId=function(F){return V(F),this},p.getFileId=function(){return M()};var U=p.__private__.convertDateToPDFDate=function(F){var se=F.getTimezoneOffset(),Pe=se<0?"+":"-",ze=Math.floor(Math.abs(se/60)),Ze=Math.abs(se%60),gt=[Pe,Z(ze),"'",Z(Ze),"'"].join("");return["D:",F.getFullYear(),Z(F.getMonth()+1),Z(F.getDate()),Z(F.getHours()),Z(F.getMinutes()),Z(F.getSeconds()),gt].join("")},I=p.__private__.convertPDFDateToDate=function(F){var se=parseInt(F.substr(2,4),10),Pe=parseInt(F.substr(6,2),10)-1,ze=parseInt(F.substr(8,2),10),Ze=parseInt(F.substr(10,2),10),gt=parseInt(F.substr(12,2),10),Nt=parseInt(F.substr(14,2),10);return new Date(se,Pe,ze,Ze,gt,Nt,0)},H=p.__private__.setCreationDate=function(F){var se;if(F===void 0&&(F=new Date),F instanceof Date)se=U(F);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(F))throw new Error("Invalid argument passed to jsPDF.setCreationDate");se=F}return W=se},D=p.__private__.getCreationDate=function(F){var se=W;return F==="jsDate"&&(se=I(W)),se};p.setCreationDate=function(F){return H(F),this},p.getCreationDate=function(F){return D(F)};var G,Z=p.__private__.padd2=function(F){return("0"+parseInt(F)).slice(-2)},P=p.__private__.padd2Hex=function(F){return("00"+(F=F.toString())).substr(F.length)},re=0,ce=[],be=[],ae=0,ue=[],fe=[],pe=!1,de=be;p.__private__.setCustomOutputDestination=function(F){pe=!0,de=F};var le=function(F){pe||(de=F)};p.__private__.resetCustomOutputDestination=function(){pe=!1,de=be};var ne=p.__private__.out=function(F){return F=F.toString(),ae+=F.length+1,de.push(F),de},Se=p.__private__.write=function(F){return ne(arguments.length===1?F.toString():Array.prototype.join.call(arguments," "))},Ee=p.__private__.getArrayBuffer=function(F){for(var se=F.length,Pe=new ArrayBuffer(se),ze=new Uint8Array(Pe);se--;)ze[se]=F.charCodeAt(se);return Pe},qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return qe};var ve=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(F){return ve=E===w?F/Ge:F,this};var Ae,me=p.__private__.getFontSize=p.getFontSize=function(){return E===k?ve:ve*Ge},Ce=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(F){return Ce=F,this},p.__private__.getR2L=p.getR2L=function(){return Ce};var Me,He=p.__private__.setZoomMode=function(F){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(F))Ae=F;else if(isNaN(F)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(F)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+F+'" is not recognized.');Ae=F}else Ae=parseInt(F,10)};p.__private__.getZoomMode=function(){return Ae};var at,pt=p.__private__.setPageMode=function(F){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(F)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+F+'" is not recognized.');Me=F};p.__private__.getPageMode=function(){return Me};var ge=p.__private__.setLayoutMode=function(F){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(F)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+F+'" is not recognized.');at=F};p.__private__.getLayoutMode=function(){return at},p.__private__.setDisplayMode=p.setDisplayMode=function(F,se,Pe){return He(F),ge(se),pt(Pe),this};var Le={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(F){if(Object.keys(Le).indexOf(F)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Le[F]},p.__private__.getDocumentProperties=function(){return Le},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(F){for(var se in Le)Le.hasOwnProperty(se)&&F[se]&&(Le[se]=F[se]);return this},p.__private__.setDocumentProperty=function(F,se){if(Object.keys(Le).indexOf(F)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Le[F]=se};var Be,Ge,Qe,St,oe,ht={},wt={},rt=[],Ne={},Ue={},Re={},Ve={},it=null,ie=0,we=[],De=new fD(p),$e=e.hotfixes||[],Ye={},lt={},ft=[],et=function F(se,Pe,ze,Ze,gt,Nt){if(!(this instanceof F))return new F(se,Pe,ze,Ze,gt,Nt);isNaN(se)&&(se=1),isNaN(Pe)&&(Pe=0),isNaN(ze)&&(ze=0),isNaN(Ze)&&(Ze=1),isNaN(gt)&&(gt=0),isNaN(Nt)&&(Nt=0),this._matrix=[se,Pe,ze,Ze,gt,Nt]};Object.defineProperty(et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(et.prototype,"a",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(et.prototype,"b",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(et.prototype,"c",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(et.prototype,"d",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(et.prototype,"e",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(et.prototype,"f",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),et.prototype.join=function(F){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(F)},et.prototype.multiply=function(F){var se=F.sx*this.sx+F.shy*this.shx,Pe=F.sx*this.shy+F.shy*this.sy,ze=F.shx*this.sx+F.sy*this.shx,Ze=F.shx*this.shy+F.sy*this.sy,gt=F.tx*this.sx+F.ty*this.shx+this.tx,Nt=F.tx*this.shy+F.ty*this.sy+this.ty;return new et(se,Pe,ze,Ze,gt,Nt)},et.prototype.decompose=function(){var F=this.sx,se=this.shy,Pe=this.shx,ze=this.sy,Ze=this.tx,gt=this.ty,Nt=Math.sqrt(F*F+se*se),$t=(F/=Nt)*Pe+(se/=Nt)*ze;Pe-=F*$t,ze-=se*$t;var Ut=Math.sqrt(Pe*Pe+ze*ze);return $t/=Ut,F*(ze/=Ut)<se*(Pe/=Ut)&&(F=-F,se=-se,$t=-$t,Nt=-Nt),{scale:new et(Nt,0,0,Ut,0,0),translate:new et(1,0,0,1,Ze,gt),rotate:new et(F,se,-se,F,0,0),skew:new et(1,0,$t,1,0,0)}},et.prototype.toString=function(F){return this.join(" ")},et.prototype.inversed=function(){var F=this.sx,se=this.shy,Pe=this.shx,ze=this.sy,Ze=this.tx,gt=this.ty,Nt=1/(F*ze-se*Pe),$t=ze*Nt,Ut=-se*Nt,ir=-Pe*Nt,sr=F*Nt;return new et($t,Ut,ir,sr,-$t*Ze-ir*gt,-Ut*Ze-sr*gt)},et.prototype.applyToPoint=function(F){var se=F.x*this.sx+F.y*this.shx+this.tx,Pe=F.x*this.shy+F.y*this.sy+this.ty;return new ns(se,Pe)},et.prototype.applyToRectangle=function(F){var se=this.applyToPoint(F),Pe=this.applyToPoint(new ns(F.x+F.w,F.y+F.h));return new Zo(se.x,se.y,Pe.x-se.x,Pe.y-se.y)},et.prototype.clone=function(){var F=this.sx,se=this.shy,Pe=this.shx,ze=this.sy,Ze=this.tx,gt=this.ty;return new et(F,se,Pe,ze,Ze,gt)},p.Matrix=et;var Pt=p.matrixMult=function(F,se){return se.multiply(F)},kt=new et(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=kt;var jt=function(F,se){if(!Ue[F]){var Pe=(se instanceof sh?"Sh":"P")+(Object.keys(Ne).length+1).toString(10);se.id=Pe,Ue[F]=Pe,Ne[Pe]=se,De.publish("addPattern",se)}};p.ShadingPattern=sh,p.TilingPattern=If,p.addShadingPattern=function(F,se){return $("addShadingPattern()"),jt(F,se),this},p.beginTilingPattern=function(F){$("beginTilingPattern()"),Ii(F.boundingBox[0],F.boundingBox[1],F.boundingBox[2]-F.boundingBox[0],F.boundingBox[3]-F.boundingBox[1],F.matrix)},p.endTilingPattern=function(F,se){$("endTilingPattern()"),se.stream=fe[G].join(`
`),jt(F,se),De.publish("endTilingPattern",se),ft.pop().restore()};var Tt,ut=p.__private__.newObject=function(){var F=Dt();return Mt(F,!0),F},Dt=p.__private__.newObjectDeferred=function(){return re++,ce[re]=function(){return ae},re},Mt=function(F,se){return se=typeof se=="boolean"&&se,ce[F]=ae,se&&ne(F+" 0 obj"),F},Ht=p.__private__.newAdditionalObject=function(){var F={objId:Dt(),content:""};return ue.push(F),F},pr=Dt(),ar=Dt(),Lt=p.__private__.decodeColorString=function(F){var se=F.split(" ");if(se.length!==2||se[1]!=="g"&&se[1]!=="G")se.length!==5||se[4]!=="k"&&se[4]!=="K"||(se=[(1-se[0])*(1-se[3]),(1-se[1])*(1-se[3]),(1-se[2])*(1-se[3]),"r"]);else{var Pe=parseFloat(se[0]);se=[Pe,Pe,Pe,"r"]}for(var ze="#",Ze=0;Ze<3;Ze++)ze+=("0"+Math.floor(255*parseFloat(se[Ze])).toString(16)).slice(-2);return ze},Xt=p.__private__.encodeColorString=function(F){var se;typeof F=="string"&&(F={ch1:F});var Pe=F.ch1,ze=F.ch2,Ze=F.ch3,gt=F.ch4,Nt=F.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Pe=="string"&&Pe.charAt(0)!=="#"){var $t=new V7(Pe);if($t.ok)Pe=$t.toHex();else if(!/^\d*\.?\d*$/.test(Pe))throw new Error('Invalid color "'+Pe+'" passed to jsPDF.encodeColorString.')}if(typeof Pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Pe)&&(Pe="#"+Pe[1]+Pe[1]+Pe[2]+Pe[2]+Pe[3]+Pe[3]),typeof Pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Pe)){var Ut=parseInt(Pe.substr(1),16);Pe=Ut>>16&255,ze=Ut>>8&255,Ze=255&Ut}if(ze===void 0||gt===void 0&&Pe===ze&&ze===Ze)se=typeof Pe=="string"?Pe+" "+Nt[0]:F.precision===2?A(Pe/255)+" "+Nt[0]:R(Pe/255)+" "+Nt[0];else if(gt===void 0||cn(gt)==="object"){if(gt&&!isNaN(gt.a)&&gt.a===0)return["1.","1.","1.",Nt[1]].join(" ");se=typeof Pe=="string"?[Pe,ze,Ze,Nt[1]].join(" "):F.precision===2?[A(Pe/255),A(ze/255),A(Ze/255),Nt[1]].join(" "):[R(Pe/255),R(ze/255),R(Ze/255),Nt[1]].join(" ")}else se=typeof Pe=="string"?[Pe,ze,Ze,gt,Nt[2]].join(" "):F.precision===2?[A(Pe),A(ze),A(Ze),A(gt),Nt[2]].join(" "):[R(Pe),R(ze),R(Ze),R(gt),Nt[2]].join(" ");return se},er=p.__private__.getFilters=function(){return o},Tr=p.__private__.putStream=function(F){var se=(F=F||{}).data||"",Pe=F.filters||er(),ze=F.alreadyAppliedFilters||[],Ze=F.addLength1||!1,gt=se.length,Nt=F.objectId,$t=function(fa){return fa};if(h!==null&&Nt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&($t=Ur.encryptor(Nt,0));var Ut={};Pe===!0&&(Pe=["FlateEncode"]);var ir=F.additionalKeyValues||[],sr=(Ut=dr.API.processDataByFilters!==void 0?dr.API.processDataByFilters(se,Pe):{data:se,reverseChain:[]}).reverseChain+(Array.isArray(ze)?ze.join(" "):ze.toString());if(Ut.data.length!==0&&(ir.push({key:"Length",value:Ut.data.length}),Ze===!0&&ir.push({key:"Length1",value:gt})),sr.length!=0)if(sr.split("/").length-1==1)ir.push({key:"Filter",value:sr});else{ir.push({key:"Filter",value:"["+sr+"]"});for(var zt=0;zt<ir.length;zt+=1)if(ir[zt].key==="DecodeParms"){for(var tr=[],Or=0;Or<Ut.reverseChain.split("/").length-1;Or+=1)tr.push("null");tr.push(ir[zt].value),ir[zt].value="["+tr.join(" ")+"]"}}ne("<<");for(var Mr=0;Mr<ir.length;Mr++)ne("/"+ir[Mr].key+" "+ir[Mr].value);ne(">>"),Ut.data.length!==0&&(ne("stream"),ne($t(Ut.data)),ne("endstream"))},Yr=p.__private__.putPage=function(F){var se=F.number,Pe=F.data,ze=F.objId,Ze=F.contentsObjId;Mt(ze,!0),ne("<</Type /Page"),ne("/Parent "+F.rootDictionaryObjId+" 0 R"),ne("/Resources "+F.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(B(F.mediaBox.bottomLeftX))+" "+parseFloat(B(F.mediaBox.bottomLeftY))+" "+B(F.mediaBox.topRightX)+" "+B(F.mediaBox.topRightY)+"]"),F.cropBox!==null&&ne("/CropBox ["+B(F.cropBox.bottomLeftX)+" "+B(F.cropBox.bottomLeftY)+" "+B(F.cropBox.topRightX)+" "+B(F.cropBox.topRightY)+"]"),F.bleedBox!==null&&ne("/BleedBox ["+B(F.bleedBox.bottomLeftX)+" "+B(F.bleedBox.bottomLeftY)+" "+B(F.bleedBox.topRightX)+" "+B(F.bleedBox.topRightY)+"]"),F.trimBox!==null&&ne("/TrimBox ["+B(F.trimBox.bottomLeftX)+" "+B(F.trimBox.bottomLeftY)+" "+B(F.trimBox.topRightX)+" "+B(F.trimBox.topRightY)+"]"),F.artBox!==null&&ne("/ArtBox ["+B(F.artBox.bottomLeftX)+" "+B(F.artBox.bottomLeftY)+" "+B(F.artBox.topRightX)+" "+B(F.artBox.topRightY)+"]"),typeof F.userUnit=="number"&&F.userUnit!==1&&ne("/UserUnit "+F.userUnit),De.publish("putPage",{objId:ze,pageContext:we[se],pageNumber:se,page:Pe}),ne("/Contents "+Ze+" 0 R"),ne(">>"),ne("endobj");var gt=Pe.join(`
`);return E===w&&(gt+=`
Q`),Mt(Ze,!0),Tr({data:gt,filters:er(),objectId:Ze}),ne("endobj"),ze},mn=p.__private__.putPages=function(){var F,se,Pe=[];for(F=1;F<=ie;F++)we[F].objId=Dt(),we[F].contentsObjId=Dt();for(F=1;F<=ie;F++)Pe.push(Yr({number:F,data:fe[F],objId:we[F].objId,contentsObjId:we[F].contentsObjId,mediaBox:we[F].mediaBox,cropBox:we[F].cropBox,bleedBox:we[F].bleedBox,trimBox:we[F].trimBox,artBox:we[F].artBox,userUnit:we[F].userUnit,rootDictionaryObjId:pr,resourceDictionaryObjId:ar}));Mt(pr,!0),ne("<</Type /Pages");var ze="/Kids [";for(se=0;se<ie;se++)ze+=Pe[se]+" 0 R ";ne(ze+"]"),ne("/Count "+ie),ne(">>"),ne("endobj"),De.publish("postPutPages")},Ta=function(F){De.publish("putFont",{font:F,out:ne,newObject:ut,putStream:Tr}),F.isAlreadyPutted!==!0&&(F.objectNumber=ut(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+Cf(F.postScriptName)),ne("/Subtype /Type1"),typeof F.encoding=="string"&&ne("/Encoding /"+F.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},Di=function(F){F.objectNumber=ut();var se=[];se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Form"}),se.push({key:"BBox",value:"["+[B(F.x),B(F.y),B(F.x+F.width),B(F.y+F.height)].join(" ")+"]"}),se.push({key:"Matrix",value:"["+F.matrix.toString()+"]"});var Pe=F.pages[1].join(`
`);Tr({data:Pe,additionalKeyValues:se,objectId:F.objectNumber}),ne("endobj")},na=function(F,se){se||(se=21);var Pe=ut(),ze=function(Nt,$t){var Ut,ir=[],sr=1/($t-1);for(Ut=0;Ut<1;Ut+=sr)ir.push(Ut);if(ir.push(1),Nt[0].offset!=0){var zt={offset:0,color:Nt[0].color};Nt.unshift(zt)}if(Nt[Nt.length-1].offset!=1){var tr={offset:1,color:Nt[Nt.length-1].color};Nt.push(tr)}for(var Or="",Mr=0,fa=0;fa<ir.length;fa++){for(Ut=ir[fa];Ut>Nt[Mr+1].offset;)Mr++;var Kn=Nt[Mr].offset,Ra=(Ut-Kn)/(Nt[Mr+1].offset-Kn),_s=Nt[Mr].color,Ri=Nt[Mr+1].color;Or+=P(Math.round((1-Ra)*_s[0]+Ra*Ri[0]).toString(16))+P(Math.round((1-Ra)*_s[1]+Ra*Ri[1]).toString(16))+P(Math.round((1-Ra)*_s[2]+Ra*Ri[2]).toString(16))}return Or.trim()}(F.colors,se),Ze=[];Ze.push({key:"FunctionType",value:"0"}),Ze.push({key:"Domain",value:"[0.0 1.0]"}),Ze.push({key:"Size",value:"["+se+"]"}),Ze.push({key:"BitsPerSample",value:"8"}),Ze.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ze.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Tr({data:ze,additionalKeyValues:Ze,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Pe}),ne("endobj"),F.objectNumber=ut(),ne("<< /ShadingType "+F.type),ne("/ColorSpace /DeviceRGB");var gt="/Coords ["+B(parseFloat(F.coords[0]))+" "+B(parseFloat(F.coords[1]))+" ";F.type===2?gt+=B(parseFloat(F.coords[2]))+" "+B(parseFloat(F.coords[3])):gt+=B(parseFloat(F.coords[2]))+" "+B(parseFloat(F.coords[3]))+" "+B(parseFloat(F.coords[4]))+" "+B(parseFloat(F.coords[5])),ne(gt+="]"),F.matrix&&ne("/Matrix ["+F.matrix.toString()+"]"),ne("/Function "+Pe+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},hc=function(F,se){var Pe=Dt(),ze=ut();se.push({resourcesOid:Pe,objectOid:ze}),F.objectNumber=ze;var Ze=[];Ze.push({key:"Type",value:"/Pattern"}),Ze.push({key:"PatternType",value:"1"}),Ze.push({key:"PaintType",value:"1"}),Ze.push({key:"TilingType",value:"1"}),Ze.push({key:"BBox",value:"["+F.boundingBox.map(B).join(" ")+"]"}),Ze.push({key:"XStep",value:B(F.xStep)}),Ze.push({key:"YStep",value:B(F.yStep)}),Ze.push({key:"Resources",value:Pe+" 0 R"}),F.matrix&&Ze.push({key:"Matrix",value:"["+F.matrix.toString()+"]"}),Tr({data:F.stream,additionalKeyValues:Ze,objectId:F.objectNumber}),ne("endobj")},wd=function(F){for(var se in F.objectNumber=ut(),ne("<<"),F)switch(se){case"opacity":ne("/ca "+A(F[se]));break;case"stroke-opacity":ne("/CA "+A(F[se]))}ne(">>"),ne("endobj")},Nr=function(F){Mt(F.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var se in ne("/Font <<"),ht)ht.hasOwnProperty(se)&&(m===!1||m===!0&&x.hasOwnProperty(se))&&ne("/"+se+" "+ht[se].objectNumber+" 0 R");ne(">>")}(),function(){if(Object.keys(Ne).length>0){for(var se in ne("/Shading <<"),Ne)Ne.hasOwnProperty(se)&&Ne[se]instanceof sh&&Ne[se].objectNumber>=0&&ne("/"+se+" "+Ne[se].objectNumber+" 0 R");De.publish("putShadingPatternDict"),ne(">>")}}(),function(se){if(Object.keys(Ne).length>0){for(var Pe in ne("/Pattern <<"),Ne)Ne.hasOwnProperty(Pe)&&Ne[Pe]instanceof p.TilingPattern&&Ne[Pe].objectNumber>=0&&Ne[Pe].objectNumber<se&&ne("/"+Pe+" "+Ne[Pe].objectNumber+" 0 R");De.publish("putTilingPatternDict"),ne(">>")}}(F.objectOid),function(){if(Object.keys(Re).length>0){var se;for(se in ne("/ExtGState <<"),Re)Re.hasOwnProperty(se)&&Re[se].objectNumber>=0&&ne("/"+se+" "+Re[se].objectNumber+" 0 R");De.publish("putGStateDict"),ne(">>")}}(),function(){for(var se in ne("/XObject <<"),Ye)Ye.hasOwnProperty(se)&&Ye[se].objectNumber>=0&&ne("/"+se+" "+Ye[se].objectNumber+" 0 R");De.publish("putXobjectDict"),ne(">>")}(),ne(">>"),ne("endobj")},_a=function(F){wt[F.fontName]=wt[F.fontName]||{},wt[F.fontName][F.fontStyle]=F.id},ha=function(F,se,Pe,ze,Ze){var gt={id:"F"+(Object.keys(ht).length+1).toString(10),postScriptName:F,fontName:se,fontStyle:Pe,encoding:ze,isStandardFont:Ze||!1,metadata:{}};return De.publish("addFont",{font:gt,instance:this}),ht[gt.id]=gt,_a(gt),gt.id},Wn=p.__private__.pdfEscape=p.pdfEscape=function(F,se){return function(Pe,ze){var Ze,gt,Nt,$t,Ut,ir,sr,zt,tr;if(Nt=(ze=ze||{}).sourceEncoding||"Unicode",Ut=ze.outputEncoding,(ze.autoencode||Ut)&&ht[Be].metadata&&ht[Be].metadata[Nt]&&ht[Be].metadata[Nt].encoding&&($t=ht[Be].metadata[Nt].encoding,!Ut&&ht[Be].encoding&&(Ut=ht[Be].encoding),!Ut&&$t.codePages&&(Ut=$t.codePages[0]),typeof Ut=="string"&&(Ut=$t[Ut]),Ut)){for(sr=!1,ir=[],Ze=0,gt=Pe.length;Ze<gt;Ze++)(zt=Ut[Pe.charCodeAt(Ze)])?ir.push(String.fromCharCode(zt)):ir.push(Pe[Ze]),ir[Ze].charCodeAt(0)>>8&&(sr=!0);Pe=ir.join("")}for(Ze=Pe.length;sr===void 0&&Ze!==0;)Pe.charCodeAt(Ze-1)>>8&&(sr=!0),Ze--;if(!sr)return Pe;for(ir=ze.noBOM?[]:[254,255],Ze=0,gt=Pe.length;Ze<gt;Ze++){if((tr=(zt=Pe.charCodeAt(Ze))>>8)>>8)throw new Error("Character at position "+Ze+" of string '"+Pe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ir.push(tr),ir.push(zt-(tr<<8))}return String.fromCharCode.apply(void 0,ir)}(F,se).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},es=p.__private__.beginPage=function(F){fe[++ie]=[],we[ie]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(F[0]),topRightY:Number(F[1])}},yo(ie),le(fe[G])},jd=function(F,se){var Pe,ze,Ze;switch(r=se||r,typeof F=="string"&&(Pe=j(F.toLowerCase()),Array.isArray(Pe)&&(ze=Pe[0],Ze=Pe[1])),Array.isArray(F)&&(ze=F[0]*Ge,Ze=F[1]*Ge),isNaN(ze)&&(ze=i[0],Ze=i[1]),(ze>14400||Ze>14400)&&(xn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ze=Math.min(14400,ze),Ze=Math.min(14400,Ze)),i=[ze,Ze],r.substr(0,1)){case"l":Ze>ze&&(i=[Ze,ze]);break;case"p":ze>Ze&&(i=[Ze,ze])}es(i),Xo(Ia),ne(wo),Tl!==0&&ne(Tl+" J"),Ol!==0&&ne(Ol+" j"),De.publish("addPage",{pageNumber:ie})},$s=function(F){F>0&&F<=ie&&(fe.splice(F,1),we.splice(F,1),ie--,G>ie&&(G=ie),this.setPage(G))},yo=function(F){F>0&&F<=ie&&(G=F)},Ya=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return fe.length-1},vu=function(F,se,Pe){var ze,Ze=void 0;return Pe=Pe||{},F=F!==void 0?F:ht[Be].fontName,se=se!==void 0?se:ht[Be].fontStyle,ze=F.toLowerCase(),wt[ze]!==void 0&&wt[ze][se]!==void 0?Ze=wt[ze][se]:wt[F]!==void 0&&wt[F][se]!==void 0?Ze=wt[F][se]:Pe.disableWarning===!1&&xn.warn("Unable to look up font label for font '"+F+"', '"+se+"'. Refer to getFontList() for available fonts."),Ze||Pe.noFallback||(Ze=wt.times[se])==null&&(Ze=wt.times.normal),Ze},Rr=p.__private__.putInfo=function(){var F=ut(),se=function(ze){return ze};for(var Pe in h!==null&&(se=Ur.encryptor(F,0)),ne("<<"),ne("/Producer ("+Wn(se("jsPDF "+dr.version))+")"),Le)Le.hasOwnProperty(Pe)&&Le[Pe]&&ne("/"+Pe.substr(0,1).toUpperCase()+Pe.substr(1)+" ("+Wn(se(Le[Pe]))+")");ne("/CreationDate ("+Wn(se(W))+")"),ne(">>"),ne("endobj")},Ln=p.__private__.putCatalog=function(F){var se=(F=F||{}).rootDictionaryObjId||pr;switch(ut(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+se+" 0 R"),Ae||(Ae="fullwidth"),Ae){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Pe=""+Ae;Pe.substr(Pe.length-1)==="%"&&(Ae=parseInt(Ae)/100),typeof Ae=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+A(Ae)+"]")}switch(at||(at="continuous"),at){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}Me&&ne("/PageMode /"+Me),De.publish("putCatalog"),ne(">>"),ne("endobj")},un=p.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(re+1)),ne("/Root "+re+" 0 R"),ne("/Info "+(re-1)+" 0 R"),h!==null&&ne("/Encrypt "+Ur.oid+" 0 R"),ne("/ID [ <"+ee+"> <"+ee+"> ]"),ne(">>")},Nd=p.__private__.putHeader=function(){ne("%PDF-"+v),ne("%")},Ai=p.__private__.putXRef=function(){var F="0000000000";ne("xref"),ne("0 "+(re+1)),ne("0000000000 65535 f ");for(var se=1;se<=re;se++)typeof ce[se]=="function"?ne((F+ce[se]()).slice(-10)+" 00000 n "):ce[se]!==void 0?ne((F+ce[se]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},In=p.__private__.buildDocument=function(){var F;re=0,ae=0,be=[],ce=[],ue=[],pr=Dt(),ar=Dt(),le(be),De.publish("buildDocument"),Nd(),mn(),function(){De.publish("putAdditionalObjects");for(var Pe=0;Pe<ue.length;Pe++){var ze=ue[Pe];Mt(ze.objId,!0),ne(ze.content),ne("endobj")}De.publish("postPutAdditionalObjects")}(),F=[],function(){for(var Pe in ht)ht.hasOwnProperty(Pe)&&(m===!1||m===!0&&x.hasOwnProperty(Pe))&&Ta(ht[Pe])}(),function(){var Pe;for(Pe in Re)Re.hasOwnProperty(Pe)&&wd(Re[Pe])}(),function(){for(var Pe in Ye)Ye.hasOwnProperty(Pe)&&Di(Ye[Pe])}(),function(Pe){var ze;for(ze in Ne)Ne.hasOwnProperty(ze)&&(Ne[ze]instanceof sh?na(Ne[ze]):Ne[ze]instanceof If&&hc(Ne[ze],Pe))}(F),De.publish("putResources"),F.forEach(Nr),Nr({resourcesOid:ar,objectOid:Number.MAX_SAFE_INTEGER}),De.publish("postPutResources"),h!==null&&(Ur.oid=ut(),ne("<<"),ne("/Filter /Standard"),ne("/V "+Ur.v),ne("/R "+Ur.r),ne("/U <"+Ur.toHexString(Ur.U)+">"),ne("/O <"+Ur.toHexString(Ur.O)+">"),ne("/P "+Ur.P),ne(">>"),ne("endobj")),Rr(),Ln();var se=ae;return Ai(),un(),ne("startxref"),ne(""+se),ne("%%EOF"),le(fe[G]),be.join(`
`)},Ti=p.__private__.getBlob=function(F){return new Blob([Ee(F)],{type:"application/pdf"})},Oa=p.output=p.__private__.output=(Tt=function(F,se){switch(typeof(se=se||{})=="string"?se={filename:se}:se.filename=se.filename||"generated.pdf",F){case void 0:return In();case"save":p.save(se.filename);break;case"arraybuffer":return Ee(In());case"blob":return Ti(In());case"bloburi":case"bloburl":if(Cr.URL!==void 0&&typeof Cr.URL.createObjectURL=="function")return Cr.URL&&Cr.URL.createObjectURL(Ti(In()))||void 0;xn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Pe="",ze=In();try{Pe=uD(ze)}catch{Pe=uD(unescape(encodeURIComponent(ze)))}return"data:application/pdf;filename="+se.filename+";base64,"+Pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Cr)==="[object Window]"){var Ze="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",gt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';se.pdfObjectUrl&&(Ze=se.pdfObjectUrl,gt="");var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ze+'"'+gt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(se)+");<\/script></body></html>",$t=Cr.open();return $t!==null&&$t.document.write(Nt),$t}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Cr)==="[object Window]"){var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(se.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+se.filename+'" width="500px" height="400px" /></body></html>',ir=Cr.open();if(ir!==null){ir.document.write(Ut);var sr=this;ir.document.documentElement.querySelector("#pdfViewer").onload=function(){ir.document.title=se.filename,ir.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(sr.output("bloburl"))}}return ir}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Cr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",se)+'"></iframe></body></html>',tr=Cr.open();if(tr!==null&&(tr.document.write(zt),tr.document.title=se.filename),tr||typeof safari>"u")return tr;break;case"datauri":case"dataurl":return Cr.document.location.href=this.output("datauristring",se);default:return null}},Tt.foo=function(){try{return Tt.apply(this,arguments)}catch(Pe){var F=Pe.stack||"";~F.indexOf(" at ")&&(F=F.split(" at ")[1]);var se="Error in function "+F.split(`
`)[0].split("<")[0]+": "+Pe.message;if(!Cr.console)throw new Error(se);Cr.console.error(se,Pe),Cr.alert&&alert(se)}},Tt.foo.bar=Tt,Tt.foo),Yo=function(F){return Array.isArray($e)===!0&&$e.indexOf(F)>-1};switch(n){case"pt":Ge=1;break;case"mm":Ge=72/25.4;break;case"cm":Ge=72/2.54;break;case"in":Ge=72;break;case"px":Ge=Yo("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ge=12;break;case"ex":Ge=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ge=n}var Ur=null;H(),V();var Zr=p.__private__.getPageInfo=p.getPageInfo=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:we[F].objId,pageNumber:F,pageContext:we[F]}},fc=p.__private__.getPageInfoByObjId=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var se in we)if(we[se].objId===F)break;return Zr(se)},Dl=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:we[G].objId,pageNumber:G,pageContext:we[G]}};p.addPage=function(){return jd.apply(this,arguments),this},p.setPage=function(){return yo.apply(this,arguments),le.call(this,fe[G]),this},p.insertPage=function(F){return this.addPage(),this.movePage(G,F),this},p.movePage=function(F,se){var Pe,ze;if(F>se){Pe=fe[F],ze=we[F];for(var Ze=F;Ze>se;Ze--)fe[Ze]=fe[Ze-1],we[Ze]=we[Ze-1];fe[se]=Pe,we[se]=ze,this.setPage(se)}else if(F<se){Pe=fe[F],ze=we[F];for(var gt=F;gt<se;gt++)fe[gt]=fe[gt+1],we[gt]=we[gt+1];fe[se]=Pe,we[se]=ze,this.setPage(se)}return this},p.deletePage=function(){return $s.apply(this,arguments),this},p.__private__.text=p.text=function(F,se,Pe,ze,Ze){var gt,Nt,$t,Ut,ir,sr,zt,tr,Or,Mr=(ze=ze||{}).scope||this;if(typeof F=="number"&&typeof se=="number"&&(typeof Pe=="string"||Array.isArray(Pe))){var fa=Pe;Pe=se,se=F,F=fa}if(arguments[3]instanceof et==0?($t=arguments[4],Ut=arguments[5],cn(zt=arguments[3])==="object"&&zt!==null||(typeof $t=="string"&&(Ut=$t,$t=null),typeof zt=="string"&&(Ut=zt,zt=null),typeof zt=="number"&&($t=zt,zt=null),ze={flags:zt,angle:$t,align:Ut})):($("The transform parameter of text() with a Matrix value"),Or=Ze),isNaN(se)||isNaN(Pe)||F==null)throw new Error("Invalid arguments passed to jsPDF.text");if(F.length===0)return Mr;var Kn,Ra="",_s=typeof ze.lineHeightFactor=="number"?ze.lineHeightFactor:Mn,Ri=Mr.internal.scaleFactor;function $h(qr){return qr=qr.split("	").join(Array(ze.TabLen||9).join(" ")),Wn(qr,zt)}function Ll(qr){for(var Qr,Fn=qr.concat(),aa=[],Ws=Fn.length;Ws--;)typeof(Qr=Fn.shift())=="string"?aa.push(Qr):Array.isArray(qr)&&(Qr.length===1||Qr[1]===void 0&&Qr[2]===void 0)?aa.push(Qr[0]):aa.push([Qr[0],Qr[1],Qr[2]]);return aa}function xc(qr,Qr){var Fn;if(typeof qr=="string")Fn=Qr(qr)[0];else if(Array.isArray(qr)){for(var aa,Ws,Cd=qr.concat(),Su=[],al=Cd.length;al--;)typeof(aa=Cd.shift())=="string"?Su.push(Qr(aa)[0]):Array.isArray(aa)&&typeof aa[0]=="string"&&(Ws=Qr(aa[0],aa[1],aa[2]),Su.push([Ws[0],Ws[1],Ws[2]]));Fn=Su}return Fn}var Il=!1,vc=!0;if(typeof F=="string")Il=!0;else if(Array.isArray(F)){var Ml=F.concat();Nt=[];for(var yc,Xa=Ml.length;Xa--;)(typeof(yc=Ml.shift())!="string"||Array.isArray(yc)&&typeof yc[0]!="string")&&(vc=!1);Il=vc}if(Il===!1)throw new Error('Type of text must be string or Array. "'+F+'" is not recognized.');typeof F=="string"&&(F=F.match(/[\r?\n]/)?F.split(/\r\n|\r|\n/g):[F]);var bc=ve/Mr.internal.scaleFactor,wc=bc*(_s-1);switch(ze.baseline){case"bottom":Pe-=wc;break;case"top":Pe+=bc-wc;break;case"hanging":Pe+=bc-2*wc;break;case"middle":Pe+=bc/2-wc}if((sr=ze.maxWidth||0)>0&&(typeof F=="string"?F=Mr.splitTextToSize(F,sr):Object.prototype.toString.call(F)==="[object Array]"&&(F=F.reduce(function(qr,Qr){return qr.concat(Mr.splitTextToSize(Qr,sr))},[]))),gt={text:F,x:se,y:Pe,options:ze,mutex:{pdfEscape:Wn,activeFontKey:Be,fonts:ht,activeFontSize:ve}},De.publish("preProcessText",gt),F=gt.text,$t=(ze=gt.options).angle,Or instanceof et==0&&$t&&typeof $t=="number"){$t*=Math.PI/180,ze.rotationDirection===0&&($t=-$t),E===w&&($t=-$t);var Sd=Math.cos($t),kd=Math.sin($t);Or=new et(Sd,kd,-kd,Sd,0,0)}else $t&&$t instanceof et&&(Or=$t);E!==w||Or||(Or=kt),(ir=ze.charSpace||rs)!==void 0&&(Ra+=B(L(ir))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(tr=ze.horizontalScale)!==void 0&&(Ra+=B(100*tr)+` Tz
`),ze.lang;var Rn=-1,Hs=ze.renderingMode!==void 0?ze.renderingMode:ze.stroke,_o=Mr.internal.getCurrentPageInfo().pageContext;switch(Hs){case 0:case!1:case"fill":Rn=0;break;case 1:case!0:case"stroke":Rn=1;break;case 2:case"fillThenStroke":Rn=2;break;case 3:case"invisible":Rn=3;break;case 4:case"fillAndAddForClipping":Rn=4;break;case 5:case"strokeAndAddPathForClipping":Rn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Rn=6;break;case 7:case"addToPathForClipping":Rn=7}var Bh=_o.usedRenderingMode!==void 0?_o.usedRenderingMode:-1;Rn!==-1?Ra+=Rn+` Tr
`:Bh!==-1&&(Ra+=`0 Tr
`),Rn!==-1&&(_o.usedRenderingMode=Rn),Ut=ze.align||"left";var as,Rl=ve*_s,wu=Mr.internal.pageSize.getWidth(),ju=ht[Be];ir=ze.charSpace||rs,sr=ze.maxWidth||0,zt=Object.assign({autoencode:!0,noBOM:!0},ze.flags);var el=[],Ss=function(qr){return Mr.getStringUnitWidth(qr,{font:ju,charSpace:ir,fontSize:ve,doKerning:!1})*ve/Ri};if(Object.prototype.toString.call(F)==="[object Array]"){var is;Nt=Ll(F),Ut!=="left"&&(as=Nt.map(Ss));var ss,zl=0;if(Ut==="right"){se-=as[0],F=[],Xa=Nt.length;for(var So=0;So<Xa;So++)So===0?(ss=pi(se),is=gi(Pe)):(ss=L(zl-as[So]),is=-Rl),F.push([Nt[So],ss,is]),zl=as[So]}else if(Ut==="center"){se-=as[0]/2,F=[],Xa=Nt.length;for(var tl=0;tl<Xa;tl++)tl===0?(ss=pi(se),is=gi(Pe)):(ss=L((zl-as[tl])/2),is=-Rl),F.push([Nt[tl],ss,is]),zl=as[tl]}else if(Ut==="left"){F=[],Xa=Nt.length;for(var rl=0;rl<Xa;rl++)F.push(Nt[rl])}else if(Ut==="justify"&&ju.encoding==="Identity-H"){F=[],Xa=Nt.length,sr=sr!==0?sr:wu;for(var ko=0,Gn=0;Gn<Xa;Gn++)if(is=Gn===0?gi(Pe):-Rl,ss=Gn===0?pi(se):ko,Gn<Xa-1){var jc=L((sr-as[Gn])/(Nt[Gn].split(" ").length-1)),Co=Nt[Gn].split(" ");F.push([Co[0]+" ",ss,is]),ko=0;for(var Vs=1;Vs<Co.length;Vs++){var Nc=(Ss(Co[Vs-1]+" "+Co[Vs])-Ss(Co[Vs]))*Ri+jc;Vs==Co.length-1?F.push([Co[Vs],Nc,0]):F.push([Co[Vs]+" ",Nc,0]),ko-=Nc}}else F.push([Nt[Gn],ss,is]);F.push(["",ko,0])}else{if(Ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(F=[],Xa=Nt.length,sr=sr!==0?sr:wu,Gn=0;Gn<Xa;Gn++){is=Gn===0?gi(Pe):-Rl,ss=Gn===0?pi(se):0;var _c=Nt[Gn].split(" ").length-1,Nu=_c>0?(sr-as[Gn])/_c:0;Gn<Xa-1?el.push(B(L(Nu))):el.push(0),F.push([Nt[Gn],ss,is])}}}(typeof ze.R2L=="boolean"?ze.R2L:Ce)===!0&&(F=xc(F,function(qr,Qr,Fn){return[qr.split("").reverse().join(""),Qr,Fn]})),gt={text:F,x:se,y:Pe,options:ze,mutex:{pdfEscape:Wn,activeFontKey:Be,fonts:ht,activeFontSize:ve}},De.publish("postProcessText",gt),F=gt.text,Kn=gt.mutex.isHex||!1;var _u=ht[Be].encoding;_u!=="WinAnsiEncoding"&&_u!=="StandardEncoding"||(F=xc(F,function(qr,Qr,Fn){return[$h(qr),Qr,Fn]})),Nt=Ll(F),F=[];for(var nl,Fl,$l,Sc=Array.isArray(Nt[0])?1:0,Bl="",kc=function(qr,Qr,Fn){var aa="";return Fn instanceof et?(Fn=typeof ze.angle=="number"?Pt(Fn,new et(1,0,0,1,qr,Qr)):Pt(new et(1,0,0,1,qr,Qr),Fn),E===w&&(Fn=Pt(new et(1,0,0,-1,0,0),Fn)),aa=Fn.join(" ")+` Tm
`):aa=B(qr)+" "+B(Qr)+` Td
`,aa},zn=0;zn<Nt.length;zn++){switch(Bl="",Sc){case 1:$l=(Kn?"<":"(")+Nt[zn][0]+(Kn?">":")"),nl=parseFloat(Nt[zn][1]),Fl=parseFloat(Nt[zn][2]);break;case 0:$l=(Kn?"<":"(")+Nt[zn]+(Kn?">":")"),nl=pi(se),Fl=gi(Pe)}el!==void 0&&el[zn]!==void 0&&(Bl=el[zn]+` Tw
`),zn===0?F.push(Bl+kc(nl,Fl,Or)+$l):Sc===0?F.push(Bl+$l):Sc===1&&F.push(Bl+kc(nl,Fl,Or)+$l)}F=Sc===0?F.join(` Tj
T* `):F.join(` Tj
`),F+=` Tj
`;var zi=`BT
/`;return zi+=Be+" "+ve+` Tf
`,zi+=B(ve*_s)+` TL
`,zi+=Ma+`
`,zi+=Ra,zi+=F,ne(zi+="ET"),x[Be]=!0,Mr};var hi=p.__private__.clip=p.clip=function(F){return ne(F==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return hi("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ne("n"),this};var fi=p.__private__.isValidStyle=function(F){var se=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(F)!==-1&&(se=!0),se};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(F){return fi(F)&&(u=F),this};var Bs=p.__private__.getStyle=p.getStyle=function(F){var se=u;switch(F){case"D":case"S":se="S";break;case"F":se="f";break;case"FD":case"DF":se="B";break;case"f":case"f*":case"B":case"B*":se=F}return se},Lr=p.close=function(){return ne("h"),this};p.stroke=function(){return ne("S"),this},p.fill=function(F){return ys("f",F),this},p.fillEvenOdd=function(F){return ys("f*",F),this},p.fillStroke=function(F){return ys("B",F),this},p.fillStrokeEvenOdd=function(F){return ys("B*",F),this};var ys=function(F,se){cn(se)==="object"?bs(se,F):ne(F)},Oi=function(F){F===null||E===w&&F===void 0||(F=Bs(F),ne(F))};function bo(F,se,Pe,ze,Ze){var gt=new If(se||this.boundingBox,Pe||this.xStep,ze||this.yStep,this.gState,Ze||this.matrix);gt.stream=this.stream;var Nt=F+"$$"+this.cloneIndex+++"$$";return jt(Nt,gt),gt}var bs=function(F,se){var Pe=Ue[F.key],ze=Ne[Pe];if(ze instanceof sh)ne("q"),ne(Us(se)),ze.gState&&p.setGState(ze.gState),ne(F.matrix.toString()+" cm"),ne("/"+Pe+" sh"),ne("Q");else if(ze instanceof If){var Ze=new et(1,0,0,-1,0,Mi());F.matrix&&(Ze=Ze.multiply(F.matrix||kt),Pe=bo.call(ze,F.key,F.boundingBox,F.xStep,F.yStep,Ze).id),ne("q"),ne("/Pattern cs"),ne("/"+Pe+" scn"),ze.gState&&p.setGState(ze.gState),ne(se),ne("Q")}},Us=function(F){switch(F){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},mi=p.moveTo=function(F,se){return ne(B(L(F))+" "+B(q(se))+" m"),this},qs=p.lineTo=function(F,se){return ne(B(L(F))+" "+B(q(se))+" l"),this},La=p.curveTo=function(F,se,Pe,ze,Ze,gt){return ne([B(L(F)),B(q(se)),B(L(Pe)),B(q(ze)),B(L(Ze)),B(q(gt)),"c"].join(" ")),this};p.__private__.line=p.line=function(F,se,Pe,ze,Ze){if(isNaN(F)||isNaN(se)||isNaN(Pe)||isNaN(ze)||!fi(Ze))throw new Error("Invalid arguments passed to jsPDF.line");return E===k?this.lines([[Pe-F,ze-se]],F,se,[1,1],Ze||"S"):this.lines([[Pe-F,ze-se]],F,se,[1,1]).stroke()},p.__private__.lines=p.lines=function(F,se,Pe,ze,Ze,gt){var Nt,$t,Ut,ir,sr,zt,tr,Or,Mr,fa,Kn,Ra;if(typeof F=="number"&&(Ra=Pe,Pe=se,se=F,F=Ra),ze=ze||[1,1],gt=gt||!1,isNaN(se)||isNaN(Pe)||!Array.isArray(F)||!Array.isArray(ze)||!fi(Ze)||typeof gt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(mi(se,Pe),Nt=ze[0],$t=ze[1],ir=F.length,fa=se,Kn=Pe,Ut=0;Ut<ir;Ut++)(sr=F[Ut]).length===2?(fa=sr[0]*Nt+fa,Kn=sr[1]*$t+Kn,qs(fa,Kn)):(zt=sr[0]*Nt+fa,tr=sr[1]*$t+Kn,Or=sr[2]*Nt+fa,Mr=sr[3]*$t+Kn,fa=sr[4]*Nt+fa,Kn=sr[5]*$t+Kn,La(zt,tr,Or,Mr,fa,Kn));return gt&&Lr(),Oi(Ze),this},p.path=function(F){for(var se=0;se<F.length;se++){var Pe=F[se],ze=Pe.c;switch(Pe.op){case"m":mi(ze[0],ze[1]);break;case"l":qs(ze[0],ze[1]);break;case"c":La.apply(this,ze);break;case"h":Lr()}}return this},p.__private__.rect=p.rect=function(F,se,Pe,ze,Ze){if(isNaN(F)||isNaN(se)||isNaN(Pe)||isNaN(ze)||!fi(Ze))throw new Error("Invalid arguments passed to jsPDF.rect");return E===k&&(ze=-ze),ne([B(L(F)),B(q(se)),B(L(Pe)),B(L(ze)),"re"].join(" ")),Oi(Ze),this},p.__private__.triangle=p.triangle=function(F,se,Pe,ze,Ze,gt,Nt){if(isNaN(F)||isNaN(se)||isNaN(Pe)||isNaN(ze)||isNaN(Ze)||isNaN(gt)||!fi(Nt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Pe-F,ze-se],[Ze-Pe,gt-ze],[F-Ze,se-gt]],F,se,[1,1],Nt,!0),this},p.__private__.roundedRect=p.roundedRect=function(F,se,Pe,ze,Ze,gt,Nt){if(isNaN(F)||isNaN(se)||isNaN(Pe)||isNaN(ze)||isNaN(Ze)||isNaN(gt)||!fi(Nt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $t=4/3*(Math.SQRT2-1);return Ze=Math.min(Ze,.5*Pe),gt=Math.min(gt,.5*ze),this.lines([[Pe-2*Ze,0],[Ze*$t,0,Ze,gt-gt*$t,Ze,gt],[0,ze-2*gt],[0,gt*$t,-Ze*$t,gt,-Ze,gt],[2*Ze-Pe,0],[-Ze*$t,0,-Ze,-gt*$t,-Ze,-gt],[0,2*gt-ze],[0,-gt*$t,Ze*$t,-gt,Ze,-gt]],F+Ze,se,[1,1],Nt,!0),this},p.__private__.ellipse=p.ellipse=function(F,se,Pe,ze,Ze){if(isNaN(F)||isNaN(se)||isNaN(Pe)||isNaN(ze)||!fi(Ze))throw new Error("Invalid arguments passed to jsPDF.ellipse");var gt=4/3*(Math.SQRT2-1)*Pe,Nt=4/3*(Math.SQRT2-1)*ze;return mi(F+Pe,se),La(F+Pe,se-Nt,F+gt,se-ze,F,se-ze),La(F-gt,se-ze,F-Pe,se-Nt,F-Pe,se),La(F-Pe,se+Nt,F-gt,se+ze,F,se+ze),La(F+gt,se+ze,F+Pe,se+Nt,F+Pe,se),Oi(Ze),this},p.__private__.circle=p.circle=function(F,se,Pe,ze){if(isNaN(F)||isNaN(se)||isNaN(Pe)||!fi(ze))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(F,se,Pe,Pe,ze)},p.setFont=function(F,se,Pe){return Pe&&(se=Y(se,Pe)),Be=vu(F,se,{disableWarning:!1}),this};var ts=p.__private__.getFont=p.getFont=function(){return ht[vu.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var F,se,Pe={};for(F in wt)if(wt.hasOwnProperty(F))for(se in Pe[F]=[],wt[F])wt[F].hasOwnProperty(se)&&Pe[F].push(se);return Pe},p.addFont=function(F,se,Pe,ze,Ze){var gt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&gt.indexOf(arguments[3])!==-1?Ze=arguments[3]:arguments[3]&&gt.indexOf(arguments[3])==-1&&(Pe=Y(Pe,ze)),ha.call(this,F,se,Pe,Ze=Ze||"Identity-H")};var Mn,Ia=e.lineWidth||.200025,gr=p.__private__.getLineWidth=p.getLineWidth=function(){return Ia},Xo=p.__private__.setLineWidth=p.setLineWidth=function(F){return Ia=F,ne(B(L(F))+" w"),this};p.__private__.setLineDash=dr.API.setLineDash=dr.API.setLineDashPattern=function(F,se){if(F=F||[],se=se||0,isNaN(se)||!Array.isArray(F))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return F=F.map(function(Pe){return B(L(Pe))}).join(" "),se=B(L(se)),ne("["+F+"] "+se+" d"),this};var ws=p.__private__.getLineHeight=p.getLineHeight=function(){return ve*Mn};p.__private__.getLineHeight=p.getLineHeight=function(){return ve*Mn};var _d=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(F){return typeof(F=F||1.15)=="number"&&(Mn=F),this},yu=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Mn};_d(e.lineHeight);var pi=p.__private__.getHorizontalCoordinate=function(F){return L(F)},gi=p.__private__.getVerticalCoordinate=function(F){return E===w?F:we[G].mediaBox.topRightY-we[G].mediaBox.bottomLeftY-L(F)},mc=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(F){return B(pi(F))},Jo=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(F){return B(gi(F))},wo=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Lt(wo)},p.__private__.setStrokeColor=p.setDrawColor=function(F,se,Pe,ze){return wo=Xt({ch1:F,ch2:se,ch3:Pe,ch4:ze,pdfColorType:"draw",precision:2}),ne(wo),this};var Al=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Lt(Al)},p.__private__.setFillColor=p.setFillColor=function(F,se,Pe,ze){return Al=Xt({ch1:F,ch2:se,ch3:Pe,ch4:ze,pdfColorType:"fill",precision:2}),ne(Al),this};var Ma=e.textColor||"0 g",Li=p.__private__.getTextColor=p.getTextColor=function(){return Lt(Ma)};p.__private__.setTextColor=p.setTextColor=function(F,se,Pe,ze){return Ma=Xt({ch1:F,ch2:se,ch3:Pe,ch4:ze,pdfColorType:"text",precision:3}),this};var rs=e.charSpace,jo=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(rs||0)};p.__private__.setCharSpace=p.setCharSpace=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return rs=F,this};var Tl=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(F){var se=p.CapJoinStyles[F];if(se===void 0)throw new Error("Line cap style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Tl=se,ne(se+" J"),this};var Ol=0;p.__private__.setLineJoin=p.setLineJoin=function(F){var se=p.CapJoinStyles[F];if(se===void 0)throw new Error("Line join style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ol=se,ne(se+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(F){if(F=F||0,isNaN(F))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(B(L(F))+" M"),this},p.GState=Hv,p.setGState=function(F){(F=typeof F=="string"?Re[Ve[F]]:js(null,F)).equals(it)||(ne("/"+F.id+" gs"),it=F)};var js=function(F,se){if(!F||!Ve[F]){var Pe=!1;for(var ze in Re)if(Re.hasOwnProperty(ze)&&Re[ze].equals(se)){Pe=!0;break}if(Pe)se=Re[ze];else{var Ze="GS"+(Object.keys(Re).length+1).toString(10);Re[Ze]=se,se.id=Ze}return F&&(Ve[F]=se.id),De.publish("addGState",se),se}};p.addGState=function(F,se){return js(F,se),this},p.saveGraphicsState=function(){return ne("q"),rt.push({key:Be,size:ve,color:Ma}),this},p.restoreGraphicsState=function(){ne("Q");var F=rt.pop();return Be=F.key,ve=F.size,Ma=F.color,it=null,this},p.setCurrentTransformationMatrix=function(F){return ne(F.toString()+" cm"),this},p.comment=function(F){return ne("#"+F),this};var ns=function(F,se){var Pe=F||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Pe},set:function(gt){isNaN(gt)||(Pe=parseFloat(gt))}});var ze=se||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ze},set:function(gt){isNaN(gt)||(ze=parseFloat(gt))}});var Ze="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ze},set:function(gt){Ze=gt.toString()}}),this},Zo=function(F,se,Pe,ze){ns.call(this,F,se),this.type="rect";var Ze=Pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ze},set:function(Nt){isNaN(Nt)||(Ze=parseFloat(Nt))}});var gt=ze||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return gt},set:function(Nt){isNaN(Nt)||(gt=parseFloat(Nt))}}),this},No=function(){this.page=ie,this.currentPage=G,this.pages=fe.slice(0),this.pagesContext=we.slice(0),this.x=Qe,this.y=St,this.matrix=oe,this.width=Qo(G),this.height=xi(G),this.outputDestination=de,this.id="",this.objectNumber=-1};No.prototype.restore=function(){ie=this.page,G=this.currentPage,we=this.pagesContext,fe=this.pages,Qe=this.x,St=this.y,oe=this.matrix,bu(G,this.width),vi(G,this.height),de=this.outputDestination};var Ii=function(F,se,Pe,ze,Ze){ft.push(new No),ie=G=0,fe=[],Qe=F,St=se,oe=Ze,es([Pe,ze])};for(var Ns in p.beginFormObject=function(F,se,Pe,ze,Ze){return Ii(F,se,Pe,ze,Ze),this},p.endFormObject=function(F){return function(se){if(lt[se])ft.pop().restore();else{var Pe=new No,ze="Xo"+(Object.keys(Ye).length+1).toString(10);Pe.id=ze,lt[se]=ze,Ye[ze]=Pe,De.publish("addFormObject",Pe),ft.pop().restore()}}(F),this},p.doFormObject=function(F,se){var Pe=Ye[lt[F]];return ne("q"),ne(se.toString()+" cm"),ne("/"+Pe.id+" Do"),ne("Q"),this},p.getFormObject=function(F){var se=Ye[lt[F]];return{x:se.x,y:se.y,width:se.width,height:se.height,matrix:se.matrix}},p.save=function(F,se){return F=F||"generated.pdf",(se=se||{}).returnPromise=se.returnPromise||!1,se.returnPromise===!1?(rh(Ti(In()),F),typeof rh.unload=="function"&&Cr.setTimeout&&setTimeout(rh.unload,911),this):new Promise(function(Pe,ze){try{var Ze=rh(Ti(In()),F);typeof rh.unload=="function"&&Cr.setTimeout&&setTimeout(rh.unload,911),Pe(Ze)}catch(gt){ze(gt.message)}})},dr.API)dr.API.hasOwnProperty(Ns)&&(Ns==="events"&&dr.API.events.length?function(F,se){var Pe,ze,Ze;for(Ze=se.length-1;Ze!==-1;Ze--)Pe=se[Ze][0],ze=se[Ze][1],F.subscribe.apply(F,[Pe].concat(typeof ze=="function"?[ze]:ze))}(De,dr.API.events):p[Ns]=dr.API[Ns]);function Qo(F){return we[F].mediaBox.topRightX-we[F].mediaBox.bottomLeftX}function bu(F,se){we[F].mediaBox.topRightX=se+we[F].mediaBox.bottomLeftX}function xi(F){return we[F].mediaBox.topRightY-we[F].mediaBox.bottomLeftY}function vi(F,se){we[F].mediaBox.topRightY=se+we[F].mediaBox.bottomLeftY}var pc=p.getPageWidth=function(F){return Qo(F=F||G)/Ge},pn=p.setPageWidth=function(F,se){bu(F,se*Ge)},Mi=p.getPageHeight=function(F){return xi(F=F||G)/Ge},gc=p.setPageHeight=function(F,se){vi(F,se*Ge)};return p.internal={pdfEscape:Wn,getStyle:Bs,getFont:ts,getFontSize:me,getCharSpace:jo,getTextColor:Li,getLineHeight:ws,getLineHeightFactor:yu,getLineWidth:gr,write:Se,getHorizontalCoordinate:pi,getVerticalCoordinate:gi,getCoordinateString:mc,getVerticalCoordinateString:Jo,collections:{},newObject:ut,newAdditionalObject:Ht,newObjectDeferred:Dt,newObjectDeferredBegin:Mt,getFilters:er,putStream:Tr,events:De,scaleFactor:Ge,pageSize:{getWidth:function(){return pc(G)},setWidth:function(F){pn(G,F)},getHeight:function(){return Mi(G)},setHeight:function(F){gc(G,F)}},encryptionOptions:h,encryption:Ur,getEncryptor:function(F){return h!==null?Ur.encryptor(F,0):function(se){return se}},output:Oa,getNumberOfPages:Ya,pages:fe,out:ne,f2:A,f3:R,getPageInfo:Zr,getPageInfoByObjId:fc,getCurrentPageInfo:Dl,getPDFVersion:y,Point:ns,Rectangle:Zo,Matrix:et,hasHotfix:Yo},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return pc(G)},set:function(F){pn(G,F)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Mi(G)},set:function(F){gc(G,F)},enumerable:!0,configurable:!0}),(function(F){for(var se=0,Pe=qe.length;se<Pe;se++){var ze=ha.call(this,F[se][0],F[se][1],F[se][2],qe[se][3],!0);m===!1&&(x[ze]=!0);var Ze=F[se][0].split("-");_a({id:ze,fontName:Ze[0],fontStyle:Ze[1]||""})}De.publish("addFonts",{fonts:ht,dictionary:wt})}).call(p,qe),Be="F1",jd(i,r),De.publish("initialized"),p}kf.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},kf.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},kf.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},kf.prototype.processOwnerPassword=function(e,t){return yj(vj(t).substr(0,5),e)},kf.prototype.encryptor=function(e,t){var r=vj(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return yj(r,n)}},Hv.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||cn(e)!==cn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},dr.API={events:[]},dr.version="3.0.3";var ca=dr.API,Q3=1,Fh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bf=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ar=function(e){return e.toFixed(2)},Yu=function(e){return e.toFixed(5)};ca.__acroform__={};var Fs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},mD=function(e){return e*Q3},Xl=function(e){var t=new Y7,r=nr.internal.getHeight(e)||0,n=nr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Ar(n)),Number(Ar(r))],t},Vpe=ca.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},Wpe=ca.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Kpe=ca.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ya=ca.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Kpe(e,t-1)},ba=ca.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Vpe(e,t-1)},wa=ca.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Wpe(e,t-1)},Gpe=ca.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=r(i+o)||0,c.upperRight_Y=n(s)||0,[Number(Ar(c.lowerLeft_X)),Number(Ar(c.lowerLeft_Y)),Number(Ar(c.upperRight_X)),Number(Ar(c.upperRight_Y))]},Ype=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=bj(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Ar(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Xl(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},bj=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(A){return A.split(`
`)}):i.map(function(A){return[A]});var s=r,o=nr.internal.getHeight(e)||0;o=o<0?-o:o;var l=nr.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(A,R,L){if(A+1<i.length){var q=R+" "+i[A+1][0];return ox(q,e,L).width<=l-4}return!1};s++;e:for(;s>0;){t="",s--;var u,h,m=ox("3",e,s).height,x=e.multiline?o-s:(o-m)/2,p=x+=2,v=0,y=0,g=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+ox(t,e,s=12).width+", FieldWidth:"+l+`
`;break}for(var j="",k=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var E=!1;if(i[w].length!==1&&g!==i[w].length-1){if((m+2)*(k+2)+2>o)continue e;j+=i[w][g],E=!0,y=w,w--}else{j=(j+=i[w][g]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var O=parseInt(w),z=c(O,j,s),Y=w>=i.length-1;if(z&&!Y){j+=" ",g=0;continue}if(z||Y){if(Y)y=O;else if(e.multiline&&(m+2)*(k+2)+2>o)continue e}else{if(!e.multiline||(m+2)*(k+2)+2>o)continue e;y=O}}for(var B="",$=v;$<=y;$++){var T=i[$];if(e.multiline){if($===y){B+=T[g]+" ",g=(g+1)%T.length;continue}if($===v){B+=T[T.length-1]+" ";continue}}B+=T[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,h=ox(B,e,s).width,e.textAlign){case"right":u=l-h-2;break;case"center":u=(l-h)/2;break;default:u=2}t+=Ar(u)+" "+Ar(p)+` Td
`,t+="("+Fh(B)+`) Tj
`,t+=-Ar(u)+` 0 Td
`,p=-(s+2),h=0,v=E?y:y+1,k++,j=""}break}return n.text=t,n.fontSize=s,n},ox=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},Xpe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Jpe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Zpe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Pl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Xpe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Q3=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new X7,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&Jpe(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=Gpe(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=nr.createDefaultAppearanceStream(l),cn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=Ype(l);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var m="";for(var x in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(x)){var p=l.appearanceStreamContent[x];if(m+="/"+x+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var v=p[o];typeof v=="function"&&(v=v.call(i,l)),m+="/"+o+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(i,l)),m+="/"+o+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}s&&function(y,g){for(var j in y)if(y.hasOwnProperty(j)){var k=j,w=y[j];g.internal.newObjectDeferredBegin(w.objId,!0),cn(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete y[k]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},G7=ca.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),cn(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+Fh(n(e[s].toString()))+")"):i+=e[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},N2=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Fh(n(e))+")"},ec=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ec.prototype.toString=function(){return this.objId+" 0 R"},ec.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ec.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:G7(i,this.objId,this.scope)}):i instanceof ec?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var Y7=function(){ec.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Fs(Y7,ec);var X7=function(){ec.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Fh(r(e))+")"}},set:function(r){e=r}})};Fs(X7,ec);var Pl=function e(){ec.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');t=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ya(t,3)},set:function(j){j?this.F=ba(t,3):this.F=wa(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');r=j}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(j){n=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(j){n[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(j){n[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(j){n[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(j){n[3]=j}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Vv)return;s="FieldObject"+e.FieldNum++}var j=function(k){return k};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+Fh(j(s))+")"},set:function(j){s=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(j){s=j}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(j){o=j}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(j){l=j}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(j){c=j}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Q3:u},set:function(j){u=j}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(j){h=j}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Vv||this instanceof vh))return N2(m,this.objId,this.scope)},set:function(j){j=j.toString(),m=j}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof ai==0?N2(x,this.objId,this.scope):x},set:function(j){j=j.toString(),x=this instanceof ai==0?j.substr(0,1)==="("?bf(j.substr(1,j.length-2)):bf(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ai==1?bf(x.substr(1,x.length-1)):x},set:function(j){j=j.toString(),x=this instanceof ai==1?"/"+j:j}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ai==0?N2(p,this.objId,this.scope):p},set:function(j){j=j.toString(),p=this instanceof ai==0?j.substr(0,1)==="("?bf(j.substr(1,j.length-2)):bf(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ai==1?bf(p.substr(1,p.length-1)):p},set:function(j){j=j.toString(),p=this instanceof ai==1?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(j){j=!!j,y=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(j){v=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,1)},set:function(j){j?this.Ff=ba(this.Ff,1):this.Ff=wa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,2)},set:function(j){j?this.Ff=ba(this.Ff,2):this.Ff=wa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,3)},set:function(j){j?this.Ff=ba(this.Ff,3):this.Ff=wa(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');g=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(g){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};Fs(Pl,ec);var Wf=function(){Pl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return G7(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,o,l){l||(l=1);for(var c,u=[];c=o.exec(s);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,18)},set:function(r){r?this.Ff=ba(this.Ff,18):this.Ff=wa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ba(this.Ff,19):this.Ff=wa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,20)},set:function(r){r?(this.Ff=ba(this.Ff,20),t.sort()):this.Ff=wa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,22)},set:function(r){r?this.Ff=ba(this.Ff,22):this.Ff=wa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,23)},set:function(r){r?this.Ff=ba(this.Ff,23):this.Ff=wa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,27)},set:function(r){r?this.Ff=ba(this.Ff,27):this.Ff=wa(this.Ff,27)}}),this.hasAppearanceStream=!1};Fs(Wf,Pl);var Kf=function(){Wf.call(this),this.fontName="helvetica",this.combo=!1};Fs(Kf,Wf);var Gf=function(){Kf.call(this),this.combo=!0};Fs(Gf,Kf);var Sx=function(){Gf.call(this),this.edit=!0};Fs(Sx,Gf);var ai=function(){Pl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,15)},set:function(r){r?this.Ff=ba(this.Ff,15):this.Ff=wa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,16)},set:function(r){r?this.Ff=ba(this.Ff,16):this.Ff=wa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,17)},set:function(r){r?this.Ff=ba(this.Ff,17):this.Ff=wa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,26)},set:function(r){r?this.Ff=ba(this.Ff,26):this.Ff=wa(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Fh(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){cn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Fs(ai,Pl);var kx=function(){ai.call(this),this.pushButton=!0};Fs(kx,ai);var Yf=function(){ai.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Fs(Yf,ai);var Vv=function(){var e,t;Pl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+Fh(i(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){cn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=nr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Fs(Vv,Pl),Yf.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Yf.prototype.createOption=function(e){var t=new Vv;return t.Parent=this,t.optionName=e,this.Kids.push(t),Qpe.call(this.scope,t),t};var Cx=function(){ai.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=nr.CheckBox.createAppearanceStream()};Fs(Cx,ai);var vh=function(){Pl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,13)},set:function(t){t?this.Ff=ba(this.Ff,13):this.Ff=wa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,21)},set:function(t){t?this.Ff=ba(this.Ff,21):this.Ff=wa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,23)},set:function(t){t?this.Ff=ba(this.Ff,23):this.Ff=wa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,24)},set:function(t){t?this.Ff=ba(this.Ff,24):this.Ff=wa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,25)},set:function(t){t?this.Ff=ba(this.Ff,25):this.Ff=wa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,26)},set:function(t){t?this.Ff=ba(this.Ff,26):this.Ff=wa(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Fs(vh,Pl);var Px=function(){vh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,14)},set:function(e){e?this.Ff=ba(this.Ff,14):this.Ff=wa(this.Ff,14)}}),this.password=!0};Fs(Px,vh);var nr={CheckBox:{createAppearanceStream:function(){return{N:{On:nr.CheckBox.YesNormal},D:{On:nr.CheckBox.YesPushDown,Off:nr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Xl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=bj(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Ar(nr.internal.getWidth(e))+" "+Ar(nr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ar(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Xl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],s=nr.internal.getHeight(e),o=nr.internal.getWidth(e),l=bj(e,e.caption);return i.push("1 g"),i.push("0 0 "+Ar(o)+" "+Ar(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ar(o-1)+" "+Ar(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Ar(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Xl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ar(nr.internal.getWidth(e))+" "+Ar(nr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:nr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=nr.RadioButton.Circle.YesNormal,t.D[e]=nr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Xl(e);t.scope=e.scope;var r=[],n=nr.internal.getWidth(e)<=nr.internal.getHeight(e)?nr.internal.getWidth(e)/4:nr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=nr.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Yu(nr.internal.getWidth(e)/2)+" "+Yu(nr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Xl(e);t.scope=e.scope;var r=[],n=nr.internal.getWidth(e)<=nr.internal.getHeight(e)?nr.internal.getWidth(e)/4:nr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*nr.internal.Bezier_C).toFixed(5)),o=Number((n*nr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Yu(nr.internal.getWidth(e)/2)+" "+Yu(nr.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Yu(nr.internal.getWidth(e)/2)+" "+Yu(nr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Xl(e);t.scope=e.scope;var r=[],n=nr.internal.getWidth(e)<=nr.internal.getHeight(e)?nr.internal.getWidth(e)/4:nr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*nr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Yu(nr.internal.getWidth(e)/2)+" "+Yu(nr.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:nr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=nr.RadioButton.Cross.YesNormal,t.D[e]=nr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Xl(e);t.scope=e.scope;var r=[],n=nr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Ar(nr.internal.getWidth(e)-2)+" "+Ar(nr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Ar(n.x1.x)+" "+Ar(n.x1.y)+" m"),r.push(Ar(n.x2.x)+" "+Ar(n.x2.y)+" l"),r.push(Ar(n.x4.x)+" "+Ar(n.x4.y)+" m"),r.push(Ar(n.x3.x)+" "+Ar(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Xl(e);t.scope=e.scope;var r=nr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ar(nr.internal.getWidth(e))+" "+Ar(nr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ar(nr.internal.getWidth(e)-2)+" "+Ar(nr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Ar(r.x1.x)+" "+Ar(r.x1.y)+" m"),n.push(Ar(r.x2.x)+" "+Ar(r.x2.y)+" l"),n.push(Ar(r.x4.x)+" "+Ar(r.x4.y)+" m"),n.push(Ar(r.x3.x)+" "+Ar(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Xl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ar(nr.internal.getWidth(e))+" "+Ar(nr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};nr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=nr.internal.getWidth(e),r=nr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},nr.internal.getWidth=function(e){var t=0;return cn(e)==="object"&&(t=mD(e.Rect[2])),t},nr.internal.getHeight=function(e){var t=0;return cn(e)==="object"&&(t=mD(e.Rect[3])),t};var Qpe=ca.addField=function(e){if(Zpe(this,e),!(e instanceof Pl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ca.AcroFormChoiceField=Wf,ca.AcroFormListBox=Kf,ca.AcroFormComboBox=Gf,ca.AcroFormEditBox=Sx,ca.AcroFormButton=ai,ca.AcroFormPushButton=kx,ca.AcroFormRadioButton=Yf,ca.AcroFormCheckBox=Cx,ca.AcroFormTextField=vh,ca.AcroFormPasswordField=Px,ca.AcroFormAppearance=nr,ca.AcroForm={ChoiceField:Wf,ListBox:Kf,ComboBox:Gf,EditBox:Sx,Button:ai,PushButton:kx,RadioButton:Yf,CheckBox:Cx,TextField:vh,PasswordField:Px,Appearance:nr},dr.AcroForm={ChoiceField:Wf,ListBox:Kf,ComboBox:Gf,EditBox:Sx,Button:ai,PushButton:kx,RadioButton:Yf,CheckBox:Cx,TextField:vh,PasswordField:Px,Appearance:nr};dr.AcroForm;function J7(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(A,R){var L,q,W,ee,M,V=r;if((R=R||r)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(z(A))for(M in n)for(W=n[M],L=0;L<W.length;L+=1){for(ee=!0,q=0;q<W[L].length;q+=1)if(W[L][q]!==void 0&&W[L][q]!==A[q]){ee=!1;break}if(ee===!0){V=M;break}}else for(M in n)for(W=n[M],L=0;L<W.length;L+=1){for(ee=!0,q=0;q<W[L].length;q+=1)if(W[L][q]!==void 0&&W[L][q]!==A.charCodeAt(q)){ee=!1;break}if(ee===!0){V=M;break}}return V===r&&R!==r&&(V=R),V},s=function A(R){for(var L=this.internal.write,q=this.internal.putStream,W=(0,this.internal.getFilters)();W.indexOf("FlateEncode")!==-1;)W.splice(W.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:R.width}),ee.push({key:"Height",value:R.height}),R.colorSpace===j.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===j.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)&&R.transparency.length>0){for(var M="",V=0,U=R.transparency.length;V<U;V++)M+=R.transparency[V]+" "+R.transparency[V]+" ";ee.push({key:"Mask",value:"["+M+"]"})}R.sMask!==void 0&&ee.push({key:"SMask",value:R.objectId+1+" 0 R"});var I=R.filter!==void 0?["/"+R.filter]:void 0;if(q({data:R.data,additionalKeyValues:ee,alreadyAppliedFilters:I,objectId:R.objectId}),L("endobj"),"sMask"in R&&R.sMask!==void 0){var H,D=(H=R.sMaskBitsPerComponent)!==null&&H!==void 0?H:R.bitsPerComponent,G={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:R.sMask};"filter"in R&&(G.decodeParameters="/Predictor ".concat(R.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(R.width),G.filter=R.filter),A.call(this,G)}if(R.colorSpace===j.INDEXED){var Z=this.internal.newObject();q({data:B(new Uint8Array(R.palette)),objectId:Z}),L("endobj")}},o=function(){var A=this.internal.collections[t+"images"];for(var R in A)s.call(this,A[R])},l=function(){var A,R=this.internal.collections[t+"images"],L=this.internal.write;for(var q in R)L("/I"+(A=R[q]).index,A.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var A=this.internal.collections[t+"images"];return c.call(this),A},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},m=function(A){return typeof e["process"+A.toUpperCase()]=="function"},x=function(A){return cn(A)==="object"&&A.nodeType===1},p=function(A,R){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var L=""+A.getAttribute("src");if(L.indexOf("data:image/")===0)return _x(unescape(L).split("base64,").pop());var q=e.loadFile(L,!0);if(q!==void 0)return q}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var W;switch(R){case"PNG":W="image/png";break;case"WEBP":W="image/webp";break;default:W="image/jpeg"}return _x(A.toDataURL(W,1).split("base64,").pop())}},v=function(A){var R=this.internal.collections[t+"images"];if(R){for(var L in R)if(A===R[L].alias)return R[L]}},y=function(A,R,L){return A||R||(A=-96,R=-96),A<0&&(A=-1*L.width*72/A/this.internal.scaleFactor),R<0&&(R=-1*L.height*72/R/this.internal.scaleFactor),A===0&&(A=R*L.width/L.height),R===0&&(R=A*L.height/L.width),[A,R]},g=function(A,R,L,q,W,ee){var M=y.call(this,L,q,W),V=this.internal.getCoordinateString,U=this.internal.getVerticalCoordinateString,I=u.call(this);if(L=M[0],q=M[1],I[W.index]=W,ee){ee*=Math.PI/180;var H=Math.cos(ee),D=Math.sin(ee),G=function(P){return P.toFixed(4)},Z=[G(H),G(D),G(-1*D),G(H),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,V(A),U(R+q),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([V(L),"0","0",V(q),"0","0","cm"].join(" "))):this.internal.write([V(L),"0","0",V(q),V(A),U(R+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+W.index+" Do"),this.internal.write("Q")},j=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var k=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(A){var R,L,q=0;if(typeof A=="string")for(L=A.length,R=0;R<L;R++)q=(q<<5)-q+A.charCodeAt(R),q|=0;else if(z(A))for(L=A.byteLength/2,R=0;R<L;R++)q=(q<<5)-q+A[R],q|=0;return q},E=e.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var R=!0;return A.length===0&&(R=!1),A.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(R=!1),R},O=e.__addimage__.extractImageFromDataUrl=function(A){if(A==null||!(A=A.trim()).startsWith("data:"))return null;var R=A.indexOf(",");return R<0?null:A.substring(0,R).trim().endsWith("base64")?A.substring(R+1):null};e.__addimage__.isArrayBuffer=function(A){return A instanceof ArrayBuffer};var z=e.__addimage__.isArrayBufferView=function(A){return A instanceof Int8Array||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array},Y=e.__addimage__.binaryStringToUint8Array=function(A){for(var R=A.length,L=new Uint8Array(R),q=0;q<R;q++)L[q]=A.charCodeAt(q);return L},B=e.__addimage__.arrayBufferToBinaryString=function(A){for(var R="",L=z(A)?A:new Uint8Array(A),q=0;q<L.length;q+=8192)R+=String.fromCharCode.apply(null,L.subarray(q,q+8192));return R};e.addImage=function(){var A,R,L,q,W,ee,M,V,U;if(typeof arguments[1]=="number"?(R=r,L=arguments[1],q=arguments[2],W=arguments[3],ee=arguments[4],M=arguments[5],V=arguments[6],U=arguments[7]):(R=arguments[1],L=arguments[2],q=arguments[3],W=arguments[4],ee=arguments[5],M=arguments[6],V=arguments[7],U=arguments[8]),cn(A=arguments[0])==="object"&&!x(A)&&"imageData"in A){var I=A;A=I.imageData,R=I.format||R||r,L=I.x||L||0,q=I.y||q||0,W=I.w||I.width||W,ee=I.h||I.height||ee,M=I.alias||M,V=I.compression||V,U=I.rotation||I.angle||U}var H=this.internal.getFilters();if(V===void 0&&H.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(L)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var D=$.call(this,A,R,M,V);return g.call(this,L,q,W,ee,D,U),this};var $=function(A,R,L,q){var W,ee,M;if(typeof A=="string"&&i(A)===r){A=unescape(A);var V=T(A,!1);(V!==""||(V=e.loadFile(A,!0))!==void 0)&&(A=V)}if(x(A)&&(A=p(A,R)),R=i(A,R),!m(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((M=L)==null||M.length===0)&&(L=function(U){return typeof U=="string"||z(U)?w(U):z(U.data)?w(U.data):null}(A)),(W=v.call(this,L))||(A instanceof Uint8Array||R==="RGBA"||(ee=A,A=Y(A)),W=this["process"+R.toUpperCase()](A,h.call(this),L,function(U){return U&&typeof U=="string"&&(U=U.toUpperCase()),U in e.image_compression?U:k.NONE}(q),ee)),!W)throw new Error("An unknown error occurred whilst processing the image.");return W},T=e.__addimage__.convertBase64ToBinaryString=function(A,R){R=typeof R!="boolean"||R;var L,q="";if(typeof A=="string"){var W;L=(W=O(A))!==null&&W!==void 0?W:A;try{q=_x(L)}catch(ee){if(R)throw E(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};e.getImageProperties=function(A){var R,L,q="";if(x(A)&&(A=p(A)),typeof A=="string"&&i(A)===r&&((q=T(A,!1))===""&&(q=e.loadFile(A)||""),A=q),L=i(A),!m(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(A instanceof Uint8Array||(A=Y(A)),!(R=this["process"+L.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=L,R}})(dr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};dr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,h=!1,m=0;m<u.length&&!h;m++)switch((n=u[m]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var x=0;x<u.length;x++){n=u[x];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(y.objId),k=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(j(n.contents))+")",s+=" /Popup "+g.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+p(j(k))+") >>",y.content=s;var w=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(s+=" /Open true"),s+=" >>",g.content=s,this.internal.write(y.objId,"0 R",g.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var E=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(v(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var O=this.annotations._nameMap[n.options.name];n.options.pageNumber=O.page,n.options.top=O.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var z=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+z+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,s,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+i),h:u(n+s)},options:o,type:"link"})},e.textWithLink=function(r,n,i,s){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var h=this.splitTextToSize(r,l).length;o=Math.ceil(u*h)}else l=c,o=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,i-u,l,o,s),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(dr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},l=e.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&s(y)&&t[y.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&i.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&s(y)&&t[y.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&s(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&s(y)&&t[y.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&s(y)&&t[y.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(y){var g=0,j=r,k="",w=0;for(g=0;g<y.length;g+=1)j[y.charCodeAt(g)]!==void 0?(w++,typeof(j=j[y.charCodeAt(g)])=="number"&&(k+=String.fromCharCode(j),j=r,w=0),g===y.length-1&&(j=r,k+=y.charAt(g-(w-1)),g-=w-1,w=0)):(j=r,k+=y.charAt(g-w),g-=w,w=0);return k};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var x=e.__arabicParser__.getCorrectForm=function(y,g,j){return o(y)?s(y)===!1?-1:!u(y)||!o(g)&&!o(j)||!o(j)&&l(g)||l(y)&&!o(g)||l(y)&&c(g)||l(y)&&l(g)?0:h(y)&&o(g)&&!l(g)&&o(j)&&u(j)?3:l(y)||!o(j)?1:2:-1},p=function(y){var g=0,j=0,k=0,w="",E="",O="",z=(y=y||"").split("\\s+"),Y=[];for(g=0;g<z.length;g+=1){for(Y.push(""),j=0;j<z[g].length;j+=1)w=z[g][j],E=z[g][j-1],O=z[g][j+1],o(w)?(k=x(w,E,O),Y[g]+=k!==-1?String.fromCharCode(t[w.charCodeAt(0)][k]):w):Y[g]+=w;Y[g]=m(Y[g])}return Y.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var y,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(g)){var k=0;for(j=[],k=0;k<g.length;k+=1)Array.isArray(g[k])?j.push([p(g[k][0]),g[k][1],g[k][2]]):j.push([p(g[k])]);y=j}else y=p(g);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",v])}(dr.API),dr.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(dr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(y){x=y}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(y){v=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),x=u.scaleFactor||this.internal.scaleFactor,p=0,v=0,y=0,g=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var j=u.maxWidth;j>0?typeof c=="string"?c=this.splitTextToSize(c,j):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,E){return w.concat(g.splitTextToSize(E,j))},[])):c=Array.isArray(c)?c:[c];for(var k=0;k<c.length;k++)p<(y=this.getStringUnitWidth(c[k],{font:m})*h)&&(p=y);return p!==0&&(v=c.length),{w:p/=x,h:Math.max((v*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/x,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,x=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,p&&x&&(this.printHeaderRow(c.lineNumber,!0),c.y+=x[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,h,m,x){if(n.call(this),!h)throw new Error("No data for PDF table.");var p,v,y,g,j=[],k=[],w=[],E={},O={},z=[],Y=[],B=(x=x||{}).autoSize||!1,$=x.printHeaders!==!1,T=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,A=x.margins||Object.assign({width:this.getPageWidth()},t),R=typeof x.padding=="number"?x.padding:3,L=x.headerBackgroundColor||"#c8c8c8",q=x.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=$,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=T,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=q,this.setFontSize(T),m==null)k=j=Object.keys(h[0]),w=j.map(function(){return"left"});else if(Array.isArray(m)&&cn(m[0])==="object")for(j=m.map(function(I){return I.name}),k=m.map(function(I){return I.prompt||I.name||""}),w=m.map(function(I){return I.align||"left"}),p=0;p<m.length;p+=1)O[m[p].name]=.7499990551181103*m[p].width;else Array.isArray(m)&&typeof m[0]=="string"&&(k=j=m,w=j.map(function(){return"left"}));if(B||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<j.length;p+=1){for(E[g=j[p]]=h.map(function(I){return I[g]}),this.setFont(void 0,"bold"),z.push(this.getTextDimensions(k[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=E[g],this.setFont(void 0,"normal"),y=0;y<v.length;y+=1)z.push(this.getTextDimensions(v[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[g]=Math.max.apply(null,z)+R+R,z=[]}if($){var W={};for(p=0;p<j.length;p+=1)W[j[p]]={},W[j[p]].text=k[p],W[j[p]].align=w[p];var ee=l.call(this,W,O);Y=j.map(function(I){return new s(c,u,O[I],ee,W[I].text,void 0,W[I].align)}),this.setTableHeaderRow(Y),this.printHeaderRow(1,!1)}var M=m.reduce(function(I,H){return I[H.name]=H.align,I},{});for(p=0;p<h.length;p+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:p,data:h[p]},this);var V=l.call(this,h[p],O);for(y=0;y<j.length;y+=1){var U=h[p][j[y]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:p,col:y,data:U},this),o.call(this,new s(c,u,O[j[y]],V,U,p+2,M[j[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(c).map(function(p){var v=c[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[p]-h-h)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/x+h+h},this).reduce(function(p,v){return Math.max(p,v)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){h=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,x.push(h)),h.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(v)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),r=!1}}(dr.API);var Z7={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Q7=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],wj=J7(Q7),e9=[100,200,300,400,500,600,700,800,900],e0e=J7(e9);function _2(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return Z7[s=s||"normal"]?s:"normal"}(e.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(e.weight),i=function(s){return typeof wj[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function pD(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var t0e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},gD={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function xD(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function vD(e){return e.trimLeft()}function r0e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function n0e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var lx,yD,bD,wf,cx,wD,jD,ND,S2=["times"];function _D(e,t,r,n,i){var s=4,o=kD;switch(i){case dr.API.image_compression.FAST:s=1,o=SD;break;case dr.API.image_compression.MEDIUM:s=6,o=CD;break;case dr.API.image_compression.SLOW:s=9,o=PD}e=function(c,u,h,m){for(var x,p=c.length/u,v=new Uint8Array(c.length+p),y=[a0e,SD,kD,CD,PD],g=0;g<p;g+=1){var j=g*u,k=c.subarray(j,j+u);if(m)v.set(m(k,h,x),j+g);else{for(var w=y.length,E=[],O=0;O<w;O+=1)E[O]=y[O](k,h,x);var z=s0e(E.concat());v.set(E[z],j+g)}x=k}return v}(e,t,Math.ceil(r*n/8),o);var l=mj(e,{level:s});return dr.API.__addimage__.arrayBufferToBinaryString(l)}function a0e(e){var t=Array.apply([],e);return t.unshift(0),t}function SD(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=e[i-t]||0;n[i+1]=e[i]-s+256&255}return n}function kD(e,t,r){var n=e.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var o=r&&r[s]||0;i[s+1]=e[s]-o+256&255}return i}function CD(e,t,r){var n=e.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var o=e[s-t]||0,l=r&&r[s]||0;i[s+1]=e[s]+256-(o+l>>>1)&255}return i}function PD(e,t,r){var n=e.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var o=i0e(e[s-t]||0,r&&r[s]||0,r&&r[s-t]||0);i[s+1]=e[s]-o+256&255}return i}function i0e(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),s=Math.abs(e+t-r-r);return n<=i&&n<=s?e:i<=s?t:r}function s0e(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function k2(e,t,r){var n=t*r,i=Math.floor(n/8),s=16-(n-8*i+r),o=(1<<r)-1;return t9(e,i)>>s&o}function ED(e,t,r,n){var i=r*n,s=Math.floor(i/8),o=16-(i-8*s+n),l=(1<<n)-1,c=(t&l)<<o;(function(u,h,m){if(h+1<u.byteLength)u.setUint16(h,m,!1);else{var x=m>>8&255;u.setUint8(h,x)}})(e,s,t9(e,s)&~(l<<o)&65535|c)}function t9(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function o0e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<1+(7&i);e[t++],e[t++];var l=null,c=null;s&&(l=t,c=o,t+=3*o);var u=!0,h=[],m=0,x=null,p=0,v=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];m=e[t++]|e[t++]<<8,x=e[t++],1&y||(x=null),p=y>>2&7,t++;break;case 254:for(;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,E=e[t++],O=E>>6&1,z=1<<1+(7&E),Y=l,B=c,$=!1;E>>7&&($=!0,Y=t,B=z,t+=3*z);var T=t;for(t++;;){var A;if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}h.push({x:g,y:j,width:k,height:w,has_local_palette:$,palette_offset:Y,palette_size:B,data_offset:T,data_length:t-T,transparent_index:x,interlaced:!!O,delay:m,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return v},this.frameInfo=function(R){if(R<0||R>=h.length)throw new Error("Frame index out of range.");return h[R]},this.decodeAndBlitFrameBGRA=function(R,L){var q=this.frameInfo(R),W=q.width*q.height,ee=new Uint8Array(W);DD(e,q.data_offset,ee,W);var M=q.palette_offset,V=q.transparent_index;V===null&&(V=256);var U=q.width,I=r-U,H=U,D=4*(q.y*r+q.x),G=4*((q.y+q.height)*r+q.x),Z=D,P=4*I;q.interlaced===!0&&(P+=4*r*7);for(var re=8,ce=0,be=ee.length;ce<be;++ce){var ae=ee[ce];if(H===0&&(H=U,(Z+=P)>=G&&(P=4*I+4*r*(re-1),Z=D+(U+I)*(re<<1),re>>=1)),ae===V)Z+=4;else{var ue=e[M+3*ae],fe=e[M+3*ae+1],pe=e[M+3*ae+2];L[Z++]=pe,L[Z++]=fe,L[Z++]=ue,L[Z++]=255}--H}},this.decodeAndBlitFrameRGBA=function(R,L){var q=this.frameInfo(R),W=q.width*q.height,ee=new Uint8Array(W);DD(e,q.data_offset,ee,W);var M=q.palette_offset,V=q.transparent_index;V===null&&(V=256);var U=q.width,I=r-U,H=U,D=4*(q.y*r+q.x),G=4*((q.y+q.height)*r+q.x),Z=D,P=4*I;q.interlaced===!0&&(P+=4*r*7);for(var re=8,ce=0,be=ee.length;ce<be;++ce){var ae=ee[ce];if(H===0&&(H=U,(Z+=P)>=G&&(P=4*I+4*r*(re-1),Z=D+(U+I)*(re<<1),re>>=1)),ae===V)Z+=4;else{var ue=e[M+3*ae],fe=e[M+3*ae+1],pe=e[M+3*ae+2];L[Z++]=ue,L[Z++]=fe,L[Z++]=pe,L[Z++]=255}--H}}}function DD(e,t,r,n){for(var i=e[t++],s=1<<i,o=s+1,l=o+1,c=i+1,u=(1<<c)-1,h=0,m=0,x=0,p=e[t++],v=new Int32Array(4096),y=null;;){for(;h<16&&p!==0;)m|=e[t++]<<h,h+=8,p===1?p=e[t++]:--p;if(h<c)break;var g=m&u;if(m>>=c,h-=c,g!==s){if(g===o)break;for(var j=g<l?g:y,k=0,w=j;w>s;)w=v[w]>>8,++k;var E=w;if(x+k+(j!==g?1:0)>n)return void xn.log("Warning, gif stream longer than expected.");r[x++]=E;var O=x+=k;for(j!==g&&(r[x++]=E),w=j;k--;)w=v[w],r[--O]=255&w,w>>=8;y!==null&&l<4096&&(v[l++]=y<<8|E,l>=u+1&&c<12&&(++c,u=u<<1|1)),y=g}else l=o+1,u=(1<<(c=i+1))-1,y=null}return x!==n&&xn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function C2(e){var t,r,n,i,s,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(64),m=new Array(65535),x=new Array(65535),p=new Array(64),v=new Array(64),y=[],g=0,j=7,k=new Array(64),w=new Array(64),E=new Array(64),O=new Array(256),z=new Array(2048),Y=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],W=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(D,G){for(var Z=0,P=0,re=new Array,ce=1;ce<=16;ce++){for(var be=1;be<=D[ce];be++)re[G[P]]=[],re[G[P]][0]=Z,re[G[P]][1]=ce,P++,Z++;Z*=2}return re}function M(D){for(var G=D[0],Z=D[1]-1;Z>=0;)G&1<<Z&&(g|=1<<j),Z--,--j<0&&(g==255?(V(255),V(0)):V(g),j=7,g=0)}function V(D){y.push(D)}function U(D){V(D>>8&255),V(255&D)}function I(D,G,Z,P,re){for(var ce,be=re[0],ae=re[240],ue=function(ve,Ae){var me,Ce,Me,He,at,pt,ge,Le,Be,Ge,Qe=0;for(Be=0;Be<8;++Be){me=ve[Qe],Ce=ve[Qe+1],Me=ve[Qe+2],He=ve[Qe+3],at=ve[Qe+4],pt=ve[Qe+5],ge=ve[Qe+6];var St=me+(Le=ve[Qe+7]),oe=me-Le,ht=Ce+ge,wt=Ce-ge,rt=Me+pt,Ne=Me-pt,Ue=He+at,Re=He-at,Ve=St+Ue,it=St-Ue,ie=ht+rt,we=ht-rt;ve[Qe]=Ve+ie,ve[Qe+4]=Ve-ie;var De=.707106781*(we+it);ve[Qe+2]=it+De,ve[Qe+6]=it-De;var $e=.382683433*((Ve=Re+Ne)-(we=wt+oe)),Ye=.5411961*Ve+$e,lt=1.306562965*we+$e,ft=.707106781*(ie=Ne+wt),et=oe+ft,Pt=oe-ft;ve[Qe+5]=Pt+Ye,ve[Qe+3]=Pt-Ye,ve[Qe+1]=et+lt,ve[Qe+7]=et-lt,Qe+=8}for(Qe=0,Be=0;Be<8;++Be){me=ve[Qe],Ce=ve[Qe+8],Me=ve[Qe+16],He=ve[Qe+24],at=ve[Qe+32],pt=ve[Qe+40],ge=ve[Qe+48];var kt=me+(Le=ve[Qe+56]),jt=me-Le,Tt=Ce+ge,ut=Ce-ge,Dt=Me+pt,Mt=Me-pt,Ht=He+at,pr=He-at,ar=kt+Ht,Lt=kt-Ht,Xt=Tt+Dt,er=Tt-Dt;ve[Qe]=ar+Xt,ve[Qe+32]=ar-Xt;var Tr=.707106781*(er+Lt);ve[Qe+16]=Lt+Tr,ve[Qe+48]=Lt-Tr;var Yr=.382683433*((ar=pr+Mt)-(er=ut+jt)),mn=.5411961*ar+Yr,Ta=1.306562965*er+Yr,Di=.707106781*(Xt=Mt+ut),na=jt+Di,hc=jt-Di;ve[Qe+40]=hc+mn,ve[Qe+24]=hc-mn,ve[Qe+8]=na+Ta,ve[Qe+56]=na-Ta,Qe++}for(Be=0;Be<64;++Be)Ge=ve[Be]*Ae[Be],p[Be]=Ge>0?Ge+.5|0:Ge-.5|0;return p}(D,G),fe=0;fe<64;++fe)v[Y[fe]]=ue[fe];var pe=v[0]-Z;Z=v[0],pe==0?M(P[0]):(M(P[x[ce=32767+pe]]),M(m[ce]));for(var de=63;de>0&&v[de]==0;)de--;if(de==0)return M(be),Z;for(var le,ne=1;ne<=de;){for(var Se=ne;v[ne]==0&&ne<=de;)++ne;var Ee=ne-Se;if(Ee>=16){le=Ee>>4;for(var qe=1;qe<=le;++qe)M(ae);Ee&=15}ce=32767+v[ne],M(re[(Ee<<4)+x[ce]]),M(m[ce]),ne++}return de!=63&&M(be),Z}function H(D){D=Math.min(Math.max(D,1),100),s!=D&&(function(G){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],P=0;P<64;P++){var re=o((Z[P]*G+50)/100);re=Math.min(Math.max(re,1),255),l[Y[P]]=re}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var ae=o((ce[be]*G+50)/100);ae=Math.min(Math.max(ae,1),255),c[Y[be]]=ae}for(var ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],fe=0,pe=0;pe<8;pe++)for(var de=0;de<8;de++)u[fe]=1/(l[Y[fe]]*ue[pe]*ue[de]*8),h[fe]=1/(c[Y[fe]]*ue[pe]*ue[de]*8),fe++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),s=D)}this.encode=function(D,G){G&&H(G),y=new Array,g=0,j=7,U(65496),U(65504),U(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),U(1),U(1),V(0),V(0),function(){U(65499),U(132),V(0);for(var Ce=0;Ce<64;Ce++)V(l[Ce]);V(1);for(var Me=0;Me<64;Me++)V(c[Me])}(),function(Ce,Me){U(65472),U(17),V(8),U(Me),U(Ce),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(D.width,D.height),function(){U(65476),U(418),V(0);for(var Ce=0;Ce<16;Ce++)V(B[Ce+1]);for(var Me=0;Me<=11;Me++)V($[Me]);V(16);for(var He=0;He<16;He++)V(T[He+1]);for(var at=0;at<=161;at++)V(A[at]);V(1);for(var pt=0;pt<16;pt++)V(R[pt+1]);for(var ge=0;ge<=11;ge++)V(L[ge]);V(17);for(var Le=0;Le<16;Le++)V(q[Le+1]);for(var Be=0;Be<=161;Be++)V(W[Be])}(),U(65498),U(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var Z=0,P=0,re=0;g=0,j=7,this.encode.displayName="_encode_";for(var ce,be,ae,ue,fe,pe,de,le,ne,Se=D.data,Ee=D.width,qe=D.height,ve=4*Ee,Ae=0;Ae<qe;){for(ce=0;ce<ve;){for(fe=ve*Ae+ce,de=-1,le=0,ne=0;ne<64;ne++)pe=fe+(le=ne>>3)*ve+(de=4*(7&ne)),Ae+le>=qe&&(pe-=ve*(Ae+1+le-qe)),ce+de>=ve&&(pe-=ce+de-ve+4),be=Se[pe++],ae=Se[pe++],ue=Se[pe++],k[ne]=(z[be]+z[ae+256|0]+z[ue+512|0]>>16)-128,w[ne]=(z[be+768|0]+z[ae+1024|0]+z[ue+1280|0]>>16)-128,E[ne]=(z[be+1280|0]+z[ae+1536|0]+z[ue+1792|0]>>16)-128;Z=I(k,u,Z,t,n),P=I(w,h,P,r,i),re=I(E,h,re,r,i),ce+=32}Ae+=8}if(j>=0){var me=[];me[1]=j+1,me[0]=(1<<j+1)-1,M(me)}return U(65497),new Uint8Array(y)},e=e||50,function(){for(var D=String.fromCharCode,G=0;G<256;G++)O[G]=D(G)}(),t=ee(B,$),r=ee(R,L),n=ee(T,A),i=ee(q,W),function(){for(var D=1,G=2,Z=1;Z<=15;Z++){for(var P=D;P<G;P++)x[32767+P]=Z,m[32767+P]=[],m[32767+P][1]=Z,m[32767+P][0]=P;for(var re=-(G-1);re<=-D;re++)x[32767+re]=Z,m[32767+re]=[],m[32767+re][1]=Z,m[32767+re][0]=G-1+re;D<<=1,G<<=1}}(),function(){for(var D=0;D<256;D++)z[D]=19595*D,z[D+256|0]=38470*D,z[D+512|0]=7471*D+32768,z[D+768|0]=-11059*D,z[D+1024|0]=-21709*D,z[D+1280|0]=32768*D+8421375,z[D+1536|0]=-27439*D,z[D+1792|0]=-5329*D}(),H(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function pl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function AD(e){function t($){if(!$)throw Error("assert :P")}function r($,T,A){for(var R=0;4>R;R++)if($[T+R]!=A.charCodeAt(R))return!0;return!1}function n($,T,A,R,L){for(var q=0;q<L;q++)$[T+q]=A[R+q]}function i($,T,A,R){for(var L=0;L<R;L++)$[T+L]=A}function s($){return new Int32Array($)}function o($,T){for(var A=[],R=0;R<$;R++)A.push(new T);return A}function l($,T){var A=[];return function R(L,q,W){for(var ee=W[q],M=0;M<ee&&(L.push(W.length>q+1?[]:new T),!(W.length<q+1));M++)R(L[M],q+1,W)}(A,0,$),A}var c=function(){var $=this;function T(N,C){for(var J=1<<C-1>>>0;N&J;)J>>>=1;return J?(N&J-1)+J:N}function A(N,C,J,te,he){t(!(te%J));do N[C+(te-=J)]=he;while(0<te)}function R(N,C,J,te,he){if(t(2328>=he),512>=he)var ye=s(512);else if((ye=s(he))==null)return 0;return function(je,_e,ke,Te,We,nt){var Oe,Xe,tt=_e,bt=1<<ke,ot=s(16),mt=s(16);for(t(We!=0),t(Te!=null),t(je!=null),t(0<ke),Xe=0;Xe<We;++Xe){if(15<Te[Xe])return 0;++ot[Te[Xe]]}if(ot[0]==We)return 0;for(mt[1]=0,Oe=1;15>Oe;++Oe){if(ot[Oe]>1<<Oe)return 0;mt[Oe+1]=mt[Oe]+ot[Oe]}for(Xe=0;Xe<We;++Xe)Oe=Te[Xe],0<Te[Xe]&&(nt[mt[Oe]++]=Xe);if(mt[15]==1)return(Te=new L).g=0,Te.value=nt[0],A(je,tt,1,bt,Te),bt;var xt,_t=-1,Ct=bt-1,lr=0,Gt=1,Er=1,Qt=1<<ke;for(Xe=0,Oe=1,We=2;Oe<=ke;++Oe,We<<=1){if(Gt+=Er<<=1,0>(Er-=ot[Oe]))return 0;for(;0<ot[Oe];--ot[Oe])(Te=new L).g=Oe,Te.value=nt[Xe++],A(je,tt+lr,We,Qt,Te),lr=T(lr,Oe)}for(Oe=ke+1,We=2;15>=Oe;++Oe,We<<=1){if(Gt+=Er<<=1,0>(Er-=ot[Oe]))return 0;for(;0<ot[Oe];--ot[Oe]){if(Te=new L,(lr&Ct)!=_t){for(tt+=Qt,xt=1<<(_t=Oe)-ke;15>_t&&!(0>=(xt-=ot[_t]));)++_t,xt<<=1;bt+=Qt=1<<(xt=_t-ke),je[_e+(_t=lr&Ct)].g=xt+ke,je[_e+_t].value=tt-_e-_t}Te.g=Oe-ke,Te.value=nt[Xe++],A(je,tt+(lr>>ke),We,Qt,Te),lr=T(lr,Oe)}}return Gt!=2*mt[15]-1?0:bt}(N,C,J,te,he,ye)}function L(){this.value=this.g=0}function q(){this.value=this.g=0}function W(){this.G=o(5,L),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ss,q)}function ee(N,C,J,te){t(N!=null),t(C!=null),t(2147483648>te),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=C,N.pa=J,N.Jd=C,N.Yc=J+te,N.Zc=4<=te?J+te-4+1:J,be(N)}function M(N,C){for(var J=0;0<C--;)J|=ue(N,128)<<C;return J}function V(N,C){var J=M(N,C);return ae(N)?-J:J}function U(N,C,J,te){var he,ye=0;for(t(N!=null),t(C!=null),t(4294967288>te),N.Sb=te,N.Ra=0,N.u=0,N.h=0,4<te&&(te=4),he=0;he<te;++he)ye+=C[J+he]<<8*he;N.Ra=ye,N.bb=te,N.oa=C,N.pa=J}function I(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<zl-8>>>0,++N.bb,N.u-=8;P(N)&&(N.h=1,N.u=0)}function H(N,C){if(t(0<=C),!N.h&&C<=ss){var J=Z(N)&is[C];return N.u+=C,I(N),J}return N.h=1,N.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(N){return N.Ra>>>(N.u&zl-1)>>>0}function P(N){return t(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>zl}function re(N,C){N.u=C,N.h=P(N)}function ce(N){N.u>=So&&(t(N.u>=So),I(N))}function be(N){t(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(t(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function ae(N){return M(N,1)}function ue(N,C){var J=N.Ca;0>N.b&&be(N);var te=N.b,he=J*C>>>8,ye=(N.I>>>te>he)+0;for(ye?(J-=he,N.I-=he+1<<te>>>0):J=he+1,te=J,he=0;256<=te;)he+=8,te>>=8;return te=7^he+tl[te],N.b-=te,N.Ca=(J<<te)-1,ye}function fe(N,C,J){N[C+0]=J>>24&255,N[C+1]=J>>16&255,N[C+2]=J>>8&255,N[C+3]=255&J}function pe(N,C){return N[C+0]|N[C+1]<<8}function de(N,C){return pe(N,C)|N[C+2]<<16}function le(N,C){return pe(N,C)|pe(N,C+2)<<16}function ne(N,C){var J=1<<C;return t(N!=null),t(0<C),N.X=s(J),N.X==null?0:(N.Mb=32-C,N.Xa=C,1)}function Se(N,C){t(N!=null),t(C!=null),t(N.Xa==C.Xa),n(C.X,0,N.X,0,1<<C.Xa)}function Ee(){this.X=[],this.Xa=this.Mb=0}function qe(N,C,J,te){t(J!=null),t(te!=null);var he=J[0],ye=te[0];return he==0&&(he=(N*ye+C/2)/C),ye==0&&(ye=(C*he+N/2)/N),0>=he||0>=ye?0:(J[0]=he,te[0]=ye,1)}function ve(N,C){return N+(1<<C)-1>>>C}function Ae(N,C){return((4278255360&N)+(4278255360&C)>>>0&4278255360)+((16711935&N)+(16711935&C)>>>0&16711935)>>>0}function me(N,C){$[C]=function(J,te,he,ye,je,_e,ke){var Te;for(Te=0;Te<je;++Te){var We=$[N](_e[ke+Te-1],he,ye+Te);_e[ke+Te]=Ae(J[te+Te],We)}}}function Ce(){this.ud=this.hd=this.jd=0}function Me(N,C){return((4278124286&(N^C))>>>1)+(N&C)>>>0}function He(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function at(N,C){return He(N+(N-C+.5>>1))}function pt(N,C,J){return Math.abs(C-J)-Math.abs(N-J)}function ge(N,C,J,te,he,ye,je){for(te=ye[je-1],J=0;J<he;++J)ye[je+J]=te=Ae(N[C+J],te)}function Le(N,C,J,te,he){var ye;for(ye=0;ye<J;++ye){var je=N[C+ye],_e=je>>8&255,ke=16711935&(ke=(ke=16711935&je)+((_e<<16)+_e));te[he+ye]=(4278255360&je)+ke>>>0}}function Be(N,C){C.jd=255&N,C.hd=N>>8&255,C.ud=N>>16&255}function Ge(N,C,J,te,he,ye){var je;for(je=0;je<te;++je){var _e=C[J+je],ke=_e>>>8,Te=_e,We=255&(We=(We=_e>>>16)+((N.jd<<24>>24)*(ke<<24>>24)>>>5));Te=255&(Te=(Te+=(N.hd<<24>>24)*(ke<<24>>24)>>>5)+((N.ud<<24>>24)*(We<<24>>24)>>>5)),he[ye+je]=(4278255360&_e)+(We<<16)+Te}}function Qe(N,C,J,te,he){$[C]=function(ye,je,_e,ke,Te,We,nt,Oe,Xe){for(ke=nt;ke<Oe;++ke)for(nt=0;nt<Xe;++nt)Te[We++]=he(_e[te(ye[je++])])},$[N]=function(ye,je,_e,ke,Te,We,nt){var Oe=8>>ye.b,Xe=ye.Ea,tt=ye.K[0],bt=ye.w;if(8>Oe)for(ye=(1<<ye.b)-1,bt=(1<<Oe)-1;je<_e;++je){var ot,mt=0;for(ot=0;ot<Xe;++ot)ot&ye||(mt=te(ke[Te++])),We[nt++]=he(tt[mt&bt]),mt>>=Oe}else $["VP8LMapColor"+J](ke,Te,tt,bt,We,nt,je,_e,Xe)}}function St(N,C,J,te,he){for(J=C+J;C<J;){var ye=N[C++];te[he++]=ye>>16&255,te[he++]=ye>>8&255,te[he++]=255&ye}}function oe(N,C,J,te,he){for(J=C+J;C<J;){var ye=N[C++];te[he++]=ye>>16&255,te[he++]=ye>>8&255,te[he++]=255&ye,te[he++]=ye>>24&255}}function ht(N,C,J,te,he){for(J=C+J;C<J;){var ye=(je=N[C++])>>16&240|je>>12&15,je=240&je|je>>28&15;te[he++]=ye,te[he++]=je}}function wt(N,C,J,te,he){for(J=C+J;C<J;){var ye=(je=N[C++])>>16&248|je>>13&7,je=je>>5&224|je>>3&31;te[he++]=ye,te[he++]=je}}function rt(N,C,J,te,he){for(J=C+J;C<J;){var ye=N[C++];te[he++]=255&ye,te[he++]=ye>>8&255,te[he++]=ye>>16&255}}function Ne(N,C,J,te,he,ye){if(ye==0)for(J=C+J;C<J;)fe(te,((ye=N[C++])[0]>>24|ye[1]>>8&65280|ye[2]<<8&16711680|ye[3]<<24)>>>0),he+=32;else n(te,he,N,C,J)}function Ue(N,C){$[C][0]=$[N+"0"],$[C][1]=$[N+"1"],$[C][2]=$[N+"2"],$[C][3]=$[N+"3"],$[C][4]=$[N+"4"],$[C][5]=$[N+"5"],$[C][6]=$[N+"6"],$[C][7]=$[N+"7"],$[C][8]=$[N+"8"],$[C][9]=$[N+"9"],$[C][10]=$[N+"10"],$[C][11]=$[N+"11"],$[C][12]=$[N+"12"],$[C][13]=$[N+"13"],$[C][14]=$[N+"0"],$[C][15]=$[N+"0"]}function Re(N){return N==Pu||N==Ec||N==Td||N==Od}function Ve(){this.eb=[],this.size=this.A=this.fb=0}function it(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ie(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ve,this.f.kb=new it,this.sd=null}function we(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function De(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function $e(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function Ye(N,C){var J=N.T,te=C.ba.f.RGBA,he=te.eb,ye=te.fb+N.ka*te.A,je=$i[C.ba.S],_e=N.y,ke=N.O,Te=N.f,We=N.N,nt=N.ea,Oe=N.W,Xe=C.cc,tt=C.dc,bt=C.Mc,ot=C.Nc,mt=N.ka,xt=N.ka+N.T,_t=N.U,Ct=_t+1>>1;for(mt==0?je(_e,ke,null,null,Te,We,nt,Oe,Te,We,nt,Oe,he,ye,null,null,_t):(je(C.ec,C.fc,_e,ke,Xe,tt,bt,ot,Te,We,nt,Oe,he,ye-te.A,he,ye,_t),++J);mt+2<xt;mt+=2)Xe=Te,tt=We,bt=nt,ot=Oe,We+=N.Rc,Oe+=N.Rc,ye+=2*te.A,je(_e,(ke+=2*N.fa)-N.fa,_e,ke,Xe,tt,bt,ot,Te,We,nt,Oe,he,ye-te.A,he,ye,_t);return ke+=N.fa,N.j+xt<N.o?(n(C.ec,C.fc,_e,ke,_t),n(C.cc,C.dc,Te,We,Ct),n(C.Mc,C.Nc,nt,Oe,Ct),J--):1&xt||je(_e,ke,null,null,Te,We,nt,Oe,Te,We,nt,Oe,he,ye+te.A,null,null,_t),J}function lt(N,C,J){var te=N.F,he=[N.J];if(te!=null){var ye=N.U,je=C.ba.S,_e=je==Ad||je==Td;C=C.ba.f.RGBA;var ke=[0],Te=N.ka;ke[0]=N.T,N.Kb&&(Te==0?--ke[0]:(--Te,he[0]-=N.width),N.j+N.ka+N.T==N.o&&(ke[0]=N.o-N.j-Te));var We=C.eb;Te=C.fb+Te*C.A,N=Ed(te,he[0],N.width,ye,ke,We,Te+(_e?0:3),C.A),t(J==ke),N&&Re(je)&&Pc(We,Te,_e,ye,ke,C.A)}return 0}function ft(N){var C=N.ma,J=C.ba.S,te=11>J,he=J==Ul||J==Dd||J==Ad||J==rn||J==12||Re(J);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!wu(C.Oa,N,he?11:12))return 0;if(he&&Re(J)&&$h(),N.da)alert("todo:use_scaling");else{if(te){if(C.Ib=$e,N.Kb){if(J=N.U+1>>1,C.memory=s(N.U+2*J),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+N.U,C.Mc=C.cc,C.Nc=C.dc+J,C.Ib=Ye,$h()}}else alert("todo:EmitYUV");he&&(C.Jb=lt,te&&_s())}if(te&&!za){for(N=0;256>N;++N)Bi[N]=89858*(N-128)+Ks>>il,Ui[N]=-22014*(N-128)+Ks,Tu[N]=-45773*(N-128),Oc[N]=113618*(N-128)+Ks>>il;for(N=Xr;N<en;++N)C=76283*(N-16)+Ks>>il,Gh[N-Xr]=Rn(C,255),q0[N-Xr]=Rn(C+8>>4,15);za=1}return 1}function et(N){var C=N.ma,J=N.U,te=N.T;return t(!(1&N.ka)),0>=J||0>=te?0:(J=C.Ib(N,C),C.Jb!=null&&C.Jb(N,C,J),C.Dc+=J,1)}function Pt(N){N.ma.memory=null}function kt(N,C,J,te){return H(N,8)!=47?0:(C[0]=H(N,14)+1,J[0]=H(N,14)+1,te[0]=H(N,1),H(N,3)!=0?0:!N.h)}function jt(N,C){if(4>N)return N+1;var J=N-2>>1;return(2+(1&N)<<J)+H(C,J)+1}function Tt(N,C){return 120<C?C-120:1<=(J=((J=ib[C-1])>>4)*N+(8-(15&J)))?J:1;var J}function ut(N,C,J){var te=Z(J),he=N[C+=255&te].g-8;return 0<he&&(re(J,J.u+8),te=Z(J),C+=N[C].value,C+=te&(1<<he)-1),re(J,J.u+N[C].g),N[C].value}function Dt(N,C,J){return J.g+=N.g,J.value+=N.value<<C>>>0,t(8>=J.g),N.g}function Mt(N,C,J){var te=N.xc;return t((C=te==0?0:N.vc[N.md*(J>>te)+(C>>te)])<N.Wb),N.Ya[C]}function Ht(N,C,J,te){var he=N.ab,ye=N.c*C,je=N.C;C=je+C;var _e=J,ke=te;for(te=N.Ta,J=N.Ua;0<he--;){var Te=N.gc[he],We=je,nt=C,Oe=_e,Xe=ke,tt=(ke=te,_e=J,Te.Ea);switch(t(We<nt),t(nt<=Te.nc),Te.hc){case 2:Gn(Oe,Xe,(nt-We)*tt,ke,_e);break;case 0:var bt=We,ot=nt,mt=ke,xt=_e,_t=(Qt=Te).Ea;bt==0&&(rl(Oe,Xe,null,null,1,mt,xt),ge(Oe,Xe+1,0,0,_t-1,mt,xt+1),Xe+=_t,xt+=_t,++bt);for(var Ct=1<<Qt.b,lr=Ct-1,Gt=ve(_t,Qt.b),Er=Qt.K,Qt=Qt.w+(bt>>Qt.b)*Gt;bt<ot;){var Fr=Er,$n=Qt,Dr=1;for(ko(Oe,Xe,mt,xt-_t,1,mt,xt);Dr<_t;){var Yt=(Dr&~lr)+Ct;Yt>_t&&(Yt=_t),(0,_c[Fr[$n++]>>8&15])(Oe,Xe+ +Dr,mt,xt+Dr-_t,Yt-Dr,mt,xt+Dr),Dr=Yt}Xe+=_t,xt+=_t,++bt&lr||(Qt+=Gt)}nt!=Te.nc&&n(ke,_e-tt,ke,_e+(nt-We-1)*tt,tt);break;case 1:for(tt=Oe,ot=Xe,_t=(Oe=Te.Ea)-(xt=Oe&~(mt=(Xe=1<<Te.b)-1)),bt=ve(Oe,Te.b),Ct=Te.K,Te=Te.w+(We>>Te.b)*bt;We<nt;){for(lr=Ct,Gt=Te,Er=new Ce,Qt=ot+xt,Fr=ot+Oe;ot<Qt;)Be(lr[Gt++],Er),Nu(Er,tt,ot,Xe,ke,_e),ot+=Xe,_e+=Xe;ot<Fr&&(Be(lr[Gt++],Er),Nu(Er,tt,ot,_t,ke,_e),ot+=_t,_e+=_t),++We&mt||(Te+=bt)}break;case 3:if(Oe==ke&&Xe==_e&&0<Te.b){for(ot=ke,Oe=tt=_e+(nt-We)*tt-(xt=(nt-We)*ve(Te.Ea,Te.b)),Xe=ke,mt=_e,bt=[],xt=(_t=xt)-1;0<=xt;--xt)bt[xt]=Xe[mt+xt];for(xt=_t-1;0<=xt;--xt)ot[Oe+xt]=bt[xt];jc(Te,We,nt,ke,tt,ke,_e)}else jc(Te,We,nt,Oe,Xe,ke,_e)}_e=te,ke=J}ke!=J&&n(te,J,_e,ke,ye)}function pr(N,C){var J=N.V,te=N.Ba+N.c*N.C,he=C-N.C;if(t(C<=N.l.o),t(16>=he),0<he){var ye=N.l,je=N.Ta,_e=N.Ua,ke=ye.width;if(Ht(N,he,J,te),he=_e=[_e],t((J=N.C)<(te=C)),t(ye.v<ye.va),te>ye.o&&(te=ye.o),J<ye.j){var Te=ye.j-J;J=ye.j,he[0]+=Te*ke}if(J>=te?J=0:(he[0]+=4*ye.v,ye.ka=J-ye.j,ye.U=ye.va-ye.v,ye.T=te-J,J=1),J){if(_e=_e[0],11>(J=N.ca).S){var We=J.f.RGBA,nt=(te=J.S,he=ye.U,ye=ye.T,Te=We.eb,We.A),Oe=ye;for(We=We.fb+N.Ma*We.A;0<Oe--;){var Xe=je,tt=_e,bt=he,ot=Te,mt=We;switch(te){case Hh:_u(Xe,tt,bt,ot,mt);break;case Ul:nl(Xe,tt,bt,ot,mt);break;case Pu:nl(Xe,tt,bt,ot,mt),Pc(ot,mt,0,bt,1,0);break;case z0:Sc(Xe,tt,bt,ot,mt);break;case Dd:Ne(Xe,tt,bt,ot,mt,1);break;case Ec:Ne(Xe,tt,bt,ot,mt,1),Pc(ot,mt,0,bt,1,0);break;case Ad:Ne(Xe,tt,bt,ot,mt,0);break;case Td:Ne(Xe,tt,bt,ot,mt,0),Pc(ot,mt,1,bt,1,0);break;case rn:Fl(Xe,tt,bt,ot,mt);break;case Od:Fl(Xe,tt,bt,ot,mt),km(ot,mt,bt,1,0);break;case Vh:$l(Xe,tt,bt,ot,mt);break;default:t(0)}_e+=ke,We+=nt}N.Ma+=ye}else alert("todo:EmitRescaledRowsYUVA");t(N.Ma<=J.height)}}N.C=C,t(N.C<=N.i)}function ar(N){var C;if(0<N.ua)return 0;for(C=0;C<N.Wb;++C){var J=N.Ya[C].G,te=N.Ya[C].H;if(0<J[1][te[1]+0].g||0<J[2][te[2]+0].g||0<J[3][te[3]+0].g)return 0}return 1}function Lt(N,C,J,te,he,ye){if(N.Z!=0){var je=N.qd,_e=N.rd;for(t(Ja[N.Z]!=null);C<J;++C)Ja[N.Z](je,_e,te,he,te,he,ye),je=te,_e=he,he+=ye;N.qd=je,N.rd=_e}}function Xt(N,C){var J=N.l.ma,te=J.Z==0||J.Z==1?N.l.j:N.C;if(te=N.C<te?te:N.C,t(C<=N.l.o),C>te){var he=N.l.width,ye=J.ca,je=J.tb+he*te,_e=N.V,ke=N.Ba+N.c*te,Te=N.gc;t(N.ab==1),t(Te[0].hc==3),Vs(Te[0],te,C,_e,ke,ye,je),Lt(J,te,C,ye,je,he)}N.C=N.Ma=C}function er(N,C,J,te,he,ye,je){var _e=N.$/te,ke=N.$%te,Te=N.m,We=N.s,nt=J+N.$,Oe=nt;he=J+te*he;var Xe=J+te*ye,tt=280+We.ua,bt=N.Pb?_e:16777216,ot=0<We.ua?We.Wa:null,mt=We.wc,xt=nt<Xe?Mt(We,ke,_e):null;t(N.C<ye),t(Xe<=he);var _t=!1;e:for(;;){for(;_t||nt<Xe;){var Ct=0;if(_e>=bt){var lr=nt-J;t((bt=N).Pb),bt.wd=bt.m,bt.xd=lr,0<bt.s.ua&&Se(bt.s.Wa,bt.s.vb),bt=_e+Kh}if(ke&mt||(xt=Mt(We,ke,_e)),t(xt!=null),xt.Qb&&(C[nt]=xt.qb,_t=!0),!_t)if(ce(Te),xt.jc){Ct=Te,lr=C;var Gt=nt,Er=xt.pd[Z(Ct)&Ss-1];t(xt.jc),256>Er.g?(re(Ct,Ct.u+Er.g),lr[Gt]=Er.value,Ct=0):(re(Ct,Ct.u+Er.g-256),t(256<=Er.value),Ct=Er.value),Ct==0&&(_t=!0)}else Ct=ut(xt.G[0],xt.H[0],Te);if(Te.h)break;if(_t||256>Ct){if(!_t)if(xt.nd)C[nt]=(xt.qb|Ct<<8)>>>0;else{if(ce(Te),_t=ut(xt.G[1],xt.H[1],Te),ce(Te),lr=ut(xt.G[2],xt.H[2],Te),Gt=ut(xt.G[3],xt.H[3],Te),Te.h)break;C[nt]=(Gt<<24|_t<<16|Ct<<8|lr)>>>0}if(_t=!1,++nt,++ke>=te&&(ke=0,++_e,je!=null&&_e<=ye&&!(_e%16)&&je(N,_e),ot!=null))for(;Oe<nt;)Ct=C[Oe++],ot.X[(506832829*Ct&4294967295)>>>ot.Mb]=Ct}else if(280>Ct){if(Ct=jt(Ct-256,Te),lr=ut(xt.G[4],xt.H[4],Te),ce(Te),lr=Tt(te,lr=jt(lr,Te)),Te.h)break;if(nt-J<lr||he-nt<Ct)break e;for(Gt=0;Gt<Ct;++Gt)C[nt+Gt]=C[nt+Gt-lr];for(nt+=Ct,ke+=Ct;ke>=te;)ke-=te,++_e,je!=null&&_e<=ye&&!(_e%16)&&je(N,_e);if(t(nt<=he),ke&mt&&(xt=Mt(We,ke,_e)),ot!=null)for(;Oe<nt;)Ct=C[Oe++],ot.X[(506832829*Ct&4294967295)>>>ot.Mb]=Ct}else{if(!(Ct<tt))break e;for(_t=Ct-280,t(ot!=null);Oe<nt;)Ct=C[Oe++],ot.X[(506832829*Ct&4294967295)>>>ot.Mb]=Ct;Ct=nt,t(!(_t>>>(lr=ot).Xa)),C[Ct]=lr.X[_t],_t=!0}_t||t(Te.h==P(Te))}if(N.Pb&&Te.h&&nt<he)t(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&Se(N.s.vb,N.s.Wa);else{if(Te.h)break e;je!=null&&je(N,_e>ye?ye:_e),N.a=0,N.$=nt-J}return 1}return N.a=3,0}function Tr(N){t(N!=null),N.vc=null,N.yc=null,N.Ya=null;var C=N.Wa;C!=null&&(C.X=null),N.vb=null,t(N!=null)}function Yr(){var N=new Ut;return N==null?null:(N.a=0,N.xb=Du,Ue("Predictor","VP8LPredictors"),Ue("Predictor","VP8LPredictors_C"),Ue("PredictorAdd","VP8LPredictorsAdd"),Ue("PredictorAdd","VP8LPredictorsAdd_C"),Gn=Le,Nu=Ge,_u=St,nl=oe,Fl=ht,$l=wt,Sc=rt,$.VP8LMapColor32b=Co,$.VP8LMapColor8b=Nc,N)}function mn(N,C,J,te,he){var ye=1,je=[N],_e=[C],ke=te.m,Te=te.s,We=null,nt=0;e:for(;;){if(J)for(;ye&&H(ke,1);){var Oe=je,Xe=_e,tt=te,bt=1,ot=tt.m,mt=tt.gc[tt.ab],xt=H(ot,2);if(tt.Oc&1<<xt)ye=0;else{switch(tt.Oc|=1<<xt,mt.hc=xt,mt.Ea=Oe[0],mt.nc=Xe[0],mt.K=[null],++tt.ab,t(4>=tt.ab),xt){case 0:case 1:mt.b=H(ot,3)+2,bt=mn(ve(mt.Ea,mt.b),ve(mt.nc,mt.b),0,tt,mt.K),mt.K=mt.K[0];break;case 3:var _t,Ct=H(ot,8)+1,lr=16<Ct?0:4<Ct?1:2<Ct?2:3;if(Oe[0]=ve(mt.Ea,lr),mt.b=lr,_t=bt=mn(Ct,1,0,tt,mt.K)){var Gt,Er=Ct,Qt=mt,Fr=1<<(8>>Qt.b),$n=s(Fr);if($n==null)_t=0;else{var Dr=Qt.K[0],Yt=Qt.w;for($n[0]=Qt.K[0][0],Gt=1;Gt<1*Er;++Gt)$n[Gt]=Ae(Dr[Yt+Gt],$n[Gt-1]);for(;Gt<4*Fr;++Gt)$n[Gt]=0;Qt.K[0]=null,Qt.K[0]=$n,_t=1}}bt=_t;break;case 2:break;default:t(0)}ye=bt}}if(je=je[0],_e=_e[0],ye&&H(ke,1)&&!(ye=1<=(nt=H(ke,4))&&11>=nt)){te.a=3;break e}var Bt;if(Bt=ye)t:{var Yn,wr,zr,dn=te,Sa=je,ia=_e,Cn=nt,ma=J,ka=dn.m,yn=dn.s,Br=[null],Hr=1,bn=0,Vr=$0[Cn];r:for(;;){if(ma&&H(ka,1)){var Bn=H(ka,3)+2,Un=ve(Sa,Bn),nn=ve(ia,Bn),Za=Un*nn;if(!mn(Un,nn,0,dn,Br))break r;for(Br=Br[0],yn.xc=Bn,Yn=0;Yn<Za;++Yn){var tn=Br[Yn]>>8&65535;Br[Yn]=tn,tn>=Hr&&(Hr=tn+1)}}if(ka.h)break r;for(wr=0;5>wr;++wr){var an=Dc[wr];!wr&&0<Cn&&(an+=1<<Cn),bn<an&&(bn=an)}var sa=o(Hr*Vr,L),Fa=Hr,qi=o(Fa,W);if(qi==null)var Xn=null;else t(65536>=Fa),Xn=qi;var Jn=s(bn);if(Xn==null||Jn==null||sa==null){dn.a=1;break r}var Qa=sa;for(Yn=zr=0;Yn<Hr;++Yn){var sn=Xn[Yn],ei=sn.G,Ps=sn.H,Gs=0,Ca=1,Zn=0;for(wr=0;5>wr;++wr){an=Dc[wr],ei[wr]=Qa,Ps[wr]=zr,!wr&&0<Cn&&(an+=1<<Cn);a:{var Vl,ol=an,Ou=dn,Do=Jn,V0=Qa,zm=zr,gn=0,Ys=Ou.m,Fm=H(Ys,1);if(i(Do,0,0,ol),Fm){var $m=H(Ys,1)+1,Yh=H(Ys,1),Xh=H(Ys,Yh==0?1:8);Do[Xh]=1,$m==2&&(Do[Xh=H(Ys,8)]=1);var Ao=1}else{var wn=s(19),oa=H(Ys,4)+4;if(19<oa){Ou.a=3;var Qn=0;break a}for(Vl=0;Vl<oa;++Vl)wn[ab[Vl]]=H(Ys,3);var Lu=void 0,ll=void 0,Iu=Ou,ub=wn,pa=ol,Jh=Do,zd=0,To=Iu.m,Xs=8,os=o(128,L);n:for(;R(os,0,7,ub,19);){if(H(To,1)){var Fd=2+2*H(To,3);if((Lu=2+H(To,Fd))>pa)break n}else Lu=pa;for(ll=0;ll<pa&&Lu--;){ce(To);var Zh=os[0+(127&Z(To))];re(To,To.u+Zh.g);var Wl=Zh.value;if(16>Wl)Jh[ll++]=Wl,Wl!=0&&(Xs=Wl);else{var W0=Wl==16,Bm=Wl-16,K0=Wh[Bm],Um=H(To,Ld[Bm])+K0;if(ll+Um>pa)break n;for(var G0=W0?Xs:0;0<Um--;)Jh[ll++]=G0}}zd=1;break n}zd||(Iu.a=3),Ao=zd}(Ao=Ao&&!Ys.h)&&(gn=R(V0,zm,8,Do,ol)),Ao&&gn!=0?Qn=gn:(Ou.a=3,Qn=0)}if(Qn==0)break r;if(Ca&&F0[wr]==1&&(Ca=Qa[zr].g==0),Gs+=Qa[zr].g,zr+=Qn,3>=wr){var Mu,Qh=Jn[0];for(Mu=1;Mu<an;++Mu)Jn[Mu]>Qh&&(Qh=Jn[Mu]);Zn+=Qh}}if(sn.nd=Ca,sn.Qb=0,Ca&&(sn.qb=(ei[3][Ps[3]+0].value<<24|ei[1][Ps[1]+0].value<<16|ei[2][Ps[2]+0].value)>>>0,Gs==0&&256>ei[0][Ps[0]+0].value&&(sn.Qb=1,sn.qb+=ei[0][Ps[0]+0].value<<8)),sn.jc=!sn.Qb&&6>Zn,sn.jc){var $d,ls=sn;for($d=0;$d<Ss;++$d){var cl=$d,Js=ls.pd[cl],Ic=ls.G[0][ls.H[0]+cl];256<=Ic.value?(Js.g=Ic.g+256,Js.value=Ic.value):(Js.g=0,Js.value=0,cl>>=Dt(Ic,8,Js),cl>>=Dt(ls.G[1][ls.H[1]+cl],16,Js),cl>>=Dt(ls.G[2][ls.H[2]+cl],0,Js),Dt(ls.G[3][ls.H[3]+cl],24,Js))}}}yn.vc=Br,yn.Wb=Hr,yn.Ya=Xn,yn.yc=sa,Bt=1;break t}Bt=0}if(!(ye=Bt)){te.a=3;break e}if(0<nt){if(Te.ua=1<<nt,!ne(Te.Wa,nt)){te.a=1,ye=0;break e}}else Te.ua=0;var ef=te,tf=je,Y0=_e,rf=ef.s,nf=rf.xc;if(ef.c=tf,ef.i=Y0,rf.md=ve(tf,nf),rf.wc=nf==0?-1:(1<<nf)-1,J){te.xb=Eo;break e}if((We=s(je*_e))==null){te.a=1,ye=0;break e}ye=(ye=er(te,We,0,je,_e,_e,null))&&!ke.h;break e}return ye?(he!=null?he[0]=We:(t(We==null),t(J)),te.$=0,J||Tr(Te)):Tr(Te),ye}function Ta(N,C){var J=N.c*N.i,te=J+C+16*C;return t(N.c<=C),N.V=s(te),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+J+C,1)}function Di(N,C){var J=N.C,te=C-J,he=N.V,ye=N.Ba+N.c*J;for(t(C<=N.l.o);0<te;){var je=16<te?16:te,_e=N.l.ma,ke=N.l.width,Te=ke*je,We=_e.ca,nt=_e.tb+ke*J,Oe=N.Ta,Xe=N.Ua;Ht(N,je,he,ye),Cm(Oe,Xe,We,nt,Te),Lt(_e,J,J+je,We,nt,ke),te-=je,he+=je*N.c,J+=je}t(J==C),N.C=N.Ma=C}function na(){this.ub=this.yd=this.td=this.Rb=0}function hc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function wd(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Nr(){this.Yb=function(){var N=[];return function C(J,te,he){for(var ye=he[te],je=0;je<ye&&(J.push(he.length>te+1?[]:0),!(he.length<te+1));je++)C(J[je],te+1,he)}(N,0,[3,11]),N}()}function _a(){this.jb=s(3),this.Wc=l([4,8],Nr),this.Xc=l([4,17],Nr)}function ha(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Wn(){this.ld=this.La=this.dd=this.tc=0}function es(){this.Na=this.la=0}function jd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $s(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function yo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Wn),this.Y=0,this.ya=Array(new $s),this.aa=0,this.l=new Rr}function Ya(){this.y=s(16),this.f=s(8),this.ea=s(8)}function vu(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new na,this.Kc=new hc,this.ed=new ha,this.Qa=new wd,this.Ic=this.$c=this.Aa=0,this.D=new yo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,D),this.ia=0,this.pb=o(4,jd),this.Pa=new _a,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ya),this.Hd=0,this.rb=Array(new es),this.sb=0,this.wa=Array(new Wn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $s),this.L=this.aa=0,this.gd=l([4,2],Wn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Rr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ln(){var N=new vu;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,Ac||(Ac=In)),N}function un(N,C,J){return N.a==0&&(N.a=C,N.sc=J,N.cb=0),0}function Nd(N,C,J){return 3<=J&&N[C+0]==157&&N[C+1]==1&&N[C+2]==42}function Ai(N,C){if(N==null)return 0;if(N.a=0,N.sc="OK",C==null)return un(N,2,"null VP8Io passed to VP8GetHeaders()");var J=C.data,te=C.w,he=C.ha;if(4>he)return un(N,7,"Truncated header.");var ye=J[te+0]|J[te+1]<<8|J[te+2]<<16,je=N.Od;if(je.Rb=!(1&ye),je.td=ye>>1&7,je.yd=ye>>4&1,je.ub=ye>>5,3<je.td)return un(N,3,"Incorrect keyframe parameters.");if(!je.yd)return un(N,4,"Frame not displayable.");te+=3,he-=3;var _e=N.Kc;if(je.Rb){if(7>he)return un(N,7,"cannot parse picture header");if(!Nd(J,te,he))return un(N,3,"Bad code word");_e.c=16383&(J[te+4]<<8|J[te+3]),_e.Td=J[te+4]>>6,_e.i=16383&(J[te+6]<<8|J[te+5]),_e.Ud=J[te+6]>>6,te+=7,he-=7,N.za=_e.c+15>>4,N.Ub=_e.i+15>>4,C.width=_e.c,C.height=_e.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,i((ye=N.Pa).jb,0,255,ye.jb.length),t((ye=N.Qa)!=null),ye.Cb=0,ye.Bb=0,ye.Fb=1,i(ye.Zb,0,0,ye.Zb.length),i(ye.Lb,0,0,ye.Lb)}if(je.ub>he)return un(N,7,"bad partition length");ee(ye=N.m,J,te,je.ub),te+=je.ub,he-=je.ub,je.Rb&&(_e.Ld=ae(ye),_e.Kd=ae(ye)),_e=N.Qa;var ke,Te=N.Pa;if(t(ye!=null),t(_e!=null),_e.Cb=ae(ye),_e.Cb){if(_e.Bb=ae(ye),ae(ye)){for(_e.Fb=ae(ye),ke=0;4>ke;++ke)_e.Zb[ke]=ae(ye)?V(ye,7):0;for(ke=0;4>ke;++ke)_e.Lb[ke]=ae(ye)?V(ye,6):0}if(_e.Bb)for(ke=0;3>ke;++ke)Te.jb[ke]=ae(ye)?M(ye,8):255}else _e.Bb=0;if(ye.Ka)return un(N,3,"cannot parse segment header");if((_e=N.ed).zd=ae(ye),_e.Tb=M(ye,6),_e.wb=M(ye,3),_e.Pc=ae(ye),_e.Pc&&ae(ye)){for(Te=0;4>Te;++Te)ae(ye)&&(_e.vd[Te]=V(ye,6));for(Te=0;4>Te;++Te)ae(ye)&&(_e.od[Te]=V(ye,6))}if(N.L=_e.Tb==0?0:_e.zd?1:2,ye.Ka)return un(N,3,"cannot parse filter header");var We=he;if(he=ke=te,te=ke+We,_e=We,N.Xb=(1<<M(N.m,2))-1,We<3*(Te=N.Xb))J=7;else{for(ke+=3*Te,_e-=3*Te,We=0;We<Te;++We){var nt=J[he+0]|J[he+1]<<8|J[he+2]<<16;nt>_e&&(nt=_e),ee(N.Jc[+We],J,ke,nt),ke+=nt,_e-=nt,he+=3}ee(N.Jc[+Te],J,ke,_e),J=ke<te?0:5}if(J!=0)return un(N,J,"cannot parse partitions");for(J=M(ke=N.m,7),he=ae(ke)?V(ke,4):0,te=ae(ke)?V(ke,4):0,_e=ae(ke)?V(ke,4):0,Te=ae(ke)?V(ke,4):0,ke=ae(ke)?V(ke,4):0,We=N.Qa,nt=0;4>nt;++nt){if(We.Cb){var Oe=We.Zb[nt];We.Fb||(Oe+=J)}else{if(0<nt){N.pb[nt]=N.pb[0];continue}Oe=J}var Xe=N.pb[nt];Xe.Sc[0]=Eu[Rn(Oe+he,127)],Xe.Sc[1]=Id[Rn(Oe+0,127)],Xe.Eb[0]=2*Eu[Rn(Oe+te,127)],Xe.Eb[1]=101581*Id[Rn(Oe+_e,127)]>>16,8>Xe.Eb[1]&&(Xe.Eb[1]=8),Xe.Qc[0]=Eu[Rn(Oe+Te,117)],Xe.Qc[1]=Id[Rn(Oe+ke,127)],Xe.lc=Oe+ke}if(!je.Rb)return un(N,4,"Not a key frame.");for(ae(ye),je=N.Pa,J=0;4>J;++J){for(he=0;8>he;++he)for(te=0;3>te;++te)for(_e=0;11>_e;++_e)Te=ue(ye,ob[J][he][te][_e])?M(ye,8):U0[J][he][te][_e],je.Wc[J][he].Yb[te][_e]=Te;for(he=0;17>he;++he)je.Xc[J][he]=je.Wc[J][Im[he]]}return N.kc=ae(ye),N.kc&&(N.Bd=M(ye,8)),N.cb=1}function In(N,C,J,te,he,ye,je){var _e=C[he].Yb[J];for(J=0;16>he;++he){if(!ue(N,_e[J+0]))return he;for(;!ue(N,_e[J+1]);)if(_e=C[++he].Yb[0],J=0,he==16)return 16;var ke=C[he+1].Yb;if(ue(N,_e[J+2])){var Te=N,We=0;if(ue(Te,(Oe=_e)[(nt=J)+3]))if(ue(Te,Oe[nt+6])){for(_e=0,nt=2*(We=ue(Te,Oe[nt+8]))+(Oe=ue(Te,Oe[nt+9+We])),We=0,Oe=Om[nt];Oe[_e];++_e)We+=We+ue(Te,Oe[_e]);We+=3+(8<<nt)}else ue(Te,Oe[nt+7])?(We=7+2*ue(Te,165),We+=ue(Te,145)):We=5+ue(Te,159);else We=ue(Te,Oe[nt+4])?3+ue(Te,Oe[nt+5]):2;_e=ke[2]}else We=1,_e=ke[1];ke=je+Lm[he],0>(Te=N).b&&be(Te);var nt,Oe=Te.b,Xe=(nt=Te.Ca>>1)-(Te.I>>Oe)>>31;--Te.b,Te.Ca+=Xe,Te.Ca|=1,Te.I-=(nt+1&Xe)<<Oe,ye[ke]=((We^Xe)-Xe)*te[(0<he)+0]}return 16}function Ti(N){var C=N.rb[N.sb-1];C.la=0,C.Na=0,i(N.zc,0,0,N.zc.length),N.ja=0}function Oa(N,C,J,te,he){he=N[C+J+32*te]+(he>>3),N[C+J+32*te]=-256&he?0>he?0:255:he}function Yo(N,C,J,te,he,ye){Oa(N,C,0,J,te+he),Oa(N,C,1,J,te+ye),Oa(N,C,2,J,te-ye),Oa(N,C,3,J,te-he)}function Ur(N){return(20091*N>>16)+N}function Zr(N,C,J,te){var he,ye=0,je=s(16);for(he=0;4>he;++he){var _e=N[C+0]+N[C+8],ke=N[C+0]-N[C+8],Te=(35468*N[C+4]>>16)-Ur(N[C+12]),We=Ur(N[C+4])+(35468*N[C+12]>>16);je[ye+0]=_e+We,je[ye+1]=ke+Te,je[ye+2]=ke-Te,je[ye+3]=_e-We,ye+=4,C++}for(he=ye=0;4>he;++he)_e=(N=je[ye+0]+4)+je[ye+8],ke=N-je[ye+8],Te=(35468*je[ye+4]>>16)-Ur(je[ye+12]),Oa(J,te,0,0,_e+(We=Ur(je[ye+4])+(35468*je[ye+12]>>16))),Oa(J,te,1,0,ke+Te),Oa(J,te,2,0,ke-Te),Oa(J,te,3,0,_e-We),ye++,te+=32}function fc(N,C,J,te){var he=N[C+0]+4,ye=35468*N[C+4]>>16,je=Ur(N[C+4]),_e=35468*N[C+1]>>16;Yo(J,te,0,he+je,N=Ur(N[C+1]),_e),Yo(J,te,1,he+ye,N,_e),Yo(J,te,2,he-ye,N,_e),Yo(J,te,3,he-je,N,_e)}function Dl(N,C,J,te,he){Zr(N,C,J,te),he&&Zr(N,C+16,J,te+4)}function hi(N,C,J,te){kc(N,C+0,J,te,1),kc(N,C+32,J,te+128,1)}function fi(N,C,J,te){var he;for(N=N[C+0]+4,he=0;4>he;++he)for(C=0;4>C;++C)Oa(J,te,C,he,N)}function Bs(N,C,J,te){N[C+0]&&qr(N,C+0,J,te),N[C+16]&&qr(N,C+16,J,te+4),N[C+32]&&qr(N,C+32,J,te+128),N[C+48]&&qr(N,C+48,J,te+128+4)}function Lr(N,C,J,te){var he,ye=s(16);for(he=0;4>he;++he){var je=N[C+0+he]+N[C+12+he],_e=N[C+4+he]+N[C+8+he],ke=N[C+4+he]-N[C+8+he],Te=N[C+0+he]-N[C+12+he];ye[0+he]=je+_e,ye[8+he]=je-_e,ye[4+he]=Te+ke,ye[12+he]=Te-ke}for(he=0;4>he;++he)je=(N=ye[0+4*he]+3)+ye[3+4*he],_e=ye[1+4*he]+ye[2+4*he],ke=ye[1+4*he]-ye[2+4*he],Te=N-ye[3+4*he],J[te+0]=je+_e>>3,J[te+16]=Te+ke>>3,J[te+32]=je-_e>>3,J[te+48]=Te-ke>>3,te+=64}function ys(N,C,J){var te,he=C-32,ye=yi,je=255-N[he-1];for(te=0;te<J;++te){var _e,ke=ye,Te=je+N[C-1];for(_e=0;_e<J;++_e)N[C+_e]=ke[Te+N[he+_e]];C+=32}}function Oi(N,C){ys(N,C,4)}function bo(N,C){ys(N,C,8)}function bs(N,C){ys(N,C,16)}function Us(N,C){var J;for(J=0;16>J;++J)n(N,C+32*J,N,C-32,16)}function mi(N,C){var J;for(J=16;0<J;--J)i(N,C,N[C-1],16),C+=32}function qs(N,C,J){var te;for(te=0;16>te;++te)i(C,J+32*te,N,16)}function La(N,C){var J,te=16;for(J=0;16>J;++J)te+=N[C-1+32*J]+N[C+J-32];qs(te>>5,N,C)}function ts(N,C){var J,te=8;for(J=0;16>J;++J)te+=N[C-1+32*J];qs(te>>4,N,C)}function Mn(N,C){var J,te=8;for(J=0;16>J;++J)te+=N[C+J-32];qs(te>>4,N,C)}function Ia(N,C){qs(128,N,C)}function gr(N,C,J){return N+2*C+J+2>>2}function Xo(N,C){var J,te=C-32;for(te=new Uint8Array([gr(N[te-1],N[te+0],N[te+1]),gr(N[te+0],N[te+1],N[te+2]),gr(N[te+1],N[te+2],N[te+3]),gr(N[te+2],N[te+3],N[te+4])]),J=0;4>J;++J)n(N,C+32*J,te,0,te.length)}function ws(N,C){var J=N[C-1],te=N[C-1+32],he=N[C-1+64],ye=N[C-1+96];fe(N,C+0,16843009*gr(N[C-1-32],J,te)),fe(N,C+32,16843009*gr(J,te,he)),fe(N,C+64,16843009*gr(te,he,ye)),fe(N,C+96,16843009*gr(he,ye,ye))}function _d(N,C){var J,te=4;for(J=0;4>J;++J)te+=N[C+J-32]+N[C-1+32*J];for(te>>=3,J=0;4>J;++J)i(N,C+32*J,te,4)}function yu(N,C){var J=N[C-1+0],te=N[C-1+32],he=N[C-1+64],ye=N[C-1-32],je=N[C+0-32],_e=N[C+1-32],ke=N[C+2-32],Te=N[C+3-32];N[C+0+96]=gr(te,he,N[C-1+96]),N[C+1+96]=N[C+0+64]=gr(J,te,he),N[C+2+96]=N[C+1+64]=N[C+0+32]=gr(ye,J,te),N[C+3+96]=N[C+2+64]=N[C+1+32]=N[C+0+0]=gr(je,ye,J),N[C+3+64]=N[C+2+32]=N[C+1+0]=gr(_e,je,ye),N[C+3+32]=N[C+2+0]=gr(ke,_e,je),N[C+3+0]=gr(Te,ke,_e)}function pi(N,C){var J=N[C+1-32],te=N[C+2-32],he=N[C+3-32],ye=N[C+4-32],je=N[C+5-32],_e=N[C+6-32],ke=N[C+7-32];N[C+0+0]=gr(N[C+0-32],J,te),N[C+1+0]=N[C+0+32]=gr(J,te,he),N[C+2+0]=N[C+1+32]=N[C+0+64]=gr(te,he,ye),N[C+3+0]=N[C+2+32]=N[C+1+64]=N[C+0+96]=gr(he,ye,je),N[C+3+32]=N[C+2+64]=N[C+1+96]=gr(ye,je,_e),N[C+3+64]=N[C+2+96]=gr(je,_e,ke),N[C+3+96]=gr(_e,ke,ke)}function gi(N,C){var J=N[C-1+0],te=N[C-1+32],he=N[C-1+64],ye=N[C-1-32],je=N[C+0-32],_e=N[C+1-32],ke=N[C+2-32],Te=N[C+3-32];N[C+0+0]=N[C+1+64]=ye+je+1>>1,N[C+1+0]=N[C+2+64]=je+_e+1>>1,N[C+2+0]=N[C+3+64]=_e+ke+1>>1,N[C+3+0]=ke+Te+1>>1,N[C+0+96]=gr(he,te,J),N[C+0+64]=gr(te,J,ye),N[C+0+32]=N[C+1+96]=gr(J,ye,je),N[C+1+32]=N[C+2+96]=gr(ye,je,_e),N[C+2+32]=N[C+3+96]=gr(je,_e,ke),N[C+3+32]=gr(_e,ke,Te)}function mc(N,C){var J=N[C+0-32],te=N[C+1-32],he=N[C+2-32],ye=N[C+3-32],je=N[C+4-32],_e=N[C+5-32],ke=N[C+6-32],Te=N[C+7-32];N[C+0+0]=J+te+1>>1,N[C+1+0]=N[C+0+64]=te+he+1>>1,N[C+2+0]=N[C+1+64]=he+ye+1>>1,N[C+3+0]=N[C+2+64]=ye+je+1>>1,N[C+0+32]=gr(J,te,he),N[C+1+32]=N[C+0+96]=gr(te,he,ye),N[C+2+32]=N[C+1+96]=gr(he,ye,je),N[C+3+32]=N[C+2+96]=gr(ye,je,_e),N[C+3+64]=gr(je,_e,ke),N[C+3+96]=gr(_e,ke,Te)}function Jo(N,C){var J=N[C-1+0],te=N[C-1+32],he=N[C-1+64],ye=N[C-1+96];N[C+0+0]=J+te+1>>1,N[C+2+0]=N[C+0+32]=te+he+1>>1,N[C+2+32]=N[C+0+64]=he+ye+1>>1,N[C+1+0]=gr(J,te,he),N[C+3+0]=N[C+1+32]=gr(te,he,ye),N[C+3+32]=N[C+1+64]=gr(he,ye,ye),N[C+3+64]=N[C+2+64]=N[C+0+96]=N[C+1+96]=N[C+2+96]=N[C+3+96]=ye}function wo(N,C){var J=N[C-1+0],te=N[C-1+32],he=N[C-1+64],ye=N[C-1+96],je=N[C-1-32],_e=N[C+0-32],ke=N[C+1-32],Te=N[C+2-32];N[C+0+0]=N[C+2+32]=J+je+1>>1,N[C+0+32]=N[C+2+64]=te+J+1>>1,N[C+0+64]=N[C+2+96]=he+te+1>>1,N[C+0+96]=ye+he+1>>1,N[C+3+0]=gr(_e,ke,Te),N[C+2+0]=gr(je,_e,ke),N[C+1+0]=N[C+3+32]=gr(J,je,_e),N[C+1+32]=N[C+3+64]=gr(te,J,je),N[C+1+64]=N[C+3+96]=gr(he,te,J),N[C+1+96]=gr(ye,he,te)}function Al(N,C){var J;for(J=0;8>J;++J)n(N,C+32*J,N,C-32,8)}function Ma(N,C){var J;for(J=0;8>J;++J)i(N,C,N[C-1],8),C+=32}function Li(N,C,J){var te;for(te=0;8>te;++te)i(C,J+32*te,N,8)}function rs(N,C){var J,te=8;for(J=0;8>J;++J)te+=N[C+J-32]+N[C-1+32*J];Li(te>>4,N,C)}function jo(N,C){var J,te=4;for(J=0;8>J;++J)te+=N[C+J-32];Li(te>>3,N,C)}function Tl(N,C){var J,te=4;for(J=0;8>J;++J)te+=N[C-1+32*J];Li(te>>3,N,C)}function Ol(N,C){Li(128,N,C)}function js(N,C,J){var te=N[C-J],he=N[C+0],ye=3*(he-te)+Po[1020+N[C-2*J]-N[C+J]],je=Cu[112+(ye+4>>3)];N[C-J]=yi[255+te+Cu[112+(ye+3>>3)]],N[C+0]=yi[255+he-je]}function ns(N,C,J,te){var he=N[C+0],ye=N[C+J];return ks[255+N[C-2*J]-N[C-J]]>te||ks[255+ye-he]>te}function Zo(N,C,J,te){return 4*ks[255+N[C-J]-N[C+0]]+ks[255+N[C-2*J]-N[C+J]]<=te}function No(N,C,J,te,he){var ye=N[C-3*J],je=N[C-2*J],_e=N[C-J],ke=N[C+0],Te=N[C+J],We=N[C+2*J],nt=N[C+3*J];return 4*ks[255+_e-ke]+ks[255+je-Te]>te?0:ks[255+N[C-4*J]-ye]<=he&&ks[255+ye-je]<=he&&ks[255+je-_e]<=he&&ks[255+nt-We]<=he&&ks[255+We-Te]<=he&&ks[255+Te-ke]<=he}function Ii(N,C,J,te){var he=2*te+1;for(te=0;16>te;++te)Zo(N,C+te,J,he)&&js(N,C+te,J)}function Ns(N,C,J,te){var he=2*te+1;for(te=0;16>te;++te)Zo(N,C+te*J,1,he)&&js(N,C+te*J,1)}function Qo(N,C,J,te){var he;for(he=3;0<he;--he)Ii(N,C+=4*J,J,te)}function bu(N,C,J,te){var he;for(he=3;0<he;--he)Ns(N,C+=4,J,te)}function xi(N,C,J,te,he,ye,je,_e){for(ye=2*ye+1;0<he--;){if(No(N,C,J,ye,je))if(ns(N,C,J,_e))js(N,C,J);else{var ke=N,Te=C,We=J,nt=ke[Te-2*We],Oe=ke[Te-We],Xe=ke[Te+0],tt=ke[Te+We],bt=ke[Te+2*We],ot=27*(xt=Po[1020+3*(Xe-Oe)+Po[1020+nt-tt]])+63>>7,mt=18*xt+63>>7,xt=9*xt+63>>7;ke[Te-3*We]=yi[255+ke[Te-3*We]+xt],ke[Te-2*We]=yi[255+nt+mt],ke[Te-We]=yi[255+Oe+ot],ke[Te+0]=yi[255+Xe-ot],ke[Te+We]=yi[255+tt-mt],ke[Te+2*We]=yi[255+bt-xt]}C+=te}}function vi(N,C,J,te,he,ye,je,_e){for(ye=2*ye+1;0<he--;){if(No(N,C,J,ye,je))if(ns(N,C,J,_e))js(N,C,J);else{var ke=N,Te=C,We=J,nt=ke[Te-We],Oe=ke[Te+0],Xe=ke[Te+We],tt=Cu[112+(4+(bt=3*(Oe-nt))>>3)],bt=Cu[112+(bt+3>>3)],ot=tt+1>>1;ke[Te-2*We]=yi[255+ke[Te-2*We]+ot],ke[Te-We]=yi[255+nt+bt],ke[Te+0]=yi[255+Oe-tt],ke[Te+We]=yi[255+Xe-ot]}C+=te}}function pc(N,C,J,te,he,ye){xi(N,C,J,1,16,te,he,ye)}function pn(N,C,J,te,he,ye){xi(N,C,1,J,16,te,he,ye)}function Mi(N,C,J,te,he,ye){var je;for(je=3;0<je;--je)vi(N,C+=4*J,J,1,16,te,he,ye)}function gc(N,C,J,te,he,ye){var je;for(je=3;0<je;--je)vi(N,C+=4,1,J,16,te,he,ye)}function F(N,C,J,te,he,ye,je,_e){xi(N,C,he,1,8,ye,je,_e),xi(J,te,he,1,8,ye,je,_e)}function se(N,C,J,te,he,ye,je,_e){xi(N,C,1,he,8,ye,je,_e),xi(J,te,1,he,8,ye,je,_e)}function Pe(N,C,J,te,he,ye,je,_e){vi(N,C+4*he,he,1,8,ye,je,_e),vi(J,te+4*he,he,1,8,ye,je,_e)}function ze(N,C,J,te,he,ye,je,_e){vi(N,C+4,1,he,8,ye,je,_e),vi(J,te+4,1,he,8,ye,je,_e)}function Ze(){this.ba=new ie,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new De,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function gt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Nt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function $t(){this.ua=0,this.Wa=new Ee,this.vb=new Ee,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new L}function Ut(){this.xb=this.a=0,this.l=new Rr,this.ca=new ie,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new $t,this.ab=0,this.gc=o(4,Nt),this.Oc=0}function ir(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Rr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function sr(N,C,J,te,he,ye,je){for(N=N==null?0:N[C+0],C=0;C<je;++C)he[ye+C]=N+J[te+C]&255,N=he[ye+C]}function zt(N,C,J,te,he,ye,je){var _e;if(N==null)sr(null,null,J,te,he,ye,je);else for(_e=0;_e<je;++_e)he[ye+_e]=N[C+_e]+J[te+_e]&255}function tr(N,C,J,te,he,ye,je){if(N==null)sr(null,null,J,te,he,ye,je);else{var _e,ke=N[C+0],Te=ke,We=ke;for(_e=0;_e<je;++_e)Te=We+(ke=N[C+_e])-Te,We=J[te+_e]+(-256&Te?0>Te?0:255:Te)&255,Te=ke,he[ye+_e]=We}}function Or(N,C,J,te){var he=C.width,ye=C.o;if(t(N!=null&&C!=null),0>J||0>=te||J+te>ye)return null;if(!N.Cc){if(N.ga==null){var je;if(N.ga=new ir,(je=N.ga==null)||(je=C.width*C.o,t(N.Gb.length==0),N.Gb=s(je),N.Uc=0,N.Gb==null?je=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,je=1),je=!je),!je){je=N.ga;var _e=N.Fa,ke=N.P,Te=N.qc,We=N.mb,nt=N.nb,Oe=ke+1,Xe=Te-1,tt=je.l;if(t(_e!=null&&We!=null&&C!=null),Ja[0]=null,Ja[1]=sr,Ja[2]=zt,Ja[3]=tr,je.ca=We,je.tb=nt,je.c=C.width,je.i=C.height,t(0<je.c&&0<je.i),1>=Te)C=0;else if(je.$a=3&_e[ke+0],je.Z=_e[ke+0]>>2&3,je.Lc=_e[ke+0]>>4&3,ke=_e[ke+0]>>6&3,0>je.$a||1<je.$a||4<=je.Z||1<je.Lc||ke)C=0;else if(tt.put=et,tt.ac=ft,tt.bc=Pt,tt.ma=je,tt.width=C.width,tt.height=C.height,tt.Da=C.Da,tt.v=C.v,tt.va=C.va,tt.j=C.j,tt.o=C.o,je.$a)e:{t(je.$a==1),C=Yr();t:for(;;){if(C==null){C=0;break e}if(t(je!=null),je.mc=C,C.c=je.c,C.i=je.i,C.l=je.l,C.l.ma=je,C.l.width=je.c,C.l.height=je.i,C.a=0,U(C.m,_e,Oe,Xe),!mn(je.c,je.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&ar(C.s)?(je.ic=1,_e=C.c*C.i,C.Ta=null,C.Ua=0,C.V=s(_e),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(je.ic=0,C=Ta(C,je.c)),!C))break t;C=1;break e}je.mc=null,C=0}else C=Xe>=je.c*je.i;je=!C}if(je)return null;N.ga.Lc!=1?N.Ga=0:te=ye-J}t(N.ga!=null),t(J+te<=ye);e:{if(C=(_e=N.ga).c,ye=_e.l.o,_e.$a==0){if(Oe=N.rc,Xe=N.Vc,tt=N.Fa,ke=N.P+1+J*C,Te=N.mb,We=N.nb+J*C,t(ke<=N.P+N.qc),_e.Z!=0)for(t(Ja[_e.Z]!=null),je=0;je<te;++je)Ja[_e.Z](Oe,Xe,tt,ke,Te,We,C),Oe=Te,Xe=We,We+=C,ke+=C;else for(je=0;je<te;++je)n(Te,We,tt,ke,C),Oe=Te,Xe=We,We+=C,ke+=C;N.rc=Oe,N.Vc=Xe}else{if(t(_e.mc!=null),C=J+te,t((je=_e.mc)!=null),t(C<=je.i),je.C>=C)C=1;else if(_e.ic||_s(),_e.ic){_e=je.V,Oe=je.Ba,Xe=je.c;var bt=je.i,ot=(tt=1,ke=je.$/Xe,Te=je.$%Xe,We=je.m,nt=je.s,je.$),mt=Xe*bt,xt=Xe*C,_t=nt.wc,Ct=ot<xt?Mt(nt,Te,ke):null;t(ot<=mt),t(C<=bt),t(ar(nt));t:for(;;){for(;!We.h&&ot<xt;){if(Te&_t||(Ct=Mt(nt,Te,ke)),t(Ct!=null),ce(We),256>(bt=ut(Ct.G[0],Ct.H[0],We)))_e[Oe+ot]=bt,++ot,++Te>=Xe&&(Te=0,++ke<=C&&!(ke%16)&&Xt(je,ke));else{if(!(280>bt)){tt=0;break t}bt=jt(bt-256,We);var lr,Gt=ut(Ct.G[4],Ct.H[4],We);if(ce(We),!(ot>=(Gt=Tt(Xe,Gt=jt(Gt,We)))&&mt-ot>=bt)){tt=0;break t}for(lr=0;lr<bt;++lr)_e[Oe+ot+lr]=_e[Oe+ot+lr-Gt];for(ot+=bt,Te+=bt;Te>=Xe;)Te-=Xe,++ke<=C&&!(ke%16)&&Xt(je,ke);ot<xt&&Te&_t&&(Ct=Mt(nt,Te,ke))}t(We.h==P(We))}Xt(je,ke>C?C:ke);break t}!tt||We.h&&ot<mt?(tt=0,je.a=We.h?5:3):je.$=ot,C=tt}else C=er(je,je.V,je.Ba,je.c,je.i,C,Di);if(!C){te=0;break e}}J+te>=ye&&(N.Cc=1),te=1}if(!te)return null;if(N.Cc&&((te=N.ga)!=null&&(te.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+J*he}function Mr(N,C,J,te,he,ye){for(;0<he--;){var je,_e=N,ke=C+(J?1:0),Te=N,We=C+(J?0:3);for(je=0;je<te;++je){var nt=Te[We+4*je];nt!=255&&(nt*=32897,_e[ke+4*je+0]=_e[ke+4*je+0]*nt>>23,_e[ke+4*je+1]=_e[ke+4*je+1]*nt>>23,_e[ke+4*je+2]=_e[ke+4*je+2]*nt>>23)}C+=ye}}function fa(N,C,J,te,he){for(;0<te--;){var ye;for(ye=0;ye<J;++ye){var je=N[C+2*ye+0],_e=15&(Te=N[C+2*ye+1]),ke=4369*_e,Te=(240&Te|Te>>4)*ke>>16;N[C+2*ye+0]=(240&je|je>>4)*ke>>16&240|(15&je|je<<4)*ke>>16>>4&15,N[C+2*ye+1]=240&Te|_e}C+=he}}function Kn(N,C,J,te,he,ye,je,_e){var ke,Te,We=255;for(Te=0;Te<he;++Te){for(ke=0;ke<te;++ke){var nt=N[C+ke];ye[je+4*ke]=nt,We&=nt}C+=J,je+=_e}return We!=255}function Ra(N,C,J,te,he){var ye;for(ye=0;ye<he;++ye)J[te+ye]=N[C+ye]>>8}function _s(){Pc=Mr,km=fa,Ed=Kn,Cm=Ra}function Ri(N,C,J){$[N]=function(te,he,ye,je,_e,ke,Te,We,nt,Oe,Xe,tt,bt,ot,mt,xt,_t){var Ct,lr=_t-1>>1,Gt=_e[ke+0]|Te[We+0]<<16,Er=nt[Oe+0]|Xe[tt+0]<<16;t(te!=null);var Qt=3*Gt+Er+131074>>2;for(C(te[he+0],255&Qt,Qt>>16,bt,ot),ye!=null&&(Qt=3*Er+Gt+131074>>2,C(ye[je+0],255&Qt,Qt>>16,mt,xt)),Ct=1;Ct<=lr;++Ct){var Fr=_e[ke+Ct]|Te[We+Ct]<<16,$n=nt[Oe+Ct]|Xe[tt+Ct]<<16,Dr=Gt+Fr+Er+$n+524296,Yt=Dr+2*(Fr+Er)>>3;Qt=Yt+Gt>>1,Gt=(Dr=Dr+2*(Gt+$n)>>3)+Fr>>1,C(te[he+2*Ct-1],255&Qt,Qt>>16,bt,ot+(2*Ct-1)*J),C(te[he+2*Ct-0],255&Gt,Gt>>16,bt,ot+(2*Ct-0)*J),ye!=null&&(Qt=Dr+Er>>1,Gt=Yt+$n>>1,C(ye[je+2*Ct-1],255&Qt,Qt>>16,mt,xt+(2*Ct-1)*J),C(ye[je+2*Ct+0],255&Gt,Gt>>16,mt,xt+(2*Ct+0)*J)),Gt=Fr,Er=$n}1&_t||(Qt=3*Gt+Er+131074>>2,C(te[he+_t-1],255&Qt,Qt>>16,bt,ot+(_t-1)*J),ye!=null&&(Qt=3*Er+Gt+131074>>2,C(ye[je+_t-1],255&Qt,Qt>>16,mt,xt+(_t-1)*J)))}}function $h(){$i[Hh]=lb,$i[Ul]=ql,$i[z0]=cb,$i[Dd]=Au,$i[Ad]=Tc,$i[rn]=Md,$i[Vh]=Mm,$i[Pu]=ql,$i[Ec]=Au,$i[Td]=Tc,$i[Od]=Md}function Ll(N){return N&-16384?0>N?0:255:N>>Hl}function xc(N,C){return Ll((19077*N>>8)+(26149*C>>8)-14234)}function Il(N,C,J){return Ll((19077*N>>8)-(6419*C>>8)-(13320*J>>8)+8708)}function vc(N,C){return Ll((19077*N>>8)+(33050*C>>8)-17685)}function Ml(N,C,J,te,he){te[he+0]=xc(N,J),te[he+1]=Il(N,C,J),te[he+2]=vc(N,C)}function yc(N,C,J,te,he){te[he+0]=vc(N,C),te[he+1]=Il(N,C,J),te[he+2]=xc(N,J)}function Xa(N,C,J,te,he){var ye=Il(N,C,J);C=ye<<3&224|vc(N,C)>>3,te[he+0]=248&xc(N,J)|ye>>5,te[he+1]=C}function bc(N,C,J,te,he){var ye=240&vc(N,C)|15;te[he+0]=240&xc(N,J)|Il(N,C,J)>>4,te[he+1]=ye}function wc(N,C,J,te,he){te[he+0]=255,Ml(N,C,J,te,he+1)}function Sd(N,C,J,te,he){yc(N,C,J,te,he),te[he+3]=255}function kd(N,C,J,te,he){Ml(N,C,J,te,he),te[he+3]=255}function Rn(N,C){return 0>N?0:N>C?C:N}function Hs(N,C,J){$[N]=function(te,he,ye,je,_e,ke,Te,We,nt){for(var Oe=We+(-2&nt)*J;We!=Oe;)C(te[he+0],ye[je+0],_e[ke+0],Te,We),C(te[he+1],ye[je+0],_e[ke+0],Te,We+J),he+=2,++je,++ke,We+=2*J;1&nt&&C(te[he+0],ye[je+0],_e[ke+0],Te,We)}}function _o(N,C,J){return J==0?N==0?C==0?6:5:C==0?4:0:J}function Bh(N,C,J,te,he){switch(N>>>30){case 3:kc(C,J,te,he,0);break;case 2:zn(C,J,te,he);break;case 1:qr(C,J,te,he)}}function as(N,C){var J,te,he=C.M,ye=C.Nb,je=N.oc,_e=N.pc+40,ke=N.oc,Te=N.pc+584,We=N.oc,nt=N.pc+600;for(J=0;16>J;++J)je[_e+32*J-1]=129;for(J=0;8>J;++J)ke[Te+32*J-1]=129,We[nt+32*J-1]=129;for(0<he?je[_e-1-32]=ke[Te-1-32]=We[nt-1-32]=129:(i(je,_e-32-1,127,21),i(ke,Te-32-1,127,9),i(We,nt-32-1,127,9)),te=0;te<N.za;++te){var Oe=C.ya[C.aa+te];if(0<te){for(J=-1;16>J;++J)n(je,_e+32*J-4,je,_e+32*J+12,4);for(J=-1;8>J;++J)n(ke,Te+32*J-4,ke,Te+32*J+4,4),n(We,nt+32*J-4,We,nt+32*J+4,4)}var Xe=N.Gd,tt=N.Hd+te,bt=Oe.ad,ot=Oe.Hc;if(0<he&&(n(je,_e-32,Xe[tt].y,0,16),n(ke,Te-32,Xe[tt].f,0,8),n(We,nt-32,Xe[tt].ea,0,8)),Oe.Za){var mt=je,xt=_e-32+16;for(0<he&&(te>=N.za-1?i(mt,xt,Xe[tt].y[15],4):n(mt,xt,Xe[tt+1].y,0,4)),J=0;4>J;J++)mt[xt+128+J]=mt[xt+256+J]=mt[xt+384+J]=mt[xt+0+J];for(J=0;16>J;++J,ot<<=2)mt=je,xt=_e+Rm[J],Cs[Oe.Ob[J]](mt,xt),Bh(ot,bt,16*+J,mt,xt)}else if(mt=_o(te,he,Oe.Ob[0]),bi[mt](je,_e),ot!=0)for(J=0;16>J;++J,ot<<=2)Bh(ot,bt,16*+J,je,_e+Rm[J]);for(J=Oe.Gc,mt=_o(te,he,Oe.Dd),Fi[mt](ke,Te),Fi[mt](We,nt),ot=bt,mt=ke,xt=Te,255&(Oe=0|J)&&(170&Oe?zi(ot,256,mt,xt):Qr(ot,256,mt,xt)),Oe=We,ot=nt,255&(J>>=8)&&(170&J?zi(bt,320,Oe,ot):Qr(bt,320,Oe,ot)),he<N.Ub-1&&(n(Xe[tt].y,0,je,_e+480,16),n(Xe[tt].f,0,ke,Te+224,8),n(Xe[tt].ea,0,We,nt+224,8)),J=8*ye*N.B,Xe=N.sa,tt=N.ta+16*te+16*ye*N.R,bt=N.qa,Oe=N.ra+8*te+J,ot=N.Ha,mt=N.Ia+8*te+J,J=0;16>J;++J)n(Xe,tt+J*N.R,je,_e+32*J,16);for(J=0;8>J;++J)n(bt,Oe+J*N.B,ke,Te+32*J,8),n(ot,mt+J*N.B,We,nt+32*J,8)}}function Rl(N,C,J,te,he,ye,je,_e,ke){var Te=[0],We=[0],nt=0,Oe=ke!=null?ke.kd:0,Xe=ke??new gt;if(N==null||12>J)return 7;Xe.data=N,Xe.w=C,Xe.ha=J,C=[C],J=[J],Xe.gb=[Xe.gb];e:{var tt=C,bt=J,ot=Xe.gb;if(t(N!=null),t(bt!=null),t(ot!=null),ot[0]=0,12<=bt[0]&&!r(N,tt[0],"RIFF")){if(r(N,tt[0]+8,"WEBP")){ot=3;break e}var mt=le(N,tt[0]+4);if(12>mt||4294967286<mt){ot=3;break e}if(Oe&&mt>bt[0]-8){ot=7;break e}ot[0]=mt,tt[0]+=12,bt[0]-=12}ot=0}if(ot!=0)return ot;for(mt=0<Xe.gb[0],J=J[0];;){e:{var xt=N;bt=C,ot=J;var _t=Te,Ct=We,lr=tt=[0];if((Qt=nt=[nt])[0]=0,8>ot[0])ot=7;else{if(!r(xt,bt[0],"VP8X")){if(le(xt,bt[0]+4)!=10){ot=3;break e}if(18>ot[0]){ot=7;break e}var Gt=le(xt,bt[0]+8),Er=1+de(xt,bt[0]+12);if(2147483648<=Er*(xt=1+de(xt,bt[0]+15))){ot=3;break e}lr!=null&&(lr[0]=Gt),_t!=null&&(_t[0]=Er),Ct!=null&&(Ct[0]=xt),bt[0]+=18,ot[0]-=18,Qt[0]=1}ot=0}}if(nt=nt[0],tt=tt[0],ot!=0)return ot;if(bt=!!(2&tt),!mt&&nt)return 3;if(ye!=null&&(ye[0]=!!(16&tt)),je!=null&&(je[0]=bt),_e!=null&&(_e[0]=0),je=Te[0],tt=We[0],nt&&bt&&ke==null){ot=0;break}if(4>J){ot=7;break}if(mt&&nt||!mt&&!nt&&!r(N,C[0],"ALPH")){J=[J],Xe.na=[Xe.na],Xe.P=[Xe.P],Xe.Sa=[Xe.Sa];e:{Gt=N,ot=C,mt=J;var Qt=Xe.gb;_t=Xe.na,Ct=Xe.P,lr=Xe.Sa,Er=22,t(Gt!=null),t(mt!=null),xt=ot[0];var Fr=mt[0];for(t(_t!=null),t(lr!=null),_t[0]=null,Ct[0]=null,lr[0]=0;;){if(ot[0]=xt,mt[0]=Fr,8>Fr){ot=7;break e}var $n=le(Gt,xt+4);if(4294967286<$n){ot=3;break e}var Dr=8+$n+1&-2;if(Er+=Dr,0<Qt&&Er>Qt){ot=3;break e}if(!r(Gt,xt,"VP8 ")||!r(Gt,xt,"VP8L")){ot=0;break e}if(Fr[0]<Dr){ot=7;break e}r(Gt,xt,"ALPH")||(_t[0]=Gt,Ct[0]=xt+8,lr[0]=$n),xt+=Dr,Fr-=Dr}}if(J=J[0],Xe.na=Xe.na[0],Xe.P=Xe.P[0],Xe.Sa=Xe.Sa[0],ot!=0)break}J=[J],Xe.Ja=[Xe.Ja],Xe.xa=[Xe.xa];e:if(Qt=N,ot=C,mt=J,_t=Xe.gb[0],Ct=Xe.Ja,lr=Xe.xa,Gt=ot[0],xt=!r(Qt,Gt,"VP8 "),Er=!r(Qt,Gt,"VP8L"),t(Qt!=null),t(mt!=null),t(Ct!=null),t(lr!=null),8>mt[0])ot=7;else{if(xt||Er){if(Qt=le(Qt,Gt+4),12<=_t&&Qt>_t-12){ot=3;break e}if(Oe&&Qt>mt[0]-8){ot=7;break e}Ct[0]=Qt,ot[0]+=8,mt[0]-=8,lr[0]=Er}else lr[0]=5<=mt[0]&&Qt[Gt+0]==47&&!(Qt[Gt+4]>>5),Ct[0]=mt[0];ot=0}if(J=J[0],Xe.Ja=Xe.Ja[0],Xe.xa=Xe.xa[0],C=C[0],ot!=0)break;if(4294967286<Xe.Ja)return 3;if(_e==null||bt||(_e[0]=Xe.xa?2:1),je=[je],tt=[tt],Xe.xa){if(5>J){ot=7;break}_e=je,Oe=tt,bt=ye,N==null||5>J?N=0:5<=J&&N[C+0]==47&&!(N[C+4]>>5)?(mt=[0],Qt=[0],_t=[0],U(Ct=new G,N,C,J),kt(Ct,mt,Qt,_t)?(_e!=null&&(_e[0]=mt[0]),Oe!=null&&(Oe[0]=Qt[0]),bt!=null&&(bt[0]=_t[0]),N=1):N=0):N=0}else{if(10>J){ot=7;break}_e=tt,N==null||10>J||!Nd(N,C+3,J-3)?N=0:(Oe=N[C+0]|N[C+1]<<8|N[C+2]<<16,bt=16383&(N[C+7]<<8|N[C+6]),N=16383&(N[C+9]<<8|N[C+8]),1&Oe||3<(Oe>>1&7)||!(Oe>>4&1)||Oe>>5>=Xe.Ja||!bt||!N?N=0:(je&&(je[0]=bt),_e&&(_e[0]=N),N=1))}if(!N||(je=je[0],tt=tt[0],nt&&(Te[0]!=je||We[0]!=tt)))return 3;ke!=null&&(ke[0]=Xe,ke.offset=C-ke.w,t(4294967286>C-ke.w),t(ke.offset==ke.ha-J));break}return ot==0||ot==7&&nt&&ke==null?(ye!=null&&(ye[0]|=Xe.na!=null&&0<Xe.na.length),te!=null&&(te[0]=je),he!=null&&(he[0]=tt),0):ot}function wu(N,C,J){var te=C.width,he=C.height,ye=0,je=0,_e=te,ke=he;if(C.Da=N!=null&&0<N.Da,C.Da&&(_e=N.cd,ke=N.bd,ye=N.v,je=N.j,11>J||(ye&=-2,je&=-2),0>ye||0>je||0>=_e||0>=ke||ye+_e>te||je+ke>he))return 0;if(C.v=ye,C.j=je,C.va=ye+_e,C.o=je+ke,C.U=_e,C.T=ke,C.da=N!=null&&0<N.da,C.da){if(!qe(_e,ke,J=[N.ib],ye=[N.hb]))return 0;C.ib=J[0],C.hb=ye[0]}return C.ob=N!=null&&N.ob,C.Kb=N==null||!N.Sd,C.da&&(C.ob=C.ib<3*te/4&&C.hb<3*he/4,C.Kb=0),1}function ju(N){if(N==null)return 2;if(11>N.S){var C=N.f.RGBA;C.fb+=(N.height-1)*C.A,C.A=-C.A}else C=N.f.kb,N=N.height,C.O+=(N-1)*C.fa,C.fa=-C.fa,C.N+=(N-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(N-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(N-1)*C.lb,C.lb=-C.lb);return 0}function el(N,C,J,te){if(te==null||0>=N||0>=C)return 2;if(J!=null){if(J.Da){var he=J.cd,ye=J.bd,je=-2&J.v,_e=-2&J.j;if(0>je||0>_e||0>=he||0>=ye||je+he>N||_e+ye>C)return 2;N=he,C=ye}if(J.da){if(!qe(N,C,he=[J.ib],ye=[J.hb]))return 2;N=he[0],C=ye[0]}}te.width=N,te.height=C;e:{var ke=te.width,Te=te.height;if(N=te.S,0>=ke||0>=Te||!(N>=Hh&&13>N))N=2;else{if(0>=te.Rd&&te.sd==null){je=ye=he=C=0;var We=(_e=ke*Rd[N])*Te;if(11>N||(ye=(Te+1)/2*(C=(ke+1)/2),N==12&&(je=(he=ke)*Te)),(Te=s(We+2*ye+je))==null){N=1;break e}te.sd=Te,11>N?((ke=te.f.RGBA).eb=Te,ke.fb=0,ke.A=_e,ke.size=We):((ke=te.f.kb).y=Te,ke.O=0,ke.fa=_e,ke.Fd=We,ke.f=Te,ke.N=0+We,ke.Ab=C,ke.Cd=ye,ke.ea=Te,ke.W=0+We+ye,ke.Db=C,ke.Ed=ye,N==12&&(ke.F=Te,ke.J=0+We+2*ye),ke.Tc=je,ke.lb=he)}if(C=1,he=te.S,ye=te.width,je=te.height,he>=Hh&&13>he)if(11>he)N=te.f.RGBA,C&=(_e=Math.abs(N.A))*(je-1)+ye<=N.size,C&=_e>=ye*Rd[he],C&=N.eb!=null;else{N=te.f.kb,_e=(ye+1)/2,We=(je+1)/2,ke=Math.abs(N.fa),Te=Math.abs(N.Ab);var nt=Math.abs(N.Db),Oe=Math.abs(N.lb),Xe=Oe*(je-1)+ye;C&=ke*(je-1)+ye<=N.Fd,C&=Te*(We-1)+_e<=N.Cd,C=(C&=nt*(We-1)+_e<=N.Ed)&ke>=ye&Te>=_e&nt>=_e,C&=N.y!=null,C&=N.f!=null,C&=N.ea!=null,he==12&&(C&=Oe>=ye,C&=Xe<=N.Tc,C&=N.F!=null)}else C=0;N=C?0:2}}return N!=0||J!=null&&J.fd&&(N=ju(te)),N}var Ss=64,is=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ss=24,zl=32,So=8,tl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];me("Predictor0","PredictorAdd0"),$.Predictor0=function(){return 4278190080},$.Predictor1=function(N){return N},$.Predictor2=function(N,C,J){return C[J+0]},$.Predictor3=function(N,C,J){return C[J+1]},$.Predictor4=function(N,C,J){return C[J-1]},$.Predictor5=function(N,C,J){return Me(Me(N,C[J+1]),C[J+0])},$.Predictor6=function(N,C,J){return Me(N,C[J-1])},$.Predictor7=function(N,C,J){return Me(N,C[J+0])},$.Predictor8=function(N,C,J){return Me(C[J-1],C[J+0])},$.Predictor9=function(N,C,J){return Me(C[J+0],C[J+1])},$.Predictor10=function(N,C,J){return Me(Me(N,C[J-1]),Me(C[J+0],C[J+1]))},$.Predictor11=function(N,C,J){var te=C[J+0];return 0>=pt(te>>24&255,N>>24&255,(C=C[J-1])>>24&255)+pt(te>>16&255,N>>16&255,C>>16&255)+pt(te>>8&255,N>>8&255,C>>8&255)+pt(255&te,255&N,255&C)?te:N},$.Predictor12=function(N,C,J){var te=C[J+0];return(He((N>>24&255)+(te>>24&255)-((C=C[J-1])>>24&255))<<24|He((N>>16&255)+(te>>16&255)-(C>>16&255))<<16|He((N>>8&255)+(te>>8&255)-(C>>8&255))<<8|He((255&N)+(255&te)-(255&C)))>>>0},$.Predictor13=function(N,C,J){var te=C[J-1];return(at((N=Me(N,C[J+0]))>>24&255,te>>24&255)<<24|at(N>>16&255,te>>16&255)<<16|at(N>>8&255,te>>8&255)<<8|at(255&N,255&te))>>>0};var rl=$.PredictorAdd0;$.PredictorAdd1=ge,me("Predictor2","PredictorAdd2"),me("Predictor3","PredictorAdd3"),me("Predictor4","PredictorAdd4"),me("Predictor5","PredictorAdd5"),me("Predictor6","PredictorAdd6"),me("Predictor7","PredictorAdd7"),me("Predictor8","PredictorAdd8"),me("Predictor9","PredictorAdd9"),me("Predictor10","PredictorAdd10"),me("Predictor11","PredictorAdd11"),me("Predictor12","PredictorAdd12"),me("Predictor13","PredictorAdd13");var ko=$.PredictorAdd2;Qe("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),Qe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var Gn,jc=$.ColorIndexInverseTransform,Co=$.MapARGB,Vs=$.VP8LColorIndexInverseTransformAlpha,Nc=$.MapAlpha,_c=$.VP8LPredictorsAdd=[];_c.length=16,($.VP8LPredictors=[]).length=16,($.VP8LPredictorsAdd_C=[]).length=16,($.VP8LPredictors_C=[]).length=16;var Nu,_u,nl,Fl,$l,Sc,Bl,kc,zn,zi,qr,Qr,Fn,aa,Ws,Cd,Su,al,Uh,ku,qh,Sm,Pd,Cc,Pc,km,Ed,Cm,Pm=s(511),Em=s(2041),Dm=s(225),Am=s(767),Tm=0,Po=Em,Cu=Dm,yi=Am,ks=Pm,Hh=0,Ul=1,z0=2,Dd=3,Ad=4,rn=5,Vh=6,Pu=7,Ec=8,Td=9,Od=10,Ld=[2,3,7],Wh=[3,3,11],Dc=[280,256,256,256,40],F0=[0,1,1,1,0],ab=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ib=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$0=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Kh=8,Eu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Id=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ac=null,Om=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Lm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],B0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],U0=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],sb=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ob=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Im=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],bi=[],Cs=[],Fi=[],Eo=1,Du=2,Ja=[],$i=[];Ri("UpsampleRgbLinePair",Ml,3),Ri("UpsampleBgrLinePair",yc,3),Ri("UpsampleRgbaLinePair",kd,4),Ri("UpsampleBgraLinePair",Sd,4),Ri("UpsampleArgbLinePair",wc,4),Ri("UpsampleRgba4444LinePair",bc,2),Ri("UpsampleRgb565LinePair",Xa,2);var lb=$.UpsampleRgbLinePair,cb=$.UpsampleBgrLinePair,ql=$.UpsampleRgbaLinePair,Au=$.UpsampleBgraLinePair,Tc=$.UpsampleArgbLinePair,Md=$.UpsampleRgba4444LinePair,Mm=$.UpsampleRgb565LinePair,il=16,Ks=1<<il-1,Xr=-227,en=482,Hl=6,za=0,Bi=s(256),Oc=s(256),Tu=s(256),Ui=s(256),Gh=s(en-Xr),q0=s(en-Xr);Hs("YuvToRgbRow",Ml,3),Hs("YuvToBgrRow",yc,3),Hs("YuvToRgbaRow",kd,4),Hs("YuvToBgraRow",Sd,4),Hs("YuvToArgbRow",wc,4),Hs("YuvToRgba4444Row",bc,2),Hs("YuvToRgb565Row",Xa,2);var Rm=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Lc=[0,2,8],H0=[8,7,6,4,4,2,2,2,1,1,1,1],sl=1;this.WebPDecodeRGBA=function(N,C,J,te,he){var ye=Ul,je=new Ze,_e=new ie;je.ba=_e,_e.S=ye,_e.width=[_e.width],_e.height=[_e.height];var ke=_e.width,Te=_e.height,We=new we;if(We==null||N==null)var nt=2;else t(We!=null),nt=Rl(N,C,J,We.width,We.height,We.Pd,We.Qd,We.format,null);if(nt!=0?ke=0:(ke!=null&&(ke[0]=We.width[0]),Te!=null&&(Te[0]=We.height[0]),ke=1),ke){_e.width=_e.width[0],_e.height=_e.height[0],te!=null&&(te[0]=_e.width),he!=null&&(he[0]=_e.height);e:{if(te=new Rr,(he=new gt).data=N,he.w=C,he.ha=J,he.kd=1,C=[0],t(he!=null),((N=Rl(he.data,he.w,he.ha,null,null,null,C,null,he))==0||N==7)&&C[0]&&(N=4),(C=N)==0){if(t(je!=null),te.data=he.data,te.w=he.w+he.offset,te.ha=he.ha-he.offset,te.put=et,te.ac=ft,te.bc=Pt,te.ma=je,he.xa){if((N=Yr())==null){je=1;break e}if(function(Oe,Xe){var tt=[0],bt=[0],ot=[0];t:for(;;){if(Oe==null)return 0;if(Xe==null)return Oe.a=2,0;if(Oe.l=Xe,Oe.a=0,U(Oe.m,Xe.data,Xe.w,Xe.ha),!kt(Oe.m,tt,bt,ot)){Oe.a=3;break t}if(Oe.xb=Du,Xe.width=tt[0],Xe.height=bt[0],!mn(tt[0],bt[0],1,Oe,null))break t;return 1}return t(Oe.a!=0),0}(N,te)){if(te=(C=el(te.width,te.height,je.Oa,je.ba))==0){t:{te=N;r:for(;;){if(te==null){te=0;break t}if(t(te.s.yc!=null),t(te.s.Ya!=null),t(0<te.s.Wb),t((J=te.l)!=null),t((he=J.ma)!=null),te.xb!=0){if(te.ca=he.ba,te.tb=he.tb,t(te.ca!=null),!wu(he.Oa,J,Dd)){te.a=2;break r}if(!Ta(te,J.width)||J.da)break r;if((J.da||Re(te.ca.S))&&_s(),11>te.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),te.ca.f.kb.F!=null&&_s()),te.Pb&&0<te.s.ua&&te.s.vb.X==null&&!ne(te.s.vb,te.s.Wa.Xa)){te.a=1;break r}te.xb=0}if(!er(te,te.V,te.Ba,te.c,te.i,J.o,pr))break r;he.Dc=te.Ma,te=1;break t}t(te.a!=0),te=0}te=!te}te&&(C=N.a)}else C=N.a}else{if((N=new Ln)==null){je=1;break e}if(N.Fa=he.na,N.P=he.P,N.qc=he.Sa,Ai(N,te)){if((C=el(te.width,te.height,je.Oa,je.ba))==0){if(N.Aa=0,J=je.Oa,t((he=N)!=null),J!=null){if(0<(ke=0>(ke=J.Md)?0:100<ke?255:255*ke/100)){for(Te=We=0;4>Te;++Te)12>(nt=he.pb[Te]).lc&&(nt.ia=ke*H0[0>nt.lc?0:nt.lc]>>3),We|=nt.ia;We&&(alert("todo:VP8InitRandom"),he.ia=1)}he.Ga=J.Id,100<he.Ga?he.Ga=100:0>he.Ga&&(he.Ga=0)}(function(Oe,Xe){if(Oe==null)return 0;if(Xe==null)return un(Oe,2,"NULL VP8Io parameter in VP8Decode().");if(!Oe.cb&&!Ai(Oe,Xe))return 0;if(t(Oe.cb),Xe.ac==null||Xe.ac(Xe)){Xe.ob&&(Oe.L=0);var tt=Lc[Oe.L];if(Oe.L==2?(Oe.yb=0,Oe.zb=0):(Oe.yb=Xe.v-tt>>4,Oe.zb=Xe.j-tt>>4,0>Oe.yb&&(Oe.yb=0),0>Oe.zb&&(Oe.zb=0)),Oe.Va=Xe.o+15+tt>>4,Oe.Hb=Xe.va+15+tt>>4,Oe.Hb>Oe.za&&(Oe.Hb=Oe.za),Oe.Va>Oe.Ub&&(Oe.Va=Oe.Ub),0<Oe.L){var bt=Oe.ed;for(tt=0;4>tt;++tt){var ot;if(Oe.Qa.Cb){var mt=Oe.Qa.Lb[tt];Oe.Qa.Fb||(mt+=bt.Tb)}else mt=bt.Tb;for(ot=0;1>=ot;++ot){var xt=Oe.gd[tt][ot],_t=mt;if(bt.Pc&&(_t+=bt.vd[0],ot&&(_t+=bt.od[0])),0<(_t=0>_t?0:63<_t?63:_t)){var Ct=_t;0<bt.wb&&(Ct=4<bt.wb?Ct>>2:Ct>>1)>9-bt.wb&&(Ct=9-bt.wb),1>Ct&&(Ct=1),xt.dd=Ct,xt.tc=2*_t+Ct,xt.ld=40<=_t?2:15<=_t?1:0}else xt.tc=0;xt.La=ot}}}tt=0}else un(Oe,6,"Frame setup failed"),tt=Oe.a;if(tt=tt==0){if(tt){Oe.$c=0,0<Oe.Aa||(Oe.Ic=sl);t:{tt=Oe.Ic,bt=4*(Ct=Oe.za);var lr=32*Ct,Gt=Ct+1,Er=0<Oe.L?Ct*(0<Oe.Aa?2:1):0,Qt=(Oe.Aa==2?2:1)*Ct;if((xt=bt+832+(ot=3*(16*tt+Lc[Oe.L])/2*lr)+(mt=Oe.Fa!=null&&0<Oe.Fa.length?Oe.Kc.c*Oe.Kc.i:0))!=xt)tt=0;else{if(xt>Oe.Vb){if(Oe.Vb=0,Oe.Ec=s(xt),Oe.Fc=0,Oe.Ec==null){tt=un(Oe,1,"no memory during frame initialization.");break t}Oe.Vb=xt}xt=Oe.Ec,_t=Oe.Fc,Oe.Ac=xt,Oe.Bc=_t,_t+=bt,Oe.Gd=o(lr,Ya),Oe.Hd=0,Oe.rb=o(Gt+1,es),Oe.sb=1,Oe.wa=Er?o(Er,Wn):null,Oe.Y=0,Oe.D.Nb=0,Oe.D.wa=Oe.wa,Oe.D.Y=Oe.Y,0<Oe.Aa&&(Oe.D.Y+=Ct),t(!0),Oe.oc=xt,Oe.pc=_t,_t+=832,Oe.ya=o(Qt,$s),Oe.aa=0,Oe.D.ya=Oe.ya,Oe.D.aa=Oe.aa,Oe.Aa==2&&(Oe.D.aa+=Ct),Oe.R=16*Ct,Oe.B=8*Ct,Ct=(lr=Lc[Oe.L])*Oe.R,lr=lr/2*Oe.B,Oe.sa=xt,Oe.ta=_t+Ct,Oe.qa=Oe.sa,Oe.ra=Oe.ta+16*tt*Oe.R+lr,Oe.Ha=Oe.qa,Oe.Ia=Oe.ra+8*tt*Oe.B+lr,Oe.$c=0,_t+=ot,Oe.mb=mt?xt:null,Oe.nb=mt?_t:null,t(_t+mt<=Oe.Fc+Oe.Vb),Ti(Oe),i(Oe.Ac,Oe.Bc,0,bt),tt=1}}if(tt){if(Xe.ka=0,Xe.y=Oe.sa,Xe.O=Oe.ta,Xe.f=Oe.qa,Xe.N=Oe.ra,Xe.ea=Oe.Ha,Xe.Vd=Oe.Ia,Xe.fa=Oe.R,Xe.Rc=Oe.B,Xe.F=null,Xe.J=0,!Tm){for(tt=-255;255>=tt;++tt)Pm[255+tt]=0>tt?-tt:tt;for(tt=-1020;1020>=tt;++tt)Em[1020+tt]=-128>tt?-128:127<tt?127:tt;for(tt=-112;112>=tt;++tt)Dm[112+tt]=-16>tt?-16:15<tt?15:tt;for(tt=-255;510>=tt;++tt)Am[255+tt]=0>tt?0:255<tt?255:tt;Tm=1}Bl=Lr,kc=Dl,zi=hi,qr=fi,Qr=Bs,zn=fc,Fn=pc,aa=pn,Ws=F,Cd=se,Su=Mi,al=gc,Uh=Pe,ku=ze,qh=Ii,Sm=Ns,Pd=Qo,Cc=bu,Cs[0]=_d,Cs[1]=Oi,Cs[2]=Xo,Cs[3]=ws,Cs[4]=yu,Cs[5]=gi,Cs[6]=pi,Cs[7]=mc,Cs[8]=wo,Cs[9]=Jo,bi[0]=La,bi[1]=bs,bi[2]=Us,bi[3]=mi,bi[4]=ts,bi[5]=Mn,bi[6]=Ia,Fi[0]=rs,Fi[1]=bo,Fi[2]=Al,Fi[3]=Ma,Fi[4]=Tl,Fi[5]=jo,Fi[6]=Ol,tt=1}else tt=0}tt&&(tt=function(Fr,$n){for(Fr.M=0;Fr.M<Fr.Va;++Fr.M){var Dr,Yt=Fr.Jc[Fr.M&Fr.Xb],Bt=Fr.m,Yn=Fr;for(Dr=0;Dr<Yn.za;++Dr){var wr=Bt,zr=Yn,dn=zr.Ac,Sa=zr.Bc+4*Dr,ia=zr.zc,Cn=zr.ya[zr.aa+Dr];if(zr.Qa.Bb?Cn.$b=ue(wr,zr.Pa.jb[0])?2+ue(wr,zr.Pa.jb[2]):ue(wr,zr.Pa.jb[1]):Cn.$b=0,zr.kc&&(Cn.Ad=ue(wr,zr.Bd)),Cn.Za=!ue(wr,145)+0,Cn.Za){var ma=Cn.Ob,ka=0;for(zr=0;4>zr;++zr){var yn,Br=ia[0+zr];for(yn=0;4>yn;++yn){Br=sb[dn[Sa+yn]][Br];for(var Hr=B0[ue(wr,Br[0])];0<Hr;)Hr=B0[2*Hr+ue(wr,Br[Hr])];Br=-Hr,dn[Sa+yn]=Br}n(ma,ka,dn,Sa,4),ka+=4,ia[0+zr]=Br}}else Br=ue(wr,156)?ue(wr,128)?1:3:ue(wr,163)?2:0,Cn.Ob[0]=Br,i(dn,Sa,Br,4),i(ia,0,Br,4);Cn.Dd=ue(wr,142)?ue(wr,114)?ue(wr,183)?1:3:2:0}if(Yn.m.Ka)return un(Fr,7,"Premature end-of-partition0 encountered.");for(;Fr.ja<Fr.za;++Fr.ja){if(Yn=Yt,wr=(Bt=Fr).rb[Bt.sb-1],dn=Bt.rb[Bt.sb+Bt.ja],Dr=Bt.ya[Bt.aa+Bt.ja],Sa=Bt.kc?Dr.Ad:0)wr.la=dn.la=0,Dr.Za||(wr.Na=dn.Na=0),Dr.Hc=0,Dr.Gc=0,Dr.ia=0;else{var bn,Vr;if(wr=dn,dn=Yn,Sa=Bt.Pa.Xc,ia=Bt.ya[Bt.aa+Bt.ja],Cn=Bt.pb[ia.$b],zr=ia.ad,ma=0,ka=Bt.rb[Bt.sb-1],Br=yn=0,i(zr,ma,0,384),ia.Za)var Bn=0,Un=Sa[3];else{Hr=s(16);var nn=wr.Na+ka.Na;if(nn=Ac(dn,Sa[1],nn,Cn.Eb,0,Hr,0),wr.Na=ka.Na=(0<nn)+0,1<nn)Bl(Hr,0,zr,ma);else{var Za=Hr[0]+3>>3;for(Hr=0;256>Hr;Hr+=16)zr[ma+Hr]=Za}Bn=1,Un=Sa[0]}var tn=15&wr.la,an=15&ka.la;for(Hr=0;4>Hr;++Hr){var sa=1&an;for(Za=Vr=0;4>Za;++Za)tn=tn>>1|(sa=(nn=Ac(dn,Un,nn=sa+(1&tn),Cn.Sc,Bn,zr,ma))>Bn)<<7,Vr=Vr<<2|(3<nn?3:1<nn?2:zr[ma+0]!=0),ma+=16;tn>>=4,an=an>>1|sa<<7,yn=(yn<<8|Vr)>>>0}for(Un=tn,Bn=an>>4,bn=0;4>bn;bn+=2){for(Vr=0,tn=wr.la>>4+bn,an=ka.la>>4+bn,Hr=0;2>Hr;++Hr){for(sa=1&an,Za=0;2>Za;++Za)nn=sa+(1&tn),tn=tn>>1|(sa=0<(nn=Ac(dn,Sa[2],nn,Cn.Qc,0,zr,ma)))<<3,Vr=Vr<<2|(3<nn?3:1<nn?2:zr[ma+0]!=0),ma+=16;tn>>=2,an=an>>1|sa<<5}Br|=Vr<<4*bn,Un|=tn<<4<<bn,Bn|=(240&an)<<bn}wr.la=Un,ka.la=Bn,ia.Hc=yn,ia.Gc=Br,ia.ia=43690&Br?0:Cn.ia,Sa=!(yn|Br)}if(0<Bt.L&&(Bt.wa[Bt.Y+Bt.ja]=Bt.gd[Dr.$b][Dr.Za],Bt.wa[Bt.Y+Bt.ja].La|=!Sa),Yn.Ka)return un(Fr,7,"Premature end-of-file encountered.")}if(Ti(Fr),Bt=$n,Yn=1,Dr=(Yt=Fr).D,wr=0<Yt.L&&Yt.M>=Yt.zb&&Yt.M<=Yt.Va,Yt.Aa==0)t:{if(Dr.M=Yt.M,Dr.uc=wr,as(Yt,Dr),Yn=1,Dr=(Vr=Yt.D).Nb,wr=(Br=Lc[Yt.L])*Yt.R,dn=Br/2*Yt.B,Hr=16*Dr*Yt.R,Za=8*Dr*Yt.B,Sa=Yt.sa,ia=Yt.ta-wr+Hr,Cn=Yt.qa,zr=Yt.ra-dn+Za,ma=Yt.Ha,ka=Yt.Ia-dn+Za,an=(tn=Vr.M)==0,yn=tn>=Yt.Va-1,Yt.Aa==2&&as(Yt,Vr),Vr.uc)for(sa=(nn=Yt).D.M,t(nn.D.uc),Vr=nn.yb;Vr<nn.Hb;++Vr){Bn=Vr,Un=sa;var Fa=(qi=(Zn=nn).D).Nb;bn=Zn.R;var qi=qi.wa[qi.Y+Bn],Xn=Zn.sa,Jn=Zn.ta+16*Fa*bn+16*Bn,Qa=qi.dd,sn=qi.tc;if(sn!=0)if(t(3<=sn),Zn.L==1)0<Bn&&Sm(Xn,Jn,bn,sn+4),qi.La&&Cc(Xn,Jn,bn,sn),0<Un&&qh(Xn,Jn,bn,sn+4),qi.La&&Pd(Xn,Jn,bn,sn);else{var ei=Zn.B,Ps=Zn.qa,Gs=Zn.ra+8*Fa*ei+8*Bn,Ca=Zn.Ha,Zn=Zn.Ia+8*Fa*ei+8*Bn;Fa=qi.ld,0<Bn&&(aa(Xn,Jn,bn,sn+4,Qa,Fa),Cd(Ps,Gs,Ca,Zn,ei,sn+4,Qa,Fa)),qi.La&&(al(Xn,Jn,bn,sn,Qa,Fa),ku(Ps,Gs,Ca,Zn,ei,sn,Qa,Fa)),0<Un&&(Fn(Xn,Jn,bn,sn+4,Qa,Fa),Ws(Ps,Gs,Ca,Zn,ei,sn+4,Qa,Fa)),qi.La&&(Su(Xn,Jn,bn,sn,Qa,Fa),Uh(Ps,Gs,Ca,Zn,ei,sn,Qa,Fa))}}if(Yt.ia&&alert("todo:DitherRow"),Bt.put!=null){if(Vr=16*tn,tn=16*(tn+1),an?(Bt.y=Yt.sa,Bt.O=Yt.ta+Hr,Bt.f=Yt.qa,Bt.N=Yt.ra+Za,Bt.ea=Yt.Ha,Bt.W=Yt.Ia+Za):(Vr-=Br,Bt.y=Sa,Bt.O=ia,Bt.f=Cn,Bt.N=zr,Bt.ea=ma,Bt.W=ka),yn||(tn-=Br),tn>Bt.o&&(tn=Bt.o),Bt.F=null,Bt.J=null,Yt.Fa!=null&&0<Yt.Fa.length&&Vr<tn&&(Bt.J=Or(Yt,Bt,Vr,tn-Vr),Bt.F=Yt.mb,Bt.F==null&&Bt.F.length==0)){Yn=un(Yt,3,"Could not decode alpha data.");break t}Vr<Bt.j&&(Br=Bt.j-Vr,Vr=Bt.j,t(!(1&Br)),Bt.O+=Yt.R*Br,Bt.N+=Yt.B*(Br>>1),Bt.W+=Yt.B*(Br>>1),Bt.F!=null&&(Bt.J+=Bt.width*Br)),Vr<tn&&(Bt.O+=Bt.v,Bt.N+=Bt.v>>1,Bt.W+=Bt.v>>1,Bt.F!=null&&(Bt.J+=Bt.v),Bt.ka=Vr-Bt.j,Bt.U=Bt.va-Bt.v,Bt.T=tn-Vr,Yn=Bt.put(Bt))}Dr+1!=Yt.Ic||yn||(n(Yt.sa,Yt.ta-wr,Sa,ia+16*Yt.R,wr),n(Yt.qa,Yt.ra-dn,Cn,zr+8*Yt.B,dn),n(Yt.Ha,Yt.Ia-dn,ma,ka+8*Yt.B,dn))}if(!Yn)return un(Fr,6,"Output aborted.")}return 1}(Oe,Xe)),Xe.bc!=null&&Xe.bc(Xe),tt&=1}return tt?(Oe.cb=0,tt):0})(N,te)||(C=N.a)}}else C=N.a}C==0&&je.Oa!=null&&je.Oa.fd&&(C=ju(je.ba))}je=C}ye=je!=0?null:11>ye?_e.f.RGBA.eb:_e.f.kb.y}else ye=null;return ye};var Rd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u($,T){for(var A="",R=0;R<4;R++)A+=String.fromCharCode($[T++]);return A}function h($,T){return $[T+0]|$[T+1]<<8}function m($,T){return($[T+0]|$[T+1]<<8|$[T+2]<<16)>>>0}function x($,T){return($[T+0]|$[T+1]<<8|$[T+2]<<16|$[T+3]<<24)>>>0}new c;var p=[0],v=[0],y=[],g=new c,j=e,k=function($,T){var A={},R=0,L=!1,q=0,W=0;if(A.frames=[],!function(D,G){for(var Z=0;Z<4;Z++)if(D[G+Z]!="RIFF".charCodeAt(Z))return!0;return!1}($,T)){for(x($,T+=4),T+=8;T<$.length;){var ee=u($,T),M=x($,T+=4);T+=4;var V=M+(1&M);switch(ee){case"VP8 ":case"VP8L":A.frames[R]===void 0&&(A.frames[R]={}),(H=A.frames[R]).src_off=L?W:T-8,H.src_size=q+M+8,R++,L&&(L=!1,q=0,W=0);break;case"VP8X":(H=A.header={}).feature_flags=$[T];var U=T+4;H.canvas_width=1+m($,U),U+=3,H.canvas_height=1+m($,U),U+=3;break;case"ALPH":L=!0,q=V+8,W=T-8;break;case"ANIM":(H=A.header).bgcolor=x($,T),U=T+4,H.loop_count=h($,U),U+=2;break;case"ANMF":var I,H;(H=A.frames[R]={}).offset_x=2*m($,T),T+=3,H.offset_y=2*m($,T),T+=3,H.width=1+m($,T),T+=3,H.height=1+m($,T),T+=3,H.duration=m($,T),T+=3,I=$[T++],H.dispose=1&I,H.blend=I>>1&1}ee!="ANMF"&&(T+=V)}return A}}(j,0);k.response=j,k.rgbaoutput=!0,k.dataurl=!1;var w=k.header?k.header:null,E=k.frames?k.frames:null;if(w){w.loop_counter=w.loop_count,p=[w.canvas_height],v=[w.canvas_width];for(var O=0;O<E.length&&E[O].blend!=0;O++);}var z=E[0],Y=g.WebPDecodeRGBA(j,z.src_off,z.src_size,v,p);z.rgba=Y,z.imgwidth=v[0],z.imgheight=p[0];for(var B=0;B<v[0]*p[0]*4;B++)y[B]=Y[B];return this.width=v,this.height=p,this.data=y,this}(function(e){var t,r,n,i,s,o,l,c,u,h=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new c,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new o,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new o,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new h}]);var m=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=D;Object.defineProperty(this,"pdf",{get:function(){return G}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(le){Z=!!le}});var P=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return P},set:function(le){P=!!le}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(le){isNaN(le)||(re=le)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(le){isNaN(le)||(ce=le)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(le){var ne;typeof le=="number"?ne=[le,le,le,le]:((ne=new Array(4))[0]=le[0],ne[1]=le.length>=2?le[1]:ne[0],ne[2]=le.length>=3?le[2]:ne[0],ne[3]=le.length>=4?le[3]:ne[1]),u.margin=ne}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(le){be=le}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(le){ae=le}});var ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ue},set:function(le){ue=le}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(le){le instanceof h&&(u=le)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(le){u.path=le}});var fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return fe},set:function(le){fe=le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(le){var ne;ne=x(le),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(le){var ne=x(le);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(le){["butt","round","square"].indexOf(le)!==-1&&(this.ctx.lineCap=le,this.pdf.setLineCap(le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(le){isNaN(le)||(this.ctx.lineWidth=le,this.pdf.setLineWidth(le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(le){["bevel","round","miter"].indexOf(le)!==-1&&(this.ctx.lineJoin=le,this.pdf.setLineJoin(le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(le){isNaN(le)||(this.ctx.miterLimit=le,this.pdf.setMiterLimit(le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(le){this.ctx.textBaseline=le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(le){["right","end","center","left","start"].indexOf(le)!==-1&&(this.ctx.textAlign=le)}});var pe=null,de=null;Object.defineProperty(this,"fontFaces",{get:function(){return de},set:function(le){pe=null,de=le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(le){var ne;if(this.ctx.font=le,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(le))!==null){var Se=ne[1];ne[2];var Ee=ne[3],qe=ne[4];ne[5];var ve=ne[6],Ae=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(qe)[2];qe=Math.floor(Ae==="px"?parseFloat(qe)*this.pdf.internal.scaleFactor:Ae==="em"?parseFloat(qe)*this.pdf.getFontSize():parseFloat(qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(qe);var me=function(Ge){var Qe,St,oe=[],ht=Ge.trim();if(ht==="")return S2;if(ht in gD)return[gD[ht]];for(;ht!=="";){switch(St=null,Qe=(ht=vD(ht)).charAt(0)){case'"':case"'":St=r0e(ht.substring(1),Qe);break;default:St=n0e(ht)}if(St===null||(oe.push(St[0]),(ht=vD(St[1]))!==""&&ht.charAt(0)!==","))return S2;ht=ht.replace(/^,/,"")}return oe}(ve);if(this.fontFaces){var Ce=function(Ge,Qe){if(pe===null){var St=function(oe){var ht=[];return Object.keys(oe).forEach(function(wt){oe[wt].forEach(function(rt){var Ne=null;switch(rt){case"bold":Ne={family:wt,weight:"bold"};break;case"italic":Ne={family:wt,style:"italic"};break;case"bolditalic":Ne={family:wt,weight:"bold",style:"italic"};break;case"":case"normal":Ne={family:wt}}Ne!==null&&(Ne.ref={name:wt,style:rt},ht.push(Ne))})}),ht}(Ge.getFontList());pe=function(oe){for(var ht={},wt=0;wt<oe.length;++wt){var rt=_2(oe[wt]),Ne=rt.family,Ue=rt.stretch,Re=rt.style,Ve=rt.weight;ht[Ne]=ht[Ne]||{},ht[Ne][Ue]=ht[Ne][Ue]||{},ht[Ne][Ue][Re]=ht[Ne][Ue][Re]||{},ht[Ne][Ue][Re][Ve]=rt}return ht}(St.concat(Qe))}return pe}(this.pdf,this.fontFaces),Me=me.map(function(Ge){return{family:Ge,stretch:"normal",weight:Ee,style:Se}}),He=function(Ge,Qe,St){for(var oe=(St=St||{}).defaultFontFamily||"times",ht=Object.assign({},t0e,St.genericFontFamilies||{}),wt=null,rt=null,Ne=0;Ne<Qe.length;++Ne)if(ht[(wt=_2(Qe[Ne])).family]&&(wt.family=ht[wt.family]),Ge.hasOwnProperty(wt.family)){rt=Ge[wt.family];break}if(!(rt=rt||Ge[oe]))throw new Error("Could not find a font-family for the rule '"+xD(wt)+"' and default family '"+oe+"'.");if(rt=function(Ue,Re){if(Re[Ue])return Re[Ue];var Ve=wj[Ue],it=Ve<=wj.normal?-1:1,ie=pD(Re,Q7,Ve,it);if(!ie)throw new Error("Could not find a matching font-stretch value for "+Ue);return ie}(wt.stretch,rt),rt=function(Ue,Re){if(Re[Ue])return Re[Ue];for(var Ve=Z7[Ue],it=0;it<Ve.length;++it)if(Re[Ve[it]])return Re[Ve[it]];throw new Error("Could not find a matching font-style for "+Ue)}(wt.style,rt),!(rt=function(Ue,Re){if(Re[Ue])return Re[Ue];if(Ue===400&&Re[500])return Re[500];if(Ue===500&&Re[400])return Re[400];var Ve=e0e[Ue],it=pD(Re,e9,Ve,Ue<400?-1:1);if(!it)throw new Error("Could not find a matching font-weight for value "+Ue);return it}(wt.weight,rt)))throw new Error("Failed to resolve a font for the rule '"+xD(wt)+"'.");return rt}(Ce,Me);this.pdf.setFont(He.ref.name,He.ref.style)}else{var at="";(Ee==="bold"||parseInt(Ee,10)>=700||Se==="bold")&&(at="bold"),Se==="italic"&&(at+="italic"),at.length===0&&(at="normal");for(var pt="",ge={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Le=0;Le<me.length;Le++){if(this.pdf.internal.getFont(me[Le],at,{noFallback:!0,disableWarning:!0})!==void 0){pt=me[Le];break}if(at==="bolditalic"&&this.pdf.internal.getFont(me[Le],"bold",{noFallback:!0,disableWarning:!0})!==void 0)pt=me[Le],at="bold";else if(this.pdf.internal.getFont(me[Le],"normal",{noFallback:!0,disableWarning:!0})!==void 0){pt=me[Le],at="normal";break}}if(pt===""){for(var Be=0;Be<me.length;Be++)if(ge[me[Be]]){pt=ge[me[Be]];break}}pt=pt===""?"Times":pt,this.pdf.setFont(pt,at)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(le){this.ctx.globalCompositeOperation=le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(le){this.ctx.globalAlpha=le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(le){this.ctx.lineDashOffset=le,H.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(le){this.ctx.lineDash=le,H.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(le){this.ctx.ignoreClearRect=!!le}})};m.prototype.setLineDash=function(D){this.lineDash=D},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){E.call(this,"fill",!1)},m.prototype.stroke=function(){E.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(D,G){if(isNaN(D)||isNaN(G))throw xn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new o(D,G));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(D,G)},m.prototype.closePath=function(){var D=new o(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&cn(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){D=new o(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(D.x,D.y)},m.prototype.lineTo=function(D,G){if(isNaN(D)||isNaN(G))throw xn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new o(D,G));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},m.prototype.quadraticCurveTo=function(D,G,Z,P){if(isNaN(Z)||isNaN(P)||isNaN(D)||isNaN(G))throw xn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new o(Z,P)),ce=this.ctx.transform.applyToPoint(new o(D,G));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},m.prototype.bezierCurveTo=function(D,G,Z,P,re,ce){if(isNaN(re)||isNaN(ce)||isNaN(D)||isNaN(G)||isNaN(Z)||isNaN(P))throw xn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new o(re,ce)),ae=this.ctx.transform.applyToPoint(new o(D,G)),ue=this.ctx.transform.applyToPoint(new o(Z,P));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:ue.x,y2:ue.y,x:be.x,y:be.y}),this.ctx.lastPoint=new o(be.x,be.y)},m.prototype.arc=function(D,G,Z,P,re,ce){if(isNaN(D)||isNaN(G)||isNaN(Z)||isNaN(P)||isNaN(re))throw xn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new o(D,G));D=be.x,G=be.y;var ae=this.ctx.transform.applyToPoint(new o(0,Z)),ue=this.ctx.transform.applyToPoint(new o(0,0));Z=Math.sqrt(Math.pow(ae.x-ue.x,2)+Math.pow(ae.y-ue.y,2))}Math.abs(re-P)>=2*Math.PI&&(P=0,re=2*Math.PI),this.path.push({type:"arc",x:D,y:G,radius:Z,startAngle:P,endAngle:re,counterclockwise:ce})},m.prototype.arcTo=function(D,G,Z,P,re){throw new Error("arcTo not implemented.")},m.prototype.rect=function(D,G,Z,P){if(isNaN(D)||isNaN(G)||isNaN(Z)||isNaN(P))throw xn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,G),this.lineTo(D+Z,G),this.lineTo(D+Z,G+P),this.lineTo(D,G+P),this.lineTo(D,G),this.lineTo(D+Z,G),this.lineTo(D,G)},m.prototype.fillRect=function(D,G,Z,P){if(isNaN(D)||isNaN(G)||isNaN(Z)||isNaN(P))throw xn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,G,Z,P),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},m.prototype.strokeRect=function(D,G,Z,P){if(isNaN(D)||isNaN(G)||isNaN(Z)||isNaN(P))throw xn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(D,G,Z,P),this.stroke())},m.prototype.clearRect=function(D,G,Z,P){if(isNaN(D)||isNaN(G)||isNaN(Z)||isNaN(P))throw xn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,G,Z,P))},m.prototype.save=function(D){D=typeof D!="boolean"||D;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var P=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=P}},m.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(G),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(D){var G,Z,P,re;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))G=0,Z=0,P=0,re=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(ce!==null)G=parseInt(ce[1]),Z=parseInt(ce[2]),P=parseInt(ce[3]),re=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)G=parseInt(ce[1]),Z=parseInt(ce[2]),P=parseInt(ce[3]),re=parseFloat(ce[4]);else{if(re=1,typeof D=="string"&&D.charAt(0)!=="#"){var be=new V7(D);D=be.ok?be.toHex():"#000000"}D.length===4?(G=D.substring(1,2),G+=G,Z=D.substring(2,3),Z+=Z,P=D.substring(3,4),P+=P):(G=D.substring(1,3),Z=D.substring(3,5),P=D.substring(5,7)),G=parseInt(G,16),Z=parseInt(Z,16),P=parseInt(P,16)}}return{r:G,g:Z,b:P,a:re,style:D}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(D,G,Z,P){if(isNaN(G)||isNaN(Z)||typeof D!="string")throw xn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(P=isNaN(P)?void 0:P,!p.call(this)){var re=V(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;R.call(this,{text:D,x:G,y:Z,scale:ce,angle:re,align:this.textAlign,maxWidth:P})}},m.prototype.strokeText=function(D,G,Z,P){if(isNaN(G)||isNaN(Z)||typeof D!="string")throw xn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){P=isNaN(P)?void 0:P;var re=V(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;R.call(this,{text:D,x:G,y:Z,scale:ce,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:P})}},m.prototype.measureText=function(D){if(typeof D!="string")throw xn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,Z=this.pdf.internal.scaleFactor,P=G.internal.getFontSize(),re=G.getStringUnitWidth(D)*P/G.internal.scaleFactor;return new function(ce){var be=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this}({width:re*=Math.round(96*Z/72*1e4)/1e4})},m.prototype.scale=function(D,G){if(isNaN(D)||isNaN(G))throw xn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new c(D,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},m.prototype.rotate=function(D){if(isNaN(D))throw xn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new c(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},m.prototype.translate=function(D,G){if(isNaN(D)||isNaN(G))throw xn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new c(1,0,0,1,D,G);this.ctx.transform=this.ctx.transform.multiply(Z)},m.prototype.transform=function(D,G,Z,P,re,ce){if(isNaN(D)||isNaN(G)||isNaN(Z)||isNaN(P)||isNaN(re)||isNaN(ce))throw xn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new c(D,G,Z,P,re,ce);this.ctx.transform=this.ctx.transform.multiply(be)},m.prototype.setTransform=function(D,G,Z,P,re,ce){D=isNaN(D)?1:D,G=isNaN(G)?0:G,Z=isNaN(Z)?0:Z,P=isNaN(P)?1:P,re=isNaN(re)?0:re,ce=isNaN(ce)?0:ce,this.ctx.transform=new c(D,G,Z,P,re,ce)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(D,G,Z,P,re,ce,be,ae,ue){var fe=this.pdf.getImageProperties(D),pe=1,de=1,le=1,ne=1;P!==void 0&&ae!==void 0&&(le=ae/P,ne=ue/re,pe=fe.width/P*ae/P,de=fe.height/re*ue/re),ce===void 0&&(ce=G,be=Z,G=0,Z=0),P!==void 0&&ae===void 0&&(ae=P,ue=re),P===void 0&&ae===void 0&&(ae=fe.width,ue=fe.height);for(var Se,Ee=this.ctx.transform.decompose(),qe=V(Ee.rotate.shx),ve=new c,Ae=(ve=(ve=(ve=ve.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale)).applyToRectangle(new l(ce-G*le,be-Z*ne,P*pe,re*de)),me=g.call(this,Ae),Ce=[],Me=0;Me<me.length;Me+=1)Ce.indexOf(me[Me])===-1&&Ce.push(me[Me]);if(w(Ce),this.autoPaging)for(var He=Ce[0],at=Ce[Ce.length-1],pt=He;pt<at+1;pt++){this.pdf.setPage(pt);var ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Le=pt===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qe=pt===1?0:Be+(pt-2)*Ge;if(this.ctx.clip_path.length!==0){var St=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(Se,this.posX+this.margin[3],-Qe+Le+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=St}var oe=JSON.parse(JSON.stringify(Ae));oe=k([oe],this.posX+this.margin[3],-Qe+Le+this.ctx.prevPageLastElemOffset)[0];var ht=(pt>He||pt<at)&&y.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ge,Ge,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",oe.x,oe.y,oe.w,oe.h,null,null,qe),ht&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",Ae.x,Ae.y,Ae.w,Ae.h,null,null,qe)};var g=function(D,G,Z){var P=[];G=G||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":P.push(Math.floor((D.y+re)/Z)+1);break;case"arc":P.push(Math.floor((D.y+re-D.radius)/Z)+1),P.push(Math.floor((D.y+re+D.radius)/Z)+1);break;case"qct":var ce=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);P.push(Math.floor((ce.y+re)/Z)+1),P.push(Math.floor((ce.y+ce.h+re)/Z)+1);break;case"bct":var be=I(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);P.push(Math.floor((be.y+re)/Z)+1),P.push(Math.floor((be.y+be.h+re)/Z)+1);break;case"rect":P.push(Math.floor((D.y+re)/Z)+1),P.push(Math.floor((D.y+D.h+re)/Z)+1)}for(var ae=0;ae<P.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<P[ae];)j.call(this);return P},j=function(){var D=this.fillStyle,G=this.strokeStyle,Z=this.font,P=this.lineCap,re=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=G,this.font=Z,this.lineCap=P,this.lineWidth=re,this.lineJoin=ce},k=function(D,G,Z){for(var P=0;P<D.length;P++)switch(D[P].type){case"bct":D[P].x2+=G,D[P].y2+=Z;case"qct":D[P].x1+=G,D[P].y1+=Z;default:D[P].x+=G,D[P].y+=Z}return D},w=function(D){return D.sort(function(G,Z){return G-Z})},E=function(D,G){for(var Z,P,re=this.fillStyle,ce=this.strokeStyle,be=this.lineCap,ae=this.lineWidth,ue=Math.abs(ae*this.ctx.transform.scaleX),fe=this.lineJoin,pe=JSON.parse(JSON.stringify(this.path)),de=JSON.parse(JSON.stringify(this.path)),le=[],ne=0;ne<de.length;ne++)if(de[ne].x!==void 0)for(var Se=g.call(this,de[ne]),Ee=0;Ee<Se.length;Ee+=1)le.indexOf(Se[Ee])===-1&&le.push(Se[Ee]);for(var qe=0;qe<le.length;qe++)for(;this.pdf.internal.getNumberOfPages()<le[qe];)j.call(this);if(w(le),this.autoPaging)for(var ve=le[0],Ae=le[le.length-1],me=ve;me<Ae+1;me++){this.pdf.setPage(me),this.fillStyle=re,this.strokeStyle=ce,this.lineCap=be,this.lineWidth=ue,this.lineJoin=fe;var Ce=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Me=me===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pt=me===1?0:He+(me-2)*at;if(this.ctx.clip_path.length!==0){var ge=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(Z,this.posX+this.margin[3],-pt+Me+this.ctx.prevPageLastElemOffset),O.call(this,D,!0),this.path=ge}if(P=JSON.parse(JSON.stringify(pe)),this.path=k(P,this.posX+this.margin[3],-pt+Me+this.ctx.prevPageLastElemOffset),G===!1||me===0){var Le=(me>ve||me<Ae)&&y.call(this);Le&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ce,at,null).clip().discardPath()),O.call(this,D,G),Le&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}else this.lineWidth=ue,O.call(this,D,G),this.lineWidth=ae;this.path=pe},O=function(D,G){if((D!=="stroke"||G||!v.call(this))&&(D==="stroke"||G||!p.call(this))){for(var Z,P,re=[],ce=this.path,be=0;be<ce.length;be++){var ae=ce[be];switch(ae.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:ae,deltas:[],abs:[]});break;case"lt":var ue=re.length;if(ce[be-1]&&!isNaN(ce[be-1].x)&&(Z=[ae.x-ce[be-1].x,ae.y-ce[be-1].y],ue>0)){for(;ue>=0;ue--)if(re[ue-1].close!==!0&&re[ue-1].begin!==!0){re[ue-1].deltas.push(Z),re[ue-1].abs.push(ae);break}}break;case"bct":Z=[ae.x1-ce[be-1].x,ae.y1-ce[be-1].y,ae.x2-ce[be-1].x,ae.y2-ce[be-1].y,ae.x-ce[be-1].x,ae.y-ce[be-1].y],re[re.length-1].deltas.push(Z);break;case"qct":var fe=ce[be-1].x+2/3*(ae.x1-ce[be-1].x),pe=ce[be-1].y+2/3*(ae.y1-ce[be-1].y),de=ae.x+2/3*(ae.x1-ae.x),le=ae.y+2/3*(ae.y1-ae.y),ne=ae.x,Se=ae.y;Z=[fe-ce[be-1].x,pe-ce[be-1].y,de-ce[be-1].x,le-ce[be-1].y,ne-ce[be-1].x,Se-ce[be-1].y],re[re.length-1].deltas.push(Z);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(ae)}}P=G?null:D==="stroke"?"stroke":"fill";for(var Ee=!1,qe=0;qe<re.length;qe++)if(re[qe].arc)for(var ve=re[qe].abs,Ae=0;Ae<ve.length;Ae++){var me=ve[Ae];me.type==="arc"?B.call(this,me.x,me.y,me.radius,me.startAngle,me.endAngle,me.counterclockwise,void 0,G,!Ee):L.call(this,me.x,me.y),Ee=!0}else if(re[qe].close===!0)this.pdf.internal.out("h"),Ee=!1;else if(re[qe].begin!==!0){var Ce=re[qe].start.x,Me=re[qe].start.y;q.call(this,re[qe].deltas,Ce,Me),Ee=!0}P&&$.call(this,P),G&&T.call(this)}},z=function(D){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-Z;case"top":return D+G-Z;case"hanging":return D+G-2*Z;case"middle":return D+G/2-Z;default:return D}},Y=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(G,Z){this.colorStops.push([G,Z])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(D,G,Z,P,re,ce,be,ae,ue){for(var fe=ee.call(this,Z,P,re,ce),pe=0;pe<fe.length;pe++){var de=fe[pe];pe===0&&(ue?A.call(this,de.x1+D,de.y1+G):L.call(this,de.x1+D,de.y1+G)),W.call(this,D,G,de.x2,de.y2,de.x3,de.y3,de.x4,de.y4)}ae?T.call(this):$.call(this,be)},$=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},T=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(D,G){this.pdf.internal.out(r(D)+" "+n(G)+" m")},R=function(D){var G;switch(D.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var Z=this.pdf.getTextDimensions(D.text),P=z.call(this,D.y),re=Y.call(this,P)-Z.h,ce=this.ctx.transform.applyToPoint(new o(D.x,P)),be=this.ctx.transform.decompose(),ae=new c;ae=(ae=(ae=ae.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var ue,fe,pe,de=this.ctx.transform.applyToRectangle(new l(D.x,P,Z.w,Z.h)),le=ae.applyToRectangle(new l(D.x,re,Z.w,Z.h)),ne=g.call(this,le),Se=[],Ee=0;Ee<ne.length;Ee+=1)Se.indexOf(ne[Ee])===-1&&Se.push(ne[Ee]);if(w(Se),this.autoPaging)for(var qe=Se[0],ve=Se[Se.length-1],Ae=qe;Ae<ve+1;Ae++){this.pdf.setPage(Ae);var me=Ae===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Me=this.pdf.internal.pageSize.height-this.margin[2],He=Me-this.margin[0],at=this.pdf.internal.pageSize.width-this.margin[1],pt=at-this.margin[3],ge=Ae===1?0:Ce+(Ae-2)*He;if(this.ctx.clip_path.length!==0){var Le=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(ue,this.posX+this.margin[3],-1*ge+me),O.call(this,"fill",!0),this.path=Le}var Be=k([JSON.parse(JSON.stringify(le))],this.posX+this.margin[3],-ge+me+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fe*D.scale),pe=this.lineWidth,this.lineWidth=pe*D.scale);var Ge=this.autoPaging!=="text";if(Ge||Be.y+Be.h<=Me){if(Ge||Be.y>=me&&Be.x<=at){var Qe=Ge?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||at-Be.x)[0],St=k([JSON.parse(JSON.stringify(de))],this.posX+this.margin[3],-ge+me+this.ctx.prevPageLastElemOffset)[0],oe=Ge&&(Ae>qe||Ae<ve)&&y.call(this);oe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,He,null).clip().discardPath()),this.pdf.text(Qe,St.x,St.y,{angle:D.angle,align:G,renderingMode:D.renderingMode}),oe&&this.pdf.restoreGraphicsState()}}else Be.y<Me&&(this.ctx.prevPageLastElemOffset+=Me-Be.y);D.scale>=.01&&(this.pdf.setFontSize(fe),this.lineWidth=pe)}else D.scale>=.01&&(fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fe*D.scale),pe=this.lineWidth,this.lineWidth=pe*D.scale),this.pdf.text(D.text,ce.x+this.posX,ce.y+this.posY,{angle:D.angle,align:G,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(fe),this.lineWidth=pe)},L=function(D,G,Z,P){Z=Z||0,P=P||0,this.pdf.internal.out(r(D+Z)+" "+n(G+P)+" l")},q=function(D,G,Z){return this.pdf.lines(D,G,Z,null,null)},W=function(D,G,Z,P,re,ce,be,ae){this.pdf.internal.out([t(i(Z+D)),t(s(P+G)),t(i(re+D)),t(s(ce+G)),t(i(be+D)),t(s(ae+G)),"c"].join(" "))},ee=function(D,G,Z,P){for(var re=2*Math.PI,ce=Math.PI/2;G>Z;)G-=re;var be=Math.abs(Z-G);be<re&&P&&(be=re-be);for(var ae=[],ue=P?-1:1,fe=G;be>1e-5;){var pe=fe+ue*Math.min(be,ce);ae.push(M.call(this,D,fe,pe)),be-=Math.abs(pe-fe),fe=pe}return ae},M=function(D,G,Z){var P=(Z-G)/2,re=D*Math.cos(P),ce=D*Math.sin(P),be=re,ae=-ce,ue=be*be+ae*ae,fe=ue+be*re+ae*ce,pe=4/3*(Math.sqrt(2*ue*fe)-fe)/(be*ce-ae*re),de=be-pe*ae,le=ae+pe*be,ne=de,Se=-le,Ee=P+G,qe=Math.cos(Ee),ve=Math.sin(Ee);return{x1:D*Math.cos(G),y1:D*Math.sin(G),x2:de*qe-le*ve,y2:de*ve+le*qe,x3:ne*qe-Se*ve,y3:ne*ve+Se*qe,x4:D*Math.cos(Z),y4:D*Math.sin(Z)}},V=function(D){return 180*D/Math.PI},U=function(D,G,Z,P,re,ce){var be=D+.5*(Z-D),ae=G+.5*(P-G),ue=re+.5*(Z-re),fe=ce+.5*(P-ce),pe=Math.min(D,re,be,ue),de=Math.max(D,re,be,ue),le=Math.min(G,ce,ae,fe),ne=Math.max(G,ce,ae,fe);return new l(pe,le,de-pe,ne-le)},I=function(D,G,Z,P,re,ce,be,ae){var ue,fe,pe,de,le,ne,Se,Ee,qe,ve,Ae,me,Ce,Me,He=Z-D,at=P-G,pt=re-Z,ge=ce-P,Le=be-re,Be=ae-ce;for(fe=0;fe<41;fe++)qe=(Se=(pe=D+(ue=fe/40)*He)+ue*((le=Z+ue*pt)-pe))+ue*(le+ue*(re+ue*Le-le)-Se),ve=(Ee=(de=G+ue*at)+ue*((ne=P+ue*ge)-de))+ue*(ne+ue*(ce+ue*Be-ne)-Ee),fe==0?(Ae=qe,me=ve,Ce=qe,Me=ve):(Ae=Math.min(Ae,qe),me=Math.min(me,ve),Ce=Math.max(Ce,qe),Me=Math.max(Me,ve));return new l(Math.round(Ae),Math.round(me),Math.round(Ce-Ae),Math.round(Me-me))},H=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,G,Z=(D=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:G}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(dr.API),function(e){var t=function(o){var l,c,u,h,m,x,p,v,y,g;for(c=[],u=0,h=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;h>u;u+=4)(m=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(x=(m=((m=((m=((m=(m-(g=m%85))/85)-(y=m%85))/85)-(v=m%85))/85)-(p=m%85))/85)%85,c.push(x+33,p+33,v+33,y+33,g+33)):c.push(122);return function(j,k){for(var w=k;w>0;w--)j.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,h,m,x=String,p="length",v=255,y="charCodeAt",g="slice",j="replace";for(o[g](-2),o=o[g](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),u=[],h=0,m=(o+=l="uuuuu"[g](o[p]%5||5))[p];m>h;h+=5)c=52200625*(o[y](h)-33)+614125*(o[y](h+1)-33)+7225*(o[y](h+2)-33)+85*(o[y](h+3)-33)+(o[y](h+4)-33),u.push(v&c>>24,v&c>>16,v&c>>8,v&c);return function(k,w){for(var E=w;E>0;E--)k.pop()}(u,l[p]),x.fromCharCode.apply(x,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},s=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=mj(l)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};e.processDataByFilters=function(o,l){var c=0,u=o||"",h=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}}(dr.API),function(e){e.loadFile=function(t,r,n){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,h){var m=new XMLHttpRequest,x=0,p=function(v){var y=v.length,g=[],j=String.fromCharCode;for(x=0;x<y;x+=1)g.push(j(255&v.charCodeAt(x)));return g.join("")};if(m.open("GET",c,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?h(p(this.responseText)):h(void 0)}),m.send(null),u&&m.status===200)return p(m.responseText)}(i,s,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(dr.API),function(e){function t(){return(Cr.html2canvas?Promise.resolve(Cr.html2canvas):ii(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Cr.DOMPurify?Promise.resolve(Cr.DOMPurify):ii(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=cn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var u=document.createElement(l);for(var h in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[h]=c.style[h];return u},s=function l(c,u){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(l(m,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),h=l.convert(Promise.resolve(),u);return(h=h.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,h=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var p=0;p<h.length;++p){var v=h[p],y=v.src.find(function(g){return g.format==="truetype"});y&&u.addFont(y.url,v.ref.name,v.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,u.context2d.save(!0),c(this.prop.container,x)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(l=l||dr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,h){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,h){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(h,m){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(x){return u.updateProgress(null,h),x}).then(h,m).then(function(x){return u.updateProgress(1),x})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var h=this;l&&(l=l.bind(h)),c&&(c=c.bind(h));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:o.convert(Object.assign({},h),Promise.prototype),x=u.call(m,l,c);return o.convert(x,h.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,dr.getPageSize=function(l,c,u){if(cn(l)==="object"){var h=l;l=h.orientation,c=h.unit||c,u=h.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var m,x=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+c}var v,y=0,g=0;if(p.hasOwnProperty(x))y=p[x][1]/m,g=p[x][0]/m;else try{y=u[1],g=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",g>y&&(v=g,g=y,y=v);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",y>g&&(v=g,g=y,y=v)}return{width:g,height:y,unit:c,k:m,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(_2):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}}(dr.API),dr.API.addJS=function(e){return bD=e,this.internal.events.subscribe("postPutResources",function(){lx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(lx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),yD=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+bD+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){lx!==void 0&&yD!==void 0&&this.internal.out("/Names <</JavaScript "+lx+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(s=0;s<u;s++){var m=r.internal.newObject();h.push(m);var x=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<h.length;s++)r.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var o={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(dr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,s,o,l){var c,u=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(m){for(var x,p=256*m.charCodeAt(4)+m.charCodeAt(5),v=m.length,y={width:0,height:0,numcomponents:1},g=4;g<v;g+=2){if(g+=p,t.indexOf(m.charCodeAt(g+1))!==-1){x=256*m.charCodeAt(g+5)+m.charCodeAt(g+6),y={width:256*m.charCodeAt(g+7)+m.charCodeAt(g+8),height:x,numcomponents:m.charCodeAt(g+9)};break}p=256*m.charCodeAt(g+2)+m.charCodeAt(g+3)}return y}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:i}}return h}}(dr.API),dr.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,s=$pe(e,{checkCrc:!0}),o=s.width,l=s.height,c=s.channels,u=s.palette,h=s.depth;i=u&&c===1?function(B){for(var $=B.width,T=B.height,A=B.data,R=B.palette,L=B.depth,q=!1,W=[],ee=[],M=void 0,V=!1,U=0,I=0;I<R.length;I++){var H=_E(R[I],4),D=H[0],G=H[1],Z=H[2],P=H[3];W.push(D,G,Z),P!=null&&(P===0?(U++,ee.length<1&&ee.push(I)):P<255&&(V=!0))}if(V||U>1){q=!0,ee=void 0;var re=$*T;M=new Uint8Array(re);for(var ce=new DataView(A.buffer),be=0;be<re;be++){var ae=k2(ce,be,L),ue=_E(R[ae],4)[3];M[be]=ue}}else U===0&&(ee=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:q?8:void 0,colorBytes:A,alphaBytes:M,needSMask:q,palette:W,mask:ee}}(s):c===2||c===4?function(B){for(var $=B.data,T=B.width,A=B.height,R=B.channels,L=B.depth,q=R===2?"DeviceGray":"DeviceRGB",W=R-1,ee=T*A,M=W,V=ee*M,U=1*ee,I=Math.ceil(V*L/8),H=Math.ceil(U*L/8),D=new Uint8Array(I),G=new Uint8Array(H),Z=new DataView($.buffer),P=new DataView(D.buffer),re=new DataView(G.buffer),ce=!1,be=0;be<ee;be++){for(var ae=be*R,ue=0;ue<M;ue++)ED(P,k2(Z,ae+ue,L),be*M+ue,L);var fe=k2(Z,ae+M,L);fe<(1<<L)-1&&(ce=!0),ED(re,fe,1*be,L)}return{colorSpace:q,colorsPerPixel:W,sMaskBitsPerComponent:ce?L:void 0,colorBytes:D,alphaBytes:G,needSMask:ce}}(s):function(B){var $=B.data,T=B.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:T,colorsPerPixel:T==="DeviceGray"?1:3,colorBytes:$ instanceof Uint16Array?function(A){for(var R=A.length,L=new Uint8Array(2*R),q=new DataView(L.buffer,L.byteOffset,L.byteLength),W=0;W<R;W++)q.setUint16(2*W,A[W],!1);return L}($):$,needSMask:!1}}(s);var m,x,p,v=i,y=v.colorSpace,g=v.colorsPerPixel,j=v.sMaskBitsPerComponent,k=v.colorBytes,w=v.alphaBytes,E=v.needSMask,O=v.palette,z=v.mask,Y=null;return n!==dr.API.image_compression.NONE&&typeof mj=="function"?(Y=function(B){var $;switch(B){case dr.API.image_compression.FAST:$=11;break;case dr.API.image_compression.MEDIUM:$=13;break;case dr.API.image_compression.SLOW:$=14;break;default:$=12}return $}(n),m=this.decode.FLATE_DECODE,x="/Predictor ".concat(Y," /Colors ").concat(g," /BitsPerComponent ").concat(h," /Columns ").concat(o),e=_D(k,Math.ceil(o*g*h/8),g,h,n),E&&(p=_D(w,Math.ceil(o*j/8),1,j,n))):(m=void 0,x=void 0,e=k,E&&(p=w)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:e,index:t,filter:m,decodeParameters:x,transparency:z,palette:O,sMask:p,predictor:Y,width:o,height:l,bitsPerComponent:h,sMaskBitsPerComponent:j,colorSpace:y}}},function(e){e.processGIF89A=function(t,r,n,i){var s=new o0e(t),o=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},h=new C2(100).encode(u,100);return e.processJPEG.call(this,h,r,n,i)},e.processGIF87A=e.processGIF89A}(dr.API),pl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},pl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){xn.log("bit decode error:"+r)}},pl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},pl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,l=s>>4,c=15&s,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},pl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},pl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,u=s>>15?255:0,h=n*this.width*4+4*i;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=u}this.pos+=e}},pl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,h=i*this.width*4+4*s;this.data[h]=u,this.data[h+1]=c,this.data[h+2]=l,this.data[h+3]=255}this.pos+=e}},pl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},pl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=o}},pl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var s=new pl(t,!1),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new C2(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}}(dr.API),AD.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var s=new AD(t),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new C2(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}}(dr.API),dr.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,u=0;u<i;u+=4){var h=n[u],m=n[u+1],x=n[u+2],p=n[u+3];s[l++]=h,s[l++]=m,s[l++]=x,o[c++]=p}var v=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},dr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},wf=dr.API,cx=wf.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,h=u.fof?u.fof:1,m=t.doKerning!==!1,x=0,p=e.length,v=0,y=l[0]||c,g=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(x=m&&cn(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/h:0,g.push((l[n]||y)/c+x)),v=n;return g},wD=wf.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return wf.processArabic&&(e=wf.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:cx.apply(this,arguments).reduce(function(s,o){return s+o},0)},jD=function(e,t,r,n){for(var i=[],s=0,o=e.length,l=0;s!==o&&l+t[s]<r;)l+=t[s],s++;i.push(e.slice(0,s));var c=s;for(l=0;s!==o;)l+t[s]>n&&(i.push(e.slice(c,s)),l=0,c=s),l+=t[s],s++;return c!==s&&i.push(e.slice(c,s)),i},ND=function(e,t,r){r||(r={});var n,i,s,o,l,c,u,h=[],m=[h],x=r.textIndent||0,p=0,v=0,y=e.split(" "),g=cx.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var j=Array(c).join(" "),k=[];y.map(function(E){(E=E.split(/\s*\n/)).length>1?k=k.concat(E.map(function(O,z){return(z&&O.length?`
`:"")+O})):k.push(E[0])}),y=k,c=wD.apply(this,[j,r])}for(s=0,o=y.length;s<o;s++){var w=0;if(n=y[s],c&&n[0]==`
`&&(n=n.substr(1),w=1),x+p+(v=(i=cx.apply(this,[n,r])).reduce(function(E,O){return E+O},0))>t||w){if(v>t){for(l=jD.apply(this,[n,i,t-(x+p),t]),h.push(l.shift()),h=[l.pop()];l.length;)m.push([l.shift()]);v=i.slice(n.length-(h[0]?h[0].length:0)).reduce(function(E,O){return E+O},0)}else h=[n];m.push(h),x=v+c,p=g}else h.push(n),x+=p+v,p=g}return u=c?function(E,O){return(O?j:"")+E.join(" ")}:function(E){return E.join(" ")},m.map(u)},wf.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle),x="Unicode";return m.metadata[x]?{widths:m.metadata[x].widths||{0:1},kerning:m.metadata[x].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(ND.apply(this,[n[l],o,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=t[s],i[t[s]]=r[s];var o=function(x){return"0x"+parseInt(x,10).toString(16)},l=e.__fontmetrics__.compress=function(x){var p,v,y,g,j=["{"];for(var k in x){if(p=x[k],isNaN(parseInt(k,10))?v="'"+k+"'":(k=parseInt(k,10),v=(v=o(k).slice(2)).slice(0,-1)+i[v.slice(-1)]),typeof p=="number")p<0?(y=o(p).slice(3),g="-"):(y=o(p).slice(2),g=""),y=g+y.slice(0,-1)+i[y.slice(-1)];else{if(cn(p)!=="object")throw new Error("Don't know what to do with value type "+cn(p)+".");y=l(p)}j.push(v+y)}return j.push("}"),j.join("")},c=e.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,v,y,g,j={},k=1,w=j,E=[],O="",z="",Y=x.length-1,B=1;B<Y;B+=1)(g=x[B])=="'"?p?(y=p.join(""),p=void 0):p=[]:p?p.push(g):g=="{"?(E.push([w,y]),w={},y=void 0):g=="}"?((v=E.pop())[0][v[1]]=w,y=void 0,w=v[0]):g=="-"?k=-1:y===void 0?n.hasOwnProperty(g)?(O+=n[g],y=parseInt(O,16)*k,k=1,O=""):O+=g:n.hasOwnProperty(g)?(z+=n[g],w[y]=parseInt(z,16)*k,k=1,y=void 0,z=""):z+=g;return j},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},m={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(x){var p=x.font,v=m.Unicode[p.postScriptName];v&&(p.metadata.Unicode={},p.metadata.Unicode.widths=v.widths,p.metadata.Unicode.kerning=v.kerning);var y=h.Unicode[p.postScriptName];y&&(p.metadata.Unicode.encoding=y,p.encoding=y.codePages[0])}])}(dr.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(_x(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(dr),dr.API.addSvgAsImage=function(e,t,r,n,i,s,o,l){if(isNaN(t)||isNaN(r))throw xn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw xn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(Cr.canvg?Promise.resolve(Cr.canvg):ii(()=>import("./index.es-DXbr4JXj.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(u,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(h)}).then(function(){m.addImage(c.toDataURL("image/jpeg",1),t,r,n,i,o,l)})},dr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},dr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,h=0,m=0;function x(v,y){var g,j=!1;for(g=0;g<v.length;g+=1)v[g]===y&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(m=0;m<p;m+=1)r[l[m]].value=r[l[m]].defaultValue,r[l[m]].explicitSet=!1}if(cn(e)==="object"){for(i in e)if(s=e[i],x(l,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&x(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(h=0;h<s[u].length;h+=1)typeof s[u][h]!="number"&&(n=!1);n===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,y=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?y.push("/"+v+" /"+r[v].value):y.push("/"+v+" "+r[v].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(dr.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],m=0,x=s.length;m<x;++m){if(l=o.metadata.characterToGlyph(s.charCodeAt(m)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(m),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(u[4-l.length],l)}return h.join("")},n=function(s){var o,l,c,u,h,m,x;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,x=(l=Object.keys(s).sort(function(p,v){return p-v})).length;m<x;m++)o=l[m],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,x=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",v=0;v<x.length;v++)p+=String.fromCharCode(x[v]);var y=u();h({data:p,addLength1:!0,objectId:y}),c("endobj");var g=u();h({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var j=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Cf(l.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var k=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Cf(l.fontName)),c("/FontDescriptor "+j+" 0 R"),c("/W "+e.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+g+" 0 R"),c("/BaseFont /"+Cf(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+k+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,x="",p=0;p<m.length;p++)x+=String.fromCharCode(m[p]);var v=u();h({data:x,addLength1:!0,objectId:v}),c("endobj");var y=u();h({data:n(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var g=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Cf(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var j=0;j<l.metadata.hmtx.widths.length;j++)l.metadata.hmtx.widths[j]=parseInt(l.metadata.hmtx.widths[j]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Cf(l.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,l=s.text||"",c=s.x,u=s.y,h=s.options||{},m=s.mutex||{},x=m.pdfEscape,p=m.activeFontKey,v=m.fonts,y=p,g="",j=0,k="",w=v[y].encoding;if(v[y].encoding!=="Identity-H")return{text:l,x:c,y:u,options:h,mutex:m};for(k=l,y=p,Array.isArray(l)&&(k=l[0]),j=0;j<k.length;j+=1)v[y].metadata.hasOwnProperty("cmap")&&(o=v[y].metadata.cmap.unicode.codeMap[k[j].charCodeAt(0)]),o||k[j].charCodeAt(0)<256&&v[y].metadata.hasOwnProperty("Unicode")?g+=k[j]:g+="";var E="";return parseInt(y.slice(1))<14||w==="WinAnsiEncoding"?E=x(g,y).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(E=r(g,v[y])),m.isHex=!0,{text:E,x:c,y:u,options:h,mutex:m}};t.events.push(["postProcessText",function(s){var o=s.text||"",l=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([i(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(i(Object.assign({},c,{text:o[u]})).text);s.text=l}else s.text=i(Object.assign({},c,{text:o})).text}])}(dr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(dr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,s,o,l,c,u,h,m=t,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,w=0;this.__bidiEngine__={};var E=function(A){var R=A.charCodeAt(),L=R>>8,q=y[L];return q!==void 0?m[256*q+(255&R)]:L===252||L===253?"AL":j.test(L)?"L":L===8?"R":"N"},O=function(A){for(var R,L=0;L<A.length;L++){if((R=E(A.charAt(L)))==="L")return!1;if(R==="R")return!0}return!1},z=function(A,R,L,q){var W,ee,M,V,U=R[q];switch(U){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"N":case"AN":break;case"EN":k&&(U="AN");break;case"AL":k=!0,U="R";break;case"WS":case"BN":U="N";break;case"CS":q<1||q+1>=R.length||(W=L[q-1])!=="EN"&&W!=="AN"||(ee=R[q+1])!=="EN"&&ee!=="AN"?U="N":k&&(ee="AN"),U=ee===W?ee:"N";break;case"ES":U=(W=q>0?L[q-1]:"B")==="EN"&&q+1<R.length&&R[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&L[q-1]==="EN"){U="EN";break}if(k){U="N";break}for(M=q+1,V=R.length;M<V&&R[M]==="ET";)M++;U=M<V&&R[M]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(V=R.length,M=q+1;M<V&&R[M]==="NSM";)M++;if(M<V){var I=A[q],H=I>=1425&&I<=2303||I===64286;if(W=R[M],H&&(W==="R"||W==="AL")){U="R";break}}}U=q<1||(W=R[q-1])==="B"?"N":L[q-1];break;case"B":k=!1,i=!0,U=w;break;case"S":s=!0,U="N"}return U},Y=function(A,R,L){var q=A.split("");return L&&B(q,L,{hiLevel:w}),q.reverse(),R&&R.reverse(),q.join("")},B=function(A,R,L){var q,W,ee,M,V,U=-1,I=A.length,H=0,D=[],G=w?p:x,Z=[];for(k=!1,i=!1,s=!1,W=0;W<I;W++)Z[W]=E(A[W]);for(ee=0;ee<I;ee++){if(V=H,D[ee]=z(A,Z,D,ee),q=240&(H=G[V][v[D[ee]]]),H&=15,R[ee]=M=G[H][5],q>0)if(q===16){for(W=U;W<ee;W++)R[W]=1;U=-1}else U=-1;if(G[H][6])U===-1&&(U=ee);else if(U>-1){for(W=U;W<ee;W++)R[W]=M;U=-1}Z[ee]==="B"&&(R[ee]=0),L.hiLevel|=M}s&&function(P,re,ce){for(var be=0;be<ce;be++)if(P[be]==="S"){re[be]=w;for(var ae=be-1;ae>=0&&P[ae]==="WS";ae--)re[ae]=w}}(Z,R,I)},$=function(A,R,L,q,W){if(!(W.hiLevel<A)){if(A===1&&w===1&&!i)return R.reverse(),void(L&&L.reverse());for(var ee,M,V,U,I=R.length,H=0;H<I;){if(q[H]>=A){for(V=H+1;V<I&&q[V]>=A;)V++;for(U=H,M=V-1;U<M;U++,M--)ee=R[U],R[U]=R[M],R[M]=ee,L&&(ee=L[U],L[U]=L[M],L[M]=ee);H=V}H++}}},T=function(A,R,L){var q=A.split(""),W={hiLevel:w};return L||(L=[]),B(q,L,W),function(ee,M,V){if(V.hiLevel!==0&&h)for(var U,I=0;I<ee.length;I++)M[I]===1&&(U=g.indexOf(ee[I]))>=0&&(ee[I]=g[U+1])}(q,L,W),$(2,q,R,L,W),$(1,q,R,L,W),q.join("")};return this.__bidiEngine__.doBidiReorder=function(A,R,L){if(function(W,ee){if(ee)for(var M=0;M<W.length;M++)ee[M]=M;l===void 0&&(l=O(W)),u===void 0&&(u=O(W))}(A,R),o||!c||u)if(o&&c&&l^u)w=l?1:0,A=Y(A,R,L);else if(!o&&c&&u)w=l?1:0,A=T(A,R,L),A=Y(A,R);else if(!o||l||c||u){if(o&&!c&&l^u)A=Y(A,R),l?(w=0,A=T(A,R,L)):(w=1,A=T(A,R,L),A=Y(A,R));else if(o&&l&&!c&&u)w=1,A=T(A,R,L),A=Y(A,R);else if(!o&&!c&&l^u){var q=h;l?(w=1,A=T(A,R,L),w=0,h=!1,A=T(A,R,L),h=q):(w=0,A=T(A,R,L),A=Y(A,R),w=1,h=!1,A=T(A,R,L),h=q,A=Y(A,R))}}else w=0,A=T(A,R,L);else w=l?1:0,A=T(A,R,L);return A},this.__bidiEngine__.setOptions=function(A){A&&(o=A.isInputVisual,c=A.isOutputVisual,l=A.isInputRtl,u=A.isOutputRtl,h=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([r.doBidiReorder(i[l])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(dr),dr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new fd(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new j0e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new l0e(this.contents),this.head=new u0e(this),this.name=new p0e(this),this.cmap=new r9(this),this.toUnicode={},this.hhea=new d0e(this),this.maxp=new g0e(this),this.hmtx=new x0e(this),this.post=new f0e(this),this.os2=new h0e(this),this.loca=new w0e(this),this.glyf=new v0e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,s,o,l;for(o=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var El,fd=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,s,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,s;for(s=[],n=0,i=t.length;n<i;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),l0e=function(){var e;function t(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,s,o,l,c,u,h,m,x,p,v,y;for(y in p=Object.keys(r).length,c=Math.log(2),m=16*Math.floor(Math.log(p)/c),o=Math.floor(m/c),h=16*p-m,(i=new fd).writeInt(this.scalarType),i.writeShort(p),i.writeShort(m),i.writeShort(o),i.writeShort(h),s=16*p,u=i.pos+s,l=null,v=[],r)for(x=r[y],i.writeString(y),i.writeInt(e(x)),i.writeInt(u),i.writeInt(x.length),v=v.concat(x),y==="head"&&(l=u),u+=x.length;u%4;)v.push(0),u++;return i.write(v),n=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(n),i.data},e=function(r){var n,i,s,o;for(r=n9.call(r);r.length%4;)r.push(0);for(s=new fd(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=s.readUInt32();return 4294967295&i},t}(),c0e={}.hasOwnProperty,dc=function(e,t){for(var r in t)c0e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};El=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var u0e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dc(e,El),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new fd).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),TD=function(){function e(t,r){var n,i,s,o,l,c,u,h,m,x,p,v,y,g,j,k,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),x=p/2,t.pos+=6,s=function(){var E,O;for(O=[],c=E=0;0<=x?E<x:E>x;c=0<=x?++E:--E)O.push(t.readUInt16());return O}(),t.pos+=2,y=function(){var E,O;for(O=[],c=E=0;0<=x?E<x:E>x;c=0<=x?++E:--E)O.push(t.readUInt16());return O}(),u=function(){var E,O;for(O=[],c=E=0;0<=x?E<x:E>x;c=0<=x?++E:--E)O.push(t.readUInt16());return O}(),h=function(){var E,O;for(O=[],c=E=0;0<=x?E<x:E>x;c=0<=x?++E:--E)O.push(t.readUInt16());return O}(),i=(this.length-t.pos+this.offset)/2,l=function(){var E,O;for(O=[],c=E=0;0<=i?E<i:E>i;c=0<=i?++E:--E)O.push(t.readUInt16());return O}(),c=j=0,w=s.length;j<w;c=++j)for(g=s[c],n=k=v=y[c];v<=g?k<=g:k>=g;n=v<=g?++k:--k)h[c]===0?o=n+u[c]:(o=l[h[c]/2+(n-v)-(x-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=m}return e.encode=function(t,r){var n,i,s,o,l,c,u,h,m,x,p,v,y,g,j,k,w,E,O,z,Y,B,$,T,A,R,L,q,W,ee,M,V,U,I,H,D,G,Z,P,re,ce,be,ae,ue,fe,pe;switch(q=new fd,o=Object.keys(t).sort(function(de,le){return de-le}),r){case"macroman":for(y=0,g=function(){var de=[];for(v=0;v<256;++v)de.push(0);return de}(),k={0:0},s={},W=0,U=o.length;W<U;W++)k[ae=t[i=o[W]]]==null&&(k[ae]=++y),s[i]={old:t[i],new:k[t[i]]},g[i]=k[t[i]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(g),{charMap:s,subtable:q.data,maxGlyphID:y+1};case"unicode":for(R=[],m=[],w=0,k={},n={},j=u=null,ee=0,I=o.length;ee<I;ee++)k[O=t[i=o[ee]]]==null&&(k[O]=++w),n[i]={old:O,new:k[O]},l=k[O]-i,j!=null&&l===u||(j&&m.push(j),R.push(i),u=l),j=i;for(j&&m.push(j),m.push(65535),R.push(65535),T=2*($=R.length),B=2*Math.pow(Math.log($)/Math.LN2,2),x=Math.log(B/2)/Math.LN2,Y=2*$-B,c=[],z=[],p=[],v=M=0,H=R.length;M<H;v=++M){if(A=R[v],h=m[v],A===65535){c.push(0),z.push(0);break}if(A-(L=n[A].new)>=32768)for(c.push(0),z.push(2*(p.length+$-v)),i=V=A;A<=h?V<=h:V>=h;i=A<=h?++V:--V)p.push(n[i].new);else c.push(L-A),z.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*$+2*p.length),q.writeUInt16(0),q.writeUInt16(T),q.writeUInt16(B),q.writeUInt16(x),q.writeUInt16(Y),ce=0,D=m.length;ce<D;ce++)i=m[ce],q.writeUInt16(i);for(q.writeUInt16(0),be=0,G=R.length;be<G;be++)i=R[be],q.writeUInt16(i);for(ue=0,Z=c.length;ue<Z;ue++)l=c[ue],q.writeUInt16(l);for(fe=0,P=z.length;fe<P;fe++)E=z[fe],q.writeUInt16(E);for(pe=0,re=p.length;pe<re;pe++)y=p[pe],q.writeUInt16(y);return{charMap:n,subtable:q.data,maxGlyphID:w+1}}},e}(),r9=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dc(e,El),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new TD(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=TD.encode(t,r),(i=new fd).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),d0e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dc(e,El),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),h0e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dc(e,El),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),f0e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dc(e,El),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),m0e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},p0e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dc(e,El),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,s,o,l,c,u,h,m,x;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},s=h=0,m=n.length;h<m;s=++h)i=n[s],t.pos=i.offset,u=t.readString(i.length),o=new m0e(u,i),c[x=i.nameID]==null&&(c[x]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),g0e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dc(e,El),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),x0e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dc(e,El),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,s,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)h.push(t.readInt16());return h}(),this.widths=(function(){var u,h,m,x;for(x=[],u=0,h=(m=this.metrics).length;u<h;u++)s=m[u],x.push(s.advance);return x}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),n9=[].slice,v0e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dc(e,El),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,s,o,l,c,u,h,m;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(t),(i=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new fd(r.read(i))).readShort(),u=l.readShort(),m=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[t]=o===-1?new b0e(l,u,m,c,h):new y0e(l,o,u,m,c,h),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,s,o,l,c;for(o=[],s=[],l=0,c=r.length;l<c;l++)i=t[r[l]],s.push(o.length),i&&(o=o.concat(i.encode(n)));return s.push(o.length),{table:o,offsets:s}},e}(),y0e=function(){function e(t,r,n,i,s,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),b0e=function(){function e(t,r,n,i,s){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new fd(n9.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),w0e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dc(e,El),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<n.length;++o)if(n[o]=i,s<r.length&&r[s]==o){++s,n[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*n.length),h=0;h<n.length;++h)u[4*h+3]=255&n[h],u[4*h+2]=(65280&n[h])>>8,u[4*h+1]=(16711680&n[h])>>16,u[4*h]=(4278190080&n[h])>>24;return u},e}(),j0e=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,s,o,l,c;for(i={},o=0,l=t.length;o<l;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],i[s]=n;return i},e.prototype.encode=function(t,r){var n,i,s,o,l,c,u,h,m,x,p,v,y,g,j;for(i in n=r9.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},j=n.charMap)p[(c=j[i]).old]=c.new;for(v in x=n.maxGlyphID,o)v in p||(p[v]=x++);return h=function(k){var w,E;for(w in E={},k)E[k[w]]=w;return E}(p),m=Object.keys(h).sort(function(k,w){return k-w}),y=function(){var k,w,E;for(E=[],k=0,w=m.length;k<w;k++)l=m[k],E.push(h[l]);return E}(),s=this.font.glyf.encode(o,y,p),u=this.font.loca.encode(s.offsets,y),g={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},e}();dr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,s,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)o=r[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+r},t}();const OD=e=>new Promise((t,r)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=()=>{const s=document.createElement("canvas"),o=s.getContext("2d");s.width=n.width,s.height=n.height,o==null||o.drawImage(n,0,0);const l=s.toDataURL("image/png");t(l)},n.onerror=()=>r(new Error(`Failed to load image: ${e}`));const i=e.startsWith("/")?e:`/${e}`;n.src=i}),It=e=>{const t={:"a",:"A",:"a",:"A",:"i",:"I",:"s",:"S",:"t",:"T",:"t",:"T"};return e.replace(/[]/g,r=>t[r]||r)},Xu=e=>{if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";const r=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),i=t.getFullYear();return`${r}.${n}.${i}`},ux=e=>e?e.replace(/\s*(AM|PM)\s*/i,""):"",En=(e,t,r,n,i,s)=>(t>r-20&&(Ba(e,i,s,r,n),i++,e.addPage(),t=n),{y:t,currentPage:i}),Ba=(e,t,r,n,i)=>{e.setFontSize(8),e.setTextColor(100),e.text("LEVEL AUTO RENTAL S.R.L.",i,n-10),e.text("+373 62-000-112",r-i,n-10,{align:"right"}),e.setFontSize(9),e.setTextColor(0),e.text(t.toString(),r/2,n-10,{align:"center"}),e.setTextColor(0)},N0e=async e=>{var t,r,n,i,s,o,l,c,u,h,m,x,p,v,y;try{const g=new dr({orientation:"portrait",unit:"mm",format:"a4"}),j=g.internal.pageSize.width,k=g.internal.pageSize.height,w=15;let E=1;const O=10;let z=!1;const Y=25,B=23;try{const F=await OD("/logo-LVL.png"),se=w,Pe=O;g.addImage(F,"PNG",se,Pe,Y,B),z=!0}catch(F){console.error("Failed to load logo:",F),z=!1}const $=j-w;g.setFontSize(11),g.setFont("times","bold");const T="LEVEL AUTO RENTAL S.R.L.",A=11*.35;g.setFontSize(8),g.setFont("times","normal");const R=8*.35,L=A+R*2,W=O+B/2-L/2+3;g.setFontSize(11),g.setFont("times","bold"),g.setTextColor(0,0,0);const ee=g.getTextWidth(T);g.text(T,$-ee,W),g.setFont("times","normal"),g.setFontSize(8),g.setTextColor(60,60,60);const M=It("Republica Moldova, mun. Chiinu, or. Chiinu"),V=g.getTextWidth(M);g.text(M,$-V,W+A+2);const U="Tel: +373 62-000-112",I=g.getTextWidth(U);g.text(U,$-I,W+A+R+4),g.setTextColor(0,0,0);const H=W+L,G=Math.max(O+B,H)+5;g.setLineWidth(.5),g.line(w,G,j-w,G),g.setFontSize(16),g.setFont("times","bold"),g.setTextColor(0,0,0);const Z=G+12;g.text(It("CONTRACT DE LOCATIUNE"),j/2,Z,{align:"center"}),g.setFontSize(10),g.setFont("times","normal");let P=Z+8;const re=It(`Nr. ${e.contractNumber} din ${Xu(e.contractDate)}`),ce=g.getTextWidth(re);g.text(re,(j-ce)/2,P),P+=8,g.line(w,P,j-w,P),P+=8,g.setFont("times","bold"),g.setFontSize(10),g.text(It("PARTILE"),w,P),P+=6,g.setFont("times","normal"),g.setFontSize(9);const be=It("Compania LEVEL AUTO RENTAL S.R.L., cu sediul in Republica Moldova, mun. Chisinau, or. Chisinau,"),ae=It('str. Mircea cel Batran 13/1, cod fiscal 1024606013124, (denumita in continuare "Locator"), reprezentata de Levichi'),ue=It("Victorin, in calitate de administrator, care actioneaza in baza statutului, pe de o parte,");g.text(be,w,P),P+=5,g.text(ae,w,P),P+=5,g.text(ue,w,P),P+=6,g.text(It("Si"),w,P),P+=5,g.setFont("times","bold"),g.text(It(e.customer.fullName||"______________________________"),w,P),g.setFont("times","normal"),P+=5,g.text(It(`domiciliat la ${e.customer.address||"__________________________________________"},`),w,P),P+=5;const fe=It(`posesor al buletinului de identitate/pasaportului cu Seria si Numarul ${e.customer.idSeries||"________________"}, IDNP`);g.text(fe,w,P),P+=5;const pe=e.customer.idnp?`${e.customer.idNumber||"________________"}, IDNP ${e.customer.idnp}`:e.customer.idNumber||"_________________________";g.text(It(`${pe}, (denumit in continuare "Locatar"), pe de alta parte, au convenit sa incheie prezentul`),w,P),P+=5,g.text(It("Contract de locatiune in urmatoarele conditii:"),w,P),P+=8,g.line(w,P,j-w,P),P+=8,g.setFont("times","bold"),g.setFontSize(10),g.text(It("I. OBIECTUL CONTRACTULUI"),w,P),P+=6,g.setFont("times","normal"),g.setFontSize(9);const de=(F,se=5)=>{const Pe=En(g,P,k,w,E,j);P=Pe.y,E=Pe.currentPage;const ze=It(F),Ze=/\d+\.\d+(?:\.\d+)?/g,gt=["Locator","Locatar","autovehicul","Contract","Anexa","Locatorului","Locatarului","Autovehiculului","Contractului","Anexei"],Nt=[];let $t=0;const Ut=[];let ir;for(;(ir=Ze.exec(ze))!==null;)Ut.push({index:ir.index,length:ir[0].length,isBold:!0});for(const zt of gt){const tr=new RegExp(`\\b${zt}\\b`,"gi");let Or;for(;(Or=tr.exec(ze))!==null;)Ut.push({index:Or.index,length:Or[0].length,isBold:!0})}Ut.sort((zt,tr)=>zt.index-tr.index);const sr=[];for(let zt=0;zt<Ut.length;zt++){const tr=Ut[zt];let Or=!1;for(const Mr of sr)if(tr.index<Mr.index+Mr.length&&tr.index+tr.length>Mr.index){Or=!0;break}Or||sr.push(tr)}for(const zt of sr)zt.index>$t&&Nt.push({text:ze.substring($t,zt.index),isBold:!1}),Nt.push({text:ze.substring(zt.index,zt.index+zt.length),isBold:!0}),$t=zt.index+zt.length;if($t<ze.length&&Nt.push({text:ze.substring($t),isBold:!1}),Nt.length===0)g.setFont("times","normal"),g.text(ze,w,P);else{let zt=w;for(const tr of Nt)g.setFont("times",tr.isBold?"bold":"normal"),g.text(tr.text,zt,P),zt+=g.getTextWidth(tr.text)}g.setFont("times","normal"),P+=se};de("1.1 Locatorul da in folosinta, iar Locatarul primeste in folosinta autovehiculul descris"),de('in pct. 1.2 din prezentul contract (denumit in continuare "autovehicul"), in schimbul'),de("achitarii de catre Locatar a pretului, in conditiile Capitolului V al prezentului contract.",6),de("1.2 Autovehiculul inchiriat are urmatoarele caracteristici:",6);const le=((t=e.car)==null?void 0:t.make)||"",ne=((r=e.car)==null?void 0:r.model)||"",Se=e.carColor||((n=e.car)==null?void 0:n.color)||"",Ee=((i=e.vehicleDetails)==null?void 0:i.registrationNumber)||((s=e.car)==null?void 0:s.license)||"",qe=((o=e.vehicleDetails)==null?void 0:o.mileage)||((l=e.car)==null?void 0:l.kilometers)||((c=e.car)==null?void 0:c.mileage)||0,ve=((u=e.car)==null?void 0:u.year)||0,Ae=e.carFuelType||((h=e.car)==null?void 0:h.fuel_type)||"";let me="";Ae==="gasoline"||Ae==="petrol"?me="Benzina":Ae==="diesel"?me="Motorina":Ae==="hybrid"?me="Hibrid":Ae==="electric"?me="Electric":me=Ae||"";const Ce=[["MARCA:",It(le)],["MODEL:",It(ne)],["CULOARE:",It(Se)],[It("NR. DE INMATRICULARE:"),Ee],["NR/KM LA BORD:",qe.toString()],["AN FABRICATIE:",ve.toString()],["COMBUSTIBIL:",It(me)]],Me=En(g,P,k,w,E,j);P=Me.y,E=Me.currentPage;const He=P,at=7,pt=60,Le=w+pt+100,Be=Ce.length;g.line(w,He,w,He+at*Be),g.line(w+pt,He,w+pt,He+at*Be),g.line(Le,He,Le,He+at*Be),g.line(w,He,Le,He);for(let F=1;F<=Be;F++)g.line(w,He+at*F,Le,He+at*F);g.line(w,He+at*Be,Le,He+at*Be),Ce.forEach(([F,se],Pe)=>{const ze=He+Pe*at;g.setFont("times","bold"),g.setFontSize(9),g.text(F,w+2,ze+at/2+2),g.setFont("times","normal"),g.setFontSize(9),g.text(se||"",w+pt+2,ze+at/2+2)}),P=He+at*Be+6,g.line(w,P,j-w,P),P+=8;const Ge=En(g,P,k,w,E,j);P=Ge.y,E=Ge.currentPage,Ba(g,E,j,k,w),P<w+20&&(P=w),g.setFont("times","bold"),g.setFontSize(10),g.text("II. DURATA CONTRACTULUI",w,P),P+=6,g.setFont("times","normal"),g.setFontSize(9);let Qe=En(g,P,k,w,E,j);P=Qe.y,E=Qe.currentPage;const St=(F,se=5)=>{const Pe=En(g,P,k,w,E,j);P=Pe.y,E=Pe.currentPage;const ze=It(F),Ze=/\d+\.\d+(?:\.\d+)?/g,gt=["Locator","Locatar","autovehicul","Contract","Anexa","Locatorului","Locatarului","Autovehiculului","Contractului","Anexei"],Nt=[];let $t=0;const Ut=[];let ir;for(;(ir=Ze.exec(ze))!==null;)Ut.push({index:ir.index,length:ir[0].length,isBold:!0});for(const zt of gt){const tr=new RegExp(`\\b${zt}\\b`,"gi");let Or;for(;(Or=tr.exec(ze))!==null;)Ut.push({index:Or.index,length:Or[0].length,isBold:!0})}Ut.sort((zt,tr)=>zt.index-tr.index);const sr=[];for(let zt=0;zt<Ut.length;zt++){const tr=Ut[zt];let Or=!1;for(const Mr of sr)if(tr.index<Mr.index+Mr.length&&tr.index+tr.length>Mr.index){Or=!0;break}Or||sr.push(tr)}for(const zt of sr)zt.index>$t&&Nt.push({text:ze.substring($t,zt.index),isBold:!1}),Nt.push({text:ze.substring(zt.index,zt.index+zt.length),isBold:!0}),$t=zt.index+zt.length;if($t<ze.length&&Nt.push({text:ze.substring($t),isBold:!1}),Nt.length===0)g.setFont("times","normal"),g.text(ze,w,P);else{let zt=w;for(const tr of Nt)g.setFont("times",tr.isBold?"bold":"normal"),g.text(tr.text,zt,P),zt+=g.getTextWidth(tr.text)}g.setFont("times","normal"),P+=se};St("2.1 Termenul minim de inchiriere a Bunului este de 2 (doua) zile calendaristice (24 ore).",5),St("2.2 Termenul contractului poate fi modificat prin acordul partilor."),P+=8,g.line(w,P,j-w,P),P+=8,g.setFont("times","bold"),g.setFontSize(10),g.text("III. PERSOANELE CU DREPT DE A CONDUCE AUTOVEHICULUL",w,P),P+=6,g.setFont("times","normal"),g.setFontSize(9);const oe=(F,se=5)=>{const Pe=En(g,P,k,w,E,j);P=Pe.y,E=Pe.currentPage;const ze=It(F),Ze=/\d+\.\d+(?:\.\d+)?/g,gt=["Locator","Locatar","autovehicul","Contract","Anexa","Locatorului","Locatarului","Autovehiculului","Contractului","Anexei"],Nt=[];let $t=0;const Ut=[];let ir;for(;(ir=Ze.exec(ze))!==null;)Ut.push({index:ir.index,length:ir[0].length,isBold:!0});for(const zt of gt){const tr=new RegExp(`\\b${zt}\\b`,"gi");let Or;for(;(Or=tr.exec(ze))!==null;)Ut.push({index:Or.index,length:Or[0].length,isBold:!0})}Ut.sort((zt,tr)=>zt.index-tr.index);const sr=[];for(let zt=0;zt<Ut.length;zt++){const tr=Ut[zt];let Or=!1;for(const Mr of sr)if(tr.index<Mr.index+Mr.length&&tr.index+tr.length>Mr.index){Or=!0;break}Or||sr.push(tr)}for(const zt of sr)zt.index>$t&&Nt.push({text:ze.substring($t,zt.index),isBold:!1}),Nt.push({text:ze.substring(zt.index,zt.index+zt.length),isBold:!0}),$t=zt.index+zt.length;if($t<ze.length&&Nt.push({text:ze.substring($t),isBold:!1}),Nt.length===0)g.setFont("times","normal"),g.text(ze,w,P);else{let zt=w;for(const tr of Nt)g.setFont("times",tr.isBold?"bold":"normal"),g.text(tr.text,zt,P),zt+=g.getTextWidth(tr.text)}g.setFont("times","normal"),P+=se};oe("3.1 Autovehiculul poate fi condus in timpul perioadei de inchiriere numai de catre Locatar"),oe("si/sau persoanele indicate in fisa cu numele conducatorilor auto anexata la contractul"),oe('de inchiriere - Anexa Nr.1 (in continuare: "soferi aditionali").',6),oe("3.2 Locatarul si/sau soferii aditionali trebuie sa fie apti din punct de vedere fizic si"),oe("psihologic sa conduca autovehiculul.",6),oe("3.3 Partile convin ca Locatarul si/sau soferii aditionali trebuie sa aiba varsta cuprinsa"),oe("intre 20 si 65 de ani.",6),oe("3.4 Locatarul si/sau soferii aditionali trebuie sa detina permis de conducere corespunzator"),oe("tipului de autovehicul si sa fie valabil pentru o perioada neintrerupta de cel putin 24 luni,"),oe("acesta fiind suspendat, retras, ridicat sau impus oricaror altor interdictii asupra"),oe("dreptului de conducere a autovehiculului.",6),oe("3.5 Soferii aditionali au aceleasi obligatii ca si Locatarul, ultimul fiind obligat sa-i"),oe("informeze despre acestea si sa raspunda pentru neexecutarea lor."),P+=8,g.line(w,P,j-w,P),P+=8;const ht=En(g,P,k,w,E,j);P=ht.y,E=ht.currentPage,Ba(g,E,j,k,w),g.setFont("times","bold"),g.setFontSize(10),g.text("IV. AVANS",w,P),P+=6,g.setFont("times","normal"),g.setFontSize(9),oe("4.1. In ziua incheierii Contractului, Locatarul achita Locatorului un avans in suma de"),oe("20% din pretul locatiunii. Achitarea avansului de catre Locatar confirma obligatia"),oe("Locatorului de a rezerva Autovehiculul stipulat in Contract pentru predarea in locatiunea"),oe("Locatarului, in ziua indicata in Contract;",6),oe("4.2. Locatarul este obligat sa achite catre Locator toate sumele stabilite conform"),oe("Contractului (pretul locatiunii, garantie) in termen de 1 zi pana la data predarii in"),oe("folosinta a Autovehiculului;",6),oe("4.3. In cazul neachitarii sumelor nominalizate in volum intreg, in termenul indicat,"),oe("Contractul incheiat intre Parti se considera reziliat in mod automat, fara necesitatea"),oe("expedierii notificarilor privind rezilierea Contractului in adresa Partilor. In acest caz,"),oe("Locatorul este exonerat de obligatia predarii Autovehiculului in folosinta Locatarului,"),oe("iar suma avansului achitata de catre Locatar nu se restituie Locatarului, fiind retinuta"),oe("de catre Locator in folosul sau cu titlu de compensare a prejudiciului pricinuit/venitului ratat."),P+=8,g.line(w,P,j-w,P),P+=8,Ba(g,E,j,k,w);const wt=En(g,P,k,w,E,j);P=wt.y,E=wt.currentPage,g.setFont("times","bold"),g.setFontSize(10),g.text(It("V. PRETUL CONTRACTULUI"),w,P),P+=6,g.setFont("times","normal"),g.setFontSize(9),oe("5.1 Locatarul va plati Locatorului pentru inchirierea autovehiculului suma specificata in Anexa Nr.1 la momentul"),oe("incheierii contractului.",6),oe("5.2 Metodele de achitare a serviciilor acceptate de catre Locator sunt: prin card bancar, transfer bancar sau cash.",6),oe("5.3 Locatarul este obligat sa achite Locatorului garantia pana la data predarii in locatiune a Autovehiculului sau in ziua"),oe("predarii autovehiculului, conform Contractului incheiat, si anume:"),oe("Locatarul se obliga sa constituie o garantie in valoare de ______________ MDL pentru toata perioada de inchiriere.",6),oe("5.4 Garantia depusa de catre Locatar, se pastreaza pe intreaga durata a locatiunii si nu se considera ca si plata a"),oe("pretului locatiunii pentru perioada respectiva. Aceasta se restituie Locatarului dupa expirarea duratei locatiunii, in"),oe("cazul indeplinirii obligatiilor Locatarului stipulate conform prezentului Contract si achitarii de catre Locatar in"),oe("folosul Locatorului, a tuturor sumelor/platiilor, prevazute de prezentul Contract in legatura cu locatiunea"),oe("Autovehiculului;",6),oe("5.5 In cazul in care nu se achita pretul locatiunii in termenul indicat in pct. 5.3, Locatarul este obligat sa achite"),oe("Locatorului o penalitate in marime de 0.1% din suma datoriei neachitate la timp pentru fiecare zi de intarziere;",6),oe("5.6 Pretul contractului NU include penalitatile aplicabile la Capitolul VI, precum si urmatoarele sume suplimentare"),oe("aplicabile la sfarsitul termenului de inchiriere:",6),oe("5.6.1 taxa pentru combustibilul utilizat in caz de returnare a autovehiculului fara rezervorul plin, pretul fiind"),oe("calculat la tariful aplicabil in ziua returnarii autovehiculului, conform facturii emise de statia de alimentare;",6),oe("5.6.2 taxa de 4 MDL pentru fiecare km parcurs in plus, daca Locatarul intrece limita de 200 km/zi",6),oe("5.6.3 taxa de 250 MDL in cazul in care autovehiculul este returnat intr-o conditie care necesita o curatare"),oe("exterioara si interioara la spalatorie;",6),oe("5.6.4 taxa de 500 MDL pentru curatarea autovehiculului in cazul in care acesta este returnat intr-o stare murdara,"),oe("aceasta include, dar fara a se limita la: scurgerile de lichide, alimente, voma si alte pete si mirosuri neplacute."),oe('Lipsa "Starii murdare" se poate interpreta si tinand cont daca, in functie de circumstantele de fapt, un eventual'),oe("client ar putea sa foloseasca autovehiculul in starea in care se afla, fara a-i fi creata o stare de dezgust sau"),oe("disconfort;",6),oe("5.6.5 taxa de 1000 MDL pentru curatarea autovehiculului si eliminarea mirosului de fum in cazul in care se"),oe("constata ca s-a fumat in autovehicul;",6),oe("5.6.6 taxele in caz de nerespectare a punctelor de la Capitolul V.",6),oe("5.6.7 taxa de 3000 MDL in caz de evacuare a autovehiculului din cauza nerespectarii obligatiilor de catre"),oe("Locatar; Aceasta taxa nu elibereaza Locatarul de plata amenzilor stabilite de organele de drept, precum si de"),oe("plata chiriei pentru toata perioada pina cand autovehiculul nu va fi restituit Locatorului;",6),oe("5.6.8 taxele de utilizare a drumurilor (viniete sau alte tipuri de taxe a drumurilor), in cazul iesirii peste hotarele"),oe("Republicii Moldova. Iesirea peste hotarele Republicii Moldova poate avea loc doar cu acordul scris al"),oe("Locatorului.",6),oe("5.6.9 plati pentru deteriorarea sau repararea autovehiculului si a accesoriilor acestuia, in conditiile mentionate de"),oe("prezentul Contract; precum si orice alte plati pentru acoperirea costului reparatiilor aferente, valoarea platilor"),oe("fiind stabilite de Locator.",6),oe("5.7 Locatorul va incasa sumele stabilite la punctele 5.1 si 5.3 de mai sus din contul Locatarului dupa momentul"),oe("semnarii contractului sau Locatarul poate plati aceste taxe in modul convenit cu Locatorul, conform punctului 5.2 si"),oe("Anexei Nr.1."),P+=8,g.line(w,P,j-w,P),P+=8,Ba(g,E,j,k,w);const rt=En(g,P,k,w,E,j);P=rt.y,E=rt.currentPage,g.setFont("times","bold"),g.setFontSize(10),g.text(It("VI. DREPTURILE, OBLIGATIILE SI RASPUNDEREA LOCATARULUI"),w,P),P+=6,g.setFont("times","normal"),g.setFontSize(9),oe("6.1 Locatarul nu are dreptul sa:",6),oe("6.1.1 conduca sau sa permita conducerea autovehiculului cu viteza mai mare de 130 km/h; in caz contrar se aplica"),oe("penalitate de 2000 MDL;",6),oe("6.1.2 conduca sau sa permita conducerea autovehiculului mai mult de 200 km/zi.",6),oe("6.1.3 conduca sau sa permita conducerea autovehiculului de catre orice persoana, in cazul in care la momentul"),oe("conducerii autovehiculului, conducatorul auto nu detine permis auto pentru tipul respectiv de vehicul; in caz"),oe("opus, se va incasa de la Locatar o penalitate de 10 000 MDL;",6),oe("6.1.4 permita conducerea autovehiculului de catre orice persoana care nu este specificata sau descrisa in prezentul"),oe("Contract sau in Anexa Nr.1; in caz contrar se aplica penalitate de 2000 MDL;",6),oe("6.1.5 permita utilizarea autovehiculului in afara teritoriilor agreate cu Locatorul;",6),oe("6.1.6 subinchirieze sau inchirieze autovehiculul oricarei altei persoane; in caz contrar se aplica penalitate"),oe("de 2000 MDL;",6),oe("6.1.7 exploateze sau sa permita exploatarea autovehiculului pentru transportul de pasageri prin inchiriere sau"),oe("contra cost; in caz contrar se aplica penalitate de 2000 MDL;",6),oe("6.1.8 transporte animale in autovehicul;",6),oe("6.1.9 fumeze sau sa permita oricarei alte persoane sa fumeze in autovehicul;",6),oe("6.1.10 utilizeze autovehiculul sau sa permita utilizarea acestuia la savarsirea infractiunilor, contraventiilor sau"),oe("implicarea acestuia in orice activitate ilicita; in caz contrar se aplica penalitate de 10 000 MDL;",6),oe("6.1.11 exploateze sau sa permita exploatarea autovehiculului pentru transportul mai multor pasageri sau marfuri"),oe("decat oricare din maximul specificat in certificatul de inmatriculare; in caz contrar se aplica penalitate"),oe("de 2000 MDL;",6),oe("6.1.12 conduca sau sa permita conducerea autovehiculului pe orice drum sau suprafata care favorizeaza uzura"),oe("anticipata sau deteriorarea autovehiculului sau prin conducerea autovehiculului cu o viteza si mod de deplasare"),oe("care favorizeaza deteriorarea autovehiculului;",6),oe("6.1.13 exploateze autovehiculul sau sa permita exploatarea acestuia in orice cursa, test de viteza, studiu de"),oe("fiabilitate, raliu sau concurs, sau exploatarea pe orice circuit de curse sau raliu sau in calitate de simulator sau in"),oe("pregatirile pentru oricare dintre aceste activitati, la fel ca si in executarea burnout-ului si derapajul controlabil; in"),oe("caz contrar se aplica penalitate de 10 000 MDL;",6),oe("6.1.14 sa utilizeze automobilul in calitate de TAXI sau pentru instructaj auto; in caz contrar se aplica penalitate"),oe("de 2000 MDL;",6),oe("6.1.15 exploateze sau sa permita exploatarea autovehiculului pentru a propulsa, tracta orice alt vehicul sau pentru"),oe("orice actiuni pentru care autovehiculul nu a fost proiectat; in caz contrar se aplica penalitate de 2000 MDL;",6),oe("6.1.16 desfasoare orice alte activitati cu utilizarea autovehiculului sau in raport cu el, care potrivit contractului in"),oe("cauza, legislatiei in vigoare, uzantelor, ordinii publice si bunele moravuri, nu se prezuma, nu sunt agreate, nu sunt"),oe("permise, sunt interzise sau sunt sancionate;",6),oe("6.1.17 desfasoare alte activitati cu utilizarea autovehiculului care nu rezulta din esenta contractului de locatiune si"),oe("din circumstantele previzibile pentru Locator, fara acordul prealabil al Locatorului;",6),oe("6.2 Locatarul poarta raspundere pentru:",6),oe("6.2.1 orice pierdere sau deteriorare a autovehiculului si a accesoriilor acestuia, cauzate din culpa sa sau a"),oe("persoanelor carora acesta le-a permis folosinta bunului sau accesul la el. Se prezuma ca exista culpa pana la proba"),oe("contraria.",6),oe("6.2.2 orice daune de consecinta, pierderi sau costuri suportate de catre Locator, inclusiv costurile de salvare,"),oe("intarzierea sau pierderea posibilitatii temporare sau totale de a oferi in locatiune autovehiculul si pierderea"),oe("veniturilor (venitul ratat);",6),oe("6.2.3 orice pierdere sau deteriorare a autovehiculului si a bunurilor unor terte parti, inclusiv, dupa caz, veniturile"),oe("ratate, aparute in rezultatul locatiunii, daca nu face proba ca acestea sunt datorate Locatorului;",6),oe("6.2.4 orice prejudiciu sau venit ratat cauzat de nerespectarea prevederilor prezentului contract;",6),oe("6.3 Locatarul este obligat sa respecte urmatoarele:",6),oe("6.3.1 furnizarea datelor personale si de contact corecte si a promisiunii de utilizare a acestora in scopul executarii"),oe("prezentului contract;",6),oe("6.3.2 prezentarea unui card de credit sau debit valid, la cererea Locatorului;",6),oe("6.3.3 luarea tuturor masurilor rezonabile de precautie si securitate in timpul deplasarii;",6),oe("6.3.4 mentinerea nivelului uleiului si lichidului de racire la un nivel normal stabilit de caracteristicile tehnice ale"),oe("automobilului. In cazul aparitiei unui semnal de avertizare, Locatarul va opri conducerea autovehiculului si va"),oe("solicita imediat opinia Locatorului, dupa care va urma exact instructiunile date de Locator; in caz contrar se"),oe("aplica penalitate de 2000 MDL;",6),oe("6.3.5 utilizarea exclusiva a tipului de combustibil specificat la pct.1.2 pentru autovehiculul respectiv, alimentarile"),oe("fiind facute la statii de alimentare autorizate; in cazul in care autovehiculul este alimentat cu un combustibil"),oe("necorespunzator (motorina/benzina), Locatorul se obliga sa achite o penalitate in marime de 10 000 MDL;",6),oe("6.3.6 mentinerea presiunii in anvelope la nivelul stabilit de catre producatorul autovehiculului;",6),oe("6.3.7 blocarea sigura a autovehiculului atunci cand acesta nu este in uz si pastrarea cheilor si a certificatului de"),oe("inmatriculare al autovehiculului inchiriat sub controlul personal al Locatarului sau a persoanelor autorizate"),oe("conform prevederilor prezentului contract;",6),oe("6.3.8 neadmiterea deschiderii capotei autovehiculului, in caz opus va fi aplicata taxa de 1000 MDL;",6),oe("6.3.9 neadmiterea interventiilor la recorderul de distanta (odometru) sau vitezometrul;",6),oe("6.3.10 neadmiterea interventiei neautorizate in prealabil cu Locatarul asupra la nici o parte a sistemelor de"),oe("motor, de transmisie, de franare, de suspensie sau de caroseria autovehiculului;",6),oe("6.3.11 in cazul aparitiei unui semnal de avertizare sau daca Locatarul, in baza observatiilor sale sau a unui"),oe("conducator auto cu cunostinte si aptitudini tehnice suficiente, echivalente experientei sale, poate observa ca"),oe("autovehiculul prezinta o defectiune sau necesita interventia din partea unui mecanic-auto sau de serviciile unui"),oe("auto-service, Locatarul va opri conducerea autovehiculului si va solicita imediat opinia Locatorului, dupa care"),oe("va urma exact instructiunile date de Locator.",6),oe("6.3.12 sa prezinte permisul de conducere;",6),oe("6.3.13 sa participe si sa urmeze procedura de predare-primire a autovehiculului si sa asigure completarea veridica"),oe("a actului de primire-predare sau sa desemneze o persoana autorizata sau un reprezentant pentru participare la"),oe("procedura in cauza si completare a actului de primire-predare, in masura in care acest fapt este permis de"),oe("prezentul contract;",6),oe("6.3.14 folosirea autovehiculului inchiriat doar pe teritoriul Republicii Moldova. Locatarul trebuie sa primeasca"),oe("acordul Locatorului in caz de plecare in regiunea din stanga Nistrului  Transnistria. In cazul in care Locatarul"),oe("a primit acordul Locatorului de a pleca cu automobilul peste hotare, intr-o tara anumita, iar locatarul se"),oe("deplaseaza in alta tara (care nu este indicata in foaia de parcurs), atunci locatarul va achita o penalitate in suma de"),oe("10 000 (zece mii) lei .Totodata in cazul in care Locatarul pleaca cu automobilul peste hotare, iar la vama este"),oe("supus controlului, si daca in urma controlului este defectat estetic sau in oricare alt mod automobilul, Locatarul"),oe("se obliga sa achite integral prejudiciul cauzat.",6),oe("6.3.15 Locatarul si toti conducatorii auto autorizati sa utilizeze acest autovehicul in timpul perioadei de"),oe("inchiriere, se obliga sa cunoasca si respecte conditiile prezentate in prezentul Contract;"),P+=8,g.line(w,P,j-w,P),P+=8,Ba(g,E,j,k,w);const Ne=En(g,P,k,w,E,j);P=Ne.y,E=Ne.currentPage,g.setFont("times","bold"),g.setFontSize(10),g.text(It("VII. OBLIGATIILE LOCATORULUI"),w,P),P+=6,g.setFont("times","normal"),g.setFontSize(9),oe("7.1 Locatorul va pune la dispozitia Locatarului autovehiculul intr-o stare sigura pentru conducere;",6),oe("7.2 Autovehiculul va fi predat Locatarului impreuna cu toate cele necesare: cheie, certificat de inmatriculare,"),oe("Asigurare RCA, rezervor plin de combustibil, anvelope de iarna (in sezonul rece) si de vara (in sezonul cald) si alte"),oe("accesorii sau bunuri conform Anexei Nr.2;",6),oe("7.3 Locatorul va asigura completarea veridica a actului de predare-primire a autovehiculului anexat la contract"),oe("(Anexa Nr.2) in prezenta Locatarului."),P+=8,g.line(w,P,j-w,P),P+=8,Ba(g,E,j,k,w);const Ue=En(g,P,k,w,E,j);P=Ue.y,E=Ue.currentPage,g.setFont("times","bold"),g.setFontSize(10),g.text(It("VIII. REPARATII SI ACCIDENTE MECANICE"),w,P),P+=6,g.setFont("times","normal"),g.setFontSize(9),oe("8.1 in cazul in care autovehiculul este implicat intr-un accident, este deteriorat, distrus sau necesita lucrari de reparatie"),oe("sau salvare, indiferent de cauza, Locatarul va notifica imediat prin telefon Locatorul despre toate circumstantele.",6),oe("8.2 Locatarul nu va organiza si nu va efectua lucrari de reparatii sau salvare a autovehiculului inchiriat fara"),oe("autorizarea Locatorului (aceasta include, dar nu se limiteaza la achizitionarea unui pneu de inlocuire);",6),oe("8.3 In cazul in care autovehiculul a fost distrus total sau a fost furat din cauza neatentiei Locatarului, acesta se"),oe("obliga sa achite suma integrala a autovehiculului in valoare de _________________. Suma va fi achitata in"),oe("termen de 1 luna.",6),oe("8.4 in cazul in care autovehiculul are nevoie de reparatii sau inlocuire cauzate nemijlocit din vina Locatorului, acesta"),oe("va furniza un alt autovehicul Locatarului, daca acest fapt nu implica cheltuieli disproportionale ale Locatorului. In"),oe("caz de nerespectare de catre Locator a obligatiei de inlocuire a autovehiculului, acesta va returna sume achitata in"),oe("avans de catre Locatar, minus suma datorata Locatorului pentru timpul efectiv al locatiunii pana la notificarea despre"),oe("inlocuire. Calculul sumei returnate se efectueaza de Locator, pornind de la tarifele aplicate conform contractului de"),oe("locatiune pentru unitate de timp si echivalentele acestora. Plata se va efectua in termen de 7 zile."),P+=8,g.line(w,P,j-w,P),P+=8,Ba(g,E,j,k,w);const Re=En(g,P,k,w,E,j);P=Re.y,E=Re.currentPage,g.setFont("times","bold"),g.setFontSize(10),g.text(It("IX. RETURNAREA AUTOVEHICULUI"),w,P),P+=6,g.setFont("times","normal"),g.setFontSize(9),oe("9.1 In momentul sau inainte de expirarea termenului de inchiriere, Locatarul va aduce autovehiculul la locul convenit"),oe("descris in Anexa Nr.1 sau va obtine acordul Locatorului pentru continuarea inchirierii (in acest caz Locatarul va plati"),oe("pretul de inchiriere suplimentar pentru termenul de inchiriere prelungit).",6),oe("9.2 In cazul in care Locatarul nu solicita nici o extindere a termenului de chirie a autovehiculului, dar returnarea"),oe("acestuia este intarziata, Locatarul va fi taxat conform Capitolului XIV al prezentului Contract.",6),oe("9.3 Daca Locatarul nu respecta clauza de la pct. 8.1, nu returneaza autovehiculul si nu reactioneaza prompt la"),oe("solicitarile Locatorului, cel din urma poate raporta cazul la politie si Locatarul va despagubi Locatorul pentru"),oe("prejudiciile cauzate.",6),oe("9.4 Autovehiculul trebuie sa fie returnat cu rezervorul plin, curat pe exterior si in interior, fara defectiuni mecanice sau"),oe("deteriorari ale autovehiculului sau ale accesoriilor acestuia. In caz contrar, Locatarul este obligat sa achite penalitatile"),oe("stipulate in pct. 5.7."),P+=8,g.line(w,P,j-w,P),P+=8,Ba(g,E,j,k,w);const Ve=En(g,P,k,w,E,j);P=Ve.y,E=Ve.currentPage,g.setFont("times","bold"),g.setFontSize(10),g.text(It("X. ASIGURARE"),w,P),P+=6,g.setFont("times","normal"),g.setFontSize(9),oe("10.1 Autovehiculul este asigurat, asigurarea fiind operabila in conditiile legii si a prezentului Contract;",6),oe("10.2 Prima de asigurare RCA este inclusa in taxa de inchiriere;",6),oe("10.3 In cazul producerii unui eveniment stipulat in Capitolul XI, si alte deteriorari cauzate din vina Locatarului,"),oe("acesta se obliga sa achite suma totala de reparatie din cont propriu."),P+=8,g.line(w,P,j-w,P),P+=8,Ba(g,E,j,k,w);const it=En(g,P,k,w,E,j);P=it.y,E=it.currentPage,g.setFont("times","bold"),g.setFontSize(10),g.text(It("XI. EVENIMENTE NEACOPERITE DE ASIGURARE"),w,P),P+=6,g.setFont("times","normal"),g.setFontSize(9),oe("11.1 Locatarul cunoaste si accepta ca asigurarea RCA a autovehiculului NU este aplicabila in urmatoarele"),oe("circumstante:",6),oe("11.1.1 conducerea autovehiculului sub influenta alcoolului sau a oricarui drog;",6),oe("11.1.2 conducerea autovehiculului de catre orice persoana care nu este indicata sau descrisa in Anexa Nr.1ca o"),oe("persoana autorizata sa conduca;",6),oe("11.1.3 conducerea autovehiculului de catre o persoana fara permis de conducere;",6),oe("11.1.4 deteriorarea sau pierderea autovehiculului de catre Locatar, sau a unui conducator auto desemnat sau o"),oe("persoana aflata sub autoritatea sau controlul Locatarului, intentionat sau din neglijenta;",6),oe("11.1.5 comiterea unui delict in domeniul circulatiei rutiere sau delicte cu caracter criminal prevazute de legem cu"),oe("participarea autovehiculului inchiriat;",6),oe("11.1.6 incarcarea autovehiculului cu depasirea normelor prevazute de specificatiile producatorului;",6),oe("11.1.7 incarcarea sau descarcarea autovehiculului in locuri neautorizate si astfel de incarcare sau descarcare nu"),oe("este efectuata de catre conducatorul auto sau insotitor al autovehiculului, cu utilizarea accesoriilor autorizate de"),oe("Locator pentru astfel de incarcaturi;",6),oe("11.1.8 in orice moment in care are loc o defectiune mecanica sau electrica, electronica sau orice defectiune care"),oe("este rezultatul utilizarii necorespunzatoare a autovehiculului, inclusiv pentru deteriorarea sistemului de motor sau"),oe("de transmisie care rezulta direct din orice defectiune mecanica, cu exceptia oricarei alte modalitati pentru"),oe("deteriorarea altor parti ale autovehiculului;",6),oe("11.1.9 conducerea autovehiculului in orice cursa, test de viteza, test de fiabilitate, raliu sau concurs, sau exploatat"),oe("pe orice circuit de curse sau raliu sau in calitate de simulator sau in cadrul pregatirilor pentru astfel de"),oe("evenimente;",6),oe("11.1.10 orice moment in care conducatorul auto nu opreste sau paraseste locul accidentului ca urmare a"),oe("producerii unui accident, contrat prevederilor legale;",6),oe("11.1.11 orice amenda sau sanctiune aplicata ca urmare a incalcarii actelor normative cu utilizarea autovehiculului"),oe("inchiriat;",6),oe("11.1.12 orice spargere, taiere sau rupere a pneului sau deteriorarea pneurilor prin aplicarea franelor;",6),oe("11.1.13 cazul in care autovehiculul se afla intr-o stare tehnica nepotrivita pentru a fi condus in timpul inchirierii"),oe("acestuia, care a cauzat sau a contribuit la deteriorarea sau pierderea autovehiculului si Locatarul sau"),oe("conducatorul auto cunoastea sau ar fi trebuit sa cunoasca despre starea nesigura sau nepotrivita pentru conducerea"),oe("autovehiculului;",6),oe("11.1.14 orice raspundere pentru daunele cauzate de vibratii sau greutatea vehiculului sau incarcarea acestuia"),oe("pentru orice pod sau viaduct; orice drum sau orice portiune sub un drum; orice linie de conducte subterane sau"),oe("cablu; orice alta instalatie subterana;",6),oe("11.1.15 conducerea autovehiculului pe drumuri neamenajate sau pe alte drumuri decat cele pe baza de gudron sau"),oe("metal, inclusiv, dar fara a se limita la plaje sau drumuri ce ar putea cauza deteriorarea autovehiculului;",6),oe("11.1.16 aspiratia apei la motor;",6),oe("11.1.17 orice deteriorare capitala a autovehiculului sau proprietatii unei terte parti care rezulta din astfel de daune"),oe("capitale;",6),oe("11.1.18 exploatarea autovehiculului in afara termenului Contractului de locatiune sau oricarei prelungiri"),oe("convenite a termenului, sau in orice alt moment sau circumstante notificate de catre Locatar Locatorului si"),oe("aprobate de cel din urma;",6),oe("11.1.19 costul daunei sau deteriorarii autovehiculului produsa ca urmare a deplasarii cu viteza ce depaseste 30"),oe("km/h fata de viteza regulamentara indicata in regulamentul rutier pe portiunea de drum unde s-a produs"),oe("accidentul;",6),oe("11.1.20 situatii de furt a autovehiculului, in urma caruia Locatarul nu are posibilitatea si/sau nu poate returna"),oe("Locatorului cheia autovehiculului inchiriat si certificatul de inmatriculare in original al acestuia;"),P+=8,g.line(w,P,j-w,P),P+=8,Ba(g,E,j,k,w);const ie=En(g,P,k,w,E,j);P=ie.y,E=ie.currentPage,g.setFont("times","bold"),g.setFontSize(10),g.text(It("XII. INCALCAREA REGULAMENTULUI CIRCULATIEI RUTIERE"),w,P),P+=6,g.setFont("times","normal"),g.setFontSize(9),oe("12.1 Toate penalitatile legate de incalcarile in trafic si/sau parcare neregulamentara sunt sub responsabilitatea"),oe("Locatarului;",6),oe("12.2 Locatorul se angajeaza, in cazul in care primeste o notificare cu privire la orice incalcari in trafic si/sau parcare"),oe("comise de Locatar, sa expedieze o copie a unui astfel de anunt Locatarului cat mai curand posibil si sa furnizeze"),oe("informatiile necesare autoritatii emitente relevante pentru ca astfel de anunturi pe durata contractului sa fie transmise"),oe("Locatarului;",6),oe("12.3 Locatarul are dreptul de a contesta, adresa plangeri, interpelari sau obiectii in legatura cu presupusa infractiune"),oe("sau contraventie autoritatii competente si are dreptul de a solicita audiere in instanta, Locatarul fiind obligat sa anunte"),oe("Locatorul despre actele de constatare a faptelor comise cu utilizarea autovehiculului inchiriat;"),P+=8,g.line(w,P,j-w,P),P+=8,Ba(g,E,j,k,w);const we=En(g,P,k,w,E,j);P=we.y,E=we.currentPage,g.setFont("times","bold"),g.setFontSize(10),g.text(It("XIII. INCETAREA CONTRACTULUI"),w,P),P+=6,g.setFont("times","normal"),g.setFontSize(9),oe("13.1 Locatorul are dreptul de a rezilia Contractul de locatiune si de a intra in posesia imediata a autovehiculului, in"),oe("cazul in care Locatarul nu respecta oricare dintre termenii si conditiile Contractului de locatiune, sau in cazul in care"),oe("autovehiculul este deteriorat;"),P+=8,g.line(w,P,j-w,P),P+=8,Ba(g,E,j,k,w);const De=En(g,P,k,w,E,j);P=De.y,E=De.currentPage,g.setFont("times","bold"),g.setFontSize(10),g.text(It("XIV. REZERVARI / ACHITARI"),w,P),P+=6,g.setFont("times","normal"),g.setFontSize(9),oe("14.1 Rezervarea autovehiculului se considera valida din momentul intrarii sumei aferente rezervarii pe contul sau in"),oe("casieria Locatorului;",6),oe("14.2 Anularea sau modificarea rezervarii poate fi efectuata prin apel telefonic/ e-mail/ Whatsapp/ Telegram/ Viber/"),oe("Instagram;"),P+=8,g.line(w,P,j-w,P),P+=8,Ba(g,E,j,k,w);const $e=En(g,P,k,w,E,j);P=$e.y,E=$e.currentPage,g.setFont("times","bold"),g.setFontSize(10),g.text(It("XV. CLAUZA DE PENALITATE IN CAZUL REFUZULUI DE A RETURNA AUTOVEHICULUL"),w,P),P+=6,g.setFont("times","normal"),g.setFontSize(9),oe("15.1 In cazul in care, Locatarul nu va restitui autovehiculul inchiriat la ora si data prevazuta in Anexa Nr.1, iar"),oe("intarzierea este imputabila Locatarului, acesta din urma se considera a fi in intarziere, fara a fi necesara o notificare"),oe("prealabila;",6),oe("15.2 In cazul in care intarzierea dureaza pana la 10 ore, Locatarul este obligat sa achite taxa in cuantum de 10% din"),oe("pretul unei zile de locatiune pentru fiecare ora de intarziere a autoturismului inchiriat de catre acesta;",6),oe("15.3 In cazul in care intarzierea predarii autoturismului dureaza intre 10 si 24 de ore, Locatarul este obligat sa achite"),oe("pretul dublu al locatiunii pentru prima zi de inchiriere, fara a i se aplica discountul cumulativ din pretul de lista;",6),oe("15.4 Pentru fiecare zi de intarziere ce depaseste 24 de ore, care urmeaza dupa ziua in care Locatarul avea obligatia sa"),oe("predea autovehiculul inchiriat, acesta din urma va fi obligat sa achite pretul dublu al locatiunii pentru toate zilele de"),oe("intarziere. In acest caz, valabilitatea obligatiilor Locatarului prevazute in prezentul Contract se prelungeste pana la"),oe("predarea autovehiculului;"),P+=8,g.line(w,P,j-w,P),P+=8,Ba(g,E,j,k,w);const Ye=En(g,P,k,w,E,j);P=Ye.y,E=Ye.currentPage,g.setFont("times","bold"),g.setFontSize(10),g.text(It("XVI. CONFIDENTIALITATEA"),w,P),P+=6,g.setFont("times","normal"),g.setFontSize(9),oe("16.1 Notiunea de confidentialitate include fara limitari orice informatie, indiferent de forma acesteia, dar care, in cazul"),oe("formei scrise sau electronice a fost in mod clar desemnata de oricare din parti ca fiind confidentiala, iar in cazul"),oe("comunicarii orale, este identificata in momentul dezvaluirii ca fiind confidentiala, inclusiv informatiile confidentiale"),oe("dezvaluite de oricare dintre Parti celeilalte, inainte de data semnarii prezentului Contract.",6),oe("16.2 Informatiile privind identitatea Locatarului sunt solicitate de catre Locator pentru a-i permite celui din urma sa"),oe("evalueze cererea Locatarului de a inchiria autovehiculul;",6),oe("16.3 Locatarul nu este obligat sa furnizeze aceste informatii, dar in cazul in care nu le ofera, Locatorul este in drept"),oe("sa nu incheie contractul de locatiune;",6),oe("16.5 Confidentialitatea informatiilor privind cardurile bancare si titularii acestora este asigurata de sistemele securizate"),oe("aplicate de catre banca;",6),oe("16.6 Locatorul nu stocheaza si nu prelucreaza nici un fel de date privind cardurile si conturile bancare ale"),oe("Locatarului.",6),oe("16.7 Locatorul se obliga sa prelucreze datele cu caracter personal ale Locatarului exclusiv in scopuri legate de"),oe("inchirierea autovehiculului si furnizarea de servicii conexe pentru clienti, inclusiv marketing direct si evaluarea"),oe("satisfactiei clientilor cu produsele si serviciile oferite de catre Locator.",6),oe("16.8 Locatorul are dreptul sa ofere date cu caracter personal tuturor organelor de drept la solicitarea acestora."),P+=8,g.line(w,P,j-w,P),P+=8,Ba(g,E,j,k,w),E++,g.addPage(),P=w,g.setFont("times","bold"),g.setFontSize(10),g.text(It("NOTA IN ADRESA LOCATARULUI"),w,P),P+=6,g.setFont("times","normal"),g.setFontSize(9),oe("NOTA: Locatorul trebuie sa ofere Locatarului cel putin un exemplar al Contractului de locatiune, care urmeaza"),oe("pastrat in autovehicul pe toata perioada locatiunii si prezentat organelor competente.",6),oe("Acte anexate la prezentul contract: Anexa Nr.1- Perioada, Pretul locatiunii, Garantia, Fransiza si Soferii aditionali"),oe("Anexa Nr.2- Act de predare-primire"),P+=8,g.setFont("times","bold"),g.setFontSize(10),g.text("LOCATOR",w,P),g.text("LOCATAR",j-w-50,P),P+=8,g.setFont("times","normal"),g.setFontSize(9),g.text("LEVEL AUTO RENTAL S.R.L.",w,P),g.text(It(e.customer.fullName||"__________________________"),j-w-50,P),P+=5,g.text("Cod fiscal: 1024606013124",w,P),P+=5,g.text(It("MD-2075, mun. Chisinau, or. Chisinau Str. Mircea cel Batran 13/1, of. 1K B.C Victoriabank SA"),w,P),P+=5,g.text("IBAN MDL: MD65VI022512000000429",w,P),P+=5,g.text("Cod bancar: VICBMD2X",w,P),P+=10,g.line(w,P,w+60,P),g.line(j-w-50,P,j-w,P),P+=5,g.text(It("(Semnatura)"),w,P),g.text(It("(Semnatura)"),j-w-50,P),Ba(g,E,j,k,w),E++,g.addPage(),P=w,g.setFontSize(10),g.setFont("times","bold");const lt="Anexa Nr.1",ft=g.getTextWidth(lt);g.text(lt,(j-ft)/2,P),P+=8,g.setFontSize(12),g.setFont("times","bold");const et=It("CONTRACT DE LOCATIUNE"),Pt=g.getTextWidth(et);g.text(et,(j-Pt)/2,P),P+=6,g.setFont("times","normal"),g.setFontSize(10),g.text(`Nr. ${e.contractNumber} din ${Xu(e.contractDate)}`,w,P),P+=12,g.setFont("times","bold"),g.setFontSize(10),g.text(It("PERIOADA LOCATIUNII / LOCUL PREDARII"),w,P),P+=8;const kt=P,jt=8,Tt=30,ut=30,Dt=20,Ht=w+Tt+ut+Dt+55;g.setFillColor(0,0,0),g.rect(w,kt,Ht-w,jt,"F"),g.setTextColor(255,255,255),g.setFont("times","bold"),g.setFontSize(9),g.text("DATA",w+Tt+2,kt+5),g.text("ORA",w+Tt+ut+2,kt+5),g.text("LOCUL",w+Tt+ut+Dt+2,kt+5),g.setTextColor(0,0,0),P=kt+jt,g.line(w,kt,w,kt+jt*3),g.line(w+Tt,kt,w+Tt,kt+jt*3),g.line(w+Tt+ut,kt,w+Tt+ut,kt+jt*3),g.line(w+Tt+ut+Dt,kt,w+Tt+ut+Dt,kt+jt*3),g.line(Ht,kt,Ht,kt+jt*3),g.line(w,kt+jt,Ht,kt+jt),g.line(w,kt+jt*2,Ht,kt+jt*2),g.line(w,kt+jt*3,Ht,kt+jt*3);const pr=P;g.setFillColor(200,200,200),g.rect(w,pr,Tt,jt,"F"),g.setFont("times","bold"),g.setFontSize(9),g.setTextColor(0,0,0),g.text("PREDARE",w+2,pr+5),g.setFont("times","normal"),g.setFontSize(8),g.text(Xu(e.rentalDetails.startDate),w+Tt+2,pr+5),g.text(ux(e.rentalDetails.startTime),w+Tt+ut+2,pr+5),g.text(It(e.rentalDetails.pickupLocation),w+Tt+ut+Dt+2,pr+5),P+=jt;const ar=P;g.setFillColor(200,200,200),g.rect(w,ar,Tt,jt,"F"),g.setFont("times","bold"),g.setFontSize(9),g.setTextColor(0,0,0),g.text("PRIMIRE",w+2,ar+5),g.setFont("times","normal"),g.setFontSize(8),g.text(Xu(e.rentalDetails.endDate),w+Tt+2,ar+5),g.text(ux(e.rentalDetails.endTime),w+Tt+ut+2,ar+5),g.text(It(e.rentalDetails.returnLocation),w+Tt+ut+Dt+2,ar+5),P+=jt+10,g.setFont("times","bold"),g.setFontSize(10),g.text(It("PRETUL LOCATIUNII"),w,P),P+=8;const Lt=P,Xt=7,er=35,Tr=30,Yr=25,mn=30,Ta=30,na=w+er+Tr+Yr+mn+Ta+30;g.setFillColor(0,0,0),g.rect(w,Lt,na-w,Xt,"F"),g.setTextColor(255,255,255),g.setFont("times","bold"),g.setFontSize(8),g.text(It("Pret 1 zi"),w+er+2,Lt+4.5),g.text("Nr. zile",w+er+Tr+2,Lt+4.5),g.text("Subtotal",w+er+Tr+Yr+2,Lt+4.5),g.text("Reducere",w+er+Tr+Yr+mn+2,Lt+4.5),g.text("Total",w+er+Tr+Yr+mn+Ta+2,Lt+4.5),g.setTextColor(0,0,0),P=Lt+Xt,g.line(w,Lt,w,Lt+Xt*5),g.line(w+er,Lt,w+er,Lt+Xt*5),g.line(w+er+Tr,Lt,w+er+Tr,Lt+Xt*5),g.line(w+er+Tr+Yr,Lt,w+er+Tr+Yr,Lt+Xt*5),g.line(w+er+Tr+Yr+mn,Lt,w+er+Tr+Yr+mn,Lt+Xt*5),g.line(w+er+Tr+Yr+mn+Ta,Lt,w+er+Tr+Yr+mn+Ta,Lt+Xt*5),g.line(na,Lt,na,Lt+Xt*5);for(let F=1;F<=4;F++)g.line(w,Lt+Xt*F,na,Lt+Xt*F);g.line(w,Lt+Xt*5,na,Lt+Xt*5),[{label:"Autovehicul"},{label:It("Servicii sofer")},{label:It("Scaun copii")},{label:It("Alte servicii")}].forEach((F,se)=>{const Pe=Lt+Xt+se*Xt;g.setFillColor(200,200,200),g.rect(w,Pe,er,Xt,"F"),g.setFont("times","bold"),g.setFontSize(8),g.setTextColor(0,0,0),g.text(F.label,w+2,Pe+4.5),se===0&&(g.setFont("times","normal"),g.setFontSize(8),g.text((e.rentalDetails.pricePerDay||0).toString(),w+er+2,Pe+4.5),g.text((e.rentalDetails.numberOfDays||0).toString(),w+er+Tr+2,Pe+4.5),g.text((e.rentalDetails.subtotal||0).toString(),w+er+Tr+Yr+2,Pe+4.5),g.text(e.rentalDetails.discount?e.rentalDetails.discount.toString():"0",w+er+Tr+Yr+mn+2,Pe+4.5),g.text((e.rentalDetails.total||0).toString(),w+er+Tr+Yr+mn+Ta+2,Pe+4.5))}),P=Lt+Xt*5+6,g.setFont("times","bold"),g.setFontSize(9);const wd=It(`Total spre plata: ${e.rentalDetails.total||0} MDL`);g.text(wd,na,P,{align:"right"}),P+=8,g.setFont("times","normal"),g.setFontSize(9),g.text(It("Mod achitare locatiune:"),w,P),g.text(e.rentalDetails.paymentMethod||"___________________",w+60,P),P+=6,g.text(It("Data achitare locatiune:"),w,P),g.text(e.rentalDetails.paymentDate?Xu(e.rentalDetails.paymentDate):"___________________",w+60,P),P+=12,g.setFont("times","bold"),g.setFontSize(10),g.text(It("GARANTII (RASPUNDERE MATERIALA)"),w,P),P+=8;const Nr=P,_a=8,ha=30,Wn=50,es=50,$s=w+ha+Wn+es+40;g.line(w,Nr,w,Nr+_a),g.line(w+ha,Nr,w+ha,Nr+_a),g.line(w+ha+Wn,Nr,w+ha+Wn,Nr+_a),g.line(w+ha+Wn+es,Nr,w+ha+Wn+es,Nr+_a),g.line($s,Nr,$s,Nr+_a),g.line(w,Nr,$s,Nr),g.line(w,Nr+_a,$s,Nr+_a),g.setFillColor(0,0,0),g.rect(w,Nr,ha,_a,"F"),g.setTextColor(255,255,255),g.setFont("times","bold"),g.setFontSize(9),g.text("DEPOZIT",w+ha/2,Nr+_a/2+2,{align:"center"}),g.setTextColor(0,0,0),g.setFont("times","normal"),g.setFontSize(9);const yo=w+ha+2,Ya=Nr+_a/2+2,vu=(e.rentalDetails.deposit||0).toString();g.text(vu,yo,Ya),g.text("MDL",yo+35,Ya),g.text(It("Mod achitare garantie:"),w+ha+Wn+2,Nr+_a/2+2),g.text(It(e.rentalDetails.depositPaymentMethod||e.rentalDetails.paymentMethod||"___________________"),w+ha+Wn+es+2,Nr+_a/2+2),P=Nr+_a+10,g.setFont("times","bold"),g.setFontSize(10),g.text(It("SOFERI ADITIONALI"),w,P),P+=8;const Rr=P,Ln=7,un=80,Ai=w+un+50;g.setFillColor(0,0,0),g.rect(w,Rr,Ai-w,Ln,"F"),g.setTextColor(255,255,255),g.setFont("times","bold"),g.setFontSize(9),g.text(It("Nume Prenume"),w+2,Rr+4.5),g.text("IDNP",w+un+2,Rr+4.5),g.setTextColor(0,0,0),P=Rr+Ln;const In=Math.max(2,(((m=e.additionalDrivers)==null?void 0:m.length)||0)+1);g.line(w,Rr,w,Rr+Ln*In),g.line(w+un,Rr,w+un,Rr+Ln*In),g.line(Ai,Rr,Ai,Rr+Ln*In),g.line(w,Rr+Ln,Ai,Rr+Ln);for(let F=2;F<In;F++)g.line(w,Rr+Ln*F,Ai,Rr+Ln*F);if(g.line(w,Rr+Ln*In,Ai,Rr+Ln*In),g.setFont("times","normal"),g.setFontSize(8),e.additionalDrivers&&e.additionalDrivers.length>0){e.additionalDrivers.forEach((F,se)=>{const Pe=Rr+Ln+se*Ln,ze=It(`${F.firstName} ${F.lastName}`);g.text(ze,w+2,Pe+4.5),g.text(F.idnp||"",w+un+2,Pe+4.5)});for(let F=e.additionalDrivers.length;F<In-1;F++){const se=Rr+Ln+F*Ln}}else for(let F=0;F<In-1;F++){const se=Rr+Ln+F*Ln}P=Rr+Ln*In+10;const Ti=k-40;g.setFont("times","bold"),g.setFontSize(10),g.text("LOCATAR",w,Ti),P=Ti+8,g.line(w,P,w+50,P),P+=5,g.setFont("times","normal"),g.setFontSize(9),g.text(It("(Semnatura)"),w,P),Ba(g,E,j,k,w),E++,g.addPage(),P=w,g.setFontSize(10),g.setFont("times","bold");const Oa="ANEXA NR. 2",Yo=g.getTextWidth(Oa);g.text(Oa,(j-Yo)/2,P),P+=5,g.text(It("CONTRACT DE LOCATIUNE"),w,P),P+=5,g.setFont("times","normal"),g.text(`Nr. ${e.contractNumber} din ${Xu(e.contractDate)}`,w,P),P+=5,g.setFont("times","bold"),g.text(It("ACT DE PREDARE-PRIMIRE AL AUTOVEHICULULUI"),w,P),P+=8,g.setFontSize(9),g.setFont("times","bold"),g.text("BORD AUTOVEHICUL",w,P),P+=5;const Ur=4,Zr=P,fc=[["Data(ziua.luna.anul)",Xu(e.rentalDetails.startDate),Xu(e.rentalDetails.endDate)],["Ora(ora:minute)",ux(e.rentalDetails.startTime),ux(e.rentalDetails.endTime)],["Odometru(km)",((p=(x=e.vehicleDetails)==null?void 0:x.mileage)==null?void 0:p.toString())||"",""],["Combustibil(%)",((y=(v=e.vehicleDetails)==null?void 0:v.fuelLevel)==null?void 0:y.toString())||"100",""],["Cheie","X",""],[It("Certificat de inmatriculare"),"X",""],["Asigurare RCA","X",""],[It("Stare(spalatorie)"),"X",""]],Dl=["Extinctor",It("Trusa medicala"),"Triunghi reflectorizant","Cric de tractare",It("Roata de rezerva"),It("Pompa pentru roti"),It("Chei si cric pentru roti")],hi=w,fi=w+40,Bs=w+65,Lr=w+90,ys=fc.length,Oi=Zr+ys*Ur+Ur;g.setLineWidth(.1),g.line(hi,Zr,Lr,Zr),g.line(hi,Oi,Lr,Oi),g.line(hi,Zr,hi,Oi),g.line(Lr,Zr,Lr,Oi),g.line(fi,Zr,fi,Oi),g.line(Bs,Zr,Bs,Oi);const bo=Zr+Ur;g.line(hi,bo,Lr,bo);for(let F=1;F<=ys;F++){const se=bo+F*Ur;g.line(hi,se,Lr,se)}g.setFont("times","bold"),g.setFontSize(8),g.text("PREDARE",fi+3,Zr+3),g.text("RETURNARE",Bs+3,Zr+3),g.setFont("times","normal"),g.setFontSize(8),fc.forEach((F,se)=>{const Pe=bo+se*Ur+3;g.text(It(F[0]),hi+2,Pe),g.text(F[1],fi+3,Pe),g.text(F[2],Bs+3,Pe)});const bs=w+95,Us=w+130,mi=Math.min(w+230,j-w),qs=mi-Us,La=Us+qs/2,ts=Dl.length,Mn=Zr+ts*Ur+Ur;g.line(bs,Zr,mi,Zr),g.line(bs,Mn,mi,Mn),g.line(bs,Zr,bs,Mn),g.line(mi,Zr,mi,Mn),g.line(Us,Zr,Us,Mn),g.line(La,Zr,La,Mn);const Ia=Zr+Ur;g.line(bs,Ia,mi,Ia);for(let F=1;F<=ts;F++){const se=Ia+F*Ur;g.line(bs,se,mi,se)}g.setFont("times","bold"),g.setFontSize(8);const gr=g.getTextWidth("PREDARE"),Xo=La-Us,ws=Us+Xo/2-gr/2;g.text("PREDARE",ws,Zr+3);const _d=g.getTextWidth("RETURNARE"),yu=mi-La,pi=La+yu/2-_d/2;g.text("RETURNARE",pi,Zr+3),g.setFont("times","normal"),g.setFontSize(8),Dl.forEach((F,se)=>{const Pe=Ia+se*Ur+3;g.text(It(F),bs+2,Pe)}),P=Math.max(Oi,Mn),P+=5;let gi=En(g,P,k,w,E,j);P=gi.y,E=gi.currentPage;const mc=P+20;let Jo=!1;const wo=50,Al=120;try{const F=await OD("/cars/contract_cars.png");g.addImage(F,"PNG",w,mc,wo,Al),Jo=!0}catch(F){console.error("Failed to load car diagram image:",F),Jo=!1}const Ma=w+wo+5;P+=15,g.setFont("times","bold"),g.setFontSize(9),g.text("STARE AUTOVEHICUL EXTERIOR",Ma,P),P+=5;const Li=20,rs=15;g.setFont("times","bold"),g.setFontSize(8);const jo=P,Tl=Ma+Li+rs,Ol=Ma+Li+48,js=Ma+Li+80,ns=It("LIPSA DEFECTIUNI");g.text(ns,Tl,jo);const Zo=g.getTextWidth(ns),No=It("MENTIUNI PREDARE");g.text(No,Ol,jo);const Ii=g.getTextWidth(No),Ns=It("MENTIUNI RETURNARE");g.text(Ns,js,jo);const Qo=g.getTextWidth(Ns);P+=6,[{name:It("PARTEA DIN FATA"),items:[It("Bara de protectie fata"),"Parbriz",It("Lumini fata"),It("Capota")]},{name:It("PARTEA DIN DREAPTA"),items:[It("Aripa lateral fata"),It("Usa fata dreapta"),It("Usa spate dreapta"),It("Aripa lateral spate"),It("Jante lateral"),It("Anvelope lateral")]},{name:It("PARTEA DIN SPATE"),items:[It("Bara de protectie"),It("Luneta spate"),It("Lumini spate"),"Portbagaj"]},{name:It("PARTEA DIN STANGA"),items:[It("Aripa lateral fata"),It("Usa fata stanga"),It("Usa spate stanga"),It("Aripa lateral spate"),It("Jante lateral"),It("Anvelope lateral")]}].forEach(F=>{gi=En(g,P,k,w,E,j),P=gi.y,E=gi.currentPage;const se=P===w?w:Ma;g.setFont("times","bold"),g.setFontSize(9),g.text(F.name,se,P),P+=6,g.setFont("times","normal"),g.setFontSize(8),F.items.forEach(Pe=>{const Ze=Tl+Zo/2-1,gt=P-1.5;g.rect(Ze,gt,2,2);const Nt=se;g.text(` ${Pe}`,Nt,P),P+=2;const $t=18,Ut=-5,ir=Ol+Ii/2-$t/2+Ut,sr=js+Qo/2-$t/2+Ut;g.text("___________________",ir,P),g.text("___________________",sr,P),P+=2}),P+=3}),P+=5;const xi=mc+Al+20;P<xi+10&&(P=xi+10);const vi=En(g,P,k,w,E,j);P=vi.y,E=vi.currentPage,g.setFont("times","italic"),g.setFontSize(7);const pc=It("Nota: Aceasta reprezentare grafica este una simbolica. Automobilul inchiriat poate arata diferit, in dependenta de model si dotari.");g.text(pc,w,P,{maxWidth:j-2*w}),P+=8;let pn=En(g,P,k,w,E,j);P=pn.y,E=pn.currentPage,g.setFont("times","normal"),g.setFontSize(8),pn=En(g,P,k,w,E,j),P=pn.y,E=pn.currentPage,g.text("=> Predat de LOCATOR _____________________",w,P),g.text("=> Returnat de LOCATAR _____________________",w+100,P),P+=4,pn=En(g,P,k,w,E,j),P=pn.y,E=pn.currentPage,g.text("<= Primit de LOCATAR _____________________",w,P),g.text("<= Primit de LOCATOR _____________________",w+100,P),Ba(g,E,j,k,w);const Mi=`Contract_Locatiune_${e.contractNumber}.pdf`;return{pdfBlob:g.output("blob"),filename:Mi}}catch(g){throw console.error("Error in generateContractPDF:",g),g}},_0e=async(e,t,r)=>{try{const{supabaseAdmin:n}=await ii(async()=>{const{supabaseAdmin:u}=await Promise.resolve().then(()=>ld);return{supabaseAdmin:u}},void 0),i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFrZXJhYW14Y2FhenJ0dnhrYmt0Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MjAwMDM5OCwiZXhwIjoyMDc3NTc2Mzk4fQ.8YEzMG2xTc-M97RuxL7IuMYpLq_0Ws-oaVKX3nk7jHA",o=`${`Public/rental-${r}`}/${t}`,{error:l}=await n.storage.from("contracts").upload(o,e,{cacheControl:"3600",upsert:!0,contentType:"application/pdf"});if(l)throw console.error("Error uploading contract to storage:",l),l;const{data:{publicUrl:c}}=n.storage.from("contracts").getPublicUrl(o);return c}catch(n){return console.error("Error uploading contract PDF:",n),null}},S0e=(e,t,r,n=new Date().toISOString().split("T")[0],i)=>{const s=new Date(e.pickupDate),o=new Date(e.returnDate),l=Math.ceil((o.getTime()-s.getTime())/(1e3*60*60*24))||1,c=t.pricePerDay||t.price_per_day||0,u=c*l;let h=0;l>=8?h=u*.04:l>=4&&(h=u*.02);const m=parseFloat(e.total_amount)>0?parseFloat(e.total_amount):u-h,x=e.customerName||"";let p=t.make||"",v=t.model||"";if((!p||!v)&&t.name){const j=t.name.split(" ");j.length>=2&&(p=p||j[0],v=v||j.slice(1).join(" "))}const y={...t,make:p,model:v,year:t.year||0,fuel_type:t.fuel_type||"",color:t.color||"",license:t.license||"",kilometers:t.kilometers||t.mileage||0,mileage:t.mileage||t.kilometers||0},g={contractNumber:r,contractDate:n,rental:{id:e.id.toString(),user_id:e.userId,car_id:e.carId,start_date:e.pickupDate,start_time:e.pickupTime,end_date:e.returnDate,end_time:e.returnTime,rental_status:e.status,total_amount:m,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},car:y,customer:{fullName:x,email:e.customerEmail||"",phone:(i==null?void 0:i.customerPhone)||e.customerPhone||"",address:(i==null?void 0:i.customerAddress)||"",city:(i==null?void 0:i.customerCity)||"",postalCode:(i==null?void 0:i.customerPostalCode)||"",country:(i==null?void 0:i.customerCountry)||"Republica Moldova",idNumber:(i==null?void 0:i.customerIdNumber)||"",idSeries:(i==null?void 0:i.customerIdSeries)||"",idnp:(i==null?void 0:i.customerIdnp)||""},rentalDetails:{startDate:e.pickupDate,startTime:e.pickupTime,endDate:e.returnDate,endTime:e.returnTime,pickupLocation:(i==null?void 0:i.pickupLocation)||"Chiinu, str. Mircea cel Btrn 13/1",returnLocation:(i==null?void 0:i.returnLocation)||"Chiinu, str. Mircea cel Btrn 13/1",pricePerDay:c,numberOfDays:l,subtotal:u,discount:h>0?h:void 0,total:m,deposit:(i==null?void 0:i.deposit)||Math.round(m*.2),paymentMethod:(i==null?void 0:i.paymentMethod)||"",depositPaymentMethod:(i==null?void 0:i.depositPaymentMethod)||"",paymentDate:(i==null?void 0:i.paymentDate)||n},additionalDrivers:i==null?void 0:i.additionalDrivers,vehicleDetails:{mileage:i==null?void 0:i.vehicleMileage,fuelLevel:(i==null?void 0:i.vehicleFuelLevel)||100,registrationNumber:i==null?void 0:i.vehicleRegistrationNumber,carValue:i==null?void 0:i.carValue},carColor:i!=null&&i.carColor&&i.carColor.trim().length>0?i.carColor.trim():t.color||"",carFuelType:i!=null&&i.carFuelType&&i.carFuelType.trim().length>0?i.carFuelType.trim():t.fuel_type||""};return i!=null&&i.carColor&&(g.car.color=i.carColor),i!=null&&i.vehicleRegistrationNumber&&(g.car.license=i.vehicleRegistrationNumber),i!=null&&i.vehicleMileage&&(g.car.kilometers=i.vehicleMileage,g.car.mileage=i.vehicleMileage),i!=null&&i.carFuelType&&(g.car.fuel_type=i.carFuelType),g.car.make||(g.car.make=y.make||""),g.car.model||(g.car.model=y.model||""),g.car.year||(g.car.year=y.year||0),g},a9=async(e,t,r,n)=>{const i=r||`CT-${e.id.toString().slice(0,8).toUpperCase()}-${new Date().getFullYear()}`,s=new Date().toISOString().split("T")[0],o=S0e(e,t,i,s,n);let l=e.id;try{const{supabase:p}=await ii(async()=>{const{supabase:I}=await Promise.resolve().then(()=>ld);return{supabase:I}},void 0),{createRentalManually:v,acceptBorrowRequest:y}=await ii(async()=>{const{createRentalManually:I,acceptBorrowRequest:H}=await Promise.resolve().then(()=>Nh);return{createRentalManually:I,acceptBorrowRequest:H}},void 0),g=e.request_id||e.id,j=typeof g=="string"?parseInt(g):g;console.log("Checking if request needs approval:",j);let k;try{const I=await y(j.toString(),[t]);I.success?(console.log("Request approved successfully, rental created with ID:",I.rentalId),k=I.rentalId):console.log("Request approval failed or already approved:",I.error)}catch(I){console.log("Request approval error (might already be approved):",I)}console.log("Looking for rental with request_id:",j);let w=null;const{data:E,error:O}=await p.from("Rentals").select("id, request_id").eq("request_id",j);if(O)console.error("Error looking up rental:",O);else if(E&&E.length>0)w=E[0],console.log("Rental found:",w);else if(console.log("No rental found with request_id:",j),k){console.log("Expected rental ID but not found, trying direct lookup by ID");const{data:I}=await p.from("Rentals").select("id, request_id").eq("id",parseInt(k)).single();I&&(w=I,console.log("Found rental by direct ID lookup:",w))}const z=new Date(e.pickupDate),Y=new Date(e.returnDate),B=Math.ceil((Y.getTime()-z.getTime())/(1e3*60*60*24))||1,T=(t.pricePerDay||t.price_per_day||0)*B,A=T*.1,R=e.amount||T+A,L=e.customerName||"",q=e.customerEmail||"",W=e.customerPhone||"",ee=L.split(" ")[0]||"",M=L.split(" ").slice(1).join(" ")||"",V=t.make||"",U=t.model||"";if(w){l=w.id;const I={rental_status:"ACTIVE",subtotal:T,taxes_fees:A,total_amount:R,payment_method:(n==null?void 0:n.paymentMethod)||null,notes:(n==null?void 0:n.notes)||null,special_requests:(n==null?void 0:n.specialRequests)||null,customer_name:L||null,customer_email:q||null,customer_phone:W||null,customer_first_name:ee||null,customer_last_name:M||null,car_make:V||null,car_model:U||null,updated_at:new Date().toISOString()};e.request_id&&!w.request_id&&(I.request_id=typeof e.request_id=="string"?parseInt(e.request_id):e.request_id),await p.from("Rentals").update(I).eq("id",l)}else{let I=e.userId;if(console.log("Processing userId for rental creation:",e.userId),typeof e.userId=="string"&&e.userId.includes("@")){console.log("Looking up UUID by email:",e.userId);const{data:D,error:G}=await p.from("Profiles").select("id, email").eq("email",e.userId).single();if(G)return console.error("Error looking up profile by email:",G),{success:!1,error:"User profile not found for rental creation"};if(D)I=D.id,console.log("Found UUID from email lookup:",I);else return console.error("Profile not found for email:",e.userId),{success:!1,error:"User not found for rental creation"}}else if(typeof e.userId=="string"&&e.userId.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i))I=e.userId,console.log("Using UUID directly:",I);else if(typeof e.userId=="number")I=e.userId.toString(),console.log("Converted number to string:",I);else return console.error("Unknown userId format:",e.userId,typeof e.userId),{success:!1,error:"Invalid user ID format for rental creation"};console.log("Final userId for rental:",I);const H=await v(I,e.carId,e.pickupDate,e.pickupTime||"09:00",e.returnDate,e.returnTime||"17:00",R,[t],{subtotal:T,taxesFees:A,rentalStatus:"ACTIVE",paymentStatus:"PENDING",paymentMethod:n==null?void 0:n.paymentMethod,notes:n==null?void 0:n.notes,specialRequests:n==null?void 0:n.specialRequests,customerName:L,customerEmail:q,customerPhone:W,customerFirstName:ee,customerLastName:M,requestId:e.request_id});H.success&&H.rentalId&&(l=H.rentalId)}}catch(p){console.error("Error creating/updating rental for contract:",p)}const{pdfBlob:c,filename:u}=await N0e(o),h=await _0e(c,u,l);if(h)try{const{supabase:p}=await ii(async()=>{const{supabase:j}=await Promise.resolve().then(()=>ld);return{supabase:j}},void 0),v=typeof l=="number"?l:parseInt(l.toString(),10),{data:y,error:g}=await p.from("Rentals").update({contract_url:h,updated_at:new Date().toISOString()}).eq("id",v).select();if(g)throw console.error("Error updating rental with contract URL:",g),g;if(!y||y.length===0)console.error("No rental was updated. Rental ID might not exist:",v);else{const j=y[0];if(j.car_id)try{const{updateCarStatusBasedOnRentals:k}=await ii(async()=>{const{updateCarStatusBasedOnRentals:w}=await Promise.resolve().then(()=>Nh);return{updateCarStatusBasedOnRentals:w}},void 0);await k(j.car_id)}catch(k){console.error("Error updating car status:",k)}}}catch(p){console.error("Error updating rental with contract URL:",p)}const m=URL.createObjectURL(c),x=document.createElement("a");x.href=m,x.download=u,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(m)},jj=({isOpen:e,onClose:t,order:r,car:n,orderNumber:i,onContractCreated:s})=>{var qe,ve;const{t:o}=br(),{showSuccess:l,showError:c}=Ih(),[u,h]=_.useState(!1),[m,x]=_.useState(""),[p,v]=_.useState(""),[y,g]=_.useState(""),[j,k]=_.useState(""),[w,E]=_.useState(n.color||""),[O,z]=_.useState(n.license||""),[Y,B]=_.useState(((qe=n.kilometers)==null?void 0:qe.toString())||((ve=n.mileage)==null?void 0:ve.toString())||""),[$,T]=_.useState(n.fuel_type||""),[A,R]=_.useState(""),[L,q]=_.useState(""),[W,ee]=_.useState(""),[M,V]=_.useState(""),[U,I]=_.useState(""),[H,D]=_.useState(""),[G,Z]=_.useState(""),[P,re]=_.useState("100"),[ce,be]=_.useState("100"),[ae,ue]=_.useState([]),[fe,pe]=_.useState("");(()=>{const Ae=Ye=>{if(!Ye)return"00:00";if(Ye.includes("AM")||Ye.includes("PM")){const[lt,ft]=Ye.split(" "),[et,Pt]=lt.split(":");let kt=parseInt(et);return ft==="PM"&&kt!==12&&(kt+=12),ft==="AM"&&kt===12&&(kt=0),`${String(kt).padStart(2,"0")}:${Pt||"00"}`}if(Ye.includes(":")){const[lt,ft]=Ye.split(":");return`${String(parseInt(lt)).padStart(2,"0")}:${ft||"00"}`}return"00:00"},me=new Date(r.pickupDate||r.start_date),Ce=new Date(r.returnDate||r.end_date),Me=Ae(r.pickupTime||r.start_time||"09:00"),He=Ae(r.returnTime||r.end_time||"17:00"),[at,pt]=Me.split(":").map(Number),[ge,Le]=He.split(":").map(Number),Be=new Date(me);Be.setHours(at,pt,0,0);const Ge=new Date(Ce);ge===0&&Le===0?Ge.setHours(23,59,59,999):Ge.setHours(ge,Le,0,0);const Qe=Ge.getTime()-Be.getTime(),St=Math.floor(Qe/(1e3*60*60*24)),oe=Math.floor(Qe%(1e3*60*60*24)/(1e3*60*60)),ht=St,wt=oe>=0?oe:0,rt=ht,Ne=ht+wt/24;let Ue=0;rt>=2&&rt<=4?Ue=n.price_2_4_days||0:rt>=5&&rt<=15?Ue=n.price_5_15_days||0:rt>=16&&rt<=30?Ue=n.price_16_30_days||0:rt>30&&(Ue=n.price_over_30_days||0);const Re=Ue;let Ve=Re*rt;if(wt>0){const Ye=wt/24*Re;Ve+=Ye}const it=r.options;let ie={};if(it)if(typeof it=="string")try{ie=JSON.parse(it)}catch{ie={}}else ie=it;let we=0;const De=Re;ie.unlimitedKm&&(we+=De*Ne*.5),ie.speedLimitIncrease&&(we+=De*Ne*.2),ie.tireInsurance&&(we+=De*Ne*.2),ie.personalDriver&&(we+=800*rt),ie.priorityService&&(we+=1e3*rt),ie.childSeat&&(we+=100*rt),ie.simCard&&(we+=100*rt),ie.roadsideAssistance&&(we+=500*rt);const $e=Ve+we;return{pricePerDay:Re,days:ht,hours:wt,rentalDays:rt,basePrice:Ve,additionalServices:we,total:$e}})();const le=()=>{ue([...ae,{firstName:"",lastName:"",idnp:""}])},ne=Ae=>{ue(ae.filter((me,Ce)=>Ce!==Ae))},Se=(Ae,me,Ce)=>{const Me=[...ae];Me[Ae]={...Me[Ae],[me]:Ce},ue(Me)},Ee=async()=>{if(!m.trim()){c("Introducei adresa clientului");return}if(!p.trim()||!y.trim()){c("Introducei seria i numrul CI");return}if(!j.trim()){c("Introducei IDNP-ul clientului");return}if(!w.trim()){c("Introducei culoarea mainii");return}if(!O.trim()){c("Introducei numrul de nmatriculare");return}if(!Y.trim()){c("Introducei kilometrajul");return}if(!A.trim()){c("Introducei metoda de plat");return}if(!L.trim()){c("Introducei suma depozitului");return}h(!0);try{const Ae=i?`CT-${i.toString().padStart(4,"0")}-${new Date().getFullYear()}`:void 0,me=parseFloat(L)||0,Ce=ae.filter(Me=>Me.firstName.trim()&&Me.lastName.trim());await a9(r,n,Ae,{customerAddress:m.trim(),customerIdSeries:p.trim(),customerIdNumber:y.trim(),customerIdnp:j.trim(),pickupLocation:M.trim()||"",returnLocation:U.trim()||"",deposit:me,paymentMethod:A.trim(),depositPaymentMethod:W.trim(),additionalDrivers:Ce.length>0?Ce:void 0,vehicleMileage:parseInt(Y)||void 0,vehicleFuelLevel:parseInt(P)||100,vehicleRegistrationNumber:O.trim(),carValue:fe?parseFloat(fe):void 0,carColor:w.trim(),carFuelType:$.trim()}),l("Contractul a fost creat i salvat cu succes!"),s&&s(),t()}catch(Ae){console.error("Error creating contract:",Ae);const me=Ae instanceof Error?Ae.message:"Eroare necunoscut";c(`Nu s-a putut crea contractul: ${me}`)}finally{h(!1)}};return e?Na.createPortal(a.jsx(mr,{children:e&&a.jsx(Ie.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:1},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",style:{zIndex:10002},onClick:t,children:a.jsxs(Ie.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:Ae=>Ae.stopPropagation(),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto mx-2 sm:mx-4",children:[a.jsxs("div",{className:"sticky top-0 border-b border-white/20 px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between z-10",style:{backgroundColor:"#1C1C1C"},children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Creeaz Contract"}),a.jsxs("p",{className:"text-gray-400 text-xs sm:text-sm mt-1",children:[o("admin.orders.orderNumber"),i?i.toString().padStart(4,"0"):"N/A"]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-lg transition-colors flex-shrink-0",children:a.jsx(hn,{className:"w-5 h-5 text-white"})})]}),a.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[a.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4 flex items-center gap-2",children:a.jsx("span",{className:"text-sm sm:text-base",children:"Informaii Client"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Adres (Domiciliat la) *"}),a.jsx("input",{type:"text",value:m,onChange:Ae=>x(Ae.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Introducei adresa clientului"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"IDNP *"}),a.jsx("input",{type:"text",value:j,onChange:Ae=>k(Ae.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Introducei IDNP"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Serie CI *"}),a.jsx("input",{type:"text",value:p,onChange:Ae=>v(Ae.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Introducei seria CI"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Numr CI *"}),a.jsx("input",{type:"text",value:y,onChange:Ae=>g(Ae.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Introducei numrul CI"})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[a.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4 flex items-center gap-2",children:a.jsx("span",{className:"text-sm sm:text-base",children:"Detalii Vehicul"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Culoare *"}),a.jsx("input",{type:"text",value:w,onChange:Ae=>E(Ae.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Introducei culoarea mainii"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Numr de nmatriculare *"}),a.jsx("input",{type:"text",value:O,onChange:Ae=>z(Ae.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Introducei numrul de nmatriculare"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Kilometraj (NR/KM LA BORD) *"}),a.jsx("input",{type:"number",value:Y,onChange:Ae=>B(Ae.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Introducei kilometrajul"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Tip combustibil *"}),a.jsxs("select",{value:$,onChange:Ae=>T(Ae.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/50",children:[a.jsx("option",{value:"",children:"Selectai tipul de combustibil"}),a.jsx("option",{value:"gasoline",children:"Benzina"}),a.jsx("option",{value:"diesel",children:"Motorina"}),a.jsx("option",{value:"hybrid",children:"Hibrid"}),a.jsx("option",{value:"electric",children:"Electric"})]})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[a.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4 flex items-center gap-2",children:a.jsx("span",{className:"text-sm sm:text-base",children:"Detalii Plat"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Metod de plat (Mod achitare locaiune) *"}),a.jsx("input",{type:"text",value:A,onChange:Ae=>R(Ae.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"ex: Numerar, Card, Transfer"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Sum depozit (DEPOZIT) MDL *"}),a.jsx("input",{type:"number",value:L,onChange:Ae=>q(Ae.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Introducei suma depozitului"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Metod de plat depozit (Mod achitare garanie)"}),a.jsx("input",{type:"text",value:W,onChange:Ae=>ee(Ae.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"ex: Numerar, Card"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Valoare main (pentru clauza de pierdere total)"}),a.jsx("input",{type:"number",value:fe,onChange:Ae=>pe(Ae.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Introducei valoarea mainii n MDL"})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[a.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4 flex items-center gap-2",children:a.jsx("span",{className:"text-sm sm:text-base",children:"Locaii Preluare i Returnare"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Locaie preluare"}),a.jsx("input",{type:"text",value:M,onChange:Ae=>V(Ae.target.value),placeholder:"Chiinu, str. Mircea cel Btrn 13/1",className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Locaie returnare"}),a.jsx("input",{type:"text",value:U,onChange:Ae=>I(Ae.target.value),placeholder:"Chiinu, str. Mircea cel Btrn 13/1",className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50"})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[a.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4 flex items-center gap-2",children:a.jsx("span",{className:"text-sm sm:text-base",children:"Starea Vehiculului (Anexa Nr.2)"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Kilometraj preluare (km)"}),a.jsx("input",{type:"number",value:H,onChange:Ae=>D(Ae.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Introducei kilometrajul"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Nivel combustibil preluare (%)"}),a.jsx("input",{type:"number",value:P,onChange:Ae=>re(Ae.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Introducei nivelul combustibilului"})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[a.jsx("h3",{className:"text-base sm:text-lg font-bold text-white flex items-center gap-2",children:a.jsx("span",{className:"text-sm sm:text-base",children:"oferi Adiionali"})}),a.jsxs("button",{onClick:le,className:"px-2.5 sm:px-3 py-1.5 bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/50 text-emerald-300 rounded-lg transition-all flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm",children:[a.jsx(oy,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Adaug ofer"}),a.jsx("span",{className:"sm:hidden",children:"Adaug"})]})]}),ae.map((Ae,me)=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 sm:gap-4 p-3 sm:p-4 bg-white/5 rounded-lg border border-white/10 mt-3 sm:mt-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Prenume"}),a.jsx("input",{type:"text",value:Ae.firstName,onChange:Ce=>Se(me,"firstName",Ce.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Prenume"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Nume"}),a.jsx("input",{type:"text",value:Ae.lastName,onChange:Ce=>Se(me,"lastName",Ce.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Nume"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"IDNP"}),a.jsx("input",{type:"text",value:Ae.idnp,onChange:Ce=>Se(me,"idnp",Ce.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"IDNP"})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{onClick:()=>ne(me),className:"w-full px-3 sm:px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 rounded-lg transition-all flex items-center justify-center gap-1.5 sm:gap-2 text-xs sm:text-sm",children:[a.jsx(Q2,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"terge"})]})})]},me))]})]}),a.jsxs("div",{className:"border-t border-white/20 px-4 sm:px-6 py-3 sm:py-4 flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-2 sm:gap-3 bg-white/5 backdrop-blur-sm",style:{backgroundColor:"#1C1C1C"},children:[a.jsx("button",{onClick:t,disabled:u,className:"px-3 sm:px-4 md:px-6 py-2 bg-white/5 hover:bg-white/10 border border-white/10 text-white rounded-lg transition-all font-semibold text-xs sm:text-sm disabled:opacity-50",children:"Anuleaz"}),a.jsx("button",{onClick:Ee,disabled:u,className:"px-3 sm:px-4 md:px-6 py-2 bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/50 text-emerald-300 rounded-lg transition-all font-semibold flex items-center justify-center gap-1.5 sm:gap-2 text-xs sm:text-sm disabled:opacity-50",children:u?a.jsxs(a.Fragment,{children:[a.jsx(ua,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 animate-spin"}),a.jsx("span",{children:"Se creeaz contractul..."})]}):"Creeaz Contract"})]})]})})}),document.body):null},k0e=({onSave:e,onClose:t})=>{const[r,n]=_.useState([]),i=new Date,s=new Date;s.setDate(i.getDate()+1);const[o,l]=_.useState({customerName:"",customerEmail:"",customerPhone:"",carId:"",carName:"",startDate:i.toISOString().split("T")[0],startTime:"09:00",endDate:s.toISOString().split("T")[0],endTime:"17:00",status:"ACTIVE",amount:0});_.useEffect(()=>{(async()=>{try{const x=await lo();n(x.length>0?x:nc)}catch(x){console.error("Error loading cars:",x),n(nc)}})()},[]);const c=()=>{if(!o.startDate||!o.endDate||!o.carId)return 0;const m=r.find(g=>g.id.toString()===o.carId);if(!m)return 0;const x=new Date(o.startDate),p=new Date(o.endDate),v=Math.ceil((p.getTime()-x.getTime())/(1e3*60*60*24))||1;return(m.pricePerDay||m.price_per_day||0)*v};_.useEffect(()=>{if(r.length>0){const m=c();l(x=>({...x,amount:m}))}},[o.startDate,o.endDate,o.carId,r]);const u=m=>{const x=r.find(v=>v.id.toString()===m),p=x?x.name||`${x.make||""} ${x.model||""}`.trim():"";l(v=>({...v,carId:m,carName:p}))},h=m=>{if(m.preventDefault(),!o.customerName||!o.carId){alert("Please fill in all required fields");return}e(o)};return Na.createPortal(a.jsx(Ie.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:1},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",onClick:t,style:{zIndex:1e4},children:a.jsxs(Ie.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:m=>m.stopPropagation(),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white/10 backdrop-blur-xl border-b border-white/20 px-6 py-4 flex items-center justify-between",style:{backgroundColor:"#1C1C1C"},children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Add New Order"}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:a.jsx(hn,{className:"w-5 h-5 text-white"})})]}),a.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10 space-y-4",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Customer Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Customer Name *"}),a.jsx("input",{type:"text",value:o.customerName||"",onChange:m=>l(x=>({...x,customerName:m.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),a.jsx("input",{type:"email",value:o.customerEmail||"",onChange:m=>l(x=>({...x,customerEmail:m.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Phone *"}),a.jsx("input",{type:"tel",value:o.customerPhone||"",onChange:m=>l(x=>({...x,customerPhone:m.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",required:!0})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10 space-y-4",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Vehicle Selection"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Car *"}),a.jsxs("select",{value:o.carId||"",onChange:m=>u(m.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",required:!0,children:[a.jsx("option",{value:"",children:"Select a car..."}),r.map(m=>{const x=m.pricePerDay||m.price_per_day||0,p=m.discount_percentage||m.discount_percentage||0,v=p>0?x*(1-p/100):x,y=m.name||`${m.make||""} ${m.model||""}`.trim();return a.jsxs("option",{value:m.id.toString(),children:[y," - ",v.toFixed(0)," MDL/day",p>0?` (-${p}%)`:""]},m.id)})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10 space-y-4",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Rental Period"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Date *"}),a.jsx("input",{type:"date",value:o.startDate||"",onChange:m=>l(x=>({...x,startDate:m.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Time *"}),a.jsx("input",{type:"time",value:o.startTime||"",onChange:m=>l(x=>({...x,startTime:m.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Date *"}),a.jsx("input",{type:"date",value:o.endDate||"",onChange:m=>l(x=>({...x,endDate:m.target.value})),min:o.startDate,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Time *"}),a.jsx("input",{type:"time",value:o.endTime||"",onChange:m=>l(x=>({...x,endTime:m.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",required:!0})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10 space-y-4",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Status & Amount"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status *"}),a.jsxs("select",{value:o.status||"ACTIVE",onChange:m=>l(x=>({...x,status:m.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",children:[a.jsx("option",{value:"ACTIVE",children:"Active"}),a.jsx("option",{value:"COMPLETED",children:"Completed"}),a.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Amount (MDL)"}),a.jsx("input",{type:"number",step:"0.01",value:o.amount||0,onChange:m=>l(x=>({...x,amount:parseFloat(m.target.value)||0})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",readOnly:!0}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Calculated automatically based on rental period"})]})]})]}),a.jsxs("div",{className:"flex gap-4 justify-end",children:[a.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-lg transition-all",children:"Cancel"}),a.jsxs("button",{type:"submit",className:"px-6 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 hover:text-red-200 font-semibold rounded-lg transition-all backdrop-blur-xl flex items-center gap-2",children:[a.jsx(wh,{className:"w-4 h-4"}),"Add Order"]})]})]})]})}),document.body)},C0e=()=>{const{t:e}=br(),[t]=du(),r=t.get("search")||"",{showSuccess:n,showError:i}=Ih(),[s,o]=_.useState(null),[l,c]=_.useState(void 0),[u,h]=_.useState(!1),[m,x]=_.useState(!1),[p,v]=_.useState([]),[y,g]=_.useState(null),[j,k]=_.useState(!1),[w,E]=_.useState([]),[O,z]=_.useState(!0),[Y,B]=_.useState(!0);_.useEffect(()=>{(async()=>{try{const U=await lo(),I=U.length>0?U:nc,H=await Promise.all(I.map(async D=>{let G=D.name;(!G||G.trim()==="")&&(G=`${D.make} ${D.model}`);const{mainImage:Z,photoGallery:P}=await Tn(G);return{...D,image_url:Z||D.image_url,photo_gallery:P.length>0?P:D.photo_gallery}}));E(H)}catch(U){console.error("Error loading cars:",U),E(nc)}finally{z(!1)}})()},[]);const $=async()=>{if(w.length!==0)try{B(!0);const U=(await yN(w)).filter(I=>I.type==="rental");v(U)}catch(V){console.error("Failed to load orders:",V)}finally{B(!1)}};_.useEffect(()=>{w.length>0&&$()},[w]);const T=async V=>{g(V.id.toString());try{const U=await py(V.id.toString());if(U.success){const I=V.request_id;if(console.log("Order being cancelled:",V.id,"Request ID:",I,"Order object:",V),I)try{console.log("Attempting to update request",I,"to REJECTED");const H=await Tf(I.toString(),{status:"REJECTED"});console.log("Update result:",H),H.success?console.log("Successfully updated request to REJECTED"):console.warn("Failed to update corresponding request status:",H.error)}catch(H){console.warn("Error updating corresponding request:",H)}else console.log("No request_id found for this order");n("Comanda a fost anulat cu succes i cererea corespunztoare a fost setat ca respins!"),h(!1),o(null),c(void 0),await $()}else i(`Euare la anularea comenzii: ${U.error||"Eroare necunoscut"}`)}catch(U){console.error("Error cancelling order:",U),i("A aprut o eroare la anularea comenzii.")}finally{g(null)}},A=async V=>{g(V.id.toString());try{const U=await gy(V.id.toString());U.success?(n("Order restored successfully!"),h(!1),o(null),c(void 0),await $()):i(`Failed to restore order: ${U.error||"Unknown error"}`)}catch(U){console.error("Error restoring order:",U),i("An error occurred while restoring the order.")}finally{g(null)}},R=_.useMemo(()=>{const V=new Date,U=V.getMonth(),I=V.getFullYear(),H=new Date(V);H.setDate(1),H.setHours(0,0,0,0);const D=p.filter(Me=>new Date(Me.createdAt)>=H&&Me.status==="COMPLETED"),G=new Date(I,U-1,1),Z=new Date(I,U,0,23,59,59,999),P=p.filter(Me=>{const He=new Date(Me.createdAt);return He>=G&&He<=Z&&Me.status==="COMPLETED"}),re=D.reduce((Me,He)=>Me+(He.amount||0),0),ce=P.reduce((Me,He)=>Me+(He.amount||0),0),be=ce>0?(re-ce)/ce*100:0,ae=Math.max(1,Math.floor((V.getTime()-H.getTime())/(1e3*60*60*24))+1),ue=re/ae,fe=Z.getDate(),pe=ce/fe,de=new Map;D.forEach(Me=>{const He=new Date(Me.createdAt).toISOString().split("T")[0];de.set(He,(de.get(He)||0)+(Me.amount||0))});let le="",ne=0;de.forEach((Me,He)=>{Me>ne&&(ne=Me,le=He)});const Ee=p.filter(Me=>Me.type==="rental"&&Me.status==="COMPLETED").length,qe=P.length,ve=qe>0?(D.length-qe)/qe*100:0,Ae=Ee>0?re/Ee:0,me=D.filter(Me=>Me.status==="COMPLETED").length,Ce=Ee>0?me/Ee*100:0;return{totalRevenue:re,lastMonthRevenue:ce,revenueGrowth:be,avgDailyRevenue:ue,avgDailyRevenueLastMonth:pe,bestDay:le,bestDayRevenue:ne,totalOrders:Ee,lastMonthOrdersCount:qe,orderGrowth:ve,avgOrderValue:Ae,conversionRate:Ce}},[p]),L=_.useMemo(()=>{const V=p.filter(I=>I.type==="rental"&&I.status==="COMPLETED"),U=I=>{const H=new Date,D=[];let G,Z,P;switch(I){case"24H":G=new Date(H.getTime()-24*60*60*1e3),Z=24,P=60*60*1e3;break;case"7D":G=new Date(H.getTime()-7*24*60*60*1e3),Z=7,P=24*60*60*1e3;break;case"30D":G=new Date(H.getTime()-30*24*60*60*1e3),Z=30,P=24*60*60*1e3;break;case"WEEKS":G=new Date(H.getTime()-28*24*60*60*1e3),Z=4,P=7*24*60*60*1e3;break;case"12M":G=new Date(H.getTime()-365*24*60*60*1e3),Z=12,P=30*24*60*60*1e3;break}for(let re=0;re<Z;re++){const ce=new Date(G.getTime()+re*P),be=new Date(G.getTime()+(re+1)*P),ue=V.filter(pe=>{if(!pe.createdAt)return!1;const de=new Date(pe.createdAt);return de>=ce&&de<be}).reduce((pe,de)=>{const le=de.amount||parseFloat(de.total_amount||"0")||0;return pe+le},0),fe=V.length>0?V.reduce((pe,de)=>pe+(de.amount||parseFloat(de.total_amount||"0")||0),0)/V.length*.7:0;D.push({day:re+1,sales:Math.round(ue),baseline:Math.round(fe)})}return D};return{"24H":U("24H"),"7D":U("7D"),"30D":U("30D"),WEEKS:U("WEEKS"),"12M":U("12M")}},[p]),q=_.useMemo(()=>{const V=p.filter(I=>I.type==="rental"&&I.status==="COMPLETED"),U=I=>{const H=new Date;let D,G,Z;switch(I){case"24H":D=new Date(H.getTime()-24*60*60*1e3),G=new Date(H.getTime()-48*60*60*1e3),Z=new Date(H.getTime()-24*60*60*1e3);break;case"7D":D=new Date(H.getTime()-7*24*60*60*1e3),G=new Date(H.getTime()-14*24*60*60*1e3),Z=new Date(H.getTime()-7*24*60*60*1e3);break;case"30D":D=new Date(H.getTime()-30*24*60*60*1e3),G=new Date(H.getTime()-60*24*60*60*1e3),Z=new Date(H.getTime()-30*24*60*60*1e3);break;case"WEEKS":D=new Date(H.getTime()-28*24*60*60*1e3),G=new Date(H.getTime()-56*24*60*60*1e3),Z=new Date(H.getTime()-28*24*60*60*1e3);break;case"12M":D=new Date(H.getTime()-365*24*60*60*1e3),G=new Date(H.getTime()-730*24*60*60*1e3),Z=new Date(H.getTime()-365*24*60*60*1e3);break}const P=V.filter(ue=>{if(!ue.createdAt)return!1;const fe=new Date(ue.createdAt);return fe>=D&&fe<=H}),re=V.filter(ue=>{if(!ue.createdAt)return!1;const fe=new Date(ue.createdAt);return fe>=G&&fe<Z}),ce=P.reduce((ue,fe)=>{const pe=fe.amount||parseFloat(fe.total_amount||"0")||0;return ue+pe},0),be=re.reduce((ue,fe)=>{const pe=fe.amount||parseFloat(fe.total_amount||"0")||0;return ue+pe},0),ae=be>0?(ce-be)/be*100:0;return{sales:ce,change:ae,isPositive:ae>=0}};return{"24H":U("24H"),"7D":U("7D"),"30D":U("30D"),WEEKS:U("WEEKS"),"12M":U("12M")}},[p]),[W,ee]=_.useState(!1),M=(V,U)=>{console.log("handling order click for order: ",V),o(V),c(U),h(!0)};return O?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(ua,{className:"w-8 h-8 animate-spin text-white/50"})}):a.jsxs(a.Fragment,{children:[a.jsxs(Ie.div,{initial:{opacity:1},animate:{opacity:1},transition:{duration:.4},className:"space-y-8",children:[a.jsx(Ie.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4},children:a.jsx(Lfe,{title:e("admin.orders.allOrders"),orders:p,loading:Y,onOrderClick:M,onAddOrder:()=>x(!0),initialSearch:r,showCancelled:j,onToggleShowCancelled:()=>k(!j),cars:w})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(Ie.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg",children:a.jsx(o7,{allPeriodData:L,periodStats:q})}),a.jsx(Ie.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.15},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg",children:a.jsxs("div",{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-xs font-semibold tracking-wider text-gray-400 uppercase mb-1",children:"VENITURI"}),a.jsxs("h3",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:[R.totalRevenue.toFixed(2)," MDL"]}),a.jsxs("p",{className:"text-sm text-emerald-400 font-semibold",children:[R.revenueGrowth>=0?"":""," ",Math.abs(R.revenueGrowth).toFixed(1),"% fa de ultimele 30 zile"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Comparaie cu Luna Trecut"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Venituri Luna Trecut"}),a.jsxs("span",{className:"text-white font-semibold",children:[R.lastMonthRevenue.toFixed(2)," MDL"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Cretere"}),a.jsxs("span",{className:`font-semibold ${R.revenueGrowth>=0?"text-emerald-400":"text-red-400"}`,children:[R.revenueGrowth>=0?"":""," ",Math.abs(R.revenueGrowth).toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Medie Zilnic (Luna Aceasta)"}),a.jsxs("span",{className:"text-white font-semibold",children:[R.avgDailyRevenue.toFixed(2)," MDL"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Medie Zilnic (Luna Trecut)"}),a.jsxs("span",{className:"text-white font-semibold",children:[R.avgDailyRevenueLastMonth.toFixed(2)," MDL"]})]})]})]}),R.bestDay&&a.jsxs("div",{className:"border-t border-white/10 pt-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Ziua cu Cea Mai Bun Performan"}),a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-400",children:new Date(R.bestDay).toLocaleDateString("ro-RO",{day:"numeric",month:"short",year:"numeric"})}),a.jsxs("span",{className:"text-white font-semibold",children:[R.bestDayRevenue.toFixed(2)," MDL"]})]})})]}),a.jsxs("div",{className:"border-t border-white/10 pt-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Metrici Cheie"}),a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Total Comenzi"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-white font-semibold",children:R.totalOrders}),R.orderGrowth!==0&&a.jsxs("span",{className:`text-xs ${R.orderGrowth>=0?"text-emerald-400":"text-red-400"}`,children:[R.orderGrowth>=0?"":""," ",Math.abs(R.orderGrowth).toFixed(1),"%"]})]})]})})]})]})]})})]})]}),a.jsx(Zy,{isOpen:u,onClose:()=>{h(!1),o(null),c(void 0)},order:s,orderNumber:l,onCancel:T,onRedo:A,isProcessing:y===(s==null?void 0:s.id.toString()),cars:w,onOpenContractModal:()=>{h(!1),ee(!0)}}),s&&w.length>0&&(()=>{const V=w.find(U=>U.id.toString()===s.carId);return V?a.jsx(jj,{isOpen:W,onClose:()=>ee(!1),order:s,car:V,orderNumber:l,onContractCreated:async()=>{ee(!1),await $(),h(!1),o(null)}}):null})(),m&&a.jsx(k0e,{onSave:async V=>{console.log("Saving order:",V),x(!1),await $()},onClose:()=>x(!1)})]})},P0e=()=>a.jsx(C0e,{}),E0e=({orderId:e})=>{const t=kn(),{t:r}=br(),[n,i]=_.useState([]),[s,o]=_.useState(!1),[l,c]=_.useState(!1),[u,h]=_.useState([]);_.useEffect(()=>{(async()=>{try{const E=await lo(),O=await Promise.all(E.map(async z=>{let Y=z.name;(!Y||Y.trim()==="")&&(Y=`${z.make} ${z.model}`);const{mainImage:B,photoGallery:$}=await Tn(Y);return{...z,image_url:B||z.image_url,photo_gallery:$.length>0?$:z.photo_gallery}}));h(O)}catch(E){console.error("Error loading cars:",E)}})()},[]);const m=async()=>{if(u.length!==0)try{const{fetchRentalsOnly:w}=await ii(async()=>{const{fetchRentalsOnly:z}=await Promise.resolve().then(()=>Nh);return{fetchRentalsOnly:z}},void 0),O=(await w(u)).filter(z=>z.type==="rental");i(O)}catch(w){console.error("Failed to load orders:",w)}};_.useEffect(()=>{u.length>0&&m()},[u]);const x=async()=>{const w=n.find(E=>E.id===e);if(w&&window.confirm(r("admin.orders.confirmCancelOrder"))){c(!0);try{const E=await py(w.id.toString());E.success?(alert(r("admin.orders.orderCancelled")),await m(),t("/admin?section=orders")):alert(`${r("admin.orders.orderCancelFailed")} ${E.error}`)}catch(E){console.error("Error cancelling order:",E),alert(r("admin.orders.orderCancelErrorOccurred"))}finally{c(!1)}}},p=async()=>{const w=n.find(E=>E.id===e);if(w&&window.confirm(r("admin.orders.confirmRestoreOrder"))){c(!0);try{const E=await gy(w.id.toString());E.success?(alert(r("admin.orders.orderRestored")),await m()):alert(`${r("admin.orders.orderRestoreFailed")} ${E.error}`)}catch(E){console.error("Error restoring order:",E),alert(r("admin.orders.orderRestoreErrorOccurred"))}finally{c(!1)}}},v=n.find(w=>w.id===e),y=v?u.find(w=>w.id.toString()===v.carId):null,[g,j]=_.useState((y==null?void 0:y.image)||(y==null?void 0:y.image_url));_.useEffect(()=>{!v||!y?n.length>0&&t("/admin?section=orders"):(j(y.image||y.image_url||""),window.scrollTo({top:0,behavior:"smooth"}))},[e,v,y,t,n.length]);const k=async()=>{if(!v||!y){alert(r("admin.orders.contractNotFound"));return}console.log("Starting contract generation...",{order:v,car:y}),o(!0);try{await a9(v,y,void 0,{customerPhone:v.customerPhone||""}),console.log("Contract generation completed successfully")}catch(w){console.error("Error generating contract:",w);const E=w instanceof Error?w.message:"Unknown error";alert(`${r("admin.orders.contractGenerationFailed")}: ${E}

${r("admin.orders.contractGenerationErrorDetails")}`)}finally{o(!1)}};return!v||!y?null:a.jsxs(Ie.div,{initial:{opacity:1},animate:{opacity:1},transition:{duration:.4},className:"flex flex-col lg:grid lg:grid-cols-[1fr_360px] gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx(Ie.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white/10 backdrop-blur-xl border border-white/20 hover:border-red-500/50 rounded-xl p-6 transition-all shadow-lg",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:g,alt:(y==null?void 0:y.name)||`${y.make||""} ${y.model||""}`.trim()||"Car",className:"w-32 h-20 object-cover rounded-lg border border-white/20"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:(y==null?void 0:y.name)||`${y.make||""} ${y.model||""}`.trim()||"Car"}),a.jsxs("div",{className:"text-sm text-gray-300",children:[y.transmission,"  ",y.seats," seats"]})]})]})}),a.jsxs(Ie.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 space-y-6 shadow-lg",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:r("admin.orders.bookingInfo")}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-lg p-3 border border-white/10",children:[a.jsx(ta,{className:"w-5 h-5 text-gray-300 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Pickup"}),a.jsx("span",{className:"text-white text-sm font-medium",children:new Date(v.pickupDate).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-lg p-3 border border-white/10",children:[a.jsx(ra,{className:"w-5 h-5 text-gray-300 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Time"}),a.jsx("span",{className:"text-white text-sm font-medium",children:v.pickupTime||"--:--"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-lg p-3 border border-white/10",children:[a.jsx(ta,{className:"w-5 h-5 text-gray-300 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Return"}),a.jsx("span",{className:"text-white text-sm font-medium",children:new Date(v.returnDate).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-lg p-3 border border-white/10",children:[a.jsx(ra,{className:"w-5 h-5 text-gray-300 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Time"}),a.jsx("span",{className:"text-white text-sm font-medium",children:v.returnTime||"--:--"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide mb-1",children:"Rental Days"}),a.jsx("span",{className:"text-white text-lg font-bold",children:uj(v.pickupDate,v.returnDate)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide mb-1",children:"Total Price"}),a.jsx("span",{className:"text-white text-lg font-bold",children:(v.amount??0)>0?`${v.amount} MDL`:`${uj(v.pickupDate,v.returnDate)*y.price_per_day} MDL`})]})]}),y.features&&Array.isArray(y.features)&&y.features.length>0&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"border-t border-white/10 pt-6",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:r("admin.cars.additionalFeatures")}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:(y.features||[]).map((w,E)=>a.jsxs("div",{className:"flex items-center gap-2 text-gray-300 text-sm",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),a.jsx("span",{children:w})]},E))})]})})]}),a.jsxs(Ie.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Customer"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-xl shadow-lg flex-shrink-0",children:"C"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-semibold",children:v.customerName}),a.jsx("div",{className:"text-gray-300 text-sm",children:v.customerEmail}),v.customerPhone&&a.jsx("div",{className:"text-gray-300 text-sm mt-1",children:v.customerPhone})]})]})]}),a.jsxs(Ie.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:r("admin.orders.payment")}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-sm uppercase tracking-wide",children:"Amount Paid"}),a.jsxs("div",{className:"text-white font-bold text-2xl",children:[v.amount," MDL"]})]}),a.jsx("div",{className:`px-4 py-2 rounded-lg text-sm font-semibold border backdrop-blur-xl
                            ${v.status==="Paid"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/50":v.status==="Pending"?"bg-yellow-500/20 text-yellow-300 border-yellow-500/50":"bg-red-500/20 text-red-300 border-red-500/50"}`,children:v.status})]})]})]}),a.jsx("aside",{className:"lg:col-start-2",children:a.jsxs(Ie.div,{initial:{opacity:1,x:0},animate:{opacity:1,x:0},transition:{duration:.4},className:"sticky top-24 space-y-3",children:[a.jsx("button",{onClick:k,disabled:s,className:"w-full bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/50 hover:border-emerald-500/60 text-emerald-300 hover:text-emerald-200 font-semibold py-3 px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:s?a.jsxs(a.Fragment,{children:[a.jsx(ua,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(pO,{className:"w-4 h-4"}),a.jsx(Yc,{className:"w-4 h-4"}),"Download Contract"]})}),a.jsx("button",{className:"w-full bg-white/10 backdrop-blur-xl hover:bg-white/20 border border-white/20 hover:border-white/30 text-white font-semibold py-3 px-6 rounded-lg transition-all shadow-lg",onClick:()=>t(`/admin?section=orders&orderId=${v.id}&edit=true`),children:"Edit Order"}),v.status!=="CANCELLED"&&a.jsx("button",{className:"w-full bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 hover:border-red-500/60 text-red-300 hover:text-red-200 font-semibold py-3 px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:x,disabled:l,children:l?a.jsxs(a.Fragment,{children:[a.jsx(ua,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(hn,{className:"w-4 h-4"}),"Cancel Order"]})}),v.status==="CANCELLED"&&a.jsx("button",{className:"w-full bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/50 hover:border-emerald-500/60 text-emerald-300 hover:text-emerald-200 font-semibold py-3 px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:p,disabled:l,children:l?a.jsxs(a.Fragment,{children:[a.jsx(ua,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(qp,{className:"w-4 h-4"}),"Undo Cancel"]})})]})})]})},D0e=({currentMonth:e,prevMonth:t,nextMonth:r,generateCalendarDays:n,eventsByDay:i,selectedDate:s,handleSelectDay:o,displayDate:l,displayDateObj:c,selectedDayPickups:u,selectedDayReturns:h,setSelectedDate:m,setSelectedOrder:x,setIsModalOpen:p,getOrderNumber:v,getStatusDisplay:y,formatTime:g,sortBy:j,sortOrder:k,handleSort:w,sortOrders:E,clearSort:O,cars:z})=>{const{t:Y}=br(),B=E(u,!0),$=E(h,!1);return a.jsxs("div",{className:"grid grid-cols-[380px,1fr] gap-8",children:[a.jsx("div",{children:a.jsxs(Ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white/5 backdrop-blur-xl border border-white/20 rounded-2xl shadow-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("div",{className:"text-sm font-medium text-white",children:e.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),a.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Lu","Ma","Mi","Jo","Vi","S","Du"].map((T,A)=>a.jsx("div",{className:`text-gray-400 font-medium ${A===5||A===6?"text-red-400":""}`,children:T},T))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:n(e).map((T,A)=>{if(!T)return a.jsx("div",{},A);const R=new Date(T),L=T,q=i.pickups.has(L),W=i.returns.has(L),ee=q||W,M=G3(R,e),V=new Date;V.setHours(0,0,0,0);const U=R.getFullYear()===V.getFullYear()&&R.getMonth()===V.getMonth()&&R.getDate()===V.getDate(),I=new Date(R);I.setHours(0,0,0,0);const H=I<V,D=s===L||s===null&&U;let G="";return U&&D?G="bg-red-500 text-white ring-1 ring-white/60 ring-offset-1 ring-offset-transparent font-semibold":U?G="bg-red-500 text-white":D?ee?H?G="bg-gray-500/40 text-white ring-1 ring-white/60 ring-offset-1 ring-offset-transparent font-semibold hover:bg-gray-500/50":G="bg-yellow-500/20 text-white ring-1 ring-white/60 ring-offset-1 ring-offset-transparent font-semibold hover:bg-yellow-500/30":G="ring-1 ring-white/60 ring-offset-1 ring-offset-transparent text-white hover:ring-white/50 bg-white/5 font-semibold":ee?H?G="bg-gray-500/40 text-white hover:bg-gray-500/50":G="bg-yellow-500/20 text-white hover:bg-yellow-500/30":G="hover:bg-white/10",a.jsxs("div",{className:`w-9 h-9 flex items-center justify-center text-xs rounded-xl transition-colors relative cursor-pointer ${M?"text-white":"text-gray-500"} ${G}`,onClick:()=>o(L),children:[R.getDate(),ee&&a.jsx("div",{className:`absolute top-0 right-0 w-2 h-2 rounded-full ${U?"bg-yellow-500":H?"bg-gray-500":"bg-red-500"}`})]},A)})})]})}),a.jsx("div",{children:a.jsxs(Ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-xl font-bold text-white",children:[c.toLocaleDateString("ro-RO",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),!s&&a.jsxs("span",{className:"ml-2 text-sm text-gray-400",children:["(",Y("admin.calendar.today"),")"]})]}),s&&a.jsx("button",{onClick:()=>m(null),className:"text-gray-400 hover:text-white transition-colors p-1",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),B.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("h4",{className:"text-base font-semibold text-yellow-300 mb-4 uppercase tracking-wide",children:[Y("admin.calendar.pickups")," (",B.length,")"]}),a.jsx("div",{className:"space-y-4",children:B.map(T=>{const A=z.find(q=>q.id.toString()===T.carId.toString()),R=A&&A.name||"Unknown Car",L=T.customerName||"Unknown Customer";return a.jsx(Ie.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.2},onClick:()=>{x(T),p(!0)},className:"p-5 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all cursor-pointer group",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center group-hover:bg-white/20 transition-colors",children:a.jsx(sc,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-white text-sm",children:L}),a.jsxs("div",{className:"text-gray-400 text-xs",children:[Y("admin.calendar.rental")," #",v(T).toString().padStart(4,"0")]})]})]}),(()=>{const q=y(T.status);return a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${q.className} flex-shrink-0`,children:q.text})})()]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:a.jsx("span",{className:"text-white/90 text-sm truncate",children:R})}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-4",children:[a.jsx(ra,{className:"w-4 h-4 text-yellow-400/70 flex-shrink-0"}),a.jsx("span",{className:"text-yellow-400 text-lg font-bold tracking-tight",children:g(T.pickupTime)})]})]})]})},T.id)})})]}),$.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("h4",{className:"text-base font-semibold text-blue-300 mb-4 uppercase tracking-wide",children:[Y("admin.calendar.returns")," (",$.length,")"]}),a.jsx("div",{className:"space-y-4",children:$.map(T=>{const A=z.find(q=>q.id.toString()===T.carId.toString()),R=A&&A.name||"Unknown Car",L=T.customerName||"Unknown Customer";return a.jsx(Ie.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.2},onClick:()=>{x(T),p(!0)},className:"p-5 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all cursor-pointer group",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center group-hover:bg-white/20 transition-colors",children:a.jsx(sc,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-white text-sm",children:L}),a.jsxs("div",{className:"text-gray-400 text-xs",children:[Y("admin.calendar.rental")," #",v(T).toString().padStart(4,"0")]})]})]}),(()=>{const q=y(T.status);return a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${q.className} flex-shrink-0`,children:q.text})})()]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:a.jsx("span",{className:"text-white/90 text-sm truncate",children:R})}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-4",children:[a.jsx(ra,{className:"w-4 h-4 text-blue-400/70 flex-shrink-0"}),a.jsx("span",{className:"text-blue-400 text-lg font-bold tracking-tight",children:g(T.returnTime)})]})]})]})},T.id)})})]}),B.length===0&&$.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"No bookings for this day"})]})})]})},A0e=()=>{const{t:e}=br(),[t,r]=_.useState(new Date),[n,i]=_.useState(!1),[s,o]=_.useState(null),[l,c]=_.useState(null),[u,h]=_.useState(null),[m,x]=_.useState(!1),[p,v]=_.useState([]),[y,g]=_.useState([]),[j,k]=_.useState(!1),w=_.useRef(null);_.useEffect(()=>{const de=()=>{k(window.innerWidth>=1024)};return de(),window.addEventListener("resize",de),()=>window.removeEventListener("resize",de)},[]);const[E,O]=_.useState({make:"",model:""}),[z,Y]=_.useState(!1),[B,$]=_.useState(!1),[T,A]=_.useState("time"),[R,L]=_.useState("asc");_.useEffect(()=>{(async()=>{try{const le=await lo(),ne=await Promise.all(le.map(async Se=>{let Ee=Se.name;(!Ee||Ee.trim()==="")&&(Ee=`${Se.make} ${Se.model}`);const{mainImage:qe,photoGallery:ve}=await Tn(Ee);return{...Se,image_url:qe||Se.image_url,photo_gallery:ve.length>0?ve:Se.photo_gallery}}));g(ne)}catch(le){console.error("Error loading cars:",le)}})()},[]),_.useEffect(()=>{(async()=>{if(y.length!==0)try{const ne=(await yN(y)).filter(Se=>Se.type==="rental");v(ne)}catch(le){console.error("Failed to load orders:",le)}})()},[y]),_.useEffect(()=>{const de=le=>{if(w.current&&!w.current.contains(le.target)){const ne=new Date;ne.setHours(0,0,0,0);const Se=ao(ne,"yyyy-MM-dd");c(Se)}};return document.addEventListener("mousedown",de),()=>{document.removeEventListener("mousedown",de)}},[]);const q=_.useMemo(()=>{const de={};return y.forEach(le=>{let ne="",Se="";if(le.make&&le.model)ne=le.make,Se=le.model;else{const qe=(le.name||`${le.make||""} ${le.model||""}`.trim()).split(" "),ve=qe[0];ne=ve.includes("-")?ve.split("-")[0]:ve,Se=qe.slice(1).join(" ")}ne&&(de[ne]||(de[ne]=[]),Se&&!de[ne].includes(Se)&&de[ne].push(Se))}),de},[y]),W=_.useMemo(()=>E.make?q[E.make]||[]:[],[E.make,q]),ee=_.useMemo(()=>{const de=y.map(le=>{if(le.make){const Ee=le.make;return Ee.includes("-")?Ee.split("-")[0]:Ee}const Se=(le.name||"").split(" ")[0];return Se.includes("-")?Se.split("-")[0]:Se}).filter(le=>le);return[...new Set(de)]},[y]),M=(de,le)=>{O(ne=>{let Se={...ne,[de]:le};if(de==="make"&&le){const Ee=q[le]||[];ne.model&&!Ee.includes(ne.model)?Se.model="":(Se.make=le,Ee.length===1&&(Se.model=Ee[0]))}else de==="model"&&le&&Se.make&&((q[Se.make]||[]).includes(le)?Se.model=le:Se.model="");if(Se.make!==""&&Se.model!==""){const Ee=y.filter(qe=>{let ve="",Ae="";if(qe.make&&qe.model)ve=qe.make,Ae=qe.model;else{const He=(qe.name||"").split(" "),at=He[0];ve=at.includes("-")?at.split("-")[0]:at,Ae=He.slice(1).join(" ")}const me=Se.make?ve===Se.make:!0,Ce=Se.model?Ae===Se.model:!0;return me&&Ce});o(Ee.length>0?Ee[0]:null)}else Se.make!==""?o({make:Se.make,name:Se.make,id:null}):o(null);return O(Se),Se})},V=()=>{Y(!1),$(!1)},U=de=>{de==="make"&&(Y(le=>!le),$(!1)),de==="model"&&E.make&&($(le=>!le),Y(!1))},I=de=>{c(l===de?null:de)},H=de=>{const le=de.toUpperCase();if(le==="CONTRACT")return{text:"Contract",className:"bg-orange-500/20 text-orange-300 border border-orange-500/50"};if(le==="ACTIVE")return{text:"Active",className:"bg-blue-500/20 text-blue-300 border border-blue-500/50"};if(le==="COMPLETED")return{text:"Completed",className:"bg-emerald-500/20 text-emerald-300 border border-emerald-500/50"};if(le==="CANCELLED")return{text:"Cancelled",className:"bg-gray-500/20 text-gray-300 border border-gray-500/50"};const ne=de.toLowerCase();return ne==="paid"?{text:"To Deliver",className:"bg-emerald-500/20 text-emerald-300 border border-emerald-500/50"}:ne==="pending"?{text:"Not Paid",className:"bg-orange-500/20 text-orange-300 border border-orange-500/50"}:{text:"To Call",className:"bg-gray-500/20 text-gray-300 border border-gray-500/50"}},D=de=>{try{let le=de.trim();if(/AM|PM/i.test(le)){const Ee=/PM/i.test(le);le=le.replace(/AM|PM/gi,"").trim();const[qe,ve]=le.split(":");let Ae=parseInt(qe,10);return Ee&&Ae!==12?Ae+=12:!Ee&&Ae===12&&(Ae=0),`${Ae.toString().padStart(2,"0")}:${ve.padStart(2,"0")}`}const Se=le.split(":");if(Se.length>=2){const Ee=Se[0].padStart(2,"0"),qe=Se[1].padStart(2,"0");return`${Ee}:${qe}`}return de}catch{return de}},G=_.useMemo(()=>de=>(typeof de.id=="number"?de.id:parseInt(de.id.toString(),10))||0,[]),Z=de=>{const ne=de.split(" ")[0];return ne.includes("-")?ne.split("-")[0]:ne},P=de=>{const le=de.toLowerCase();return{mercedes:"/logos/merc.svg","mercedes-benz":"/logos/merc.svg",bmw:"/logos/bmw.webp",audi:"/logos/audi.png",hyundai:"/logos/hyundai.png",maserati:"/logos/maserati.png"}[le]||null},re=de=>{const le=de.toLowerCase();return le==="maserati"||le==="audi"?"w-6 h-6":"w-4 h-4"},ce=_.useMemo(()=>{const de=new Map,le=new Map;let ne=p.filter(Se=>{const Ee=(Se.status||"").toUpperCase();return!(Ee==="COMPLETED"||Ee==="CANCELLED")});return E.make&&(ne=ne.filter(Se=>{const Ee=y.find(Ce=>Ce.id.toString()===Se.carId.toString());if(!Ee)return!1;let qe="",ve="";if(Ee.make&&Ee.model)qe=Ee.make,ve=Ee.model;else{const Me=(Ee.name||"").split(" "),He=Me[0];qe=He.includes("-")?He.split("-")[0]:He,ve=Me.slice(1).join(" ")}const Ae=qe===E.make,me=E.model?ve===E.model:!0;return Ae&&me})),ne.forEach(Se=>{const Ee=ao(new Date(Se.pickupDate),"yyyy-MM-dd");de.has(Ee)||de.set(Ee,[]),de.get(Ee).push(Se);const qe=ao(new Date(Se.returnDate),"yyyy-MM-dd");le.has(qe)||le.set(qe,[]),le.get(qe).push(Se)}),{pickups:de,returns:le}},[E,p,y]),be=de=>{T===de?L(le=>le==="asc"?"desc":"asc"):(A(de),L("asc"))},ae=(de,le)=>T?[...de].sort((Se,Ee)=>{let qe=0;switch(T){case"time":const ve=D(le?Se.pickupTime:Se.returnTime),Ae=D(le?Ee.pickupTime:Ee.returnTime);qe=ve.localeCompare(Ae);break;case"customer":qe=(Se.customerName||"").localeCompare(Ee.customerName||"");break;case"car":const me=y.find(ge=>ge.id.toString()===Se.carId.toString()),Ce=y.find(ge=>ge.id.toString()===Ee.carId.toString()),Me=me&&me.name||"",He=Ce&&Ce.name||"";qe=Me.localeCompare(He);break;case"status":const at=Se.status||"",pt=Ee.status||"";qe=at.localeCompare(pt);break;default:return 0}return R==="asc"?qe:-qe}):de,ue=()=>r(de=>h7(de)),fe=()=>r(de=>K3(de,1)),pe=de=>{const le=de.getFullYear(),ne=de.getMonth(),Se=new Date(le,ne,1),Ee=new Date(Se),qe=Se.getDay(),ve=qe===0?6:qe-1;Ee.setDate(Ee.getDate()-ve);const Ae=[],me=new Date(Ee);for(let Ce=0;Ce<42;Ce++)me.getMonth()===ne?Ae.push(me.toISOString().split("T")[0]):Ae.push(null),me.setDate(me.getDate()+1);return Ae};return a.jsxs("div",{ref:w,className:"max-w-[1600px] mx-auto px-0 sm:px6 lg:px-8",children:[a.jsxs("div",{className:"mb-4 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 lg:gap-4",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:flex-wrap items-start lg:items-center gap-2 lg:gap-2",children:[a.jsxs("div",{className:"lg:hidden flex items-center justify-between gap-2 w-full",children:[a.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.calendar.sortBy")}),T&&T!=="time"&&a.jsx("button",{onClick:()=>{A("time"),L("asc")},className:"px-2.5 py-0 text-xs font-semibold text-gray-400 hover:text-white transition-colors whitespace-nowrap",children:e("admin.calendar.clearSort")})]}),a.jsx("span",{className:"hidden lg:inline text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.calendar.sortBy")}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full lg:w-auto",children:[a.jsxs("button",{onClick:()=>be("car"),className:`flex items-center gap-1 px-2.5 lg:px-3 py-1.5 text-xs font-semibold rounded-lg border transition-all flex-1 sm:flex-initial min-w-0 ${T==="car"?"bg-red-500/20 text-red-300 border-red-500/50":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:[a.jsx("span",{className:"truncate",children:e("admin.calendar.car")}),T==="car"&&(R==="asc"?a.jsx(ki,{className:"w-3 h-3 flex-shrink-0"}):a.jsx(_i,{className:"w-3 h-3 flex-shrink-0"})),T!=="car"&&a.jsx(Si,{className:"w-3 h-3 opacity-50 flex-shrink-0"})]}),a.jsxs("button",{onClick:()=>be("status"),className:`flex items-center gap-1 px-2.5 lg:px-3 py-1.5 text-xs font-semibold rounded-lg border transition-all flex-1 sm:flex-initial min-w-0 ${T==="status"?"bg-red-500/20 text-red-300 border-red-500/50":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:[a.jsx("span",{className:"truncate",children:e("admin.calendar.status")}),T==="status"&&(R==="asc"?a.jsx(ki,{className:"w-3 h-3 flex-shrink-0"}):a.jsx(_i,{className:"w-3 h-3 flex-shrink-0"})),T!=="status"&&a.jsx(Si,{className:"w-3 h-3 opacity-50 flex-shrink-0"})]}),T&&T!=="time"&&a.jsx("button",{onClick:()=>{A("time"),L("asc")},className:"hidden lg:block px-3 py-1.5 text-xs font-semibold text-gray-400 hover:text-white transition-colors whitespace-nowrap",children:e("admin.calendar.clearSort")}),!j&&!s&&a.jsxs("button",{onClick:()=>i(!n),className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded-lg border bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white transition-all flex-shrink-0",children:[a.jsx(Up,{className:"w-3 h-3"}),a.jsx("span",{children:e(n?"admin.calendar.hideFilters":"admin.calendar.showFilters")})]})]})]}),a.jsxs("div",{className:"hidden lg:flex items-center gap-2 flex-shrink-0",children:[s&&(()=>{const de=s.make&&!s.id,le=de?s.make:s.name||"Selected Car",ne=de?s.make:Z(le),Se=P(ne);return a.jsxs("div",{className:"px-3 py-1.5 rounded-lg bg-white/10 border border-white/20 text-white text-xs font-medium flex items-center gap-2 max-w-full",children:[Se&&a.jsx("img",{src:Se,alt:ne,className:`${re(ne)} object-contain brightness-0 invert flex-shrink-0`,onError:Ee=>{Ee.target.style.display="none"}}),a.jsx("span",{className:"truncate",children:le})]})})(),(!s||j)&&a.jsxs("button",{onClick:()=>i(!n),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg border bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white transition-all flex-shrink-0",children:[a.jsx(Up,{className:"w-3 h-3"}),a.jsx("span",{children:e(n?"admin.calendar.hideFilters":"admin.calendar.showFilters")})]})]}),!j&&s&&(()=>{const de=s.make&&!s.id,le=de?s.make:s.name||"Selected Car",ne=de?s.make:Z(le),Se=P(ne);return a.jsxs("div",{className:"px-2.5 py-1.5 rounded-lg bg-white/10 border border-white/20 text-white text-xs font-medium flex items-center gap-1.5 max-w-full",children:[Se&&a.jsx("img",{src:Se,alt:ne,className:`${re(ne)} object-contain brightness-0 invert flex-shrink-0`,onError:Ee=>{Ee.target.style.display="none"}}),a.jsx("span",{className:"truncate",children:le}),a.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),O({make:"",model:""}),o(null)},className:"ml-1 p-0.5 hover:bg-white/20 rounded transition-colors flex-shrink-0","aria-label":"Clear filter",children:a.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})()]}),typeof window<"u"&&Na.createPortal(a.jsx(mr,{children:n&&a.jsxs(a.Fragment,{children:[a.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 z-[9998]",onClick:()=>i(!1)}),a.jsx(Ie.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 right-0 bottom-0 w-80 max-w-[85vw] bg-white/10 backdrop-blur-xl border-l border-white/20 shadow-2xl z-[9999] overflow-y-auto",onClick:de=>de.stopPropagation(),children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Filters"}),a.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex-1 relative dropdown-container z-[10000]",children:[a.jsx("label",{className:"block text-[11px] font-semibold mb-2 uppercase tracking-widest text-white/80",children:"Marca"}),a.jsxs("div",{className:`px-3 py-2 rounded-md bg-white/5 cursor-pointer border border-white/10 flex items-center gap-2 ${E.make?"text-white":"text-white/70"}`,onClick:()=>U("make"),children:[E.make&&(()=>{const de=P(E.make.toLowerCase());return de?a.jsx("img",{src:de,alt:E.make,className:`${re(E.make)} object-contain brightness-0 invert`,onError:le=>{le.target.style.display="none"}}):null})(),a.jsx("span",{children:E.make||"Selecteaz marca"})]}),a.jsx(mr,{children:z&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-[10001]",onClick:V}),a.jsxs(Ie.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute top-full left-0 right-0 mt-1 border border-white/20 rounded-xl shadow-2xl z-[10002] min-w-[200px] max-h-[300px] overflow-y-auto",style:{backgroundColor:"#363636"},children:[a.jsx("div",{className:"px-4 py-2 cursor-pointer hover:bg-white/10 text-white",onClick:()=>{M("make",""),V()},children:"Selecteaz marca"}),ee.length>0?ee.map(de=>{const le=P(de.toLowerCase());return a.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-white/10 text-white flex items-center gap-2",onClick:()=>{M("make",de),V()},children:[a.jsx("div",{className:"w-6 flex items-center justify-center flex-shrink-0",children:le&&a.jsx("img",{src:le,alt:de,className:`${re(de)} object-contain brightness-0 invert`,onError:ne=>{ne.target.style.display="none"}})}),a.jsx("span",{children:de})]},de)}):a.jsx("div",{className:"px-4 py-2 text-white/50 text-sm",children:"Nu sunt maini disponibile"})]})]})})]}),a.jsxs("div",{className:"flex-1 relative dropdown-container z-[9999]",children:[a.jsx("label",{className:"block text-[11px] font-semibold mb-2 uppercase tracking-widest text-white/80",children:"Model"}),a.jsx("div",{className:`px-3 py-2 rounded-md bg-white/5 cursor-pointer border border-white/10 flex items-center gap-2 ${E.make?"text-white":"text-white/50 cursor-not-allowed"}`,onClick:()=>E.make&&U("model"),children:E.make?E.model||"Orice":"Selecteaz marca"}),B&&E.make&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-[10001]",onClick:V}),a.jsxs(Ie.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute top-full left-0 right-0 mt-1 border border-white/20 rounded-xl shadow-2xl z-[10002] min-w-[200px] max-h-[300px] overflow-y-auto",style:{backgroundColor:"#363636"},children:[W.length>1&&a.jsx("div",{className:"px-4 py-2 cursor-pointer hover:bg-white/10 text-white",onClick:()=>{M("model",""),V()},children:"Orice"}),W.length>0?W.map(de=>a.jsx("div",{className:"px-4 py-2 cursor-pointer hover:bg-white/10 text-white",onClick:()=>{M("model",de),V()},children:de},de)):E.make?a.jsx("div",{className:"px-4 py-2 text-white/50 text-sm",children:"Nu sunt modele disponibile"}):null]})]})]}),(E.make||E.model)&&a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{onClick:()=>{i(!1)},className:"w-full px-4 py-2.5 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 rounded-lg text-red-300 text-sm font-semibold transition-all flex items-center justify-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Apply Filters"]})})]})]})})]})}),document.body),!j&&a.jsxs(a.Fragment,{children:[a.jsxs(Ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white/5 backdrop-blur-xl border border-white/20 rounded-2xl shadow-lg p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("button",{onClick:ue,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("div",{className:"text-sm font-medium text-white",children:t.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),a.jsx("button",{onClick:fe,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),a.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Lu","Ma","Mi","Jo","Vi","S","Du"].map((de,le)=>a.jsx("div",{className:`text-gray-400 font-medium ${le===5||le===6?"text-red-400":""}`,children:de},de))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:pe(t).map((de,le)=>{if(!de)return a.jsx("div",{},le);const ne=new Date(de),Se=de,Ee=ce.pickups.has(Se),qe=ce.returns.has(Se),ve=Ee||qe,Ae=G3(ne,t),me=new Date;me.setHours(0,0,0,0);const Ce=ne.getFullYear()===me.getFullYear()&&ne.getMonth()===me.getMonth()&&ne.getDate()===me.getDate(),Me=new Date(ne);Me.setHours(0,0,0,0);const He=Me<me,at=l===Se||l===null&&Ce;let pt="";return Ce&&at?pt="bg-red-500 text-white ring-1 ring-white/60 ring-offset-1 ring-offset-transparent font-semibold":Ce?pt="bg-red-500 text-white":at?ve?He?pt="bg-gray-500/40 text-white ring-1 ring-white/60 ring-offset-1 ring-offset-transparent font-semibold hover:bg-gray-500/50":pt="bg-yellow-500/20 text-white ring-1 ring-white/60 ring-offset-1 ring-offset-transparent font-semibold hover:bg-yellow-500/30":pt="ring-1 ring-white/60 ring-offset-1 ring-offset-transparent text-white hover:ring-white/50 bg-white/5 font-semibold":ve?He?pt="bg-gray-500/40 text-white hover:bg-gray-500/50":pt="bg-yellow-500/20 text-white hover:bg-yellow-500/30":pt="hover:bg-white/10",a.jsxs("div",{className:`w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center text-xs rounded-xl transition-colors relative cursor-pointer ${Ae?"text-white":"text-gray-500"} ${pt}`,onClick:()=>I(Se),children:[ne.getDate(),ve&&a.jsx("div",{className:`absolute top-0 right-0 w-2 h-2 rounded-full ${Ce?"bg-yellow-500":He?"bg-gray-500":"bg-red-500"}`})]},le)})})]}),(()=>{const de=new Date;de.setHours(0,0,0,0);const le=ao(de,"yyyy-MM-dd"),ne=l||le,Se=new Date(ne),Ee=ae(ce.pickups.get(ne)||[],!0),qe=ae(ce.returns.get(ne)||[],!1);return a.jsxs(Ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-white",children:[Se.toLocaleDateString("ro-RO",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),!l&&a.jsxs("span",{className:"ml-2 text-sm text-gray-400",children:["(",e("admin.calendar.today"),")"]})]}),l&&a.jsx("button",{onClick:()=>c(null),className:"text-gray-400 hover:text-white transition-colors p-1",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),Ee.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("h4",{className:"text-sm font-semibold text-yellow-300 mb-3 uppercase tracking-wide",children:[e("admin.calendar.pickups")," (",Ee.length,")"]}),a.jsx("div",{className:"space-y-3",children:Ee.map(ve=>{const Ae=y.find(Me=>Me.id.toString()===ve.carId.toString()),me=Ae&&Ae.name||"Unknown Car",Ce=ve.customerName||"Unknown Customer";return a.jsx(Ie.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.2},onClick:()=>{h(ve),x(!0)},className:"p-4 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all cursor-pointer group",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center group-hover:bg-white/20 transition-colors",children:a.jsx(sc,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-white text-sm",children:Ce}),a.jsxs("div",{className:"text-gray-400 text-xs",children:[e("admin.calendar.rental")," #",G(ve).toString().padStart(4,"0")]})]})]}),(()=>{const Me=H(ve.status);return a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${Me.className} flex-shrink-0`,children:Me.text})})()]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:a.jsx("span",{className:"text-white/90 text-sm truncate",children:me})}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-4",children:[a.jsx(ra,{className:"w-4 h-4 text-yellow-400/70 flex-shrink-0"}),a.jsx("span",{className:"text-yellow-400 text-lg font-bold tracking-tight",children:D(ve.pickupTime)})]})]})]})},ve.id)})})]}),qe.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("h4",{className:"text-sm font-semibold text-blue-300 mb-3 uppercase tracking-wide",children:[e("admin.calendar.returns")," (",qe.length,")"]}),a.jsx("div",{className:"space-y-3",children:qe.map(ve=>{const Ae=y.find(Me=>Me.id.toString()===ve.carId.toString()),me=Ae&&Ae.name||"Unknown Car",Ce=ve.customerName||"Unknown Customer";return a.jsx(Ie.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.2},onClick:()=>{h(ve),x(!0)},className:"p-4 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all cursor-pointer group",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center group-hover:bg-white/20 transition-colors",children:a.jsx(sc,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-white text-sm",children:Ce}),a.jsxs("div",{className:"text-gray-400 text-xs",children:[e("admin.calendar.rental")," #",G(ve).toString().padStart(4,"0")]})]})]}),(()=>{const Me=H(ve.status);return a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${Me.className} flex-shrink-0`,children:Me.text})})()]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:a.jsx("span",{className:"text-white/90 text-sm truncate",children:me})}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-4",children:[a.jsx(ra,{className:"w-4 h-4 text-blue-400/70 flex-shrink-0"}),a.jsx("span",{className:"text-blue-400 text-lg font-bold tracking-tight",children:D(ve.returnTime)})]})]})]})},ve.id)})})]}),Ee.length===0&&qe.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"No bookings for this day"})]})})()]}),j&&(()=>{const de=new Date;de.setHours(0,0,0,0);const le=ao(de,"yyyy-MM-dd"),ne=l||le,Se=new Date(ne),Ee=ce.pickups.get(ne)||[],qe=ce.returns.get(ne)||[];return a.jsx(D0e,{currentMonth:t,prevMonth:ue,nextMonth:fe,generateCalendarDays:pe,eventsByDay:ce,selectedDate:l,handleSelectDay:I,displayDate:ne,displayDateObj:Se,selectedDayPickups:Ee,selectedDayReturns:qe,setSelectedDate:c,setSelectedOrder:h,setIsModalOpen:x,getOrderNumber:G,getStatusDisplay:H,formatTime:D,sortBy:T,sortOrder:R,handleSort:be,sortOrders:ae,clearSort:()=>{A("time"),L("asc")},cars:y})})(),a.jsx(Zy,{isOpen:m,onClose:()=>{x(!1),h(null)},order:u,cars:y})]})},T0e=()=>{const{t:e}=br();return a.jsx(Ie.div,{initial:{opacity:1},animate:{opacity:1},transition:{duration:.4},className:"space-y-6",children:a.jsxs(Ie.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-white/10",children:a.jsx("h2",{className:"text-xl font-bold text-white",children:e("admin.orders.bookingCalendar")})}),a.jsx("div",{className:"p-6",children:a.jsx(A0e,{viewMode:"admin"})})]})})},O0e=()=>{const{t:e}=br();kn();const[t,r]=_.useState([]),[n,i]=_.useState(!0),[s,o]=_.useState(""),[l,c]=_.useState(1),[u,h]=_.useState(null),[m,x]=_.useState(null),[p,v]=_.useState("asc"),[y,g]=_.useState([]),j=10;_.useEffect(()=>{(async()=>{try{const{fetchRentalsOnly:A}=await ii(async()=>{const{fetchRentalsOnly:ee}=await Promise.resolve().then(()=>Nh);return{fetchRentalsOnly:ee}},void 0),L=(await A(nc)).filter(ee=>ee.type==="rental");g(L);const{data:q,error:W}=await qt.from("Profiles").select("id, first_name, last_name, email, phone_number, role, created_at, updated_at").order("created_at",{ascending:!1});if(W){console.error("Failed to load users from Profiles table:",W);const ee=new Map;L.forEach(M=>{if(!M.customerName||!M.customerEmail)return;const V=M.customerEmail.toLowerCase();if(!ee.has(V)){const U=M.customerName.trim().split(" "),I=U[0]||"",H=U.slice(1).join(" ")||"";ee.set(V,{id:V,first_name:I,last_name:H,email:M.customerEmail,phone_number:M.customerPhone||void 0,role:"User"})}}),r(Array.from(ee.values()));return}if(q&&q.length>0){const ee=q.map(M=>({id:M.id,first_name:M.first_name||"",last_name:M.last_name||"",email:M.email||"",phone_number:M.phone_number||void 0,role:M.role||"User"}));r(ee)}else r([])}catch(A){console.error("Failed to load users and orders:",A),r([])}finally{i(!1)}})()},[]);const k=T=>{const A=t.find(R=>R.id===T||R.id.toString()===T.toString());return A?y.filter(R=>{var L,q;return((L=R.customerEmail)==null?void 0:L.toLowerCase())===A.email.toLowerCase()||((q=R.customerName)==null?void 0:q.toLowerCase())===`${A.first_name} ${A.last_name}`.toLowerCase()}).length:0},w=T=>{const A=t.find(R=>R.id===T||R.id.toString()===T.toString());return A?y.filter(R=>{var L,q;return((L=R.customerEmail)==null?void 0:L.toLowerCase())===A.email.toLowerCase()||((q=R.customerName)==null?void 0:q.toLowerCase())===`${A.first_name} ${A.last_name}`.toLowerCase()}).reduce((R,L)=>R+(L.amount||0),0):0},E=_.useMemo(()=>{let T=t.filter(A=>A.first_name.toLowerCase().includes(s.toLowerCase())||A.last_name.toLowerCase().includes(s.toLowerCase())||A.phone_number&&A.phone_number.toLowerCase().includes(s.toLowerCase())||A.email.toLowerCase().includes(s.toLowerCase()));return m&&T.sort((A,R)=>{let L="",q="";switch(m){case"name":L=`${A.first_name} ${A.last_name}`.toLowerCase(),q=`${R.first_name} ${R.last_name}`.toLowerCase();break;case"email":L=A.email.toLowerCase(),q=R.email.toLowerCase();break;case"role":L=A.role.toLowerCase(),q=R.role.toLowerCase();break}return L<q?p==="asc"?-1:1:L>q?p==="asc"?1:-1:0}),T},[t,s,m,p,y]),O=Math.ceil(E.length/j),z=E.slice((l-1)*j,l*j),Y=T=>{T<1||T>O||c(T)},B=T=>{m===T?v(A=>A==="asc"?"desc":"asc"):(x(T),v("asc"))},$=u?y.filter(T=>{var A,R;return((A=T.customerEmail)==null?void 0:A.toLowerCase())===u.email.toLowerCase()||((R=T.customerName)==null?void 0:R.toLowerCase())===`${u.first_name} ${u.last_name}`.toLowerCase()}):[];return n?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(ua,{className:"w-8 h-8 animate-spin text-white/50"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"px-3 md:px-6 py-3 md:py-4 border-b border-white/10",children:a.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[a.jsx("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3 md:gap-4",children:a.jsx("h2",{className:"text-lg md:text-xl font-bold text-white",children:e("admin.users.title")||"Users"})}),a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3 md:gap-4",children:[a.jsx("div",{className:"w-full md:flex-1 md:max-w-md",children:a.jsxs("div",{className:"relative",children:[a.jsx(ic,{className:"absolute left-2.5 md:left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-3.5 h-3.5 md:w-4 md:h-4"}),a.jsx("input",{type:"text",placeholder:e("admin.users.search"),value:s,onChange:T=>{o(T.target.value),c(1)},className:"w-full pl-9 md:pl-10 pr-3 md:pr-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/50 text-white text-xs md:text-sm placeholder-gray-400"})]})}),a.jsxs("div",{className:"w-full md:w-auto flex flex-col md:flex-row items-stretch md:items-center gap-2",children:[a.jsx("span",{className:"hidden md:inline text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.users.sortBy")}),a.jsx("span",{className:"md:hidden text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:e("admin.users.sortBy")}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("button",{onClick:()=>B("email"),className:`flex items-center gap-1 px-2.5 md:px-3 py-1.5 text-xs font-semibold rounded-lg border transition-all flex-1 sm:flex-initial min-w-0 ${m==="email"?"bg-red-500/20 text-red-300 border-red-500/50":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:[a.jsx("span",{className:"truncate",children:e("admin.users.email")}),m==="email"&&(p==="asc"?a.jsx(ki,{className:"w-3 h-3 flex-shrink-0"}):a.jsx(_i,{className:"w-3 h-3 flex-shrink-0"})),m!=="email"&&a.jsx(Si,{className:"w-3 h-3 opacity-50 flex-shrink-0"})]}),a.jsxs("button",{onClick:()=>B("role"),className:`flex items-center gap-1 px-2.5 md:px-3 py-1.5 text-xs font-semibold rounded-lg border transition-all flex-1 sm:flex-initial min-w-0 ${m==="role"?"bg-red-500/20 text-red-300 border-red-500/50":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:[a.jsx("span",{className:"truncate",children:e("admin.users.role")}),m==="role"&&(p==="asc"?a.jsx(ki,{className:"w-3 h-3 flex-shrink-0"}):a.jsx(_i,{className:"w-3 h-3 flex-shrink-0"})),m!=="role"&&a.jsx(Si,{className:"w-3 h-3 opacity-50 flex-shrink-0"})]}),m&&a.jsx("button",{onClick:()=>{x(null),v("asc")},className:"px-2.5 md:px-3 py-1.5 text-xs font-semibold text-gray-400 hover:text-white transition-colors whitespace-nowrap",children:e("admin.users.clearSort")})]})]})]})]})}),a.jsx("div",{className:"block md:hidden p-4 space-y-4",children:z.length===0?a.jsx("div",{className:"px-4 py-12 text-center text-gray-400",children:e("admin.users.noUsers")}):z.map(T=>a.jsxs("div",{className:`bg-white/5 border border-white/10 rounded-lg p-4 hover:bg-white/10 transition cursor-pointer ${(u==null?void 0:u.id)===T.id?"bg-white/10":""}`,onClick:()=>h(T),children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-sm flex-shrink-0 shadow-md",children:T.first_name.charAt(0)}),a.jsx("div",{className:"flex flex-col min-w-0 flex-1",children:a.jsxs("span",{className:"font-semibold text-white text-sm truncate",children:[T.first_name," ",T.last_name]})})]}),a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold border backdrop-blur-sm flex-shrink-0 ${T.role.trim().toLowerCase()==="admin"?"bg-purple-500/20 text-purple-300 border-purple-500/50":"bg-blue-500/20 text-blue-300 border-blue-500/50"}`,children:T.role.charAt(0)+T.role.slice(1).toLowerCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-white/10",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-xs mb-1",children:e("admin.users.rentals")}),a.jsx("p",{className:"text-white font-semibold text-base",children:k(T.id)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-xs mb-1",children:e("admin.users.totalSpent")}),a.jsxs("p",{className:"text-white font-semibold text-base",children:[w(T.id).toFixed(2)," MDL"]})]})]})]},T.id))}),a.jsx("div",{className:"hidden md:block overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-white/5 border-b border-white/10",children:[a.jsx("th",{className:"text-left px-6 py-3 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.users.user")}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:a.jsxs("button",{onClick:()=>B("email"),className:"flex items-center gap-1.5 hover:text-white transition-colors",children:[e("admin.users.email"),m==="email"?p==="asc"?a.jsx(ki,{className:"w-3 h-3"}):a.jsx(_i,{className:"w-3 h-3"}):a.jsx(Si,{className:"w-3 h-3 opacity-50"})]})}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.users.phone")}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:a.jsxs("button",{onClick:()=>B("role"),className:"flex items-center gap-1.5 hover:text-white transition-colors",children:[e("admin.users.role"),m==="role"?p==="asc"?a.jsx(ki,{className:"w-3 h-3"}):a.jsx(_i,{className:"w-3 h-3"}):a.jsx(Si,{className:"w-3 h-3 opacity-50"})]})}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.users.rentals")}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.users.totalSpent")})]})}),a.jsxs("tbody",{children:[z.map(T=>a.jsxs("tr",{className:`border-b border-white/10 hover:bg-white/5 transition cursor-pointer ${(u==null?void 0:u.id)===T.id?"bg-white/5":""}`,onClick:()=>h(T),children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-sm flex-shrink-0 shadow-md",children:T.first_name.charAt(0)}),a.jsx("div",{className:"flex flex-col min-w-0",children:a.jsxs("span",{className:"font-semibold text-white text-sm truncate",children:[T.first_name," ",T.last_name]})})]})}),a.jsx("td",{className:"px-6 py-4 text-gray-300 text-sm",children:T.email}),a.jsx("td",{className:"px-6 py-4 text-gray-300 text-sm",children:T.phone_number?a.jsx("a",{href:`tel:${T.phone_number.replace(/\s/g,"")}`,className:"hover:text-white transition-colors",onClick:A=>A.stopPropagation(),children:T.phone_number}):a.jsx("span",{className:"text-gray-400",children:"N/A"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-lg text-xs font-semibold border backdrop-blur-xl ${T.role.trim().toLowerCase()==="admin"?"bg-purple-500/20 text-purple-300 border-purple-500/50":"bg-blue-500/20 text-blue-300 border-blue-500/50"}`,children:T.role.charAt(0)+T.role.slice(1).toLowerCase()})}),a.jsx("td",{className:"px-6 py-4 text-gray-300 text-sm",children:k(T.id)}),a.jsxs("td",{className:"px-6 py-4 text-white font-semibold text-sm",children:[w(T.id).toFixed(2)," MDL"]})]},T.id)),z.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400 text-sm",children:e("admin.users.noUsers")})})]})]})}),a.jsxs("div",{className:"px-3 md:px-6 py-3 md:py-4 border-t border-white/10 flex flex-col sm:flex-row items-center justify-between gap-3",children:[a.jsxs("div",{className:"text-xs md:text-sm text-gray-300 text-center sm:text-left",children:[e("admin.users.showing")," ",z.length>0?(l-1)*j+1:0," ",e("admin.users.to")," ",Math.min(l*j,E.length)," ",e("admin.users.of")," ",E.length," ",e("admin.users.users")]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>Y(l-1),disabled:l===1,className:"flex items-center gap-1.5 md:gap-2 px-2.5 md:px-3 py-1.5 md:py-2 rounded-lg border border-white/20 bg-white/10 backdrop-blur-xl text-white disabled:opacity-50 hover:bg-white/20 transition-all text-xs md:text-sm",children:[a.jsx(Oh,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.users.previous")})]}),a.jsxs("div",{className:"text-xs md:text-sm text-gray-300 px-2",children:[e("admin.users.page")," ",l," ",e("admin.users.ofPage")," ",O||1]}),a.jsxs("button",{onClick:()=>Y(l+1),disabled:l===O||O===0,className:"flex items-center gap-1.5 md:gap-2 px-2.5 md:px-3 py-1.5 md:py-2 rounded-lg border border-white/20 bg-white/10 backdrop-blur-xl text-white disabled:opacity-50 hover:bg-white/20 transition-all text-xs md:text-sm",children:[a.jsx("span",{className:"hidden sm:inline",children:e("admin.users.next")}),a.jsx(fs,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})]})]})]})]}),a.jsx(L0e,{isOpen:u!==null,onClose:()=>h(null),user:u,userOrders:$})]})},L0e=({isOpen:e,onClose:t,user:r,userOrders:n})=>{const{t:i}=br(),s=kn();if(!e||!r)return null;const o=l=>{if(!l)return"N/A";try{const c=new Date(l);return isNaN(c.getTime())?l:c.toLocaleDateString("ro-RO",{day:"numeric",month:"short",year:"numeric"})}catch{return l||"N/A"}};return Na.createPortal(a.jsx(mr,{children:e&&a.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",onClick:t,style:{zIndex:1e4},children:a.jsxs(Ie.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:l=>l.stopPropagation(),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg max-w-5xl w-full max-h-[90vh] overflow-y-auto mx-2 sm:mx-4",children:[a.jsxs("div",{className:"sticky top-0 bg-white/10 backdrop-blur-xl border-b border-white/20 px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between z-10",style:{backgroundColor:"#1C1C1C"},children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:i("admin.users.userDetails")}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-lg transition-colors flex-shrink-0",children:a.jsx(hn,{className:"w-5 h-5 text-white"})})]}),a.jsx("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_2fr] gap-4 sm:gap-6",children:[a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsx("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:a.jsxs("div",{className:"flex items-center justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[a.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white text-base sm:text-xl font-bold flex-shrink-0 shadow-lg",children:r.first_name.charAt(0)}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("h3",{className:"text-base sm:text-lg font-bold text-white truncate",children:[r.first_name," ",r.last_name]})})]}),a.jsx("span",{className:`px-2.5 sm:px-3 py-1 rounded-lg text-xs sm:text-sm font-semibold border backdrop-blur-sm flex-shrink-0 ${r.role.trim().toLowerCase()==="admin"?"bg-purple-500/20 text-purple-300 border-purple-500/50":"bg-blue-500/20 text-blue-300 border-blue-500/50"}`,children:r.role.charAt(0)+r.role.slice(1).toLowerCase()})]})}),a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-3 sm:p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[a.jsx(md,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0"}),a.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:i("admin.users.email")})]}),a.jsx("p",{className:"text-white font-medium text-sm sm:text-base",children:r.email})]}),r.phone_number&&a.jsxs("div",{className:"bg-white/5 rounded-lg p-3 sm:p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[a.jsx(Qf,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0"}),a.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:i("admin.users.phone")})]}),a.jsx("a",{href:`tel:${r.phone_number.replace(/\s/g,"")}`,className:"text-white font-medium hover:text-gray-300 transition-colors text-sm sm:text-base",children:r.phone_number})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-3 sm:p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[a.jsx(pH,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0"}),a.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:i("admin.users.totalSpent")})]}),a.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-white",children:[n.reduce((l,c)=>l+(c.amount||0),0).toFixed(2)," MDL"]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[a.jsx(Pi,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0"}),a.jsx("h4",{className:"text-base sm:text-lg font-bold text-white",children:i("admin.users.rentalHistory")}),a.jsxs("span",{className:"text-xs sm:text-sm text-gray-400",children:["(",n.length,")"]})]}),n.length>0?a.jsxs("div",{className:"bg-white/5 rounded-lg border border-white/10 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto max-h-96 overflow-y-auto",children:a.jsxs("table",{className:"w-full text-xs sm:text-sm",style:{minWidth:"100%"},children:[a.jsx("thead",{className:"bg-white/5 sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left px-3 sm:px-4 py-2 sm:py-3 text-xs font-semibold text-gray-400 uppercase tracking-wider whitespace-nowrap",children:i("admin.users.car")}),a.jsx("th",{className:"text-left px-3 sm:px-4 py-2 sm:py-3 text-xs font-semibold text-gray-400 uppercase tracking-wider whitespace-nowrap",children:i("admin.users.dates")}),a.jsx("th",{className:"text-left px-3 sm:px-4 py-2 sm:py-3 text-xs font-semibold text-gray-400 uppercase tracking-wider whitespace-nowrap",children:i("admin.users.amount")})]})}),a.jsx("tbody",{children:n.slice(0,5).map(l=>{var u;const c=nc.find(h=>h.id.toString()===l.carId);return a.jsxs("tr",{className:"border-t border-white/10 hover:bg-white/5 transition",children:[a.jsx("td",{className:"px-3 sm:px-4 py-2 sm:py-3 text-white font-medium text-xs sm:text-sm whitespace-nowrap",children:(c==null?void 0:c.name)||l.carName||"N/A"}),a.jsx("td",{className:"px-3 sm:px-4 py-2 sm:py-3 text-gray-300 text-xs sm:text-sm",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:gap-2 gap-0.5",children:[a.jsx("span",{className:"whitespace-nowrap",children:o(l.pickupDate||l.startDate)}),a.jsx("span",{className:"hidden sm:inline whitespace-nowrap",children:""}),a.jsx("span",{className:"whitespace-nowrap",children:o(l.returnDate||l.endDate)})]})}),a.jsxs("td",{className:"px-3 sm:px-4 py-2 sm:py-3 text-white font-semibold text-xs sm:text-sm whitespace-nowrap",children:[((u=l.amount)==null?void 0:u.toFixed(2))||"0.00"," MDL"]})]},l.id)})})]})}),n.length>0&&a.jsx("div",{className:"p-3 sm:p-4 border-t border-white/10",children:a.jsxs("button",{onClick:()=>{t(),s(`/admin?section=orders&search=${encodeURIComponent(`${r==null?void 0:r.first_name} ${r==null?void 0:r.last_name}`)}`)},className:"w-full px-3 sm:px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/50 text-blue-300 hover:text-blue-200 font-semibold rounded-lg transition-all flex items-center justify-center gap-2 text-xs sm:text-sm",children:[i("admin.users.viewPastRentals",{name:`${r.first_name} ${r.last_name}`}),a.jsx(fs,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})]})})]}):a.jsxs("div",{className:"bg-white/5 rounded-lg p-8 sm:p-12 border border-white/10 text-center",children:[a.jsx(Pi,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400 mx-auto mb-3 sm:mb-4 opacity-50"}),a.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:i("admin.users.noRentalHistory")})]})]})]})})]})})}),document.body)},I0e=()=>a.jsx(Ie.div,{initial:{opacity:1},animate:{opacity:1},transition:{duration:.4},children:a.jsx(O0e,{})});function LD(e){return Ko({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"},child:[]},{tag:"path",attr:{d:"m15 5 4 4"},child:[]}]})(e)}const M0e=({car:e,onSave:t,onCancel:r})=>{var L;const{t:n}=br(),i=Array.isArray(e.category)?e.category:e.category?[e.category]:[],[s,o]=_.useState({...e,category:i}),[l,c]=_.useState(!1),{showSuccess:u,showError:h}=Ih(),[m,x]=_.useState(""),[p,v]=_.useState(!1),[y,g]=_.useState(!1),[j,k]=_.useState(!1),[w,E]=_.useState(0);_.useEffect(()=>{(async()=>{try{const W=await Gp(Number(e.id));if(W){const ee=W.name||`${W.make} ${W.model}`,{mainImage:M,photoGallery:V}=await Tn(ee),U=Array.isArray(W.category)?W.category:W.category?[W.category]:[];console.log("Fetched car data:",W),console.log("Fetched price ranges:",{price_2_4_days:W.price_2_4_days,price_5_15_days:W.price_5_15_days,price_16_30_days:W.price_16_30_days,price_over_30_days:W.price_over_30_days}),console.log("Fetched image URLs:",{image_url:W.image_url,photo_gallery:W.photo_gallery}),o({...W,name:W.name||"",discountPercentage:W.discount_percentage,discount_percentage:W.discount_percentage,image_url:M||W.image_url,photo_gallery:V.length>0?V:W.photo_gallery,category:U,price_2_4_days:W.price_2_4_days,price_5_15_days:W.price_5_15_days,price_16_30_days:W.price_16_30_days,price_over_30_days:W.price_over_30_days})}}catch(W){console.error("Error loading car:",W)}})()},[e.id]);const O=async q=>{q.preventDefault(),c(!0);try{const W=Array.isArray(s.category)?s.category:s.category?[s.category]:[];if(W.length===0){h(n("admin.cars.categoryRequired")||"Please select at least one category"),c(!1);return}let ee=s.image||s.image_url,M=s.photoGallery||s.photo_gallery;const V=e.name||`${e.make} ${e.model}`,U=s.name||`${s.make} ${s.model}`;if(console.log(`[CarUpdate] Checking name change: "${V}" -> "${U}" for car ID ${e.id}`),V!==U&&ee&&!ee.includes("http")){const H=z(V),D=z(U);console.log(`[CarUpdate] Folder names: old="${H}", new="${D}"`),console.log(`[CarUpdate] Original URL: ${ee}`),console.log(`[CarUpdate] URL contains old folder? ${ee.includes(H)}`),ee.includes(H)&&(ee=ee.replace(H,D),console.log(`[CarUpdate] Updated URL: ${ee}`)),M&&Array.isArray(M)&&(M=M.map(G=>G&&G.includes(H)?(console.log(`[CarUpdate] Updating gallery URL: ${G} -> ${G.replace(H,D)}`),G.replace(H,D)):G))}else console.log("[CarUpdate] No name change or no local URLs to update");const I={...s,name:s.name,image_url:ee,photo_gallery:M,price_2_4_days:s.price_2_4_days||s.price_2_4_days,price_5_15_days:s.price_5_15_days||s.price_5_15_days,price_16_30_days:s.price_16_30_days||s.price_16_30_days,price_over_30_days:s.price_over_30_days||s.price_over_30_days,discount_percentage:s.discountPercentage!==void 0?s.discountPercentage:s.discount_percentage,fuel_type:s.fuelType||s.fuel_type,category:W.length===1?W[0]:W};console.log("Car data to save:",I),console.log("Price ranges:",{price_2_4_days:I.price_2_4_days,price_5_15_days:I.price_5_15_days,price_16_30_days:I.price_16_30_days,price_over_30_days:I.price_over_30_days}),console.log("Image URLs to save:",{image_url:I.image_url,photo_gallery:I.photo_gallery}),await t(I),u(n("admin.cars.carSaved")),setTimeout(()=>{r()},500)}catch(W){console.error("Error saving car:",W),h("Failed to save car. Please try again.")}finally{c(!1)}},z=q=>q.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),Y=q=>{const W=q.trim().split(/\s+/);return W.length<2?"car":W.slice(1).join("-").toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^-+|-+$/g,"")},B=async q=>{v(!0);try{const W=s.name||e.name||"car",ee=z(W),V=`${Y(W)}-main.jpg`,U=`${ee}/${V}`;let I,H;try{const G=await qt.storage.from("cars").upload(U,q,{cacheControl:"3600",upsert:!0});I=G.data,H=G.error}catch(G){console.warn("Regular client upload failed, trying admin client:",G);const Z=await ho.storage.from("cars").upload(U,q,{cacheControl:"3600",upsert:!0});I=Z.data,H=Z.error}if(H)throw H;const{data:{publicUrl:D}}=qt.storage.from("cars").getPublicUrl(U);o(G=>({...G,image:D,image_url:D})),u(n("admin.cars.imageUploaded"))}catch(W){console.error("Error uploading image:",W),h(n("admin.cars.imageUploadError"))}finally{v(!1)}},$=async q=>{g(!0);try{const W=s.name||e.name||"car",ee=z(W),M=Y(W),V=s.photoGallery||s.photo_gallery||[];let U=2;if(V.length>0){const P=V.map(re=>{const ce=re.match(/-(\d+)\.(jpg|jpeg|png)/i);return ce?parseInt(ce[1],10):0}).filter(re=>re>0);P.length>0&&(U=Math.max(...P)+1)}const I=`${M}-${U}.jpg`,H=`${ee}/${I}`,{data:D,error:G}=await ho.storage.from("cars").upload(H,q,{cacheControl:"3600",upsert:!1});if(G)throw G;const{data:{publicUrl:Z}}=ho.storage.from("cars").getPublicUrl(H);o(P=>({...P,photoGallery:[...V,Z],photo_gallery:[...V,Z]})),u(n("admin.cars.galleryImageUploaded"))}catch(W){console.error("Error uploading image:",W),h(n("admin.cars.imageUploadError"))}finally{g(!1)}},T=()=>{m.trim()&&(o(q=>({...q,features:[...q.features||[],m.trim()]})),x(""))},A=q=>{o(W=>{var ee;return{...W,features:((ee=W.features)==null?void 0:ee.filter((M,V)=>V!==q))||[]}})},R=q=>{o(W=>({...W,photo_gallery:(W.photoGallery||W.photo_gallery||[]).filter((ee,M)=>M!==q)}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("form",{onSubmit:O,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg space-y-4",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:n("admin.cars.basicInfo")}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("admin.cars.carName")}),a.jsx("input",{type:"text",value:s.name||e.name||"",onChange:q=>o(W=>({...W,name:q.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("admin.cars.year")}),a.jsx("input",{type:"number",value:s.year||"",onChange:q=>o(W=>({...W,year:parseInt(q.target.value)})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("admin.cars.seats")}),a.jsx("input",{type:"number",value:s.seats||"",onChange:q=>o(W=>({...W,seats:parseInt(q.target.value)})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("admin.cars.category")}),a.jsx("div",{className:"flex flex-col md:flex-row md:gap-4 gap-2",children:["suv","sports","luxury"].map(q=>{const ee=(Array.isArray(s.category)?s.category:s.category?[s.category]:[]).includes(q);return a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",checked:ee,onChange:M=>{const V=Array.isArray(s.category)?s.category:s.category?[s.category]:[];M.target.checked?o(U=>({...U,category:[...V,q]})):o(U=>({...U,category:V.filter(I=>I!==q)}))},className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${ee?"bg-red-500 border-red-500":"border-white/30 bg-white/5 group-hover:border-red-400"}`,children:ee&&a.jsx(ro,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"text-white",children:n(q==="suv"?"admin.cars.categorySuv":q==="sports"?"admin.cars.categorySports":"admin.cars.categoryLuxury")})]},q)})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"2-4 zile"}),a.jsx("input",{type:"number",value:s.price_2_4_days||s.price_2_4_days||"",onChange:q=>o(W=>({...W,price_2_4_days:parseFloat(q.target.value)||0})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"}}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"MDL pe zi"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"5-15 zile"}),a.jsx("input",{type:"number",value:s.price_5_15_days||s.price_5_15_days||"",onChange:q=>o(W=>({...W,price_5_15_days:parseFloat(q.target.value)||0})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"}}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"MDL pe zi"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"16-30 zile"}),a.jsx("input",{type:"number",value:s.price_16_30_days||s.price_16_30_days||"",onChange:q=>o(W=>({...W,price_16_30_days:parseFloat(q.target.value)||0})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"}}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"MDL pe zi"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Peste 30 zile"}),a.jsx("input",{type:"number",value:s.price_over_30_days||s.price_over_30_days||"",onChange:q=>o(W=>({...W,price_over_30_days:parseFloat(q.target.value)||0})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"}}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"MDL pe zi"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("admin.cars.discountPercentage")}),a.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:s.discountPercentage!==void 0?s.discountPercentage:s.discount_percentage!==void 0?s.discount_percentage:"",onChange:q=>{const W=q.target.value===""?void 0:parseFloat(q.target.value);o(ee=>({...ee,discountPercentage:W,discount_percentage:W}))},placeholder:"0",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"}}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:n("admin.cars.discountPercentageHint")})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg space-y-4",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:n("admin.cars.specifications")}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("admin.cars.bodyType")}),a.jsxs("select",{value:s.body||"Sedan",onChange:q=>o(W=>({...W,body:q.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},children:[a.jsx("option",{value:"Coupe",children:"Coupe"}),a.jsx("option",{value:"Sedan",children:"Sedan"}),a.jsx("option",{value:"SUV",children:"SUV"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("admin.cars.transmission")}),a.jsxs("select",{value:s.transmission||"Automatic",onChange:q=>o(W=>({...W,transmission:q.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},children:[a.jsx("option",{value:"Automatic",children:"Automatic"}),a.jsx("option",{value:"Manual",children:"Manual"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("admin.cars.fuelType")}),a.jsxs("select",{value:s.fuelType||s.fuel_type||"gasoline",onChange:q=>o(W=>({...W,fuelType:q.target.value,fuel_type:q.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},children:[a.jsx("option",{value:"gasoline",children:"Gasoline"}),a.jsx("option",{value:"diesel",children:"Diesel"}),a.jsx("option",{value:"hybrid",children:"Hybrid"}),a.jsx("option",{value:"electric",children:"Electric"}),a.jsx("option",{value:"petrol",children:"Petrol"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("admin.cars.drivetrain")}),a.jsx("input",{type:"text",value:s.drivetrain||"",onChange:q=>o(W=>({...W,drivetrain:q.target.value})),placeholder:n("admin.placeholders.drivetrain"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"}})]})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg space-y-4",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:n("admin.cars.images")}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("admin.cars.mainImage")}),a.jsxs("div",{children:[a.jsxs("label",{className:"inline-block px-4 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-lg transition-all cursor-pointer flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed mb-2",children:[a.jsx(qx,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:n("admin.cars.uploadImage")}),a.jsx("input",{type:"file",accept:"image/*",onChange:q=>{var ee;const W=(ee=q.target.files)==null?void 0:ee[0];W&&B(W)},className:"hidden",disabled:p})]}),p&&a.jsx("p",{className:"text-xs text-gray-400 mb-2",children:n("admin.cars.uploadingImage")}),(s.image_url||s.image)&&a.jsxs("div",{className:"mt-2 inline-block relative group cursor-pointer",onClick:()=>{E(0),k(!0)},children:[a.jsx("img",{src:s.image_url||s.image,alt:"Preview",className:"h-20 object-contain rounded-lg border border-white/10"}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-xs px-2 py-1 rounded-b-lg",children:n("admin.cars.mainPhoto")})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("admin.cars.photoGallery")}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsxs("label",{className:"px-4 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-lg transition-all cursor-pointer flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(qx,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:n("admin.cars.uploadImage")}),a.jsx("input",{type:"file",accept:"image/*",onChange:q=>{var ee;const W=(ee=q.target.files)==null?void 0:ee[0];W&&$(W)},className:"hidden",disabled:y})]}),y&&a.jsx("p",{className:"text-xs text-gray-400 flex items-center",children:n("admin.common.uploading")})]}),(s.photoGallery||s.photo_gallery||[]).length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:(s.photoGallery||s.photo_gallery||[]).map((q,W)=>a.jsxs("div",{className:"relative group inline-block",children:[a.jsx("img",{src:q,alt:`${n("admin.cars.gallery")} ${W+1}`,className:"h-20 object-contain rounded-lg border border-white/10 bg-white/5 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>{E(W+1),k(!0)}}),a.jsx("button",{type:"button",onClick:ee=>{ee.stopPropagation(),R(W)},className:"absolute top-1 right-1 p-1 bg-red-500/80 hover:bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-10",children:a.jsx(hn,{className:"w-3 h-3"})})]},W))})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg space-y-4",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:n("admin.cars.features")}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx("input",{type:"text",value:m,onChange:q=>x(q.target.value),onKeyPress:q=>q.key==="Enter"&&(q.preventDefault(),T()),placeholder:n("admin.placeholders.addFeature"),className:"flex-1 px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50"}),a.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-lg transition-all",children:a.jsx(oy,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(L=s.features)==null?void 0:L.map((q,W)=>a.jsxs("span",{className:"flex items-center gap-2 px-3 py-1 bg-white/10 border border-white/20 rounded-lg text-white text-sm",children:[q,a.jsx("button",{type:"button",onClick:()=>A(W),className:"hover:text-red-300 transition-colors",children:a.jsx(hn,{className:"w-3 h-3"})})]},W))})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg space-y-4",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:n("admin.cars.statusAndRatings")}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("admin.cars.rating")}),a.jsx("input",{type:"number",step:"0.1",min:"0",max:"5",value:s.rating||"",onChange:q=>o(W=>({...W,rating:parseFloat(q.target.value)})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("admin.cars.reviewsCount")}),a.jsx("input",{type:"number",value:s.reviews||"",onChange:q=>o(W=>({...W,reviews:parseInt(q.target.value)})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"}})]})]})]}),a.jsxs("div",{className:"flex gap-4 justify-end",children:[a.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-lg transition-all",children:n("admin.cars.cancel")}),a.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 hover:text-red-200 font-semibold rounded-lg transition-all backdrop-blur-xl flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?a.jsxs(a.Fragment,{children:[a.jsx(ua,{className:"w-4 h-4 animate-spin"}),n("admin.cars.saving")]}):a.jsxs(a.Fragment,{children:[a.jsx(wh,{className:"w-4 h-4"}),n("admin.common.save")]})})]})]}),j&&Na.createPortal(a.jsx(mr,{children:j&&a.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black z-[99999] flex items-center justify-center",style:{top:0,left:0,right:0,bottom:0,position:"fixed"},onClick:()=>k(!1),children:a.jsxs(Ie.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},onClick:q=>q.stopPropagation(),className:"relative w-full h-full flex flex-col",children:[a.jsxs("div",{className:"absolute top-0 left-0 right-0 z-20 flex items-center justify-between px-6 py-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[(()=>{const q=[s.image_url||s.image,...s.photoGallery||s.photo_gallery||[]].filter(Boolean);return q.length<=1?null:a.jsxs("span",{className:"text-white/70 text-sm font-medium",children:[w+1," of ",q.length]})})(),w===0&&a.jsx("span",{className:"px-3 py-1.5 bg-emerald-500 text-white text-xs font-semibold rounded-full",children:"Main Photo"})]}),a.jsx("button",{onClick:()=>k(!1),className:"p-2 hover:bg-white/10 text-white/80 hover:text-white rounded-lg transition-colors",children:a.jsx(hn,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-6 relative",children:(()=>{const W=[s.image_url||s.image,...s.photoGallery||s.photo_gallery||[]].filter(Boolean)[w];return W?a.jsx("div",{className:"w-full h-full max-w-full max-h-[75vh] flex items-center justify-center",children:a.jsx("img",{src:W,alt:`Image ${w+1}`,className:"max-w-full max-h-[75vh] object-contain rounded-xl"})}):null})()}),(()=>{const q=[s.image_url||s.image,...s.photoGallery||s.photo_gallery||[]].filter(Boolean);return q.length<=1?null:a.jsx("div",{className:"absolute bottom-0 left-0 right-0 border-t border-white/10 bg-black/40 backdrop-blur-md",children:a.jsx("div",{className:"px-6 py-4",children:a.jsx("div",{className:"grid grid-cols-6 gap-3 max-w-4xl mx-auto",children:q.map((W,ee)=>a.jsxs("button",{onClick:()=>E(ee),className:`relative transition-all ${w===ee?"opacity-100":"opacity-50 hover:opacity-80"}`,children:[a.jsx("img",{src:W,alt:`Thumbnail ${ee+1}`,className:`w-full h-20 object-cover rounded-lg transition-all ${w===ee?"border-2 border-white":"border border-white/20"}`}),ee===0&&a.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-emerald-500 rounded-full border border-white/20"})]},ee))})})})})()]})})}),document.body)]})},R0e=({car:e,onSave:t,onClose:r})=>{const[,n]=du(),{t:i}=br(),s=e?Array.isArray(e.category)?e.category:e.category?[e.category]:["luxury"]:["luxury"],[o,l]=_.useState(e?{...e,category:s}:{name:"",category:["luxury"],image:"",pricePerDay:0,year:new Date().getFullYear(),seats:5}),[c,u]=_.useState(!1),[h,m]=_.useState(!1),[x,p]=_.useState(null),[v,y]=_.useState(!1),[g,j]=_.useState(null),{showSuccess:k,showError:w}=Ih(),E=async T=>{T.preventDefault(),y(!0);try{const A=Array.isArray(o.category)?o.category:o.category?[o.category]:[];if(A.length===0){w(i("admin.cars.categoryRequired")||"Please select at least one category"),y(!1);return}const R={...o,category:A.length===1?A[0]:A};if(e)await t(R),k(i("admin.cars.carUpdated")),setTimeout(()=>{r()},500);else{const L=await t(R);typeof L=="number"&&(p(L),m(!0),g&&await $(L,R.name||"car"),k(i("admin.cars.carCreated")))}}catch(A){console.error("Error saving car:",A),w("Failed to save car. Please try again.")}finally{y(!1)}},O=()=>{x&&(n({section:"cars",carId:x.toString()}),r())},z=T=>T.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),Y=T=>{const A=T.trim().split(/\s+/);return A.length<2?"car":A.slice(1).join("-").toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^-+|-+$/g,"")},B=async T=>{if(!e)j(T),k(i("admin.cars.imageSelected"));else{u(!0);try{const A=o.name||e.name||"car",R=z(A),q=`${Y(A)}-main.jpg`,W=`${R}/${q}`;let ee,M;try{const U=await qt.storage.from("cars").upload(W,T,{cacheControl:"3600",upsert:!0});ee=U.data,M=U.error}catch(U){console.warn("Regular client upload failed, trying admin client:",U);const I=await ho.storage.from("cars").upload(W,T,{cacheControl:"3600",upsert:!0});ee=I.data,M=I.error}if(M)throw M;const{data:{publicUrl:V}}=qt.storage.from("cars").getPublicUrl(W);l(U=>({...U,image:V,image_url:V})),k(i("admin.cars.imageUploaded"))}catch(A){console.error("Error uploading image:",A),w(i("admin.cars.imageUploadError"))}finally{u(!1)}}},$=async(T,A)=>{if(g){u(!0);try{const R=z(A),q=`${Y(A)}-main.jpg`,W=`${R}/${q}`;let ee,M;try{const I=await qt.storage.from("cars").upload(W,g,{cacheControl:"3600",upsert:!0});ee=I.data,M=I.error}catch(I){console.warn("Regular client upload failed, trying admin client:",I);const H=await ho.storage.from("cars").upload(W,g,{cacheControl:"3600",upsert:!0});ee=H.data,M=H.error}if(M)throw M;const{data:{publicUrl:V}}=qt.storage.from("cars").getPublicUrl(W),{error:U}=await ho.from("Cars").update({image_url:V,updated_at:new Date().toISOString()}).eq("id",T);U&&console.error("Error updating car with image URL:",U),k(i("admin.cars.imageUploaded"))}catch(R){console.error("Error uploading pending image:",R),w(i("admin.cars.imageUploadError"))}finally{u(!1),j(null)}}};return Na.createPortal(a.jsx(Ie.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:1},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",onClick:r,style:{zIndex:1e4},children:a.jsxs(Ie.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:T=>T.stopPropagation(),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 border-b border-white/20 px-6 py-4 flex items-center justify-between z-10",style:{backgroundColor:"#1C1C1C"},children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:i("admin.cars.addNew")}),a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:i("admin.cars.addNewDescription")})]}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:a.jsx(hn,{className:"w-5 h-5 text-white"})})]}),h?a.jsxs("div",{className:"p-6 text-center space-y-4",children:[a.jsx("div",{className:"text-green-400 mb-4",children:a.jsx(yh,{className:"w-16 h-16 mx-auto"})}),a.jsx("h3",{className:"text-xl font-bold text-white",children:i("admin.cars.carAddedSuccess")}),a.jsx("p",{className:"text-gray-300",children:i("admin.cars.carAddedDescription")}),a.jsxs("div",{className:"flex gap-4 justify-center pt-4",children:[a.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-lg transition-all",children:i("admin.cars.close")}),a.jsxs("button",{type:"button",onClick:O,className:"px-6 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 hover:text-red-200 font-semibold rounded-lg transition-all backdrop-blur-xl flex items-center gap-2",children:[i("admin.cars.continue"),a.jsx(fs,{className:"w-4 h-4"})]})]})]}):a.jsxs("form",{onSubmit:E,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[a.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[vt.createElement(gN,{className:"w-5 h-5"}),i("admin.cars.basicInfo")]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[i("admin.cars.carName")," *"]}),a.jsx("input",{type:"text",value:o.name||"",onChange:T=>l(A=>{const R={...A};return R.name=T.target.value,R}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[i("admin.cars.make")," *"]}),a.jsx("input",{type:"text",value:o.make||"",onChange:T=>l(A=>{const R={...A};return R.make=T.target.value,R}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[i("admin.cars.model")," *"]}),a.jsx("input",{type:"text",value:o.model||"",onChange:T=>l(A=>{const R={...A};return R.model=T.target.value,R}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[i("admin.cars.category")," *"]}),a.jsx("div",{className:"flex flex-col md:flex-row md:gap-4 gap-2",children:["suv","sports","luxury"].map(T=>{const R=(Array.isArray(o.category)?o.category:o.category?[o.category]:[]).includes(T);return a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",checked:R,onChange:L=>{const q=Array.isArray(o.category)?o.category:o.category?[o.category]:[];L.target.checked?l(W=>({...W,category:[...q,T]})):l(W=>({...W,category:q.filter(ee=>ee!==T)}))},className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${R?"bg-red-500 border-red-500":"border-white/30 bg-white/5 group-hover:border-red-400"}`,children:R&&a.jsx(ro,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"text-white",children:i(T==="suv"?"admin.cars.categorySuv":T==="sports"?"admin.cars.categorySports":"admin.cars.categoryLuxury")})]},T)})})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[i("admin.cars.year")," *"]}),a.jsx("input",{type:"number",value:o.year||"",onChange:T=>l(A=>({...A,year:parseInt(T.target.value)})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[i("admin.cars.seats")," *"]}),a.jsx("input",{type:"number",value:o.seats||"",onChange:T=>l(A=>({...A,seats:parseInt(T.target.value)})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"2-4 zile *"}),a.jsx("input",{type:"number",value:o.price_2_4_days||o.price_2_4_days||"",onChange:T=>l(A=>({...A,price_2_4_days:parseFloat(T.target.value)||0})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"MDL pe zi"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"5-15 zile *"}),a.jsx("input",{type:"number",value:o.price_5_15_days||o.price_5_15_days||"",onChange:T=>l(A=>({...A,price_5_15_days:parseFloat(T.target.value)||0})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"MDL pe zi"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"16-30 zile *"}),a.jsx("input",{type:"number",value:o.price_16_30_days||o.price_16_30_days||"",onChange:T=>l(A=>({...A,price_16_30_days:parseFloat(T.target.value)||0})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"MDL pe zi"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Peste 30 zile *"}),a.jsx("input",{type:"number",value:o.price_over_30_days||o.price_over_30_days||"",onChange:T=>l(A=>({...A,price_over_30_days:parseFloat(T.target.value)||0})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"MDL pe zi"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:i("admin.cars.discountPercentage")}),a.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:o.discountPercentage!==void 0?o.discountPercentage:o.discount_percentage!==void 0?o.discount_percentage:"",onChange:T=>{const A=T.target.value===""?void 0:parseFloat(T.target.value);l(R=>({...R,discountPercentage:A,discount_percentage:A}))},placeholder:"0",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"}}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:i("admin.cars.discountPercentageHint")})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[a.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[a.jsx(qx,{className:"w-5 h-5"}),i("admin.cars.mainImage")]}),a.jsxs("div",{children:[a.jsxs("label",{className:"inline-block px-4 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-lg transition-all cursor-pointer flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed mb-2",children:[a.jsx(qx,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:i("admin.cars.uploadImage")}),a.jsx("input",{type:"file",accept:"image/*",onChange:T=>{var R;const A=(R=T.target.files)==null?void 0:R[0];A&&B(A)},className:"hidden",disabled:c})]}),c&&a.jsx("p",{className:"text-xs text-gray-400 mb-2",children:i("admin.cars.uploadingImage")}),g&&!c&&a.jsxs("p",{className:"text-xs text-green-400 mb-2 flex items-center gap-1",children:[a.jsx(ro,{className:"w-3 h-3"}),i("admin.cars.imageSelectedWillUpload")]}),(o.image||o.image_url)&&a.jsx("div",{className:"mt-2 inline-block",children:a.jsx("img",{src:o.image||o.image_url||"",alt:"Preview",className:"h-20 object-contain rounded-lg border border-white/10"})})]})]}),a.jsxs("div",{className:"flex gap-4 justify-end pt-4 border-t border-white/10",children:[a.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-lg transition-all",children:i("admin.cars.cancel")}),a.jsx("button",{type:"submit",disabled:v,className:"px-6 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 hover:text-red-200 font-semibold rounded-lg transition-all backdrop-blur-xl flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:v?a.jsxs(a.Fragment,{children:[a.jsx(ua,{className:"w-4 h-4 animate-spin"}),i("admin.cars.saving")]}):a.jsxs(a.Fragment,{children:[a.jsx(wh,{className:"w-4 h-4"}),i("admin.cars.addCar")]})})]})]})]})}),document.body)},z0e=()=>{const{t:e}=br(),[t,r]=du(),n=t.get("carId"),[i,s]=_.useState(""),[o,l]=_.useState(null),[c,u]=_.useState("asc"),[h,m]=_.useState(!1),[x,p]=_.useState(null),[v,y]=_.useState([]),[g,j]=_.useState(!0),[k,w]=_.useState(null),[E,O]=_.useState(new Map),[z,Y]=_.useState(new Set),{showSuccess:B,showError:$}=Ih();_.useEffect(()=>{(async()=>{try{j(!0);const U=await lo();try{const{supabase:D}=await ii(async()=>{const{supabase:Z}=await Promise.resolve().then(()=>ld);return{supabase:Z}},void 0),{data:G}=await D.from("Rentals").select("car_id").eq("rental_status","ACTIVE");if(G){const Z=new Set(G.map(P=>typeof P.car_id=="number"?P.car_id:parseInt(P.car_id.toString(),10)));Y(Z)}}catch(D){console.error("Error fetching active rentals:",D)}const I=await Promise.all(U.map(async D=>{var Z,P;let G=D.name;(!G||G.trim()==="")&&(G=`${D.make} ${D.model}`),console.log(`[Admin] Loading images for car: "${G}" (make: "${D.make}", model: "${D.model}", id: ${D.id})`),(G.toLowerCase().includes("q7")||(Z=D.model)!=null&&Z.toLowerCase().includes("q7"))&&console.log("[Admin] Q7 car detected:",{car:D,carName:G});try{const{mainImage:re,photoGallery:ce}=await Tn(G);console.log(`[Admin] Images for "${G}": main=${!!re}, gallery=${ce.length}`);const be={...D,image_url:re||D.image_url,photo_gallery:ce.length>0?ce:D.photo_gallery};return G.toLowerCase().includes("q7")&&console.log("[Admin] Q7 result:",{original_image_url:D.image_url,original_photo_gallery:D.photo_gallery,final_image_url:be.image_url,final_photo_gallery:be.photo_gallery,mainImage_found:!!re,photoGallery_length:ce.length}),be}catch(re){console.warn(`[Admin] Failed to fetch images for car "${G}":`,re),console.log(`[Admin] Using fallback URLs for "${G}": main=${D.image_url}, gallery=${((P=D.photo_gallery)==null?void 0:P.length)||0}`);const ce={...D,image_url:D.image_url,photo_gallery:D.photo_gallery};return G.toLowerCase().includes("q7")&&console.log("[Admin] Q7 fallback result:",ce),ce}}));console.log(`[Admin] Setting ${I.length} cars to state`);const H=I.find(D=>{var G,Z;return((G=D.name)==null?void 0:G.toLowerCase().includes("q7"))||((Z=D.model)==null?void 0:Z.toLowerCase().includes("q7"))});H&&console.log("[Admin] Q7 car in final result:",{id:H.id,name:H.name,make:H.make,model:H.model,image_url:H.image_url,photo_gallery:H.photo_gallery}),y(I)}catch(U){console.error("Error loading cars:",U)}finally{j(!1)}})()},[]);const T=V=>{var H;if(z.has(parseInt(V.id,10)))return 2;const I=(((H=V.status)==null?void 0:H.trim())||"").toLowerCase();return I==="ascuns"||I==="hidden"||I==="booked"||I==="borrowed"?2:I==="maintenance"?1:0},A=_.useMemo(()=>{let V=v.filter(U=>{var Z;return(((Z=U.status)==null?void 0:Z.trim())||"").toLowerCase()==="deleted"?!1:((U==null?void 0:U.name)||`${U.make||""} ${U.model||""}`.trim()||"").toLowerCase().includes(i.toLowerCase())});return V.sort((U,I)=>{if(o==="price"){const H=U.price_2_4_days||U.price_5_15_days||U.price_16_30_days||U.price_over_30_days||0,D=I.price_2_4_days||I.price_5_15_days||I.price_16_30_days||I.price_over_30_days||0,G=H-D;return c==="asc"?G:-G}else if(o==="year"){const H=U.year-I.year;return c==="asc"?H:-H}else if(o==="status"){const H=T(U),D=T(I),G=H-D;return c==="asc"?G:-G}else{const H=T(U),D=T(I);return H-D}}),V},[v,i,o,c]),R=V=>{o===V?u(U=>U==="asc"?"desc":"asc"):(l(V),u("asc"))},L=()=>{p(null),m(!0)},q=V=>{p(V),r({section:"cars",carId:V.id.toString()})},W=async V=>{if(window.confirm(e("admin.cars.confirmDeleteCar")))try{await P1(V,{status:"deleted"});const U=await lo();y(U),B(e("admin.cars.carDeleted"))}catch(U){console.error("Error deleting car:",U),$(e("admin.cars.carDeleteError"))}},ee=async(V,U)=>{var re;if(U.stopPropagation(),z.has(parseInt(V.id,10))){$(e("admin.cars.cannotToggleRentedCar")||"Nu poi schimba statusul unei maini care are nchirieri active!");return}const H=(((re=V.status)==null?void 0:re.trim())||"").toLowerCase(),D=H==="ascuns"||H==="hidden",G=D?"available":"ascuns",Z=D?e("admin.cars.statusAvailable"):"Ascuns",P=V.name||`${V.make} ${V.model}`;if(window.confirm(`${e("admin.cars.confirmToggleStatus")} ${P} ${e("admin.cars.toStatus")} ${Z}?`)){O(ce=>new Map(ce).set(parseInt(V.id,10),G)),w(parseInt(V.id,10)),await new Promise(ce=>setTimeout(ce,500)),y(ce=>ce.map(be=>be.id===V.id?{...be,status:G}:be));try{await P1(parseInt(V.id,10),{status:G}),O(ce=>{const be=new Map(ce);return be.delete(parseInt(V.id,10)),be}),w(null),B(e("admin.cars.statusUpdated"))}catch(ce){console.error("Error updating car status:",ce),O(be=>{const ae=new Map(be);return ae.delete(parseInt(V.id,10)),ae}),w(null),$(e("admin.cars.statusUpdateError"))}}},M=async V=>{var U,I;try{if(x){const H={...V,name:V.name,image_url:V.image||V.image_url,photo_gallery:V.photoGallery||V.photo_gallery,price_2_4_days:V.price_2_4_days,price_5_15_days:V.price_5_15_days,price_16_30_days:V.price_16_30_days,price_over_30_days:V.price_over_30_days,discount_percentage:V.discountPercentage!==void 0?V.discountPercentage:V.discount_percentage,fuel_type:V.fuelType||V.fuel_type},D=await P1(parseInt(x.id,10),H);D&&(y(G=>G.map(Z=>Z.id===x.id?D:Z)),m(!1),p(null))}else{const H=V.make||((U=V.name)==null?void 0:U.split(" ")[0])||"",D=V.model||((I=V.name)==null?void 0:I.split(" ").slice(1).join(" "))||"";if(!H||!D)throw new Error("Make and Model are required fields");const G=await vY({...V,name:V.name,make:H,model:D,image_url:V.image||V.image_url,photo_gallery:V.photoGallery||V.photo_gallery,price_2_4_days:V.price_2_4_days,price_5_15_days:V.price_5_15_days,price_16_30_days:V.price_16_30_days,price_over_30_days:V.price_over_30_days,discount_percentage:V.discountPercentage!==void 0?V.discountPercentage:V.discount_percentage,fuel_type:V.fuelType||V.fuel_type,status:"available"});if(G)return y(Z=>[...Z,G]),parseInt(G.id,10)}}catch(H){throw console.error("Error saving car:",H),H}};if(_.useEffect(()=>{if(n){const V=v.find(U=>U.id.toString()===n);V&&(!x||x.id!==V.id)&&p(V)}else x&&p(null)},[n,v]),n){const V=v.find(U=>U.id.toString()===n);if(V)return a.jsx(M0e,{car:V,onSave:async U=>{try{await M(U);const I=await lo();y(I)}catch{}},onCancel:()=>r({section:"cars"})});g||r({section:"cars"})}return g?a.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-center h-64",children:a.jsx(ua,{className:"w-8 h-8 animate-spin text-white"})}):a.jsxs(Ie.div,{initial:{opacity:1},animate:{opacity:1},transition:{duration:.4},className:"space-y-6",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"px-3 md:px-6 py-3 md:py-4 border-b border-white/10",children:a.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3 md:gap-4",children:[a.jsx("div",{children:a.jsx("h2",{className:"text-lg md:text-xl font-bold text-white",children:e("admin.cars.allCars")})}),a.jsxs("button",{onClick:L,className:"px-3 md:px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 font-semibold rounded-lg hover:border-red-500/60 transition-all text-xs md:text-sm whitespace-nowrap flex items-center justify-center gap-2 w-full sm:w-auto",children:[a.jsx(oy,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),e("admin.cars.addNew")]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3 md:gap-4",children:[a.jsx("div",{className:"w-full md:flex-1 md:max-w-md",children:a.jsxs("div",{className:"relative",children:[a.jsx(ic,{className:"absolute left-2.5 md:left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-3.5 h-3.5 md:w-4 md:h-4"}),a.jsx("input",{type:"text",placeholder:e("admin.placeholders.searchCars"),value:i,onChange:V=>s(V.target.value),className:"w-full pl-9 md:pl-10 pr-3 md:pr-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/50 text-white text-xs md:text-sm placeholder-gray-400"})]})}),a.jsxs("div",{className:"w-full md:w-auto flex flex-col md:flex-row items-stretch md:items-center gap-2",children:[a.jsx("span",{className:"hidden md:inline text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.cars.sortBy")}),a.jsx("span",{className:"md:hidden text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:e("admin.cars.sortBy")}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("button",{onClick:()=>R("price"),className:`flex items-center gap-1 px-2.5 md:px-3 py-1.5 text-xs font-semibold rounded-lg border transition-all flex-1 sm:flex-initial min-w-0 ${o==="price"?"bg-red-500/20 text-red-300 border-red-500/50":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:[a.jsx("span",{className:"truncate",children:e("admin.cars.price")}),o==="price"&&(c==="asc"?a.jsx(ki,{className:"w-3 h-3 flex-shrink-0"}):a.jsx(_i,{className:"w-3 h-3 flex-shrink-0"})),o!=="price"&&a.jsx(Si,{className:"w-3 h-3 opacity-50 flex-shrink-0"})]}),a.jsxs("button",{onClick:()=>R("year"),className:`flex items-center gap-1 px-2.5 md:px-3 py-1.5 text-xs font-semibold rounded-lg border transition-all flex-1 sm:flex-initial min-w-0 ${o==="year"?"bg-red-500/20 text-red-300 border-red-500/50":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:[a.jsx("span",{className:"truncate",children:e("admin.cars.year")}),o==="year"&&(c==="asc"?a.jsx(ki,{className:"w-3 h-3 flex-shrink-0"}):a.jsx(_i,{className:"w-3 h-3 flex-shrink-0"})),o!=="year"&&a.jsx(Si,{className:"w-3 h-3 opacity-50 flex-shrink-0"})]}),a.jsxs("button",{onClick:()=>R("status"),className:`flex items-center gap-1 px-2.5 md:px-3 py-1.5 text-xs font-semibold rounded-lg border transition-all flex-1 sm:flex-initial min-w-0 ${o==="status"?"bg-red-500/20 text-red-300 border-red-500/50":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:[a.jsx("span",{className:"truncate",children:e("admin.cars.status")}),o==="status"&&(c==="asc"?a.jsx(ki,{className:"w-3 h-3 flex-shrink-0"}):a.jsx(_i,{className:"w-3 h-3 flex-shrink-0"})),o!=="status"&&a.jsx(Si,{className:"w-3 h-3 opacity-50 flex-shrink-0"})]}),o&&a.jsx("button",{onClick:()=>{l(null),u("asc")},className:"px-2.5 md:px-3 py-1.5 text-xs font-semibold text-gray-400 hover:text-white transition-colors whitespace-nowrap",children:e("admin.cars.clearSort")})]})]})]})]})}),A.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"block md:hidden p-4 space-y-4",children:A.map(V=>{var ce,be;const U=E.get(parseInt(V.id,10))||((ce=V.status)==null?void 0:ce.trim())||"",H=(((be=V.status)==null?void 0:be.trim())||"").toLowerCase()||"available",D=U.toLowerCase()||"available",G=z.has(parseInt(V.id,10)),P=!(G||D==="booked"||D==="borrowed")&&(D==="ascuns"||D==="hidden"),re=H==="maintenance";return a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:bg-white/10 transition cursor-pointer",onClick:()=>q(V),children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx("img",{src:V.image||V.image_url||"",alt:V.name||`${V.make} ${V.model}`,className:"w-16 h-16 object-cover rounded-md border border-white/10 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[a.jsx("h3",{className:"text-white font-semibold text-sm truncate flex-1",children:V.name||`${V.make} ${V.model}`}),!re&&(G?a.jsx("span",{className:"px-2 py-1 text-xs font-semibold bg-red-500/20 text-red-300 border border-red-500/50 rounded-full",children:e("admin.cars.statusBooked")}):a.jsx("div",{className:"flex-shrink-0",onClick:ae=>ee(V,ae),children:a.jsx("button",{type:"button",disabled:k===parseInt(V.id,10),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white ${k===parseInt(V.id,10)?"opacity-50 cursor-wait":""} ${P?"bg-red-500":"bg-emerald-500"}`,role:"switch","aria-checked":P,"aria-label":P?"Ascuns":e("admin.cars.statusAvailable"),children:a.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform duration-500 ${P?"translate-x-5":"translate-x-0.5"}`})})}))]}),a.jsxs("p",{className:"text-gray-400 text-xs mb-2",children:[V.body,"  ",V.seats," ",e("admin.cars.seats")]}),re&&a.jsx("span",{className:"inline-block px-2.5 py-1 rounded-full text-xs font-semibold border backdrop-blur-xl bg-yellow-500/20 text-yellow-300 border-yellow-500/50",children:e("admin.cars.statusMaintenance")})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3 pb-3 border-b border-white/10",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-xs mb-1",children:e("admin.cars.category")}),a.jsx("p",{className:"text-white text-sm font-medium capitalize",children:V.category})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-xs mb-1",children:e("admin.cars.year")}),a.jsx("p",{className:"text-white text-sm font-medium",children:V.year})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-gray-400 text-xs font-medium",children:e("admin.cars.priceRanges")}),V.discount_percentage&&V.discount_percentage>0&&a.jsxs("span",{className:"px-2 py-0.5 text-xs font-semibold bg-red-500/20 text-red-300 border border-red-500/30 rounded-full",children:["-",V.discount_percentage,"% OFF"]})]}),a.jsxs("div",{className:"space-y-1",children:[(V.price_2_4_days||0)>0&&a.jsx("div",{className:"bg-white/5 border border-white/10 rounded p-1.5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300 text-xs",children:"2-4 zile"}),a.jsxs("div",{className:"flex items-center gap-2",children:[V.discount_percentage&&V.discount_percentage>0&&a.jsxs("span",{className:"text-gray-500 text-xs line-through",children:[V.price_2_4_days," MDL"]}),a.jsxs("span",{className:"text-white font-semibold text-xs",children:[V.discount_percentage&&V.discount_percentage>0?Math.round((V.price_2_4_days||0)*(1-V.discount_percentage/100)):V.price_2_4_days," MDL"]})]})]})}),(V.price_5_15_days||0)>0&&a.jsx("div",{className:"bg-white/5 border border-white/10 rounded p-1.5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300 text-xs",children:"5-15 zile"}),a.jsxs("div",{className:"flex items-center gap-2",children:[V.discount_percentage&&V.discount_percentage>0&&a.jsxs("span",{className:"text-gray-500 text-xs line-through",children:[V.price_5_15_days," MDL"]}),a.jsxs("span",{className:"text-white font-semibold text-xs",children:[V.discount_percentage&&V.discount_percentage>0?Math.round((V.price_5_15_days||0)*(1-V.discount_percentage/100)):V.price_5_15_days," MDL"]})]})]})}),(V.price_16_30_days||0)>0&&a.jsx("div",{className:"bg-white/5 border border-white/10 rounded p-1.5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300 text-xs",children:"16-30 zile"}),a.jsxs("div",{className:"flex items-center gap-2",children:[V.discount_percentage&&V.discount_percentage>0&&a.jsxs("span",{className:"text-gray-500 text-xs line-through",children:[V.price_16_30_days," MDL"]}),a.jsxs("span",{className:"text-white font-semibold text-xs",children:[V.discount_percentage&&V.discount_percentage>0?Math.round((V.price_16_30_days||0)*(1-V.discount_percentage/100)):V.price_16_30_days," MDL"]})]})]})}),(V.price_over_30_days||0)>0&&a.jsx("div",{className:"bg-white/5 border border-white/10 rounded p-1.5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300 text-xs",children:"30+ zile"}),a.jsxs("div",{className:"flex items-center gap-2",children:[V.discount_percentage&&V.discount_percentage>0&&a.jsxs("span",{className:"text-gray-500 text-xs line-through",children:[V.price_over_30_days," MDL"]}),a.jsxs("span",{className:"text-white font-semibold text-xs",children:[V.discount_percentage&&V.discount_percentage>0?Math.round((V.price_over_30_days||0)*(1-V.discount_percentage/100)):V.price_over_30_days," MDL"]})]})]})})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-1 pt-2 border-t border-white/5",onClick:ae=>ae.stopPropagation(),children:[a.jsxs("button",{onClick:()=>q(V),className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-white hover:text-gray-300 bg-white/5 border border-white/10 rounded-lg hover:bg-white/10 transition-colors",title:e("admin.common.edit"),children:[a.jsx(LD,{className:"w-3.5 h-3.5"}),a.jsx("span",{children:"Edit"})]}),a.jsxs("button",{onClick:()=>W(parseInt(V.id,10)),className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-red-300 hover:text-red-200 bg-red-500/5 border border-red-500/20 rounded-lg hover:bg-red-500/10 transition-colors",title:e("admin.common.delete"),children:[a.jsx(Q2,{className:"w-3.5 h-3.5"}),a.jsx("span",{children:"Delete"})]})]})]},V.id)})}),a.jsx("div",{className:"hidden md:block overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-white/10",children:[a.jsx("thead",{className:"bg-white/5",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.requests.car")}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.cars.category")}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:a.jsxs("button",{onClick:()=>R("price"),className:"flex items-center gap-1.5 hover:text-white transition-colors",children:[e("admin.cars.priceRanges"),o==="price"?c==="asc"?a.jsx(ki,{className:"w-3 h-3"}):a.jsx(_i,{className:"w-3 h-3"}):a.jsx(Si,{className:"w-3 h-3 opacity-50"})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:a.jsxs("button",{onClick:()=>R("year"),className:"flex items-center gap-1.5 hover:text-white transition-colors",children:[e("admin.cars.year"),o==="year"?c==="asc"?a.jsx(ki,{className:"w-3 h-3"}):a.jsx(_i,{className:"w-3 h-3"}):a.jsx(Si,{className:"w-3 h-3 opacity-50"})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:a.jsxs("button",{onClick:()=>R("status"),className:"flex items-center gap-1.5 hover:text-white transition-colors",children:[e("admin.cars.status"),o==="status"?c==="asc"?a.jsx(ki,{className:"w-3 h-3"}):a.jsx(_i,{className:"w-3 h-3"}):a.jsx(Si,{className:"w-3 h-3 opacity-50"})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.cars.actions")})]})}),a.jsx("tbody",{className:"divide-y divide-white/10",children:A.map(V=>{var ce,be;const U=E.get(parseInt(V.id,10))||((ce=V.status)==null?void 0:ce.trim())||"",H=(((be=V.status)==null?void 0:be.trim())||"").toLowerCase()||"available",D=U.toLowerCase()||"available",G=z.has(parseInt(V.id,10)),P=!(G||D==="booked"||D==="borrowed")&&(D==="ascuns"||D==="hidden"),re=H==="maintenance";return a.jsxs("tr",{className:"hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>q(V),children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:V.image||V.image_url||"",alt:V.name||`${V.make} ${V.model}`,className:"w-12 h-12 object-cover rounded-md border border-white/10"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-semibold",children:V.name||`${V.make} ${V.model}`}),a.jsxs("p",{className:"text-gray-400 text-xs",children:[V.body,"  ",V.seats," ",e("admin.cars.seats")]})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"px-2 py-1 text-xs font-semibold bg-white/10 text-gray-300 rounded capitalize",children:V.category})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-1",children:[(V.price_2_4_days||0)>0&&a.jsx("span",{className:"bg-white/5 border border-white/10 rounded px-2 py-1 text-white font-semibold text-xs",children:V.discount_percentage&&V.discount_percentage>0?Math.round((V.price_2_4_days||0)*(1-V.discount_percentage/100)):V.price_2_4_days}),(V.price_5_15_days||0)>0&&a.jsx("span",{className:"bg-white/5 border border-white/10 rounded px-2 py-1 text-white font-semibold text-xs",children:V.discount_percentage&&V.discount_percentage>0?Math.round((V.price_5_15_days||0)*(1-V.discount_percentage/100)):V.price_5_15_days}),(V.price_16_30_days||0)>0&&a.jsx("span",{className:"bg-white/5 border border-white/10 rounded px-2 py-1 text-white font-semibold text-xs",children:V.discount_percentage&&V.discount_percentage>0?Math.round((V.price_16_30_days||0)*(1-V.discount_percentage/100)):V.price_16_30_days}),(V.price_over_30_days||0)>0&&a.jsx("span",{className:"bg-white/5 border border-white/10 rounded px-2 py-1 text-white font-semibold text-xs",children:V.discount_percentage&&V.discount_percentage>0?Math.round((V.price_over_30_days||0)*(1-V.discount_percentage/100)):V.price_over_30_days})]})}),a.jsx("td",{className:"px-6 py-4 text-gray-300",children:V.year}),a.jsx("td",{className:"px-6 py-4",children:re?a.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold border backdrop-blur-xl bg-yellow-500/20 text-yellow-300 border-yellow-500/50",children:e("admin.cars.statusMaintenance")}):G?a.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold border backdrop-blur-xl bg-red-500/20 text-red-300 border-red-500/50",children:e("admin.cars.statusBooked")}):a.jsxs("div",{className:"flex items-center gap-2",onClick:ae=>ee(V,ae),children:[a.jsx("button",{type:"button",disabled:k===parseInt(V.id,10),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white ${k===parseInt(V.id,10)?"opacity-50 cursor-wait":""} ${P?"bg-red-500":"bg-emerald-500"}`,role:"switch","aria-checked":P,"aria-label":P?"Ascuns":e("admin.cars.statusAvailable"),children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-500 ${P?"translate-x-6":"translate-x-1"}`})}),a.jsx("span",{className:"text-xs text-gray-400",children:P?"Ascuns":e("admin.cars.statusAvailable")})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",onClick:ae=>ae.stopPropagation(),children:[a.jsx("button",{onClick:()=>q(V),className:"p-2 text-white hover:text-gray-300 transition-colors",title:e("admin.common.edit"),children:a.jsx(LD,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>W(parseInt(V.id,10)),className:"p-2 text-red-300 hover:text-red-200 transition-colors",title:e("admin.common.delete"),children:a.jsx(Q2,{className:"w-4 h-4"})})]})})]},V.id)})})]})})]}):a.jsx("div",{className:"px-6 py-12 text-center text-gray-400",children:e("admin.cars.noCars")})]}),a.jsx(mr,{children:h&&a.jsx(R0e,{car:x,onSave:async V=>{try{const U=await M(V),I=await lo();return y(I),U}catch(U){throw U}},onClose:()=>{m(!1),p(null)}})})]})},F0e=({request:e,onBack:t,onAccept:r,onReject:n,onUndoReject:i,onSetToPending:s,onEdit:o,cars:l})=>{var m,x;const c=l.find(p=>p.id.toString()===e.carId),[u,h]=_.useState((c==null?void 0:c.image_url)??void 0);return _.useEffect(()=>{c&&(h(c.image_url??void 0),window.scrollTo({top:0,behavior:"smooth"}))},[c]),c?a.jsxs(Ie.div,{initial:{opacity:1},animate:{opacity:1},transition:{duration:.4},className:"flex flex-col lg:grid lg:grid-cols-[1fr_360px] gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx(Ie.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white/10 backdrop-blur-xl border border-white/20 hover:border-red-500/50 rounded-xl p-6 transition-all shadow-lg",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:u,alt:(c==null?void 0:c.name)||`${c.make||""} ${c.model||""}`.trim()||"Car",className:"w-32 h-20 object-cover rounded-lg border border-white/20"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:(c==null?void 0:c.name)||`${c.make||""} ${c.model||""}`.trim()||"Car"}),a.jsxs("div",{className:"text-sm text-gray-300",children:[c.transmission,"  ",c.seats," seats"]})]})]})}),a.jsxs(Ie.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 space-y-6 shadow-lg",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Request Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-lg p-3 border border-white/10",children:[a.jsx(ta,{className:"w-5 h-5 text-gray-300 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Pickup"}),a.jsx("span",{className:"text-white text-sm font-medium",children:new Date(e.pickupDate).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-lg p-3 border border-white/10",children:[a.jsx(ra,{className:"w-5 h-5 text-gray-300 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Time"}),a.jsx("span",{className:"text-white text-sm font-medium",children:e.pickupTime||"--:--"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-lg p-3 border border-white/10",children:[a.jsx(ta,{className:"w-5 h-5 text-gray-300 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Return"}),a.jsx("span",{className:"text-white text-sm font-medium",children:new Date(e.returnDate).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-lg p-3 border border-white/10",children:[a.jsx(ra,{className:"w-5 h-5 text-gray-300 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Time"}),a.jsx("span",{className:"text-white text-sm font-medium",children:e.returnTime||"--:--"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide mb-1",children:"Rental Days"}),a.jsx("span",{className:"text-white text-lg font-bold",children:uj(e.pickupDate,e.returnDate)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide mb-1",children:"Estimated Price"}),a.jsx("span",{className:"text-white text-lg font-bold",children:e.amount?`${e.amount} MDL`:""})]})]})]}),a.jsxs(Ie.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Customer"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-xl shadow-lg flex-shrink-0",children:((x=(m=e.customerName)==null?void 0:m[0])==null?void 0:x.toUpperCase())||"C"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-semibold",children:e.customerName}),a.jsx("div",{className:"text-gray-300 text-sm",children:e.customerEmail}),e.customerPhone&&a.jsx("div",{className:"text-gray-300 text-sm mt-1",children:e.customerPhone})]})]})]}),a.jsxs(Ie.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Status"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-semibold border backdrop-blur-xl ${e.status==="PENDING"?"bg-yellow-500/20 text-yellow-300 border-yellow-500/50":e.status==="APPROVED"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/50":"bg-red-500/20 text-red-300 border-red-500/50"}`,children:e.status.charAt(0)+e.status.slice(1).toLowerCase()}),e.createdAt&&a.jsxs("span",{className:"text-gray-400 text-sm",children:["Requested on ",new Date(e.createdAt).toLocaleDateString()]})]})]})]}),a.jsx("aside",{className:"lg:col-start-2",children:a.jsxs(Ie.div,{initial:{opacity:1,x:0},animate:{opacity:1,x:0},transition:{duration:.4},className:"sticky top-24 space-y-3",children:[a.jsx("button",{onClick:t,className:"w-full bg-white/10 backdrop-blur-xl hover:bg-white/20 border border-white/20 hover:border-white/30 text-white font-semibold py-3 px-6 rounded-lg transition-all shadow-lg",children:"Back to Requests"}),e.status==="PENDING"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>r(e),className:"w-full bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/50 hover:border-emerald-500/60 text-emerald-300 hover:text-emerald-200 font-semibold py-3 px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2",children:[a.jsx(CheckCircle,{className:"w-4 h-4"}),"Accept Request"]}),a.jsxs("button",{onClick:()=>n(e),className:"w-full bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 hover:border-red-500/60 text-red-300 hover:text-red-200 font-semibold py-3 px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2",children:[a.jsx(X,{className:"w-4 h-4"}),"Respinge Cererea"]})]}),e.status==="APPROVED"&&(typeof s<"u"||typeof n<"u")&&a.jsxs(a.Fragment,{children:[s&&a.jsxs("button",{onClick:()=>s(e),className:"w-full bg-yellow-500/20 hover:bg-yellow-500/30 border border-yellow-500/50 hover:border-yellow-500/60 text-yellow-300 hover:text-yellow-200 font-semibold py-3 px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2",children:[a.jsx(RefreshCw,{className:"w-4 h-4"}),"Set to Pending"]}),n&&a.jsxs("button",{onClick:()=>n(e),className:"w-full bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 hover:border-red-500/60 text-red-300 hover:text-red-200 font-semibold py-3 px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2",children:[a.jsx(X,{className:"w-4 h-4"}),"Respinge Cererea"]})]}),e.status==="REJECTED"&&(i||o)&&a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[i&&a.jsxs("button",{onClick:()=>i(e),className:"flex-1 bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/50 hover:border-emerald-500/60 text-emerald-300 hover:text-emerald-200 font-semibold py-3 px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2",children:[a.jsx(RefreshCw,{className:"w-4 h-4"}),"Undo Reject"]}),o&&a.jsxs("button",{onClick:()=>o(e),className:"flex-1 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/50 hover:border-blue-500/60 text-blue-300 hover:text-blue-200 font-semibold py-3 px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2",children:[a.jsx(Edit,{className:"w-4 h-4"}),"Edit Request"]})]})]})})]}):null},$0e=({request:e,onClose:t,onAccept:r,onReject:n,onUndoReject:i,onSetToPending:s,onEdit:o,onCancelRental:l,isProcessing:c=!1,cars:u})=>{var fe,pe;const{t:h}=br(),m=u.find(de=>de.id.toString()===e.carId);if(!m)return null;const x=de=>{const le=new Date(de),ne=String(le.getDate()).padStart(2,"0"),Se=String(le.getMonth()+1).padStart(2,"0"),Ee=le.getFullYear();return`${ne}.${Se}.${Ee}`},p=de=>{if(!de)return"00:00";if(de.includes("AM")||de.includes("PM")){const[le,ne]=de.split(" "),[Se,Ee]=le.split(":");let qe=parseInt(Se);return ne==="PM"&&qe!==12&&(qe+=12),ne==="AM"&&qe===12&&(qe=0),`${String(qe).padStart(2,"0")}:${Ee||"00"}`}if(de.includes(":")){const[le,ne]=de.split(":");return`${String(parseInt(le)).padStart(2,"0")}:${ne||"00"}`}return"00:00"},[v,y,g]=e.pickupDate.split("-").map(Number),[j,k,w]=e.returnDate.split("-").map(Number),E=new Date(v,y-1,g),O=new Date(j,k-1,w),z=p(e.pickupTime),Y=p(e.returnTime),[B,$]=z.split(":").map(Number),[T,A]=Y.split(":").map(Number),R=new Date(E);R.setHours(B,$,0,0);const L=new Date(O);T===0&&A===0?L.setHours(23,59,59,999):L.setHours(T,A,0,0);const q=L.getTime()-R.getTime(),W=Math.floor(q/(1e3*60*60*24)),ee=Math.floor(q%(1e3*60*60*24)/(1e3*60*60)),M=W,V=ee>=0?ee:0,U=M;let I=0;U>=2&&U<=4?I=m.price_2_4_days||0:U>=5&&U<=15?I=m.price_5_15_days||0:U>=16&&U<=30?I=m.price_16_30_days||0:U>30&&(I=m.price_over_30_days||0);const H=m.discount_percentage||0,D=H>0?I*(1-H/100):I;let G=D*U;if(V>0){const de=V/24*D;G+=de}const Z=e.options;let P={};if(Z)if(typeof Z=="string")try{P=JSON.parse(Z)}catch{P={}}else P=Z;let re=0;P.unlimitedKm&&(re+=D*U*.5),P.tireInsurance&&(re+=D*U*.2),P.personalDriver&&(re+=800*U),P.priorityService&&(re+=1e3*U),P.childSeat&&(re+=100*U),P.simCard&&(re+=100*U),P.roadsideAssistance&&(re+=500*U);const ce=G+re,be=e.customerFirstName||((fe=e.customerName)==null?void 0:fe.split(" ")[0])||"",ae=e.customerLastName||((pe=e.customerName)==null?void 0:pe.split(" ").slice(1).join(" "))||"",ue=e.customerAge||void 0;return Na.createPortal(a.jsx(Ie.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:1},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-2 md:p-4",onClick:t,style:{zIndex:1e4},children:a.jsxs(Ie.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2,ease:"easeOut"},onClick:de=>de.stopPropagation(),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-lg md:rounded-xl shadow-lg max-w-4xl w-full max-h-[95vh] md:max-h-[90vh] overflow-y-auto",style:{pointerEvents:"auto"},children:[a.jsxs("div",{className:"sticky top-0 border-b border-white/20 px-4 md:px-6 py-3 md:py-4 flex items-center justify-between z-10",style:{backgroundColor:"#1C1C1C"},children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white",children:h("admin.requestDetails.rentalRequest")}),a.jsx("p",{className:"text-gray-400 text-sm md:text-sm mt-1",children:(m==null?void 0:m.name)||`${m.make||""} ${m.model||""}`.trim()||"Car"})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:a.jsx(hn,{className:"w-5 h-5 text-white"})})]}),a.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[a.jsxs("div",{className:"bg-white/5 rounded-xl p-4 md:p-6 border border-white/10",children:[a.jsx("h3",{className:"text-base md:text-lg font-bold text-white mb-3 md:mb-4",children:h("admin.requestDetails.rentalPeriod")}),a.jsxs("div",{className:"space-y-2 md:space-y-3",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"text-gray-300 text-sm md:text-base",children:[M," ",h("admin.requestDetails.days"),"",", ",V," ",h("admin.requestDetails.hours"),""]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4 pt-2 md:pt-3 border-t border-white/10",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide mb-1",children:h("admin.requestDetails.pickupDate")}),a.jsx("p",{className:"text-white font-semibold text-sm md:text-base",children:x(e.pickupDate)}),a.jsxs("p",{className:"text-gray-400 text-xs md:text-sm",children:[h("admin.requestDetails.atTime")," ",p(e.pickupTime)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide mb-1",children:h("admin.requestDetails.returnDate")}),a.jsx("p",{className:"text-white font-semibold text-sm md:text-base",children:x(e.returnDate)}),a.jsxs("p",{className:"text-gray-400 text-xs md:text-sm",children:[h("admin.requestDetails.atTime")," ",p(e.returnTime)]})]})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-4 md:p-6 border border-white/10",children:[a.jsx("h3",{className:"text-base md:text-lg font-bold text-white mb-3 md:mb-4",children:h("admin.requestDetails.contactInformation")}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 uppercase tracking-wide mb-1",children:h("admin.form.firstName")}),a.jsx("p",{className:"text-white font-medium text-sm md:text-base",children:be||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 uppercase tracking-wide mb-1",children:h("admin.form.lastName")}),a.jsx("p",{className:"text-white font-medium text-sm md:text-base",children:ae||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 uppercase tracking-wide mb-1",children:h("admin.form.age")}),a.jsx("p",{className:"text-white font-medium text-sm md:text-base",children:ue?`${ue}`:""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 uppercase tracking-wide mb-1",children:h("admin.form.phone")}),e.customerPhone?a.jsx("a",{href:`tel:${e.customerPhone.replace(/\s/g,"")}`,className:"text-white font-medium text-sm md:text-base hover:text-emerald-400 transition-colors",children:e.customerPhone}):a.jsx("p",{className:"text-white font-medium text-sm md:text-base",children:" +373"})]}),e.customerEmail&&a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-xs text-gray-400 uppercase tracking-wide mb-1",children:h("admin.form.emailOptional")}),a.jsx("p",{className:"text-white text-sm md:text-base",children:e.customerEmail})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-4 md:p-6 border border-white/10",children:[a.jsx("h3",{className:"text-base md:text-lg font-bold text-white mb-4 md:mb-6",children:h("admin.requestDetails.rentalOptions")}),(()=>{const de=e.options;let le={};if(de)if(typeof de=="string")try{le=JSON.parse(de)}catch{le={}}else le=de;const ne=[];return le.pickupAtAddress&&ne.push({label:"Preluarea la adres",price:"Cost separat",category:"pickup-return"}),le.returnAtAddress&&ne.push({label:"Returnarea la adres",price:"Cost separat",category:"pickup-return"}),le.unlimitedKm&&ne.push({label:"Kilometraj nelimitat",price:"+50%",category:"limits"}),le.speedLimitIncrease&&ne.push({label:"Creterea limitei de vitez",price:"+20%",category:"limits"}),le.personalDriver&&ne.push({label:"ofer personal",price:"800 MDL/zi",category:"vip"}),le.priorityService&&ne.push({label:"Priority Service",price:"1 000 MDL/zi",category:"vip"}),le.tireInsurance&&ne.push({label:"Asigurare anvelope & parbriz",price:"+20%",category:"insurance"}),le.childSeat&&ne.push({label:"Scaun auto pentru copii",price:"100 MDL/zi",category:"additional"}),le.simCard&&ne.push({label:"Cartel SIM cu internet",price:"100 MDL/zi",category:"additional"}),le.roadsideAssistance&&ne.push({label:"Asisten rutier",price:"500 MDL/zi",category:"additional"}),ne.length===0?a.jsx("div",{className:"text-center py-6 md:py-8",children:a.jsx("p",{className:"text-gray-400 text-sm",children:h("admin.requestDetails.noOptionsSelected")})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2.5 md:gap-3",children:ne.map((Se,Ee)=>a.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 bg-white/5 rounded-lg border border-white/10 hover:bg-white/10 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 flex-shrink-0"}),a.jsx("span",{className:"text-white text-sm font-medium",children:Se.label})]}),a.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded ${Se.price.includes("%")?"text-emerald-400 bg-emerald-400/10":"text-gray-300 bg-white/5"}`,children:Se.price})]},Ee))})})()]}),(e.comment||e.customerComment)&&a.jsxs("div",{className:"bg-white/5 rounded-xl p-4 md:p-6 border border-white/10",children:[a.jsx("h3",{className:"text-base md:text-lg font-bold text-white mb-3 md:mb-4",children:h("admin.requestDetails.commentOptional")}),a.jsx("p",{className:"text-gray-300 text-sm whitespace-pre-wrap",children:e.comment||e.customerComment})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-4 md:p-6 border border-white/10",children:[a.jsx("h3",{className:"text-base md:text-lg font-bold text-white mb-3 md:mb-4",children:h("admin.requestDetails.priceDetails")}),a.jsxs("div",{className:"space-y-2 md:space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-300",children:h("admin.requestDetails.pricePerDay")}),a.jsxs("span",{className:"text-white font-medium",children:[m.price_per_day," MDL"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-300",children:"Durat"}),a.jsxs("span",{className:"text-white font-medium",children:[U," ",U===1?"zi":"zile",V>0?`, ${V} ${V===1?"or":"ore"}`:""]})]}),a.jsx("div",{className:"pt-2 border-t border-white/10",children:a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-white font-medium",children:h("admin.requestDetails.basePrice")}),a.jsxs("span",{className:"text-white font-medium",children:[Math.round(G).toLocaleString()," MDL"]})]})}),re>0&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"pt-2 md:pt-3 border-t border-white/10",children:[a.jsx("h4",{className:"text-sm font-bold text-white mb-2 md:mb-3",children:h("admin.requestDetails.additionalServices")}),a.jsxs("div",{className:"space-y-1.5 md:space-y-2 text-sm",children:[P.unlimitedKm&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Kilometraj nelimitat"}),a.jsxs("span",{className:"text-white font-medium",children:[Math.round(D*U*.5).toLocaleString()," MDL"]})]}),P.speedLimitIncrease&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Creterea limitei de vitez"}),a.jsxs("span",{className:"text-white font-medium",children:[Math.round(D*U*.2).toLocaleString()," MDL"]})]}),P.tireInsurance&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Asigurare anvelope & parbriz"}),a.jsxs("span",{className:"text-white font-medium",children:[Math.round(D*U*.2).toLocaleString()," MDL"]})]}),P.personalDriver&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"ofer personal"}),a.jsxs("span",{className:"text-white font-medium",children:[800*U," MDL"]})]}),P.priorityService&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Priority Service"}),a.jsxs("span",{className:"text-white font-medium",children:[1e3*U," MDL"]})]}),P.childSeat&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Scaun auto pentru copii"}),a.jsxs("span",{className:"text-white font-medium",children:[100*U," MDL"]})]}),P.simCard&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Cartel SIM cu internet"}),a.jsxs("span",{className:"text-white font-medium",children:[100*U," MDL"]})]}),P.roadsideAssistance&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Asisten rutier"}),a.jsxs("span",{className:"text-white font-medium",children:[500*U," MDL"]})]}),a.jsx("div",{className:"pt-1.5 md:pt-2 border-t border-white/10",children:a.jsxs("div",{className:"flex justify-between font-medium text-sm",children:[a.jsx("span",{className:"text-white",children:h("admin.requestDetails.totalServices")}),a.jsxs("span",{className:"text-white",children:[Math.round(re).toLocaleString()," MDL"]})]})})]})]})}),a.jsxs("div",{className:"pt-2 md:pt-3 border-t border-white/10 flex items-center justify-between",children:[a.jsx("span",{className:"text-white font-bold text-base md:text-lg",children:h("admin.requestDetails.total")}),a.jsxs("span",{className:"text-white font-bold text-lg md:text-xl",children:[Math.round(ce).toLocaleString()," MDL"]})]})]})]}),e.status==="PENDING"&&a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:gap-3 pt-3 md:pt-4",children:[a.jsx("button",{onClick:de=>{de.stopPropagation(),r(e)},disabled:c,className:"flex-1 bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/50 hover:border-emerald-500/60 text-emerald-300 hover:text-emerald-200 font-semibold py-2.5 md:py-3 px-4 md:px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:c?a.jsxs(a.Fragment,{children:[a.jsx(ua,{className:"w-4 h-4 animate-spin"}),h("admin.requestDetails.processing")]}):a.jsxs(a.Fragment,{children:[a.jsx(yh,{className:"w-4 h-4"}),h("admin.requestDetails.acceptRequest")]})}),a.jsx("button",{onClick:de=>{de.stopPropagation(),n(e),t()},disabled:c,className:"flex-1 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 hover:border-red-500/60 text-red-300 hover:text-red-200 font-semibold py-2.5 md:py-3 px-4 md:px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:c?a.jsxs(a.Fragment,{children:[a.jsx(ua,{className:"w-4 h-4 animate-spin"}),h("admin.requestDetails.processing")]}):a.jsxs(a.Fragment,{children:[a.jsx(hn,{className:"w-4 h-4"}),h("admin.requestDetails.rejectRequest")]})})]}),e.status==="APPROVED"&&(n||s)&&a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:gap-3 pt-3 md:pt-4",children:[s&&a.jsx("button",{onClick:de=>{de.stopPropagation(),s(e),t()},disabled:c,className:"flex-1 bg-yellow-500/20 hover:bg-yellow-500/30 border border-yellow-500/50 hover:border-yellow-500/60 text-yellow-300 hover:text-yellow-200 font-semibold py-2.5 md:py-3 px-4 md:px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:c?a.jsxs(a.Fragment,{children:[a.jsx(ua,{className:"w-4 h-4 animate-spin"}),h("admin.requestDetails.processing")]}):a.jsxs(a.Fragment,{children:[a.jsx(qp,{className:"w-4 h-4"}),h("admin.requestDetails.setToPending")]})}),n&&a.jsx("button",{onClick:de=>{de.stopPropagation(),n(e),t()},disabled:c,className:"flex-1 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 hover:border-red-500/60 text-red-300 hover:text-red-200 font-semibold py-2.5 md:py-3 px-4 md:px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:c?a.jsxs(a.Fragment,{children:[a.jsx(ua,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(hn,{className:"w-4 h-4"}),"Respinge Cererea"]})})]}),e.status==="REJECTED"&&(i||o)&&a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:gap-3 pt-3 md:pt-4",children:[i&&a.jsx("button",{onClick:de=>{de.stopPropagation(),i(e),t()},disabled:c,className:"flex-1 bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/50 hover:border-emerald-500/60 text-emerald-300 hover:text-emerald-200 font-semibold py-2.5 md:py-3 px-4 md:px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:c?a.jsxs(a.Fragment,{children:[a.jsx(ua,{className:"w-4 h-4 animate-spin"}),h("admin.requestDetails.processing")]}):a.jsxs(a.Fragment,{children:[a.jsx(qp,{className:"w-4 h-4"}),h("admin.requestDetails.undoReject")]})}),o&&a.jsxs("button",{onClick:de=>{de.stopPropagation(),o(e),t()},disabled:c,className:"flex-1 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/50 hover:border-blue-500/60 text-blue-300 hover:text-blue-200 font-semibold py-2.5 md:py-3 px-4 md:px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:[a.jsx(_H,{className:"w-4 h-4"}),h("admin.requestDetails.editRequest")]})]}),e.status==="EXECUTED"&&l&&a.jsx("div",{className:"flex flex-col sm:flex-row gap-2 md:gap-3 pt-3 md:pt-4",children:a.jsx("button",{onClick:de=>{de.stopPropagation(),l(e),t()},disabled:c,className:"flex-1 bg-orange-500/20 hover:bg-orange-500/30 border border-orange-500/50 hover:border-orange-500/60 text-orange-300 hover:text-orange-200 font-semibold py-2.5 md:py-3 px-4 md:px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:c?a.jsxs(a.Fragment,{children:[a.jsx(ua,{className:"w-4 h-4 animate-spin"}),h("admin.requestDetails.processing")]}):a.jsxs(a.Fragment,{children:[a.jsx(hn,{className:"w-4 h-4"}),"Anuleaz nchirierea"]})})})]})]})}),document.body)},ID=[{code:"+373",flag:"",country:"Moldova"},{code:"+40",flag:"",country:"Romania"},{code:"+380",flag:"",country:"Ukraine"},{code:"+7",flag:"",country:"Russia"},{code:"+1",flag:"",country:"USA"},{code:"+44",flag:"",country:"UK"},{code:"+49",flag:"",country:"Germany"},{code:"+33",flag:"",country:"France"},{code:"+39",flag:"",country:"Italy"},{code:"+34",flag:"",country:"Spain"},{code:"+32",flag:"",country:"Belgium"},{code:"+31",flag:"",country:"Netherlands"},{code:"+41",flag:"",country:"Switzerland"},{code:"+43",flag:"",country:"Austria"},{code:"+48",flag:"",country:"Poland"},{code:"+420",flag:"",country:"Czech Republic"},{code:"+36",flag:"",country:"Hungary"},{code:"+359",flag:"",country:"Bulgaria"},{code:"+30",flag:"",country:"Greece"},{code:"+90",flag:"",country:"Turkey"}],B0e=({onSave:e,onClose:t,cars:r,initialCarId:n})=>{const{t:i}=br(),s=new Date,o=new Date;o.setDate(s.getDate()+1);const l=n?r.find(me=>me.id.toString()===n):null,[c,u]=_.useState({customerName:"",customerFirstName:"",customerLastName:"",customerEmail:"",customerPhone:"",customerAge:"",carId:n||"",carName:l?(l==null?void 0:l.name)||`${l.make} ${l.model}`:"",startDate:s.toISOString().split("T")[0],startTime:"09:00",endDate:o.toISOString().split("T")[0],endTime:"17:00",status:"ACTIVE",amount:0,userId:"",firstName:"",lastName:"",age:"",comment:""}),[h,m]=_.useState(ID[0]),[x,p]=_.useState(!1),[v,y]=_.useState(!1),[g,j]=_.useState(!1),[k,w]=_.useState(!1),[E,O]=_.useState(!1),[z,Y]=_.useState({pickup:s,return:o}),[B,$]=_.useState(null),[T,A]=_.useState([]),[R,L]=_.useState([]),[q,W]=_.useState(!1),[ee,M]=_.useState(!1),[V,U]=_.useState(!1),[I,H]=_.useState(""),D=vt.useRef(null),G=vt.useRef(null),Z=vt.useRef(null),P=vt.useRef(null),re=me=>{const Ce=new Date(me),Me=String(Ce.getDate()).padStart(2,"0"),He=String(Ce.getMonth()+1).padStart(2,"0"),at=Ce.getFullYear();return`${Me}.${He}.${at}`},ce=me=>{const Ce=me.getFullYear(),Me=me.getMonth(),He=new Date(Ce,Me,1),at=new Date(He);at.setDate(at.getDate()-He.getDay());const pt=[],ge=new Date(at);for(let Le=0;Le<42;Le++)ge.getMonth()===Me?pt.push(ge.toISOString().split("T")[0]):pt.push(null),ge.setDate(ge.getDate()+1);return pt},be=me=>{const Ce=me.getFullYear(),Me=String(me.getMonth()+1).padStart(2,"0"),He=String(me.getDate()).padStart(2,"0");return`${Ce}-${Me}-${He}`},ae=me=>{const Ce=[],Me=me!==void 0?me:0;for(let He=Me;He<24;He++)Ce.push(`${String(He).padStart(2,"0")}:00`);return Ce},ue=(me,Ce)=>R.length===0?!1:R.some(Me=>{if(!Me.end_date||!Me.end_time)return!1;const He=Me.end_date.includes("T")?Me.end_date.split("T")[0]:Me.end_date.split(" ")[0],at=new Date(He),[pt,ge]=Me.end_time.split(":").map(Number);at.setHours(pt||17,ge||0,0,0);const Le=new Date(at);if(Le.setHours(Le.getHours()+12),Ce){const[Be,Ge]=Ce.split(":").map(Number),Qe=new Date(me);return Qe.setHours(Be||0,Ge||0,0,0),Qe>=at&&Qe<Le}else{const Be=new Date(me);Be.setHours(0,0,0,0);const Ge=new Date(me);return Ge.setHours(23,59,59,999),Le>Be&&at<Ge}}),fe=()=>{const me=new Date;me.setHours(0,0,0,0);let Ce=null;return T.forEach(Me=>{if(!Me.start_date)return;const He=Me.start_date.includes("T")?Me.start_date.split("T")[0]:Me.start_date.split(" ")[0],at=new Date(He+"T00:00:00");at.setHours(0,0,0,0),at>me&&(!Ce||at<Ce)&&(Ce=at)}),R.forEach(Me=>{if(!Me.start_date)return;const He=Me.start_date.includes("T")?Me.start_date.split("T")[0]:Me.start_date.split(" ")[0],at=new Date(He+"T00:00:00");at.setHours(0,0,0,0),at>me&&(!Ce||at<Ce)&&(Ce=at)}),Ce?be(Ce):null},pe=me=>{const Ce=me.split("T")[0],Me=new Date(Ce+"T00:00:00");Me.setHours(0,0,0,0);const He=new Date;return He.setHours(0,0,0,0),Me<He?!1:ue(Me)||T.length>0&&T.some(pt=>{if(!pt.start_date||!pt.end_date)return!1;const ge=pt.start_date.includes("T")?pt.start_date.split("T")[0]:pt.start_date.split(" ")[0],Le=new Date(ge+"T00:00:00");Le.setHours(0,0,0,0);const Be=pt.end_date.includes("T")?pt.end_date.split("T")[0]:pt.end_date.split(" ")[0],Ge=new Date(Be+"T23:59:59");return Ge.setHours(23,59,59,999),Ge>=He&&Me>=Le&&Me<=Ge})?!0:R.length>0?R.some(pt=>{if(!pt.start_date||!pt.end_date)return!1;const ge=pt.start_date.includes("T")?pt.start_date.split("T")[0]:pt.start_date.split(" ")[0],Le=new Date(ge+"T00:00:00");Le.setHours(0,0,0,0);const Be=pt.end_date.includes("T")?pt.end_date.split("T")[0]:pt.end_date.split(" ")[0],Ge=new Date(Be+"T23:59:59");return Ge.setHours(23,59,59,999),Ge>=He&&Me>=Le&&Me<=Ge}):!1},de=me=>{const Ce=fe();return Ce!==null&&me>=Ce},le=me=>pe(me)||de(me),ne=(me,Ce=!1)=>{const Me=ce(me),He=new Date;He.setHours(0,0,0,0);const at=Me.filter(ge=>ge!==null);return at.every(ge=>{const Le=be(He),Be=ge<Le,Ge=B?(()=>{const oe=new Date;oe.setHours(0,0,0,0);const ht=new Date(B);ht.setHours(0,0,0,0);const wt=new Date(ge);return wt.setHours(0,0,0,0),ht<=oe&&wt<ht})():!1,Qe=le(ge),St=Ce&&c.startDate&&ge<=c.startDate;return Be||Ge||Qe||St})&&at.length>0},[Se,Ee]=_.useState({pickupAtAddress:!1,returnAtAddress:!1,unlimitedKm:!1,speedLimitIncrease:!1,personalDriver:!1,priorityService:!1,tireInsurance:!1,childSeat:!1,simCard:!1,roadsideAssistance:!1}),qe=()=>{if(!c.startDate||!c.endDate||!c.carId)return 0;const me=r.find($e=>$e.id.toString()===c.carId);if(!me)return 0;const Ce=new Date(c.startDate),Me=new Date(c.endDate),He=c.startTime||"09:00",at=c.endTime||"17:00",[pt,ge]=He.split(":").map(Number),[Le,Be]=at.split(":").map(Number),Ge=new Date(Ce);Ge.setHours(pt,ge,0,0);const Qe=new Date(Me);Qe.setHours(Le,Be,0,0);const St=Qe.getTime()-Ge.getTime(),oe=Math.floor(St/(1e3*60*60*24)),ht=Math.floor(St%(1e3*60*60*24)/(1e3*60*60)),wt=oe,rt=ht>=0?ht:0,Ne=wt,Ue=wt+rt/24,Re=me.pricePerDay||me.price_per_day||0,Ve=me.discount_percentage||me.discount_percentage||0,it=Ve>0?Re*(1-Ve/100):Re;let ie=0;if(Ne>=8?ie=it*.96*Ne:Ne>=4?ie=it*.98*Ne:ie=it*Ne,rt>0){const $e=rt/24*it;ie+=$e}let we=0;const De=it;return Se.unlimitedKm&&(we+=De*Ue*.5),Se.speedLimitIncrease&&(we+=De*Ue*.2),Se.tireInsurance&&(we+=De*Ue*.2),Se.personalDriver&&(we+=800*Ne),Se.priorityService&&(we+=1e3*Ne),Se.childSeat&&(we+=100*Ne),Se.simCard&&(we+=100*Ne),Se.roadsideAssistance&&(we+=500*Ne),Math.round(ie+we)};_.useEffect(()=>{const me=qe();u(Ce=>({...Ce,amount:me}))},[c.startDate,c.endDate,c.startTime,c.endTime,c.carId,Se]),_.useEffect(()=>{const me=Ce=>{Ce.target.closest(".country-code-dropdown-container")||p(!1),D.current&&!D.current.contains(Ce.target)&&y(!1),G.current&&!G.current.contains(Ce.target)&&j(!1),Z.current&&!Z.current.contains(Ce.target)&&w(!1),P.current&&!P.current.contains(Ce.target)&&O(!1)};return document.addEventListener("mousedown",me),()=>{document.removeEventListener("mousedown",me)}},[x]),_.useEffect(()=>{c.startDate&&Y(me=>({...me,pickup:new Date(c.startDate||"")}))},[c.startDate]),_.useEffect(()=>{if(c.endDate)Y(me=>({...me,return:new Date(c.endDate||"")}));else if(c.startDate){const me=new Date(c.startDate);me.setMonth(me.getMonth()+1),Y(Ce=>({...Ce,return:me}))}},[c.endDate,c.startDate]),_.useEffect(()=>{c.startDate&&Y(me=>({...me,pickup:new Date(c.startDate||"")}))},[c.startDate]),_.useEffect(()=>{if(c.endDate)Y(me=>({...me,return:new Date(c.endDate||"")}));else if(c.startDate){const me=new Date(c.startDate);Y(Ce=>({...Ce,return:new Date(me)}))}},[c.endDate,c.startDate]),_.useEffect(()=>{(async()=>{if(c.carId)try{const{fetchRentals:Ce}=await ii(async()=>{const{fetchRentals:ge}=await Promise.resolve().then(()=>Nh);return{fetchRentals:ge}},void 0),Me=await Ce(),He=new Date,at=parseInt(c.carId,10),pt=Me.filter(ge=>{var Ge;const Le=typeof ge.car_id=="number"?ge.car_id:parseInt(((Ge=ge.car_id)==null?void 0:Ge.toString())||"0",10),Be=ge.status||ge.rental_status||"";if(Le!==at)return!1;if(Be==="ACTIVE"||Be==="CONTRACT")return!0;if(ge.end_date){const Qe=new Date(ge.end_date);if(ge.end_time){const[St,oe]=ge.end_time.split(":").map(Number);Qe.setHours(St||17,oe||0,0,0)}else Qe.setHours(23,59,59,999);return Qe>=He}return!1});L(pt)}catch(Ce){console.error("Error fetching car availability:",Ce)}})()},[c.carId]),_.useEffect(()=>{(async()=>{if(c.carId)try{const Ce=parseInt(c.carId,10),Me=await supabaseAdmin.from("Rentals").select("*").eq("car_id",Ce).order("created_at",{ascending:!1}),He=new Date,at=(Me.data||[]).filter(oe=>{if(!oe.end_date)return!1;const ht=oe.end_date.includes("T")?oe.end_date.split("T")[0]:oe.end_date.split(" ")[0],wt=new Date(ht);if(oe.end_time){const[rt,Ne]=oe.end_time.split(":").map(Number);wt.setHours(rt||17,Ne||0,0,0)}else wt.setHours(23,59,59,999);return wt>=He});let pt=[];try{const oe=await supabaseAdmin.from("BorrowRequest").select("*").eq("car_id",Ce).in("status",["APPROVED","EXECUTED"]).order("requested_at",{ascending:!1});oe.data&&oe.data.length>0&&(pt=oe.data)}catch{}const ge=at.map(oe=>({id:oe.id.toString(),user_id:oe.user_id,car_id:oe.car_id.toString(),start_date:oe.start_date,start_time:oe.start_time||"09:00:00",end_date:oe.end_date,end_time:oe.end_time||"17:00:00",status:"EXECUTED",created_at:oe.created_at,updated_at:oe.updated_at})),Le=pt.map(oe=>({id:oe.id.toString(),user_id:oe.user_id,car_id:oe.car_id.toString(),start_date:oe.start_date,start_time:oe.start_time||"09:00:00",end_date:oe.end_date,end_time:oe.end_time||"17:00:00",status:"APPROVED",created_at:oe.requested_at||oe.created_at,updated_at:oe.updated_at})),Ge=[...ge,...Le].filter(oe=>oe.start_date&&oe.end_date);A(Ge);const Qe=new Date;let St=null;if(Ge.length>0){const oe=[...Ge].sort((ht,wt)=>{const rt=new Date(ht.start_date||0),Ne=new Date(wt.start_date||0);return rt.getTime()-Ne.getTime()});for(let ht=0;ht<oe.length;ht++){const wt=oe[ht];if(!wt.start_date||!wt.end_date)continue;const rt=wt.start_date.includes("T")?wt.start_date.split("T")[0]:wt.start_date.split(" ")[0],Ne=new Date(rt);if(wt.start_time){const[it,ie]=wt.start_time.split(":").map(Number);Ne.setHours(it||9,ie||0,0,0)}else Ne.setHours(9,0,0,0);const Ue=wt.end_date.includes("T")?wt.end_date.split("T")[0]:wt.end_date.split(" ")[0],Re=new Date(Ue);if(wt.end_time){const[it,ie]=wt.end_time.split(":").map(Number);Re.setHours(it||17,ie||0,0,0)}else Re.setHours(17,0,0,0);if(Re.setHours(Re.getHours()+12),Re>Qe)if(ht<oe.length-1){const it=oe[ht+1];if(it.start_date){const ie=it.start_date.includes("T")?it.start_date.split("T")[0]:it.start_date.split(" ")[0],we=new Date(ie);if(it.start_time){const[Ye,lt]=it.start_time.split(":").map(Number);we.setHours(Ye||9,lt||0,0,0)}else we.setHours(9,0,0,0);if((we.getTime()-Re.getTime())/(1e3*60*60*24)>=2){St=Re;break}}else{St=Re;break}}else{St=Re;break}}if(!St){let ht=null;for(let wt=0;wt<oe.length;wt++){const rt=oe[wt];if(!rt.end_date)continue;const Ne=rt.end_date.includes("T")?rt.end_date.split("T")[0]:rt.end_date.split(" ")[0],Ue=new Date(Ne);if(rt.end_time){const[Re,Ve]=rt.end_time.split(":").map(Number);Ue.setHours(Re||17,Ve||0,0,0)}else Ue.setHours(17,0,0,0);if(Ue.setHours(Ue.getHours()+12),wt===0)ht=Ue;else{const Re=oe[wt-1];if(Re.end_date){const Ve=Re.end_date.includes("T")?Re.end_date.split("T")[0]:Re.end_date.split(" ")[0],it=new Date(Ve);if(Re.end_time){const[Ye,lt]=Re.end_time.split(":").map(Number);it.setHours(Ye||17,lt||0,0,0)}else it.setHours(17,0,0,0);it.setHours(it.getHours()+12);const ie=rt.start_date.includes("T")?rt.start_date.split("T")[0]:rt.start_date.split(" ")[0],we=new Date(ie);if(rt.start_time){const[Ye,lt]=rt.start_time.split(":").map(Number);we.setHours(Ye||9,lt||0,0,0)}else we.setHours(9,0,0,0);const De=we.getTime()-it.getTime(),$e=24*60*60*1e3;if(De>=0&&De<=$e+36e5)ht=Ue;else{if(ht&&ht>Qe){St=ht;break}ht=Ue}}}}ht&&ht>Qe&&(St=ht)}}$(St)}catch(Ce){console.error("Error fetching approved borrow requests:",Ce)}})()},[c.carId]),_.useEffect(()=>{if(v&&!q){if(ne(z.pickup,!1)){const me=new Date(z.pickup);me.setMonth(me.getMonth()+1),Y(Ce=>({...Ce,pickup:me}))}W(!0)}else v||W(!1)},[v,z.pickup,B,T,q]),_.useEffect(()=>{if(g&&!ee){if(ne(z.return,!0)){const me=new Date(z.return);me.setMonth(me.getMonth()+1),Y(Ce=>({...Ce,return:me}))}M(!0)}else g||M(!1)},[g,z.return,B,T,c.startDate,ee]),_.useEffect(()=>{const me=Ce=>{if(V)return;const Me=Ce.target;Me.closest("button[data-calendar-toggle]")||(v&&D.current&&!D.current.contains(Me)&&y(!1),g&&G.current&&!G.current.contains(Me)&&j(!1),k&&Z.current&&!Z.current.contains(Me)&&w(!1),E&&P.current&&!P.current.contains(Me)&&O(!1))};return document.addEventListener("mousedown",me),document.addEventListener("touchstart",me),()=>{document.removeEventListener("mousedown",me),document.removeEventListener("touchstart",me)}},[v,g,k,E,V]);const ve=me=>{const Ce=r.find(Me=>Me.id.toString()===me);u(Me=>({...Me,carId:me,carName:(Ce==null?void 0:Ce.name)||""}))},Ae=me=>{if(me.preventDefault(),!c.firstName||!c.lastName||!c.age||!c.customerPhone||!c.carId||!c.startDate||!c.endDate){alert(i("admin.requests.fillRequiredFields"));return}const Ce=`${c.firstName} ${c.lastName}`,Me=`${h.code} ${c.customerPhone}`.trim(),He=qe(),at={...c,customerName:Ce,customerFirstName:c.firstName,customerLastName:c.lastName,customerAge:c.age,customerPhone:Me,options:Se,comment:c.comment||void 0,amount:He};e(at)};return Na.createPortal(a.jsx(Ie.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:1},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",onClick:t,style:{zIndex:1e4},children:a.jsxs(Ie.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2,ease:"easeOut"},onClick:me=>me.stopPropagation(),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white/10 backdrop-blur-xl border-b border-white/20 px-6 py-4 flex items-center justify-between z-10",style:{backgroundColor:"#1C1C1C"},children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:i("admin.requests.createNew")}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:a.jsx(hn,{className:"w-5 h-5 text-white"})})]}),a.jsxs("form",{onSubmit:Ae,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Date de contact"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Prenume *"}),a.jsx("input",{type:"text",value:c.firstName||"",onChange:me=>u(Ce=>({...Ce,firstName:me.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nume *"}),a.jsx("input",{type:"text",value:c.lastName||"",onChange:me=>u(Ce=>({...Ce,lastName:me.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Vrst *"}),a.jsx("input",{type:"number",value:c.age||"",onChange:me=>u(Ce=>({...Ce,age:me.target.value})),min:"18",max:"100",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Telefon *"}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 z-[1] country-code-dropdown-container",children:[a.jsxs("button",{type:"button",onClick:()=>p(!x),className:"flex items-center gap-1.5 text-gray-300 hover:text-white text-sm font-medium px-2 py-1 rounded hover:bg-white/10 transition-colors",children:[a.jsx("span",{children:h.flag}),a.jsx("span",{children:h.code}),a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),x&&a.jsx("div",{className:"absolute top-full left-0 mt-1 border border-white/20 rounded-lg shadow-lg max-h-60 overflow-y-auto z-[5] min-w-[200px]",style:{backgroundColor:"#343434"},children:ID.map(me=>a.jsxs("button",{type:"button",onClick:()=>{m(me),p(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-white hover:bg-white/20 transition-colors",children:[a.jsx("span",{children:me.flag}),a.jsx("span",{className:"flex-1 text-left",children:me.country}),a.jsx("span",{className:"text-gray-400",children:me.code})]},me.code))})]}),a.jsx("input",{type:"tel",value:c.customerPhone||"",onChange:me=>u(Ce=>({...Ce,customerPhone:me.target.value})),placeholder:"000 00 000",className:"w-full pl-[100px] pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",required:!0})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"E-mail (opional)"}),a.jsx("input",{type:"email",value:c.customerEmail||"",onChange:me=>u(Ce=>({...Ce,customerEmail:me.target.value})),placeholder:i("admin.placeholders.email"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"}})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Selectare automobil"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Automobil *"}),a.jsxs("select",{value:c.carId||"",onChange:me=>ve(me.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0,children:[a.jsx("option",{value:"",children:i("admin.requests.selectACar")}),r.map(me=>{const Ce=me.pricePerDay||me.price_per_day||0,Me=me.discount_percentage||me.discount_percentage||0,He=Me>0?Ce*(1-Me/100):Ce,at=(me==null?void 0:me.name)||`${me.make||""} ${me.model||""}`.trim()||"Car";return a.jsxs("option",{value:me.id.toString(),children:[at," - ",He.toFixed(0)," MDL/zi",Me>0?` (-${Me}%)`:""]},me.id)})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Perioada nchirierii"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",ref:D,children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Data prelurii *"}),a.jsxs("button",{type:"button",onClick:()=>{y(!v),j(!1),w(!1),O(!1)},className:`w-full flex items-center justify-start gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${c.startDate?"border-white/30 text-white hover:border-white/50 bg-white/5":"border-white/20 text-gray-400 hover:border-white/30 bg-white/5"}`,children:[a.jsx(ta,{className:"w-4 h-4"}),a.jsx("span",{children:c.startDate?re(c.startDate):"Data primirii"})]}),a.jsx(mr,{children:v&&a.jsxs(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-[#343434] border border-white/20 rounded-lg shadow-lg p-3 min-w-[280px]",onClick:me=>me.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("button",{type:"button",onClick:()=>{const me=new Date(z.pickup);me.setMonth(me.getMonth()-1),Y(Ce=>({...Ce,pickup:me}))},className:"p-1 hover:bg-white/10 rounded transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("div",{className:"text-sm font-medium text-white",children:z.pickup.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),a.jsx("button",{type:"button",onClick:()=>{const me=new Date(z.pickup);me.setMonth(me.getMonth()+1),Y(Ce=>({...Ce,pickup:me}))},className:"p-1 hover:bg-white/10 rounded transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),a.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Du","Lu","Ma","Mi","Jo","Vi","S"].map(me=>a.jsx("div",{className:"text-gray-400 font-medium",children:me},me))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:ce(z.pickup).map((me,Ce)=>{if(!me)return a.jsx("div",{},Ce);const Me=new Date(me),He=me,at=new Date;at.setHours(0,0,0,0);const pt=be(at),ge=He<pt,Le=B?(()=>{const wt=new Date;wt.setHours(0,0,0,0);const rt=new Date(B);rt.setHours(0,0,0,0);const Ne=new Date(He);return Ne.setHours(0,0,0,0),rt<=wt&&Ne<rt})():!1,Be=pe(He),Ge=ge||Le||Be,Qe=He===c.startDate,St=c.endDate&&He===c.endDate,oe=c.startDate&&c.endDate&&He>c.startDate&&He<c.endDate,ht=()=>"Aceast dat nu este disponibil.";return a.jsxs("div",{className:`w-8 h-8 flex items-center justify-center text-xs rounded transition-colors relative ${Ge?"text-gray-300 cursor-not-allowed":"text-white cursor-pointer"} ${Qe||St?"bg-red-500 text-white hover:bg-red-600 font-medium":oe?"bg-white/20 text-white hover:bg-white/30":Ge?"":"hover:bg-white/20"}`,onClick:()=>{if(Ge)alert(ht());else{const wt=c.startDate&&c.startDate!==me;if(wt&&u(rt=>({...rt,endDate:"",startTime:"",endTime:""})),u(rt=>({...rt,startDate:me})),!wt&&c.endDate&&me>=c.endDate){const rt=new Date(c.endDate),Ne=new Date(me),Ue=rt.getTime()-Ne.getTime();Math.floor(Ue/(1e3*60*60*24))<2&&u(Ve=>({...Ve,endDate:""}))}U(!0),setTimeout(()=>{y(!1),U(!1),c.startTime||w(!0)},300)}},title:Ge?ht():"",children:[a.jsx("span",{className:"relative z-0",children:Me.getDate()}),Be&&a.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-red-600 font-bold text-base z-10 pointer-events-none",style:{fontSize:"14px"},children:""})]},Ce)})})]})})]}),a.jsxs("div",{className:"relative",ref:Z,children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ora prelurii *"}),a.jsxs("button",{type:"button",onClick:()=>{w(!k),O(!1),y(!1),j(!1)},className:`w-full flex items-center justify-start gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${c.startTime?"border-white/30 text-white hover:border-white/50 bg-white/5":"border-white/20 text-gray-400 hover:border-white/30 bg-white/5"}`,children:[a.jsx(ra,{className:"w-4 h-4"}),a.jsx("span",{children:c.startTime||"__ : __"})]}),a.jsx(mr,{children:k&&a.jsx(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-[#343434] border border-white/20 rounded-lg shadow-lg p-3 max-h-[200px] overflow-y-auto min-w-[120px]",onClick:me=>me.stopPropagation(),children:a.jsx("div",{className:"flex flex-col gap-1",children:(()=>{let me;if(c.startDate){const Me=new Date;Me.setHours(0,0,0,0);const He=be(Me);if(c.startDate===He){let ge=new Date().getHours()+2;ge>=24&&(ge=23),me=ge}else if(B){const at=B.toISOString().split("T")[0];if(c.startDate===at){const pt=B.getHours();me=B.getMinutes()>0?pt+1:pt}}}return ae(me).filter(Me=>{if(!c.startDate)return!0;const He=new Date(c.startDate);return!ue(He,Me)}).map(Me=>a.jsx("button",{type:"button",onClick:He=>{He.stopPropagation(),u(at=>({...at,startTime:Me})),U(!0),setTimeout(()=>{w(!1),U(!1),c.endDate||j(!0)},300)},onMouseDown:He=>He.stopPropagation(),className:`w-full px-3 py-2 text-sm rounded transition-colors text-center ${c.startTime===Me?"bg-red-500 text-white font-medium":"text-white hover:bg-white/20"}`,children:Me},Me))})()})})})]}),a.jsxs("div",{className:"relative",ref:G,children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Data returnrii *"}),a.jsxs("button",{type:"button",onClick:()=>{j(!g),y(!1),w(!1),O(!1)},className:`w-full flex items-center justify-start gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${c.endDate?"border-white/30 text-white hover:border-white/50 bg-white/5":"border-white/20 text-gray-400 hover:border-white/30 bg-white/5"}`,children:[a.jsx(ta,{className:"w-4 h-4"}),a.jsx("span",{children:c.endDate?re(c.endDate):"Data returnrii"})]}),a.jsx(mr,{children:g&&a.jsxs(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-[#343434] border border-white/20 rounded-lg shadow-lg p-3 min-w-[280px]",onClick:me=>me.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("button",{type:"button",onClick:()=>{const me=new Date(z.return);me.setMonth(me.getMonth()-1),Y(Ce=>({...Ce,return:me}))},className:"p-1 hover:bg-white/10 rounded transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("div",{className:"text-sm font-medium text-white",children:z.return.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),a.jsx("button",{type:"button",onClick:()=>{const me=new Date(z.return);me.setMonth(me.getMonth()+1),Y(Ce=>({...Ce,return:me}))},className:"p-1 hover:bg-white/10 rounded transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),a.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Du","Lu","Ma","Mi","Jo","Vi","S"].map(me=>a.jsx("div",{className:"text-gray-400 font-medium",children:me},me))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:ce(z.return).map((me,Ce)=>{if(!me)return a.jsx("div",{},Ce);const Me=new Date(me),He=me,at=new Date;at.setHours(0,0,0,0);const pt=be(at),ge=He<pt,Le=B?(()=>{const Ue=new Date;Ue.setHours(0,0,0,0);const Re=new Date(B);Re.setHours(0,0,0,0);const Ve=new Date(He);return Ve.setHours(0,0,0,0),Re<=Ue&&Ve<Re})():!1,Be=c.startDate&&He<=c.startDate,Ge=c.startDate&&(()=>{const Ue=new Date(c.startDate),Ve=new Date(He).getTime()-Ue.getTime();return Math.floor(Ve/(1e3*60*60*24))<2})(),Qe=pe(He),St=c.startDate?(()=>{const Ue=fe();if(!Ue)return!1;const Re=new Date(c.startDate);Re.setHours(0,0,0,0);const Ve=new Date(Ue);Ve.setHours(0,0,0,0);const it=new Date(He);return it.setHours(0,0,0,0),Re>=Ve?!1:it>=Ve})():de(He),oe=ge||Le||Be||Qe||St,ht=He===c.endDate,wt=c.startDate&&He===c.startDate,rt=c.startDate&&c.endDate&&He>c.startDate&&He<c.endDate,Ne=()=>{if(St){const Ue=fe();if(Ue)return`Nu putei selecta aceast dat. Maina este deja rezervat ncepnd cu ${new Date(Ue).toLocaleDateString("ro-RO",{day:"numeric",month:"long",year:"numeric"})}.`}return"Aceast dat nu este disponibil."};return a.jsxs("div",{className:`w-8 h-8 flex items-center justify-center text-xs rounded transition-colors relative ${Ge?"text-black opacity-50 cursor-not-allowed":oe?"text-gray-300 cursor-not-allowed":"text-white cursor-pointer"} ${ht||wt?"bg-red-500 text-white hover:bg-red-600 font-medium":rt?"bg-white/20 text-white hover:bg-white/30":!oe&&!Ge?"hover:bg-white/20":""}`,onClick:()=>{if(Ge){H("Perioada minim de nchiriere este de 2 zile"),setTimeout(()=>H(""),3e3);return}oe?alert(Ne()):(u(Ue=>({...Ue,endDate:me})),U(!0),setTimeout(()=>{j(!1),U(!1),c.endTime||O(!0)},300))},title:oe?Ne():"",children:[a.jsx("span",{className:"relative z-0",children:Me.getDate()}),Qe&&a.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-red-600 font-bold text-base z-10 pointer-events-none",style:{fontSize:"14px"},children:""})]},Ce)})}),I&&a.jsx("div",{className:"mt-3 px-2 py-1.5 bg-blue-50 rounded-xl border border-blue-100",children:a.jsx("p",{className:"text-xs text-blue-700",children:I})})]})})]}),a.jsxs("div",{className:"relative",ref:P,children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ora returnrii *"}),a.jsxs("button",{type:"button",onClick:()=>{O(!E),w(!1),y(!1),j(!1)},className:`w-full flex items-center justify-start gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${c.endTime?"border-white/30 text-white hover:border-white/50 bg-white/5":"border-white/20 text-gray-400 hover:border-white/30 bg-white/5"}`,children:[a.jsx(ra,{className:"w-4 h-4"}),a.jsx("span",{children:c.endTime||"__ : __"})]}),a.jsx(mr,{children:E&&a.jsx(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-[#343434] border border-white/20 rounded-lg shadow-lg p-3 max-h-[200px] overflow-y-auto min-w-[120px]",onClick:me=>me.stopPropagation(),children:a.jsx("div",{className:"grid grid-cols-2 gap-1",children:ae().map(me=>a.jsx("button",{type:"button",onClick:()=>{u(Ce=>({...Ce,endTime:me})),O(!1)},className:`px-3 py-2 text-xs rounded transition-colors ${c.endTime===me?"bg-red-500 text-white font-medium":"text-white hover:bg-white/20"}`,children:me},me))})})})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Opiuni de nchiriere"}),a.jsxs("div",{className:"space-y-2 mb-5",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Preluarea i returnarea automobilului"}),a.jsx("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:Se.pickupAtAddress,onChange:me=>Ee(Ce=>({...Ce,pickupAtAddress:me.target.checked})),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${Se.pickupAtAddress?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:Se.pickupAtAddress&&a.jsx(Check,{className:"w-3 h-3 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white text-sm",children:"Preluarea la adres"}),a.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:"Cost separat"})]})]})}),a.jsx("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:Se.returnAtAddress,onChange:me=>Ee(Ce=>({...Ce,returnAtAddress:me.target.checked})),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${Se.returnAtAddress?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:Se.returnAtAddress&&a.jsx(Check,{className:"w-3 h-3 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white text-sm",children:"Returnarea la adres"}),a.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:"Cost separat"})]})]})})]}),a.jsxs("div",{className:"mb-5",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Limite"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:Se.unlimitedKm,onChange:me=>Ee(Ce=>({...Ce,unlimitedKm:me.target.checked})),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${Se.unlimitedKm?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:Se.unlimitedKm&&a.jsx(Check,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"font-medium text-white text-sm",children:"Kilometraj nelimitat"})]}),a.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-400/10 px-2 py-1 rounded",children:"+50%"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:Se.speedLimitIncrease,onChange:me=>Ee(Ce=>({...Ce,speedLimitIncrease:me.target.checked})),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${Se.speedLimitIncrease?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:Se.speedLimitIncrease&&a.jsx(Check,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"font-medium text-white text-sm",children:"Creterea limitei de vitez"})]}),a.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-400/10 px-2 py-1 rounded",children:"+20%"})]})]})]}),a.jsxs("div",{className:"mb-5",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Servicii VIP"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:Se.personalDriver,onChange:me=>Ee(Ce=>({...Ce,personalDriver:me.target.checked})),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${Se.personalDriver?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:Se.personalDriver&&a.jsx(Check,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"font-medium text-white text-sm",children:"ofer personal"})]}),a.jsx("span",{className:"text-xs font-bold text-gray-300 bg-white/5 px-2 py-1 rounded whitespace-nowrap",children:"800 MDL/zi"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:Se.priorityService,onChange:me=>Ee(Ce=>({...Ce,priorityService:me.target.checked})),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${Se.priorityService?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:Se.priorityService&&a.jsx(Check,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"font-medium text-white text-sm",children:"Priority Service"})]}),a.jsx("span",{className:"text-xs font-bold text-gray-300 bg-white/5 px-2 py-1 rounded whitespace-nowrap",children:"1 000 MDL/zi"})]})]})]}),a.jsxs("div",{className:"mb-5",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Asigurare"}),a.jsx("div",{className:"space-y-2",children:a.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:Se.tireInsurance,onChange:me=>Ee(Ce=>({...Ce,tireInsurance:me.target.checked})),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${Se.tireInsurance?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:Se.tireInsurance&&a.jsx(Check,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"font-medium text-white text-sm",children:"Asigurare anvelope & parbriz"})]}),a.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-400/10 px-2 py-1 rounded",children:"+20%"})]})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Suplimentar"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:Se.childSeat,onChange:me=>Ee(Ce=>({...Ce,childSeat:me.target.checked})),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${Se.childSeat?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:Se.childSeat&&a.jsx(Check,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"font-medium text-white text-sm",children:"Scaun auto pentru copii"})]}),a.jsx("span",{className:"text-xs font-bold text-gray-300 bg-white/5 px-2 py-1 rounded whitespace-nowrap",children:"100 MDL/zi"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:Se.simCard,onChange:me=>Ee(Ce=>({...Ce,simCard:me.target.checked})),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${Se.simCard?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:Se.simCard&&a.jsx(Check,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"font-medium text-white text-sm",children:"Cartel SIM cu internet"})]}),a.jsx("span",{className:"text-xs font-bold text-gray-300 bg-white/5 px-2 py-1 rounded whitespace-nowrap",children:"100 MDL/zi"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:Se.roadsideAssistance,onChange:me=>Ee(Ce=>({...Ce,roadsideAssistance:me.target.checked})),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${Se.roadsideAssistance?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:Se.roadsideAssistance&&a.jsx(Check,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"font-medium text-white text-sm",children:"Asisten rutier"})]}),a.jsx("span",{className:"text-xs font-bold text-gray-300 bg-white/5 px-2 py-1 rounded whitespace-nowrap",children:"500 MDL/zi"})]})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Comentariu ",a.jsx("span",{className:"text-gray-400 font-normal",children:"(opional)"})]}),a.jsx("textarea",{value:c.comment||"",onChange:me=>u(Ce=>({...Ce,comment:me.target.value})),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 resize-none",placeholder:"Adugai un comentariu (opional)"})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Detalii pre"}),a.jsx("div",{className:"space-y-3",children:c.carId&&(()=>{const me=r.find($e=>$e.id.toString()===c.carId);if(!me)return null;const Ce=me.pricePerDay||me.price_per_day||0,Me=me.discount_percentage||me.discount_percentage||0,He=Me>0?Ce*(1-Me/100):Ce,at=new Date(c.startDate||""),pt=new Date(c.endDate||""),ge=c.startTime||"09:00",Le=c.endTime||"17:00",[Be,Ge]=ge.split(":").map(Number),[Qe,St]=Le.split(":").map(Number),oe=new Date(at);oe.setHours(Be,Ge,0,0);const ht=new Date(pt);ht.setHours(Qe,St,0,0);const wt=ht.getTime()-oe.getTime(),rt=Math.floor(wt/(1e3*60*60*24)),Ne=Math.floor(wt%(1e3*60*60*24)/(1e3*60*60)),Ue=rt,Re=Ne>=0?Ne:0,Ve=Ue,it=Ue+Re/24;let ie=He*Ve;if(Re>0){const $e=Re/24*He;ie+=$e}let we=0;Se.unlimitedKm&&(we+=He*Ve*.5),Se.tireInsurance&&(we+=He*Ve*.2),Se.personalDriver&&(we+=800*Ve),Se.priorityService&&(we+=1e3*Ve),Se.childSeat&&(we+=100*Ve),Se.simCard&&(we+=100*Ve),Se.roadsideAssistance&&(we+=500*Ve);const De=ie+we;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-300",children:"Pre pe zi"}),a.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[a.jsxs("span",{className:"text-white font-medium",children:[He.toFixed(0)," MDL"]}),Me>0&&a.jsxs("span",{className:"text-gray-400 text-xs line-through",children:[Ce.toFixed(0)," MDL"]})]})]}),Me>0&&a.jsxs("div",{className:"flex items-center justify-between text-sm text-emerald-400",children:[a.jsx("span",{children:"Reducere main"}),a.jsxs("span",{className:"font-medium",children:["-",Me,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-300",children:"Durat"}),a.jsxs("span",{className:"text-white font-medium",children:[Ve," ",Ve===1?"zi":"zile",Re>0?`, ${Re} ${Re===1?"or":"ore"}`:""]})]}),a.jsx("div",{className:"pt-2 border-t border-white/10",children:a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-white font-medium",children:"Pre de baz"}),a.jsxs("span",{className:"text-white font-medium",children:[Math.round(ie).toLocaleString()," MDL"]})]})}),we>0&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"pt-3 border-t border-white/10",children:[a.jsx("h4",{className:"text-sm font-bold text-white mb-3",children:"Servicii suplimentare"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[Se.unlimitedKm&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Kilometraj nelimitat"}),a.jsxs("span",{className:"text-white font-medium",children:[Math.round(baseCarPrice*it*.5).toLocaleString()," MDL"]})]}),Se.speedLimitIncrease&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Creterea limitei de vitez"}),a.jsxs("span",{className:"text-white font-medium",children:[Math.round(baseCarPrice*it*.2).toLocaleString()," MDL"]})]}),Se.tireInsurance&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Asigurare anvelope & parbriz"}),a.jsxs("span",{className:"text-white font-medium",children:[Math.round(baseCarPrice*it*.2).toLocaleString()," MDL"]})]}),Se.personalDriver&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"ofer personal"}),a.jsxs("span",{className:"text-white font-medium",children:[800*Ve," MDL"]})]}),Se.priorityService&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Serviciu prioritar"}),a.jsxs("span",{className:"text-white font-medium",children:[1e3*Ve," MDL"]})]}),Se.childSeat&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Scaun auto pentru copii"}),a.jsxs("span",{className:"text-white font-medium",children:[100*Ve," MDL"]})]}),Se.simCard&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Cartel SIM cu internet"}),a.jsxs("span",{className:"text-white font-medium",children:[100*Ve," MDL"]})]}),Se.roadsideAssistance&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Asisten rutier"}),a.jsxs("span",{className:"text-white font-medium",children:[500*Ve," MDL"]})]}),a.jsx("div",{className:"pt-2 border-t border-white/10",children:a.jsxs("div",{className:"flex justify-between font-medium",children:[a.jsx("span",{className:"text-white",children:"Total servicii"}),a.jsxs("span",{className:"text-white",children:[Math.round(we).toLocaleString()," MDL"]})]})})]})]})}),a.jsxs("div",{className:"pt-3 border-t border-white/10 flex items-center justify-between",children:[a.jsx("span",{className:"text-white font-bold text-lg",children:"Total"}),a.jsxs("span",{className:"text-white font-bold text-xl",children:[Math.round(De).toLocaleString()," MDL"]})]})]})})()})]}),a.jsxs("div",{className:"flex gap-4 justify-end pt-4 border-t border-white/10",children:[a.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-lg transition-all",children:i("admin.common.cancel")}),a.jsxs("button",{type:"submit",className:"px-6 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 hover:text-red-200 font-semibold rounded-lg transition-all backdrop-blur-xl flex items-center gap-2",children:[a.jsx(wh,{className:"w-4 h-4"}),i("admin.requests.createRental")]})]})]})]})}),document.body)},U0e=({request:e,onSave:t,onClose:r,cars:n})=>{const{t:i}=br(),o=(ge=>{if(!ge)return{code:"+373",number:""};const Le=ge.match(/^(\+\d+)\s*(.+)$/);return Le?{code:Le[1],number:Le[2]}:{code:"+373",number:ge}})(e.customerPhone),l=COUNTRY_CODES.find(ge=>ge.code===o.code)||COUNTRY_CODES[0],c=(e.customerName||"").split(" "),u=e.customerFirstName||c[0]||"",h=e.customerLastName||c.slice(1).join(" ")||"",m=e.options;let x={pickupAtAddress:!1,returnAtAddress:!1,unlimitedKm:!1,speedLimitIncrease:!1,personalDriver:!1,priorityService:!1,tireInsurance:!1,childSeat:!1,simCard:!1,roadsideAssistance:!1};if(m)try{const ge=typeof m=="string"?JSON.parse(m):m;x={...x,...ge}}catch{}const[p,v]=_.useState({customerName:e.customerName||"",customerFirstName:u,customerLastName:h,customerEmail:e.customerEmail||"",customerPhone:o.number,customerAge:e.customerAge||"",carId:e.carId||"",carName:e.carName||"",startDate:e.pickupDate||"",startTime:e.pickupTime||"09:00",endDate:e.returnDate||"",endTime:e.returnTime||"17:00",status:e.status||"PENDING",amount:e.amount||0,userId:e.userId||"",firstName:u,lastName:h,age:e.customerAge?String(e.customerAge):"",comment:e.comment||e.customerComment||""}),[y,g]=_.useState(l),[j,k]=_.useState(!1),[w,E]=_.useState(x),[O,z]=_.useState(!1),[Y,B]=_.useState(!1),[$,T]=_.useState(!1),[A,R]=_.useState(!1),L=p.startDate?new Date(p.startDate):new Date,q=p.endDate?new Date(p.endDate):new Date,[W,ee]=_.useState({pickup:L,return:q}),[M,V]=_.useState(null),[U,I]=_.useState([]),[H,D]=_.useState([]),[G,Z]=_.useState(!1),[P,re]=_.useState(!1),[ce,be]=_.useState(!1),[ae,ue]=_.useState(""),fe=vt.useRef(null),pe=vt.useRef(null),de=vt.useRef(null),le=vt.useRef(null),ne=ge=>{const Le=new Date(ge),Be=String(Le.getDate()).padStart(2,"0"),Ge=String(Le.getMonth()+1).padStart(2,"0"),Qe=Le.getFullYear();return`${Be}.${Ge}.${Qe}`},Se=ge=>{const Le=ge.getFullYear(),Be=ge.getMonth(),Ge=new Date(Le,Be,1),Qe=new Date(Ge);Qe.setDate(Qe.getDate()-Ge.getDay());const St=[],oe=new Date(Qe);for(let ht=0;ht<42;ht++)oe.getMonth()===Be?St.push(oe.toISOString().split("T")[0]):St.push(null),oe.setDate(oe.getDate()+1);return St},Ee=ge=>{const Le=ge.getFullYear(),Be=String(ge.getMonth()+1).padStart(2,"0"),Ge=String(ge.getDate()).padStart(2,"0");return`${Le}-${Be}-${Ge}`},qe=ge=>{const Le=[],Be=ge!==void 0?ge:0;for(let Ge=Be;Ge<24;Ge++)Le.push(`${String(Ge).padStart(2,"0")}:00`);return Le},ve=(ge,Le)=>H.length===0?!1:H.some(Be=>{if(!Be.end_date||!Be.end_time)return!1;const Ge=Be.end_date.includes("T")?Be.end_date.split("T")[0]:Be.end_date.split(" ")[0],Qe=new Date(Ge),[St,oe]=Be.end_time.split(":").map(Number);Qe.setHours(St||17,oe||0,0,0);const ht=new Date(Qe);if(ht.setHours(ht.getHours()+12),Le){const[wt,rt]=Le.split(":").map(Number),Ne=new Date(ge);return Ne.setHours(wt||0,rt||0,0,0),Ne>=Qe&&Ne<ht}else{const wt=new Date(ge);wt.setHours(0,0,0,0);const rt=new Date(ge);return rt.setHours(23,59,59,999),ht>wt&&Qe<rt}}),Ae=()=>{const ge=new Date;ge.setHours(0,0,0,0);let Le=null;return U.forEach(Be=>{if(!Be.start_date)return;const Ge=Be.start_date.includes("T")?Be.start_date.split("T")[0]:Be.start_date.split(" ")[0],Qe=new Date(Ge+"T00:00:00");Qe.setHours(0,0,0,0),Qe>ge&&(!Le||Qe<Le)&&(Le=Qe)}),H.forEach(Be=>{if(!Be.start_date)return;const Ge=Be.start_date.includes("T")?Be.start_date.split("T")[0]:Be.start_date.split(" ")[0],Qe=new Date(Ge+"T00:00:00");Qe.setHours(0,0,0,0),Qe>ge&&(!Le||Qe<Le)&&(Le=Qe)}),Le?Ee(Le):null},me=ge=>{const Le=ge.split("T")[0],Be=new Date(Le+"T00:00:00");Be.setHours(0,0,0,0);const Ge=new Date;return Ge.setHours(0,0,0,0),Be<Ge?!1:ve(Be)||U.length>0&&U.some(St=>{if(!St.start_date||!St.end_date)return!1;const oe=St.start_date.includes("T")?St.start_date.split("T")[0]:St.start_date.split(" ")[0],ht=new Date(oe+"T00:00:00");ht.setHours(0,0,0,0);const wt=St.end_date.includes("T")?St.end_date.split("T")[0]:St.end_date.split(" ")[0],rt=new Date(wt+"T23:59:59");return rt.setHours(23,59,59,999),rt>=Ge&&Be>=ht&&Be<=rt})?!0:H.length>0?H.some(St=>{if(!St.start_date||!St.end_date)return!1;const oe=St.start_date.includes("T")?St.start_date.split("T")[0]:St.start_date.split(" ")[0],ht=new Date(oe+"T00:00:00");ht.setHours(0,0,0,0);const wt=St.end_date.includes("T")?St.end_date.split("T")[0]:St.end_date.split(" ")[0],rt=new Date(wt+"T23:59:59");return rt.setHours(23,59,59,999),rt>=Ge&&Be>=ht&&Be<=rt}):!1},Ce=ge=>{const Le=Ae();return Le!==null&&ge>=Le},Me=ge=>me(ge)||Ce(ge),He=(ge,Le=!1)=>{const Be=Se(ge),Ge=new Date;Ge.setHours(0,0,0,0);const Qe=Be.filter(oe=>oe!==null);return Qe.every(oe=>{const ht=Ee(Ge),wt=oe<ht,rt=M?(()=>{const Re=new Date;Re.setHours(0,0,0,0);const Ve=new Date(M);Ve.setHours(0,0,0,0);const it=new Date(oe);return it.setHours(0,0,0,0),Ve<=Re&&it<Ve})():!1,Ne=Me(oe),Ue=Le&&p.startDate&&oe<=p.startDate;return wt||rt||Ne||Ue})&&Qe.length>0};_.useEffect(()=>{p.startDate&&ee(ge=>({...ge,pickup:new Date(p.startDate||"")}))},[p.startDate]),_.useEffect(()=>{if(p.endDate)ee(ge=>({...ge,return:new Date(p.endDate||"")}));else if(p.startDate){const ge=new Date(p.startDate);ee(Le=>({...Le,return:new Date(ge)}))}},[p.endDate,p.startDate]),_.useEffect(()=>{(async()=>{if(p.carId)try{const{fetchRentals:Le}=await ii(async()=>{const{fetchRentals:oe}=await Promise.resolve().then(()=>Nh);return{fetchRentals:oe}},void 0),Be=await Le(),Ge=new Date,Qe=parseInt(p.carId,10),St=Be.filter(oe=>{var rt;const ht=typeof oe.car_id=="number"?oe.car_id:parseInt(((rt=oe.car_id)==null?void 0:rt.toString())||"0",10),wt=oe.status||oe.rental_status||"";if(ht!==Qe)return!1;if(wt==="ACTIVE"||wt==="CONTRACT")return!0;if(oe.end_date){const Ne=new Date(oe.end_date);if(oe.end_time){const[Ue,Re]=oe.end_time.split(":").map(Number);Ne.setHours(Ue||17,Re||0,0,0)}else Ne.setHours(23,59,59,999);return Ne>=Ge}return!1});D(St)}catch(Le){console.error("Error fetching car availability:",Le)}})()},[p.carId]),_.useEffect(()=>{(async()=>{if(p.carId)try{const Le=parseInt(p.carId,10),Be=await supabaseAdmin.from("Rentals").select("*").eq("car_id",Le).order("created_at",{ascending:!1}),Ge=new Date,Qe=(Be.data||[]).filter(Re=>{if(!Re.end_date)return!1;const Ve=Re.end_date.includes("T")?Re.end_date.split("T")[0]:Re.end_date.split(" ")[0],it=new Date(Ve);if(Re.end_time){const[ie,we]=Re.end_time.split(":").map(Number);it.setHours(ie||17,we||0,0,0)}else it.setHours(23,59,59,999);return it>=Ge});let St=[];try{const Re=await supabaseAdmin.from("BorrowRequest").select("*").eq("car_id",Le).in("status",["APPROVED","EXECUTED"]).order("requested_at",{ascending:!1});Re.data&&Re.data.length>0&&(St=Re.data)}catch{}const oe=Qe.map(Re=>({id:Re.id.toString(),user_id:Re.user_id,car_id:Re.car_id.toString(),start_date:Re.start_date,start_time:Re.start_time||"09:00:00",end_date:Re.end_date,end_time:Re.end_time||"17:00:00",status:"EXECUTED",created_at:Re.created_at,updated_at:Re.updated_at})),ht=St.map(Re=>({id:Re.id.toString(),user_id:Re.user_id,car_id:Re.car_id.toString(),start_date:Re.start_date,start_time:Re.start_time||"09:00:00",end_date:Re.end_date,end_time:Re.end_time||"17:00:00",status:"APPROVED",created_at:Re.requested_at||Re.created_at,updated_at:Re.updated_at})),rt=[...oe,...ht].filter(Re=>Re.start_date&&Re.end_date);I(rt);const Ne=new Date;let Ue=null;if(rt.length>0){const Re=[...rt].sort((Ve,it)=>{const ie=new Date(Ve.start_date||0),we=new Date(it.start_date||0);return ie.getTime()-we.getTime()});for(let Ve=0;Ve<Re.length;Ve++){const it=Re[Ve];if(!it.start_date||!it.end_date)continue;const ie=it.start_date.includes("T")?it.start_date.split("T")[0]:it.start_date.split(" ")[0],we=new Date(ie);if(it.start_time){const[lt,ft]=it.start_time.split(":").map(Number);we.setHours(lt||9,ft||0,0,0)}else we.setHours(9,0,0,0);const De=it.end_date.includes("T")?it.end_date.split("T")[0]:it.end_date.split(" ")[0],$e=new Date(De);if(it.end_time){const[lt,ft]=it.end_time.split(":").map(Number);$e.setHours(lt||17,ft||0,0,0)}else $e.setHours(17,0,0,0);if($e.setHours($e.getHours()+12),$e>Ne)if(Ve<Re.length-1){const lt=Re[Ve+1];if(lt.start_date){const ft=lt.start_date.includes("T")?lt.start_date.split("T")[0]:lt.start_date.split(" ")[0],et=new Date(ft);if(lt.start_time){const[jt,Tt]=lt.start_time.split(":").map(Number);et.setHours(jt||9,Tt||0,0,0)}else et.setHours(9,0,0,0);if((et.getTime()-$e.getTime())/(1e3*60*60*24)>=2){Ue=$e;break}}else{Ue=$e;break}}else{Ue=$e;break}}if(!Ue){let Ve=null;for(let it=0;it<Re.length;it++){const ie=Re[it];if(!ie.end_date)continue;const we=ie.end_date.includes("T")?ie.end_date.split("T")[0]:ie.end_date.split(" ")[0],De=new Date(we);if(ie.end_time){const[$e,Ye]=ie.end_time.split(":").map(Number);De.setHours($e||17,Ye||0,0,0)}else De.setHours(17,0,0,0);if(De.setHours(De.getHours()+12),it===0)Ve=De;else{const $e=Re[it-1];if($e.end_date){const Ye=$e.end_date.includes("T")?$e.end_date.split("T")[0]:$e.end_date.split(" ")[0],lt=new Date(Ye);if($e.end_time){const[jt,Tt]=$e.end_time.split(":").map(Number);lt.setHours(jt||17,Tt||0,0,0)}else lt.setHours(17,0,0,0);lt.setHours(lt.getHours()+12);const ft=ie.start_date.includes("T")?ie.start_date.split("T")[0]:ie.start_date.split(" ")[0],et=new Date(ft);if(ie.start_time){const[jt,Tt]=ie.start_time.split(":").map(Number);et.setHours(jt||9,Tt||0,0,0)}else et.setHours(9,0,0,0);const Pt=et.getTime()-lt.getTime(),kt=24*60*60*1e3;if(Pt>=0&&Pt<=kt+36e5)Ve=De;else{if(Ve&&Ve>Ne){Ue=Ve;break}Ve=De}}}}Ve&&Ve>Ne&&(Ue=Ve)}}V(Ue)}catch(Le){console.error("Error fetching approved borrow requests:",Le)}})()},[p.carId]),_.useEffect(()=>{if(O&&!G){if(He(W.pickup,!1)){const ge=new Date(W.pickup);ge.setMonth(ge.getMonth()+1),ee(Le=>({...Le,pickup:ge}))}Z(!0)}else O||Z(!1)},[O,W.pickup,M,U,G]),_.useEffect(()=>{if(Y&&!P){if(He(W.return,!0)){const ge=new Date(W.return);ge.setMonth(ge.getMonth()+1),ee(Le=>({...Le,return:ge}))}re(!0)}else Y||re(!1)},[Y,W.return,M,U,p.startDate,P]),_.useEffect(()=>{const ge=Le=>{if(ce)return;const Be=Le.target;Be.closest("button[data-calendar-toggle]")||(O&&fe.current&&!fe.current.contains(Be)&&z(!1),Y&&pe.current&&!pe.current.contains(Be)&&B(!1),$&&de.current&&!de.current.contains(Be)&&T(!1),A&&le.current&&!le.current.contains(Be)&&R(!1),Be.closest(".country-code-dropdown-container")||k(!1))};return document.addEventListener("mousedown",ge),document.addEventListener("touchstart",ge),()=>{document.removeEventListener("mousedown",ge),document.removeEventListener("touchstart",ge)}},[O,Y,$,A,ce]),(()=>{if(!p.startDate||!p.endDate||!p.carId)return 0;const ge=n.find(et=>et.id.toString()===p.carId);if(!ge)return 0;const Le=new Date(p.startDate),Be=new Date(p.endDate),Ge=p.startTime||"09:00",Qe=p.endTime||"17:00",[St,oe]=Ge.split(":").map(Number),[ht,wt]=Qe.split(":").map(Number),rt=new Date(Le);rt.setHours(St,oe,0,0);const Ne=new Date(Be);Ne.setHours(ht,wt,0,0);const Ue=Ne.getTime()-rt.getTime(),Re=Math.floor(Ue/(1e3*60*60*24)),Ve=Math.floor(Ue%(1e3*60*60*24)/(1e3*60*60)),it=Re,ie=Ve>=0?Ve:0,we=it,De=ge.pricePerDay||ge.price_per_day||0,$e=ge.discount_percentage||ge.discount_percentage||0,Ye=$e>0?De*(1-$e/100):De;let lt=0;if(we>=8?lt=Ye*.96*we:we>=4?lt=Ye*.98*we:lt=Ye*we,ie>0){const et=ie/24*Ye;lt+=et}let ft=0;return w.unlimitedKm&&(ft+=Ye*we*.5),w.tireInsurance&&(ft+=Ye*we*.2),w.personalDriver&&(ft+=800*we),w.priorityService&&(ft+=1e3*we),w.childSeat&&(ft+=100*we),w.simCard&&(ft+=100*we),w.roadsideAssistance&&(ft+=500*we),Math.round(lt+ft)})();const pt=ge=>{if(ge.preventDefault(),!p.firstName||!p.lastName||!p.age||!p.customerPhone||!p.carId||!p.startDate||!p.endDate){alert(i("admin.requests.fillRequiredFieldsShort"));return}const Le=`${p.firstName} ${p.lastName}`,Be=`${y.code} ${p.customerPhone}`.trim();t({car_id:p.carId,start_date:p.startDate,start_time:p.startTime,end_date:p.endDate,end_time:p.endTime,customer_name:Le,customer_email:p.customerEmail||void 0,customer_phone:Be,customer_age:p.age,comment:p.comment||void 0,options:w})};return Na.createPortal(a.jsx(Ie.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:1},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",onClick:r,style:{zIndex:1e4},children:a.jsxs(Ie.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2,ease:"easeOut"},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:ge=>ge.stopPropagation(),children:[a.jsxs("div",{className:"sticky top-0 bg-white/10 backdrop-blur-xl border-b border-white/20 px-6 py-4 flex items-center justify-between z-10",style:{backgroundColor:"#1C1C1C"},children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:i("admin.requests.editRequest")}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:a.jsx(hn,{className:"w-5 h-5 text-white"})})]}),a.jsxs("form",{onSubmit:pt,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Date de contact"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Prenume *"}),a.jsx("input",{type:"text",value:p.firstName||"",onChange:ge=>v(Le=>({...Le,firstName:ge.target.value,customerFirstName:ge.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nume *"}),a.jsx("input",{type:"text",value:p.lastName||"",onChange:ge=>v(Le=>({...Le,lastName:ge.target.value,customerLastName:ge.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Vrst *"}),a.jsx("input",{type:"number",min:"18",max:"100",value:p.age||"",onChange:ge=>v(Le=>({...Le,age:ge.target.value,customerAge:ge.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Telefon *"}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 z-[1] country-code-dropdown-container",children:[a.jsxs("button",{type:"button",onClick:()=>k(!j),className:"flex items-center gap-1.5 text-gray-300 hover:text-white text-sm font-medium px-2 py-1 rounded hover:bg-white/10 transition-colors",children:[a.jsx("span",{children:y.flag}),a.jsx("span",{children:y.code}),a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),j&&a.jsx("div",{className:"absolute top-full left-0 mt-1 border border-white/20 rounded-lg shadow-lg max-h-60 overflow-y-auto z-[5] min-w-[200px]",style:{backgroundColor:"#343434"},children:COUNTRY_CODES.map(ge=>a.jsxs("button",{type:"button",onClick:()=>{g(ge),k(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-white hover:bg-white/20 transition-colors",children:[a.jsx("span",{children:ge.flag}),a.jsx("span",{className:"flex-1 text-left",children:ge.country}),a.jsx("span",{className:"text-gray-400",children:ge.code})]},ge.code))})]}),a.jsx("input",{type:"tel",value:p.customerPhone||"",onChange:ge=>v(Le=>({...Le,customerPhone:ge.target.value})),placeholder:"000 00 000",className:"w-full pl-[120px] pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"E-mail (opional)"}),a.jsx("input",{type:"email",value:p.customerEmail||"",onChange:ge=>v(Le=>({...Le,customerEmail:ge.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"}})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Perioada nchirierii"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",ref:fe,children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Data prelurii *"}),a.jsxs("button",{type:"button",onClick:()=>{z(!O),B(!1),T(!1),R(!1)},className:`w-full flex items-center justify-start gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${p.startDate?"border-white/30 text-white hover:border-white/50 bg-white/5":"border-white/20 text-gray-400 hover:border-white/30 bg-white/5"}`,children:[a.jsx(ta,{className:"w-4 h-4"}),a.jsx("span",{children:p.startDate?ne(p.startDate):"Data prelurii"})]}),O&&a.jsxs(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-[#343434] border border-white/20 rounded-lg shadow-lg p-3 min-w-[280px]",onClick:ge=>ge.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("button",{type:"button",onClick:()=>{const ge=new Date(W.pickup);ge.setMonth(ge.getMonth()-1),ee(Le=>({...Le,pickup:ge}))},className:"p-1 hover:bg-white/10 rounded transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("div",{className:"text-sm font-medium text-white",children:W.pickup.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),a.jsx("button",{type:"button",onClick:()=>{const ge=new Date(W.pickup);ge.setMonth(ge.getMonth()+1),ee(Le=>({...Le,pickup:ge}))},className:"p-1 hover:bg-white/10 rounded transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),a.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Du","Lu","Ma","Mi","Jo","Vi","S"].map(ge=>a.jsx("div",{className:"text-gray-400 font-medium",children:ge},ge))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:Se(W.pickup).map((ge,Le)=>{if(!ge)return a.jsx("div",{},Le);const Be=new Date(ge),Ge=ge,Qe=new Date;Qe.setHours(0,0,0,0);const St=Ee(Qe),oe=Ge<St,ht=M?(()=>{const it=new Date;it.setHours(0,0,0,0);const ie=new Date(M);ie.setHours(0,0,0,0);const we=new Date(Ge);return we.setHours(0,0,0,0),ie<=it&&we<ie})():!1,wt=me(Ge),rt=oe||ht||wt,Ne=Ge===p.startDate,Ue=p.endDate&&Ge===p.endDate,Re=p.startDate&&p.endDate&&Ge>p.startDate&&Ge<p.endDate,Ve=()=>"Aceast dat nu este disponibil.";return a.jsxs("div",{className:`w-8 h-8 flex items-center justify-center text-xs rounded transition-colors relative ${rt?"text-gray-300 cursor-not-allowed":"text-white cursor-pointer"} ${Ne||Ue?"bg-red-500 text-white hover:bg-red-600 font-medium":Re?"bg-white/20 text-white hover:bg-white/30":rt?"":"hover:bg-white/20"}`,onClick:()=>{if(rt)alert(Ve());else{const it=p.startDate&&p.startDate!==ge;if(it&&v(ie=>({...ie,endDate:"",startTime:"",endTime:""})),v(ie=>({...ie,startDate:ge})),!it&&p.endDate&&ge>=p.endDate){const ie=new Date(p.endDate),we=new Date(ge),De=ie.getTime()-we.getTime();Math.floor(De/(1e3*60*60*24))<2&&v(Ye=>({...Ye,endDate:""}))}be(!0),setTimeout(()=>{z(!1),be(!1),p.startTime||T(!0)},300)}},title:rt?Ve():"",children:[a.jsx("span",{className:"relative z-0",children:Be.getDate()}),wt&&a.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-red-600 font-bold text-base z-10 pointer-events-none",style:{fontSize:"14px"},children:""})]},Le)})})]})]}),a.jsxs("div",{className:"relative",ref:de,children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ora prelurii *"}),a.jsxs("button",{type:"button",onClick:()=>{T(!$),R(!1),z(!1),B(!1)},className:`w-full flex items-center justify-start gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${p.startTime?"border-white/30 text-white hover:border-white/50 bg-white/5":"border-white/20 text-gray-400 hover:border-white/30 bg-white/5"}`,children:[a.jsx(ra,{className:"w-4 h-4"}),a.jsx("span",{children:p.startTime||"__ : __"})]}),$&&a.jsx(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-[#343434] border border-white/20 rounded-lg shadow-lg p-3 max-h-[200px] overflow-y-auto min-w-[120px]",onClick:ge=>ge.stopPropagation(),children:a.jsx("div",{className:"flex flex-col gap-1",children:(()=>{let ge;if(p.startDate){const Be=new Date;Be.setHours(0,0,0,0);const Ge=Ee(Be);if(p.startDate===Ge){let oe=new Date().getHours()+2;oe>=24&&(oe=23),ge=oe}else if(M){const Qe=M.toISOString().split("T")[0];if(p.startDate===Qe){const St=M.getHours();ge=M.getMinutes()>0?St+1:St}}}return qe(ge).filter(Be=>{if(!p.startDate)return!0;const Ge=new Date(p.startDate);return!ve(Ge,Be)}).map(Be=>a.jsx("button",{type:"button",onClick:Ge=>{Ge.stopPropagation(),v(Qe=>({...Qe,startTime:Be})),be(!0),setTimeout(()=>{T(!1),be(!1),p.endDate||B(!0)},300)},onMouseDown:Ge=>Ge.stopPropagation(),className:`w-full px-3 py-2 text-sm rounded transition-colors text-center ${p.startTime===Be?"bg-red-500 text-white font-medium":"text-white hover:bg-white/20"}`,children:Be},Be))})()})})]}),a.jsxs("div",{className:"relative",ref:pe,children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Data returnrii *"}),a.jsxs("button",{type:"button",onClick:()=>{B(!Y),z(!1),T(!1),R(!1)},className:`w-full flex items-center justify-start gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${p.endDate?"border-white/30 text-white hover:border-white/50 bg-white/5":"border-white/20 text-gray-400 hover:border-white/30 bg-white/5"}`,children:[a.jsx(ta,{className:"w-4 h-4"}),a.jsx("span",{children:p.endDate?ne(p.endDate):"Data returnrii"})]}),Y&&a.jsxs(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-[#343434] border border-white/20 rounded-lg shadow-lg p-3 min-w-[280px]",onClick:ge=>ge.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("button",{type:"button",onClick:()=>{const ge=new Date(W.return);ge.setMonth(ge.getMonth()-1),ee(Le=>({...Le,return:ge}))},className:"p-1 hover:bg-white/10 rounded transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("div",{className:"text-sm font-medium text-white",children:W.return.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),a.jsx("button",{type:"button",onClick:()=>{const ge=new Date(W.return);ge.setMonth(ge.getMonth()+1),ee(Le=>({...Le,return:ge}))},className:"p-1 hover:bg-white/10 rounded transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),a.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Du","Lu","Ma","Mi","Jo","Vi","S"].map(ge=>a.jsx("div",{className:"text-gray-400 font-medium",children:ge},ge))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:Se(W.return).map((ge,Le)=>{if(!ge)return a.jsx("div",{},Le);const Be=new Date(ge),Ge=ge,Qe=new Date;Qe.setHours(0,0,0,0);const St=Ee(Qe),oe=Ge<St,ht=M?(()=>{const De=new Date;De.setHours(0,0,0,0);const $e=new Date(M);$e.setHours(0,0,0,0);const Ye=new Date(Ge);return Ye.setHours(0,0,0,0),$e<=De&&Ye<$e})():!1,wt=p.startDate&&Ge<=p.startDate,rt=p.startDate&&(()=>{const De=new Date(p.startDate),Ye=new Date(Ge).getTime()-De.getTime();return Math.floor(Ye/(1e3*60*60*24))<2})(),Ne=me(Ge),Ue=p.startDate?(()=>{const De=Ae();if(!De)return!1;const $e=new Date(p.startDate);$e.setHours(0,0,0,0);const Ye=new Date(De);Ye.setHours(0,0,0,0);const lt=new Date(Ge);return lt.setHours(0,0,0,0),$e>=Ye?!1:lt>=Ye})():Ce(Ge),Re=oe||ht||wt||Ne||Ue,Ve=Ge===p.endDate,it=p.startDate&&Ge===p.startDate,ie=p.startDate&&p.endDate&&Ge>p.startDate&&Ge<p.endDate,we=()=>{if(Ue){const De=Ae();if(De)return`Nu putei selecta aceast dat. Maina este deja rezervat ncepnd cu ${new Date(De).toLocaleDateString("ro-RO",{day:"numeric",month:"long",year:"numeric"})}.`}return"Aceast dat nu este disponibil."};return a.jsxs("div",{className:`w-8 h-8 flex items-center justify-center text-xs rounded transition-colors relative ${rt?"text-black opacity-50 cursor-not-allowed":Re?"text-gray-300 cursor-not-allowed":"text-white cursor-pointer"} ${Ve||it?"bg-red-500 text-white hover:bg-red-600 font-medium":ie?"bg-white/20 text-white hover:bg-white/30":!Re&&!rt?"hover:bg-white/20":""}`,onClick:()=>{if(rt){ue("Perioada minim de nchiriere este de 2 zile"),setTimeout(()=>ue(""),3e3);return}Re?alert(we()):(v(De=>({...De,endDate:ge})),be(!0),setTimeout(()=>{B(!1),be(!1),p.endTime||R(!0)},300))},title:Re?we():"",children:[a.jsx("span",{className:"relative z-0",children:Be.getDate()}),Ne&&a.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-red-600 font-bold text-base z-10 pointer-events-none",style:{fontSize:"14px"},children:""})]},Le)})}),ae&&a.jsx("div",{className:"mt-3 px-2 py-1.5 bg-blue-50 rounded-xl border border-blue-100",children:a.jsx("p",{className:"text-xs text-blue-700",children:ae})})]})]}),a.jsxs("div",{className:"relative",ref:le,children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ora returnrii *"}),a.jsxs("button",{type:"button",onClick:()=>{R(!A),T(!1),z(!1),B(!1)},className:`w-full flex items-center justify-start gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${p.endTime?"border-white/30 text-white hover:border-white/50 bg-white/5":"border-white/20 text-gray-400 hover:border-white/30 bg-white/5"}`,children:[a.jsx(ra,{className:"w-4 h-4"}),a.jsx("span",{children:p.endTime||"__ : __"})]}),A&&a.jsx(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-[#343434] border border-white/20 rounded-lg shadow-lg p-3 max-h-[200px] overflow-y-auto min-w-[120px]",onClick:ge=>ge.stopPropagation(),children:a.jsx("div",{className:"flex flex-col gap-1",children:qe().map(ge=>a.jsx("button",{type:"button",onClick:Le=>{Le.stopPropagation(),v(Be=>({...Be,endTime:ge})),be(!0),setTimeout(()=>{R(!1),be(!1)},300)},onMouseDown:Le=>Le.stopPropagation(),className:`w-full px-3 py-2 text-sm rounded transition-colors text-center ${p.endTime===ge?"bg-red-500 text-white font-medium":"text-white hover:bg-white/20"}`,children:ge},ge))})})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Selectare automobil"}),a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Automobil *"}),a.jsxs("select",{value:p.carId||"",onChange:ge=>{const Le=n.find(Be=>Be.id.toString()===ge.target.value);v(Be=>({...Be,carId:ge.target.value,carName:Le?Le.name||`${Le.make} ${Le.model}`:""}))},className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0,children:[a.jsx("option",{value:"",children:"Selecteaz automobil"}),n.map(ge=>a.jsx("option",{value:ge.id.toString(),children:ge.name||`${ge.make} ${ge.model}`},ge.id))]})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Opiuni de nchiriere"}),a.jsxs("div",{className:"space-y-2 mb-5",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Preluarea i returnarea automobilului"}),a.jsx("label",{className:"flex items-center justify-between p-3 rounded-lg bg-transparent border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:w.pickupAtAddress,onChange:ge=>E(Le=>({...Le,pickupAtAddress:ge.target.checked})),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${w.pickupAtAddress?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:w.pickupAtAddress&&a.jsx(Check,{className:"w-3 h-3 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white text-sm",children:"Preluarea la adres"}),a.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:"Cost separat"})]})]})}),a.jsx("label",{className:"flex items-center justify-between p-3 rounded-lg bg-transparent border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:w.returnAtAddress,onChange:ge=>E(Le=>({...Le,returnAtAddress:ge.target.checked})),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${w.returnAtAddress?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:w.returnAtAddress&&a.jsx(Check,{className:"w-3 h-3 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white text-sm",children:"Returnarea la adres"}),a.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:"Cost separat"})]})]})})]}),a.jsxs("div",{className:"space-y-2 mb-5",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Limite"}),a.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-transparent border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:w.unlimitedKm,onChange:ge=>E(Le=>({...Le,unlimitedKm:ge.target.checked})),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${w.unlimitedKm?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:w.unlimitedKm&&a.jsx(Check,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"font-medium text-white text-sm",children:"Kilometraj nelimitat"})]}),a.jsx("span",{className:"text-xs font-semibold text-emerald-400 bg-emerald-500/10 px-2 py-1 rounded",children:"+50%"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-transparent border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:w.speedLimitIncrease,onChange:ge=>E(Le=>({...Le,speedLimitIncrease:ge.target.checked})),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${w.speedLimitIncrease?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:w.speedLimitIncrease&&a.jsx(Check,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"font-medium text-white text-sm",children:"Creterea limitei de vitez"})]}),a.jsx("span",{className:"text-xs font-semibold text-emerald-400 bg-emerald-500/10 px-2 py-1 rounded",children:"+20%"})]})]}),a.jsxs("div",{className:"space-y-2 mb-5",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Servicii VIP"}),a.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-transparent border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:w.personalDriver,onChange:ge=>E(Le=>({...Le,personalDriver:ge.target.checked})),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${w.personalDriver?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:w.personalDriver&&a.jsx(Check,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"font-medium text-white text-sm",children:"ofer personal"})]}),a.jsx("span",{className:"text-xs font-medium text-gray-300",children:"800 MDL/zi"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-transparent border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:w.priorityService,onChange:ge=>E(Le=>({...Le,priorityService:ge.target.checked})),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${w.priorityService?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:w.priorityService&&a.jsx(Check,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"font-medium text-white text-sm",children:"Priority Service"})]}),a.jsx("span",{className:"text-xs font-medium text-gray-300",children:"1 000 MDL/zi"})]})]}),a.jsxs("div",{className:"space-y-2 mb-5",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Asigurare"}),a.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-transparent border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:w.tireInsurance,onChange:ge=>E(Le=>({...Le,tireInsurance:ge.target.checked})),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${w.tireInsurance?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:w.tireInsurance&&a.jsx(Check,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"font-medium text-white text-sm",children:"Asigurare anvelope & parbriz"})]}),a.jsx("span",{className:"text-xs font-semibold text-emerald-400 bg-emerald-500/10 px-2 py-1 rounded",children:"+20%"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Suplimentar"}),a.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-transparent border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:w.childSeat,onChange:ge=>E(Le=>({...Le,childSeat:ge.target.checked})),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${w.childSeat?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:w.childSeat&&a.jsx(Check,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"font-medium text-white text-sm",children:"Scaun auto pentru copii"})]}),a.jsx("span",{className:"text-xs font-medium text-gray-300",children:"100 MDL/zi"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-transparent border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:w.simCard,onChange:ge=>E(Le=>({...Le,simCard:ge.target.checked})),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${w.simCard?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:w.simCard&&a.jsx(Check,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"font-medium text-white text-sm",children:"Cartel SIM cu internet"})]}),a.jsx("span",{className:"text-xs font-medium text-gray-300",children:"100 MDL/zi"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-transparent border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:w.roadsideAssistance,onChange:ge=>E(Le=>({...Le,roadsideAssistance:ge.target.checked})),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${w.roadsideAssistance?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:w.roadsideAssistance&&a.jsx(Check,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"font-medium text-white text-sm",children:"Asisten rutier"})]}),a.jsx("span",{className:"text-xs font-medium text-gray-300",children:"500 MDL/zi"})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Comentariu (opional)"}),a.jsx("textarea",{value:p.comment||"",onChange:ge=>v(Le=>({...Le,comment:ge.target.value})),rows:4,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 resize-none",placeholder:"Adugai un comentariu (opional)"})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Detalii pre"}),a.jsx("div",{className:"space-y-3",children:p.carId&&(()=>{const ge=n.find(Pt=>Pt.id.toString()===p.carId);if(!ge)return null;const Le=ge.pricePerDay||ge.price_per_day||0,Be=ge.discount_percentage||ge.discount_percentage||0,Ge=Be>0?Le*(1-Be/100):Le,Qe=new Date(p.startDate||""),St=new Date(p.endDate||""),oe=p.startTime||"09:00",ht=p.endTime||"17:00",[wt,rt]=oe.split(":").map(Number),[Ne,Ue]=ht.split(":").map(Number),Re=new Date(Qe);Re.setHours(wt,rt,0,0);const Ve=new Date(St);Ve.setHours(Ne,Ue,0,0);const it=Ve.getTime()-Re.getTime(),ie=Math.floor(it/(1e3*60*60*24)),we=Math.floor(it%(1e3*60*60*24)/(1e3*60*60)),De=ie,$e=we>=0?we:0,Ye=De,lt=De+$e/24;if(basePrice=Ge*Ye,$e>0){const Pt=$e/24*Ge;basePrice+=Pt}let ft=0;w.unlimitedKm&&(ft+=baseCarPrice*lt*.5),w.speedLimitIncrease&&(ft+=baseCarPrice*lt*.2),w.tireInsurance&&(ft+=baseCarPrice*lt*.2),w.personalDriver&&(ft+=800*Ye),w.priorityService&&(ft+=1e3*Ye),w.childSeat&&(ft+=100*Ye),w.simCard&&(ft+=100*Ye),w.roadsideAssistance&&(ft+=500*Ye);const et=basePrice+ft;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-300",children:"Pre pe zi"}),a.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[a.jsxs("span",{className:"text-white font-medium",children:[Ge.toFixed(0)," MDL"]}),Be>0&&a.jsxs("span",{className:"text-gray-400 text-xs line-through",children:[Le.toFixed(0)," MDL"]})]})]}),Be>0&&a.jsxs("div",{className:"flex items-center justify-between text-sm text-emerald-400",children:[a.jsx("span",{children:"Reducere main"}),a.jsxs("span",{className:"font-medium",children:["-",Be,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-300",children:"Durat"}),a.jsxs("span",{className:"text-white font-medium",children:[Ye," ",Ye===1?"zi":"zile",$e>0?`, ${$e} ${$e===1?"or":"ore"}`:""]})]}),a.jsx("div",{className:"pt-2 border-t border-white/10",children:a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-white font-medium",children:"Pre de baz"}),a.jsxs("span",{className:"text-white font-medium",children:[Math.round(basePrice).toLocaleString()," MDL"]})]})}),ft>0&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"pt-3 border-t border-white/10",children:[a.jsx("h4",{className:"text-sm font-bold text-white mb-3",children:"Servicii suplimentare"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[w.unlimitedKm&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Kilometraj nelimitat"}),a.jsxs("span",{className:"text-white font-medium",children:[Math.round(baseCarPrice*lt*.5).toLocaleString()," MDL"]})]}),w.speedLimitIncrease&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Creterea limitei de vitez"}),a.jsxs("span",{className:"text-white font-medium",children:[Math.round(baseCarPrice*lt*.2).toLocaleString()," MDL"]})]}),w.tireInsurance&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Asigurare anvelope & parbriz"}),a.jsxs("span",{className:"text-white font-medium",children:[Math.round(baseCarPrice*lt*.2).toLocaleString()," MDL"]})]}),w.personalDriver&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"ofer personal"}),a.jsxs("span",{className:"text-white font-medium",children:[800*Ye," MDL"]})]}),w.priorityService&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Serviciu prioritar"}),a.jsxs("span",{className:"text-white font-medium",children:[1e3*Ye," MDL"]})]}),w.childSeat&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Scaun auto pentru copii"}),a.jsxs("span",{className:"text-white font-medium",children:[100*Ye," MDL"]})]}),w.simCard&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Cartel SIM cu internet"}),a.jsxs("span",{className:"text-white font-medium",children:[100*Ye," MDL"]})]}),w.roadsideAssistance&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Asisten rutier"}),a.jsxs("span",{className:"text-white font-medium",children:[500*Ye," MDL"]})]}),a.jsx("div",{className:"pt-2 border-t border-white/10",children:a.jsxs("div",{className:"flex justify-between font-medium",children:[a.jsx("span",{className:"text-white",children:"Total servicii"}),a.jsxs("span",{className:"text-white",children:[Math.round(ft).toLocaleString()," MDL"]})]})})]})]})}),a.jsxs("div",{className:"pt-3 border-t border-white/10 flex items-center justify-between",children:[a.jsx("span",{className:"text-white font-bold text-lg",children:"Total"}),a.jsxs("span",{className:"text-white font-bold text-xl",children:[Math.round(et).toLocaleString()," MDL"]})]})]})})()})]}),a.jsxs("div",{className:"flex gap-4 justify-end pt-4 border-t border-white/10",children:[a.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-lg transition-all",children:i("admin.common.cancel")}),a.jsxs("button",{type:"submit",className:"px-6 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 hover:text-red-200 font-semibold rounded-lg transition-all backdrop-blur-xl flex items-center gap-2",children:[a.jsx(Save,{className:"w-4 h-4"}),i("admin.common.save")]})]})]})]})}),document.body)},q0e=()=>{const{t:e}=br();kn();const[t,r]=du(),n=t.get("requestId"),i=t.get("carId"),{showSuccess:s,showError:o}=Ih(),[l,c]=_.useState([]),[u,h]=_.useState(!0),[m,x]=_.useState([]),[p,v]=_.useState(""),[y,g]=_.useState("status"),[j,k]=_.useState("asc"),[w,E]=_.useState(!1),[O,z]=_.useState(!1),[Y,B]=_.useState(!1),[$,T]=_.useState(void 0),[A,R]=_.useState(null),[L,q]=_.useState(null),[W,ee]=_.useState(!1),[M,V]=_.useState(!1),[U,I]=_.useState(null),[H,D]=_.useState(!1),[G,Z]=_.useState(null),[P,re]=_.useState(!1),[ce,be]=_.useState(null);_.useEffect(()=>{(async()=>{try{const Ae=await lo(),me=await Promise.all(Ae.map(async Ce=>{let Me=Ce.name;(!Me||Me.trim()==="")&&(Me=`${Ce.make} ${Ce.model}`);const{mainImage:He,photoGallery:at}=await Tn(Me);return{...Ce,image_url:He||Ce.image_url,photo_gallery:at.length>0?at:Ce.photo_gallery}}));x(me)}catch(Ae){console.error("Error loading cars:",Ae)}})()},[]),_.useEffect(()=>{if(i&&m.length>0){T(i),B(!0);const ve=new URLSearchParams(t);ve.delete("carId"),r(ve,{replace:!0})}},[i,m.length,t,r]),_.useEffect(()=>{m.length>0&&v5(m).then(()=>{ae()})},[m]),_.useEffect(()=>{if(m.length===0)return;const ve=setInterval(async()=>{const Ae=await v5(m);Ae.success&&(Ae.executed>0||Ae.completed>0)&&ae()},6e4);return()=>clearInterval(ve)},[m]),_.useEffect(()=>{n&&ae()},[n]);const ae=async()=>{h(!0);try{const ve=await bN(m);c(ve)}catch(ve){console.error("Failed to load requests:",ve)}finally{h(!1)}},ue=async ve=>{be(ve),R(ve.id.toString()),re(!0),ee(!1),q(null)},fe=async ve=>{const Ae=window.prompt(`${e("admin.requests.confirmRejectRequest")} ${ve.customerName}? ${e("admin.requests.rejectReasonPrompt")}`);if(Ae!==null){R(ve.id.toString());try{if(ve.status==="APPROVED"){const me=await Tf(ve.id.toString(),{status:"REJECTED"});me.success?(s(e("admin.requests.requestRejected")),await ae()):o(`${e("admin.requests.requestRejectFailed")} ${me.error||e("admin.common.unknownError")}`)}else{const me=await bL(ve.id.toString(),Ae||void 0);me.success?(s(e("admin.requests.requestRejected")),await ae()):o(`${e("admin.requests.requestRejectFailed")} ${me.error||e("admin.common.unknownError")}`)}}catch(me){console.error("Error rejecting request:",me),o(e("admin.requests.requestRejectErrorOccurred"))}finally{R(null)}}},pe=async ve=>{if(window.confirm(`${e("admin.requests.confirmRestoreRequest")} ${ve.customerName} ${e("admin.requests.forCar")} ${ve.carName} ${e("admin.requests.toPending")}`)){R(ve.id.toString());try{const Ae=await wL(ve.id.toString());Ae.success?(s(e("admin.requests.requestRestored")),await ae()):o(`${e("admin.requests.requestRestoreFailed")} ${Ae.error||e("admin.common.unknownError")}`)}catch(Ae){console.error("Error undoing reject request:",Ae),o(e("admin.requests.requestRestoreErrorOccurred"))}finally{R(null)}}},de=async ve=>{if(window.confirm(`${e("admin.requests.confirmSetToPending")} ${ve.customerName} ${e("admin.requests.forCar")} ${ve.carName} ${e("admin.requests.backToPending")}`)){R(ve.id.toString());try{const Ae=await Tf(ve.id.toString(),{status:"PENDING"});Ae.success?(s(e("admin.requests.requestSetToPending")),await ae()):o(`${e("admin.requests.requestUpdateFailed")} ${Ae.error||e("admin.common.unknownError")}`)}catch(Ae){console.error("Error setting request to pending:",Ae),o(e("admin.requests.requestUpdateErrorOccurred"))}finally{R(null)}}},le=ve=>{I(ve),V(!0)},ne=async ve=>{if(window.confirm(`Suntei sigur c dorii s anulai nchirierea pentru ${ve.customerName}? Aceast aciune va seta cererea la In Asteptare i va terge comanda de nchiriere.`)){R(ve.id.toString());try{const Ae=typeof ve.id=="string"?parseInt(ve.id):ve.id,{error:me}=await ho.from("Rentals").delete().eq("request_id",Ae);if(me){console.error("Error deleting rental:",me),o(`Eroare la tergerea nchirierii: ${me.message}`),R(null);return}const Ce=await Tf(ve.id.toString(),{status:"PENDING"});Ce.success?(s("nchirierea a fost anulat i cererea a fost setat la n Asteptare"),await ae()):o(`Eroare la actualizarea cererii: ${Ce.error||"Eroare necunoscut"}`)}catch(Ae){console.error("Error canceling rental:",Ae),o("Eroare la anularea nchirierii")}finally{R(null)}}},Se=ve=>{y===ve?k(Ae=>Ae==="asc"?"desc":"asc"):(g(ve),k("asc"))},Ee=_.useCallback(ve=>{const Ae=m.find(jt=>jt.id.toString()===ve.carId);if(!Ae)return ve.amount||0;const me=jt=>{if(!jt)return"00:00";if(jt.includes("AM")||jt.includes("PM")){const[Tt,ut]=jt.split(" "),[Dt,Mt]=Tt.split(":");let Ht=parseInt(Dt);return ut==="PM"&&Ht!==12&&(Ht+=12),ut==="AM"&&Ht===12&&(Ht=0),`${String(Ht).padStart(2,"0")}:${Mt||"00"}`}if(jt.includes(":")){const[Tt,ut]=jt.split(":");return`${String(parseInt(Tt)).padStart(2,"0")}:${ut||"00"}`}return"00:00"},[Ce,Me,He]=ve.pickupDate.split("-").map(Number),[at,pt,ge]=ve.returnDate.split("-").map(Number),Le=new Date(Ce,Me-1,He),Be=new Date(at,pt-1,ge),Ge=me(ve.pickupTime),Qe=me(ve.returnTime),[St,oe]=Ge.split(":").map(Number),[ht,wt]=Qe.split(":").map(Number),rt=new Date(Le);rt.setHours(St,oe,0,0);const Ne=new Date(Be);ht===0&&wt===0?Ne.setHours(23,59,59,999):Ne.setHours(ht,wt,0,0);const Ue=Ne.getTime()-rt.getTime(),Re=Math.floor(Ue/(1e3*60*60*24)),Ve=Math.floor(Ue%(1e3*60*60*24)/(1e3*60*60)),it=Re,ie=Ve>=0?Ve:0,we=it;let De=0;we>=2&&we<=4?De=Ae.price_2_4_days||0:we>=5&&we<=15?De=Ae.price_5_15_days||0:we>=16&&we<=30?De=Ae.price_16_30_days||0:we>30&&(De=Ae.price_over_30_days||0);const $e=Ae.discount_percentage||0,Ye=$e>0?De*(1-$e/100):De;let lt=Ye*we;if(ie>0){const jt=ie/24*Ye;lt+=jt}const ft=ve.options;let et={};if(ft)if(typeof ft=="string")try{et=JSON.parse(ft)}catch{et={}}else et=ft;let Pt=0;et.unlimitedKm&&(Pt+=Ye*we*.5),et.tireInsurance&&(Pt+=Ye*we*.2),et.personalDriver&&(Pt+=800*we),et.priorityService&&(Pt+=1e3*we),et.childSeat&&(Pt+=100*we),et.simCard&&(Pt+=100*we),et.roadsideAssistance&&(Pt+=500*we);const kt=lt+Pt;return Math.round(kt)},[m]),qe=_.useMemo(()=>{let ve=l.filter(Ae=>{var He,at,pt,ge;const me=((He=Ae.customerName)==null?void 0:He.toLowerCase().includes(p.toLowerCase()))||((at=Ae.carName)==null?void 0:at.toLowerCase().includes(p.toLowerCase()))||((pt=Ae.customerPhone)==null?void 0:pt.toLowerCase().includes(p.toLowerCase()))||((ge=Ae.customerEmail)==null?void 0:ge.toLowerCase().includes(p.toLowerCase())),Ce=w?Ae.status==="REJECTED":Ae.status!=="REJECTED",Me=O?Ae.status==="EXECUTED":Ae.status!=="EXECUTED";return me&&Ce&&Me});if(y)ve.sort((Ae,me)=>{let Ce=0;if(y==="pickup"){const[Me,He,at]=Ae.pickupDate.split("-").map(Number),[pt,ge,Le]=me.pickupDate.split("-").map(Number),Be=new Date(Me,He-1,at).getTime(),Ge=new Date(pt,ge-1,Le).getTime();Ce=Be-Ge}else if(y==="return"){const[Me,He,at]=Ae.returnDate.split("-").map(Number),[pt,ge,Le]=me.returnDate.split("-").map(Number),Be=new Date(Me,He-1,at).getTime(),Ge=new Date(pt,ge-1,Le).getTime();Ce=Be-Ge}else if(y==="amount"){const Me=Ee(Ae),He=Ee(me);Ce=Me-He}else if(y==="status"){const Me={PENDING:0,APPROVED:1,REJECTED:2},He=Me[Ae.status]??3,at=Me[me.status]??3;Ce=He-at}return j==="asc"?Ce:-Ce});else{const Ae={PENDING:0,APPROVED:1,REJECTED:2,EXECUTED:3};ve.sort((me,Ce)=>{const Me=Ae[me.status]??4,He=Ae[Ce.status]??4;return Me-He})}return ve},[l,p,y,j,w,O,Ee]);if(n){const ve=l.find(Ae=>Ae.id.toString()===n);if(ve)return a.jsx(F0e,{request:ve,onBack:()=>r({section:"requests"}),onAccept:ue,onReject:fe,onUndoReject:pe,onSetToPending:de,cars:m})}return a.jsxs(Ie.div,{initial:{opacity:1},animate:{opacity:1},transition:{duration:.4},className:"space-y-6",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"px-3 md:px-6 py-3 md:py-4 border-b border-white/10",children:a.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3 md:gap-4",children:[a.jsx("div",{children:a.jsx("h2",{className:"text-lg md:text-xl font-bold text-white",children:e("admin.requests.rentalRequests")})}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 w-full sm:w-auto",children:[a.jsx("button",{onClick:()=>{O&&z(!1),E(!w)},disabled:O,className:`flex items-center justify-center gap-1.5 px-3 md:px-4 py-2 text-xs md:text-sm font-semibold rounded-lg border transition-all whitespace-nowrap ${w?"bg-red-500/20 text-red-300 border-red-500/50 hover:bg-red-500/30 hover:border-red-500/60":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"} ${O?"opacity-50 cursor-not-allowed":""}`,children:e(w?"admin.requests.hideRejected":"admin.requests.showRejected")}),a.jsx("button",{onClick:()=>{w&&E(!1),z(!O)},disabled:w,className:`flex items-center justify-center gap-1.5 px-3 md:px-4 py-2 text-xs md:text-sm font-semibold rounded-lg border transition-all whitespace-nowrap ${O?"bg-blue-500/20 text-blue-300 border-blue-500/50 hover:bg-blue-500/30 hover:border-blue-500/60":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"} ${w?"opacity-50 cursor-not-allowed":""}`,children:O?"Ascunde ncepute":"Arat ncepute"}),a.jsxs("button",{onClick:()=>B(!0),className:"px-3 md:px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 font-semibold rounded-lg hover:border-red-500/60 transition-all text-xs md:text-sm whitespace-nowrap flex items-center justify-center gap-2",children:[a.jsx(oy,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),e("admin.requests.createRequest")]})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3 md:gap-4",children:[a.jsx("div",{className:"w-full md:flex-1 md:max-w-md",children:a.jsxs("div",{className:"relative",children:[a.jsx(ic,{className:"absolute left-2.5 md:left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-3.5 h-3.5 md:w-4 md:h-4"}),a.jsx("input",{type:"text",placeholder:e("admin.placeholders.searchRequests"),value:p,onChange:ve=>v(ve.target.value),className:"w-full pl-9 md:pl-10 pr-3 md:pr-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/50 text-white text-xs md:text-sm placeholder-gray-400"})]})}),a.jsxs("div",{className:"w-full md:w-auto flex flex-col md:flex-row items-stretch md:items-center gap-2",children:[a.jsx("span",{className:"hidden md:inline text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.requests.sortBy")}),a.jsx("span",{className:"md:hidden text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:e("admin.requests.sortBy")}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("button",{onClick:()=>Se("pickup"),className:`flex items-center gap-1 px-2.5 md:px-3 py-1.5 text-xs font-semibold rounded-lg border transition-all flex-1 sm:flex-initial min-w-0 ${y==="pickup"?"bg-red-500/20 text-red-300 border-red-500/50":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:[a.jsx("span",{className:"truncate",children:e("admin.requests.pickupDate")}),y==="pickup"&&(j==="asc"?a.jsx(ki,{className:"w-3 h-3 flex-shrink-0"}):a.jsx(_i,{className:"w-3 h-3 flex-shrink-0"})),y!=="pickup"&&a.jsx(Si,{className:"w-3 h-3 opacity-50 flex-shrink-0"})]}),a.jsxs("button",{onClick:()=>Se("amount"),className:`flex items-center gap-1 px-2.5 md:px-3 py-1.5 text-xs font-semibold rounded-lg border transition-all flex-1 sm:flex-initial min-w-0 ${y==="amount"?"bg-red-500/20 text-red-300 border-red-500/50":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:[a.jsx("span",{className:"truncate",children:e("admin.requests.amount")}),y==="amount"&&(j==="asc"?a.jsx(ki,{className:"w-3 h-3 flex-shrink-0"}):a.jsx(_i,{className:"w-3 h-3 flex-shrink-0"})),y!=="amount"&&a.jsx(Si,{className:"w-3 h-3 opacity-50 flex-shrink-0"})]}),y&&y!=="status"&&a.jsx("button",{onClick:()=>{g("status"),k("asc")},className:"px-2.5 md:px-3 py-1.5 text-xs font-semibold text-gray-400 hover:text-white transition-colors whitespace-nowrap",children:e("admin.requests.clearSort")})]})]})]})]})}),u?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(ua,{className:"w-8 h-8 animate-spin text-white/50"})}):qe.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"block md:hidden p-4 space-y-4",children:qe.map(ve=>{const Ae=me=>{const Ce=me.trim().split(" ");return Ce.length>=2?`${Ce[0][0]}${Ce[Ce.length-1][0]}`.toUpperCase():me.substring(0,2).toUpperCase()};return a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:bg-white/10 transition cursor-pointer",onClick:()=>{q(ve),ee(!0)},children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-sm flex-shrink-0 shadow-md",children:Ae(ve.customerName||"U")}),a.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[a.jsx("span",{className:"font-semibold text-white text-sm truncate",children:ve.customerName}),ve.customerPhone&&a.jsx("span",{className:"text-gray-400 text-xs truncate",children:ve.customerPhone})]})]}),a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold border backdrop-blur-sm flex-shrink-0 ${ve.status==="PENDING"?"bg-yellow-500/20 text-yellow-300 border-yellow-500/50":ve.status==="APPROVED"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/50":ve.status==="EXECUTED"?"bg-blue-500/20 text-blue-300 border-blue-500/50":"bg-red-500/20 text-red-300 border-red-500/50"}`,children:ve.status==="PENDING"?e("admin.status.pending"):ve.status==="APPROVED"?e("admin.status.approved"):ve.status==="REJECTED"?e("admin.status.rejected"):ve.status==="EXECUTED"?"nceput":ve.status.charAt(0)+ve.status.slice(1).toLowerCase()})]}),a.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-white/10",children:[a.jsx("img",{src:ve.avatar,alt:ve.carName,className:"w-12 h-12 object-cover rounded-md border border-white/10 flex-shrink-0"}),a.jsx("span",{className:"text-white font-medium text-sm flex-1",children:ve.carName})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-xs mb-1",children:e("admin.requests.pickup")}),a.jsx("p",{className:"text-white text-sm font-medium",children:(()=>{const[me,Ce,Me]=ve.pickupDate.split("-").map(Number);return new Date(me,Ce-1,Me).toLocaleDateString()})()}),a.jsx("p",{className:"text-gray-400 text-xs",children:ve.pickupTime})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-xs mb-1",children:e("admin.requests.return")}),a.jsx("p",{className:"text-white text-sm font-medium",children:(()=>{const[me,Ce,Me]=ve.returnDate.split("-").map(Number);return new Date(me,Ce-1,Me).toLocaleDateString()})()}),a.jsx("p",{className:"text-gray-400 text-xs",children:ve.returnTime})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[a.jsx("p",{className:"text-gray-400 text-xs mb-1",children:e("admin.requests.amount")}),a.jsxs("p",{className:"text-white font-semibold text-base",children:[Ee(ve).toLocaleString()," MDL"]})]})]},ve.id)})}),a.jsx("div",{className:"hidden md:block overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-white/10",children:[a.jsx("thead",{className:"bg-white/5",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.requests.customer")}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.requests.car")}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.requests.pickup")}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.requests.return")}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.requests.amount")}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.requests.status")})]})}),a.jsx("tbody",{className:"divide-y divide-white/10",children:qe.map(ve=>{const Ae=me=>{const Ce=me.trim().split(" ");return Ce.length>=2?`${Ce[0][0]}${Ce[Ce.length-1][0]}`.toUpperCase():me.substring(0,2).toUpperCase()};return a.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition cursor-pointer",onClick:()=>{q(ve),ee(!0)},children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-sm flex-shrink-0 shadow-md",children:Ae(ve.customerName||"U")}),a.jsxs("div",{className:"flex flex-col min-w-0",children:[a.jsx("span",{className:"font-semibold text-white text-sm truncate",children:ve.customerName}),ve.customerPhone&&a.jsx("span",{className:"text-gray-400 text-xs truncate",children:ve.customerPhone})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:ve.avatar,alt:ve.carName,className:"w-10 h-10 object-cover rounded-md border border-white/10 flex-shrink-0"}),a.jsx("span",{className:"text-white font-medium text-sm",children:ve.carName})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-white text-sm font-medium",children:(()=>{const[me,Ce,Me]=ve.pickupDate.split("-").map(Number);return new Date(me,Ce-1,Me).toLocaleDateString()})()}),a.jsx("span",{className:"text-gray-400 text-xs",children:ve.pickupTime})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-white text-sm font-medium",children:(()=>{const[me,Ce,Me]=ve.returnDate.split("-").map(Number);return new Date(me,Ce-1,Me).toLocaleDateString()})()}),a.jsx("span",{className:"text-gray-400 text-xs",children:ve.returnTime})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:"text-white font-semibold text-sm",children:[Ee(ve).toLocaleString()," MDL"]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold border backdrop-blur-sm ${ve.status==="PENDING"?"bg-yellow-500/20 text-yellow-300 border-yellow-500/50":ve.status==="APPROVED"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/50":ve.status==="EXECUTED"?"bg-blue-500/20 text-blue-300 border-blue-500/50":"bg-red-500/20 text-red-300 border-red-500/50"}`,children:ve.status==="PENDING"?e("admin.status.pending"):ve.status==="APPROVED"?e("admin.status.approved"):ve.status==="REJECTED"?e("admin.status.rejected"):ve.status==="EXECUTED"?"nceput":ve.status.charAt(0)+ve.status.slice(1).toLowerCase()})})]},ve.id)})})]})})]}):a.jsx("div",{className:"px-6 py-12 text-center text-gray-400",children:e("admin.requests.noRequests")})]}),Y&&a.jsx(B0e,{cars:m,initialCarId:$,onSave:async ve=>{try{const Ae=await jL(ve.carId||"",ve.pickupDate||"",ve.pickupTime||"",ve.returnDate||"",ve.returnTime||"",ve.customerName||"",ve.customerFirstName||"",ve.customerLastName||"",ve.customerEmail||"",ve.customerPhone||"",ve.customerAge?String(ve.customerAge):void 0,ve.comment,ve.options,ve.amount);Ae.success?(s("Request created successfully!"),B(!1),T(void 0),await ae()):o(`Failed to create request: ${Ae.error||"Unknown error"}`)}catch(Ae){console.error("Error creating request:",Ae),o("An error occurred while creating the request.")}},onClose:()=>{B(!1),T(void 0)}}),W&&L&&a.jsx($0e,{cars:m,request:L,onClose:()=>{ee(!1),q(null)},onAccept:ue,onReject:fe,onUndoReject:pe,onSetToPending:de,onEdit:le,onCancelRental:ne,isProcessing:A===L.id.toString()}),H&&G&&(()=>{const ve=m.find(Ae=>Ae.id.toString()===G.carId);return ve?a.jsx(jj,{isOpen:H,onClose:()=>{D(!1),Z(null)},order:G,car:ve,onContractCreated:async()=>{D(!1),Z(null),await ae()}}):null})(),P&&ce&&(()=>{const ve=m.find(Ae=>Ae.id.toString()===ce.carId);return ve?a.jsx(jj,{isOpen:P,onClose:()=>{re(!1),be(null)},order:{...ce,request_id:ce.id},car:ve,onContractCreated:async()=>{R(null),re(!1),be(null),await ae(),s("Cerere aprobat i contract creat cu succes!")}}):null})(),M&&U&&a.jsx(U0e,{cars:m,request:U,onSave:async ve=>{try{const Ae=await Tf(U.id.toString(),ve);Ae.success?(alert(e("admin.requests.requestUpdated")),V(!1),I(null),await ae()):alert(`${e("admin.requests.requestUpdateFailed")} ${Ae.error}`)}catch(Ae){console.error("Error updating request:",Ae),alert(e("admin.requests.requestUpdateErrorOccurred"))}},onClose:()=>{V(!1),I(null)}})]})},MD=()=>{var D,G,Z,P,re,ce,be;const e=kn(),[t,r]=du(),n=t.get("section")||"dashboard",i=t.get("orderId"),s=t.get("carId");_.useEffect(()=>{const ae=window.location.search;if(ae.includes("~and~")||ae.includes("~")||ae.includes("&/")||ae.includes("/&")||(ae.match(/&/g)||[]).length>10){e("/admin",{replace:!0});return}},[]);const{signOut:o,user:l,loading:c,isAdmin:u,roleLoaded:h,userProfile:m}=uc(),{i18n:x,t:p}=br(),[v,y]=_.useState(!1),[g,j]=_.useState(x.language),[k,w]=_.useState(!1),[E,O]=_.useState(0),[z,Y]=_.useState(!1),[B,$]=_.useState(!1),[T,A]=_.useState(0),[R,L]=_.useState([]);if(!c&&h&&l&&!u)return null;_.useEffect(()=>{(async()=>{try{const ue=await lo(),fe=await Promise.all(ue.map(async pe=>{let de=pe.name;(!de||de.trim()==="")&&(de=`${pe.make} ${pe.model}`);const{mainImage:le,photoGallery:ne}=await Tn(de);return{...pe,image_url:le||pe.image_url,photo_gallery:ne.length>0?ne:pe.photo_gallery}}));L(fe)}catch(ue){console.error("Error loading cars:",ue)}})()},[]),_.useEffect(()=>{const ae=ue=>{ue.target.closest(".language-dropdown-container")||y(!1)};return v&&document.addEventListener("mousedown",ae),()=>{document.removeEventListener("mousedown",ae)}},[v]),_.useEffect(()=>{if(R.length===0)return;const ae=async()=>{try{const pe=(await bN(R)).filter(de=>de.status==="PENDING");A(pe.length)}catch(fe){console.error("Failed to load requests count:",fe)}};ae();const ue=setInterval(ae,3e4);return()=>clearInterval(ue)},[E,R]),_.useEffect(()=>{x.language!=="ro"&&(x.changeLanguage("ro"),localStorage.setItem("selectedLanguage","ro"),j("ro"))},[x]);const q=[{id:"dashboard",label:p("admin.menu.dashboard"),icon:Af},{id:"requests",label:p("admin.menu.requests"),icon:Yc},{id:"cars",label:p("admin.menu.cars"),icon:gN},{id:"calendar",label:p("admin.menu.calendar"),icon:yk},{id:"orders",label:p("admin.menu.orders"),icon:l1},{id:"users",label:p("admin.menu.users"),icon:em}],W=ae=>{r({section:ae})},ee=async()=>{await o(),e("/")},M=()=>{e("/")},V=async()=>{w(!0),O(ae=>ae+1),setTimeout(()=>{w(!1)},1e3)},U=()=>{if(i)return p("admin.orderDetails.title",{id:i});const ae=t.get("requestId");if(ae&&n==="requests")return p("admin.requestDetails.title",{id:ae});if(s&&n==="cars"){const fe=R.find(pe=>pe.id.toString()===s);return fe?(fe==null?void 0:fe.name)||`${fe.make||""} ${fe.model||""}`.trim()||p("admin.cars.name"):p("admin.carDetails.title")}const ue=q.find(fe=>fe.id===n);return(ue==null?void 0:ue.label)||p("admin.menu.dashboard")},I=()=>{if(i)return p("admin.orderDetails.description");if(t.get("requestId")&&n==="requests")return p("admin.requestDetails.description");if(s&&n==="cars")return p("admin.carDetails.description");switch(n){case"dashboard":return p("admin.dashboard.title");case"requests":return p("admin.requests.description");case"orders":return p("admin.orders.description");case"cars":return p("admin.cars.description");case"calendar":return p("admin.calendar.description");case"users":return p("admin.users.description");default:return""}},H=()=>{if(i)return a.jsx(E0e,{orderId:i});switch(n){case"dashboard":return a.jsx(fE,{},E);case"requests":return a.jsx(q0e,{},E);case"orders":return a.jsx(P0e,{},E);case"cars":return a.jsx(z0e,{},E);case"calendar":return a.jsx(T0e,{},E);case"users":return a.jsx(I0e,{},E);default:return a.jsx(fE,{},E)}};return a.jsxs(a.Fragment,{children:[a.jsx(rX,{}),a.jsx("style",{children:`
                * {
                    scrollbar-width: none !important;
                    -ms-overflow-style: none !important;
                }
                *::-webkit-scrollbar {
                    display: none !important;
                }
                .mobile-nav-scroll::-webkit-scrollbar {
                    display: none !important;
                }
                .mobile-nav-scroll {
                    -webkit-overflow-scrolling: touch;
                }
                /* Fix Safari dropdown styling */
                select {
                    -webkit-appearance: none !important;
                    -moz-appearance: none !important;
                    appearance: none !important;
                }
                select::-ms-expand {
                    display: none !important;
                }
                option {
                    background-color: #343434 !important;
                    color: #ffffff !important;
                }
            `}),a.jsxs("div",{className:"relative min-h-screen",children:[a.jsx("div",{className:"hidden lg:block fixed inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/bg-hero.jpg')",backgroundAttachment:"fixed",backgroundPosition:"center",backgroundSize:"cover",zIndex:0}}),a.jsx("div",{className:"lg:hidden fixed inset-0 overflow-hidden",style:{zIndex:0},children:a.jsx("img",{src:"/bg-hero.jpg",alt:"Background",className:"w-full h-full object-cover fixed inset-0",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0}})}),a.jsx("div",{className:"fixed inset-0 bg-black/70",style:{zIndex:1}}),a.jsxs("div",{className:"relative flex flex-col lg:flex-row min-h-screen",style:{zIndex:10},children:[a.jsxs("div",{className:"w-full lg:w-72 lg:sticky lg:top-0 lg:h-screen bg-white/10 backdrop-blur-xl border-b lg:border-b-0 lg:border-r border-white/20 flex flex-col shadow-lg",children:[a.jsx("div",{className:"p-6 border-b border-white/20",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:a.jsx("img",{src:"/logo-LVL-white.png",alt:"LVL Logo",className:"w-full h-full object-contain"})}),a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-white",children:p("admin.title")}),a.jsx("p",{className:"text-xs text-gray-300",children:p("admin.subtitle")})]}),a.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[a.jsx("button",{onClick:()=>$(!0),className:"flex items-center px-3 py-2 text-sm font-medium transition-colors rounded-lg hover:bg-white/10 border border-white/20",title:"Ajutor",children:a.jsx(wk,{className:"w-4 h-4 text-white"})}),a.jsx("button",{onClick:V,disabled:k,className:"flex items-center px-3 py-2 text-sm font-medium transition-colors rounded-lg hover:bg-white/10 border border-white/20 disabled:opacity-50",title:p("admin.common.refresh"),children:a.jsx(qp,{className:`w-4 h-4 text-white ${k?"animate-spin":""}`})}),a.jsx("button",{onClick:()=>Y(!0),className:"flex items-center px-3 py-2 text-sm font-medium transition-colors rounded-lg hover:bg-white/10 border border-white/20",title:p("admin.common.settings"),children:a.jsx(ch,{className:"w-4 h-4 text-white"})})]})]})]})}),a.jsx("nav",{className:"flex-1 p-4 space-y-2 pt-6 overflow-x-auto lg:overflow-y-auto lg:overflow-x-visible mobile-nav-scroll",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:a.jsx("div",{className:"flex lg:flex-col space-x-3 lg:space-x-0 lg:space-y-2 pb-2 lg:pb-0",children:q.map(ae=>{const ue=ae.icon,fe=n===ae.id,pe=ae.id==="requests"&&T>0;return a.jsxs("button",{onClick:()=>W(ae.id),className:`flex-shrink-0 lg:w-full flex flex-col lg:flex-row items-center justify-center lg:justify-start space-y-1 lg:space-y-0 lg:space-x-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 group relative ${fe?"bg-red-500/20 text-white border border-red-500/50":"text-gray-300 hover:text-white hover:bg-white/10 border border-transparent"}`,children:[a.jsxs("div",{className:"relative",children:[ue&&vt.createElement(ue,{className:`h-5 w-5 flex-shrink-0 transition-colors duration-200 ${fe?"text-red-400":"text-gray-400 group-hover:text-white"}`}),pe&&a.jsx("span",{className:`lg:hidden absolute -top-1.5 -right-1.5 min-w-[18px] h-[18px] flex items-center justify-center rounded-full text-[10px] font-bold px-1 ${fe?"bg-red-500 text-white":"bg-yellow-500 text-gray-900"}`,children:T>99?"99+":T})]}),a.jsxs("span",{className:"text-xs lg:text-sm flex items-center justify-between w-full",children:[a.jsx("span",{children:ae.label}),pe&&a.jsx("span",{className:`hidden lg:flex ml-auto min-w-[20px] h-5 items-center justify-center rounded-full text-[10px] font-bold px-1.5 ${fe?"bg-red-500 text-white":"bg-yellow-500 text-gray-900"}`,children:T>99?"99+":T})]})]},ae.id)})})}),a.jsx("div",{className:"mt-auto hidden lg:block flex-shrink-0",children:a.jsxs("div",{className:"px-4 pt-6 pb-4 border-t border-white/20 space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3 px-1 pb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center flex-shrink-0 shadow-md",children:a.jsx("span",{className:"text-white font-semibold text-sm",children:((G=(D=m==null?void 0:m.first_name)==null?void 0:D[0])==null?void 0:G.toUpperCase())||((P=(Z=m==null?void 0:m.last_name)==null?void 0:Z[0])==null?void 0:P.toUpperCase())||((ce=(re=l==null?void 0:l.email)==null?void 0:re[0])==null?void 0:ce.toUpperCase())||"U"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-white truncate",children:m!=null&&m.first_name&&(m!=null&&m.last_name)?`${m.first_name} ${m.last_name}`:(m==null?void 0:m.first_name)||(m==null?void 0:m.last_name)||((be=l==null?void 0:l.email)==null?void 0:be.split("@")[0])||"User"}),a.jsx("p",{className:"text-xs text-gray-300 truncate",children:(m==null?void 0:m.email)||(l==null?void 0:l.email)||"No email"})]}),a.jsx("button",{onClick:()=>Y(!0),className:"p-2 rounded-lg hover:bg-white/10 transition-colors flex-shrink-0","aria-label":p("admin.common.settings"),children:a.jsx(ch,{className:"w-4 h-4 text-gray-300 hover:text-white"})})]}),a.jsxs("button",{onClick:M,className:"w-full flex items-center justify-center space-x-2 px-4 py-2.5 bg-white/10 border border-white/20 text-gray-200 text-sm font-medium rounded-lg hover:bg-white/20 hover:border-white/30 hover:text-white transition-all duration-200",children:[a.jsx(Ux,{className:"w-4 h-4"}),a.jsx("span",{children:p("admin.common.backToSite")})]}),a.jsxs("button",{onClick:ee,className:"w-full flex items-center justify-center space-x-2 px-4 py-2.5 bg-red-500/20 border border-red-500/50 text-red-300 text-sm font-medium rounded-lg hover:bg-red-500/30 hover:border-red-500/60 hover:text-red-200 transition-all duration-200",children:[a.jsx(lh,{className:"w-4 h-4"}),a.jsx("span",{children:p("admin.common.signOut")})]})]})})]}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("div",{className:"relative px-4 lg:px-8 py-6 lg:py-8 border-b border-white/20 backdrop-blur-xl",style:{zIndex:1},children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-white mb-2",children:U()}),a.jsx("p",{className:"text-gray-300 text-sm lg:text-base",children:I()})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>$(!0),className:"hidden lg:flex items-center space-x-2 px-3 py-2 text-sm font-medium transition-colors rounded-lg hover:bg-white/10 border border-white/20",title:"Ghid utilizare",children:a.jsx(wk,{className:"w-4 h-4 text-white"})}),a.jsx("button",{onClick:V,disabled:k,className:"hidden lg:flex items-center space-x-2 px-3 py-2 text-sm font-medium transition-colors rounded-lg hover:bg-white/10 border border-white/20 disabled:opacity-50",title:"Refresh data",children:a.jsx(qp,{className:`w-4 h-4 text-white ${k?"animate-spin":""}`})})]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-8 relative z-0",children:a.jsx(Ie.div,{initial:{opacity:1},animate:{opacity:1},transition:{duration:0},children:H()},n)})]})]})]}),z&&Na.createPortal(a.jsx(Ie.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:1},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",onClick:()=>Y(!1),style:{zIndex:1e4},children:a.jsxs(Ie.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:ae=>ae.stopPropagation(),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 border-b border-white/20 px-6 py-4 flex items-center justify-between z-10",style:{backgroundColor:"#1C1C1C"},children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:p("admin.common.settings")}),a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:p("admin.settings.description")})]}),a.jsx("button",{onClick:()=>Y(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:a.jsx(hn,{className:"w-5 h-5 text-white"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx(tX,{}),a.jsxs("div",{className:"lg:hidden mt-8 pt-6 border-t border-white/10 space-y-3",children:[a.jsxs("button",{onClick:M,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-white/5 border border-white/10 text-gray-200 text-sm font-medium rounded-lg hover:bg-white/10 hover:border-white/20 hover:text-white transition-all duration-200",children:[a.jsx(Ux,{className:"w-4 h-4"}),a.jsx("span",{children:"napoi la Site"})]}),a.jsxs("button",{onClick:ee,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-red-500/10 border border-red-500/30 text-red-300 text-sm font-medium rounded-lg hover:bg-red-500/20 hover:border-red-500/40 hover:text-red-200 transition-all duration-200",children:[a.jsx(lh,{className:"w-4 h-4"}),a.jsx("span",{children:"Deconectare"})]})]})]})]})}),document.body),B&&Na.createPortal(a.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",onClick:()=>$(!1),style:{zIndex:1e4},children:a.jsxs(Ie.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:ae=>ae.stopPropagation(),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 border-b border-white/20 px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between z-10",style:{backgroundColor:"#1C1C1C"},children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Ghid de Utilizare Admin"}),a.jsx("button",{onClick:()=>$(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors flex-shrink-0",children:a.jsx(hn,{className:"w-5 h-5 text-white"})})]}),a.jsxs("div",{className:"p-4 sm:p-6 space-y-4",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[a.jsxs("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 flex items-center gap-2",children:[a.jsx(l1,{className:"w-5 h-5 text-red-400"}),a.jsx("span",{children:"Cum funcioneaz sistemul?"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-red-400 font-bold text-sm",children:"1."}),a.jsx("h4",{className:"font-bold text-white text-sm",children:"Clientul trimite cerere"})]}),a.jsx("p",{className:"text-gray-300 text-xs ml-5 leading-relaxed",children:'Cnd un client vrea s nchirieze o main, completeaz un formular pe site. Cererea lui apare automat n seciunea "Cereri" cu status "n ateptare". Poi vedea ce main vrea, cnd o ia i cnd o aduce napoi.'})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-red-400 font-bold text-sm",children:"2."}),a.jsx("h4",{className:"font-bold text-white text-sm",children:"Aprobai cererea"})]}),a.jsx("p",{className:"text-gray-300 text-xs ml-5 leading-relaxed",children:'Dup ce verifici c totul e n regul, apas butonul "Aprob" pe cererea respectiv. Sistemul va crea automat o comand nou n seciunea "Comenzi" cand vine ziua de nchiriere. Dac nu esti deacord cu cererea, poi respinge i clientul va primi notificare prin email.'})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-red-400 font-bold text-sm",children:"3."}),a.jsx("h4",{className:"font-bold text-white text-sm",children:"Generai contractul"})]}),a.jsx("p",{className:"text-gray-300 text-xs ml-5 leading-relaxed",children:'Mergi n seciunea "Comenzi" i apas pe comanda creat. Acolo vei gsi butonul "Genereaz Contract" care creeaz un PDF cu toate detaliile. Poi descrca contractul i s-l trimii clientului sau s-l printezi.'})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-red-400 font-bold text-sm",children:"4."}),a.jsx("h4",{className:"font-bold text-white text-sm",children:"nchirierea se finalizeaz"})]}),a.jsx("p",{className:"text-gray-300 text-xs ml-5 leading-relaxed",children:'Cnd clientul aduce maina napoi, comanda se marcheaz automat ca "Finalizat". Poi vedea toate comenzile finalizate n seciunea "Comenzi" i s verifici istoricul pentru a vedea ct a pltit fiecare client.'})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Af,{className:"w-5 h-5 text-red-400"}),a.jsx("h4",{className:"font-bold text-white text-sm",children:"Panou Principal"})]}),a.jsx("p",{className:"text-gray-300 text-xs leading-relaxed",children:"Aici vezi rapid ct ai ctigat n total, cte comenzi ai avut i cte maini sunt disponibile momentan. Graficele arat cum merg vnzrile pe perioade diferite. E util s verifici aici zilnic pentru a vedea cum merge afacerea."})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(l1,{className:"w-5 h-5 text-red-400"}),a.jsx("h4",{className:"font-bold text-white text-sm",children:"Cereri"})]}),a.jsx("p",{className:"text-gray-300 text-xs leading-relaxed",children:"Cnd clienii completeaz formularul pe site, cererile lor apar aici. Vezi numele, telefonul, ce main vor i perioada. Poi apsa pe fiecare cerere pentru detalii complete, apoi decizi dac o aprobi (crend o comand) sau o respingi."})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Yc,{className:"w-5 h-5 text-red-400"}),a.jsx("h4",{className:"font-bold text-white text-sm",children:"Comenzi"})]}),a.jsx("p",{className:"text-gray-300 text-xs leading-relaxed",children:"Toate nchirierile active i finalizate sunt aici. Cnd aprobi o cerere, apare automat o comand nou. Apas pe o comand pentru a vedea toate detaliile, s generezi contractul PDF sau s modifici statusul comenzii."})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Pi,{className:"w-5 h-5 text-red-400"}),a.jsx("h4",{className:"font-bold text-white text-sm",children:"Maini"})]}),a.jsx("p",{className:"text-gray-300 text-xs leading-relaxed",children:"Aici gestionezi toate mainile din flot. Poi aduga maini noi, modifica preurile, schimba descrierile sau actualiza imaginile. Cnd o main e n service sau nu mai e disponibil, poi marca statusul corespunztor. Clienii vor vedea doar mainile disponibile."})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(yk,{className:"w-5 h-5 text-red-400"}),a.jsx("h4",{className:"font-bold text-white text-sm",children:"Calendar"})]}),a.jsx("p",{className:"text-gray-300 text-xs leading-relaxed",children:"Vezi toate rezervrile pe un calendar lunar. Fiecare zi arat cte maini sunt nchiriate i care. Poi filtra dup marc sau model pentru a vedea doar anumite maini. E foarte util cnd vrei s verifici rapid disponibilitatea pentru o anumit perioad."})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(em,{className:"w-5 h-5 text-red-400"}),a.jsx("h4",{className:"font-bold text-white text-sm",children:"Utilizatori"})]}),a.jsx("p",{className:"text-gray-300 text-xs leading-relaxed",children:"Lista cu toi clienii care au fcut conturi pe site. Vezi datele lor de contact, cte nchirieri au fcut i ct au cheltuit n total. Apas pe un utilizator pentru a vedea istoricul complet al comenzilor lui. E util cnd vrei s contactezi un client sau s vezi dac e client fidel."})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 sm:p-6 border border-white/10",children:[a.jsxs("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 flex items-center gap-2",children:[a.jsx("span",{className:"text-xl",children:""}),a.jsx("span",{children:"Culorile statusurilor"})]}),a.jsx("p",{className:"text-gray-300 text-xs mb-3 leading-relaxed",children:"Fiecare comand sau cerere are o culoare care arat starea ei. Asta te ajut s vezi rapid ce trebuie s faci fr s citeti tot textul."}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/20 border border-yellow-500/50"}),a.jsx("span",{className:"text-gray-300 text-xs",children:"n ateptare"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500/20 border border-blue-500/50"}),a.jsx("span",{className:"text-gray-300 text-xs",children:"Activ"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500/20 border border-emerald-500/50"}),a.jsx("span",{className:"text-gray-300 text-xs",children:"Finalizat"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-500/20 border border-gray-500/50"}),a.jsx("span",{className:"text-gray-300 text-xs",children:"Anulat"})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-blue-500/20 pb-20",children:[a.jsxs("h3",{className:"text-base font-bold text-blue-300 mb-2 flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Sfaturi"})]}),a.jsxs("div",{className:"space-y-2 text-xs text-blue-200 leading-relaxed",children:[a.jsx("p",{children:" Apas pe orice card sau rnd pentru a vedea toate detaliile. Nu trebuie s caui prin meniuri"}),a.jsx("p",{children:" Cnd ai multe comenzi sau maini, folosete cutarea de sus. Scrie numele clientului sau mainii i gseti rapid ce caui"}),a.jsx("p",{children:" Butonul de actualizare (refresh) rencarc toate datele. Folosete-l dac ai impresia c nu vezi ultimele schimbri"})]})]})]})]})}),document.body)]})},H0e=({activeTab:e,setActiveTab:t,onLogout:r})=>{var o;const{t:n}=br(),{user:i}=uc(),s=[{id:"overview",label:n("dashboard.sidebar.overview"),icon:Ux},{id:"cars",label:n("dashboard.sidebar.cars"),icon:Pi},{id:"calendar",label:n("dashboard.sidebar.calendar"),icon:ta},{id:"settings",label:n("dashboard.sidebar.settings"),icon:ch}];return a.jsx(Ie.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},className:"w-full",children:a.jsxs("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl p-5 lg:p-6 border border-white/10 w-full lg:max-w-[320px] lg:mx-0",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8 pb-6 border-b border-white/10",children:[a.jsx("div",{className:"w-14 h-14 bg-red-600/20 rounded-full flex items-center justify-center",children:a.jsx(sc,{className:"text-red-600",size:28})}),a.jsxs("div",{className:"overflow-hidden",children:[a.jsx("h3",{className:"font-semibold text-white text-base truncate",children:((o=i==null?void 0:i.email)==null?void 0:o.split("@")[0])||"User"}),a.jsx("p",{className:"text-gray-400 text-sm",children:i==null?void 0:i.email})]})]}),a.jsxs("nav",{className:"space-y-3",children:[s.map(l=>a.jsxs(Ie.button,{onClick:()=>t(l.id),className:`w-full flex items-center gap-4 px-5 py-3.5 rounded-xl text-left font-medium text-sm tracking-wide transition-all duration-300 ${e===l.id?"bg-red-600 text-white shadow-md shadow-red-600/20":"text-gray-300 hover:bg-white/10 hover:text-white"}`,whileHover:{scale:1.03},whileTap:{scale:.98},children:[a.jsx(l.icon,{size:20}),a.jsx("span",{children:l.label})]},l.id)),a.jsx("div",{className:"h-[1px] bg-white/10 my-3"}),a.jsxs(Ie.button,{onClick:r,className:"w-full flex items-center gap-4 px-5 py-3.5 rounded-xl text-left text-red-400 hover:bg-red-500/10 hover:text-red-300 transition-all duration-300 font-medium",whileHover:{scale:1.03},whileTap:{scale:.98},children:[a.jsx(lh,{size:20}),a.jsx("span",{children:n("dashboard.sidebar.signOut")})]})]})]})})},rb=({message:e="Loading...",timeoutMessage:t="An error occurred. The data is not currently available.",timeoutMs:r=5e3})=>{const[n,i]=_.useState(!1);return _.useEffect(()=>{const s=setTimeout(()=>{i(!0)},r);return()=>clearTimeout(s)},[r]),n?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 w-full text-center",children:[a.jsx("p",{className:"text-red-400 font-semibold mb-1",children:t}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Please try again in a moment."})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 w-full",children:[a.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-white/5 rounded-full",children:a.jsx(ua,{className:"w-6 h-6 animate-spin text-white/50"})}),a.jsx("p",{className:"mt-2 text-sm text-gray-400",children:e})]})},e_=({icon:e,title:t,subtitle:r,buttonText:n,onButtonClick:i})=>a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[e&&a.jsx("div",{className:"bg-white/5 w-20 h-20 rounded-full flex items-center justify-center mb-4",children:e}),a.jsx("p",{className:"text-gray-400 text-lg font-medium mb-1",children:t}),r&&a.jsx("p",{className:"text-gray-500 text-sm",children:r}),n&&i&&a.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 font-semibold rounded-lg hover:border-red-500/60 transition-all text-sm whitespace-nowrap flex items-center gap-2 mt-4",children:n})]}),V0e=[{id:"unlimitedKm",label:"Kilometraj nelimitat",category:"Limits",price:"+50%",color:"red"},{id:"personalDriver",label:"ofer personal",category:"VIP Services",price:"800 MDL/zi",color:"gray"},{id:"priorityService",label:"Priority Service",category:"VIP Services",price:"1 000 MDL/zi",color:"gray"},{id:"tireInsurance",label:"Asigurare anvelope & parbriz",category:"Insurance",price:"+20%",color:"red"},{id:"childSeat",label:"Scaun auto pentru copii",category:"Additional",price:"100 MDL/zi",color:"gray"},{id:"simCard",label:"Cartel SIM cu internet",category:"Additional",price:"100 MDL/zi",color:"gray"},{id:"roadsideAssistance",label:"Asisten rutier",category:"Additional",price:"500 MDL/zi",color:"gray"},{id:"airportDelivery",label:"Livrare aeroport",category:"Delivery",price:"Gratuit",color:"green"},{id:"returnAtAddress",label:"Returnarea la adres",description:"Cost separat",category:"Delivery"},{id:"pickupAtAddress",label:"Preluare la adres",description:"Cost separat",category:"Delivery"}],W0e=({option:e,checked:t,onChange:r})=>{const n={red:["bg-red-500","border-red-500","text-red-400","bg-red-400/10"],green:["bg-green-500","border-green-500","text-green-400","bg-green-400/10"],gray:["bg-gray-500","border-gray-500","text-gray-300","bg-white/5"]},[i,s,o,l]=n[e.color||"gray"];return a.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:t,onChange:c=>r(e.id,c.target.checked),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 border-2 rounded flex items-center justify-center transition-all ${t?`${i} ${s}`:"border-white/30 bg-transparent group-hover:border-white/50"}`,children:t&&a.jsx(ro,{className:"w-3 h-3 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white text-sm",children:e.label}),e.description&&a.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:e.description})]})]}),e.price&&a.jsx("span",{className:`text-xs font-bold ${o} ${l} px-2 py-1 rounded whitespace-nowrap`,children:e.price})]})},K0e=({setCar:e})=>{const[t,r]=_.useState(""),[n,i]=_.useState(""),[s,o]=_.useState(null),[l,c]=_.useState(1),u=5,[h,m]=_.useState(0),[x,p]=_.useState(!1),v=Math.ceil(h/u);_.useEffect(()=>{const j=setTimeout(()=>{i(t),c(1)},500);return()=>clearTimeout(j)},[t]),_.useEffect(()=>{async function j(){p(!0);const{cars:k,total:w}=await lL(l,u,n);o(k),m(w),p(!1)}j()},[l,n]);const y=j=>{j<1||j>v||c(j)},g=()=>r("");return a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"relative mb-4",children:[a.jsx(ic,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search cars...",value:t,onChange:j=>r(j.target.value),className:"w-full pl-12 pr-10 py-3 bg-white/10 border border-white/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/50 text-white text-sm placeholder-gray-400"}),t&&a.jsx("button",{onClick:g,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors text-sm",children:""})]}),a.jsx("div",{className:"flex flex-col gap-3 min-h-[200px]",children:x?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(ua,{className:"w-8 h-8 animate-spin text-white/50"}),a.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Loading cars..."})]}):s&&s.length>0?s.map((j,k)=>a.jsxs("div",{onClick:()=>e(j),className:"flex items-center gap-4 px-4 py-3 rounded-xl border border-white/20 cursor-pointer hover:bg-white/10 transition-colors",children:[a.jsx("div",{className:"w-16 h-10 flex-shrink-0 rounded-md overflow-hidden bg-gray-700/30 flex items-center justify-center",children:j.image_url?a.jsx("img",{src:j.image_url,alt:j.make,className:"object-cover w-full h-full"}):a.jsx("span",{className:"text-white/50 text-xs",children:"No Image"})}),a.jsxs("div",{className:"flex flex-col flex-1",children:[a.jsxs("span",{className:"text-white font-medium text-sm",children:[j.make," ",j.model]}),a.jsx("span",{className:"text-gray-300 text-xs",children:j.year||"Unknown Year"})]})]},j.id??`car-fallback-${k}`)):a.jsx(e_,{icon:a.jsx(Pi,{className:"w-8 h-8 text-gray-400"}),title:"No cars found",subtitle:"Try adjusting your search",buttonText:"Clear Search",onButtonClick:g})}),v>1&&!x&&a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsxs("button",{onClick:()=>y(l-1),disabled:l===1,className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-white/20 bg-white/10 text-white disabled:opacity-50 hover:bg-white/20 transition-all text-sm",children:[a.jsx(Oh,{className:"w-4 h-4"})," Previous"]}),a.jsxs("span",{className:"text-sm text-gray-300",children:["Page ",l," of ",v]}),a.jsxs("button",{onClick:()=>y(l+1),disabled:l===v,className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-white/20 bg-white/10 text-white disabled:opacity-50 hover:bg-white/20 transition-all text-sm",children:["Next ",a.jsx(fs,{className:"w-4 h-4"})]})]})]})},RD=[{code:"+373",flag:"",country:"Moldova"},{code:"+40",flag:"",country:"Romania"},{code:"+380",flag:"",country:"Ukraine"},{code:"+7",flag:"",country:"Russia"},{code:"+1",flag:"",country:"USA"},{code:"+44",flag:"",country:"UK"},{code:"+49",flag:"",country:"Germany"},{code:"+33",flag:"",country:"France"},{code:"+39",flag:"",country:"Italy"},{code:"+34",flag:"",country:"Spain"},{code:"+32",flag:"",country:"Belgium"},{code:"+31",flag:"",country:"Netherlands"},{code:"+41",flag:"",country:"Switzerland"},{code:"+43",flag:"",country:"Austria"},{code:"+48",flag:"",country:"Poland"},{code:"+420",flag:"",country:"Czech Republic"},{code:"+36",flag:"",country:"Hungary"},{code:"+359",flag:"",country:"Bulgaria"},{code:"+30",flag:"",country:"Greece"},{code:"+90",flag:"",country:"Turkey"}],G0e=({onClose:e,car:t,initialCarId:r,approvedBorrowRequests:n,carRentalsForCalendar:i,nextAvailableDate:s})=>{const{t:o}=br(),l=new Date,c=new Date;c.setDate(l.getDate()+3);const[u,h]=_.useState(!1),[m,x]=_.useState(null),p=["Limits","VIP Services","Insurance","Additional","Delivery"],v={customerName:"",firstName:m==null?void 0:m.first_name,lastName:m==null?void 0:m.last_name,customerEmail:(m==null?void 0:m.email)||"",customerPhone:m==null?void 0:m.phone_number,carId:r||"",startDate:"",startTime:"",endDate:"",endTime:"",status:"ACTIVE",amount:0,userId:"",age:"",comment:""},[y,g]=_.useState(t||null);function j(Ne){g(Ne),w(Ue=>({...Ue,carId:Ne?Ne.id.toString():""}))}_.useEffect(()=>{t&&(g(t),w(Ne=>({...Ne,carId:t.id.toString()})))},[t]),_.useEffect(()=>{async function Ne(){h(!0);const Ue=await j0();x(Ue),h(!1)}Ne()},[]),_.useEffect(()=>{m&&w(Ne=>({...Ne,customerName:`${m.first_name??""} ${m.last_name??""}`,firstName:m.first_name??void 0,lastName:m.last_name??void 0,customerEmail:m.email??void 0,customerPhone:m.phone_number??void 0,userId:m.id}))},[m]),_.useEffect(()=>{t&&(g(t),w(Ne=>({...Ne,carId:t.id.toString()}))),de(!1)},[t]);const[k,w]=_.useState(v),[E,O]=_.useState(RD[0]),[z,Y]=_.useState(!1),[B,$]=_.useState(!1),[T,A]=_.useState(!1),[R,L]=_.useState(!1),[q,W]=_.useState(!1),[ee,M]=_.useState({pickup:l,return:c}),[V,U]=_.useState(null),[I,H]=_.useState([]),[D,G]=_.useState([]),[Z,P]=_.useState(!1),[re,ce]=_.useState(!1),[be,ae]=_.useState(!1),[ue,fe]=_.useState(""),[pe,de]=_.useState(!1),le=n||I,ne=i||D,Se=s!==void 0?s:V,Ee=vt.useRef(null),qe=vt.useRef(null),ve=vt.useRef(null),Ae=vt.useRef(null),me=Ne=>{const Ue=new Date(Ne),Re=String(Ue.getDate()).padStart(2,"0"),Ve=String(Ue.getMonth()+1).padStart(2,"0"),it=Ue.getFullYear();return`${Re}.${Ve}.${it}`},Ce=Ne=>{const Ue=Ne.getFullYear(),Re=Ne.getMonth(),Ve=new Date(Ue,Re,1),it=new Date(Ve);it.setDate(it.getDate()-Ve.getDay());const ie=[],we=new Date(it);for(let De=0;De<42;De++)we.getMonth()===Re?ie.push(we.toISOString().split("T")[0]):ie.push(null),we.setDate(we.getDate()+1);return ie},Me=Ne=>{const Ue=Ne.getFullYear(),Re=String(Ne.getMonth()+1).padStart(2,"0"),Ve=String(Ne.getDate()).padStart(2,"0");return`${Ue}-${Re}-${Ve}`},He=Ne=>{const Ue=[],Re=Ne!==void 0?Ne:0;for(let Ve=Re;Ve<24;Ve++)Ue.push(`${String(Ve).padStart(2,"0")}:00`);return Ue},at=(Ne,Ue)=>ne.length===0?!1:ne.some(Re=>{if(!Re.end_date||!Re.end_time)return!1;const Ve=Re.end_date.includes("T")?Re.end_date.split("T")[0]:Re.end_date.split(" ")[0],it=new Date(Ve),[ie,we]=Re.end_time.split(":").map(Number);it.setHours(ie||17,we||0,0,0);const De=new Date(it);if(De.setHours(De.getHours()+12),Ue){const[$e,Ye]=Ue.split(":").map(Number),lt=new Date(Ne);return lt.setHours($e||0,Ye||0,0,0),lt>=it&&lt<De}else{const $e=new Date(Ne);$e.setHours(0,0,0,0);const Ye=new Date(Ne);return Ye.setHours(23,59,59,999),De>$e&&it<Ye}}),pt=()=>{const Ne=new Date;Ne.setHours(0,0,0,0);let Ue=null;return le.forEach(Re=>{if(!Re.start_date)return;const Ve=Re.start_date.includes("T")?Re.start_date.split("T")[0]:Re.start_date.split(" ")[0],it=new Date(Ve+"T00:00:00");it.setHours(0,0,0,0),it>Ne&&(!Ue||it<Ue)&&(Ue=it)}),ne.forEach(Re=>{if(!Re.start_date)return;const Ve=Re.start_date.includes("T")?Re.start_date.split("T")[0]:Re.start_date.split(" ")[0],it=new Date(Ve+"T00:00:00");it.setHours(0,0,0,0),it>Ne&&(!Ue||it<Ue)&&(Ue=it)}),Ue?Me(Ue):null},ge=Ne=>{const Ue=Ne.split("T")[0],Re=new Date(Ue+"T00:00:00");Re.setHours(0,0,0,0);const Ve=new Date;return Ve.setHours(0,0,0,0),Re<Ve?!1:at(Re)||le.length>0&&le.some(ie=>{if(!ie.start_date||!ie.end_date)return!1;const we=ie.start_date.includes("T")?ie.start_date.split("T")[0]:ie.start_date.split(" ")[0],De=new Date(we+"T00:00:00");De.setHours(0,0,0,0);const $e=ie.end_date.includes("T")?ie.end_date.split("T")[0]:ie.end_date.split(" ")[0],Ye=new Date($e+"T23:59:59");return Ye.setHours(23,59,59,999),Ye>=Ve&&Re>=De&&Re<=Ye})?!0:ne.length>0?ne.some(ie=>{if(!ie.start_date||!ie.end_date)return!1;const we=ie.start_date.includes("T")?ie.start_date.split("T")[0]:ie.start_date.split(" ")[0],De=new Date(we+"T00:00:00");De.setHours(0,0,0,0);const $e=ie.end_date.includes("T")?ie.end_date.split("T")[0]:ie.end_date.split(" ")[0],Ye=new Date($e+"T23:59:59");return Ye.setHours(23,59,59,999),Ye>=Ve&&Re>=De&&Re<=Ye}):!1},Le=Ne=>{const Ue=pt();return Ue!==null&&Ne>=Ue},Be=Ne=>ge(Ne)||Le(Ne),Ge=(Ne,Ue=!1)=>{const Re=Ce(Ne),Ve=new Date;Ve.setHours(0,0,0,0);const it=Re.filter(we=>we!==null);return it.every(we=>{const De=Me(Ve),$e=we<De,Ye=Se?(()=>{const et=new Date;et.setHours(0,0,0,0);const Pt=new Date(Se);Pt.setHours(0,0,0,0);const kt=new Date(we);return kt.setHours(0,0,0,0),Pt<=et&&kt<Pt})():!1,lt=Be(we),ft=Ue&&k.startDate&&we<=k.startDate;return $e||Ye||lt||ft})&&it.length>0},[Qe,St]=_.useState({pickupAtAddress:!1,returnAtAddress:!1,unlimitedKm:!1,speedLimitIncrease:!1,personalDriver:!1,priorityService:!1,tireInsurance:!1,childSeat:!1,simCard:!1,roadsideAssistance:!1,airportDelivery:!1}),oe=()=>{if(!k.startDate||!k.endDate||!k.carId||!t)return 0;const Ne=new Date(k.startDate),Ue=new Date(k.endDate),Re=k.startTime||"09:00",Ve=k.endTime||"17:00",[it,ie]=Re.split(":").map(Number),[we,De]=Ve.split(":").map(Number),$e=new Date(Ne);$e.setHours(it,ie,0,0);const Ye=new Date(Ue);Ye.setHours(we,De,0,0);const lt=Ye.getTime()-$e.getTime(),ft=Math.floor(lt/(1e3*60*60*24)),et=Math.floor(lt%(1e3*60*60*24)/(1e3*60*60)),Pt=ft,kt=et>=0?et:0,jt=Pt,Tt=Pt+kt/24,ut=(t==null?void 0:t.discount_percentage)||(y==null?void 0:y.discount_percentage)||0;let Dt=0;jt>=2&&jt<=4?Dt=(t==null?void 0:t.price_2_4_days)||(y==null?void 0:y.price_2_4_days)||0:jt>=5&&jt<=15?Dt=(t==null?void 0:t.price_5_15_days)||(y==null?void 0:y.price_5_15_days)||0:jt>=16&&jt<=30?Dt=(t==null?void 0:t.price_16_30_days)||(y==null?void 0:y.price_16_30_days)||0:jt>30&&(Dt=(t==null?void 0:t.price_over_30_days)||(y==null?void 0:y.price_over_30_days)||0);const Mt=ut>0?Dt*(1-ut/100):Dt;let Ht=Mt*jt;if(kt>0){const Lt=kt/24*Mt;Ht+=Lt}let pr=0;const ar=Mt;return Qe.unlimitedKm&&(pr+=ar*Tt*.5),Qe.speedLimitIncrease&&(pr+=ar*Tt*.2),Qe.tireInsurance&&(pr+=ar*Tt*.2),Qe.personalDriver&&(pr+=800*jt),Qe.priorityService&&(pr+=1e3*jt),Qe.childSeat&&(pr+=100*jt),Qe.simCard&&(pr+=100*jt),Qe.roadsideAssistance&&(pr+=500*jt),Math.round(Ht+pr)};function ht(Ne,Ue,Re,Ve){if(!Ne&&!Ue)return null;const it=new Date(Re.startDate||""),ie=new Date(Re.endDate||""),[we,De]=(Re.startTime||"09:00").split(":").map(Number),[$e,Ye]=(Re.endTime||"17:00").split(":").map(Number),lt=new Date(it);lt.setHours(we,De,0,0);const ft=new Date(ie);ft.setHours($e,Ye,0,0);const et=ft.getTime()-lt.getTime(),Pt=Math.floor(et/(1e3*60*60*24)),kt=Math.floor(et%(1e3*60*60*24)/(1e3*60*60)),jt=Pt,Tt=kt>=0?kt:0,ut=jt,Dt=jt+Tt/24,Mt=(Ne==null?void 0:Ne.discount_percentage)||(Ue==null?void 0:Ue.discount_percentage)||0;let Ht=0;ut>=2&&ut<=4?Ht=(Ne==null?void 0:Ne.price_2_4_days)||(Ue==null?void 0:Ue.price_2_4_days)||0:ut>=5&&ut<=15?Ht=(Ne==null?void 0:Ne.price_5_15_days)||(Ue==null?void 0:Ue.price_5_15_days)||0:ut>=16&&ut<=30?Ht=(Ne==null?void 0:Ne.price_16_30_days)||(Ue==null?void 0:Ue.price_16_30_days)||0:ut>30&&(Ht=(Ne==null?void 0:Ne.price_over_30_days)||(Ue==null?void 0:Ue.price_over_30_days)||0);const pr=Mt>0?Ht*(1-Mt/100):Ht;let ar=pr*ut;if(Tt>0){const Tr=Tt/24*pr;ar+=Tr}let Lt=0;const Xt=pr;Ve.unlimitedKm&&(Lt+=Xt*Dt*.5),Ve.speedLimitIncrease&&(Lt+=Xt*Dt*.2),Ve.tireInsurance&&(Lt+=Xt*Dt*.2),Ve.personalDriver&&(Lt+=800*ut),Ve.priorityService&&(Lt+=1e3*ut),Ve.childSeat&&(Lt+=100*ut),Ve.simCard&&(Lt+=100*ut),Ve.roadsideAssistance&&(Lt+=500*ut);const er=ar+Lt;return{pricePerDay:pr,rentalDays:ut,hours:Tt,basePrice:ar,additionalCosts:Lt,totalPrice:er,baseCarPrice:Xt}}_.useEffect(()=>{const Ne=oe();w(Ue=>({...Ue,amount:Ne}))},[k.startDate,k.endDate,k.startTime,k.endTime,k.carId,Qe]),_.useEffect(()=>{const Ne=Ue=>{Ue.target.closest(".country-code-dropdown-container")||Y(!1),Ee.current&&!Ee.current.contains(Ue.target)&&$(!1),qe.current&&!qe.current.contains(Ue.target)&&A(!1),ve.current&&!ve.current.contains(Ue.target)&&L(!1),Ae.current&&!Ae.current.contains(Ue.target)&&W(!1)};return document.addEventListener("mousedown",Ne),()=>{document.removeEventListener("mousedown",Ne)}},[z]),_.useEffect(()=>{k.startDate&&M(Ne=>({...Ne,pickup:new Date(k.startDate||"")}))},[k.startDate]),_.useEffect(()=>{if(k.endDate)M(Ne=>({...Ne,return:new Date(k.endDate||"")}));else if(k.startDate){const Ne=new Date(k.startDate);Ne.setMonth(Ne.getMonth()+1),M(Ue=>({...Ue,return:Ne}))}},[k.endDate,k.startDate]),_.useEffect(()=>{k.startDate&&M(Ne=>({...Ne,pickup:new Date(k.startDate||"")}))},[k.startDate]),_.useEffect(()=>{if(k.endDate)M(Ne=>({...Ne,return:new Date(k.endDate||"")}));else if(k.startDate){const Ne=new Date(k.startDate);M(Ue=>({...Ue,return:new Date(Ne)}))}},[k.endDate,k.startDate]),_.useEffect(()=>{if(B&&!Z){if(Ge(ee.pickup,!1)){const Ne=new Date(ee.pickup);Ne.setMonth(Ne.getMonth()+1),M(Ue=>({...Ue,pickup:Ne}))}P(!0)}else B||P(!1)},[B,ee.pickup,Se,le,Z]),_.useEffect(()=>{if(T&&!re){if(Ge(ee.return,!0)){const Ne=new Date(ee.return);Ne.setMonth(Ne.getMonth()+1),M(Ue=>({...Ue,return:Ne}))}ce(!0)}else T||ce(!1)},[T,ee.return,Se,le,k.startDate,re]),_.useEffect(()=>{const Ne=Ue=>{if(be)return;const Re=Ue.target;Re.closest("button[data-calendar-toggle]")||(B&&Ee.current&&!Ee.current.contains(Re)&&$(!1),T&&qe.current&&!qe.current.contains(Re)&&A(!1),R&&ve.current&&!ve.current.contains(Re)&&L(!1),q&&Ae.current&&!Ae.current.contains(Re)&&W(!1))};return document.addEventListener("mousedown",Ne),document.addEventListener("touchstart",Ne),()=>{document.removeEventListener("mousedown",Ne),document.removeEventListener("touchstart",Ne)}},[B,T,R,q,be]);const wt=Ne=>{if(Ne.preventDefault(),console.log("form data: ",k),!k.firstName||!k.lastName||!k.age||!k.customerPhone||!k.carId||!k.startDate||!k.endDate){alert(o("admin.requests.fillRequiredFields"));return}const Ue=`${k.firstName} ${k.lastName}`,Re=`${E.code} ${k.customerPhone}`.trim(),Ve=oe(),it={car_id:parseInt(k.carId||"0"),user_id:k.userId||"",start_date:k.startDate,start_time:k.startTime,end_date:k.endDate,end_time:k.endTime,status:"PENDING",customer_name:Ue,customer_first_name:k.firstName,customer_last_name:k.lastName,customer_email:k.customerEmail,customer_phone:Re,customer_age:k.age?parseInt(k.age):null,comment:k.comment||null,options:Qe,total_amount:Ve};rt(it)};async function rt(Ne){var Ue;console.log("saving the rentals request with the following info: ",Ne);try{const Re=await wN(Ne.car_id.toString(),Ne.start_date,Ne.start_time,Ne.end_date,Ne.end_time,Ne.customer_first_name,Ne.customer_last_name,Ne.customer_email,Ne.customer_phone,(Ue=Ne.customer_age)==null?void 0:Ue.toString(),Ne.comment,Ne.options,Ne.total_amount,Ne.user_id);Re.success?(console.log("Borrow request created successfully:",Re.requestId),de(!0)):console.error("Failed to create borrow request:",Re.error)}catch(Re){console.error("Error creating borrow request:",Re)}}return Na.createPortal(a.jsx(Ie.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:1},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",onClick:e,style:{zIndex:1e4},children:a.jsxs(Ie.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2,ease:"easeOut"},onClick:Ne=>Ne.stopPropagation(),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white/10 backdrop-blur-xl border-b border-white/20 px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between z-10",style:{backgroundColor:"#1C1C1C"},children:[a.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white",children:o("admin.requests.createNew")}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:a.jsx(hn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})})]}),pe?a.jsxs("div",{className:"px-4 sm:px-6 py-6 sm:py-8 space-y-6 sm:space-y-8",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl border border-white/20 shadow-lg p-6 sm:p-8",children:[a.jsx("div",{className:"mb-4",children:a.jsx("span",{className:"text-sm font-semibold tracking-wider text-red-400 uppercase",children:"Confirmare"})}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center shadow-lg bg-gradient-to-b from-red-500 to-red-600 flex-shrink-0",children:a.jsx(yh,{className:"w-7 h-7 text-white",strokeWidth:2.5})}),a.jsxs("div",{className:"flex-1 pt-1",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white leading-tight mb-3",children:"Cererea a fost trimis cu succes!"}),a.jsx("p",{className:"text-gray-300 text-base leading-relaxed",children:"n scurt timp v vom contacta pentru confirmare."})]})]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{type:"button",onClick:e,className:"px-8 py-3 bg-white/10 hover:bg-white/20 backdrop-blur-md border border-white/20 text-white font-semibold rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl",children:"nchide"})})]}):a.jsxs("form",{onSubmit:wt,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[a.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Date de contact"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Prenume *"}),a.jsx("input",{type:"text",value:k.firstName||"",onChange:Ne=>w(Ue=>({...Ue,firstName:Ne.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none",style:{backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0,disabled:u})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nume *"}),a.jsx("input",{type:"text",value:k.lastName||"",onChange:Ne=>w(Ue=>({...Ue,lastName:Ne.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Vrst *"}),a.jsx("input",{type:"number",value:k.age||"",onChange:Ne=>w(Ue=>({...Ue,age:Ne.target.value})),min:"18",max:"100",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Telefon *"}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 z-[1] country-code-dropdown-container",children:[a.jsxs("button",{type:"button",onClick:()=>Y(!z),className:"flex items-center gap-1.5 text-gray-300 hover:text-white text-sm font-medium px-2 py-1 rounded hover:bg-white/10 transition-colors",children:[a.jsx("span",{children:E.flag}),a.jsx("span",{children:E.code}),a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),z&&a.jsx("div",{className:"absolute top-full left-0 mt-1 border border-white/20 rounded-lg shadow-lg max-h-60 overflow-y-auto z-[5] min-w-[200px]",style:{backgroundColor:"#343434"},children:RD.map(Ne=>a.jsxs("button",{type:"button",onClick:()=>{O(Ne),Y(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-white hover:bg-white/20 transition-colors",children:[a.jsx("span",{children:Ne.flag}),a.jsx("span",{className:"flex-1 text-left",children:Ne.country}),a.jsx("span",{className:"text-gray-400",children:Ne.code})]},Ne.code))})]}),a.jsx("input",{type:"tel",value:k.customerPhone||"",onChange:Ne=>w(Ue=>({...Ue,customerPhone:Ne.target.value})),placeholder:"000 00 000",className:"w-full pl-[100px] pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",required:!0})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"E-mail (opional)"}),a.jsx("input",{type:"email",value:k.customerEmail||"",onChange:Ne=>w(Ue=>({...Ue,customerEmail:Ne.target.value})),placeholder:o("admin.placeholders.email"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"}})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[a.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Automobil"}),y?a.jsx("div",{className:"flex flex-col gap-3",children:a.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl border border-white/20 bg-white/10",children:[a.jsx("div",{className:"w-20 h-12 flex-shrink-0 rounded-md overflow-hidden bg-gray-700/30 flex items-center justify-center",children:y.image_url?a.jsx("img",{src:y.image_url,alt:y.make,className:"object-cover w-full h-full"}):a.jsx("span",{className:"text-white/50 text-xs",children:"No Image"})}),a.jsxs("div",{className:"flex flex-col flex-1",children:[a.jsxs("span",{className:"text-white font-medium text-sm",children:[y.make," ",y.model]}),a.jsx("span",{className:"text-gray-300 text-xs",children:y.year||"Unknown Year"}),y.description&&a.jsx("span",{className:"text-gray-400 text-xs mt-1",children:y.description})]}),a.jsx("button",{type:"button",onClick:()=>g(null),className:"text-red-500 hover:text-red-400 text-sm",children:"Schimb"})]})}):a.jsx(K0e,{setCar:j})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[a.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Perioada nchirierii"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",ref:Ee,children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Data prelurii *"}),a.jsxs("button",{type:"button",onClick:()=>{$(!B),A(!1),L(!1),W(!1)},className:`w-full flex items-center justify-start gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${k.startDate?"border-white/30 text-white hover:border-white/50 bg-white/5":"border-white/20 text-gray-400 hover:border-white/30 bg-white/5"}`,children:[a.jsx(ta,{className:"w-4 h-4"}),a.jsx("span",{children:k.startDate?me(k.startDate):"Data primirii"})]}),a.jsx(mr,{children:B&&a.jsxs(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-[#343434] border border-white/20 rounded-lg shadow-lg p-3 min-w-[280px]",onClick:Ne=>Ne.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("button",{type:"button",onClick:()=>{const Ne=new Date(ee.pickup);Ne.setMonth(Ne.getMonth()-1),M(Ue=>({...Ue,pickup:Ne}))},className:"p-1 hover:bg-white/10 rounded transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("div",{className:"text-sm font-medium text-white",children:ee.pickup.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),a.jsx("button",{type:"button",onClick:()=>{const Ne=new Date(ee.pickup);Ne.setMonth(Ne.getMonth()+1),M(Ue=>({...Ue,pickup:Ne}))},className:"p-1 hover:bg-white/10 rounded transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),a.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Du","Lu","Ma","Mi","Jo","Vi","S"].map(Ne=>a.jsx("div",{className:"text-gray-400 font-medium",children:Ne},Ne))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:Ce(ee.pickup).map((Ne,Ue)=>{if(!Ne)return a.jsx("div",{},Ue);const Re=new Date(Ne),Ve=Ne,it=new Date;it.setHours(0,0,0,0);const ie=Me(it),we=Ve<ie,De=Se?(()=>{const kt=new Date;kt.setHours(0,0,0,0);const jt=new Date(Se);jt.setHours(0,0,0,0);const Tt=new Date(Ve);return Tt.setHours(0,0,0,0),jt<=kt&&Tt<jt})():!1,$e=ge(Ve),Ye=we||De||$e,lt=Ve===k.startDate,ft=k.endDate&&Ve===k.endDate,et=k.startDate&&k.endDate&&Ve>k.startDate&&Ve<k.endDate,Pt=()=>"Aceast dat nu este disponibil.";return a.jsxs("div",{className:`w-8 h-8 flex items-center justify-center text-xs rounded transition-colors relative ${Ye?"text-gray-300 cursor-not-allowed":"text-white cursor-pointer"} ${lt||ft?"bg-red-500 text-white hover:bg-red-600 font-medium":et?"bg-white/20 text-white hover:bg-white/30":Ye?"":"hover:bg-white/20"}`,onClick:()=>{if(Ye)alert(Pt());else{const kt=k.startDate&&k.startDate!==Ne;if(kt&&w(jt=>({...jt,endDate:"",startTime:"",endTime:""})),w(jt=>({...jt,startDate:Ne})),!kt&&k.endDate&&Ne>=k.endDate){const jt=new Date(k.endDate),Tt=new Date(Ne),ut=jt.getTime()-Tt.getTime();Math.floor(ut/(1e3*60*60*24))<2&&w(Mt=>({...Mt,endDate:""}))}ae(!0),setTimeout(()=>{$(!1),ae(!1),k.startTime||L(!0)},300)}},title:Ye?Pt():"",children:[a.jsx("span",{className:"relative z-0",children:Re.getDate()}),$e&&a.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-red-600 font-bold text-base z-10 pointer-events-none",style:{fontSize:"14px"},children:""})]},Ue)})})]})})]}),a.jsxs("div",{className:"relative",ref:ve,children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ora prelurii *"}),a.jsxs("button",{type:"button",onClick:()=>{L(!R),W(!1),$(!1),A(!1)},className:`w-full flex items-center justify-start gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${k.startTime?"border-white/30 text-white hover:border-white/50 bg-white/5":"border-white/20 text-gray-400 hover:border-white/30 bg-white/5"}`,children:[a.jsx(ra,{className:"w-4 h-4"}),a.jsx("span",{children:k.startTime||"__ : __"})]}),a.jsx(mr,{children:R&&a.jsx(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-[#343434] border border-white/20 rounded-lg shadow-lg p-3 max-h-[200px] overflow-y-auto min-w-[120px]",onClick:Ne=>Ne.stopPropagation(),children:a.jsx("div",{className:"flex flex-col gap-1",children:(()=>{let Ne;if(k.startDate){const Re=new Date;Re.setHours(0,0,0,0);const Ve=Me(Re);if(k.startDate===Ve){let we=new Date().getHours()+2;we>=24&&(we=23),Ne=we}else if(Se){const it=Se.toISOString().split("T")[0];if(k.startDate===it){const ie=Se.getHours();Ne=Se.getMinutes()>0?ie+1:ie}}}return He(Ne).filter(Re=>{if(!k.startDate)return!0;const Ve=new Date(k.startDate);return!at(Ve,Re)}).map(Re=>a.jsx("button",{type:"button",onClick:Ve=>{Ve.stopPropagation(),w(it=>({...it,startTime:Re})),ae(!0),setTimeout(()=>{L(!1),ae(!1),k.endDate||A(!0)},300)},onMouseDown:Ve=>Ve.stopPropagation(),className:`w-full px-3 py-2 text-sm rounded transition-colors text-center ${k.startTime===Re?"bg-red-500 text-white font-medium":"text-white hover:bg-white/20"}`,children:Re},Re))})()})})})]}),a.jsxs("div",{className:"relative",ref:qe,children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Data returnrii *"}),a.jsxs("button",{type:"button",onClick:()=>{A(!T),$(!1),L(!1),W(!1)},className:`w-full flex items-center justify-start gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${k.endDate?"border-white/30 text-white hover:border-white/50 bg-white/5":"border-white/20 text-gray-400 hover:border-white/30 bg-white/5"}`,children:[a.jsx(ta,{className:"w-4 h-4"}),a.jsx("span",{children:k.endDate?me(k.endDate):"Data returnrii"})]}),a.jsx(mr,{children:T&&a.jsxs(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-[#343434] border border-white/20 rounded-lg shadow-lg p-3 min-w-[280px]",onClick:Ne=>Ne.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("button",{type:"button",onClick:()=>{const Ne=new Date(ee.return);Ne.setMonth(Ne.getMonth()-1),M(Ue=>({...Ue,return:Ne}))},className:"p-1 hover:bg-white/10 rounded transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("div",{className:"text-sm font-medium text-white",children:ee.return.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),a.jsx("button",{type:"button",onClick:()=>{const Ne=new Date(ee.return);Ne.setMonth(Ne.getMonth()+1),M(Ue=>({...Ue,return:Ne}))},className:"p-1 hover:bg-white/10 rounded transition-colors",children:a.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),a.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Du","Lu","Ma","Mi","Jo","Vi","S"].map(Ne=>a.jsx("div",{className:"text-gray-400 font-medium",children:Ne},Ne))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:Ce(ee.return).map((Ne,Ue)=>{if(!Ne)return a.jsx("div",{},Ue);const Re=new Date(Ne),Ve=Ne,it=new Date;it.setHours(0,0,0,0);const ie=Me(it),we=Ve<ie,De=Se?(()=>{const ut=new Date;ut.setHours(0,0,0,0);const Dt=new Date(Se);Dt.setHours(0,0,0,0);const Mt=new Date(Ve);return Mt.setHours(0,0,0,0),Dt<=ut&&Mt<Dt})():!1,$e=k.startDate&&Ve<=k.startDate,Ye=k.startDate&&(()=>{const ut=new Date(k.startDate),Mt=new Date(Ve).getTime()-ut.getTime();return Math.floor(Mt/(1e3*60*60*24))<2})(),lt=ge(Ve),ft=k.startDate?(()=>{const ut=pt();if(!ut)return!1;const Dt=new Date(k.startDate);Dt.setHours(0,0,0,0);const Mt=new Date(ut);Mt.setHours(0,0,0,0);const Ht=new Date(Ve);return Ht.setHours(0,0,0,0),Dt>=Mt?!1:Ht>=Mt})():Le(Ve),et=we||De||$e||lt||ft,Pt=Ve===k.endDate,kt=k.startDate&&Ve===k.startDate,jt=k.startDate&&k.endDate&&Ve>k.startDate&&Ve<k.endDate,Tt=()=>{if(ft){const ut=pt();if(ut)return`Nu putei selecta aceast dat. Maina este deja rezervat ncepnd cu ${new Date(ut).toLocaleDateString("ro-RO",{day:"numeric",month:"long",year:"numeric"})}.`}return"Aceast dat nu este disponibil."};return a.jsxs("div",{className:`w-8 h-8 flex items-center justify-center text-xs rounded transition-colors relative ${Ye?"text-black opacity-50 cursor-not-allowed":et?"text-gray-300 cursor-not-allowed":"text-white cursor-pointer"} ${Pt||kt?"bg-red-500 text-white hover:bg-red-600 font-medium":jt?"bg-white/20 text-white hover:bg-white/30":!et&&!Ye?"hover:bg-white/20":""}`,onClick:()=>{if(Ye){fe("Perioada minim de nchiriere este de 2 zile"),setTimeout(()=>fe(""),3e3);return}et?alert(Tt()):(w(ut=>({...ut,endDate:Ne})),ae(!0),setTimeout(()=>{A(!1),ae(!1),k.endTime||W(!0)},300))},title:et?Tt():"",children:[a.jsx("span",{className:"relative z-0",children:Re.getDate()}),lt&&a.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-red-600 font-bold text-base z-10 pointer-events-none",style:{fontSize:"14px"},children:""})]},Ue)})}),ue&&a.jsx("div",{className:"mt-3 px-2 py-1.5 bg-blue-50 rounded-xl border border-blue-100",children:a.jsx("p",{className:"text-xs text-blue-700",children:ue})})]})})]}),a.jsxs("div",{className:"relative",ref:Ae,children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ora returnrii *"}),a.jsxs("button",{type:"button",onClick:()=>{W(!q),L(!1),$(!1),A(!1)},className:`w-full flex items-center justify-start gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${k.endTime?"border-white/30 text-white hover:border-white/50 bg-white/5":"border-white/20 text-gray-400 hover:border-white/30 bg-white/5"}`,children:[a.jsx(ra,{className:"w-4 h-4"}),a.jsx("span",{children:k.endTime||"__ : __"})]}),a.jsx(mr,{children:q&&a.jsx(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-[#343434] border border-white/20 rounded-lg shadow-lg p-3 max-h-[200px] overflow-y-auto min-w-[120px]",onClick:Ne=>Ne.stopPropagation(),children:a.jsx("div",{className:"grid grid-cols-2 gap-1",children:He().map(Ne=>a.jsx("button",{type:"button",onClick:()=>{w(Ue=>({...Ue,endTime:Ne})),W(!1)},className:`px-3 py-2 text-xs rounded transition-colors ${k.endTime===Ne?"bg-red-500 text-white font-medium":"text-white hover:bg-white/20"}`,children:Ne},Ne))})})})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[a.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Opiuni de nchiriere"}),p.map(Ne=>a.jsxs("div",{className:"mb-5",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:Ne}),a.jsx("div",{className:"space-y-2",children:V0e.filter(Ue=>Ue.category===Ne).map(Ue=>a.jsx(W0e,{option:Ue,checked:Qe[Ue.id],onChange:(Re,Ve)=>St(it=>({...it,[Re]:Ve}))},Ue.id))})]},Ne))]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Comentariu ",a.jsx("span",{className:"text-gray-400 font-normal",children:"(opional)"})]}),a.jsx("textarea",{value:k.comment||"",onChange:Ne=>w(Ue=>({...Ue,comment:Ne.target.value})),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 resize-none",placeholder:"Adugai un comentariu (opional)"})]}),a.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[a.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Detalii pre"}),a.jsx("div",{className:"space-y-3",children:k.carId&&y&&(()=>{const Ne=ht(t,y,k,Qe);return Ne?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-300",children:"Pre pe zi"}),a.jsx("div",{className:"flex flex-col items-end gap-0.5",children:a.jsxs("span",{className:"text-white font-medium",children:[Ne.pricePerDay.toFixed(0)," MDL"]})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-300",children:"Durat"}),a.jsxs("span",{className:"text-white font-medium",children:[Ne.rentalDays," ",Ne.rentalDays===1?"zi":"zile",Ne.hours>0?`, ${Ne.hours} ${Ne.hours===1?"or":"ore"}`:""]})]}),a.jsx("div",{className:"pt-2 border-t border-white/10",children:a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-white font-medium",children:"Pre de baz"}),a.jsxs("span",{className:"text-white font-medium",children:[Math.round(Ne.basePrice).toLocaleString()," MDL"]})]})}),Ne.additionalCosts>0&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"pt-3 border-t border-white/10",children:[a.jsx("h4",{className:"text-sm font-bold text-white mb-3",children:"Servicii suplimentare"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[Qe.unlimitedKm&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Kilometraj nelimitat"}),a.jsxs("span",{className:"text-white font-medium",children:[Math.round(Ne.baseCarPrice*Ne.rentalDays*.5).toLocaleString()," MDL"]})]}),Qe.speedLimitIncrease&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Creterea limitei de vitez"}),a.jsxs("span",{className:"text-white font-medium",children:[Math.round(Ne.baseCarPrice*Ne.rentalDays*.2).toLocaleString()," MDL"]})]}),Qe.tireInsurance&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Asigurare anvelope & parbriz"}),a.jsxs("span",{className:"text-white font-medium",children:[Math.round(Ne.baseCarPrice*Ne.rentalDays*.2).toLocaleString()," MDL"]})]}),Qe.personalDriver&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"ofer personal"}),a.jsxs("span",{className:"text-white font-medium",children:[800*Ne.rentalDays," MDL"]})]}),Qe.priorityService&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Serviciu prioritar"}),a.jsxs("span",{className:"text-white font-medium",children:[1e3*Ne.rentalDays," MDL"]})]}),Qe.childSeat&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Scaun auto pentru copii"}),a.jsxs("span",{className:"text-white font-medium",children:[100*Ne.rentalDays," MDL"]})]}),Qe.simCard&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Cartel SIM cu internet"}),a.jsxs("span",{className:"text-white font-medium",children:[100*Ne.rentalDays," MDL"]})]}),Qe.roadsideAssistance&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Asisten rutier"}),a.jsxs("span",{className:"text-white font-medium",children:[500*Ne.rentalDays," MDL"]})]}),a.jsx("div",{className:"pt-2 border-t border-white/10",children:a.jsxs("div",{className:"flex justify-between font-medium",children:[a.jsx("span",{className:"text-white",children:"Total servicii"}),a.jsxs("span",{className:"text-white",children:[Math.round(Ne.additionalCosts).toLocaleString()," MDL"]})]})})]})]})}),a.jsxs("div",{className:"pt-3 border-t border-white/10 flex items-center justify-between",children:[a.jsx("span",{className:"text-white font-bold text-lg",children:"Total"}),a.jsxs("span",{className:"text-white font-bold text-xl",children:[Math.round(Ne.totalPrice).toLocaleString()," MDL"]})]})]}):null})()})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-end pt-4 border-t border-white/10",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 sm:px-6 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-lg transition-all text-sm sm:text-base",children:o("admin.common.cancel")}),a.jsxs("button",{type:"submit",className:"px-4 sm:px-6 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 hover:text-red-200 font-semibold rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 text-sm sm:text-base",children:[a.jsx(wh,{className:"w-4 h-4"}),o("admin.requests.createRental")]})]})]})]})}),document.body)},Y0e=()=>{var T,A;du();const e=kn(),[t,r]=_.useState([]),[n,i]=_.useState(!1),[s,o]=_.useState(null),[l,c]=_.useState(1),u=5,[h,m]=_.useState(0),[x,p]=_.useState(!1),[v,y]=_.useState(new Map),[g,j]=_.useState(new Map);async function k(){p(!0);try{const R=w(),{cars:L,total:q}=await TG(R);r(L),m(q),L&&L.length>0&&await Promise.all([z(L),Y(L)])}catch(R){console.error(R)}finally{p(!1)}}_.useEffect(()=>{k()},[l]);const w=()=>({sortBy:null,sortOrder:"asc",status:null,page:l,pageSize:u}),E=R=>{e(`/cars/${R.id}`)},O=R=>{o(R),i(!0)},z=async R=>{if(!R||R.length===0)return;const L=R.map(q=>typeof q.id=="number"?q.id:parseInt(String(q.id),10));try{const q=L.map(U=>qt.from("Rentals").select("*").eq("car_id",U).order("created_at",{ascending:!1})),W=L.map(U=>qt.from("BorrowRequest").select("*").eq("car_id",U).in("status",["APPROVED","EXECUTED"]).order("requested_at",{ascending:!1})),[ee,M]=await Promise.all([Promise.all(q),Promise.all(W)]),V=new Map;L.forEach((U,I)=>{const H=U.toString(),D=ee[I].data||[],G=M[I].data||[];V.set(H,{rentals:D,borrowRequests:G})}),y(V)}catch(q){console.error("Error fetching cars availability:",q)}},Y=async R=>{if(!(!R||R.length===0))try{const L=R.map(async ee=>{try{let M=ee.name;(!M||M.trim()==="")&&(M=`${ee.make} ${ee.model}`);const{mainImage:V,photoGallery:U}=await Tn(M);return{carId:ee.id.toString(),mainImage:V||ee.image_url,photoGallery:U.length>0?U:ee.photo_gallery||[]}}catch(M){return console.error(`Error fetching images for car ${ee.id}:`,M),{carId:ee.id.toString(),mainImage:ee.image_url,photoGallery:ee.photo_gallery||[]}}}),q=await Promise.all(L),W=new Map;q.forEach(ee=>{W.set(ee.carId,{mainImage:ee.mainImage||"",photoGallery:ee.photoGallery})}),j(W)}catch(L){console.error("Error fetching cars images:",L)}},B=({car:R,availabilityData:L,imageData:q})=>{const[W,ee]=_.useState(null),[M,V]=_.useState(0),U={...R,image_url:(q==null?void 0:q.mainImage)||R.image_url,photo_gallery:(q==null?void 0:q.photoGallery)||R.photo_gallery||[]},I=(L==null?void 0:L.rentals)||[],H=(L==null?void 0:L.borrowRequests)||[];_.useEffect(()=>{if(!L)return;const{rentals:G,borrowRequests:Z}=L,P=G.map(fe=>({id:fe.id.toString(),user_id:fe.user_id,car_id:fe.car_id.toString(),start_date:fe.start_date,start_time:fe.start_time||"09:00:00",end_date:fe.end_date,end_time:fe.end_time||"17:00:00",status:"EXECUTED",created_at:fe.created_at,updated_at:fe.updated_at})),re=Z.map(fe=>({id:fe.id.toString(),user_id:fe.user_id,car_id:fe.car_id.toString(),start_date:fe.start_date,start_time:fe.start_time||"09:00:00",end_date:fe.end_date,end_time:fe.end_time||"17:00:00",status:"APPROVED",created_at:fe.requested_at||fe.created_at,updated_at:fe.updated_at})),be=[...P,...re].filter(fe=>fe.start_date&&fe.end_date),ae=new Date;let ue=null;if(be.length>0){const fe=[...be].sort((de,le)=>{const ne=new Date(de.start_date||0),Se=new Date(le.start_date||0);return ne.getTime()-Se.getTime()});let pe=null;for(let de=0;de<fe.length;de++){const le=fe[de];if(!le.end_date)continue;const ne=le.end_date.includes("T")?le.end_date.split("T")[0]:le.end_date.split(" ")[0],Se=new Date(ne);if(le.end_time){const[Ee,qe]=le.end_time.split(":").map(Number);Se.setHours(Ee||17,qe||0,0,0)}else Se.setHours(17,0,0,0);if(Se.setHours(Se.getHours()+12),de===0)pe=Se;else{const Ee=fe[de-1];if(!Ee.end_date)continue;const qe=Ee.end_date.includes("T")?Ee.end_date.split("T")[0]:Ee.end_date.split(" ")[0],ve=new Date(qe);if(Ee.end_time){const[He,at]=Ee.end_time.split(":").map(Number);ve.setHours(He||17,at||0,0,0)}else ve.setHours(17,0,0,0);ve.setHours(ve.getHours()+12);const Ae=le.start_date.includes("T")?le.start_date.split("T")[0]:le.start_date.split(" ")[0],me=new Date(Ae);if(le.start_time){const[He,at]=le.start_time.split(":").map(Number);me.setHours(He||9,at||0,0,0)}else me.setHours(9,0,0,0);const Ce=me.getTime()-ve.getTime(),Me=24*60*60*1e3;Ce>=0&&Ce<=Me+60*60*1e3||pe&&pe>ae&&(ue=pe),pe=Se}}pe&&pe>ae&&(ue=pe)}ee(ue)},[L]);const D=()=>{const G=pe=>{const de=pe.getFullYear(),le=String(pe.getMonth()+1).padStart(2,"0"),ne=String(pe.getDate()).padStart(2,"0");return`${de}-${le}-${ne}`},Z=pe=>I.length===0?!1:I.some(de=>{if(!de.end_date||!de.end_time)return!1;const le=de.end_date.includes("T")?de.end_date.split("T")[0]:de.end_date.split(" ")[0],ne=new Date(le+"T00:00:00"),[Se,Ee]=de.end_time.split(":").map(Number);ne.setHours(Se||17,Ee||0,0,0);const qe=new Date(ne);qe.setHours(qe.getHours()+12);const ve=new Date(pe);ve.setHours(0,0,0,0);const Ae=new Date(ne);Ae.setHours(0,0,0,0);const me=new Date(qe);return me.setHours(0,0,0,0),Ae.getTime()===me.getTime()?G(ve)===G(Ae):ve>=Ae&&ve<=me}),P=pe=>{const de=pe.split("T")[0],le=new Date(de+"T00:00:00");le.setHours(0,0,0,0);const ne=new Date;return ne.setHours(0,0,0,0),le<ne?!1:Z(le)||H.length>0&&H.some(Ee=>{if(!Ee.start_date||!Ee.end_date)return!1;const qe=Ee.start_date.includes("T")?Ee.start_date.split("T")[0]:Ee.start_date.split(" ")[0],ve=new Date(qe+"T00:00:00");ve.setHours(0,0,0,0);const Ae=Ee.end_date.includes("T")?Ee.end_date.split("T")[0]:Ee.end_date.split(" ")[0],me=new Date(Ae+"T23:59:59");return me.setHours(23,59,59,999),me>=ne&&le>=ve&&le<=me})?!0:I.length>0?I.some(Ee=>{if(!Ee.start_date||!Ee.end_date)return!1;const qe=Ee.start_date.includes("T")?Ee.start_date.split("T")[0]:Ee.start_date.split(" ")[0],ve=new Date(qe+"T00:00:00");ve.setHours(0,0,0,0);const Ae=Ee.end_date.includes("T")?Ee.end_date.split("T")[0]:Ee.end_date.split(" ")[0],me=new Date(Ae+"T23:59:59");return me.setHours(23,59,59,999),me>=ne&&le>=ve&&le<=me}):!1},re=()=>{const pe=new Date;pe.setHours(0,0,0,0);const de=G(pe);let le=new Date(pe);for(let ne=0;ne<60;ne++){const Se=G(le),Ee=Se<de,qe=W?(()=>{const Ae=new Date(W);Ae.setHours(0,0,0,0);const me=new Date(Se);return me.setHours(0,0,0,0),Ae<=pe&&me<Ae})():!1,ve=P(Se);if(!Ee&&!qe&&!ve)return le;le.setDate(le.getDate()+1)}return null},ce=pe=>{const de=pe.getDate(),ne=["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"][pe.getMonth()];return`Liber de pe ${de} ${ne}`},be=re(),ae=new Date;ae.setHours(0,0,0,0);const ue=be&&G(be)===G(ae),fe=be?ue?"Disponibil":ce(be):R.status==="available"||R.status==="Available"?"Disponibil":R.status||"";return!fe||fe==="Disponibil"?null:a.jsxs("div",{className:"absolute top-3 left-3 bg-black/60 backdrop-blur-md text-white rounded-xl px-3 py-1.5 text-xs font-normal shadow-sm flex items-center gap-1.5",children:[a.jsx("svg",{className:"w-3 h-3 flex-shrink-0 opacity-80",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("span",{className:"whitespace-nowrap",children:fe})]})};return a.jsxs("div",{className:"bg-gradient-to-br from-white/5 to-white/10 backdrop-blur-md rounded-3xl border border-white/20 overflow-hidden transition-all duration-300 group cursor-pointer hover:-translate-y-2 hover:shadow-2xl",children:[a.jsxs("div",{className:"relative overflow-hidden cursor-pointer",onMouseMove:G=>{if(U.photo_gallery&&U.photo_gallery.length>1){const Z=G.currentTarget,P=Z.getBoundingClientRect(),re=G.clientX-P.left,ce=P.width,ae=Math.min(U.photo_gallery.length,5),ue=Math.floor(re/ce*ae),fe=Math.max(0,Math.min(ue,ae-1));V(fe);const pe=Z.querySelector(".photo-gallery");if(pe){const de=-(fe*100);pe.style.transform=`translateX(${de}%)`}}},onMouseLeave:G=>{if(U.photo_gallery&&U.photo_gallery.length>1){V(0);const Z=G.currentTarget.querySelector(".photo-gallery");Z&&(Z.style.transform="translateX(0%)")}},children:[a.jsx("div",{className:"flex transition-transform duration-300 ease-out group-hover:scale-105 photo-gallery",children:U.photo_gallery&&U.photo_gallery.length>1?(()=>{const Z=U.photo_gallery.slice(0,5),re=U.photo_gallery.length-5;return Z.map((ce,be)=>a.jsxs("div",{className:"relative w-full h-56 flex-shrink-0",style:{minWidth:"100%"},children:[a.jsx("img",{src:ce,alt:`${U.make} ${U.model} - Photo ${be+1}`,className:"w-full h-56 object-cover object-center bg-black/10"}),be===Z.length-1&&re>0?a.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center text-white",children:[a.jsx(Pi,{className:"w-8 h-8 mb-2"}),a.jsxs("span",{className:"text-lg font-semibold",children:["+",re," mai multe"]})]}):null]},be))})():U.image_url?a.jsx("img",{src:U.image_url,alt:U.make+" "+U.model,className:"w-full h-56 object-cover object-center bg-black/10"}):a.jsxs("div",{className:"w-full h-56 bg-black/10 flex flex-col items-center justify-center text-gray-300 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"radial-gradient(circle at 2px 2px, black 1px, transparent 0)",backgroundSize:"16px 16px"}}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/10 flex items-center justify-center mb-3 shadow-sm border border-white/10",children:a.jsx(Pi,{className:"w-8 h-8 text-gray-300"})}),a.jsx("span",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Fr fotografii"})]})]})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),D(),U.photo_gallery&&U.photo_gallery.length>1&&a.jsx("div",{className:"absolute bottom-3 left-0 right-0 flex justify-center space-x-1 px-4",children:Array.from({length:Math.min(U.photo_gallery.length,5)}).map((G,Z)=>a.jsx("div",{className:`flex-1 h-0.5 rounded-full transition-colors duration-200 ${Z===M?"bg-white/90":"bg-white/30"}`},Z))})]}),a.jsxs("div",{className:"p-5 flex flex-col justify-between flex-1 cursor-pointer",onClick:()=>E(U),children:[a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-lg font-bold text-white group-hover:text-gray-300 transition-colors duration-300",children:[U.make," ",U.model]}),a.jsx("span",{className:"text-lg font-bold text-gray-300",children:U.year})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[a.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:a.jsx(em,{className:"w-4 h-4 text-gray-300"})}),a.jsxs("span",{className:"text-sm font-medium",children:[U.seats," locuri"]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 text-gray-300",children:[a.jsx("span",{className:"text-sm font-medium",children:(()=>{var Z;const G=((Z=U.transmission)==null?void 0:Z.trim())||"";return G.toLowerCase()==="automatic"||G==="Automatic"?"Automat":G.toLowerCase()==="manual"||G==="Manual"?"Manual":G||"Automat"})()}),a.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:$(U.transmission||"Automatic")})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[a.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:a.jsx(hN,{className:"w-4 h-4 text-gray-300"})}),a.jsx("span",{className:"text-sm font-medium",children:U.fuel_type==="gasoline"?"Benzin":U.fuel_type==="diesel"?"Diesel":U.fuel_type==="petrol"?"Benzin":U.fuel_type==="hybrid"?"Hibrid":U.fuel_type==="electric"?"Electric":U.fuel_type})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 text-gray-300",children:[a.jsx("span",{className:"text-sm font-medium capitalize",children:U.body}),a.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:a.jsx(fN,{className:"w-4 h-4 text-gray-300"})})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/20",children:[(()=>{const G=U.price_over_30_days||0,Z=U.discount_percentage||0,P=Z>0?G*(1-Z/100):G;return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-baseline gap-1",children:[a.jsxs("span",{className:"text-xl font-bold text-white",children:[P.toFixed(0)," MDL"]}),a.jsx("span",{className:"text-gray-400 text-sm",children:"/zi"})]}),Z>0&&a.jsxs("span",{className:"text-sm text-red-300 line-through font-semibold decoration-red-400/60 md:hidden",children:[G," MDL"]})]})})(),a.jsxs("button",{onClick:G=>{G.stopPropagation(),O(U)},disabled:U.status!=="available",className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 text-sm font-semibold ${U.status==="available"?"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white shadow-lg hover:shadow-xl transform hover:-translate-y-0.5":"bg-gray-600/20 text-gray-400 cursor-not-allowed border border-gray-500/30"}`,children:[a.jsx(fs,{size:16}),"nchiriaz"]})]})]})]})},$=R=>{switch(R.toLowerCase()){case"automatic":return vt.createElement(jh,{className:"w-5 h-5 text-gray-400"});case"manual":return vt.createElement(cy,{className:"w-5 h-5 text-gray-400"});default:return vt.createElement(jh,{className:"w-5 h-5 text-gray-400"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{children:a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:"All Cars"})}),x?a.jsx(rb,{message:"Loading cars..."}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.length>0?t.map(R=>a.jsx(B,{car:R,availabilityData:v.get(R.id.toString()),imageData:g.get(R.id.toString())},R.id)):a.jsx("div",{className:"col-span-full",children:a.jsx(e_,{icon:a.jsx(Pi,{className:"w-12 h-12 text-gray-400"}),title:"No cars found",subtitle:"No cars are available at the moment"})})}),h>u&&a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 px-6 py-6 border-t border-white/10 mt-8",children:[a.jsxs("div",{className:"text-gray-400 text-sm",children:["Showing ",a.jsx("span",{className:"font-medium text-white",children:Math.min((l-1)*u+1,h)})," to"," ",a.jsx("span",{className:"font-medium text-white",children:Math.min(l*u,h)})," of"," ",a.jsx("span",{className:"font-medium text-white",children:h})," cars"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>c(R=>Math.max(R-1,1)),disabled:l===1,className:`p-2 rounded-lg transition-all duration-200 ${l===1?"bg-white/5 text-gray-500 cursor-not-allowed opacity-50":"bg-white/10 text-white hover:bg-white/20 hover:scale-105 active:scale-95"}`,"aria-label":"Previous page",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("div",{className:"flex items-center gap-1 px-3",children:(()=>{const R=Math.ceil(h/u),L=[],q=5;let W=Math.max(1,l-Math.floor(q/2)),ee=Math.min(R,W+q-1);ee-W+1<q&&(W=Math.max(1,ee-q+1));for(let M=W;M<=ee;M++)L.push(a.jsx("button",{onClick:()=>c(M),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all duration-200 ${l===M?"bg-red-600 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20 hover:text-white"}`,children:M},M));return L})()}),a.jsx("button",{onClick:()=>c(R=>R*u<h?R+1:R),disabled:l*u>=h,className:`p-2 rounded-lg transition-all duration-200 ${l*u>=h?"bg-white/5 text-gray-500 cursor-not-allowed opacity-50":"bg-white/10 text-white hover:bg-white/20 hover:scale-105 active:scale-95"}`,"aria-label":"Next page",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]}),n&&s&&a.jsx(G0e,{onClose:()=>{i(!1),o(null)},car:s,propApprovedBorrowRequests:((T=v.get(s.id.toString()))==null?void 0:T.borrowRequests)||[],effectiveCarRentalsForCalendar:((A=v.get(s.id.toString()))==null?void 0:A.rentals)||[]})]})},X0e=({activeTab:e,t})=>{const[r,n]=_.useState(null),[i,s]=_.useState(!0),[o,l]=_.useState({firstName:"",lastName:"",phone:""}),[c,u]=_.useState(!1),[h,m]=_.useState(!0),[x,p]=_.useState(!1);async function v(){m(!0);try{const w=await WY();w&&(n(w),l({firstName:w.first_name||"",lastName:w.last_name||"",phone:w.phone_number||""}))}catch(w){console.error("Error fetching profile:",w)}finally{m(!1)}}_.useEffect(()=>{v()},[]);const y=async()=>{if(!r)return;u(!0);const w=await KY({id:r.id,first_name:o.firstName,last_name:o.lastName,phone_number:o.phone});w.success&&w.data?n(w.data[0]):alert("Failed to update profile: "+w.error),u(!1)},g=()=>{l({firstName:(r==null?void 0:r.first_name)||"",lastName:(r==null?void 0:r.last_name)||"",phone:(r==null?void 0:r.phone_number)||""}),s(!1),p(!1)},j=()=>{g()},k=()=>{p(!1)};return e!=="profile"?null:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 relative mb-8",children:[a.jsx(mr,{children:c&&!h&&a.jsxs(a.Fragment,{children:[a.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-black/50 backdrop-blur-xl rounded-2xl z-20"}),a.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 rounded-2xl z-30 flex items-center justify-center pointer-events-none",children:a.jsxs(Ie.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.3,ease:"easeOut"},className:"flex flex-col items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ie.div,{className:"w-16 h-16 rounded-full border-4 border-red-500/20",animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"}}),a.jsx(Ie.div,{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-red-600 border-r-red-600/50",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"w-2 h-2 rounded-full bg-red-600"})})]}),a.jsx(Ie.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-white/90 font-medium text-sm",children:t("dashboard.profile.saving")||"Saving..."})]})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-bold text-gray-200 mb-3",children:t("dashboard.profile.firstName")}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:o.firstName,onChange:w=>{const E=w.target.value.replace(/[0-9]/g,"");l({...o,firstName:E})},disabled:c||h,className:"w-full bg-white/10 border border-white/20 rounded-lg py-3 px-4 text-white text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-red-600 transition-all duration-300 disabled:opacity-50"}),h&&a.jsx("div",{className:"absolute inset-0 flex items-center px-4 pointer-events-none",children:a.jsx("div",{className:"h-4 w-24 bg-white/20 rounded animate-pulse"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-bold text-gray-200 mb-3",children:t("dashboard.profile.lastName")}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:o.lastName,onChange:w=>{const E=w.target.value.replace(/[0-9]/g,"");l({...o,lastName:E})},disabled:c||h,className:"w-full bg-white/10 border border-white/20 rounded-lg py-3 px-4 text-white text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-red-600 transition-all duration-300 disabled:opacity-50"}),h&&a.jsx("div",{className:"absolute inset-0 flex items-center px-4 pointer-events-none",children:a.jsx("div",{className:"h-4 w-24 bg-white/20 rounded animate-pulse"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-bold text-gray-200 mb-3",children:t("dashboard.profile.email")}),a.jsxs("div",{className:"relative",children:[a.jsx(md,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"email",value:(r==null?void 0:r.email)||"",disabled:!0,className:"w-full bg-white/10 border border-white/20 rounded-lg py-3 pl-11 pr-4 text-white text-base placeholder-gray-400 disabled:opacity-50"}),h&&a.jsx("div",{className:"absolute inset-0 flex items-center pl-11 pointer-events-none",children:a.jsx("div",{className:"h-4 w-32 bg-white/20 rounded animate-pulse"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-bold text-gray-200 mb-3",children:t("dashboard.profile.phone")}),a.jsxs("div",{className:"relative",children:[a.jsx(Qf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"tel",value:o.phone,onChange:w=>{const E=w.target.value.replace(/[^0-9+]/g,"");l({...o,phone:E})},disabled:c||h,className:"w-full bg-white/10 border border-white/20 rounded-lg py-3 pl-11 pr-4 text-white text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-red-600 transition-all duration-300 disabled:opacity-50"}),h&&a.jsx("div",{className:"absolute inset-0 flex items-center pl-11 pointer-events-none",children:a.jsx("div",{className:"h-4 w-28 bg-white/20 rounded animate-pulse"})})]})]})]}),a.jsx("div",{className:"flex gap-4 mt-6",children:a.jsx("button",{onClick:y,disabled:c,className:"bg-red-600 hover:bg-red-700 text-white font-medium px-6 py-2 rounded-lg transition-all duration-300 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:c?a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(ua,{className:"w-5 h-5 animate-spin"}),t("dashboard.profile.saving")||"Saving..."]}):t("dashboard.profile.saveChanges")})})]}),Na.createPortal(a.jsx(mr,{children:x&&a.jsxs(a.Fragment,{children:[a.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9998]",onClick:k}),a.jsx(Ie.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.3,ease:"easeOut"},className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",onClick:w=>w.stopPropagation(),children:a.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg max-w-md w-full",children:[a.jsxs("div",{className:"px-6 py-5 border-b border-white/20 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-500/20 flex items-center justify-center",children:a.jsx(vO,{className:"w-6 h-6 text-yellow-500"})}),a.jsx("h3",{className:"text-2xl font-bold text-white",children:t("dashboard.profile.discardChanges")||"Discard Changes?"})]}),a.jsx("button",{onClick:k,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:a.jsx(hn,{className:"w-6 h-6 text-white/70"})})]}),a.jsx("div",{className:"px-6 py-5",children:a.jsx("p",{className:"text-white/80 text-base leading-relaxed font-medium",children:t("dashboard.profile.discardChangesMessage")||"You have unsaved changes. Are you sure you want to discard them? This action cannot be undone."})}),a.jsxs("div",{className:"px-6 py-5 border-t border-white/20 flex items-center justify-end gap-3",children:[a.jsx("button",{onClick:k,className:"px-4 py-2 bg-gray-500/20 hover:bg-gray-500/30 border border-gray-500/50 text-gray-300 font-semibold rounded-lg hover:border-gray-500/60 transition-all text-sm whitespace-nowrap flex items-center gap-2",children:t("dashboard.profile.keepEditing")||"Keep Editing"}),a.jsx("button",{onClick:j,className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 font-semibold rounded-lg hover:border-red-500/60 transition-all text-sm whitespace-nowrap flex items-center gap-2",children:t("dashboard.profile.discard")||"Discard Changes"})]})]})})]})}),document.body)]})},J0e=({t:e,passwordForm:t,setPasswordForm:r,notificationSettings:n,handleNotificationToggle:i})=>{const[s,o]=_.useState(null),[l,c]=_.useState(null),[u,h]=_.useState({}),m=v=>v?v.length<6?"Password must be at least 6 characters":/(?=.*[a-zA-Z])/.test(v)?/[!@#$%^&*(),.?":{}|<>]/.test(v)?null:"Password must contain at least one special character":"Password must contain at least one letter":"Password is required",x=(v,y)=>{r({...t,[v]:y}),u[v]&&h({...u,[v]:void 0}),s&&o(null)};_.useEffect(()=>{if(t.newPassword&&t.confirmPassword){const v=t.newPassword===t.confirmPassword;h(y=>({...y,confirmPassword:v?void 0:e("dashboard.settings.passwordsDoNotMatch")||"Passwords do not match"}))}},[t.newPassword,t.confirmPassword,e]),_.useEffect(()=>{if(l){const v=setTimeout(()=>{c(null)},3e3);return()=>clearTimeout(v)}},[l]),_.useEffect(()=>{if(s){const v=setTimeout(()=>{o(null)},5e3);return()=>clearTimeout(v)}},[s]);const p=async v=>{v.preventDefault(),o(null),c(null),h({});const y={};t.currentPassword||(y.currentPassword="Current password is required");const g=m(t.newPassword);if(g&&(y.newPassword=g),t.confirmPassword?t.newPassword!==t.confirmPassword&&(y.confirmPassword="Passwords do not match"):y.confirmPassword="Please confirm your new password",Object.keys(y).length>0){h(y);return}const{success:j,error:k}=await YY(t.currentPassword,t.newPassword);j?(c("Password updated successfully!"),r({currentPassword:"",newPassword:"",confirmPassword:""}),h({})):o(k||e("dashboard.settings.passwordUpdateFailed")||"Failed to update password. Please try again.")};return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 mb-8",children:[a.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:e("dashboard.settings.changePassword")}),a.jsx(mr,{children:s&&a.jsx(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.3,ease:"easeOut"},className:"mb-4 p-4 bg-gradient-to-r from-red-500/20 to-rose-500/20 backdrop-blur-sm border border-red-500/30 rounded-xl shadow-lg shadow-red-500/10",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ie.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.1,type:"spring",stiffness:200},className:"flex-shrink-0 w-10 h-10 rounded-full bg-red-500 flex items-center justify-center shadow-md",children:a.jsx(Df,{className:"w-5 h-5 text-white",strokeWidth:2.5})}),a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"text-red-100 font-medium text-sm leading-tight",children:s})})]})})}),a.jsx(mr,{children:l&&a.jsx(Ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.3,ease:"easeOut"},className:"mb-4 p-4 bg-gradient-to-r from-green-500/20 to-emerald-500/20 backdrop-blur-sm border border-green-500/30 rounded-xl shadow-lg shadow-green-500/10",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ie.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1,type:"spring",stiffness:200},className:"flex-shrink-0 w-10 h-10 rounded-full bg-green-500 flex items-center justify-center shadow-md",children:a.jsx(yh,{className:"w-5 h-5 text-white",strokeWidth:2.5})}),a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"text-green-100 font-medium text-sm leading-tight",children:l})})]})})}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("dashboard.settings.currentPassword")}),a.jsx("input",{type:"password",value:t.currentPassword,onChange:v=>x("currentPassword",v.target.value),className:`w-full bg-white/10 border rounded-lg py-2 px-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-all duration-300 ${u.currentPassword?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-white/20 focus:ring-red-600 focus:border-red-600"}`,placeholder:e("dashboard.settings.enterCurrentPassword")}),a.jsx(mr,{children:u.currentPassword&&a.jsxs(Ie.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},transition:{duration:.15},className:"mt-1 text-sm text-red-400 flex items-center gap-1",children:[a.jsx(Df,{className:"w-3 h-3"}),u.currentPassword]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("dashboard.settings.newPassword")}),a.jsx("input",{type:"password",value:t.newPassword,onChange:v=>x("newPassword",v.target.value),className:`w-full bg-white/10 border rounded-lg py-2 px-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-all duration-300 ${u.newPassword?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-white/20 focus:ring-red-600 focus:border-red-600"}`,placeholder:e("dashboard.settings.enterNewPassword")}),a.jsx(mr,{children:u.newPassword&&a.jsxs(Ie.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},transition:{duration:.15},className:"mt-1 text-sm text-red-400 flex items-center gap-1",children:[a.jsx(Df,{className:"w-3 h-3"}),u.newPassword]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("dashboard.settings.confirmNewPassword")}),(()=>{const v=!!u.confirmPassword,y=t.confirmPassword&&t.newPassword===t.confirmPassword;let g="border-white/20 focus:ring-red-600 focus:border-red-600";return v?g="border-red-500 focus:ring-red-500 focus:border-red-500":y&&(g="border-green-500/50 focus:ring-green-500 focus:border-green-500"),a.jsx("input",{type:"password",value:t.confirmPassword,onChange:j=>x("confirmPassword",j.target.value),className:`w-full bg-white/10 border rounded-lg py-2 px-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-all duration-300 ${g}`,placeholder:e("dashboard.settings.confirmNewPasswordPlaceholder")})})(),a.jsx(mr,{children:u.confirmPassword&&a.jsxs(Ie.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},transition:{duration:.15},className:"mt-1 text-sm text-red-400 flex items-center gap-1",children:[a.jsx(Df,{className:"w-3 h-3"}),u.confirmPassword]})}),t.confirmPassword&&!u.confirmPassword&&t.newPassword===t.confirmPassword&&a.jsxs(Ie.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-xs text-green-400 flex items-center gap-1",children:[a.jsx(yh,{className:"w-3 h-3"}),e("dashboard.settings.passwordsMatch")||"Passwords match"]})]}),a.jsx("button",{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white font-medium px-6 py-2 rounded-lg transition-all duration-300 shadow-md hover:shadow-lg",children:e("dashboard.settings.updatePassword")})]})]})})},Z0e=({t:e,activeTab:t,passwordForm:r,setPasswordForm:n,notificationSettings:i,handleNotificationToggle:s})=>{const[o,l]=du(),c=o.get("subTab"),[u,h]=_.useState(()=>c&&(c==="profile"||c==="settings")?c:"profile");return _.useEffect(()=>{c&&(c==="profile"||c==="settings")&&h(c)},[c]),_.useEffect(()=>{!c&&t==="settings"&&l({tab:"settings",subTab:"profile"},{replace:!0})},[t,c,l]),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{children:a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:e("dashboard.settings.title")})}),a.jsxs("div",{className:"flex gap-2 mb-6 border-b border-white/10",children:[a.jsx("button",{onClick:()=>{h("profile"),l({tab:"settings",subTab:"profile"},{replace:!0})},className:`px-6 py-3 text-sm font-semibold transition-all duration-300 border-b-2 ${u==="profile"?"text-red-600 border-red-600":"text-gray-400 border-transparent hover:text-white"}`,children:e("dashboard.sidebar.profile")}),a.jsx("button",{onClick:()=>{h("settings"),l({tab:"settings",subTab:"settings"},{replace:!0})},className:`px-6 py-3 text-sm font-semibold transition-all duration-300 border-b-2 ${u==="settings"?"text-red-600 border-red-600":"text-gray-400 border-transparent hover:text-white"}`,children:e("dashboard.sidebar.settings")})]}),u==="profile"&&a.jsx(X0e,{activeTab:"profile",t:e}),u==="settings"&&a.jsx(J0e,{t:e,passwordForm:r,setPasswordForm:n,notificationSettings:i,handleNotificationToggle:s})]})};async function Q0e(){const e=await j0(),{data:t}=await qt.from("BorrowRequest").select("*").eq("user_id",e==null?void 0:e.id).order("requested_at",{ascending:!1});if(console.log("user borrow requests: ",t),!t||t.length===0)return[];const r=new Set;t.forEach(s=>{if(s.car_id){const o=typeof s.car_id=="number"?s.car_id:parseInt(s.car_id);r.add(o)}});let n=[];if(r.size>0)try{const{data:s,error:o}=await qt.from("Cars").select("*").in("id",Array.from(r));!o&&s&&(n=s,console.log("Fetched cars data for borrow requests:",n))}catch(s){console.error("Error fetching cars for borrow requests:",s)}return await Promise.all(t.map(async s=>{const o=typeof s.car_id=="number"?s.car_id:parseInt(s.car_id);let l=n.find(c=>c.id===o);if(console.log("Processing borrow request for car ID:",o,"Found car:",l),l)try{const c=[l.name,`${l.make} ${l.model}`,l.model,`${l.make}-${l.model}`.toLowerCase()].filter(Boolean);let u=null,h=[];for(const m of c)try{const x=await Tn(m);if(x.mainImage){u=x.mainImage,h=x.photoGallery,console.log(" Found images for car:",m,"->",u);break}}catch{}l={...l,image_url:u||l.image_url||"/placeholder-car.jpg",photo_gallery:h||[]}}catch(c){console.error(" Error fetching storage images for",l.make,l.model,":",c),l={...l,image_url:l.image_url||"/placeholder-car.jpg"}}return{...s,car:l||null}}))}async function ege(){const t=(()=>{try{const n=localStorage.getItem("carFavorites");return n?JSON.parse(n):[]}catch{return[]}})();if(t.length===0)return[];const r=[];for(const n of t)try{const i=await oL(n.toString());i&&r.push({car:i,lastRental:null,borrowCount:null})}catch(i){console.error(`Error fetching car ${n}:`,i)}return r}async function tge(e,t,r){const n=await j0();if(!n)return[];let i=qt.from("Rentals").select("*");if(t){const l=t.getFullYear(),c=t.getMonth(),u=zD(l,c,1),h=new Date(l,c+1,1),m=zD(h.getFullYear(),h.getMonth(),1);i=i.lt("start_date",m).gte("end_date",u)}e?i=i.eq("car_id",e):i=i.eq("user_id",n.id);const{data:s,error:o}=await i;return o?(console.error("Error fetching rentals calendar:",o),[]):Promise.all((s??[]).map(l=>rge(l,l.car_id)))}async function rge(e,t){const r=await oL(t);return e.car=r,e}function zD(e,t,r){const n=(t+1).toString().padStart(2,"0"),i=r.toString().padStart(2,"0");return`${e}-${n}-${i} 00:00:00`}function nge({favoriteCars:e}){const{ref:t,isInView:r}=Lh(),{t:n}=br(),[i,s]=_.useState(e||[]),[o,l]=_.useState(new Map),c=()=>{try{const v=localStorage.getItem("carFavorites");return v?JSON.parse(v):[]}catch{return[]}},u=(v,y)=>{const g=c();{const j=g.indexOf(v);j>-1&&g.splice(j,1)}localStorage.setItem("carFavorites",JSON.stringify(g))},h=(v,y)=>{window.confirm(`Eti sigur c vrei s scoi "${y}" din favorite?`)&&(u(v),s(j=>j.filter(k=>{var w;return((w=k.car)==null?void 0:w.id)!==v})),l(j=>{const k=new Map(j);return k.delete(v),k}))};_.useEffect(()=>{(async()=>{if(!(!e||e.length===0))try{const y=await Promise.all(e.map(async g=>{var j;if(!g.car)return g;try{let k=g.car.name;(!k||k.trim()==="")&&(k=`${g.car.make} ${g.car.model}`);const{mainImage:w,photoGallery:E}=await Tn(k);return{...g,car:{...g.car,image_url:w||g.car.image_url,photo_gallery:E.length>0?E:g.car.photo_gallery}}}catch(k){return console.error(`Error fetching images for car ${(j=g.car)==null?void 0:j.id}:`,k),g}}));s(y)}catch(y){console.error("Error fetching cars images:",y),s(e)}})()},[e]);const m=kn(),x=(v,y)=>{var k,w,E,O,z,Y,B,$,T,A,R,L,q,W,ee,M,V;const g=((k=v.car)==null?void 0:k.id)||y,j=o.get(g)||0;return a.jsxs("div",{className:"bg-gradient-to-br from-white/5 to-white/10 backdrop-blur-md rounded-3xl border border-white/20 overflow-hidden transition-all duration-300 group cursor-pointer hover:-translate-y-2 hover:shadow-2xl",children:[a.jsxs("div",{className:"relative overflow-hidden cursor-pointer",onClick:()=>{var U;return m(`/cars/${(U=v.car)==null?void 0:U.id}`)},onMouseMove:U=>{var I;if((I=v.car)!=null&&I.photo_gallery&&v.car.photo_gallery.length>1){const H=U.currentTarget,D=H.getBoundingClientRect(),G=U.clientX-D.left,Z=D.width,re=Math.min(v.car.photo_gallery.length,5),ce=Math.floor(G/Z*re),be=Math.max(0,Math.min(ce,re-1));l(ue=>new Map(ue.set(g,be)));const ae=H.querySelector(".photo-gallery");if(ae){const ue=-(be*100);ae.style.transform=`translateX(${ue}%)`}}},onMouseLeave:U=>{var I;if((I=v.car)!=null&&I.photo_gallery&&v.car.photo_gallery.length>1){l(D=>new Map(D.set(g,0)));const H=U.currentTarget.querySelector(".photo-gallery");H&&(H.style.transform="translateX(0%)")}},children:[a.jsx("div",{className:"flex transition-transform duration-300 ease-out group-hover:scale-105 photo-gallery",children:(w=v.car)!=null&&w.photo_gallery&&v.car.photo_gallery.length>1?(()=>{const I=v.car.photo_gallery.slice(0,5),D=v.car.photo_gallery.length-5;return I.map((G,Z)=>{var P,re;return a.jsxs("div",{className:"relative w-full h-56 flex-shrink-0",style:{minWidth:"100%"},children:[a.jsx("img",{src:G,alt:`${(P=v.car)==null?void 0:P.make} ${(re=v.car)==null?void 0:re.model} - Photo ${Z+1}`,className:"w-full h-56 object-cover object-center bg-black/10 rounded-t-3xl"}),(()=>{const ce=Z===I.length-1;return ce&&D>0?a.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center text-white",children:[a.jsx($f,{className:"w-8 h-8 mb-2"}),a.jsx("span",{className:"text-lg font-semibold",children:n("car.seeMorePhotos",{count:D})})]}):ce&&D===0?a.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center text-white",children:[a.jsx($f,{className:"w-8 h-8 mb-2"}),a.jsx("span",{className:"text-lg font-semibold",children:n("car.seeCar")})]}):null})()]},Z)})})():(E=v.car)!=null&&E.image_url?a.jsx("img",{src:v.car.image_url,alt:v.car.make+" "+v.car.model,className:"w-full h-56 object-cover object-center bg-black/10 rounded-t-3xl"}):a.jsxs("div",{className:"w-full h-56 bg-black/10 flex flex-col items-center justify-center text-gray-300 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"radial-gradient(circle at 2px 2px, black 1px, transparent 0)",backgroundSize:"16px 16px"}}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/10 flex items-center justify-center mb-3 shadow-sm border border-white/10",children:a.jsx($f,{className:"w-8 h-8 text-gray-300"})}),a.jsx("span",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Fr fotografii"})]})]})}),((O=v.car)==null?void 0:O.photo_gallery)&&v.car.photo_gallery.length>1&&a.jsx("div",{className:"absolute bottom-3 left-0 right-0 flex justify-center space-x-1 px-4",children:Array.from({length:Math.min(v.car.photo_gallery.length,5)}).map((U,I)=>a.jsx("div",{className:`flex-1 h-0.5 rounded-full transition-colors duration-200 ${I===j?"bg-white/90":"bg-white/30"}`},I))}),a.jsx("div",{className:"absolute top-3 right-3 z-10 w-8 h-8 bg-red-500 rounded-full flex items-center justify-center shadow-lg border border-white/20 cursor-pointer hover:bg-red-600 transition-colors duration-200",onClick:U=>{var I,H,D;U.stopPropagation(),h(((I=v.car)==null?void 0:I.id)||0,`${(H=v.car)==null?void 0:H.make} ${(D=v.car)==null?void 0:D.model}`)},title:"Scoate din favorite",children:a.jsx(Xx,{className:"text-white w-5 h-5"})})]}),a.jsxs("div",{className:"p-5 flex flex-col justify-between flex-1",onClick:()=>{var U;return m(`/cars/${(U=v.car)==null?void 0:U.id}`)},children:[a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-lg font-bold text-white group-hover:text-gray-300 transition-colors duration-300",children:[(z=v.car)==null?void 0:z.make," ",(Y=v.car)==null?void 0:Y.model]}),a.jsx("span",{className:"text-lg font-bold text-gray-300",children:(B=v.car)==null?void 0:B.year})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[a.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:a.jsx(sL,{className:"w-4 h-4 text-gray-300"})}),a.jsx("span",{className:"text-sm font-medium",children:n("car.mileageLimit")})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 text-gray-300",children:[a.jsx("span",{className:"text-sm font-medium",children:(()=>{var I,H;const U=((H=(I=v.car)==null?void 0:I.transmission)==null?void 0:H.trim())||"";return U.toLowerCase()==="automatic"||U==="Automatic"?"Automat":U.toLowerCase()==="manual"||U==="Manual"?"Manual":U||"Automat"})()}),a.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:p((($=v.car)==null?void 0:$.transmission)||"Automatic")})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[a.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:a.jsx(hN,{className:"w-4 h-4 text-gray-300"})}),a.jsx("span",{className:"text-sm font-medium",children:((T=v.car)==null?void 0:T.fuel_type)==="gasoline"?"Benzin":((A=v.car)==null?void 0:A.fuel_type)==="diesel"?"Diesel":((R=v.car)==null?void 0:R.fuel_type)==="petrol"?"Benzin":((L=v.car)==null?void 0:L.fuel_type)==="hybrid"?"Hibrid":((q=v.car)==null?void 0:q.fuel_type)==="electric"?"Electric":(W=v.car)==null?void 0:W.fuel_type})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 text-gray-300",children:[a.jsx("span",{className:"text-sm font-medium",children:((ee=v.car)==null?void 0:ee.drivetrain)||""}),a.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:a.jsx(fN,{className:"w-4 h-4 text-gray-300"})})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/20",children:[(()=>{var D,G;const U=v.car.pricePerDay||((D=v.car)==null?void 0:D.price_per_day)||0,I=v.car.discount_percentage||((G=v.car)==null?void 0:G.discount_percentage)||0,H=I>0?U*(1-I/100):U;return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-baseline gap-1",children:[a.jsxs("span",{className:"text-xl font-bold text-white",children:[H.toFixed(0)," MDL"]}),a.jsx("span",{className:"text-gray-400 text-sm",children:"/zi"})]}),I>0&&a.jsxs("span",{className:"text-sm text-red-300 line-through font-semibold decoration-red-400/60",children:[U," MDL"]})]})})(),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-sm font-semibold text-white h-6 flex items-center justify-center",children:(M=v.car)==null?void 0:M.rating}),a.jsx("img",{src:"/assets/star.png",alt:"Rating",className:"w-6 h-6 flex-shrink-0 ml-2 relative bottom-0.5"})]})]})]})]},((V=v.car)==null?void 0:V.id)||y)},p=v=>{switch(v.toLowerCase()){case"automatic":return vt.createElement(jh,{className:"w-5 h-5 text-gray-400"});case"manual":return vt.createElement(cy,{className:"w-5 h-5 text-gray-400"});case"hybrid":return a.jsx(xO,{className:"w-5 h-5 text-green-500"});default:return vt.createElement(jh,{className:"w-5 h-5 text-gray-400"})}};return!i||i.length===0?a.jsx("div",{className:"bg-gradient-to-br from-white/5 to-white/10 backdrop-blur-md rounded-2xl p-8 border border-white/20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-red-500/20 to-red-600/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-red-500/30",children:a.jsx(Xx,{className:"text-red-400",size:32})}),a.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:n("dashboard.overview.favoriteCars")}),a.jsx("p",{className:"text-gray-400 text-lg mb-6 max-w-md mx-auto",children:n("dashboard.overview.noFavoriteCars")}),a.jsxs("button",{onClick:()=>m("/cars"),className:"inline-flex items-center gap-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 px-6 py-3 rounded-xl transition-all duration-300 text-white font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[a.jsx("span",{children:n("dashboard.overview.startBorrowing")}),a.jsx(fs,{size:18})]})]})}):a.jsxs(Ie.div,{ref:t,variants:fr,initial:"initial",animate:r?"animate":"initial",transition:{delay:.1},children:[a.jsx("div",{className:"mb-4",children:a.jsx("h3",{className:"text-xl font-bold text-white",children:n("dashboard.overview.favoriteCars")})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((v,y)=>x(v,y))})]})}const age=({setActiveTab:e,t})=>{const[r,n]=_.useState(null),[i,s]=_.useState([]),[o,l]=_.useState(!0),[c,u]=_.useState(null),[h,m]=_.useState(!1),x=g=>{var O,z,Y;const j=new Date(g.start_date||new Date),k=new Date(g.end_date||new Date),w=Math.ceil((k.getTime()-j.getTime())/(1e3*60*60*24))||1,E=g.car?(((O=g.car)==null?void 0:O.pricePerDay)||g.car.price_per_day||0)*w:0;return{id:g.id,type:"request",customerName:g.customer_name||(g.customer_first_name&&g.customer_last_name?`${g.customer_first_name} ${g.customer_last_name}`:""),customerEmail:g.customer_email||g.user_id,customerPhone:g.customer_phone||"",customerFirstName:g.customer_first_name||"",customerLastName:g.customer_last_name||"",customerAge:g.customer_age||void 0,carName:g.car?`${g.car.make} ${g.car.model}`:"Unknown Car",avatar:((z=g.car)==null?void 0:z.image_url)||"",pickupDate:g.start_date?new Date(g.start_date).toISOString().split("T")[0]:"",pickupTime:g.start_time||"09:00",returnDate:g.end_date?new Date(g.end_date).toISOString().split("T")[0]:"",returnTime:g.end_time||"17:00",status:g.status,amount:E,total_amount:E.toString(),carId:g.car_id.toString(),userId:g.user_id,createdAt:g.created_at,features:((Y=g.car)==null?void 0:Y.features)||[],options:g.options||{}}};_.useEffect(()=>{async function g(){l(!0),await Promise.all([p(),v()]),l(!1)}g();const j=setInterval(()=>{p()},3e4),k=qt.channel("borrow-request-updates").on("postgres_changes",{event:"UPDATE",schema:"public",table:"BorrowRequest"},w=>{console.log("Borrow request updated:",w),p()}).subscribe();return()=>{clearInterval(j),qt.removeChannel(k)}},[]);async function p(){const g=await Q0e();n(g)}async function v(){const g=await ege();s(g)}const y=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return o?a.jsx(rb,{message:"Se ncarc panoul de control..."}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{children:a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:t("dashboard.overview.title")})}),a.jsx("div",{className:"mt-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",style:{pointerEvents:"auto"},children:[r&&r.filter(g=>g.status==="APPROVED"||g.status==="EXECUTED").length>0?r.filter(g=>g.status==="APPROVED"||g.status==="EXECUTED").map(g=>{var k,w,E,O;const j=z=>{switch(z){case"EXECUTED":return{text:"nceput",color:"bg-blue-500/90 text-blue-100 border-blue-400/50"};case"APPROVED":default:return{text:"Aprobat",color:"bg-emerald-500/90 text-emerald-100 border-emerald-400/50"}}};return a.jsxs("div",{className:"group relative rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-600/5 backdrop-blur-md border border-blue-500/30 hover:border-blue-400/50 transition-all duration-500 hover:scale-[1.02] hover:shadow-2xl pointer-events-auto",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03] rounded-xl",children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(59,130,246,0.3) 1px, transparent 0)",backgroundSize:"20px 20px"}})}),a.jsxs("div",{className:"relative h-40 overflow-hidden rounded-t-xl",children:[a.jsx("img",{src:((k=g.car)==null?void 0:k.image_url)||"/placeholder-car.jpg",alt:(w=g.car)==null?void 0:w.make,className:"w-full h-full object-cover rounded-t-xl transition-transform duration-700 group-hover:scale-110",loading:"lazy"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),a.jsxs("div",{className:"absolute bottom-3 left-3 right-3",children:[a.jsxs("h3",{className:"text-white font-bold text-base truncate mb-1",children:[(E=g.car)==null?void 0:E.make," ",(O=g.car)==null?void 0:O.model]}),a.jsxs("p",{className:"text-white/80 text-xs",children:[y(g.start_date)," - ",y(g.end_date)]})]}),a.jsx("div",{className:"absolute top-3 right-3",children:a.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium backdrop-blur-sm ${j(g.status).color}`,children:[a.jsx("div",{className:"w-2 h-2 bg-current rounded-full animate-pulse"}),a.jsx("span",{children:j(g.status).text})]})})]}),a.jsx("div",{className:"p-3 bg-transparent relative z-10",style:{position:"relative",zIndex:10,pointerEvents:"auto"},children:a.jsx("div",{style:{position:"relative",zIndex:20,pointerEvents:"auto"},children:a.jsxs("button",{onClick:()=>{u(g),m(!0)},className:"w-full inline-flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 px-4 py-2 rounded-lg transition-all duration-300 text-white text-sm font-semibold shadow-md hover:shadow-lg",style:{position:"relative",zIndex:30,pointerEvents:"auto",cursor:"pointer"},children:[a.jsx("span",{children:"Vezi detalii"}),a.jsx(fs,{size:14})]})})})]},g.id)}):a.jsx("div",{className:"group relative overflow-hidden rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-600/5 backdrop-blur-md border border-blue-500/30 hover:border-blue-400/50 transition-all duration-500 min-h-[140px] flex items-center justify-center",children:a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-3 border border-blue-500/30",children:a.jsx(Pi,{className:"text-blue-400",size:20})}),a.jsx("h4",{className:"text-white font-medium mb-2 text-base",children:"Nicio nchiriere activ"}),a.jsx("p",{className:"text-blue-100 text-xs mb-3 max-w-xs",children:"ncepe s explorezi ofertele noastre!"}),a.jsxs("button",{onClick:()=>e("cars"),className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 px-4 py-2 rounded-lg transition-all duration-300 text-white text-sm font-semibold shadow-md hover:shadow-lg",children:[a.jsx("span",{children:"nchiriaz acum"}),a.jsx(fs,{size:14})]})]})}),a.jsx("div",{className:"group relative overflow-hidden rounded-xl bg-gradient-to-br from-white/5 to-white/10 backdrop-blur-md border border-white/20 transition-all duration-500 min-h-[140px] flex items-center justify-center",children:a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500/20 to-orange-500/20 rounded-full flex items-center justify-center mx-auto mb-3 border border-red-500/30",children:a.jsx("span",{className:"text-xl",children:""})}),a.jsx("h4",{className:"text-white font-medium mb-2 text-base",children:"Ofert Special"}),a.jsx("p",{className:"text-gray-300 text-xs mb-3 max-w-xs",children:"Reduceri pn la 20% pentru nchirieri de weekend"}),a.jsxs("button",{onClick:()=>e("cars"),className:"inline-flex items-center gap-2 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 px-3 py-1.5 rounded-md transition-all duration-300 text-white text-xs font-medium",children:[a.jsx("span",{children:"Afl mai mult"}),a.jsx(fs,{size:12})]})]})})]})}),a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:"Request History"}),a.jsx("button",{onClick:()=>e("overview"),className:"text-gray-400 hover:text-gray-300 transition-colors duration-300 text-sm font-medium hover:underline",children:"Vezi toate"})]}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:r&&r.length>0?r.filter(g=>g.status==="EXECUTED").slice(0,6).map(g=>{var j,k,w,E;return a.jsxs("div",{className:"group relative rounded-xl bg-gradient-to-br from-white/5 to-white/10 backdrop-blur-md border border-white/20 hover:border-white/30 transition-all duration-500 hover:scale-[1.02] hover:shadow-2xl",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03]",children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(255,255,255,0.3) 1px, transparent 0)",backgroundSize:"20px 20px"}})}),a.jsxs("div",{className:"relative h-40 overflow-hidden rounded-t-xl",children:[a.jsx("img",{src:((j=g.car)==null?void 0:j.image_url)||"/placeholder-car.jpg",alt:(k=g.car)==null?void 0:k.make,className:"w-full h-full object-cover rounded-t-xl transition-transform duration-700 group-hover:scale-110",loading:"lazy"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),a.jsxs("div",{className:"absolute bottom-3 left-3 right-3",children:[a.jsxs("h3",{className:"text-white font-bold text-base truncate mb-1",children:[(w=g.car)==null?void 0:w.make," ",(E=g.car)==null?void 0:E.model]}),a.jsxs("p",{className:"text-white/80 text-xs",children:[y(g.start_date)," - ",y(g.end_date)]})]}),a.jsx("div",{className:"absolute top-3 right-3",children:a.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-500/90 text-white border border-gray-400/50 backdrop-blur-sm",children:[a.jsx(ro,{className:"w-3 h-3"}),a.jsx("span",{children:"Finalizat"})]})})]}),a.jsx("div",{className:"p-3 relative z-10",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>e("cars"),className:"w-4/5 inline-flex items-center justify-center gap-2 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 px-3 py-2 rounded-lg transition-all duration-300 text-white text-sm font-semibold shadow-md hover:shadow-lg relative z-20",title:"nchiriaz aceast main din nou",style:{pointerEvents:"auto",cursor:"pointer"},children:[a.jsx(fs,{size:14}),a.jsx("span",{children:"nchiriaz din nou"})]}),a.jsx("button",{onClick:()=>{u(g),m(!0)},className:"w-1/5 inline-flex items-center justify-center gap-2 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 px-3 py-2 rounded-lg transition-all duration-300 text-white text-sm font-semibold shadow-md hover:shadow-lg relative z-20",title:"Vezi detalii nchiriere",style:{pointerEvents:"auto",cursor:"pointer"},children:a.jsx(gO,{size:16})})]})})]},g.id)}):a.jsxs("div",{className:"col-span-full text-center py-12",children:[a.jsx("div",{className:"w-20 h-20 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-white/20",children:a.jsx(ta,{className:"text-gray-400",size:32})}),a.jsx("h4",{className:"text-gray-300 font-medium mb-3 text-lg",children:"Nu ai cereri finalizate nc"}),a.jsx("p",{className:"text-gray-400 text-sm mb-6 max-w-md mx-auto",children:"Cererile tale finalizate vor aprea aici"}),a.jsxs("button",{onClick:()=>e("cars"),className:"inline-flex items-center gap-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 px-6 py-3 rounded-xl transition-all duration-300 text-white font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[a.jsx("span",{children:"Exploreaz maini"}),a.jsx(fs,{size:18})]})]})}),a.jsx("div",{className:"mt-8",children:a.jsx(nge,{favoriteCars:i})}),a.jsx(Zy,{isOpen:h,onClose:()=>{m(!1),u(null)},order:c?x(c):null,showOrderNumber:!1})]})},ige=({setShowFilters:e,filters:t,setFilters:r,setCar:n})=>{const[i,s]=_.useState(null),[o,l]=_.useState(1),c=5,[u,h]=_.useState(0),m=Math.ceil(u/c),[x,p]=_.useState(t.searchQuery||""),[v,y]=_.useState(!1);_.useEffect(()=>{const w=setTimeout(()=>{p(t.searchQuery||""),l(1)},500);return()=>clearTimeout(w)},[t.searchQuery]),_.useEffect(()=>{async function w(){y(!0);const{cars:E,total:O}=await lL(o,c,x);s(E),h(O),y(!1)}w()},[o,x]);const g=(w,E)=>{console.log("the new filters is: ",w," ; value = ",E),r({...t,[w]:E}),w==="carId"&&e(!1)},j=w=>{w<1||w>m||l(w)};function k(){g("searchQuery","")}return a.jsxs(mr,{children:[a.jsx(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/60 z-[9998]",onClick:()=>e(!1)}),a.jsx(Ie.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 right-0 bottom-0 w-96 max-w-[90vw] bg-white/10 backdrop-blur-xl border-l border-white/20 shadow-2xl z-[9999] overflow-y-auto",onClick:w=>w.stopPropagation(),children:a.jsxs("div",{className:"p-6 flex flex-col gap-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-white",children:"Filters"}),a.jsx("button",{onClick:()=>e(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:""})]}),a.jsxs("div",{className:"relative",children:[a.jsx(ic,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search cars...",value:t.searchQuery||"",onChange:w=>g("searchQuery",w.target.value),className:"w-full pl-12 pr-10 py-3 bg-white/10 border border-white/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/50 text-white text-sm placeholder-gray-400"}),t.searchQuery&&a.jsx("button",{onClick:k,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors text-sm",children:""})]}),a.jsx("div",{className:"flex flex-col gap-3 min-h-[200px]",children:v?a.jsx(rb,{message:"Se ncarc mainile..."}):i&&i.length>0?i.map((w,E)=>a.jsxs("div",{onClick:()=>{var O;g("carId",((O=w.id)==null?void 0:O.toString())||""),n(w)},className:`flex items-center gap-4 px-4 py-3 rounded-xl border border-white/20 cursor-pointer hover:bg-white/10 transition-colors ${t.carId===w.id.toString()?"bg-red-500/20":""}`,children:[a.jsx("div",{className:"w-16 h-10 flex-shrink-0 rounded-md overflow-hidden bg-gray-700/30 flex items-center justify-center",children:w.image_url?a.jsx("img",{src:w.image_url,alt:w.make,className:"object-cover w-full h-full"}):a.jsx("span",{className:"text-white/50 text-xs",children:"No Image"})}),a.jsxs("div",{className:"flex flex-col flex-1",children:[a.jsxs("span",{className:"text-white font-medium text-sm",children:[w.make," ",w.model]}),a.jsx("span",{className:"text-gray-300 text-xs",children:w.year||"Unknown Year"})]})]},w.id?`car-${w.id}`:`car-fallback-${E}`)):a.jsx(e_,{icon:a.jsx(Pi,{className:"w-8 h-8 text-gray-400"}),title:"No cars found",subtitle:"Try adjusting your filters",buttonText:"Clear Filters",onButtonClick:k})}),m>1&&!v&&a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsxs("button",{onClick:()=>j(o-1),disabled:o===1,className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-white/20 bg-white/10 text-white disabled:opacity-50 hover:bg-white/20 transition-all text-sm",children:[a.jsx(Oh,{className:"w-4 h-4"})," Previous"]}),a.jsxs("span",{className:"text-sm text-gray-300",children:["Page ",o," of ",m]}),a.jsxs("button",{onClick:()=>j(o+1),disabled:o===m,className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-white/20 bg-white/10 text-white disabled:opacity-50 hover:bg-white/20 transition-all text-sm",children:["Next ",a.jsx(fs,{className:"w-4 h-4"})]})]})]})},"calendar-sidebar")]})},sge=({orders:e,month:t,setMonth:r,t:n,car:i,onCarChange:s})=>{const[o,l]=_.useState(null),[c,u]=_.useState(null),[h,m]=_.useState(!1),x=()=>r(B=>K3(B,1)),p=()=>r(B=>h7(B)),v=B=>{l(B)},y=B=>B.id,g=B=>{switch(B){case"pending":return{text:"Pending",className:"bg-yellow-500/30 text-yellow-300"};case"active":return{text:"Active",className:"bg-green-500/30 text-green-300"};case"completed":return{text:"Completed",className:"bg-blue-500/30 text-blue-300"};case"canceled":return{text:"Canceled",className:"bg-red-500/30 text-red-300"};default:return{text:B,className:"bg-gray-500/30 text-gray-300"}}},j=B=>{const $=Ohe(B),T=The(B),A=om($,{weekStartsOn:1}),R=Ihe(T,{weekStartsOn:1}),L=[];let q=A;for(;q<=R;)L.push(ao(q,"yyyy-MM-dd")),q=_he(q,1);return L},k=_.useMemo(()=>{const B=new Set,$=new Set;return e.forEach(T=>{T.start_date&&B.add(ao(new Date(T.start_date),"yyyy-MM-dd")),T.end_date&&$.add(ao(new Date(T.end_date),"yyyy-MM-dd"))}),{pickups:B,returns:$}},[e]),w=_.useMemo(()=>{if(!o)return new Set;const B=new Set;return e.forEach($=>{const T=$.start_date?ao(new Date($.start_date),"yyyy-MM-dd"):null,A=$.end_date?ao(new Date($.end_date),"yyyy-MM-dd"):null;(T===o||A===o)&&(T&&B.add(T),A&&B.add(A))}),B},[o,e]),E=o?new Date(o):new Date,O=_.useMemo(()=>o?e.filter(B=>B.start_date&&ao(new Date(B.start_date),"yyyy-MM-dd")===o).sort((B,$)=>new Date(B.start_date).getTime()-new Date($.start_date).getTime()):[],[o,e]),z=_.useMemo(()=>o?e.filter(B=>B.end_date&&ao(new Date(B.end_date),"yyyy-MM-dd")===o).sort((B,$)=>new Date(B.end_date).getTime()-new Date($.end_date).getTime()):[],[o,e]),Y=(B,$)=>{if(!B||!B.car)return null;const T=`${B.car.make} ${B.car.model}`,A=$?"text-yellow-400":"text-blue-400",R=g(B.rental_status);return a.jsx(Ie.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.2},onClick:()=>{u(B),m(!0)},className:"p-5 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all cursor-pointer group",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center group-hover:bg-white/20 transition-colors",children:a.jsx(sc,{className:"w-5 h-5 text-white"})}),a.jsx("div",{children:a.jsxs("div",{className:"text-gray-400 text-xs",children:[n("admin.calendar.rental")," #",y(B).toString().padStart(4,"0")]})})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${R.className} flex-shrink-0`,children:R.text})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex items-center justify-between",children:[a.jsx("span",{className:"text-white/90 text-sm truncate",children:T}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ra,{className:`w-4 h-4 ${A}/70 flex-shrink-0`}),a.jsx("span",{className:`${A} text-lg font-bold tracking-tight`,children:$?B.start_time:B.end_time})]})]})]})},B.id)};return a.jsxs("div",{className:"grid grid-cols-[380px,1fr] gap-8",children:[a.jsx("div",{children:a.jsxs(Ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white/5 backdrop-blur-xl border border-white/20 rounded-2xl shadow-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("button",{onClick:p,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:""}),a.jsx("div",{className:"text-sm font-medium text-white",children:t.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),a.jsx("button",{onClick:x,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:""})]}),a.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Lu","Ma","Mi","Jo","Vi","S","Du"].map((B,$)=>a.jsx("div",{className:`text-gray-400 font-medium ${$>=5?"text-red-400":""}`,children:B},B))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:j(t).map((B,$)=>{const T=new Date(B),A=k.pickups.has(B),R=k.returns.has(B),L=A||R,q=G3(T,t),W=new Date;W.setHours(0,0,0,0);const ee=Ehe(T,W),M=T<W,V=o===B,U=w.has(B);let I="";return ee&&V?I="bg-red-500 text-white ring-1 ring-white/60 font-semibold":ee?I="bg-red-500 text-white":V||U?I=L?"bg-blue-500/20 text-white ring-1 font-semibold":"bg-white/5 ring-1 text-white font-semibold":L?I=M?"bg-gray-500/40 text-white":"bg-yellow-500/20 text-white":I="hover:bg-white/10",a.jsxs("div",{className:`w-9 h-9 flex items-center justify-center text-xs rounded-xl transition-colors relative cursor-pointer ${q?"text-white":"text-gray-500"} ${I}`,onClick:()=>v(B),children:[T.getDate(),L&&a.jsx("div",{className:`absolute top-0 right-0 w-2 h-2 rounded-full ${ee?"bg-yellow-500":M?"bg-gray-500":"bg-red-500"}`})]},$)})})]})}),a.jsxs("div",{className:"flex flex-col gap-6",children:[i&&a.jsxs("div",{className:"relative bg-white/5 border border-white/10 rounded-xl p-4 text-gray-300",children:[a.jsx("button",{onClick:()=>s(null),"aria-label":"Close",className:"absolute top-3 right-3 w-8 h-8 flex items-center justify-center bg-red-600 text-white rounded-full hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-1 shadow-lg transition-transform duration-200 transform hover:scale-110",children:a.jsx("span",{className:"text-lg font-bold select-none",children:"x"})}),a.jsxs("div",{className:"flex items-start justify-between gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Calendar for selected car"}),a.jsxs("p",{className:"text-m",children:[a.jsx("span",{className:"font-semibold text-white",children:"Make:"})," ",i.make]}),a.jsxs("p",{className:"text-m",children:[a.jsx("span",{className:"font-semibold text-white",children:"Model:"})," ",i.model]}),a.jsxs("p",{className:"text-m",children:[a.jsx("span",{className:"font-semibold text-white",children:"Year:"})," ",i.year]})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:i.image_url||"",alt:"Car",className:"w-32 h-32 rounded-lg object-cover bg-black/10"})})]})]}),a.jsx("div",{children:a.jsxs(Ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-xl font-bold text-white",children:[(()=>{const B=E.toLocaleDateString("ro-RO",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return B.charAt(0).toUpperCase()+B.slice(1)})(),!o&&a.jsxs("span",{className:"ml-2 text-sm text-gray-400",children:["(",n("admin.calendar.today"),")"]})]}),o&&a.jsx("button",{onClick:()=>l(null),className:"text-gray-400 hover:text-white transition-colors p-1",children:""})]}),O.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("h4",{className:"text-base font-semibold text-yellow-300 mb-4 uppercase tracking-wide",children:[n("admin.calendar.pickups")," (",O.length,")"]}),a.jsx("div",{className:"space-y-4",children:O.map(B=>Y(B,!0))})]}),z.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("h4",{className:"text-base font-semibold text-blue-300 mb-4 uppercase tracking-wide",children:[n("admin.calendar.returns")," (",z.length,")"]}),a.jsx("div",{className:"space-y-4",children:z.map(B=>Y(B,!1))})]}),O.length===0&&z.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-400 font-semibold text-m",children:"No deals for this day"})]})})]})]})},oge=()=>{const{t:e}=br(),[t,r]=_.useState(!1),[n,i]=_.useState({carId:"",searchQuery:""}),[s,o]=_.useState(null),[l,c]=_.useState(new Date),[u,h]=_.useState([]),[m,x]=_.useState(!0);_.useEffect(()=>{async function y(){x(!0),await Promise.all([p()]),x(!1)}y()},[n,l]);async function p(){var g;const y=await tge((g=n.carId)==null?void 0:g.toString(),l);h(y)}function v(y){o(y),i(g=>({...g,carId:(y==null?void 0:y.id)||""}))}return m&&!t?a.jsx(rb,{message:"Se ncarc calendarul mainilor..."}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl sm:text-5xl font-bold text-white mb-6 mt-4",children:"Car Calendar"}),a.jsxs("button",{onClick:()=>r(!t),className:"flex items-center gap-1.5 px-2.5 py-1.5 text-s font-medium rounded-lg border bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white transition-all flex-shrink-0",children:[a.jsx(Up,{className:"w-4 h-4"}),a.jsx("span",{children:e(t?"admin.calendar.hideFilters":"admin.calendar.showFilters")})]})]}),t&&Na.createPortal(a.jsx(ige,{setShowFilters:r,filters:n,setFilters:i,setCar:o}),document.body),u&&a.jsx(sge,{orders:u,month:l,setMonth:c,t:e,car:s,onCarChange:y=>v(y)})]})},lge=()=>{const{t:e}=br(),{user:t,signOut:r,loading:n}=uc(),i=kn(),[s,o]=du(),l=s.get("tab"),[c,u]=_.useState(l||"overview"),h=vt.useRef(!0);_.useEffect(()=>{const O=window.location.search;if(O.includes("~and~")||O.includes("~")||O.includes("&/")||O.includes("/&")||(O.match(/&/g)||[]).length>10){i("/dashboard",{replace:!0});return}},[]);const[m,x]=_.useState(!1),[p,v]=_.useState(!1),[y,g]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[j,k]=_.useState({bookingUpdates:!0,promotions:!1,newsletter:!0}),w=async()=>{await r(),i("/")},E=O=>{k(z=>({...z,[O]:!z[O]}))};return _.useEffect(()=>{!h.current&&c&&o({tab:c},{replace:!0}),h.current=!1},[c,o]),_.useEffect(()=>{l&&l!==c&&u(l)},[l]),_.useEffect(()=>{if(!n&&!t){const O=setTimeout(()=>{i("/auth/login",{replace:!0})},100);return()=>clearTimeout(O)}},[t,i,n]),a.jsxs("div",{className:"min-h-screen bg-black/10 text-white",children:[a.jsx(mr,{children:p&&a.jsxs(Ie.div,{className:"fixed inset-0 z-50 flex items-center justify-center",initial:{opacity:1},exit:{opacity:0},transition:{duration:.5,ease:"easeOut"},children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-fixed",style:{backgroundImage:"url('/lvl_bg.png')"}}),a.jsx("div",{className:"absolute inset-0 bg-black/70"}),a.jsxs(Ie.div,{className:"relative z-10 text-center",initial:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5,ease:"easeOut"},children:[a.jsxs("div",{className:"relative w-16 h-16 mx-auto mb-8",children:[a.jsx("div",{className:"absolute inset-0 border-4 border-white/10 rounded-full"}),a.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-red-600 border-r-red-600/50 rounded-full animate-spin"})]}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:e("dashboard.loading.text")}),a.jsx("p",{className:"text-gray-300 text-sm",children:e("dashboard.loading.preparing")})]})]})}),!p&&a.jsxs("section",{className:"relative min-h-screen",children:[a.jsx("div",{className:"fixed inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/lvl_bg.png')",backgroundAttachment:"fixed",zIndex:0}}),a.jsx("div",{className:"fixed inset-0 bg-black/80",style:{zIndex:1}}),a.jsx("div",{className:"relative",style:{zIndex:1},children:a.jsx(rL,{forceRender:!0})}),a.jsx("div",{className:"relative container mx-auto px-4 max-w-7xl pt-12 pb-12",style:{zIndex:1},children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-8",children:[a.jsx(Ie.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},className:"lg:col-span-3 lg:flex lg:justify-end",children:a.jsx(H0e,{activeTab:c,setActiveTab:u,onLogout:w})}),a.jsxs("div",{className:"lg:col-span-9",children:[c==="overview"&&a.jsx(age,{setActiveTab:u,t:e}),(c==="profile"||c==="settings")&&a.jsx(Z0e,{t:e,activeTab:c,passwordForm:y,setPasswordForm:g,notificationSettings:j,handleNotificationToggle:E}),c==="cars"&&a.jsx("div",{className:"space-y-6",children:a.jsx(Y0e,{})}),c==="calendar"&&a.jsx("div",{className:"space-y-6",children:a.jsx(oge,{})})]})]})})]})]})},cge=({children:e})=>{const{isAuthenticated:t,loading:r}=uc();return r&&!t?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(Mf,{to:"/auth/login",replace:!0})},FD=({children:e})=>{const{user:t,isAdmin:r,roleLoaded:n,loading:i}=uc(),{i18n:s}=br(),[o,l]=_.useState(!1);return _.useEffect(()=>{s.language!=="ro"&&(l(!0),s.changeLanguage("ro").then(()=>{localStorage.setItem("selectedLanguage","ro"),l(!1)}))},[s]),i?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Checking authentication..."})]})}):t?!n||o?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:o?"Changing language...":"Loading admin access..."})]})}):r?s.language!=="ro"?a.jsx(Mf,{to:"/not-found",replace:!0}):a.jsx(a.Fragment,{children:e}):a.jsx(Mf,{to:"/not-found",replace:!0}):a.jsx(Mf,{to:"/not-found",replace:!0})},uge=()=>{const[e,t]=_.useState(""),{t:r}=br(),[n,i]=_.useState(!1),[s,o]=_.useState(null),[l,c]=_.useState(null),u=async h=>{h.preventDefault();try{const{success:m,error:x}=await CL(e);if(x){c("There was an error updating your password."),o(null),i(!0),console.error(x);return}m&&(o("Password updated successfully!"),c(null),i(!0))}catch(m){c("An unexpected error occurred."),o(null),i(!0),console.error(m)}};return a.jsxs("section",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 md:px-10 lg:px-16 py-8 sm:py-10 md:py-12 relative",children:[a.jsx("div",{className:"absolute inset-0 md:hidden",style:{backgroundImage:"url('/bg-hero.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),a.jsx("div",{className:"hidden md:block absolute inset-0",style:{backgroundImage:"url('/bg-hero.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),a.jsx("div",{className:"hidden md:block absolute inset-0",style:{background:"radial-gradient(ellipse at center, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.85))"}}),a.jsx("div",{className:"absolute inset-0 md:hidden",style:{background:"radial-gradient(ellipse at center, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.85))"}}),a.jsxs(Ie.div,{variants:fr,initial:"initial",animate:"animate",className:"w-full max-w-6xl bg-white rounded-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2 relative z-10",style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 0.1)"},children:[a.jsxs("div",{className:"relative hidden md:block bg-cover bg-center min-h-[400px] md:min-h-[600px]",style:{backgroundImage:"url('/backgrounds/bg5-desktop.jpeg')",minHeight:"560px"},children:[a.jsx("div",{className:"absolute inset-0 bg-black/70"}),a.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(315deg, rgba(220, 38, 38, 0.3), rgba(0, 0, 0, 0.4))"}}),a.jsxs("div",{className:"relative z-10 h-full flex flex-col items-start justify-center p-10 text-white",children:[a.jsx("h3",{className:"text-sm font-semibold tracking-wider text-red-600 uppercase",children:r("auth.forgot.left-part.smallLabel")}),a.jsx("h2",{className:"mt-4 text-3xl md:text-4xl font-bold leading-tight drop-shadow",children:r("auth.forgot.left-part.label")}),a.jsx("p",{className:"mt-4 text-gray-200 max-w-sm",children:r("auth.forgot.left-part.description")})]})]}),a.jsx("div",{className:"p-6 md:p-16 flex items-center justify-center min-h-[400px] md:min-h-[600px]",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-600",children:"Resetare parola"}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Introdu noua parola"})]}),n?a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto ${s?"bg-green-100":"bg-red-100"}`,children:a.jsx("svg",{className:`w-8 h-8 ${s?"text-green-600":"text-red-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s?a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}):a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s&&a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s}),a.jsx("p",{className:"text-sm text-gray-600",children:r("auth.forgot.success.description")})]}),l&&a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-semibold text-red-600",children:l}),a.jsx("p",{className:"text-sm text-gray-600",children:"Please try again or contact support."})]})]}):a.jsxs("form",{onSubmit:u,className:"space-y-5",children:[a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"text-xs font-medium text-gray-700",children:r("auth.login.right-part.password")}),a.jsxs("div",{className:"mt-2 relative",children:[a.jsx(sy,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"password",value:e,onChange:h=>t(h.target.value),required:!0,disabled:n,className:"pl-10 pr-3 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400 transition disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Introdu noua parola"})]})]}),a.jsx("button",{type:"submit",className:"w-full py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-shadow shadow-sm hover:shadow-md",children:"Reseteaza parola"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(Bo,{to:"/auth/login",className:"inline-flex items-center gap-2 text-sm text-red-600 hover:text-red-700 transition-colors",children:[a.jsx(Oh,{className:"w-4 h-4"}),r("auth.forgot.right-part.back-to-login")]})})]})})]})]})},dge=()=>a.jsxs(a.Fragment,{children:[a.jsx(eX,{}),a.jsxs(Bz,{children:[a.jsx(xa,{path:"/",element:a.jsx(zY,{})}),a.jsx(xa,{path:"/cars",element:a.jsx(OG,{})}),a.jsx(xa,{path:"/cars/:carId",element:a.jsx(bY,{})}),a.jsx(xa,{path:"/reviews",element:a.jsx(jY,{})}),a.jsx(xa,{path:"/about",element:a.jsx(NG,{})}),a.jsx(xa,{path:"/how-to-rent",element:a.jsx($Y,{})}),a.jsx(xa,{path:"/contact",element:a.jsx(_Y,{})}),a.jsx(xa,{path:"/booking",element:a.jsx(_G,{})}),a.jsx(xa,{path:"/calculator",element:a.jsx(QY,{})}),a.jsx(xa,{path:"/terms",element:a.jsx(BY,{})}),a.jsx(xa,{path:"/help",element:a.jsx(HY,{})}),a.jsx(xa,{path:"/not-found",element:a.jsx(b4,{})}),a.jsx(xa,{path:"/auth/login",element:a.jsx(VY,{})}),a.jsx(xa,{path:"/auth/signup",element:a.jsx(JY,{})}),a.jsx(xa,{path:"/auth/forgot",element:a.jsx(ZY,{})}),a.jsx(xa,{path:"/update-password",element:a.jsx(uge,{})}),a.jsx(xa,{path:"/dashboard",element:a.jsx(cge,{children:a.jsx(lge,{})})}),a.jsx(xa,{path:"/admin",element:a.jsx(FD,{children:a.jsx(MD,{})})}),a.jsx(xa,{path:"/admin/",element:a.jsx(FD,{children:a.jsx(MD,{})})}),a.jsx(xa,{path:"*",element:a.jsx(b4,{})})]})]});function hge(){const[e,t]=_.useState(!0),[r,n]=_.useState(!1);_.useEffect(()=>{const s=window.console.error;window.console.error=(...l)=>{l[0]&&typeof l[0]=="string"&&l[0].includes("MutationObserver")||s.apply(console,l)};const o=setTimeout(()=>{n(!0)},1e4);return()=>{clearTimeout(o),window.console.error=s}},[]);const i=()=>{n(!0),setTimeout(()=>{t(!1)},300)};return a.jsx(a.Fragment,{children:a.jsxs(PG,{children:[e&&a.jsx(nL,{isTransitioning:r,onLoadingComplete:i}),a.jsx(dF,{children:a.jsx(jG,{children:a.jsx(dge,{})})})]})})}const Pr=e=>typeof e=="string",pp=()=>{let e,t;const r=new Promise((n,i)=>{e=n,t=i});return r.resolve=e,r.reject=t,r},$D=e=>e==null?"":""+e,fge=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},mge=/###/g,BD=e=>e&&e.indexOf("###")>-1?e.replace(mge,"."):e,UD=e=>!e||Pr(e),Tp=(e,t,r)=>{const n=Pr(t)?t.split("."):t;let i=0;for(;i<n.length-1;){if(UD(e))return{};const s=BD(n[i]);!e[s]&&r&&(e[s]=new r),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++i}return UD(e)?{}:{obj:e,k:BD(n[i])}},qD=(e,t,r)=>{const{obj:n,k:i}=Tp(e,t,Object);if(n!==void 0||t.length===1){n[i]=r;return}let s=t[t.length-1],o=t.slice(0,t.length-1),l=Tp(e,o,Object);for(;l.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),l=Tp(e,o,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=r},pge=(e,t,r,n)=>{const{obj:i,k:s}=Tp(e,t,Object);i[s]=i[s]||[],i[s].push(r)},Wv=(e,t)=>{const{obj:r,k:n}=Tp(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},gge=(e,t,r)=>{const n=Wv(e,r);return n!==void 0?n:Wv(t,r)},i9=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?Pr(e[n])||e[n]instanceof String||Pr(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):i9(e[n],t[n],r):e[n]=t[n]);return e},jf=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var xge={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const vge=e=>Pr(e)?e.replace(/[&<>"'\/]/g,t=>xge[t]):e;class yge{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const bge=[" ",",","?","!",";"],wge=new yge(20),jge=(e,t,r)=>{t=t||"",r=r||"";const n=bge.filter(o=>t.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const i=wge.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(e);if(!s){const o=e.indexOf(r);o>0&&!i.test(e.substring(0,o))&&(s=!0)}return s},Nj=(e,t,r=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const n=t.split(r);let i=e;for(let s=0;s<n.length;){if(!i||typeof i!="object")return;let o,l="";for(let c=s;c<n.length;++c)if(c!==s&&(l+=r),l+=n[c],o=i[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;s+=c-s+1;break}i=o}return i},u0=e=>e==null?void 0:e.replace("_","-"),Nge={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var r,n;(n=(r=console==null?void 0:console[e])==null?void 0:r.apply)==null||n.call(r,console,t)}};class Kv{constructor(t,r={}){this.init(t,r)}init(t,r={}){this.prefix=r.prefix||"i18next:",this.logger=t||Nge,this.options=r,this.debug=r.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,i){return i&&!this.debug?null:(Pr(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new Kv(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Kv(this.logger,t)}}var tc=new Kv;class nb{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t,...r){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i.apply(i,[t,...r])})}}class HD extends nb{constructor(t,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n,i={}){var u,h;const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,r],n&&(Array.isArray(n)?l.push(...n):Pr(n)&&s?l.push(...n.split(s)):l.push(n)));const c=Wv(this.data,l);return!c&&!r&&!n&&t.indexOf(".")>-1&&(t=l[0],r=l[1],n=l.slice(2).join(".")),c||!o||!Pr(n)?c:Nj((h=(u=this.data)==null?void 0:u[t])==null?void 0:h[r],n,s)}addResource(t,r,n,i,s={silent:!1}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[t,r];n&&(l=l.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(l=t.split("."),i=r,r=l[1]),this.addNamespaces(r),qD(this.data,l,i),s.silent||this.emit("added",t,r,n,i)}addResources(t,r,n,i={silent:!1}){for(const s in n)(Pr(n[s])||Array.isArray(n[s]))&&this.addResource(t,r,s,n[s],{silent:!0});i.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,i,s,o={silent:!1,skipCopy:!1}){let l=[t,r];t.indexOf(".")>-1&&(l=t.split("."),i=n,n=r,r=l[1]),this.addNamespaces(r);let c=Wv(this.data,l)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?i9(c,n,s):c={...c,...n},qD(this.data,l,c),o.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var s9={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,i){return e.forEach(s=>{var o;t=((o=this.processors[s])==null?void 0:o.process(t,r,n,i))??t}),t}};const o9=Symbol("i18next/PATH_KEY");function _ge(){const e=[],t=Object.create(null);let r;return t.get=(n,i)=>{var s;return(s=r==null?void 0:r.revoke)==null||s.call(r),i===o9?e:(e.push(i),r=Proxy.revocable(n,t),r.proxy)},Proxy.revocable(Object.create(null),t).proxy}function _j(e,t){const{[o9]:r}=e(_ge());return r.join((t==null?void 0:t.keySeparator)??".")}const VD={},P2=e=>!Pr(e)&&typeof e!="boolean"&&typeof e!="number";class Gv extends nb{constructor(t,r={}){super(),fge(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=tc.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,r={interpolation:{}}){const n={...r};if(t==null)return!1;const i=this.resolve(t,n);if((i==null?void 0:i.res)===void 0)return!1;const s=P2(i.res);return!(n.returnObjects===!1&&s)}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const o=n&&t.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!jge(t,n,i);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:Pr(s)?[s]:s};const u=t.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),t=u.join(i)}return{key:t,namespaces:Pr(s)?[s]:s}}translate(t,r,n){let i=typeof r=="object"?{...r}:r;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),t==null)return"";typeof t=="function"&&(t=_j(t,{...this.options,...i})),Array.isArray(t)||(t=[String(t)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],i),u=c[c.length-1];let h=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const m=i.lng||this.language,x=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((m==null?void 0:m.toLowerCase())==="cimode")return x?s?{res:`${u}${h}${l}`,usedKey:l,exactUsedKey:l,usedLng:m,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:`${u}${h}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:m,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:l;const p=this.resolve(t,i);let v=p==null?void 0:p.res;const y=(p==null?void 0:p.usedKey)||l,g=(p==null?void 0:p.exactUsedKey)||l,j=["[object Number]","[object Function]","[object RegExp]"],k=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,E=i.count!==void 0&&!Pr(i.count),O=Gv.hasDefaultValue(i),z=E?this.pluralResolver.getSuffix(m,i.count,i):"",Y=i.ordinal&&E?this.pluralResolver.getSuffix(m,i.count,{ordinal:!1}):"",B=E&&!i.ordinal&&i.count===0,$=B&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${z}`]||i[`defaultValue${Y}`]||i.defaultValue;let T=v;w&&!v&&O&&(T=$);const A=P2(T),R=Object.prototype.toString.apply(T);if(w&&T&&A&&j.indexOf(R)<0&&!(Pr(k)&&Array.isArray(T))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const L=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,T,{...i,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(p.res=L,p.usedParams=this.getUsedParamsDetails(i),p):L}if(o){const L=Array.isArray(T),q=L?[]:{},W=L?g:y;for(const ee in T)if(Object.prototype.hasOwnProperty.call(T,ee)){const M=`${W}${o}${ee}`;O&&!v?q[ee]=this.translate(M,{...i,defaultValue:P2($)?$[ee]:void 0,joinArrays:!1,ns:c}):q[ee]=this.translate(M,{...i,joinArrays:!1,ns:c}),q[ee]===M&&(q[ee]=T[ee])}v=q}}else if(w&&Pr(k)&&Array.isArray(v))v=v.join(k),v&&(v=this.extendTranslation(v,t,i,n));else{let L=!1,q=!1;!this.isValidLookup(v)&&O&&(L=!0,v=$),this.isValidLookup(v)||(q=!0,v=l);const ee=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&q?void 0:v,M=O&&$!==v&&this.options.updateMissing;if(q||L||M){if(this.logger.log(M?"updateKey":"missingKey",m,u,l,M?$:v),o){const H=this.resolve(l,{...i,keySeparator:!1});H&&H.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let V=[];const U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&U&&U[0])for(let H=0;H<U.length;H++)V.push(U[H]);else this.options.saveMissingTo==="all"?V=this.languageUtils.toResolveHierarchy(i.lng||this.language):V.push(i.lng||this.language);const I=(H,D,G)=>{var P;const Z=O&&G!==v?G:ee;this.options.missingKeyHandler?this.options.missingKeyHandler(H,u,D,Z,M,i):(P=this.backendConnector)!=null&&P.saveMissing&&this.backendConnector.saveMissing(H,u,D,Z,M,i),this.emit("missingKey",H,u,D,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?V.forEach(H=>{const D=this.pluralResolver.getSuffixes(H,i);B&&i[`defaultValue${this.options.pluralSeparator}zero`]&&D.indexOf(`${this.options.pluralSeparator}zero`)<0&&D.push(`${this.options.pluralSeparator}zero`),D.forEach(G=>{I([H],l+G,i[`defaultValue${G}`]||$)})}):I(V,l,$))}v=this.extendTranslation(v,t,i,p,n),q&&v===l&&this.options.appendNamespaceToMissingKey&&(v=`${u}${h}${l}`),(q||L)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${h}${l}`:l,L?v:void 0,i))}return s?(p.res=v,p.usedParams=this.getUsedParamsDetails(i),p):v}extendTranslation(t,r,n,i,s){var c,u;if((c=this.i18nFormat)!=null&&c.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const h=Pr(t)&&(((u=n==null?void 0:n.interpolation)==null?void 0:u.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(h){const p=t.match(this.interpolator.nestingRegexp);m=p&&p.length}let x=n.replace&&!Pr(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(x={...this.options.interpolation.defaultVariables,...x}),t=this.interpolator.interpolate(t,x,n.lng||this.language||i.usedLng,n),h){const p=t.match(this.interpolator.nestingRegexp),v=p&&p.length;m<v&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,(...p)=>(s==null?void 0:s[0])===p[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${r[0]}`),null):this.translate(...p,r),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=Pr(o)?[o]:o;return t!=null&&(l!=null&&l.length)&&n.applyPostProcessor!==!1&&(t=s9.handle(l,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t,r={}){let n,i,s,o,l;return Pr(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),h=u.key;i=h;let m=u.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const x=r.count!==void 0&&!Pr(r.count),p=x&&!r.ordinal&&r.count===0,v=r.context!==void 0&&(Pr(r.context)||typeof r.context=="number")&&r.context!=="",y=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);m.forEach(g=>{var j,k;this.isValidLookup(n)||(l=g,!VD[`${y[0]}-${g}`]&&((j=this.utils)!=null&&j.hasLoadedNamespace)&&!((k=this.utils)!=null&&k.hasLoadedNamespace(l))&&(VD[`${y[0]}-${g}`]=!0,this.logger.warn(`key "${i}" for languages "${y.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(w=>{var z;if(this.isValidLookup(n))return;o=w;const E=[h];if((z=this.i18nFormat)!=null&&z.addLookupKeys)this.i18nFormat.addLookupKeys(E,h,w,g,r);else{let Y;x&&(Y=this.pluralResolver.getSuffix(w,r.count,r));const B=`${this.options.pluralSeparator}zero`,$=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(r.ordinal&&Y.indexOf($)===0&&E.push(h+Y.replace($,this.options.pluralSeparator)),E.push(h+Y),p&&E.push(h+B)),v){const T=`${h}${this.options.contextSeparator||"_"}${r.context}`;E.push(T),x&&(r.ordinal&&Y.indexOf($)===0&&E.push(T+Y.replace($,this.options.pluralSeparator)),E.push(T+Y),p&&E.push(T+B))}}let O;for(;O=E.pop();)this.isValidLookup(n)||(s=O,n=this.getResource(w,g,O,r))}))})}),{res:n,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n,i={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(t,r,n,i):this.resourceStore.getResource(t,r,n,i)}getUsedParamsDetails(t={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!Pr(t.replace);let i=n?t.replace:t;if(n&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const s of r)delete i[s]}return i}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}class WD{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=tc.create("languageUtils")}getScriptPartFromCode(t){if(t=u0(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=u0(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(Pr(t)&&t.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(t)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const i=this.getScriptPartFromCode(n);if(this.isSupportedCode(i))return r=i;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return r=s;r=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),Pr(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],t),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Pr(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):Pr(t)&&s(this.formatLanguageCode(t)),n.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}const KD={zero:0,one:1,two:2,few:3,many:4,other:5},GD={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Sge{constructor(t,r={}){this.languageUtils=t,this.options=r,this.logger=tc.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t,r={}){const n=u0(t==="dev"?"en":t),i=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(n,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),GD;if(!t.match(/-|_/))return GD;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,r)}return this.pluralRulesCache[s]=o,o}needsPlural(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,r,n={}){return this.getSuffixes(t,n).map(i=>`${r}${i}`)}getSuffixes(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((i,s)=>KD[i]-KD[s]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(t,r,n={}){const i=this.getRule(t,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",r,n))}}const YD=(e,t,r,n=".",i=!0)=>{let s=gge(e,t,r);return!s&&i&&Pr(r)&&(s=Nj(e,r,n),s===void 0&&(s=Nj(t,r,n))),s},E2=e=>e.replace(/\$/g,"$$$$");class kge{constructor(t={}){var r;this.logger=tc.create("interpolator"),this.options=t,this.format=((r=t==null?void 0:t.interpolation)==null?void 0:r.format)||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:h,unescapePrefix:m,nestingPrefix:x,nestingPrefixEscaped:p,nestingSuffix:v,nestingSuffixEscaped:y,nestingOptionsSeparator:g,maxReplaces:j,alwaysFormat:k}=t.interpolation;this.escape=r!==void 0?r:vge,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?jf(s):o||"{{",this.suffix=l?jf(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=h?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=x?jf(x):p||jf("$t("),this.nestingSuffix=v?jf(v):y||jf(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=j||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,r,n,i){var p;let s,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=v=>{if(v.indexOf(this.formatSeparator)<0){const k=YD(r,c,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(k,void 0,n,{...i,...r,interpolationkey:v}):k}const y=v.split(this.formatSeparator),g=y.shift().trim(),j=y.join(this.formatSeparator).trim();return this.format(YD(r,c,g,this.options.keySeparator,this.options.ignoreJSONStructure),j,n,{...i,...r,interpolationkey:g})};this.resetRegExp();const h=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,m=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>E2(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?E2(this.escape(v)):E2(v)}].forEach(v=>{for(l=0;s=v.regex.exec(t);){const y=s[1].trim();if(o=u(y),o===void 0)if(typeof h=="function"){const j=h(t,s,i);o=Pr(j)?j:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))o="";else if(m){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${t}`),o="";else!Pr(o)&&!this.useRawValueToEscape&&(o=$D(o));const g=v.safeValue(o);if(t=t.replace(s[0],g),m?(v.regex.lastIndex+=o.length,v.regex.lastIndex-=s[0].length):v.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,r,n={}){let i,s,o;const l=(c,u)=>{const h=this.nestingOptionsSeparator;if(c.indexOf(h)<0)return c;const m=c.split(new RegExp(`${h}[ ]*{`));let x=`{${m[1]}`;c=m[0],x=this.interpolate(x,o);const p=x.match(/'/g),v=x.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!v||v.length%2!==0)&&(x=x.replace(/'/g,'"'));try{o=JSON.parse(x),u&&(o={...u,...o})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,y),`${c}${h}${x}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;i=this.nestingRegexp.exec(t);){let c=[];o={...n},o=o.replace&&!Pr(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(u!==-1&&(c=i[1].slice(u).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),i[1]=i[1].slice(0,u)),s=r(l.call(this,i[1].trim(),o),o),s&&i[0]===t&&!Pr(s))return s;Pr(s)||(s=$D(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),s=""),c.length&&(s=c.reduce((h,m)=>this.format(h,m,n.lng,{...n,interpolationkey:i[1].trim()}),s.trim())),t=t.replace(i[0],s),this.regexp.lastIndex=0}return t}}const Cge=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);t==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),h=l.trim();r[h]||(r[h]=u),u==="false"&&(r[h]=!1),u==="true"&&(r[h]=!0),isNaN(u)||(r[h]=parseInt(u,10))}})}return{formatName:t,formatOptions:r}},XD=e=>{const t={};return(r,n,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=n+JSON.stringify(s);let l=t[o];return l||(l=e(u0(n),i),t[o]=l),l(r)}},Pge=e=>(t,r,n)=>e(u0(r),n)(t);class Ege{constructor(t={}){this.logger=tc.create("formatter"),this.options=t,this.init(t)}init(t,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?XD:Pge;this.formats={number:n((i,s)=>{const o=new Intl.NumberFormat(i,{...s});return l=>o.format(l)}),currency:n((i,s)=>{const o=new Intl.NumberFormat(i,{...s,style:"currency"});return l=>o.format(l)}),datetime:n((i,s)=>{const o=new Intl.DateTimeFormat(i,{...s});return l=>o.format(l)}),relativetime:n((i,s)=>{const o=new Intl.RelativeTimeFormat(i,{...s});return l=>o.format(l,s.range||"day")}),list:n((i,s)=>{const o=new Intl.ListFormat(i,{...s});return l=>o.format(l)})}}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=XD(r)}format(t,r,n,i={}){const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){const l=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,c)=>{var m;const{formatName:u,formatOptions:h}=Cge(c);if(this.formats[u]){let x=l;try{const p=((m=i==null?void 0:i.formatParams)==null?void 0:m[i.interpolationkey])||{},v=p.locale||p.lng||i.locale||i.lng||n;x=this.formats[u](l,v,{...h,...i,...p})}catch(p){this.logger.warn(p)}return x}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const Dge=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Age extends nb{constructor(t,r,n,i={}){var s,o;super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=tc.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(o=(s=this.backend)==null?void 0:s.init)==null||o.call(s,n,i.backend,i)}queueLoad(t,r,n,i){const s={},o={},l={},c={};return t.forEach(u=>{let h=!0;r.forEach(m=>{const x=`${u}|${m}`;!n.reload&&this.store.hasResourceBundle(u,m)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?o[x]===void 0&&(o[x]=!0):(this.state[x]=1,h=!1,o[x]===void 0&&(o[x]=!0),s[x]===void 0&&(s[x]=!0),c[m]===void 0&&(c[m]=!0)))}),h||(l[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,r,n){const i=t.split("|"),s=i[0],o=i[1];r&&this.emit("failedLoading",s,o,r),!r&&n&&this.store.addResourceBundle(s,o,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const l={};this.queue.forEach(c=>{pge(c.loaded,[s],o),Dge(c,t),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const h=c.loaded[u];h.length&&h.forEach(m=>{l[u][m]===void 0&&(l[u][m]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,r,n,i=0,s=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:i,wait:s,callback:o});return}this.readingCalls++;const l=(u,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(u&&h&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,i+1,s*2,o)},s);return}o(u,h)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(t,r);u&&typeof u.then=="function"?u.then(h=>l(null,h)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,r,l)}prepareLoading(t,r,n={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Pr(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Pr(r)&&(r=[r]);const s=this.queueLoad(t,r,n,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t,r=""){const n=t.split("|"),i=n[0],s=n[1];this.read(i,s,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${r}loading namespace ${s} for language ${i} failed`,o),!o&&l&&this.logger.log(`${r}loaded namespace ${s} for language ${i}`,l),this.loaded(t,o,l)})}saveMissing(t,r,n,i,s,o={},l=()=>{}){var c,u,h,m,x;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((m=(h=this.services)==null?void 0:h.utils)!=null&&m.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((x=this.backend)!=null&&x.create){const p={...o,isUpdate:s},v=this.backend.create.bind(this.backend);if(v.length<6)try{let y;v.length===5?y=v(t,r,n,i,p):y=v(t,r,n,i),y&&typeof y.then=="function"?y.then(g=>l(null,g)).catch(l):l(null,y)}catch(y){l(y)}else v(t,r,n,i,l,p)}!t||!t[0]||this.store.addResource(t[0],r,n,i)}}}const JD=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Pr(e[1])&&(t.defaultValue=e[1]),Pr(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),ZD=e=>{var t,r;return Pr(e.ns)&&(e.ns=[e.ns]),Pr(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Pr(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((r=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:r.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},dx=()=>{},Tge=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class Op extends nb{constructor(t={},r){if(super(),this.options=ZD(t),this.services={},this.logger=tc,this.modules={external:[]},Tge(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(t={},r){this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&(Pr(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=JD();this.options={...n,...this.options,...ZD(t)},this.options.interpolation={...n.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?tc.init(i(this.modules.logger),this.options):tc.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=Ege;const h=new WD(this.options);this.store=new HD(this.options.resources,this.options);const m=this.services;m.logger=tc,m.resourceStore=this.store,m.languageUtils=h,m.pluralResolver=new Sge(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(m.formatter=i(u),m.formatter.init&&m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new kge(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new Age(i(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",(p,...v)=>{this.emit(p,...v)}),this.modules.languageDetector&&(m.languageDetector=i(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=i(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new Gv(this.services,this.options),this.translator.on("*",(p,...v)=>{this.emit(p,...v)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=dx),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...h)=>this.store[u](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...h)=>(this.store[u](...h),this)});const l=pp(),c=()=>{const u=(h,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(m),r(h,m)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,r=dx){var s,o;let n=r;const i=Pr(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(m=>{m!=="cimode"&&l.indexOf(m)<0&&l.push(m)})};i?c(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(h=>c(h)),(o=(s=this.options.preload)==null?void 0:s.forEach)==null||o.call(s,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(t,r,n){const i=pp();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=dx),this.services.backendConnector.reload(t,r,s=>{i.resolve(),n(s)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&s9.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,r){this.isLanguageChangingTo=t;const n=pp();this.emit("languageChanging",t);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?this.isLanguageChangingTo===t&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...u)=>this.t(...u)),r&&r(l,(...u)=>this.t(...u))},o=l=>{var h,m;!t&&!l&&this.services.languageDetector&&(l=[]);const c=Pr(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Pr(l)?[l]:l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),(m=(h=this.services.languageDetector)==null?void 0:h.cacheUserLanguage)==null||m.call(h,u)),this.loadResources(u,x=>{s(x,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),n}getFixedT(t,r,n){const i=(s,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([s,o].concat(l)):c={...o},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||i.keyPrefix);const u=this.options.keySeparator||".";let h;return c.keyPrefix&&Array.isArray(s)?h=s.map(m=>(typeof m=="function"&&(m=_j(m,{...this.options,...o})),`${c.keyPrefix}${u}${m}`)):(typeof s=="function"&&(s=_j(s,{...this.options,...o})),h=c.keyPrefix?`${c.keyPrefix}${u}${s}`:s),this.t(h,c)};return Pr(t)?i.lng=t:i.lngs=t,i.ns=r,i.keyPrefix=n,i}t(...t){var r;return(r=this.translator)==null?void 0:r.translate(...t)}exists(...t){var r;return(r=this.translator)==null?void 0:r.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,t)&&(!i||o(s,t)))}loadNamespaces(t,r){const n=pp();return this.options.ns?(Pr(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=pp();Pr(t)&&(t=[t]);const i=this.options.preload||[],s=t.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(t){var i,s;if(t||(t=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const o=new Intl.Locale(t);if(o&&o.getTextInfo){const l=o.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((s=this.services)==null?void 0:s.languageUtils)||new WD(JD());return t.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},r){const n=new Op(t,r);return n.createInstance=Op.createInstance,n}cloneInstance(t={},r=dx){const n=t.forkResourceStore;n&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},s=new Op(i);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((h,m)=>(h[m]={...c[u][m]},h),c[u]),c),{});s.store=new HD(l,i),s.services.resourceStore=s.store}return s.translator=new Gv(s.services,i),s.translator.on("*",(l,...c)=>{s.emit(l,...c)}),s.init(i,r),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const vs=Op.createInstance();vs.createInstance;vs.dir;vs.init;vs.loadResources;vs.reloadResources;vs.use;vs.changeLanguage;vs.getFixedT;vs.t;vs.exists;vs.setDefaultNamespace;vs.hasLoadedNamespace;vs.loadNamespaces;vs.loadLanguages;const Oge={home:"Home",cars:"Fleet",about:"About Us",howToRent:"How to Rent",reviews:"Reviews",contact:"Contact",auth:"Login",language:"Language",dashboard:"Dashboard",profile:"Profile",settings:"Settings",admin:"Admin",signOut:"Sign Out"},Lge={en:"English",ro:"Romanian",ru:"Russian"},Ige={companyType:"Car Rental",label:"Premium car rental service available 24/7 in Moldova.",smallLabel:"Start your journey today.",start:"+373 62 000 112",seeCars:"See Cars",location:"LOCATION",searchLocation:"Search location...",pickUpDate:"Pick-up Date",selectPickUpDate:"Select pick-up date",returnDate:"Return Date",selectReturnDate:"Select return date",search:"Search"},Mge={sectionLabel:"Popular Cars",sectionTitle:"The most popular car rental offers",viewAll:"View all vehicles"},Rge={sectionLabel:"Why Choose Us",sectionTitle:"We provide the best experience with our rental offers",bestPrices:{title:"Best Prices",description:"Competitive rates with no hidden fees. Get the best value for your money with our transparent pricing."},support:{title:"24/7 Support",description:"Round-the-clock customer service to assist you anytime during your rental period."},easyBooking:{title:"Easy Booking",description:"Simple and fast booking process. Reserve your car in just a few clicks with instant confirmation."},wideSelection:{title:"Wide Selection",description:"Choose from our extensive fleet of well-maintained vehicles to suit every need and budget."}},zge={sectionLabel:"How the rental process works",sectionTitle:"In just 5 simple steps",sectionDescription:"Choose your car, send the details and hit the road without worries.",steps:{contact:{title:"Contact Us",description:"Send us a direct message on social media or through the website."},details:{title:"Provide Details",description:"Choose the period and your preferred car."},price:{title:"Get Price",description:"See all the transparent information."},pickup:{title:"Pick Up Car",description:"Enjoy the ride to the fullest."},return:{title:"Return Car",description:"Return the car according to the contract terms."}}},Fge={sectionLabel:"Reviews",sectionTitle:"What people say about us?",sectionDescription:"Listen to what our customers say about our services",verifiedClient:"Verified Client"},$ge=JSON.parse(`{"faq":{"hero":{"label":"Help Center","title":"Frequently Asked Questions","description":"Find answers to common questions about our car rental services. If you can't find what you're looking for, our support team is here to help."},"sections":{"booking":{"title":"Booking & Reservations","questions":{"how-to-book":"How do I book a car?","modify-cancel":"Can I modify or cancel my reservation?","account-required":"Do I need to create an account to rent a car?","advance-booking":"How far in advance should I book a car?"},"answers":{"how-to-book":"You can book a car directly through our website by selecting your pickup and return dates, choosing a vehicle, and completing the booking form. Our booking process is simple and secure, with instant confirmation sent to your email.","modify-cancel":" **Modifications**: Change dates, vehicle, or pickup location through your account\\n **Cancellation Policy**: Free cancellation up to 24 hours before pickup\\n **Availability**: Changes subject to vehicle availability\\n **Refunds**: Processed within 3-5 business days","account-required":"You can browse our vehicles and prices without creating an account, but having an account makes it easier to manage reservations, view your rental history, and speed up future bookings. Account creation is quick and free.","advance-booking":" **Recommended**: Book 3-5 days in advance for best selection\\n **Peak Seasons**: Reserve 1-2 weeks ahead during holidays\\n **Last-Minute**: Limited availability but possible with additional fees\\n **Flexible Options**: Same-day bookings available for urgent needs"}},"requirements":{"title":"Requirements & Policies","questions":{"documents":"What documents do I need to rent a car?","age-requirement":"Is there an age requirement?","insurance":"Is insurance included?","additional-driver":"Can I add an additional driver?"},"answers":{"documents":"You'll need a valid driver's license, a government-issued ID (like a passport), and a credit or debit card in the driver's name. International drivers should also have an international driving permit.","age-requirement":" **Minimum Age**: 21 years old for most vehicles\\n **Young Driver Fee**: Additional charge for drivers under 25\\n **Luxury Vehicles**: 25+ years for premium cars\\n **Senior Drivers**: No maximum age limit","insurance":" **Basic Coverage**: Included in all rentals\\n **Collision Damage**: Optional upgrade available\\n **Personal Effects**: Additional coverage for belongings\\n **Roadside Assistance**: 24/7 emergency support","additional-driver":" **Registration**: Add drivers during booking or at pickup\\n **Requirements**: Valid license and age verification\\n **Fees**: Additional charge per extra driver\\n **Responsibilities**: All drivers share liability"}},"payment":{"title":"Payment & Fees","questions":{"payment-methods":"What payment methods do you accept?","deposit":"Is a deposit required?","additional-fees":"Are there additional fees I should know about?","discounts":"Do you offer discounts?"},"answers":{"payment-methods":" **Credit Cards**: Visa, MasterCard, American Express\\n **Debit Cards**: Accepted with sufficient funds\\n **Cash Payments**: Available at select locations\\n **Bank Transfer**: For corporate accounts","deposit":" **Security Deposit**: Required at pickup\\n **Amount**: Varies by vehicle type (200-1000)\\n **Refund**: Returned after vehicle inspection\\n **Hold Period**: 3-5 business days for processing","additional-fees":" **Late Return**: 25 per hour after grace period\\n **Extra Mileage**: 0.25 per kilometer over limit\\n **Fuel**: Refueling service fee if needed\\n **Cleaning**: 50 for excessive dirt/damage","discounts":" **Early Booking**: 10% off for 7+ days advance\\n **Long-term**: 15% off for 7+ day rentals\\n **Loyalty Program**: Exclusive rates for repeat customers\\n **Corporate**: Special rates for business accounts"}},"pickup":{"title":"Pickup & Return","questions":{"pickup-location":"Where can I pick up my rental car?","different-return":"Can I return the car to a different location?","late-return":"What happens if I return the car late?","refuel":"Do I need to refuel the car before returning it?"},"answers":{"pickup-location":" **Main Office**: Central Chisinau location\\n **Airport**: Chisinau International Airport\\n **Partner Stations**: Select hotels and stations\\n **Delivery Service**: Available for premium rentals","different-return":" **One-way Rentals**: Available between major cities\\n **Additional Fee**: 50-200 depending on distance\\n **Advance Notice**: Book 48 hours in advance\\n **Restrictions**: Some locations may not allow returns","late-return":" **Grace Period**: 30 minutes free\\n **Late Fees**: 25 per hour after grace period\\n **Communication**: Contact us if you'll be late\\n **Flexibility**: We try to accommodate delays when possible","refuel":" **Same Level**: Return with same fuel as pickup\\n **Refueling Service**: 50 + fuel cost if needed\\n **Nearby Stations**: Maps provided for convenience\\n **Receipt**: Keep fuel receipts for verification"}}},"contact":{"title":"Still have questions?","description":"Contact us for help.","contact-support":"Write Message","call-us":"Call +373 62 000 112","response-time":"Response within 2 hours"}},"terms":{"hero":{"label":"Legal documents","title":"Terms & Conditions"},"sections":{"intro":{"title":"Introduction and your agreement","description":"If you continue to use our website, you agree to the terms of use. We respect the European Union General Data Protection Regulation (GDPR), and GDPR requirements have become an integral part of these terms of use. When you use our website, we collect and store your personal information. These terms of use explain how we collect and use your personal data. If you have questions or need clarification regarding the use of your personal data, please contact us through the contact form."},"cookies":{"title":"Cookie Files","bullet1":"Cookies are stored in your browser to personalize your experience using the website","bullet2":"By accepting the Cookie Policy, you agree to the use of cookies","bullet3":"We use cookies to improve the quality of the experience on our website","bullet4":"Cookies help us receive reports on errors that occur when using our website"},"personal-data":{"title":"Personal data","bullet1":"We collect personal information: name, email, phone number and IP address","bullet2":"We collect data only when you make a purchase on the site","bullet3":"Information is used for identification, confirmation and customer communication","bullet4":"We do not transmit this information to third parties - data is stored securely"},"location":{"title":"Your location","bullet1":"We use your IP address to determine your location","bullet2":"Location information helps us personalize your experience","bullet3":"Your location helps us display relevant ads near you","bullet4":"We use your location to broadcast targeted and relevant ads"},"payment":{"title":"Your credit card information","bullet1":"When making a purchase, you enter your credit card details or PayPal address","bullet2":"The entire payment process is handled by specialized payment systems","bullet3":"We do not store your credit card details","bullet4":"We do not have access to payment information at any stage of the purchase process"},"notifications":{"title":"System notifications","bullet1":"By using our website, you agree to receive notifications at your email address","bullet2":"Notifications may include booking information, confirmations and updates","bullet3":"Notifications serve as reminders and useful tips for using the site","bullet4":"The only way to stop receiving notifications is to delete your account"}}},"about":{"hero":{"label":"ABOUT COMPANY","title":"Level Auto Rental","subtitle":"Premium car rentals. Simple. Fast.","location":"in Moldova"},"stats":{"vehicles":"Vehicles","customers":"Happy Customers","experience":"Years Experience","awards":"Awards Won"},"story":{"label":"Our Story","title":"From Humble Beginnings to Industry Leaders","paragraph1":"Founded in 2009, Level Auto Rental began as a small family business with a simple mission: to provide reliable, affordable transportation solutions for everyone. What started with just five vehicles has grown into one of Moldova's most trusted car rental services.","paragraph2":"Over the years, we've expanded our fleet to include over 500 vehicles ranging from economy cars to luxury sedans and SUVs. Our commitment to customer satisfaction and quality service has remained unchanged, earning us the loyalty of thousands of customers and numerous industry awards.","paragraph3":"Today, we continue to innovate and improve our services, embracing new technologies and sustainable practices to better serve our customers and protect the environment for future generations."},"values":{"label":"Our Values","title":"The principles that guide everything we do","safety":{"title":"Safety First","description":"All our vehicles undergo rigorous safety inspections and maintenance to ensure your peace of mind on the road."},"customer":{"title":"Customer Focus","description":"We prioritize customer satisfaction with 24/7 support and personalized service tailored to your needs."},"quality":{"title":"Quality Service","description":"Our commitment to excellence has earned us industry recognition and the trust of thousands of customers."}},"team":{"label":"Meet Our Team","title":"The dedicated professionals behind our success"}},"contact":{"hero":{"label":"Contact Us","title":"Get in Touch","description":"Have questions about our car rental services? We're here to help you with any inquiries or support you need."},"contact-info":"Contact Information","contact-description":"Reach out to us through any of these channels. We're available to assist you with your car rental needs.","send-message":"Send us a message","form-description":"Fill out the form below and we'll get back to you as soon as possible.","dev-mode":{"title":"Under Development","description":"This page is currently under development and available only to developers.","button":"Go Back Home"},"form":{"first-name":"First Name","last-name":"Last Name","email":"Email","email-example":"Enter your email","phone-number":"Phone Number","message":"Message","message-cta":"Leave us a message...","question":"Where you heard about us","start":"Get started"}},"reviews":{"hero":{"label":"Customer Reviews","title":"What Our Customers Say","description":"Read authentic reviews from our satisfied customers and discover why they choose LevelAutoRental for their car rental needs."},"sectionLabel":"Reviews","sectionTitle":"Customer Reviews","sectionDescription":"Discover what our customers say about their experience with LevelAutoRental","stats":{"totalReviews":"Total Reviews","averageRating":"Average Rating","satisfaction":"Customer Satisfaction"},"cta":{"title":"Ready to Experience Excellence?","description":"Join thousands of satisfied customers who trust LevelAutoRental for their car rental needs.","button":"Book Your Car Now"},"categories":{"nchiriere":"Rental","Splare":"Car Wash","Vnzare":"Sale","Detailing auto":"Auto Detailing"},"comments":{"1":"I've had experience with several rental services, and this is probably one of the fastest and most reliable. Well-maintained cars, transparent and well-detailed contract, no special conditions or extra payment for cross-border trips, loyal. If I had to recommend a rental fleet, this would definitely be it.","2":"Everything great  service at the level, nice cars, staff rated 10. ","3":"The guys really provide quality service, the best car wash in Chiinu, a wide range of services, they use quality chemicals and respect the cleaning process, you always leave in a good mood in a truly clean car.","5":"Excellent service, wide range of cars, possibility to extend the rental contract remotely! Great guys. ","6":"I found the rental car I was looking for.","7":"Excellent service. Many cars. The rental process is very fast. They offer cars to foreigners too. Recommend!","8":"They also have cars for sale. We wanted to see one. First, they didn't answer. The second time they answered. They said they would call back. They didn't call back. It turned out that the listing was not updated.","10":"Very good service! The car was clean and in perfect condition. The booking process was simple and fast. I will definitely use these services again.","11":"Best car rental experience! Excellent prices, great customer service, and the car exceeded my expectations. Highly recommend!","12":"Superior quality car wash service! The car came out like new. The staff is very detail-oriented and uses quality products. I will definitely return!","13":"Fantastic experience! I rented a Mercedes and everything was perfect. The team is professional, I was served immediately and the process was very simple. The car was in impeccable condition!","14":"I recommend with complete confidence! Fast service, new cars and fair prices. I've used the services twice already and each time I was very satisfied.","15":"Excellent service for car rentals in Chiinu. They also offer home delivery, which is very convenient. The cars are well-maintained and the prices are better than the competition.","16":"I rented for the weekend and was very impressed by the quality of service. Very friendly staff and responds promptly to questions. The car was clean and in perfect working condition.","17":"Professional and trustworthy service. The contract is clear, no surprises. I've rented multiple times and each time everything went perfectly. Recommend!","18":"Best car rental company in Moldova! Fair prices, quality cars and super helpful team. Will definitely use again!","19":"Fast service, good cars, fair prices. What more can you ask for? Highly recommend for anyone needing a rental car in Chisinau.","20":"I was very satisfied with the service offered. Competitive prices, good cars and friendly staff. I will definitely return for the next rental!"}}}`),Bge={login:{"left-part":{smallLabel:"Welcome back",label:"Explore cars, rent fast",description:"Find and reserve the perfect car for your trip. Fast pickup, clear terms and 24/7 support."},"right-part":{label:"Login",description:"Sign in to your account to manage bookings and rentals.",email:"Email","email-example":"Enter your email",password:"Password","enter-password":"Enter your password","remember-me":"Remember me","forgot-password":"Forgot password?",login:"Login",or:"OR","create-account":"Create an account"}},register:{"left-part":{smallLabel:"Start your journey",label:"Rent with confidence",description:"Create your account to book premium cars, manage reservations and benefit from personalized high-quality services."},"right-part":{label:"Sign Up",description:"Sign up to improve your user experience.","first-name":"First Name","first-name-placeholder":"First Name","last-name":"Last Name","last-name-placeholder":"Last Name",email:"Email","email-placeholder":"Enter your email",phone:"Phone number",password:"Password","enter-password":"Enter your password","join-us":"Join us",or:"OR","already-have-account":"Already have an account?"}},forgot:{"left-part":{smallLabel:"Forgot password?",label:"Recover access",description:"Don't worry! We'll help you recover access to your account quickly and securely."},"right-part":{label:"Password Recovery",description:"Enter your email address and we'll send you instructions for resetting your password.",email:"Email","email-placeholder":"Enter your email","send-reset":"Recover password","back-to-login":"Back to login"},success:{title:"Email sent!",description:"We've sent password reset instructions to your email address. Check your inbox and follow the steps provided."}}},Uge={description:"Premium car rental service providing exceptional vehicles and unmatched customer experience in Moldova. Your journey starts here.",sections:{reservations:{title:"Reservations",links:{start:"Start a reservation",howTo:"How to reserve",calculator:"Rental Calculator",faq:"Help & FAQ"}},vehicles:{title:"Vehicles",links:{suv:"SUVs",sports:"Sports Cars",luxury:"Luxury Cars",all:"All Cars"}},company:{title:"Company",links:{about:"About Us",reviews:"Reviews","rental-conditions":"Rental Conditions"}}},social:{"follow-us":"Follow us",tiktok:"TikTok",facebook:"Facebook",instagram:"Instagram"},bottom:{logo:"LevelAutoRental",copyright:" 2025 LevelAutoRental. All rights reserved"},faq:{hero:{label:"Help Center",title:"Frequently Asked Questions",description:"Find answers to common questions about our car rental services. If you can't find what you're looking for, our support team is here to help."},sections:{booking:{title:"Booking & Reservations",questions:{"how-to-book":"How do I book a car?","modify-cancel":"Can I modify or cancel my reservation?","account-required":"Do I need to create an account to rent a car?","advance-booking":"How far in advance should I book a car?"},answers:{"how-to-book":"You can book a car directly through our website by selecting your pickup and return dates, choosing a vehicle, and completing the booking form. Our booking process is simple and secure, with instant confirmation sent to your email.","modify-cancel":` **Modifications**: Change dates, vehicle, or pickup location through your account
 **Cancellation Policy**: Free cancellation up to 24 hours before pickup
 **Availability**: Changes subject to vehicle availability
 **Refunds**: Processed within 3-5 business days`,"account-required":"You can browse our vehicles and prices without creating an account, but having an account makes it easier to manage reservations, view your rental history, and speed up future bookings. Account creation is quick and free.","advance-booking":` **Recommended**: Book 3-5 days in advance for best selection
 **Peak Seasons**: Reserve 1-2 weeks ahead during holidays
 **Last-Minute**: Limited availability but possible with additional fees
 **Flexible Options**: Same-day bookings available for urgent needs`}},requirements:{title:"Requirements & Policies",questions:{documents:"What documents do I need to rent a car?","age-requirement":"Is there an age requirement?",insurance:"Is insurance included?","additional-driver":"Can I add an additional driver?"},answers:{documents:"You'll need a valid driver's license, a government-issued ID (like a passport), and a credit or debit card in the driver's name. International drivers should also have an international driving permit.","age-requirement":` **Minimum Age**: 21 years old for most vehicles
 **Young Driver Fee**: Additional charge for drivers under 25
 **Luxury Vehicles**: 25+ years for premium cars
 **Senior Drivers**: No maximum age limit`,insurance:` **Basic Coverage**: Included in all rentals
 **Collision Damage**: Optional upgrade available
 **Personal Effects**: Additional coverage for belongings
 **Roadside Assistance**: 24/7 emergency support`,"additional-driver":` **Registration**: Add drivers during booking or at pickup
 **Requirements**: Valid license and age verification
 **Fees**: Additional charge per extra driver
 **Responsibilities**: All drivers share liability`}},payment:{title:"Payment & Fees",questions:{"payment-methods":"What payment methods do you accept?",deposit:"Is a deposit required?","additional-fees":"Are there additional fees I should know about?",discounts:"Do you offer discounts?"},answers:{"payment-methods":` **Credit Cards**: Visa, MasterCard, American Express
 **Debit Cards**: Accepted with sufficient funds
 **Cash Payments**: Available at select locations
 **Bank Transfer**: For corporate accounts`,deposit:` **Security Deposit**: Required at pickup
 **Amount**: Varies by vehicle type (200-1000)
 **Refund**: Returned after vehicle inspection
 **Hold Period**: 3-5 business days for processing`,"additional-fees":` **Late Return**: 25 per hour after grace period
 **Extra Mileage**: 0.25 per kilometer over limit
 **Fuel**: Refueling service fee if needed
 **Cleaning**: 50 for excessive dirt/damage`,discounts:` **Early Booking**: 10% off for 7+ days advance
 **Long-term**: 15% off for 7+ day rentals
 **Loyalty Program**: Exclusive rates for repeat customers
 **Corporate**: Special rates for business accounts`}},pickup:{title:"Pickup & Return",questions:{"pickup-location":"Where can I pick up my rental car?","different-return":"Can I return the car to a different location?","late-return":"What happens if I return the car late?",refuel:"Do I need to refuel the car before returning it?"},answers:{"pickup-location":` **Main Office**: Central Chisinau location
 **Airport**: Chisinau International Airport
 **Partner Stations**: Select hotels and stations
 **Delivery Service**: Available for premium rentals`,"different-return":` **One-way Rentals**: Available between major cities
 **Additional Fee**: 50-200 depending on distance
 **Advance Notice**: Book 48 hours in advance
 **Restrictions**: Some locations may not allow returns`,"late-return":` **Grace Period**: 30 minutes free
 **Late Fees**: 25 per hour after grace period
 **Communication**: Contact us if you'll be late
 **Flexibility**: We try to accommodate delays when possible`,refuel:` **Same Level**: Return with same fuel as pickup
 **Refueling Service**: 50 + fuel cost if needed
 **Nearby Stations**: Maps provided for convenience
 **Receipt**: Keep fuel receipts for verification`}}},contact:{title:"Still have questions?",description:"Contact us for help.","contact-support":"Write Message","call-us":"Call +373 62 000 112","response-time":"Response within 2 hours"}}},qge={mileageLimit:"200km/day",seeCar:"See car",seeMorePhotos:"See {{count}} more photos"},Hge={selectVehicle:"Select vehicle",rentalPeriod:"Rental period",numberOfDays:"Number of days",day:"day",days:"days",locations:{title:"Locations",chisinauAirport:"Chisinau Airport",chisinauCenter:"Chisinau Center",chisinauNord:"Chiinu Nord"},pickup:"Pickup",return:"Return",additionalOptions:"Additional options",unlimitedMileage:"Unlimited mileage",noSpeedLimit:"No speed limit",tireInsurance:"Tire insurance",personalDriver:"Personal driver",priorityService:"Priority Service",childCarSeat:"Child car seat",simWithInternet:"SIM with internet",roadsideAssistance:"Roadside assistance",totalCost:"Total cost",priceDetails:"Price details",selectedVehicle:"Selected vehicle",pricePerDay:"Price per day",priceRanges:"Price Ranges",numberDays:"Number of days",discount:"Discount",basePrice:"Base price",additionalServices:"Additional services",noSpeedLimitShort:"No speed limit",insurance:"Insurance",childSeat:"Child seat",simInternet:"SIM internet",assistance:"Assistance",services:"Services",bookNow:"Book now",contactUs:"Contact us",pricesAreIndicative:"Prices are indicative",pricesDescription:"For an exact and personalized offer, please contact us directly.",discountApplied4:"Discount applied: -4% for 8+ days",discountApplied2:"Discount applied: -2% for 4+ days",perDay:"/day"},Vge={title:"Page Not Found",description:"Sorry, the page you are looking for doesn't exist or has been moved.",goBackHome:"Home page",goBack:"Go Back"},Wge={sidebar:{overview:"Home",myBookings:"My Bookings",cars:"Cars",profile:"Profile",calendar:"Calendar",settings:"Settings",signOut:"Sign Out"},overview:{title:"Control Panel",rentalsInfo:"Rentals Info",totalBookings:"Total bookings",finishedBookings:"Finished bookings",activeBookings:"Active bookings",lifetimeBookings:"Bookings over time",totalSpent:"Total spent",lifetimeSpending:"Lifetime spending",loyaltyPoints:"Loyalty points",availablePoints:"Available points",recentBookings:"Recent bookings",viewAll:"View all",favoriteCar:"Favorite Car",noFavoriteCar:"You haven't borrowed any car, so you don't have a favorite car yet.",startBorrowing:"Start borrowing"}},Kge={header:Oge,languages:Lge,hero:Ige,popularCars:Mge,features:Rge,howToRent:zge,testimonials:Fge,pages:$ge,auth:Bge,footer:Uge,car:qge,calculator:Hge,notFound:Vge,dashboard:Wge},Gge={home:"Acas",cars:"Flot",about:"Despre noi",howToRent:"Cum nchiriez",reviews:"Recenzii",contact:"Contacteaz-ne",auth:"Autentificare",language:"Limb",dashboard:"Panou de control",profile:"Profil",settings:"Setri",admin:"Admin",signOut:"Deconectare"},Yge={en:"Englez",ro:"Romn",ru:"Rus"},Xge={companyType:"Chirie Auto",label:"Servicii premium de nchirieri auto disponibil 24/7 n Moldova.",smallLabel:"ncepe cltoria ta astzi.",start:"+373 62 000 112",seeCars:"Vezi mainile",location:"LOCAIA",searchLocation:"Cutai locaia...",pickUpDate:"Data de preluare",selectPickUpDate:"Selectai data de preluare",returnDate:"Data de returnare",selectReturnDate:"Selectai data de returnare",search:"Cutare"},Jge={sectionLabel:"Maini Populare",sectionTitle:"Cele mai populare oferte de nchirieri auto",viewAll:"Vezi toate vehiculele"},Zge={sectionLabel:"De ce s ne alegei",sectionTitle:"Oferim cea mai bun experien pentru nchirieri.",bestPrices:{title:"Cele mai bune preuri",description:"Tarife competitive fr costuri ascunse. Obinei cea mai bun valoare pentru banii votri cu preurile noastre transparente."},support:{title:"Suport 24/7",description:"Serviciu clieni non-stop pentru a v ajuta oricnd avei nevoie de asisten n perioada de nchiriere."},easyBooking:{title:"Rezervare uoar",description:"Proces simplu i rapid de rezervare. Rezervai maina n doar cteva clicuri cu confirmare instantanee."},wideSelection:{title:"Selecie larg",description:"Alegei din flota noastr extins de vehicule bine ntreinute pentru a satisface fiecare nevoie i buget."}},Qge={sectionLabel:"Procesul de inchiriere",sectionTitle:"n doar 5 pai simpli",sectionDescription:"Alege maina, trimite detaliile i pornete la drum fr griji.",steps:{contact:{title:"Contacteaz-ne",description:"Contacteaz-ne prin mesaj sau site."},details:{title:"Indic detaliile",description:"Alege perioada i maina preferat."},price:{title:"Primeti preul",description:"Vezi toat informaia transparent."},pickup:{title:"Preiei maina",description:"Te bucuri din plin de main."},return:{title:"Returnezi maina",description:"Returnezi maina conform termenilor din contract."}}},exe={sectionLabel:"Recenzii",sectionTitle:"Ce spun oamenii despre noi?",sectionDescription:"Ascultai ce spun clienii notri despre serviciile noastre",verifiedClient:"Client Verificat"},txe=JSON.parse('{"faq":{"hero":{"label":"ntrebri frecvente","title":"ntrebri frecvente","description":"Gsete rspunsuri la ntrebrile frecvente despre serviciile noastre de nchiriere auto."},"sections":{"booking":{"title":"Rezervri i Booking","questions":{"how-to-book":"Cum rezerv o main?","modify-cancel":"Pot modifica sau anula rezervarea?","account-required":"Trebuie s creez un cont pentru a nchiria o main?","advance-booking":"Cu ct timp nainte ar trebui s rezerv o main?"},"answers":{"how-to-book":"Poi rezerva o main direct prin site-ul nostru selectnd datele de preluare i returnare, alegnd un vehicul i completnd formularul de rezervare. Procesul nostru de rezervare este simplu i sigur, cu confirmare instantanee trimis pe email.","modify-cancel":" **Modificri**: Schimb datele, vehiculul sau locaia de preluare prin contul tu\\\\n **Politica de Anulare**: Anulare gratuit pn la 24 ore nainte de preluare\\\\n **Disponibilitate**: Modificrile sunt supuse disponibilitii vehiculului\\\\n **Rambursri**: Procesate n 3-5 zile lucrtoare","account-required":"Poi naviga prin vehiculele i preurile noastre fr s creezi un cont, dar avnd un cont i este mai uor s gestionezi rezervrile, s vezi istoricul nchirierilor i s accelerezi rezervrile viitoare. Crearea contului este rapid i gratuit.","advance-booking":" **Recomandat**: Rezerv cu 3-5 zile nainte pentru cea mai bun selecie\\\\n **Sezoane de Vrf**: Rezerv cu 1-2 sptmni nainte n perioadele de srbtori\\\\n **Ultimul Moment**: Disponibilitate limitat dar posibil cu taxe suplimentare\\\\n **Opiuni Flexibile**: Rezervri n aceeai zi disponibile pentru nevoi urgente"}},"requirements":{"title":"Cerine i Politici","questions":{"documents":"Ce documente am nevoie pentru a nchiria o main?","age-requirement":"Exist o cerin de vrst?","insurance":"Este inclus asigurarea?","additional-driver":"Pot aduga un ofer suplimentar?"},"answers":{"documents":"Vei avea nevoie de permis de conducere valabil, un act de identitate emis de stat (precum paaportul) i o carte de credit sau debit pe numele oferului. oferii internaionali ar trebui s aib i un permis de conducere internaional.","age-requirement":" **Vrsta Minim**: 21 de ani pentru majoritatea vehiculelor\\n **Taxa ofer Tnr**: Tax suplimentar pentru oferii sub 25 de ani\\n **Vehicule de Lux**: 25+ ani pentru maini premium\\n **oferi Seniori**: Nu exist limit de vrst maxim","insurance":" **Acoperire de Baz**: Inclus n toate nchirierile\\n **Daune la Coliziune**: Upgrade opional disponibil\\n **Efecte Personale**: Acoperire suplimentar pentru obiecte personale\\n **Asisten Rutier**: Suport de urgen 24/7","additional-driver":" **nregistrare**: Adaug oferi n timpul rezervrii sau la preluare\\n **Cerine**: Permis valabil i verificare vrst\\n **Taxe**: Tax suplimentar per ofer suplimentar\\n **Responsabiliti**: Toi oferii mprtesc rspunderea"}},"payment":{"title":"Pli i Taxe","questions":{"payment-methods":"Ce metode de plat acceptai?","deposit":"Este necesar un depozit?","additional-fees":"Exist taxe suplimentare de care ar trebui s tiu?","discounts":"Oferii reduceri?"},"answers":{"payment-methods":" **Carduri de Credit**: Visa, MasterCard, American Express\\n **Carduri de Debit**: Acceptate cu fonduri suficiente\\n **Pli Numerar**: Disponibile n locaii selectate\\n **Transfer Bancar**: Pentru conturi corporative","deposit":" **Depozit de Garanie**: Necesar la preluare\\n **Suma**: Variaz dup tipul de vehicul (200-1000)\\n **Rambursare**: Returnat dup inspecia vehiculului\\n **Perioada de Reinere**: 3-5 zile lucrtoare pentru procesare","additional-fees":" **Returnare ntrziat**: 25 pe or dup perioada de graie\\n **Kilometraj Suplimentar**: 0,25 per kilometru peste limit\\n **Combustibil**: Tax serviciu realimentare dac necesar\\n **Curare**: 50 pentru murdrie/deteriorare excesiv","discounts":" **Rezervare Devreme**: 10% reducere pentru 7+ zile nainte\\n **Termen Lung**: 15% reducere pentru nchirieri de 7+ zile\\n **Program de Loialitate**: Tarife exclusive pentru clieni fideli\\n **Corporate**: Tarife speciale pentru conturi de business"}},"pickup":{"title":"Preluare i Returnare","questions":{"pickup-location":"Unde pot prelua maina nchiriat?","different-return":"Pot returna maina ntr-o locaie diferit?","late-return":"Ce se ntmpl dac returnez maina cu ntrziere?","refuel":"Trebuie s realimentez maina nainte de returnare?"},"answers":{"pickup-location":" **Birou Principal**: Locaia central din Chiinu\\n **Aeroport**: Aeroportul Internaional Chiinu\\n **Staii Partenere**: Hoteluri i staii selectate\\n **Serviciu de Livrare**: Disponibil pentru nchirieri premium","different-return":" **nchirieri Sens Unic**: Disponibile ntre orae majore\\n **Tax Suplimentar**: 50-200 n funcie de distan\\n **Notificare nainte**: Rezerv cu 48 ore nainte\\n **Restricii**: Unele locaii pot s nu permit returnri","late-return":" **Perioada de Graie**: 30 minute gratuite\\n **Taxe ntrziere**: 25 pe or dup perioada de graie\\n **Comunicare**: Contacteaz-ne dac vei ntrzia\\n **Flexibilitate**: ncercm s acomodm ntrzierile cnd este posibil","refuel":" **Acelai Nivel**: Returneaz cu acelai combustibil ca la preluare\\n **Serviciu Realimentare**: 50 + costul combustibilului dac necesar\\n **Staii Apropiate**: Hri furnizate pentru confort\\n **Bon**: Pstreaz bonurile de combustibil pentru verificare"}}},"contact":{"title":"Mai ai ntrebri?","description":"Contacteaz-ne pentru detalii.","contact-support":"Scrie mesaj","call-us":"Sun +373 62 000 112","response-time":"Rspuns n 2 ore"}},"terms":{"hero":{"label":"Documente legale","title":"Termeni i condiii"},"sections":{"intro":{"title":"Introducere i acordul dumneavoastr","description":"Dac continuai s utilizai site-ul nostru, suntei de acord cu termenii de utilizare. Respectm Regulamentul general privind protecia datelor (GDPR) al Uniunii Europene, iar cerinele GDPR au devenit parte integrant a acestor termeni de utilizare. Cnd utilizai site-ul nostru, colectm i stocm informaiile dumneavoastr personale. Aceti termeni de utilizare explic cum colectm i folosim datele dvs. personale. Dac avei ntrebri sau avei nevoie de clarificri cu privire la utilizarea datelor dvs. personale, v rugm s ne contactai prin intermediul formularului de contact."},"cookies":{"title":"Fiiere Cookie","bullet1":"Cookie-urile sunt stocate n browserul dvs. pentru a v personaliza experiena de utilizare","bullet2":"Prin acceptarea Politicii privind cookie-urile, suntei de acord cu utilizarea lor","bullet3":"Utilizm cookie-uri pentru a mbunti calitatea experienei pe site-ul nostru","bullet4":"Cookie-urile ne ajut s primim rapoarte privind erorile care apar la utilizarea site-ului"},"personal-data":{"title":"Date personale","bullet1":"Colectm informaii personale: nume, email, numr de telefon","bullet2":"Colectm date doar atunci cnd efectuai o achiziie pe site","bullet3":"Informaiile sunt folosite pentru identificare, confirmare i comunicare cu clienii","bullet4":"Noi nu transmitem aceste informaii terilor - datele sunt stocate n siguran"},"notifications":{"title":"Notificri de sistem","bullet1":"Prin utilizarea site-ului, suntei de acord s primii notificri la adresa dvs. de e-mail","bullet2":"Notificrile pot include informaii despre rezervri, confirmri i actualizri","bullet3":"Notificrile servesc ca mementouri i sfaturi utile pentru utilizarea site-ului","bullet4":"Singura modalitate de a nu mai primi notificri este s v tergei contul"}}},"about":{"hero":{"label":"DESPRE COMPANIE","title":"Level Auto Rental","subtitle":"nchirieri auto premium. Simplu. Rapid.","location":"n Moldova"},"stats":{"vehicles":"Vehicule","customers":"Clieni fericii","experience":"Ani de experien","awards":"Premii ctigate"},"story":{"label":"Povestea noastr","title":"De la nceputuri modeste la lideri n industrie","paragraph1":"Fondat n 2009, Level Auto Rental a nceput ca o mic afacere de familie cu o misiune simpl: s ofere soluii de transport fiabile i accesibile pentru toi. Ceea ce a nceput cu doar cinci vehicule a devenit astzi una dintre cele mai de ncredere companii de nchirieri auto din Moldova.","paragraph2":"De-a lungul anilor, ne-am extins flota la peste 500 de vehicule, de la maini economice pn la sedanuri de lux i SUV-uri. Angajamentul nostru fa de satisfacia clienilor i calitatea serviciilor a rmas neschimbat, aducndu-ne loialitatea a mii de clieni i numeroase premii n industrie.","paragraph3":"Astzi continum s inovm i s mbuntim serviciile noastre, adoptnd tehnologii noi i practici sustenabile pentru a deservi mai bine clienii i pentru a proteja mediul pentru generaiile viitoare."},"values":{"label":"Valorile noastre","title":"Principiile care ne ghideaz n tot ceea ce facem","safety":{"title":"Sigurana pe primul loc","description":"Toate vehiculele noastre trec prin inspecii i ntreineri riguroase pentru a-i oferi linite deplin la drum."},"customer":{"title":"Orientare ctre client","description":"Punem satisfacia clientului pe primul loc, oferind suport 24/7 i servicii personalizate adaptate nevoilor tale."},"quality":{"title":"Servicii de calitate","description":"Angajamentul nostru fa de excelen ne-a adus recunoatere n industrie i ncrederea a mii de clieni."}},"team":{"label":"Echipa noastr","title":"Profesionitii dedicai din spatele succesului nostru"}},"contact":{"hero":{"label":"Contacteaz-ne","title":"Informaii de contact","description":""},"contact-info":"Informaii de contact","contact-description":"Contacteaz-ne prin oricare dintre aceste canale. Suntem disponibili s te ajutm cu nevoile tale de nchirieri auto.","send-message":"Trimite-ne un mesaj","form-description":"Completeaz formularul de mai jos i i vom rspunde ct mai curnd posibil.","dev-mode":{"title":"n dezvoltare","description":"Aceast pagin este n prezent n dezvoltare i disponibil doar pentru dezvoltatori.","button":"napoi la pagina principal"},"form":{"first-name":"Prenume","last-name":"Nume","email":"Email","email-example":"Introdu email-ul","phone-number":"Numr de telefon","message":"Mesaj","message-cta":"Las-ne un mesaj...","question":"De unde ai auzit despre noi","start":"ncepe acum"}},"reviews":{"hero":{"label":"Recenzii Clieni","title":"Ce spun clienii notri","description":"Citete recenziile autentice de la clienii notri mulumii i descoper de ce aleg LevelAutoRental pentru nevoile lor de nchiriere auto."},"sectionLabel":"Recenzii","sectionTitle":"Recenzii Clieni","sectionDescription":"Descoper ce spun clienii notri despre experiena lor cu LevelAutoRental","stats":{"totalReviews":"Recenzii Totale","averageRating":"Evaluare Medie","satisfaction":"Satisfacia Clienilor"},"cta":{"title":"Gata s Experimentezi Excelena?","description":"Altur-te miilor de clieni mulumii care au ncredere n LevelAutoRental pentru nevoile lor de nchiriere auto.","button":"Rezerv Maina Acum"},"categories":{"nchiriere":"nchiriere","Splare":"Splare","Vnzare":"Vnzare","Detailing auto":"Detailing auto"},"comments":{"1":"Am avut experien cu mai multe servicii de nchiriere, iar acesta este, probabil, unul dintre cele mai rapide i de ncredere. Mainile ngrijite, contractul este transparent i bine detaliat, fr condiii speciale sau plat n plus pentru plecri peste hotare, loiali. Dac ar trebui s recomand un parc de nchirieri, cu siguran ar fi acesta.","2":"Totul super  service la nivel, masini fain, personal de nota 10. ","3":"Bieii ofer ntr-adevr un serviciu de calitate, cea mai bun spltorie auto din Chiinu, o gam larg de servicii, folosesc produse chimice de calitate i respect procesul de curare, pleci mereu cu bun dispoziie ntr-o main cu adevrat curat.","5":"Serviciu excelent, gam larg de maini, posibilitatea de a prelungi contractul de nchiriere la distan! Biei extraordinari. ","6":"Am gsit maina de nchiriat pe care o cutam.","7":"Serviciu excelent. Sunt multe maini. Procesul de nchiriere este foarte rapid. Ofer maini i strinilor. Recomand!","8":"Au i maini de vnzare. Am vrut s vedem una. n primul rnd, nu rspundeau. A doua oar au rspuns. Au spus c vor reveni cu un apel. Nu au sunat napoi. S-a dovedit c anunul nu era actualizat.","10":"Serviciu foarte bun! Maina era curat i n stare perfect. Procesul de rezervare a fost simplu i rapid. Voi folosi din nou cu siguran serviciile acestea.","11":"Cea mai bun experien de nchiriere auto! Preuri excelente, serviciu clieni extraordinar, iar maina a depit ateptrile mele. Recomand cu ncredere!","12":"Serviciu de splare auto de calitate superioar! Maina a ieit ca nou. Personalul este foarte atent la detalii i folosete produse de calitate. Voi reveni sigur!","13":"Experien fantastic! Am nchiriat un Mercedes i totul a fost perfect. Echipa este profesionist, am fost reprezentai imediat i procesul a fost foarte simplu. Maina era n stare impecabil!","14":"Recomand cu toat ncrederea! Serviciu rapid, maini noi i preuri corecte. Am folosit serviciile de dou ori deja i de fiecare dat am fost foarte mulumit.","15":"Excelent serviciu pentru nchirieri auto n Chiinu. Ofer i livrare la domiciliu, ceea ce este foarte convenabil. Mainile sunt ngrijite i preurile sunt mai bune dect la concuren.","16":"Am nchiriat pentru weekend i am fost foarte impresionat de calitatea serviciului. Personal foarte amabil i rspunde prompt la ntrebri. Maina a fost curat i n stare perfect de funcionare.","17":"Serviciu profesionist i de ncredere. Contractul este clar, fr surprize. Am nchiriat de mai multe ori i de fiecare dat totul a mers perfect. Recomand!","18":"Cea mai bun companie de nchirieri auto din Moldova! Preuri corecte, maini calitative i echipa super de ajutor. Voi folosi din nou cu siguran!","19":"Serviciu rapid, maini bune, preuri corecte. Ce mai poi cere? Recomand cu toat ncrederea pentru oricine are nevoie de main nchiriat n Chiinu.","20":"Am fost foarte mulumit de serviciul oferit. Preuri competitive, maini bune i personal prietenos. Voi reveni cu siguran pentru urmtoarea nchiriere!"}}}'),rxe={login:{"left-part":{smallLabel:"Bine ai revenit",label:"Exploreaz maini, nchiriaz rapid",description:"Gsete i rezerv maina perfect pentru cltoria ta. Ridicare rapid, termeni clari i suport 24/7."},"right-part":{label:"Autentificare",description:"Conecteaz-te la contul tu pentru a gestiona rezervrile i nchirierile.",email:"Email","email-example":"Introdu email-ul",password:"Parol","enter-password":"Introdu parola","remember-me":"ine-m minte","forgot-password":"Ai uitat parola?",login:"Autentific-te",or:"SAU","create-account":"Creeaz un cont"}},register:{"left-part":{smallLabel:"ncepe cltoria ta",label:"nchiriaz cu ncredere",description:"Creeaz-i contul pentru a rezerva maini premium, a gestiona rezervrile i a beneficia de servicii personalizate de calitate superioar."},"right-part":{label:"nregistrare",description:"nregistreaz-te pentru o experien mai bun.","first-name":"Prenume","first-name-placeholder":"Prenume","last-name":"Nume","last-name-placeholder":"Nume",email:"Email","email-placeholder":"Introdu email-ul",phone:"Numr de telefon",password:"Parol","enter-password":"Introdu parola","join-us":"Altur-te",or:"SAU","already-have-account":"Ai deja un cont?"}},forgot:{"left-part":{smallLabel:"Ai uitat parola?",label:"Recupereaz accesul",description:"Nu-i face griji! Te ajutm s i recuperezi accesul la contul tu rapid i sigur."},"right-part":{label:"Recuperare parol",description:"Introdu adresa ta de email i i vom trimite instruciuni pentru resetarea parolei.",email:"Email","email-placeholder":"Introdu email-ul","send-reset":"Recupereaz parola","back-to-login":"napoi la autentificare"},success:{title:"Email trimis!",description:"Am trimis instruciunile de resetare a parolei la adresa ta de email. Verific inbox-ul i urmeaz paii indicai."}}},nxe={description:"Serviciu premium de nchirieri auto n Moldova. Cltoria ta ncepe aici.",sections:{reservations:{title:"Rezervri",links:{start:"ncepe o rezervare",howTo:"Cum s rezervi",calculator:"Calculator nchirieri",faq:"ntrebri frecvente"}},vehicles:{title:"Vehicule",links:{suv:"SUV-uri",sports:"Maini sport",luxury:"Maini lux",all:"Toate mainile"}},company:{title:"Companie",links:{about:"Despre noi",reviews:"Recenzii","rental-conditions":"Termeni si Conditii"}}},social:{"follow-us":"Urmrete-ne",tiktok:"TikTok",facebook:"Facebook",instagram:"Instagram"},bottom:{logo:"LevelAutoRental",copyright:" 2025 LevelAutoRental. Toate drepturile rezervate"},faq:{hero:{label:"Centru de Ajutor",title:"ntrebri Frecvente",description:"Gsii rspunsuri la ntrebrile comune despre serviciile noastre de nchiriere auto. Dac nu gsii ce cutai, echipa noastr de suport este aici s v ajute."},sections:{booking:{title:"Rezervri & Programri",questions:{"how-to-book":"Cum rezerv o main?","modify-cancel":"Pot modifica sau anula rezervarea?","account-required":"Trebuie s creez un cont pentru a nchiria o main?","advance-booking":"Cu ct timp nainte ar trebui s rezerv o main?"},answers:{"how-to-book":"Putei rezerva o main direct prin site-ul nostru selectnd datele de preluare i returnare, alegnd un vehicul i completnd formularul de rezervare.","modify-cancel":"Da, putei modifica sau anula rezervarea prin panoul de control al contului. V rugm s reinei c modificrile pot fi supuse disponibilitii i politicilor de anulare.","account-required":"Putei naviga fr cont, dar crearea unuia faciliteaz gestionarea rezervrilor, vizualizarea istoricului i accelerarea rezervrilor viitoare.","advance-booking":"Recomandm s rezervai cu cel puin cteva zile nainte pentru a v asigura maina preferat. n sezoanele de vrf, rezervrile mai devreme sunt puternic recomandate."}},requirements:{title:"Cerine & Politici",questions:{documents:"Ce documente am nevoie pentru a nchiria o main?","age-requirement":"Exist o cerin de vrst?",insurance:"Este inclus asigurarea?","additional-driver":"Pot aduga un ofer suplimentar?"},answers:{documents:"Vei avea nevoie de un permis de conducere valabil, o carte de identitate emis de stat (cum ar fi un paaport) i o carte de credit sau debit pe numele oferului.","age-requirement":"Da, vrsta minim este de obicei 21 de ani. oferii sub 25 de ani pot fi supui unei suprataxe pentru oferi tineri.",insurance:"Asigurarea de baz este inclus n toate nchirierile. Putei alege opiuni de acoperire suplimentare pentru protecie extra n timpul procesului de rezervare.","additional-driver":"Da, oferii suplimentari pot fi adugai la momentul rezervrii sau n timpul prelurii. Toi oferii trebuie s prezinte un permis valabil i s ndeplineasc cerinele de vrst."}},payment:{title:"Pli & Taxe",questions:{"payment-methods":"Ce metode de plat acceptai?",deposit:"Este necesar un depozit?","additional-fees":"Exist taxe suplimentare pe care ar trebui s le tiu?",discounts:"Oferii reduceri?"},answers:{"payment-methods":"Acceptm carduri de credit majore (Visa, MasterCard, American Express), carduri de debit i, n unele locaii, numerar. Plile online sunt procesate n siguran.",deposit:"Da, este necesar un depozit de garanie rambursabil la preluare. Suma depinde de tipul de vehicul i durata nchirierii.","additional-fees":"Taxe suplimentare pot fi aplicate pentru returnri ntrziate, kilometraj suplimentar, oferi suplimentari, combustibil sau echipamente speciale precum GPS i scaune pentru copii.",discounts:"Da, oferim promoii sezoniere, reduceri de loialitate i tarife corporative. Abonai-v la newsletter-ul nostru pentru a fi la curent."}},pickup:{title:"Preluare & Returnare",questions:{"pickup-location":"Unde pot prelua maina nchiriat?","different-return":"Pot returna maina ntr-o locaie diferit?","late-return":"Ce se ntmpl dac returnez maina cu ntrziere?",refuel:"Trebuie s alimentez maina nainte s o returnez?"},answers:{"pickup-location":"Putei prelua maina la biroul nostru principal, locaiile de la aeroport sau staiile partenere selectate. Locaia de preluare este aleas n timpul rezervrii.","different-return":"Da, nchirierile n sens unic sunt disponibile ntre anumite locaii. Poate fi aplicat o tax suplimentar n funcie de distan.","late-return":"Returnrile ntrziate pot rezulta n taxe suplimentare. Recomandm s ne contactai dac anticipai c vei ntrzia pentru a explora opiuni flexibile.",refuel:"Mainile ar trebui returnate cu acelai nivel de combustibil ca la nchiriere. Altfel, se va aplica o tax de alimentare."}}},contact:{title:"Mai avei ntrebri?",description:"Nu gsii rspunsul pe care l cutai? Echipa noastr de suport este aici s v ajute cu orice ntrebri specifice despre serviciile noastre.","contact-support":"Contactai Suportul","call-us":"Sun +373 62 000 112"}}},axe={mileageLimit:"200km/zi",seeCar:"Vezi maina",seeMorePhotos:"Vezi nc {{count}} fotografii",seeMorePhotos_one:"Vezi nc o fotografie",seeMorePhotos_few:"Vezi nc {{count}} fotografii",seeMorePhotos_other:"Vezi nc {{count}} de fotografii"},ixe={selectVehicle:"Selectai vehiculul",rentalPeriod:"Perioada nchirierii",numberOfDays:"Numr de zile",day:"zi",days:"zile",locations:{title:"Locaii",chisinauAirport:"Aeroportul Chiinu",chisinauCenter:"Centrul Chiinu",chisinauNord:"Chiinu Nord"},pickup:"Preluare",return:"Returnare",additionalOptions:"Opiuni suplimentare",limits:"Limite",vipServices:"Servicii VIP",insuranceTitle:"Asigurare",extra:"Suplimentar",delivery:"Livrare",airportDelivery:"Livrare aeroport",unlimitedMileage:"Kilometraj nelimitat",noSpeedLimit:"Fr limit de vitez",tireInsurance:"Asigurare anvelope & parbriz",personalDriver:"ofer personal",priorityService:"Priority Service",childCarSeat:"Scaun auto copii",simWithInternet:"SIM cu internet",roadsideAssistance:"Asisten rutier",totalCost:"Cost total",priceDetails:"Detalii pre",selectedVehicle:"Vehicul selectat",pricePerDay:"Pre pe zi",numberDays:"Numr zile",discount:"Discount",basePrice:"Pre baz",additionalServices:"Servicii adiionale",noSpeedLimitShort:"Fr limit vitez",insurance:"Asigurare",childSeat:"Scaun copii",simInternet:"SIM internet",assistance:"Asisten",services:"Servicii",bookNow:"Rezerv acum",contactUs:"Contacteaz-ne",pricesAreIndicative:"Preurile sunt orientative",pricesDescription:"Pentru o ofert exact i personalizat, v rugm s ne contactai direct.",discountApplied4:"Discount aplicat: -4% pentru 8+ zile",discountApplied2:"Discount aplicat: -2% pentru 4+ zile",perDay:"/zi"},sxe={title:"Pagina nu a fost gsit",description:"Ne pare ru, pagina pe care o cutai nu exist sau a fost mutat.",goBackHome:"Pagina principal",goBack:"napoi"},oxe={welcomeBack:"Bun venit napoi, {{name}}!",export:"Export",sales:"Vnzri",orders:"Comenzi",averageOrderValue:"Valoare medie comand",recentOrders:"Comenzi recente",seats:"locuri",paid:"Pltit",pending:"n ateptare",refunded:"Rambursat",customer:"Client {{number}}",sidebar:{overview:"Acas",cars:"nchiriaz",profile:"Profil",calendar:"Calendar",settings:"Setri",signOut:"Deconectare"},overview:{title:"Panou de control",rentalsInfo:"Informaii Rezervri",totalBookings:"Total rezervri",finishedBookings:"Rezervri finalizate",activeBookings:"Rezervri active",lifetimeBookings:"Rezervri de-a lungul timpului",totalSpent:"Total cheltuit",lifetimeSpending:"Cheltuieli de-a lungul timpului",upcomingBookings:"Rezervri viitoare",upcomingDescription:"Rezervri care ncep n curnd",activeDescription:"nchirieri active n prezent",loyaltyPoints:"Puncte loialitate",availablePoints:"Puncte disponibile",recentBookings:"Rezervri recente",viewAll:"Vezi toate",favoriteCar:"Maina Preferat",favoriteCars:"Maini Preferate",noFavoriteCar:"Nu ai nchiriat nicio main, deci nu ai nc o main preferat.",noFavoriteCars:"Nu ai adugat nc nicio main la favorite.",startBorrowing:"ncepe s nchiriezi",rentAgain:"nchiriaz din nou",yourTopChoice:"Alegerea ta #1",mostRented:"CEA MAI NCHIRIAT",lastRented:"Ultima nchiriere",totalRentals:"Total nchirieri",heavyUser:"Utilizator intensiv",recentlyActive:"Activ recent",pastRentals:"nchirieri trecute",usageStats:"Statistici utilizare",viewDetails:"Vezi detalii"},bookings:{title:"Rezervrile mele",details:"Detalii",receipt:"Chitan",noBookings:"Nicio rezervare nc",startExploring:"ncepe s explorezi flota noastr premium!",browseCars:"Rsfoiete mainile"},profile:{title:"Informaii profil",editProfile:"Editeaz profilul",cancel:"Anuleaz",firstName:"Prenume",lastName:"Nume",email:"Email",phone:"Telefon",saveChanges:"Salveaz modificrile"},settings:{title:"Setri cont",description:"Gestioneaz setrile i preferinele contului tu",profile:"Profil",password:"Parol",profileInformation:"Informaii Profil",firstName:"Prenume",lastName:"Nume",email:"Email",phone:"Telefon",saveChanges:"Salveaz Modificrile",saving:"Se salveaz...",changePassword:"Schimb Parola",currentPassword:"Parol curent",newPassword:"Parol nou",confirmNewPassword:"Confirm parola nou",updatePassword:"Actualizeaz Parola",passwordRequirement:"Parola ta nou trebuie s aib mai mult de 8 caractere.",passwordsDoNotMatch:"Parolele nu se potrivesc",userNotFound:"Utilizatorul nu a fost gsit",userIdNotFound:"ID-ul utilizatorului nu a fost gsit",profileUpdatedSuccess:"Profilul a fost actualizat cu succes!",profileUpdateFailed:"Eroare la actualizarea profilului. Te rugm s ncerci din nou.",notificationSettings:"Setri notificri",bookingUpdates:"Actualizri rezervri",bookingUpdatesDesc:"Primete notificri despre rezervrile tale",promotions:"Promoii",promotionsDesc:"Primete oferte speciale",newsletter:"Newsletter",newsletterDesc:"Rmi la curent cu tirile",enterCurrentPassword:"Introdu parola curent",enterNewPassword:"Introdu parola nou",confirmNewPasswordPlaceholder:"Confirm parola nou"},status:{upcoming:"n ateptare",active:"activ",completed:"finalizat"},errors:{accessDenied:"Acces refuzat",pleaseSignIn:"Te rugm s te autentifici pentru a accesa panoul tu.",signIn:"Autentificare"},loading:{text:"SE NCARC",preparing:"Pregtim panoul tu..."}},lxe=JSON.parse('{"title":"Panou Admin","subtitle":"Level Auto Rental","menu":{"dashboard":"Panou","requests":"Cereri","cars":"Maini","calendar":"Calendar","orders":"Comenzi","users":"Utilizatori"},"dashboard":{"title":"Bun venit napoi! Iat ce se ntmpl astzi.","totalSales":"Vnzri Totale","totalOrders":"Comenzi Totale","avgOrderValue":"Pre Mediu Comand","fleetStatus":"Stare Flot","available":"Disponibile","rented":"nchiriate","topPerformers":"Top Performeri","mostRented":"Cele Mai nchiriate","book":"Rezerv","view":"Vezi","until":"Pn pe","sales":"Vnzri","rental":"nchiriere","rentals":"nchirieri","chart":{"sales":"Vnzri","periods":{"12M":"12L","4W":"4S","30D":"30Z","7D":"7Z","24H":"24O"},"change":{"24H":" 5.2% fa de ultimele 24 ore","7D":" 4.1% fa de ultimele 7 zile","30D":" 3.2% fa de ultimele 30 zile","12M":" 12.5% fa de ultimele 12 luni","4W":" 8.3% fa de ultimele 12 sptmni","default":" 3.2% fa de perioada anterioar"}}},"requests":{"title":"Gestioneaz cererile de nchiriere ale clienilor","description":"Gestioneaz cererile de nchiriere ale clienilor ","rentalRequests":"Cereri de nchiriere","pending":"n ateptare","approved":"Aprobat","rejected":"Respins","search":"Caut cereri...","sortBy":"Sorteaz dup:","pickupDate":"Data Prelurii","amount":"Sum","status":"Status","clearSort":"terge Sortarea","customer":"Client","car":"Main","pickup":"Preluare","return":"Returnare","actions":"Aciuni","accept":"Accept","reject":"Respinge","edit":"Editeaz","viewDetails":"Vezi detalii","noRequests":"Nicio cerere gsit","showRejected":"Arat respinse","hideRejected":"Ascunde respinse","addRental":"Adaug nchiriere","createRequest":"Creeaz Cerere Nou","createNew":"Creeaz Cerere Nou","createRental":"Creeaz nchiriere","editRequest":"Editeaz Cererea","selectCar":"Selectare automobil","selectACar":"Selecteaz automobil","requestAccepted":"Cerere acceptat! nchirierea a fost creat cu succes.","requestRejected":"Cerere respins cu succes!","requestRestored":"Cerere restaurat ca n ateptare cu succes!","requestSetToPending":"Cerere setat ca n ateptare cu succes!","requestUpdated":"Cerere actualizat cu succes!","requestAcceptFailed":"Eroare la acceptarea cererii:","requestRejectFailed":"Eroare la respingerea cererii:","requestRestoreFailed":"Eroare la restaurarea cererii:","requestUpdateFailed":"Eroare la actualizarea cererii:","requestAcceptErrorOccurred":"A aprut o eroare la acceptarea cererii.","requestRejectErrorOccurred":"A aprut o eroare la respingerea cererii.","requestRestoreErrorOccurred":"A aprut o eroare la restaurarea cererii.","requestUpdateErrorOccurred":"A aprut o eroare la actualizarea cererii.","confirmAcceptRequest":"Accepti cererea de la","confirmRejectRequest":"Respingi cererea de la","confirmRestoreRequest":"Restaurezi cererea de la","confirmSetToPending":"Setezi cererea de la","rejectReasonPrompt":"Motiv (opional):","forCar":"pentru","toPending":"ca n ateptare?","backToPending":"napoi ca n ateptare?","fillRequiredFields":"Te rugm s completezi toate cmpurile obligatorii (Prenume, Nume, Vrst, Telefon, Main, Date)","fillRequiredFieldsShort":"Te rugm s completezi toate cmpurile obligatorii"},"orders":{"title":"Gestioneaz toate comenzile de nchiriere","description":"Gestioneaz toate comenzile de nchiriere i rezervrile","allOrders":"Toate Comenzile","search":"Caut comenzi...","searchPlaceholder":"Caut comenzi...","sortBy":"Sorteaz dup:","date":"Data","customer":"Client","amount":"Sum","status":"Status","clearSort":"terge Sortarea","orderId":"ID Comand","vehicle":"Vehicul","viewDetails":"Vezi detalii","cancel":"Anuleaz","redo":"Ref","addOrder":"Adaug Comand","noOrders":"Nicio comand gsit","showCancelled":"Arat anulate","hideCancelled":"Ascunde anulate","showing":"Afiare","to":"la","of":"din","orders":"comenzi","previous":"Anterior","next":"Urmtor","page":"Pagina","ofPage":"din","sales":"Vnzri","orderCancelled":"Comand anulat cu succes!","orderRestored":"Comand restaurat cu succes!","orderCancelFailed":"Eroare la anularea comenzii:","orderRestoreFailed":"Eroare la restaurarea comenzii:","orderCancelErrorOccurred":"A aprut o eroare la anularea comenzii.","orderRestoreErrorOccurred":"A aprut o eroare la restaurarea comenzii.","confirmCancelOrder":"Eti sigur c vrei s anulezi aceast comand?","confirmRestoreOrder":"Eti sigur c vrei s restaurezi aceast comand anulat?","contractNotFound":"Informaiile comenzii sau mainii nu au fost gsite. Nu se poate genera contractul.","contractGenerationFailed":"Eroare la generarea contractului","contractGenerationErrorDetails":"Te rugm s verifici consola browserului pentru mai multe detalii.","revenue":"Venituri","lastMonthComparison":"Comparaie cu Luna Trecut","lastMonthRevenue":"Venituri Luna Trecut","growth":"Cretere","avgDailyThisMonth":"Medie Zilnic (Luna Aceasta)","avgDailyLastMonth":"Medie Zilnic (Luna Trecut)","bestPerformingDay":"Ziua cu Cea Mai Bun Performan","keyMetrics":"Metrici Cheie","totalOrders":"Total Comenzi","vsLast30Days":"fa de ultimele 30 zile","bookingInfo":"Informaii Rezervare","bookingCalendar":"Calendar Rezervri","orderDetails":"Detalii nchiriere","orderNumber":"nchiriere #","customerInformation":"Informaii Client","rentalPeriod":"Perioada nchirierii","pickup":"Preluare","return":"Returnare","duration":"Durat","days":"zi(le)","financialDetails":"Detalii Financiare","pricePerDay":"Pre pe Zi","rentalDays":"Zile nchiriere","totalAmount":"Suma Total","contract":"Contract","createContract":"Creeaz Contract","createContractDescription":"Creeaz i salveaz contract cu detalii manuale","downloadContractPDF":"Descarc Contract PDF","generatingContract":"Se genereaz contractul...","recreateContract":"Recreeaz Contract","downloadExistingOrRecreate":"Descarc contractul existent sau recreeaz cu detalii noi","generatesCompleteContract":"Genereaz un contract complet de nchiriere n romn cu toate anexele","actions":"Aciuni","cancelOrder":"Anuleaz Comand","redoOrder":"Ref Comand","processing":"Se proceseaz...","unknownCustomer":"Client Necunoscut","unknownCar":"Main Necunoscut"},"cars":{"title":"Gestioneaz flota de vehicule","description":"Gestioneaz flota de vehicule","allCars":"Toate Mainile","addNew":"Adaug Main Nou","search":"Caut maini...","sortBy":"Sorteaz dup:","price":"Pre","year":"An","status":"Status","clearSort":"terge Sortarea","name":"Nume","make":"Marc","model":"Model","pricePerDay":"Pre pe Zi (MDL)","priceRanges":"Gama de Preuri","category":"Categorie","statusAvailable":"Disponibil","statusBooked":"nchiriat","statusMaintenance":"n ntreinere","actions":"Aciuni","edit":"Editeaz","delete":"terge","addCar":"Adaug Main","noCars":"Nicio main gsit","seats":"locuri","basicInfo":"Informaii de Baz","carName":"Nume Main","bodyType":"Tip Caroserie","body":"Caroserie","transmission":"Transmisie","fuelType":"Tip Combustibil","drivetrain":"Traciune","mainImage":"Imagine Principal","photoGallery":"Galerie Foto","rating":"Rating","reviewsCount":"Numr Recenzii","uploadImage":"ncarc Imagine","uploadingImage":"Se ncarc imaginea...","additionalFeatures":"Caracteristici Adiionale","addFeature":"Adaug caracteristic","save":"Salveaz","cancel":"Anuleaz","specifications":"Specificaii","images":"Imagini","features":"Caracteristici","statusAndRatings":"Status i Evaluri","mainPhoto":"Imagine Principal","gallery":"Galerie","addNewDescription":"Creeaz o nou intrare de vehicul n flot","discountPercentage":"Reducere Pre (%)","discountPercentageHint":"Introducei procentajul de reducere (0-100)","discountedPrice":"Pre cu reducere","saving":"Se salveaz...","categorySuv":"SUV","categorySports":"Sport","categoryLuxury":"Lux","carAddedSuccess":"Main adugat cu succes!","carAddedDescription":"Acum poi aduga mai multe detalii n seciunea de editare.","close":"nchide","continue":"Continu","carSaved":"Main salvat cu succes!","carCreated":"Main creat cu succes!","carUpdated":"Main actualizat cu succes!","carDeleted":"Main tears cu succes!","carSaveError":"Eroare la salvarea mainii. Te rugm s ncerci din nou.","carDeleteError":"Eroare la tergerea mainii. Te rugm s ncerci din nou.","statusUpdated":"Status actualizat cu succes!","statusUpdateError":"Eroare la actualizarea statusului. Te rugm s ncerci din nou.","confirmToggleStatus":"Eti sigur c vrei s schimbi statusul mainii","toStatus":"la","cannotToggleRentedCar":"Nu poi schimba statusul unei maini care are nchirieri active!","imageUploaded":"Imagine ncrcat cu succes!","galleryImageUploaded":"Imagine din galerie ncrcat cu succes!","imageUploadError":"Eroare la ncrcarea imaginii. Te rugm s ncerci din nou.","confirmDeleteCar":"Eti sigur c vrei s tergi aceast main?"},"calendar":{"title":"Vezi i gestioneaz calendarul rezervrilor","description":"Vezi i gestioneaz calendarul rezervrilor","sortBy":"Sorteaz dup:","time":"Timp","car":"Main","status":"Status","clearSort":"terge Sortarea","showFilters":"Arat Filtrele","hideFilters":"Ascunde Filtrele","pickups":"Preluri","returns":"Returnri","rental":"nchiriere","today":"Astzi"},"users":{"title":"Gestioneaz conturile utilizatorilor","description":"Gestioneaz conturile utilizatorilor i permisiunile","search":"Caut utilizatori...","user":"Utilizator","email":"E-mail","phone":"Telefon","role":"Rol","sortBy":"Sorteaz dup:","clearSort":"terge Sortarea","rentals":"nchirieri","totalSpent":"Total Cheltuit","showing":"Afiare","to":"la","of":"din","users":"utilizatori","previous":"Anterior","next":"Urmtor","page":"Pagina","ofPage":"din","noUsers":"Niciun utilizator gsit.","userDetails":"Detalii Utilizator","rentalHistory":"Istoric nchirieri","car":"Main","dates":"Dat","amount":"Sum","viewPastRentals":"Vezi nchirierile Anterioare ale lui {{name}}","noRentalHistory":"Nu s-a gsit istoric de nchirieri"},"orderDetails":{"title":"nchiriere #{{id}}","description":"Vezi i gestioneaz detaliile comenzii","bookingInformation":"Informaii Rezervare","pickup":"Preluare","return":"Returnare","time":"Ora","rentalDays":"Zile nchiriere","totalPrice":"Pre Total","additionalFeatures":"Caracteristici Adiionale","customer":"Client","payment":"Plat","amountPaid":"Sum Pltit","cancelOrder":"Anuleaz Comand","redoOrder":"Ref Comand","generateContract":"Genereaz Contract","downloadContract":"Descarc Contract"},"requestDetails":{"title":"Cerere #{{id}}","description":"Vezi i gestioneaz detaliile cererii de nchiriere","rentalRequest":"Cerere de nchiriere","rentalPeriod":"Perioada nchirierii","contactInformation":"Date de contact","rentalOptions":"Opiuni de nchiriere","priceDetails":"Detalii pre","pickupDate":"Data prelurii","returnDate":"Data returnrii","pricePerDay":"Pre pe zi","numberOfDays":"Numr zile","basePrice":"Pre de baz","additionalServices":"Servicii suplimentare","totalServices":"Total servicii","total":"Total","discount":"Reducere","days":"zile","hours":"ore","atTime":"ora","noOptionsSelected":"Nu au fost selectate opiuni suplimentare","commentOptional":"Comentariu (opional)","acceptRequest":"Accept Cererea","rejectRequest":"Respinge Cererea","setToPending":"Seteaz ca n Ateptare","undoReject":"Anuleaz Respingerea","editRequest":"Editeaz Cererea","processing":"Se proceseaz...","discount4Percent":"Reducere de 4% pentru 8+ zile","discount2Percent":"Reducere de 2% pentru 4+ zile"},"carDetails":{"title":"Editeaz Main","description":"Modific detaliile i setrile mainii"},"settings":{"title":"Setri cont","description":"Gestioneaz setrile i preferinele contului tu","profile":"Profil","password":"Parol","profileInformation":"Informaii Profil","firstName":"Prenume","lastName":"Nume","email":"Email","phone":"Telefon","saveChanges":"Salveaz Modificrile","saving":"Se salveaz...","changePassword":"Schimb Parola","currentPassword":"Parol curent","newPassword":"Parol nou","confirmNewPassword":"Confirm parola nou","updatePassword":"Actualizeaz Parola","passwordRequirement":"Parola ta nou trebuie s aib mai mult de 8 caractere.","passwordsDoNotMatch":"Parolele nu se potrivesc","userNotFound":"Utilizatorul nu a fost gsit","userIdNotFound":"ID-ul utilizatorului nu a fost gsit","profileUpdatedSuccess":"Profilul a fost actualizat cu succes!","profileUpdateFailed":"Eroare la actualizarea profilului. Te rugm s ncerci din nou.","notificationSettings":"Setri notificri","bookingUpdates":"Actualizri rezervri","bookingUpdatesDesc":"Primete notificri despre rezervrile tale","promotions":"Promoii","promotionsDesc":"Primete oferte speciale","newsletter":"Newsletter","newsletterDesc":"Rmi la curent cu tirile","enterCurrentPassword":"Introdu parola curent","enterNewPassword":"Introdu parola nou","confirmNewPasswordPlaceholder":"Confirm parola nou"},"common":{"refresh":"Remprospteaz","settings":"Setri","backToSite":"napoi la Site","signOut":"Deconectare","loading":"Se ncarc...","save":"Salveaz","cancel":"Anuleaz","delete":"terge","edit":"Editeaz","view":"Vezi","close":"nchide","confirm":"Confirm","search":"Caut","filter":"Filtreaz","noData":"Nu exist date","error":"Eroare","success":"Succes","warning":"Avertisment","info":"Informaie","unknownError":"Eroare necunoscut","add":"Adaug","create":"Creeaz","update":"Actualizeaz","upload":"ncarc","download":"Descarc","remove":"Elimin","select":"Selecteaz","uploading":"Se ncarc..."},"form":{"firstName":"Prenume","lastName":"Nume","age":"Vrst","phone":"Telefon","email":"E-mail","emailOptional":"E-mail (opional)","comment":"Comentariu","addComment":"Adugai un comentariu (opional)","required":"obligatoriu"},"placeholders":{"searchCars":"Caut maini...","searchRequests":"Caut cereri...","searchOrders":"Caut comenzi...","searchUsers":"Caut utilizatori...","selectCar":"Selecteaz automobil","phone":"000 00 000","email":"email@mail.com","addFeature":"Adaug caracteristic","drivetrain":"ex., AWD, RWD, FWD"},"status":{"contract":"Contract","active":"Activ","completed":"Finalizat","cancelled":"Anulat","pending":"n ateptare","approved":"Aprobat","rejected":"Respins","executed":"Executat"}}'),cxe={header:Gge,languages:Yge,hero:Xge,popularCars:Jge,features:Zge,howToRent:Qge,testimonials:exe,pages:txe,auth:rxe,footer:nxe,car:axe,calculator:ixe,notFound:sxe,dashboard:oxe,admin:lxe},uxe={home:"",cars:"",about:" ",whyUs:" ?",howToRent:" ",reviews:"",contact:"",auth:"",language:"",dashboard:" ",profile:"",settings:"",admin:"",signOut:""},dxe={en:"",ro:"",ru:""},hxe={companyType:" ",label:"-  ,  24/7  .",smallLabel:"    .",start:"+373 62 000 112",seeCars:" ",location:"",searchLocation:" ...",pickUpDate:" ",selectPickUpDate:"  ",returnDate:" ",selectReturnDate:"  ",search:""},fxe={sectionLabel:" ",sectionTitle:"     ",viewAll:"  "},mxe={sectionLabel:"  ",sectionTitle:"        ",bestPrices:{title:" ",description:"    .        ."},support:{title:" 24/7",description:"   ,      ."},easyBooking:{title:" ",description:"    .         ."},wideSelection:{title:" ",description:"            ."}},pxe={sectionLabel:"   ",sectionTitle:" 5  ",steps:{contact:{title:"  ",description:"        ."},details:{title:" ",description:"    ."},price:{title:" ",description:"   ."},pickup:{title:" ",description:"    ."},return:{title:" ",description:"      ."}}},gxe={sectionLabel:"",sectionTitle:"    ?",sectionDescription:",       ",verifiedClient:" "},xxe=JSON.parse('{"faq":{"hero":{"label":"  ","title":"  ","description":"         ."},"sections":{"booking":{"title":"  ","questions":{"how-to-book":"  ?","modify-cancel":"      ?","account-required":"      ?","advance-booking":"     ?"},"answers":{"how-to-book":"       ,     ,      .      ,       .","modify-cancel":" ****:  ,       \\n ** **:    24   \\n ****:     \\n ****:    3-5  ","account-required":"         ,      ,       .     .","advance-booking":" ****:   3-5    \\n ** **:   1-2    \\n ** **:  ,     \\n ** **:         "}},"requirements":{"title":"  ","questions":{"documents":"     ?","age-requirement":"    ?","insurance":"  ?","additional-driver":"     ?"},"answers":{"documents":"    ,     (, )        .        .","age-requirement":" ** **: 21    \\n **   **:      25 \\n ** **: 25+    \\n ** **:    ","insurance":" ** **:    \\n **  **:   \\n ** **:     \\n ** **:   ","additional-driver":" ****:      \\n ****:     \\n ****:      \\n ****:    "}},"payment":{"title":"  ","questions":{"payment-methods":"    ?","deposit":"  ?","additional-fees":"   ,     ?","discounts":"   ?"},"answers":{"payment-methods":" ** **: Visa, MasterCard, American Express\\n ** **:    \\n ** **:    \\n ** **:   ","deposit":" ****:   \\n ****:     (200-1000)\\n ****:    \\n ** **: 3-5    ","additional-fees":" ** **: 25     \\n ** **: 0,25    \\n ****:     \\n ****: 50   /","discounts":" ** **: 10%   7+  \\n ** **: 15%    7+ \\n ** **:     \\n ****:    -"}},"pickup":{"title":"  ","questions":{"pickup-location":"     ?","different-return":"       ?","late-return":" ,      ?","refuel":"     ?"},"answers":{"pickup-location":" ** **:    \\n ****:   \\n ** **:    \\n ****:    ","different-return":" ** **:    \\n ** **: 50-200    \\n ** **:   48 \\n ****:      ","late-return":" ** **: 30  \\n **  **: 25     \\n ****:   ,  \\n ****:    ,   ","refuel":" **  **:      ,    \\n ** **: 50 +    \\n ** **:    \\n ****:      "}}},"contact":{"title":" ?","description":"    .","contact-support":" ","call-us":" +373 62 000 112","response-time":"   2 "}},"terms":{"hero":{"label":" ","title":" "},"sections":{"intro":{"title":"   ","description":"     -,     .        (GDPR)  ,   GDPR      .     -,       .    ,        .              , ,      ."},"cookies":{"title":"Cookie ","bullet1":" cookie         ","bullet2":"   cookie,      cookie","bullet3":"  cookie       -","bullet4":"Cookie      ,    "},"personal-data":{"title":" ","bullet1":"   : , email,    IP-","bullet2":"         ","bullet3":"   ,     ","bullet4":"       -    "},"location":{"title":" ","bullet1":"   IP-    ","bullet2":"       ","bullet3":"         ","bullet4":"         "},"payment":{"title":"    ","bullet1":"          PayPal","bullet2":"      ","bullet3":"      ","bullet4":"           "},"notifications":{"title":" ","bullet1":"  -,       email","bullet2":"     ,   ","bullet3":"        ","bullet4":"     -   "}}},"about":{"hero":{"label":" ","title":"Level Auto Rental","subtitle":"- . . .","location":" "},"stats":{"vehicles":"","customers":" ","experience":" ","awards":" "},"story":{"label":" ","title":"      ","paragraph1":" Level Auto Rental    2009                 .     ,             .","paragraph2":"        500    -     .        ,         .","paragraph3":"       ,      ,            ."},"values":{"label":" ","title":",   ,   ","safety":{"title":"  ","description":"        ,      ."},"customer":{"title":"  ","description":"      ,      ."},"quality":{"title":" ","description":"            ."}},"team":{"label":" ","title":",    "}},"contact":{"hero":{"label":"  ","title":" ","description":""},"contact-info":" ","contact-description":"      .          .","send-message":"  ","form-description":"  ,        .","dev-mode":{"title":" ","description":"           .","button":"  "},"form":{"first-name":"","last-name":"","email":" ","email-example":"  email","phone-number":" ","message":"","message-cta":"  ...","question":"    ","start":""}},"reviews":{"hero":{"label":" ","title":"   ","description":"        ,    LevelAutoRental      ."},"sectionLabel":"","sectionTitle":" ","sectionDescription":",         LevelAutoRental","stats":{"totalReviews":" ","averageRating":" ","satisfaction":" "},"cta":{"title":"  ?","description":"    ,   LevelAutoRental      .","button":"  "},"categories":{"nchiriere":"","Splare":"","Vnzare":"","Detailing auto":"-"},"comments":{"1":"       ,  , ,      .  ,     ,          , .       ,     .","2":"     ,  ,   10. ","3":"    ,    ,   ,       ,         .","5":" ,   ,     !  . ","6":"    ,  .","7":" .  .    .    . !","8":"      .    .   .    . ,  .  . ,     .","10":"  !       .      .      .","11":"   !  ,   ,     .  !","12":"   !    .         .  !","13":" !   Mercedes,    .  ,   ,     .     !","14":"   !  ,     .     ,      .","15":"      .     ,   .  ,   ,   .","16":"         .        .        .","17":"   .  ,  .   ,      . !","18":"      !  ,      .    !","19":" ,  ,  .    ?   ,       .","20":"     .  ,     .     !"}}}'),vxe={login:{"left-part":{smallLabel:" ",label:" ,  ",description:"       .  ,     24/7."},"right-part":{label:"",description:"        .",email:" ","email-example":"  email",password:"","enter-password":" ","remember-me":" ","forgot-password":" ?",login:"",or:"","create-account":" "}},register:{"left-part":{smallLabel:"  ",label:"  ",description:"     ,       ."},"right-part":{label:"",description:"    .","first-name":"","first-name-placeholder":"","last-name":"","last-name-placeholder":"",email:" ","email-placeholder":"  email",phone:" ",password:"","enter-password":" ","join-us":"",or:"","already-have-account":"  ?"}},forgot:{"left-part":{smallLabel:" ?",label:" ",description:" !           ."},"right-part":{label:" ",description:"  email ,       .",email:" ","email-placeholder":"  email","send-reset":" ","back-to-login":"  "},success:{title:"Email !",description:"        email .      ."}}},yxe={description:"    -,          .    .",sections:{reservations:{title:"",links:{start:" ",howTo:" ",calculator:" ",faq:"  FAQ"}},vehicles:{title:"",links:{suv:"",sports:" ",luxury:" ",all:" "}},company:{title:"",links:{about:"O ",reviews:"","rental-conditions":" "}}},social:{"follow-us":"  ",tiktok:"",facebook:"",instagram:""},bottom:{logo:"LevelAutoRental",copyright:" 2025 LevelAutoRental.   "},faq:{hero:{label:" ",title:"  ",description:"          .      ,  ,    ,  ."},sections:{booking:{title:"  ",questions:{"how-to-book":"  ?","modify-cancel":"      ?","account-required":"      ?","advance-booking":"     ?"},answers:{"how-to-book":"       ,     ,       .","modify-cancel":",          .  ,         .","account-required":"    ,      ,      .","advance-booking":"       ,    .        ."}},requirements:{title:"  ",questions:{documents:"     ?","age-requirement":"   ?",insurance:"  ?","additional-driver":"     ?"},answers:{documents:"    ,     (, )        .","age-requirement":",    21 .   25       .",insurance:"     .             .","additional-driver":",           .          ."}},payment:{title:"  ",questions:{"payment-methods":"    ?",deposit:"  ?","additional-fees":"   ,     ?",discounts:"   ?"},answers:{"payment-methods":"     (Visa, MasterCard, American Express),       . -  .",deposit:",     .         .","additional-fees":"      ,  ,  ,    ,   GPS   .",discounts:",    ,      .    ,    ."}},pickup:{title:"  ",questions:{"pickup-location":"     ?","different-return":"       ?","late-return":" ,      ?",refuel:"     ?"},answers:{"pickup-location":"       ,     .     .","different-return":",      .        .","late-return":"      .     ,    ,    .",refuel:"       ,    .        ."}}},contact:{title:" ?",description:"   ,  ?    ,          .","contact-support":"  ","call-us":" +373 62 000 112"}}},bxe={mileageLimit:"200/",seeCar:" ",seeMorePhotos:"  {{count}} "},wxe={selectVehicle:" ",rentalPeriod:" ",numberOfDays:" ",day:"",days:"",locations:{title:"",chisinauAirport:" ",chisinauCenter:" ",chisinauNord:" "},pickup:"",return:"",additionalOptions:" ",unlimitedMileage:" ",noSpeedLimit:"  ",tireInsurance:" ",personalDriver:" ",priorityService:" ",childCarSeat:" ",simWithInternet:"SIM  ",roadsideAssistance:" ",totalCost:" ",priceDetails:" ",selectedVehicle:" ",pricePerDay:"  ",priceRanges:" ",numberDays:" ",discount:"",basePrice:" ",additionalServices:" ",noSpeedLimitShort:"  ",insurance:"",childSeat:" ",simInternet:"SIM ",assistance:"",services:"",bookNow:" ",contactUs:"  ",pricesAreIndicative:"  ",pricesDescription:"    , ,    .",discountApplied4:" : -4%  8+ ",discountApplied2:" : -2%  4+ ",perDay:"/"},jxe={title:"  ",description:", ,   ,     .",goBackHome:"  ",goBack:""},Nxe={sidebar:{overview:"",myBookings:" ",cars:"",profile:"",calendar:"",settings:"",signOut:""},overview:{title:" ",rentalsInfo:"  ",totalBookings:" ",finishedBookings:" ",activeBookings:" ",lifetimeBookings:"   ",totalSpent:" ",lifetimeSpending:"   ",loyaltyPoints:" ",availablePoints:" ",recentBookings:" ",viewAll:" ",favoriteCar:" ",noFavoriteCar:"    ,       .",startBorrowing:" "}},_xe={header:uxe,languages:dxe,hero:hxe,popularCars:fxe,features:mxe,howToRent:pxe,testimonials:gxe,pages:xxe,auth:vxe,footer:yxe,car:bxe,calculator:wxe,notFound:jxe,dashboard:Nxe};vs.use(KH).init({lng:"ro",fallbackLng:"ro",interpolation:{escapeValue:!1},resources:{ro:{translation:cxe},ru:{translation:_xe},en:{translation:Kge}}});(function(e){if(e.search[1]==="/"){var t=e.search.slice(1).split("&").map(function(r){return r.replace(/~and~/g,"&")}).join("?");window.history.replaceState(null,"",e.pathname.slice(0,-1)+t+e.hash)}})(window.location);X9.createRoot(document.getElementById("app")).render(a.jsx(_.StrictMode,{children:a.jsx(hge,{})}));export{cn as _,vg as c,Wo as g};
