var fz=Object.defineProperty;var mz=(e,r,n)=>r in e?fz(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;var dn=(e,r,n)=>mz(e,typeof r!="symbol"?r+"":r,n);function xD(e,r){for(var n=0;n<r.length;n++){const a=r[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(a,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Eg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function vD(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var n=function a(){return this instanceof a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var s=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,s.get?s:{enumerable:!0,get:function(){return e[a]}})}),n}var l1={exports:{}},np={},c1={exports:{}},Zr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS;function pz(){if(bS)return Zr;bS=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function x(L){return L===null||typeof L!="object"?null:(L=p&&L[p]||L["@@iterator"],typeof L=="function"?L:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function v(L,R,G){this.props=L,this.context=R,this.refs=w,this.updater=G||g}v.prototype.isReactComponent={},v.prototype.setState=function(L,R){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,R,"setState")},v.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function S(){}S.prototype=v.prototype;function k(L,R,G){this.props=L,this.context=R,this.refs=w,this.updater=G||g}var j=k.prototype=new S;j.constructor=k,y(j,v.prototype),j.isPureReactComponent=!0;var C=Array.isArray,z=Object.prototype.hasOwnProperty,$={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function V(L,R,G){var X,D={},Z=null,ae=null;if(R!=null)for(X in R.ref!==void 0&&(ae=R.ref),R.key!==void 0&&(Z=""+R.key),R)z.call(R,X)&&!F.hasOwnProperty(X)&&(D[X]=R[X]);var le=arguments.length-2;if(le===1)D.children=G;else if(1<le){for(var Q=Array(le),oe=0;oe<le;oe++)Q[oe]=arguments[oe+2];D.children=Q}if(L&&L.defaultProps)for(X in le=L.defaultProps,le)D[X]===void 0&&(D[X]=le[X]);return{$$typeof:e,type:L,key:Z,ref:ae,props:D,_owner:$.current}}function B(L,R){return{$$typeof:e,type:L.type,key:R,ref:L.ref,props:L.props,_owner:L._owner}}function K(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function T(L){var R={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(G){return R[G]})}var M=/\/+/g;function I(L,R){return typeof L=="object"&&L!==null&&L.key!=null?T(""+L.key):R.toString(36)}function q(L,R,G,X,D){var Z=typeof L;(Z==="undefined"||Z==="boolean")&&(L=null);var ae=!1;if(L===null)ae=!0;else switch(Z){case"string":case"number":ae=!0;break;case"object":switch(L.$$typeof){case e:case r:ae=!0}}if(ae)return ae=L,D=D(ae),L=X===""?"."+I(ae,0):X,C(D)?(G="",L!=null&&(G=L.replace(M,"$&/")+"/"),q(D,R,G,"",function(oe){return oe})):D!=null&&(K(D)&&(D=B(D,G+(!D.key||ae&&ae.key===D.key?"":(""+D.key).replace(M,"$&/")+"/")+L)),R.push(D)),1;if(ae=0,X=X===""?".":X+":",C(L))for(var le=0;le<L.length;le++){Z=L[le];var Q=X+I(Z,le);ae+=q(Z,R,G,Q,D)}else if(Q=x(L),typeof Q=="function")for(L=Q.call(L),le=0;!(Z=L.next()).done;)Z=Z.value,Q=X+I(Z,le++),ae+=q(Z,R,G,Q,D);else if(Z==="object")throw R=String(L),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return ae}function H(L,R,G){if(L==null)return L;var X=[],D=0;return q(L,X,"","",function(Z){return R.call(G,Z,D++)}),X}function te(L){if(L._status===-1){var R=L._result;R=R(),R.then(function(G){(L._status===0||L._status===-1)&&(L._status=1,L._result=G)},function(G){(L._status===0||L._status===-1)&&(L._status=2,L._result=G)}),L._status===-1&&(L._status=0,L._result=R)}if(L._status===1)return L._result.default;throw L._result}var O={current:null},re={transition:null},Y={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:re,ReactCurrentOwner:$};function P(){throw Error("act(...) is not supported in production builds of React.")}return Zr.Children={map:H,forEach:function(L,R,G){H(L,function(){R.apply(this,arguments)},G)},count:function(L){var R=0;return H(L,function(){R++}),R},toArray:function(L){return H(L,function(R){return R})||[]},only:function(L){if(!K(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Zr.Component=v,Zr.Fragment=n,Zr.Profiler=s,Zr.PureComponent=k,Zr.StrictMode=a,Zr.Suspense=u,Zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Zr.act=P,Zr.cloneElement=function(L,R,G){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var X=y({},L.props),D=L.key,Z=L.ref,ae=L._owner;if(R!=null){if(R.ref!==void 0&&(Z=R.ref,ae=$.current),R.key!==void 0&&(D=""+R.key),L.type&&L.type.defaultProps)var le=L.type.defaultProps;for(Q in R)z.call(R,Q)&&!F.hasOwnProperty(Q)&&(X[Q]=R[Q]===void 0&&le!==void 0?le[Q]:R[Q])}var Q=arguments.length-2;if(Q===1)X.children=G;else if(1<Q){le=Array(Q);for(var oe=0;oe<Q;oe++)le[oe]=arguments[oe+2];X.children=le}return{$$typeof:e,type:L.type,key:D,ref:Z,props:X,_owner:ae}},Zr.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:o,_context:L},L.Consumer=L},Zr.createElement=V,Zr.createFactory=function(L){var R=V.bind(null,L);return R.type=L,R},Zr.createRef=function(){return{current:null}},Zr.forwardRef=function(L){return{$$typeof:c,render:L}},Zr.isValidElement=K,Zr.lazy=function(L){return{$$typeof:f,_payload:{_status:-1,_result:L},_init:te}},Zr.memo=function(L,R){return{$$typeof:d,type:L,compare:R===void 0?null:R}},Zr.startTransition=function(L){var R=re.transition;re.transition={};try{L()}finally{re.transition=R}},Zr.unstable_act=P,Zr.useCallback=function(L,R){return O.current.useCallback(L,R)},Zr.useContext=function(L){return O.current.useContext(L)},Zr.useDebugValue=function(){},Zr.useDeferredValue=function(L){return O.current.useDeferredValue(L)},Zr.useEffect=function(L,R){return O.current.useEffect(L,R)},Zr.useId=function(){return O.current.useId()},Zr.useImperativeHandle=function(L,R,G){return O.current.useImperativeHandle(L,R,G)},Zr.useInsertionEffect=function(L,R){return O.current.useInsertionEffect(L,R)},Zr.useLayoutEffect=function(L,R){return O.current.useLayoutEffect(L,R)},Zr.useMemo=function(L,R){return O.current.useMemo(L,R)},Zr.useReducer=function(L,R,G){return O.current.useReducer(L,R,G)},Zr.useRef=function(L){return O.current.useRef(L)},Zr.useState=function(L){return O.current.useState(L)},Zr.useSyncExternalStore=function(L,R,G){return O.current.useSyncExternalStore(L,R,G)},Zr.useTransition=function(){return O.current.useTransition()},Zr.version="18.3.1",Zr}var wS;function jo(){return wS||(wS=1,c1.exports=pz()),c1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jS;function gz(){if(jS)return np;jS=1;var e=jo(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,u,d){var f,p={},x=null,g=null;d!==void 0&&(x=""+d),u.key!==void 0&&(x=""+u.key),u.ref!==void 0&&(g=u.ref);for(f in u)a.call(u,f)&&!o.hasOwnProperty(f)&&(p[f]=u[f]);if(c&&c.defaultProps)for(f in u=c.defaultProps,u)p[f]===void 0&&(p[f]=u[f]);return{$$typeof:r,type:c,key:x,ref:g,props:p,_owner:s.current}}return np.Fragment=n,np.jsx=l,np.jsxs=l,np}var NS;function xz(){return NS||(NS=1,l1.exports=gz()),l1.exports}var i=xz(),N=jo();const tt=Qo(N),vz=xD({__proto__:null,default:tt},[N]);var Ag={},u1={exports:{}},Bs={},d1={exports:{}},h1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S;function yz(){return _S||(_S=1,function(e){function r(re,Y){var P=re.length;re.push(Y);e:for(;0<P;){var L=P-1>>>1,R=re[L];if(0<s(R,Y))re[L]=Y,re[P]=R,P=L;else break e}}function n(re){return re.length===0?null:re[0]}function a(re){if(re.length===0)return null;var Y=re[0],P=re.pop();if(P!==Y){re[0]=P;e:for(var L=0,R=re.length,G=R>>>1;L<G;){var X=2*(L+1)-1,D=re[X],Z=X+1,ae=re[Z];if(0>s(D,P))Z<R&&0>s(ae,D)?(re[L]=ae,re[Z]=P,L=Z):(re[L]=D,re[X]=P,L=X);else if(Z<R&&0>s(ae,P))re[L]=ae,re[Z]=P,L=Z;else break e}}return Y}function s(re,Y){var P=re.sortIndex-Y.sortIndex;return P!==0?P:re.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var u=[],d=[],f=1,p=null,x=3,g=!1,y=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(re){for(var Y=n(d);Y!==null;){if(Y.callback===null)a(d);else if(Y.startTime<=re)a(d),Y.sortIndex=Y.expirationTime,r(u,Y);else break;Y=n(d)}}function C(re){if(w=!1,j(re),!y)if(n(u)!==null)y=!0,te(z);else{var Y=n(d);Y!==null&&O(C,Y.startTime-re)}}function z(re,Y){y=!1,w&&(w=!1,S(V),V=-1),g=!0;var P=x;try{for(j(Y),p=n(u);p!==null&&(!(p.expirationTime>Y)||re&&!T());){var L=p.callback;if(typeof L=="function"){p.callback=null,x=p.priorityLevel;var R=L(p.expirationTime<=Y);Y=e.unstable_now(),typeof R=="function"?p.callback=R:p===n(u)&&a(u),j(Y)}else a(u);p=n(u)}if(p!==null)var G=!0;else{var X=n(d);X!==null&&O(C,X.startTime-Y),G=!1}return G}finally{p=null,x=P,g=!1}}var $=!1,F=null,V=-1,B=5,K=-1;function T(){return!(e.unstable_now()-K<B)}function M(){if(F!==null){var re=e.unstable_now();K=re;var Y=!0;try{Y=F(!0,re)}finally{Y?I():($=!1,F=null)}}else $=!1}var I;if(typeof k=="function")I=function(){k(M)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,H=q.port2;q.port1.onmessage=M,I=function(){H.postMessage(null)}}else I=function(){v(M,0)};function te(re){F=re,$||($=!0,I())}function O(re,Y){V=v(function(){re(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,te(z))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(re){switch(x){case 1:case 2:case 3:var Y=3;break;default:Y=x}var P=x;x=Y;try{return re()}finally{x=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,Y){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var P=x;x=re;try{return Y()}finally{x=P}},e.unstable_scheduleCallback=function(re,Y,P){var L=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?L+P:L):P=L,re){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=P+R,re={id:f++,callback:Y,priorityLevel:re,startTime:P,expirationTime:R,sortIndex:-1},P>L?(re.sortIndex=P,r(d,re),n(u)===null&&re===n(d)&&(w?(S(V),V=-1):w=!0,O(C,P-L))):(re.sortIndex=R,r(u,re),y||g||(y=!0,te(z))),re},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(re){var Y=x;return function(){var P=x;x=Y;try{return re.apply(this,arguments)}finally{x=P}}}}(h1)),h1}var SS;function bz(){return SS||(SS=1,d1.exports=yz()),d1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kS;function wz(){if(kS)return Bs;kS=1;var e=jo(),r=bz();function n(h){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+h,b=1;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function o(h,m){l(h,m),l(h+"Capture",m)}function l(h,m){for(s[h]=m,h=0;h<m.length;h++)a.add(m[h])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function x(h){return u.call(p,h)?!0:u.call(f,h)?!1:d.test(h)?p[h]=!0:(f[h]=!0,!1)}function g(h,m,b,E){if(b!==null&&b.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return E?!1:b!==null?!b.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function y(h,m,b,E){if(m===null||typeof m>"u"||g(h,m,b,E))return!0;if(E)return!1;if(b!==null)switch(b.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function w(h,m,b,E,W,ee,fe){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=E,this.attributeNamespace=W,this.mustUseProperty=b,this.propertyName=h,this.type=m,this.sanitizeURL=ee,this.removeEmptyString=fe}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){v[h]=new w(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var m=h[0];v[m]=new w(m,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){v[h]=new w(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){v[h]=new w(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){v[h]=new w(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){v[h]=new w(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){v[h]=new w(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){v[h]=new w(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){v[h]=new w(h,5,!1,h.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function k(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var m=h.replace(S,k);v[m]=new w(m,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var m=h.replace(S,k);v[m]=new w(m,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var m=h.replace(S,k);v[m]=new w(m,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){v[h]=new w(h,1,!1,h.toLowerCase(),null,!1,!1)}),v.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){v[h]=new w(h,1,!1,h.toLowerCase(),null,!0,!0)});function j(h,m,b,E){var W=v.hasOwnProperty(m)?v[m]:null;(W!==null?W.type!==0:E||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(y(m,b,W,E)&&(b=null),E||W===null?x(m)&&(b===null?h.removeAttribute(m):h.setAttribute(m,""+b)):W.mustUseProperty?h[W.propertyName]=b===null?W.type===3?!1:"":b:(m=W.attributeName,E=W.attributeNamespace,b===null?h.removeAttribute(m):(W=W.type,b=W===3||W===4&&b===!0?"":""+b,E?h.setAttributeNS(E,m,b):h.setAttribute(m,b))))}var C=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),$=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),T=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),re=Symbol.iterator;function Y(h){return h===null||typeof h!="object"?null:(h=re&&h[re]||h["@@iterator"],typeof h=="function"?h:null)}var P=Object.assign,L;function R(h){if(L===void 0)try{throw Error()}catch(b){var m=b.stack.trim().match(/\n( *(at )?)/);L=m&&m[1]||""}return`
`+L+h}var G=!1;function X(h,m){if(!h||G)return"";G=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(et){var E=et}Reflect.construct(h,[],m)}else{try{m.call()}catch(et){E=et}h.call(m.prototype)}else{try{throw Error()}catch(et){E=et}h()}}catch(et){if(et&&E&&typeof et.stack=="string"){for(var W=et.stack.split(`
`),ee=E.stack.split(`
`),fe=W.length-1,Oe=ee.length-1;1<=fe&&0<=Oe&&W[fe]!==ee[Oe];)Oe--;for(;1<=fe&&0<=Oe;fe--,Oe--)if(W[fe]!==ee[Oe]){if(fe!==1||Oe!==1)do if(fe--,Oe--,0>Oe||W[fe]!==ee[Oe]){var $e=`
`+W[fe].replace(" at new "," at ");return h.displayName&&$e.includes("<anonymous>")&&($e=$e.replace("<anonymous>",h.displayName)),$e}while(1<=fe&&0<=Oe);break}}}finally{G=!1,Error.prepareStackTrace=b}return(h=h?h.displayName||h.name:"")?R(h):""}function D(h){switch(h.tag){case 5:return R(h.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return h=X(h.type,!1),h;case 11:return h=X(h.type.render,!1),h;case 1:return h=X(h.type,!0),h;default:return""}}function Z(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case F:return"Fragment";case $:return"Portal";case B:return"Profiler";case V:return"StrictMode";case I:return"Suspense";case q:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case T:return(h.displayName||"Context")+".Consumer";case K:return(h._context.displayName||"Context")+".Provider";case M:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case H:return m=h.displayName||null,m!==null?m:Z(h.type)||"Memo";case te:m=h._payload,h=h._init;try{return Z(h(m))}catch{}}return null}function ae(h){var m=h.type;switch(h.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=m.render,h=h.displayName||h.name||"",m.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(m);case 8:return m===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function le(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function Q(h){var m=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function oe(h){var m=Q(h)?"checked":"value",b=Object.getOwnPropertyDescriptor(h.constructor.prototype,m),E=""+h[m];if(!h.hasOwnProperty(m)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var W=b.get,ee=b.set;return Object.defineProperty(h,m,{configurable:!0,get:function(){return W.call(this)},set:function(fe){E=""+fe,ee.call(this,fe)}}),Object.defineProperty(h,m,{enumerable:b.enumerable}),{getValue:function(){return E},setValue:function(fe){E=""+fe},stopTracking:function(){h._valueTracker=null,delete h[m]}}}}function ve(h){h._valueTracker||(h._valueTracker=oe(h))}function ue(h){if(!h)return!1;var m=h._valueTracker;if(!m)return!0;var b=m.getValue(),E="";return h&&(E=Q(h)?h.checked?"true":"false":h.value),h=E,h!==b?(m.setValue(h),!0):!1}function ge(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function ie(h,m){var b=m.checked;return P({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:b??h._wrapperState.initialChecked})}function se(h,m){var b=m.defaultValue==null?"":m.defaultValue,E=m.checked!=null?m.checked:m.defaultChecked;b=le(m.value!=null?m.value:b),h._wrapperState={initialChecked:E,initialValue:b,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function _e(h,m){m=m.checked,m!=null&&j(h,"checked",m,!1)}function Te(h,m){_e(h,m);var b=le(m.value),E=m.type;if(b!=null)E==="number"?(b===0&&h.value===""||h.value!=b)&&(h.value=""+b):h.value!==""+b&&(h.value=""+b);else if(E==="submit"||E==="reset"){h.removeAttribute("value");return}m.hasOwnProperty("value")?Me(h,m.type,b):m.hasOwnProperty("defaultValue")&&Me(h,m.type,le(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(h.defaultChecked=!!m.defaultChecked)}function Xe(h,m,b){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var E=m.type;if(!(E!=="submit"&&E!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+h._wrapperState.initialValue,b||m===h.value||(h.value=m),h.defaultValue=m}b=h.name,b!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,b!==""&&(h.name=b)}function Me(h,m,b){(m!=="number"||ge(h.ownerDocument)!==h)&&(b==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+b&&(h.defaultValue=""+b))}var Re=Array.isArray;function xe(h,m,b,E){if(h=h.options,m){m={};for(var W=0;W<b.length;W++)m["$"+b[W]]=!0;for(b=0;b<h.length;b++)W=m.hasOwnProperty("$"+h[b].value),h[b].selected!==W&&(h[b].selected=W),W&&E&&(h[b].defaultSelected=!0)}else{for(b=""+le(b),m=null,W=0;W<h.length;W++){if(h[W].value===b){h[W].selected=!0,E&&(h[W].defaultSelected=!0);return}m!==null||h[W].disabled||(m=h[W])}m!==null&&(m.selected=!0)}}function Pe(h,m){if(m.dangerouslySetInnerHTML!=null)throw Error(n(91));return P({},m,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function be(h,m){var b=m.value;if(b==null){if(b=m.children,m=m.defaultValue,b!=null){if(m!=null)throw Error(n(92));if(Re(b)){if(1<b.length)throw Error(n(93));b=b[0]}m=b}m==null&&(m=""),b=m}h._wrapperState={initialValue:le(b)}}function Ae(h,m){var b=le(m.value),E=le(m.defaultValue);b!=null&&(b=""+b,b!==h.value&&(h.value=b),m.defaultValue==null&&h.defaultValue!==b&&(h.defaultValue=b)),E!=null&&(h.defaultValue=""+E)}function Ie(h){var m=h.textContent;m===h._wrapperState.initialValue&&m!==""&&m!==null&&(h.value=m)}function Ce(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function He(h,m){return h==null||h==="http://www.w3.org/1999/xhtml"?Ce(m):h==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var Ve,at=function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,b,E,W){MSApp.execUnsafeLocalFunction(function(){return h(m,b,E,W)})}:h}(function(h,m){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=m;else{for(Ve=Ve||document.createElement("div"),Ve.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=Ve.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;m.firstChild;)h.appendChild(m.firstChild)}});function Qe(h,m){if(m){var b=h.firstChild;if(b&&b===h.lastChild&&b.nodeType===3){b.nodeValue=m;return}}h.textContent=m}var ut={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ft=["Webkit","ms","Moz","O"];Object.keys(ut).forEach(function(h){Ft.forEach(function(m){m=m+h.charAt(0).toUpperCase()+h.substring(1),ut[m]=ut[h]})});function he(h,m,b){return m==null||typeof m=="boolean"||m===""?"":b||typeof m!="number"||m===0||ut.hasOwnProperty(h)&&ut[h]?(""+m).trim():m+"px"}function pt(h,m){h=h.style;for(var b in m)if(m.hasOwnProperty(b)){var E=b.indexOf("--")===0,W=he(b,m[b],E);b==="float"&&(b="cssFloat"),E?h.setProperty(b,W):h[b]=W}}var vt=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wt(h,m){if(m){if(vt[h]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(n(137,h));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(n(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(n(61))}if(m.style!=null&&typeof m.style!="object")throw Error(n(62))}}function gt(h,m){if(h.indexOf("-")===-1)return typeof m.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=null;function rt(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var It=null,Bt=null,zt=null;function yt(h){if(h=zu(h)){if(typeof It!="function")throw Error(n(280));var m=h.stateNode;m&&(m=qd(m),It(h.stateNode,h.type,m))}}function ht(h){Bt?zt?zt.push(h):zt=[h]:Bt=h}function ur(){if(Bt){var h=Bt,m=zt;if(zt=Bt=null,yt(h),m)for(h=0;h<m.length;h++)yt(m[h])}}function Jt(h,m){return h(m)}function Tr(){}var $r=!1;function Dt(h,m,b){if($r)return h(m,b);$r=!0;try{return Jt(h,m,b)}finally{$r=!1,(Bt!==null||zt!==null)&&(Tr(),ur())}}function Wr(h,m){var b=h.stateNode;if(b===null)return null;var E=qd(b);if(E===null)return null;b=E[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(h=h.type,E=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!E;break e;default:h=!1}if(h)return null;if(b&&typeof b!="function")throw Error(n(231,m,typeof b));return b}var Nr=!1;if(c)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch{Nr=!1}function _r(h,m,b,E,W,ee,fe,Oe,$e){var et=Array.prototype.slice.call(arguments,3);try{m.apply(b,et)}catch(Nt){this.onError(Nt)}}var gr=!1,Sr=null,hn=!1,en=null,pe={onError:function(h){gr=!0,Sr=h}};function Ee(h,m,b,E,W,ee,fe,Oe,$e){gr=!1,Sr=null,_r.apply(pe,arguments)}function ze(h,m,b,E,W,ee,fe,Oe,$e){if(Ee.apply(this,arguments),gr){if(gr){var et=Sr;gr=!1,Sr=null}else throw Error(n(198));hn||(hn=!0,en=et)}}function Ke(h){var m=h,b=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,m.flags&4098&&(b=m.return),h=m.return;while(h)}return m.tag===3?b:null}function ft(h){if(h.tag===13){var m=h.memoizedState;if(m===null&&(h=h.alternate,h!==null&&(m=h.memoizedState)),m!==null)return m.dehydrated}return null}function bt(h){if(Ke(h)!==h)throw Error(n(188))}function _t(h){var m=h.alternate;if(!m){if(m=Ke(h),m===null)throw Error(n(188));return m!==h?null:h}for(var b=h,E=m;;){var W=b.return;if(W===null)break;var ee=W.alternate;if(ee===null){if(E=W.return,E!==null){b=E;continue}break}if(W.child===ee.child){for(ee=W.child;ee;){if(ee===b)return bt(W),h;if(ee===E)return bt(W),m;ee=ee.sibling}throw Error(n(188))}if(b.return!==E.return)b=W,E=ee;else{for(var fe=!1,Oe=W.child;Oe;){if(Oe===b){fe=!0,b=W,E=ee;break}if(Oe===E){fe=!0,E=W,b=ee;break}Oe=Oe.sibling}if(!fe){for(Oe=ee.child;Oe;){if(Oe===b){fe=!0,b=ee,E=W;break}if(Oe===E){fe=!0,E=ee,b=W;break}Oe=Oe.sibling}if(!fe)throw Error(n(189))}}if(b.alternate!==E)throw Error(n(190))}if(b.tag!==3)throw Error(n(188));return b.stateNode.current===b?h:m}function $t(h){return h=_t(h),h!==null?Qt(h):null}function Qt(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var m=Qt(h);if(m!==null)return m;h=h.sibling}return null}var nr=r.unstable_scheduleCallback,vr=r.unstable_cancelCallback,Kr=r.unstable_shouldYield,Ut=r.unstable_requestPaint,At=r.unstable_now,Wt=r.unstable_getCurrentPriorityLevel,fr=r.unstable_ImmediatePriority,Ir=r.unstable_UserBlockingPriority,kr=r.unstable_NormalPriority,Er=r.unstable_LowPriority,Xr=r.unstable_IdlePriority,Gr=null,_n=null;function Ii(h){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(Gr,h,void 0,(h.current.flags&128)===128)}catch{}}var Br=Math.clz32?Math.clz32:Ys,En=Math.log,tn=Math.LN2;function Ys(h){return h>>>=0,h===0?32:31-(En(h)/tn|0)|0}var Ri=64,Gn=4194304;function zi(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function Fa(h,m){var b=h.pendingLanes;if(b===0)return 0;var E=0,W=h.suspendedLanes,ee=h.pingedLanes,fe=b&268435455;if(fe!==0){var Oe=fe&~W;Oe!==0?E=zi(Oe):(ee&=fe,ee!==0&&(E=zi(ee)))}else fe=b&~W,fe!==0?E=zi(fe):ee!==0&&(E=zi(ee));if(E===0)return 0;if(m!==0&&m!==E&&!(m&W)&&(W=E&-E,ee=m&-m,W>=ee||W===16&&(ee&4194240)!==0))return m;if(E&4&&(E|=b&16),m=h.entangledLanes,m!==0)for(h=h.entanglements,m&=E;0<m;)b=31-Br(m),W=1<<b,E|=h[b],m&=~W;return E}function tl(h,m){switch(h){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rn(h,m){for(var b=h.suspendedLanes,E=h.pingedLanes,W=h.expirationTimes,ee=h.pendingLanes;0<ee;){var fe=31-Br(ee),Oe=1<<fe,$e=W[fe];$e===-1?(!(Oe&b)||Oe&E)&&(W[fe]=tl(Oe,m)):$e<=m&&(h.expiredLanes|=Oe),ee&=~Oe}}function fn(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function wc(){var h=Ri;return Ri<<=1,!(Ri&4194240)&&(Ri=64),h}function $l(h){for(var m=[],b=0;31>b;b++)m.push(h);return m}function bi(h,m,b){h.pendingLanes|=m,m!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,m=31-Br(m),h[m]=b}function wi(h,m){var b=h.pendingLanes&~m;h.pendingLanes=m,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=m,h.mutableReadLanes&=m,h.entangledLanes&=m,m=h.entanglements;var E=h.eventTimes;for(h=h.expirationTimes;0<b;){var W=31-Br(b),ee=1<<W;m[W]=0,E[W]=-1,h[W]=-1,b&=~ee}}function Xs(h,m){var b=h.entangledLanes|=m;for(h=h.entanglements;b;){var E=31-Br(b),W=1<<E;W&m|h[E]&m&&(h[E]|=m),b&=~W}}var qr=0;function Ps(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var Fi,Co,Es,Js,ji,Zs=!1,$a=[],os=null,Yn=null,Ba=null,xr=new Map,rl=new Map,As=[],Dd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ku(h,m){switch(h){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":xr.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(m.pointerId)}}function Ni(h,m,b,E,W,ee){return h===null||h.nativeEvent!==ee?(h={blockedOn:m,domEventName:b,eventSystemFlags:E,nativeEvent:ee,targetContainers:[W]},m!==null&&(m=zu(m),m!==null&&Co(m)),h):(h.eventSystemFlags|=E,m=h.targetContainers,W!==null&&m.indexOf(W)===-1&&m.push(W),h)}function _i(h,m,b,E,W){switch(m){case"focusin":return os=Ni(os,h,m,b,E,W),!0;case"dragenter":return Yn=Ni(Yn,h,m,b,E,W),!0;case"mouseover":return Ba=Ni(Ba,h,m,b,E,W),!0;case"pointerover":var ee=W.pointerId;return xr.set(ee,Ni(xr.get(ee)||null,h,m,b,E,W)),!0;case"gotpointercapture":return ee=W.pointerId,rl.set(ee,Ni(rl.get(ee)||null,h,m,b,E,W)),!0}return!1}function jc(h){var m=Ql(h.target);if(m!==null){var b=Ke(m);if(b!==null){if(m=b.tag,m===13){if(m=ft(b),m!==null){h.blockedOn=m,ji(h.priority,function(){Es(b)});return}}else if(m===3&&b.stateNode.current.memoizedState.isDehydrated){h.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}h.blockedOn=null}function nl(h){if(h.blockedOn!==null)return!1;for(var m=h.targetContainers;0<m.length;){var b=al(h.domEventName,h.eventSystemFlags,m[0],h.nativeEvent);if(b===null){b=h.nativeEvent;var E=new b.constructor(b.type,b);xt=E,b.target.dispatchEvent(E),xt=null}else return m=zu(b),m!==null&&Co(m),h.blockedOn=b,!1;m.shift()}return!0}function Po(h,m,b){nl(h)&&b.delete(m)}function Bl(){Zs=!1,os!==null&&nl(os)&&(os=null),Yn!==null&&nl(Yn)&&(Yn=null),Ba!==null&&nl(Ba)&&(Ba=null),xr.forEach(Po),rl.forEach(Po)}function Ua(h,m){h.blockedOn===m&&(h.blockedOn=null,Zs||(Zs=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bl)))}function $i(h){function m(W){return Ua(W,h)}if(0<$a.length){Ua($a[0],h);for(var b=1;b<$a.length;b++){var E=$a[b];E.blockedOn===h&&(E.blockedOn=null)}}for(os!==null&&Ua(os,h),Yn!==null&&Ua(Yn,h),Ba!==null&&Ua(Ba,h),xr.forEach(m),rl.forEach(m),b=0;b<As.length;b++)E=As[b],E.blockedOn===h&&(E.blockedOn=null);for(;0<As.length&&(b=As[0],b.blockedOn===null);)jc(b),b.blockedOn===null&&As.shift()}var ls=C.ReactCurrentBatchConfig,Eo=!0;function Ul(h,m,b,E){var W=qr,ee=ls.transition;ls.transition=null;try{qr=1,Ds(h,m,b,E)}finally{qr=W,ls.transition=ee}}function ql(h,m,b,E){var W=qr,ee=ls.transition;ls.transition=null;try{qr=4,Ds(h,m,b,E)}finally{qr=W,ls.transition=ee}}function Ds(h,m,b,E){if(Eo){var W=al(h,m,b,E);if(W===null)$d(h,m,E,cs,b),ku(h,E);else if(_i(W,h,m,b,E))E.stopPropagation();else if(ku(h,E),m&4&&-1<Dd.indexOf(h)){for(;W!==null;){var ee=zu(W);if(ee!==null&&Fi(ee),ee=al(h,m,b,E),ee===null&&$d(h,m,E,cs,b),ee===W)break;W=ee}W!==null&&E.stopPropagation()}else $d(h,m,E,null,b)}}var cs=null;function al(h,m,b,E){if(cs=null,h=rt(E),h=Ql(h),h!==null)if(m=Ke(h),m===null)h=null;else if(b=m.tag,b===13){if(h=ft(m),h!==null)return h;h=null}else if(b===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;h=null}else m!==h&&(h=null);return cs=h,null}function Ao(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wt()){case fr:return 1;case Ir:return 4;case kr:case Er:return 16;case Xr:return 536870912;default:return 16}default:return 16}}var Bi=null,Ls=null,il=null;function Cu(){if(il)return il;var h,m=Ls,b=m.length,E,W="value"in Bi?Bi.value:Bi.textContent,ee=W.length;for(h=0;h<b&&m[h]===W[h];h++);var fe=b-h;for(E=1;E<=fe&&m[b-E]===W[ee-E];E++);return il=W.slice(h,1<E?1-E:void 0)}function Si(h){var m=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&m===13&&(h=13)):h=m,h===10&&(h=13),32<=h||h===13?h:0}function ki(){return!0}function Nc(){return!1}function An(h){function m(b,E,W,ee,fe){this._reactName=b,this._targetInst=W,this.type=E,this.nativeEvent=ee,this.target=fe,this.currentTarget=null;for(var Oe in h)h.hasOwnProperty(Oe)&&(b=h[Oe],this[Oe]=b?b(ee):ee[Oe]);return this.isDefaultPrevented=(ee.defaultPrevented!=null?ee.defaultPrevented:ee.returnValue===!1)?ki:Nc,this.isPropagationStopped=Nc,this}return P(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),m}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_c=An(Ui),U=P({},Ui,{view:0,detail:0}),ce=An(U),Ne,Le,qe,it=P({},U,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hl,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==qe&&(qe&&h.type==="mousemove"?(Ne=h.screenX-qe.screenX,Le=h.screenY-qe.screenY):Le=Ne=0,qe=h),Ne)},movementY:function(h){return"movementY"in h?h.movementY:Le}}),ct=An(it),Ot=P({},it,{dataTransfer:0}),Mt=An(Ot),ar=P({},U,{relatedTarget:0}),ir=An(ar),Pt=P({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),er=An(Pt),Ur=P({},Ui,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Vr=An(Ur),ja=P({},Ui,{data:0}),sa=An(ja),qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Os={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wh(h){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(h):(h=qi[h])?!!m[h]:!1}function Hl(){return Wh}var Sc=P({},U,{key:function(h){if(h.key){var m=qa[h.key]||h.key;if(m!=="Unidentified")return m}return h.type==="keypress"?(h=Si(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Os[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hl,charCode:function(h){return h.type==="keypress"?Si(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Si(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),Vl=An(Sc),kc=P({},it,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wl=An(kc),Cc=P({},U,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hl}),ii=An(Cc),Pc=P({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ec=An(Pc),Ld=P({},it,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),Od=An(Ld),Xn=[9,13,27,32],Qs=c&&"CompositionEvent"in window,Do=null;c&&"documentMode"in document&&(Do=document.documentMode);var Kh=c&&"TextEvent"in window&&!Do,us=c&&(!Qs||Do&&8<Do&&11>=Do),Kl=" ",Pu=!1;function Eu(h,m){switch(h){case"keyup":return Xn.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sl(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Ts=!1;function ds(h,m){switch(h){case"compositionend":return sl(m);case"keypress":return m.which!==32?null:(Pu=!0,Kl);case"textInput":return h=m.data,h===Kl&&Pu?null:h;default:return null}}function hs(h,m){if(Ts)return h==="compositionend"||!Qs&&Eu(h,m)?(h=Cu(),il=Ls=Bi=null,Ts=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return us&&m.locale!=="ko"?null:m.data;default:return null}}var Gl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lo(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m==="input"?!!Gl[h.type]:m==="textarea"}function ol(h,m,b,E){ht(E),m=Zh(m,"onChange"),0<m.length&&(b=new _c("onChange","change",null,b,E),h.push({event:b,listeners:m}))}var ll=null,Oo=null;function oa(h){zd(h,0)}function Ac(h){var m=$c(h);if(ue(m))return h}function To(h,m){if(h==="change")return m}var eo=!1;if(c){var Dc;if(c){var Lc="oninput"in document;if(!Lc){var Au=document.createElement("div");Au.setAttribute("oninput","return;"),Lc=typeof Au.oninput=="function"}Dc=Lc}else Dc=!1;eo=Dc&&(!document.documentMode||9<document.documentMode)}function Du(){ll&&(ll.detachEvent("onpropertychange",cl),Oo=ll=null)}function cl(h){if(h.propertyName==="value"&&Ac(Oo)){var m=[];ol(m,Oo,h,rt(h)),Dt(oa,m)}}function Yl(h,m,b){h==="focusin"?(Du(),ll=m,Oo=b,ll.attachEvent("onpropertychange",cl)):h==="focusout"&&Du()}function Xl(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Ac(Oo)}function Oc(h,m){if(h==="click")return Ac(m)}function Jl(h,m){if(h==="input"||h==="change")return Ac(m)}function Tc(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var Jn=typeof Object.is=="function"?Object.is:Tc;function Hi(h,m){if(Jn(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var b=Object.keys(h),E=Object.keys(m);if(b.length!==E.length)return!1;for(E=0;E<b.length;E++){var W=b[E];if(!u.call(m,W)||!Jn(h[W],m[W]))return!1}return!0}function nn(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function mn(h,m){var b=nn(h);h=0;for(var E;b;){if(b.nodeType===3){if(E=h+b.textContent.length,h<=m&&E>=m)return{node:b,offset:m-h};h=E}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=nn(b)}}function Zn(h,m){return h&&m?h===m?!0:h&&h.nodeType===3?!1:m&&m.nodeType===3?Zn(h,m.parentNode):"contains"in h?h.contains(m):h.compareDocumentPosition?!!(h.compareDocumentPosition(m)&16):!1:!1}function ma(){for(var h=window,m=ge();m instanceof h.HTMLIFrameElement;){try{var b=typeof m.contentWindow.location.href=="string"}catch{b=!1}if(b)h=m.contentWindow;else break;m=ge(h.document)}return m}function to(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m&&(m==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||m==="textarea"||h.contentEditable==="true")}function Td(h){var m=ma(),b=h.focusedElem,E=h.selectionRange;if(m!==b&&b&&b.ownerDocument&&Zn(b.ownerDocument.documentElement,b)){if(E!==null&&to(b)){if(m=E.start,h=E.end,h===void 0&&(h=m),"selectionStart"in b)b.selectionStart=m,b.selectionEnd=Math.min(h,b.value.length);else if(h=(m=b.ownerDocument||document)&&m.defaultView||window,h.getSelection){h=h.getSelection();var W=b.textContent.length,ee=Math.min(E.start,W);E=E.end===void 0?ee:Math.min(E.end,W),!h.extend&&ee>E&&(W=E,E=ee,ee=W),W=mn(b,ee);var fe=mn(b,E);W&&fe&&(h.rangeCount!==1||h.anchorNode!==W.node||h.anchorOffset!==W.offset||h.focusNode!==fe.node||h.focusOffset!==fe.offset)&&(m=m.createRange(),m.setStart(W.node,W.offset),h.removeAllRanges(),ee>E?(h.addRange(m),h.extend(fe.node,fe.offset)):(m.setEnd(fe.node,fe.offset),h.addRange(m)))}}for(m=[],h=b;h=h.parentNode;)h.nodeType===1&&m.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<m.length;b++)h=m[b],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var Lu=c&&"documentMode"in document&&11>=document.documentMode,ul=null,Gh=null,Ou=null,Yh=!1;function Om(h,m,b){var E=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;Yh||ul==null||ul!==ge(E)||(E=ul,"selectionStart"in E&&to(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),Ou&&Hi(Ou,E)||(Ou=E,E=Zh(Gh,"onSelect"),0<E.length&&(m=new _c("onSelect","select",null,m,b),h.push({event:m,listeners:E}),m.target=ul)))}function Md(h,m){var b={};return b[h.toLowerCase()]=m.toLowerCase(),b["Webkit"+h]="webkit"+m,b["Moz"+h]="moz"+m,b}var Mc={animationend:Md("Animation","AnimationEnd"),animationiteration:Md("Animation","AnimationIteration"),animationstart:Md("Animation","AnimationStart"),transitionend:Md("Transition","TransitionEnd")},Ic={},Tm={};c&&(Tm=document.createElement("div").style,"AnimationEvent"in window||(delete Mc.animationend.animation,delete Mc.animationiteration.animation,delete Mc.animationstart.animation),"TransitionEvent"in window||delete Mc.transitionend.transition);function Id(h){if(Ic[h])return Ic[h];if(!Mc[h])return h;var m=Mc[h],b;for(b in m)if(m.hasOwnProperty(b)&&b in Tm)return Ic[h]=m[b];return h}var Mm=Id("animationend"),Im=Id("animationiteration"),Rm=Id("animationstart"),zm=Id("transitionend"),Fm=new Map,$m="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mo(h,m){Fm.set(h,m),o(m,[h])}for(var Tu=0;Tu<$m.length;Tu++){var Ci=$m[Tu],Ms=Ci.toLowerCase(),Xh=Ci[0].toUpperCase()+Ci.slice(1);Mo(Ms,"on"+Xh)}Mo(Mm,"onAnimationEnd"),Mo(Im,"onAnimationIteration"),Mo(Rm,"onAnimationStart"),Mo("dblclick","onDoubleClick"),Mo("focusin","onFocus"),Mo("focusout","onBlur"),Mo(zm,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zl));function Rd(h,m,b){var E=h.type||"unknown-event";h.currentTarget=b,ze(E,m,void 0,h),h.currentTarget=null}function zd(h,m){m=(m&4)!==0;for(var b=0;b<h.length;b++){var E=h[b],W=E.event;E=E.listeners;e:{var ee=void 0;if(m)for(var fe=E.length-1;0<=fe;fe--){var Oe=E[fe],$e=Oe.instance,et=Oe.currentTarget;if(Oe=Oe.listener,$e!==ee&&W.isPropagationStopped())break e;Rd(W,Oe,et),ee=$e}else for(fe=0;fe<E.length;fe++){if(Oe=E[fe],$e=Oe.instance,et=Oe.currentTarget,Oe=Oe.listener,$e!==ee&&W.isPropagationStopped())break e;Rd(W,Oe,et),ee=$e}}}if(hn)throw h=en,hn=!1,en=null,h}function xn(h,m){var b=m[Wi];b===void 0&&(b=m[Wi]=new Set);var E=h+"__bubble";b.has(E)||(Fd(m,h,2,!1),b.add(E))}function Jh(h,m,b){var E=0;m&&(E|=4),Fd(b,h,E,m)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function Rc(h){if(!h[Mu]){h[Mu]=!0,a.forEach(function(b){b!=="selectionchange"&&(Y0.has(b)||Jh(b,!1,h),Jh(b,!0,h))});var m=h.nodeType===9?h:h.ownerDocument;m===null||m[Mu]||(m[Mu]=!0,Jh("selectionchange",!1,m))}}function Fd(h,m,b,E){switch(Ao(m)){case 1:var W=Ul;break;case 4:W=ql;break;default:W=Ds}b=W.bind(null,m,b,h),W=void 0,!Nr||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(W=!0),E?W!==void 0?h.addEventListener(m,b,{capture:!0,passive:W}):h.addEventListener(m,b,!0):W!==void 0?h.addEventListener(m,b,{passive:W}):h.addEventListener(m,b,!1)}function $d(h,m,b,E,W){var ee=E;if(!(m&1)&&!(m&2)&&E!==null)e:for(;;){if(E===null)return;var fe=E.tag;if(fe===3||fe===4){var Oe=E.stateNode.containerInfo;if(Oe===W||Oe.nodeType===8&&Oe.parentNode===W)break;if(fe===4)for(fe=E.return;fe!==null;){var $e=fe.tag;if(($e===3||$e===4)&&($e=fe.stateNode.containerInfo,$e===W||$e.nodeType===8&&$e.parentNode===W))return;fe=fe.return}for(;Oe!==null;){if(fe=Ql(Oe),fe===null)return;if($e=fe.tag,$e===5||$e===6){E=ee=fe;continue e}Oe=Oe.parentNode}}E=E.return}Dt(function(){var et=ee,Nt=rt(b),St=[];e:{var jt=Fm.get(h);if(jt!==void 0){var Vt=_c,tr=h;switch(h){case"keypress":if(Si(b)===0)break e;case"keydown":case"keyup":Vt=Vl;break;case"focusin":tr="focus",Vt=ir;break;case"focusout":tr="blur",Vt=ir;break;case"beforeblur":case"afterblur":Vt=ir;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Vt=ct;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Vt=Mt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Vt=ii;break;case Mm:case Im:case Rm:Vt=er;break;case zm:Vt=Ec;break;case"scroll":Vt=ce;break;case"wheel":Vt=Od;break;case"copy":case"cut":case"paste":Vt=Vr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Vt=Wl}var sr=(m&4)!==0,Sa=!sr&&h==="scroll",Ye=sr?jt!==null?jt+"Capture":null:jt;sr=[];for(var Ue=et,Ze;Ue!==null;){Ze=Ue;var Et=Ze.stateNode;if(Ze.tag===5&&Et!==null&&(Ze=Et,Ye!==null&&(Et=Wr(Ue,Ye),Et!=null&&sr.push(Bd(Ue,Et,Ze)))),Sa)break;Ue=Ue.return}0<sr.length&&(jt=new Vt(jt,tr,null,b,Nt),St.push({event:jt,listeners:sr}))}}if(!(m&7)){e:{if(jt=h==="mouseover"||h==="pointerover",Vt=h==="mouseout"||h==="pointerout",jt&&b!==xt&&(tr=b.relatedTarget||b.fromElement)&&(Ql(tr)||tr[si]))break e;if((Vt||jt)&&(jt=Nt.window===Nt?Nt:(jt=Nt.ownerDocument)?jt.defaultView||jt.parentWindow:window,Vt?(tr=b.relatedTarget||b.toElement,Vt=et,tr=tr?Ql(tr):null,tr!==null&&(Sa=Ke(tr),tr!==Sa||tr.tag!==5&&tr.tag!==6)&&(tr=null)):(Vt=null,tr=et),Vt!==tr)){if(sr=ct,Et="onMouseLeave",Ye="onMouseEnter",Ue="mouse",(h==="pointerout"||h==="pointerover")&&(sr=Wl,Et="onPointerLeave",Ye="onPointerEnter",Ue="pointer"),Sa=Vt==null?jt:$c(Vt),Ze=tr==null?jt:$c(tr),jt=new sr(Et,Ue+"leave",Vt,b,Nt),jt.target=Sa,jt.relatedTarget=Ze,Et=null,Ql(Nt)===et&&(sr=new sr(Ye,Ue+"enter",tr,b,Nt),sr.target=Ze,sr.relatedTarget=Sa,Et=sr),Sa=Et,Vt&&tr)t:{for(sr=Vt,Ye=tr,Ue=0,Ze=sr;Ze;Ze=zc(Ze))Ue++;for(Ze=0,Et=Ye;Et;Et=zc(Et))Ze++;for(;0<Ue-Ze;)sr=zc(sr),Ue--;for(;0<Ze-Ue;)Ye=zc(Ye),Ze--;for(;Ue--;){if(sr===Ye||Ye!==null&&sr===Ye.alternate)break t;sr=zc(sr),Ye=zc(Ye)}sr=null}else sr=null;Vt!==null&&X0(St,jt,Vt,sr,!1),tr!==null&&Sa!==null&&X0(St,Sa,tr,sr,!0)}}e:{if(jt=et?$c(et):window,Vt=jt.nodeName&&jt.nodeName.toLowerCase(),Vt==="select"||Vt==="input"&&jt.type==="file")var lr=To;else if(Lo(jt))if(eo)lr=Jl;else{lr=Xl;var yr=Yl}else(Vt=jt.nodeName)&&Vt.toLowerCase()==="input"&&(jt.type==="checkbox"||jt.type==="radio")&&(lr=Oc);if(lr&&(lr=lr(h,et))){ol(St,lr,b,Nt);break e}yr&&yr(h,jt,et),h==="focusout"&&(yr=jt._wrapperState)&&yr.controlled&&jt.type==="number"&&Me(jt,"number",jt.value)}switch(yr=et?$c(et):window,h){case"focusin":(Lo(yr)||yr.contentEditable==="true")&&(ul=yr,Gh=et,Ou=null);break;case"focusout":Ou=Gh=ul=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Om(St,b,Nt);break;case"selectionchange":if(Lu)break;case"keydown":case"keyup":Om(St,b,Nt)}var br;if(Qs)e:{switch(h){case"compositionstart":var Lr="onCompositionStart";break e;case"compositionend":Lr="onCompositionEnd";break e;case"compositionupdate":Lr="onCompositionUpdate";break e}Lr=void 0}else Ts?Eu(h,b)&&(Lr="onCompositionEnd"):h==="keydown"&&b.keyCode===229&&(Lr="onCompositionStart");Lr&&(us&&b.locale!=="ko"&&(Ts||Lr!=="onCompositionStart"?Lr==="onCompositionEnd"&&Ts&&(br=Cu()):(Bi=Nt,Ls="value"in Bi?Bi.value:Bi.textContent,Ts=!0)),yr=Zh(et,Lr),0<yr.length&&(Lr=new sa(Lr,h,null,b,Nt),St.push({event:Lr,listeners:yr}),br?Lr.data=br:(br=sl(b),br!==null&&(Lr.data=br)))),(br=Kh?ds(h,b):hs(h,b))&&(et=Zh(et,"onBeforeInput"),0<et.length&&(Nt=new sa("onBeforeInput","beforeinput",null,b,Nt),St.push({event:Nt,listeners:et}),Nt.data=br))}zd(St,m)})}function Bd(h,m,b){return{instance:h,listener:m,currentTarget:b}}function Zh(h,m){for(var b=m+"Capture",E=[];h!==null;){var W=h,ee=W.stateNode;W.tag===5&&ee!==null&&(W=ee,ee=Wr(h,b),ee!=null&&E.unshift(Bd(h,ee,W)),ee=Wr(h,m),ee!=null&&E.push(Bd(h,ee,W))),h=h.return}return E}function zc(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function X0(h,m,b,E,W){for(var ee=m._reactName,fe=[];b!==null&&b!==E;){var Oe=b,$e=Oe.alternate,et=Oe.stateNode;if($e!==null&&$e===E)break;Oe.tag===5&&et!==null&&(Oe=et,W?($e=Wr(b,ee),$e!=null&&fe.unshift(Bd(b,$e,Oe))):W||($e=Wr(b,ee),$e!=null&&fe.push(Bd(b,$e,Oe)))),b=b.return}fe.length!==0&&h.push({event:m,listeners:fe})}var jb=/\r\n?/g,Nb=/\u0000|\uFFFD/g;function J0(h){return(typeof h=="string"?h:""+h).replace(jb,`
`).replace(Nb,"")}function Qh(h,m,b){if(m=J0(m),J0(h)!==m&&b)throw Error(n(425))}function Iu(){}var Ud=null,Fc=null;function Bm(h,m){return h==="textarea"||h==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var Um=typeof setTimeout=="function"?setTimeout:void 0,Z0=typeof clearTimeout=="function"?clearTimeout:void 0,Q0=typeof Promise=="function"?Promise:void 0,_b=typeof queueMicrotask=="function"?queueMicrotask:typeof Q0<"u"?function(h){return Q0.resolve(null).then(h).catch(Sb)}:Um;function Sb(h){setTimeout(function(){throw h})}function qm(h,m){var b=m,E=0;do{var W=b.nextSibling;if(h.removeChild(b),W&&W.nodeType===8)if(b=W.data,b==="/$"){if(E===0){h.removeChild(W),$i(m);return}E--}else b!=="$"&&b!=="$?"&&b!=="$!"||E++;b=W}while(b);$i(m)}function Pi(h){for(;h!=null;h=h.nextSibling){var m=h.nodeType;if(m===1||m===3)break;if(m===8){if(m=h.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return h}function Is(h){h=h.previousSibling;for(var m=0;h;){if(h.nodeType===8){var b=h.data;if(b==="$"||b==="$!"||b==="$?"){if(m===0)return h;m--}else b==="/$"&&m++}h=h.previousSibling}return null}var Vi=Math.random().toString(36).slice(2),Io="__reactFiber$"+Vi,Ru="__reactProps$"+Vi,si="__reactContainer$"+Vi,Wi="__reactEvents$"+Vi,kb="__reactListeners$"+Vi,Cb="__reactHandles$"+Vi;function Ql(h){var m=h[Io];if(m)return m;for(var b=h.parentNode;b;){if(m=b[si]||b[Io]){if(b=m.alternate,m.child!==null||b!==null&&b.child!==null)for(h=Is(h);h!==null;){if(b=h[Io])return b;h=Is(h)}return m}h=b,b=h.parentNode}return null}function zu(h){return h=h[Io]||h[si],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function $c(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(n(33))}function qd(h){return h[Ru]||null}var Hm=[],dl=-1;function ro(h){return{current:h}}function un(h){0>dl||(h.current=Hm[dl],Hm[dl]=null,dl--)}function pn(h,m){dl++,Hm[dl]=h.current,h.current=m}var ec={},Ha=ro(ec),Ki=ro(!1),Bc=ec;function Fu(h,m){var b=h.type.contextTypes;if(!b)return ec;var E=h.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===m)return E.__reactInternalMemoizedMaskedChildContext;var W={},ee;for(ee in b)W[ee]=m[ee];return E&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=m,h.__reactInternalMemoizedMaskedChildContext=W),W}function Gi(h){return h=h.childContextTypes,h!=null}function ef(){un(Ki),un(Ha)}function eg(h,m,b){if(Ha.current!==ec)throw Error(n(168));pn(Ha,m),pn(Ki,b)}function Vm(h,m,b){var E=h.stateNode;if(m=m.childContextTypes,typeof E.getChildContext!="function")return b;E=E.getChildContext();for(var W in E)if(!(W in m))throw Error(n(108,ae(h)||"Unknown",W));return P({},b,E)}function Uc(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||ec,Bc=Ha.current,pn(Ha,h),pn(Ki,Ki.current),!0}function tg(h,m,b){var E=h.stateNode;if(!E)throw Error(n(169));b?(h=Vm(h,m,Bc),E.__reactInternalMemoizedMergedChildContext=h,un(Ki),un(Ha),pn(Ha,h)):un(Ki),pn(Ki,b)}var hl=null,Hd=!1,_=!1;function A(h){hl===null?hl=[h]:hl.push(h)}function J(h){Hd=!0,A(h)}function ne(){if(!_&&hl!==null){_=!0;var h=0,m=qr;try{var b=hl;for(qr=1;h<b.length;h++){var E=b[h];do E=E(!0);while(E!==null)}hl=null,Hd=!1}catch(W){throw hl!==null&&(hl=hl.slice(h+1)),nr(fr,ne),W}finally{qr=m,_=!1}}return null}var de=[],me=0,ye=null,we=0,je=[],Se=0,Fe=null,Ge=1,ke="";function Be(h,m){de[me++]=we,de[me++]=ye,ye=h,we=m}function We(h,m,b){je[Se++]=Ge,je[Se++]=ke,je[Se++]=Fe,Fe=h;var E=Ge;h=ke;var W=32-Br(E)-1;E&=~(1<<W),b+=1;var ee=32-Br(m)+W;if(30<ee){var fe=W-W%5;ee=(E&(1<<fe)-1).toString(32),E>>=fe,W-=fe,Ge=1<<32-Br(m)+W|b<<W|E,ke=ee+h}else Ge=1<<ee|b<<W|E,ke=h}function lt(h){h.return!==null&&(Be(h,1),We(h,1,0))}function Je(h){for(;h===ye;)ye=de[--me],de[me]=null,we=de[--me],de[me]=null;for(;h===Fe;)Fe=je[--Se],je[Se]=null,ke=je[--Se],je[Se]=null,Ge=je[--Se],je[Se]=null}var nt=null,st=null,dt=!1,mt=null;function or(h,m){var b=Bo(5,null,null,0);b.elementType="DELETED",b.stateNode=m,b.return=h,m=h.deletions,m===null?(h.deletions=[b],h.flags|=16):m.push(b)}function Kt(h,m){switch(h.tag){case 5:var b=h.type;return m=m.nodeType!==1||b.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(h.stateNode=m,nt=h,st=Pi(m.firstChild),!0):!1;case 6:return m=h.pendingProps===""||m.nodeType!==3?null:m,m!==null?(h.stateNode=m,nt=h,st=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(b=Fe!==null?{id:Ge,overflow:ke}:null,h.memoizedState={dehydrated:m,treeContext:b,retryLane:1073741824},b=Bo(18,null,null,0),b.stateNode=m,b.return=h,h.child=b,nt=h,st=null,!0):!1;default:return!1}}function Rr(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Zt(h){if(dt){var m=st;if(m){var b=m;if(!Kt(h,m)){if(Rr(h))throw Error(n(418));m=Pi(b.nextSibling);var E=nt;m&&Kt(h,m)?or(E,b):(h.flags=h.flags&-4097|2,dt=!1,nt=h)}}else{if(Rr(h))throw Error(n(418));h.flags=h.flags&-4097|2,dt=!1,nt=h}}}function Jr(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;nt=h}function Qn(h){if(h!==nt)return!1;if(!dt)return Jr(h),dt=!0,!1;var m;if((m=h.tag!==3)&&!(m=h.tag!==5)&&(m=h.type,m=m!=="head"&&m!=="body"&&!Bm(h.type,h.memoizedProps)),m&&(m=st)){if(Rr(h))throw zr(),Error(n(418));for(;m;)or(h,m),m=Pi(m.nextSibling)}if(Jr(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));e:{for(h=h.nextSibling,m=0;h;){if(h.nodeType===8){var b=h.data;if(b==="/$"){if(m===0){st=Pi(h.nextSibling);break e}m--}else b!=="$"&&b!=="$!"&&b!=="$?"||m++}h=h.nextSibling}st=null}}else st=nt?Pi(h.stateNode.nextSibling):null;return!0}function zr(){for(var h=st;h;)h=Pi(h.nextSibling)}function Gt(){st=nt=null,dt=!1}function Tt(h){mt===null?mt=[h]:mt.push(h)}var la=C.ReactCurrentBatchConfig;function Cr(h,m,b){if(h=b.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(n(309));var E=b.stateNode}if(!E)throw Error(n(147,h));var W=E,ee=""+h;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===ee?m.ref:(m=function(fe){var Oe=W.refs;fe===null?delete Oe[ee]:Oe[ee]=fe},m._stringRef=ee,m)}if(typeof h!="string")throw Error(n(284));if(!b._owner)throw Error(n(290,h))}return h}function Yr(h,m){throw h=Object.prototype.toString.call(m),Error(n(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h))}function Sn(h){var m=h._init;return m(h._payload)}function Da(h){function m(Ye,Ue){if(h){var Ze=Ye.deletions;Ze===null?(Ye.deletions=[Ue],Ye.flags|=16):Ze.push(Ue)}}function b(Ye,Ue){if(!h)return null;for(;Ue!==null;)m(Ye,Ue),Ue=Ue.sibling;return null}function E(Ye,Ue){for(Ye=new Map;Ue!==null;)Ue.key!==null?Ye.set(Ue.key,Ue):Ye.set(Ue.index,Ue),Ue=Ue.sibling;return Ye}function W(Ye,Ue){return Ye=Yu(Ye,Ue),Ye.index=0,Ye.sibling=null,Ye}function ee(Ye,Ue,Ze){return Ye.index=Ze,h?(Ze=Ye.alternate,Ze!==null?(Ze=Ze.index,Ze<Ue?(Ye.flags|=2,Ue):Ze):(Ye.flags|=2,Ue)):(Ye.flags|=1048576,Ue)}function fe(Ye){return h&&Ye.alternate===null&&(Ye.flags|=2),Ye}function Oe(Ye,Ue,Ze,Et){return Ue===null||Ue.tag!==6?(Ue=r1(Ze,Ye.mode,Et),Ue.return=Ye,Ue):(Ue=W(Ue,Ze),Ue.return=Ye,Ue)}function $e(Ye,Ue,Ze,Et){var lr=Ze.type;return lr===F?Nt(Ye,Ue,Ze.props.children,Et,Ze.key):Ue!==null&&(Ue.elementType===lr||typeof lr=="object"&&lr!==null&&lr.$$typeof===te&&Sn(lr)===Ue.type)?(Et=W(Ue,Ze.props),Et.ref=Cr(Ye,Ue,Ze),Et.return=Ye,Et):(Et=wg(Ze.type,Ze.key,Ze.props,null,Ye.mode,Et),Et.ref=Cr(Ye,Ue,Ze),Et.return=Ye,Et)}function et(Ye,Ue,Ze,Et){return Ue===null||Ue.tag!==4||Ue.stateNode.containerInfo!==Ze.containerInfo||Ue.stateNode.implementation!==Ze.implementation?(Ue=n1(Ze,Ye.mode,Et),Ue.return=Ye,Ue):(Ue=W(Ue,Ze.children||[]),Ue.return=Ye,Ue)}function Nt(Ye,Ue,Ze,Et,lr){return Ue===null||Ue.tag!==7?(Ue=Zd(Ze,Ye.mode,Et,lr),Ue.return=Ye,Ue):(Ue=W(Ue,Ze),Ue.return=Ye,Ue)}function St(Ye,Ue,Ze){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return Ue=r1(""+Ue,Ye.mode,Ze),Ue.return=Ye,Ue;if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case z:return Ze=wg(Ue.type,Ue.key,Ue.props,null,Ye.mode,Ze),Ze.ref=Cr(Ye,null,Ue),Ze.return=Ye,Ze;case $:return Ue=n1(Ue,Ye.mode,Ze),Ue.return=Ye,Ue;case te:var Et=Ue._init;return St(Ye,Et(Ue._payload),Ze)}if(Re(Ue)||Y(Ue))return Ue=Zd(Ue,Ye.mode,Ze,null),Ue.return=Ye,Ue;Yr(Ye,Ue)}return null}function jt(Ye,Ue,Ze,Et){var lr=Ue!==null?Ue.key:null;if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return lr!==null?null:Oe(Ye,Ue,""+Ze,Et);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case z:return Ze.key===lr?$e(Ye,Ue,Ze,Et):null;case $:return Ze.key===lr?et(Ye,Ue,Ze,Et):null;case te:return lr=Ze._init,jt(Ye,Ue,lr(Ze._payload),Et)}if(Re(Ze)||Y(Ze))return lr!==null?null:Nt(Ye,Ue,Ze,Et,null);Yr(Ye,Ze)}return null}function Vt(Ye,Ue,Ze,Et,lr){if(typeof Et=="string"&&Et!==""||typeof Et=="number")return Ye=Ye.get(Ze)||null,Oe(Ue,Ye,""+Et,lr);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case z:return Ye=Ye.get(Et.key===null?Ze:Et.key)||null,$e(Ue,Ye,Et,lr);case $:return Ye=Ye.get(Et.key===null?Ze:Et.key)||null,et(Ue,Ye,Et,lr);case te:var yr=Et._init;return Vt(Ye,Ue,Ze,yr(Et._payload),lr)}if(Re(Et)||Y(Et))return Ye=Ye.get(Ze)||null,Nt(Ue,Ye,Et,lr,null);Yr(Ue,Et)}return null}function tr(Ye,Ue,Ze,Et){for(var lr=null,yr=null,br=Ue,Lr=Ue=0,di=null;br!==null&&Lr<Ze.length;Lr++){br.index>Lr?(di=br,br=null):di=br.sibling;var ln=jt(Ye,br,Ze[Lr],Et);if(ln===null){br===null&&(br=di);break}h&&br&&ln.alternate===null&&m(Ye,br),Ue=ee(ln,Ue,Lr),yr===null?lr=ln:yr.sibling=ln,yr=ln,br=di}if(Lr===Ze.length)return b(Ye,br),dt&&Be(Ye,Lr),lr;if(br===null){for(;Lr<Ze.length;Lr++)br=St(Ye,Ze[Lr],Et),br!==null&&(Ue=ee(br,Ue,Lr),yr===null?lr=br:yr.sibling=br,yr=br);return dt&&Be(Ye,Lr),lr}for(br=E(Ye,br);Lr<Ze.length;Lr++)di=Vt(br,Ye,Lr,Ze[Lr],Et),di!==null&&(h&&di.alternate!==null&&br.delete(di.key===null?Lr:di.key),Ue=ee(di,Ue,Lr),yr===null?lr=di:yr.sibling=di,yr=di);return h&&br.forEach(function(Xu){return m(Ye,Xu)}),dt&&Be(Ye,Lr),lr}function sr(Ye,Ue,Ze,Et){var lr=Y(Ze);if(typeof lr!="function")throw Error(n(150));if(Ze=lr.call(Ze),Ze==null)throw Error(n(151));for(var yr=lr=null,br=Ue,Lr=Ue=0,di=null,ln=Ze.next();br!==null&&!ln.done;Lr++,ln=Ze.next()){br.index>Lr?(di=br,br=null):di=br.sibling;var Xu=jt(Ye,br,ln.value,Et);if(Xu===null){br===null&&(br=di);break}h&&br&&Xu.alternate===null&&m(Ye,br),Ue=ee(Xu,Ue,Lr),yr===null?lr=Xu:yr.sibling=Xu,yr=Xu,br=di}if(ln.done)return b(Ye,br),dt&&Be(Ye,Lr),lr;if(br===null){for(;!ln.done;Lr++,ln=Ze.next())ln=St(Ye,ln.value,Et),ln!==null&&(Ue=ee(ln,Ue,Lr),yr===null?lr=ln:yr.sibling=ln,yr=ln);return dt&&Be(Ye,Lr),lr}for(br=E(Ye,br);!ln.done;Lr++,ln=Ze.next())ln=Vt(br,Ye,Lr,ln.value,Et),ln!==null&&(h&&ln.alternate!==null&&br.delete(ln.key===null?Lr:ln.key),Ue=ee(ln,Ue,Lr),yr===null?lr=ln:yr.sibling=ln,yr=ln);return h&&br.forEach(function(hz){return m(Ye,hz)}),dt&&Be(Ye,Lr),lr}function Sa(Ye,Ue,Ze,Et){if(typeof Ze=="object"&&Ze!==null&&Ze.type===F&&Ze.key===null&&(Ze=Ze.props.children),typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case z:e:{for(var lr=Ze.key,yr=Ue;yr!==null;){if(yr.key===lr){if(lr=Ze.type,lr===F){if(yr.tag===7){b(Ye,yr.sibling),Ue=W(yr,Ze.props.children),Ue.return=Ye,Ye=Ue;break e}}else if(yr.elementType===lr||typeof lr=="object"&&lr!==null&&lr.$$typeof===te&&Sn(lr)===yr.type){b(Ye,yr.sibling),Ue=W(yr,Ze.props),Ue.ref=Cr(Ye,yr,Ze),Ue.return=Ye,Ye=Ue;break e}b(Ye,yr);break}else m(Ye,yr);yr=yr.sibling}Ze.type===F?(Ue=Zd(Ze.props.children,Ye.mode,Et,Ze.key),Ue.return=Ye,Ye=Ue):(Et=wg(Ze.type,Ze.key,Ze.props,null,Ye.mode,Et),Et.ref=Cr(Ye,Ue,Ze),Et.return=Ye,Ye=Et)}return fe(Ye);case $:e:{for(yr=Ze.key;Ue!==null;){if(Ue.key===yr)if(Ue.tag===4&&Ue.stateNode.containerInfo===Ze.containerInfo&&Ue.stateNode.implementation===Ze.implementation){b(Ye,Ue.sibling),Ue=W(Ue,Ze.children||[]),Ue.return=Ye,Ye=Ue;break e}else{b(Ye,Ue);break}else m(Ye,Ue);Ue=Ue.sibling}Ue=n1(Ze,Ye.mode,Et),Ue.return=Ye,Ye=Ue}return fe(Ye);case te:return yr=Ze._init,Sa(Ye,Ue,yr(Ze._payload),Et)}if(Re(Ze))return tr(Ye,Ue,Ze,Et);if(Y(Ze))return sr(Ye,Ue,Ze,Et);Yr(Ye,Ze)}return typeof Ze=="string"&&Ze!==""||typeof Ze=="number"?(Ze=""+Ze,Ue!==null&&Ue.tag===6?(b(Ye,Ue.sibling),Ue=W(Ue,Ze),Ue.return=Ye,Ye=Ue):(b(Ye,Ue),Ue=r1(Ze,Ye.mode,Et),Ue.return=Ye,Ye=Ue),fe(Ye)):b(Ye,Ue)}return Sa}var pa=Da(!0),Bn=Da(!1),Na=ro(null),La=null,Tn=null,Qr=null;function an(){Qr=Tn=La=null}function Mn(h){var m=Na.current;un(Na),h._currentValue=m}function sn(h,m,b){for(;h!==null;){var E=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,E!==null&&(E.childLanes|=m)):E!==null&&(E.childLanes&m)!==m&&(E.childLanes|=m),h===b)break;h=h.return}}function ea(h,m){La=h,Qr=Tn=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&m&&(zs=!0),h.firstContext=null)}function ta(h){var m=h._currentValue;if(Qr!==h)if(h={context:h,memoizedValue:m,next:null},Tn===null){if(La===null)throw Error(n(308));Tn=h,La.dependencies={lanes:0,firstContext:h}}else Tn=Tn.next=h;return m}var vn=null;function oi(h){vn===null?vn=[h]:vn.push(h)}function gn(h,m,b,E){var W=m.interleaved;return W===null?(b.next=b,oi(m)):(b.next=W.next,W.next=b),m.interleaved=b,yn(h,E)}function yn(h,m){h.lanes|=m;var b=h.alternate;for(b!==null&&(b.lanes|=m),b=h,h=h.return;h!==null;)h.childLanes|=m,b=h.alternate,b!==null&&(b.childLanes|=m),b=h,h=h.return;return b.tag===3?b.stateNode:null}var ga=!1;function Va(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yi(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function ca(h,m){return{eventTime:h,lane:m,tag:0,payload:null,callback:null,next:null}}function ua(h,m,b){var E=h.updateQueue;if(E===null)return null;if(E=E.shared,on&2){var W=E.pending;return W===null?m.next=m:(m.next=W.next,W.next=m),E.pending=m,yn(h,b)}return W=E.interleaved,W===null?(m.next=m,oi(E)):(m.next=W.next,W.next=m),E.interleaved=m,yn(h,b)}function li(h,m,b){if(m=m.updateQueue,m!==null&&(m=m.shared,(b&4194240)!==0)){var E=m.lanes;E&=h.pendingLanes,b|=E,m.lanes=b,Xs(h,b)}}function bn(h,m){var b=h.updateQueue,E=h.alternate;if(E!==null&&(E=E.updateQueue,b===E)){var W=null,ee=null;if(b=b.firstBaseUpdate,b!==null){do{var fe={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};ee===null?W=ee=fe:ee=ee.next=fe,b=b.next}while(b!==null);ee===null?W=ee=m:ee=ee.next=m}else W=ee=m;b={baseState:E.baseState,firstBaseUpdate:W,lastBaseUpdate:ee,shared:E.shared,effects:E.effects},h.updateQueue=b;return}h=b.lastBaseUpdate,h===null?b.firstBaseUpdate=m:h.next=m,b.lastBaseUpdate=m}function ci(h,m,b,E){var W=h.updateQueue;ga=!1;var ee=W.firstBaseUpdate,fe=W.lastBaseUpdate,Oe=W.shared.pending;if(Oe!==null){W.shared.pending=null;var $e=Oe,et=$e.next;$e.next=null,fe===null?ee=et:fe.next=et,fe=$e;var Nt=h.alternate;Nt!==null&&(Nt=Nt.updateQueue,Oe=Nt.lastBaseUpdate,Oe!==fe&&(Oe===null?Nt.firstBaseUpdate=et:Oe.next=et,Nt.lastBaseUpdate=$e))}if(ee!==null){var St=W.baseState;fe=0,Nt=et=$e=null,Oe=ee;do{var jt=Oe.lane,Vt=Oe.eventTime;if((E&jt)===jt){Nt!==null&&(Nt=Nt.next={eventTime:Vt,lane:0,tag:Oe.tag,payload:Oe.payload,callback:Oe.callback,next:null});e:{var tr=h,sr=Oe;switch(jt=m,Vt=b,sr.tag){case 1:if(tr=sr.payload,typeof tr=="function"){St=tr.call(Vt,St,jt);break e}St=tr;break e;case 3:tr.flags=tr.flags&-65537|128;case 0:if(tr=sr.payload,jt=typeof tr=="function"?tr.call(Vt,St,jt):tr,jt==null)break e;St=P({},St,jt);break e;case 2:ga=!0}}Oe.callback!==null&&Oe.lane!==0&&(h.flags|=64,jt=W.effects,jt===null?W.effects=[Oe]:jt.push(Oe))}else Vt={eventTime:Vt,lane:jt,tag:Oe.tag,payload:Oe.payload,callback:Oe.callback,next:null},Nt===null?(et=Nt=Vt,$e=St):Nt=Nt.next=Vt,fe|=jt;if(Oe=Oe.next,Oe===null){if(Oe=W.shared.pending,Oe===null)break;jt=Oe,Oe=jt.next,jt.next=null,W.lastBaseUpdate=jt,W.shared.pending=null}}while(!0);if(Nt===null&&($e=St),W.baseState=$e,W.firstBaseUpdate=et,W.lastBaseUpdate=Nt,m=W.shared.interleaved,m!==null){W=m;do fe|=W.lane,W=W.next;while(W!==m)}else ee===null&&(W.shared.lanes=0);Gd|=fe,h.lanes=fe,h.memoizedState=St}}function Rs(h,m,b){if(h=m.effects,m.effects=null,h!==null)for(m=0;m<h.length;m++){var E=h[m],W=E.callback;if(W!==null){if(E.callback=null,E=b,typeof W!="function")throw Error(n(191,W));W.call(E)}}}var no={},Oa=ro(no),da=ro(no),tc=ro(no);function fl(h){if(h===no)throw Error(n(174));return h}function $u(h,m){switch(pn(tc,m),pn(da,h),pn(Oa,no),h=m.nodeType,h){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:He(null,"");break;default:h=h===8?m.parentNode:m,m=h.namespaceURI||null,h=h.tagName,m=He(m,h)}un(Oa),pn(Oa,m)}function Ro(){un(Oa),un(da),un(tc)}function rg(h){fl(tc.current);var m=fl(Oa.current),b=He(m,h.type);m!==b&&(pn(da,h),pn(Oa,b))}function Wm(h){da.current===h&&(un(Oa),un(da))}var Dn=ro(0);function ao(h){for(var m=h;m!==null;){if(m.tag===13){var b=m.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||b.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(m.flags&128)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Km=[];function Gm(){for(var h=0;h<Km.length;h++)Km[h]._workInProgressVersionPrimary=null;Km.length=0}var tf=C.ReactCurrentDispatcher,rf=C.ReactCurrentBatchConfig,zo=0,In=null,xa=null,ha=null,Bu=!1,ml=!1,Uu=0,Pb=0;function _a(){throw Error(n(321))}function nf(h,m){if(m===null)return!1;for(var b=0;b<m.length&&b<h.length;b++)if(!Jn(h[b],m[b]))return!1;return!0}function Vd(h,m,b,E,W,ee){if(zo=ee,In=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,tf.current=h===null||h.memoizedState===null?z9:F9,h=b(E,W),ml){ee=0;do{if(ml=!1,Uu=0,25<=ee)throw Error(n(301));ee+=1,ha=xa=null,m.updateQueue=null,tf.current=$9,h=b(E,W)}while(ml)}if(tf.current=og,m=xa!==null&&xa.next!==null,zo=0,ha=xa=In=null,Bu=!1,m)throw Error(n(300));return h}function Fo(){var h=Uu!==0;return Uu=0,h}function io(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ha===null?In.memoizedState=ha=h:ha=ha.next=h,ha}function fs(){if(xa===null){var h=In.alternate;h=h!==null?h.memoizedState:null}else h=xa.next;var m=ha===null?In.memoizedState:ha.next;if(m!==null)ha=m,xa=h;else{if(h===null)throw Error(n(310));xa=h,h={memoizedState:xa.memoizedState,baseState:xa.baseState,baseQueue:xa.baseQueue,queue:xa.queue,next:null},ha===null?In.memoizedState=ha=h:ha=ha.next=h}return ha}function Wd(h,m){return typeof m=="function"?m(h):m}function af(h){var m=fs(),b=m.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=h;var E=xa,W=E.baseQueue,ee=b.pending;if(ee!==null){if(W!==null){var fe=W.next;W.next=ee.next,ee.next=fe}E.baseQueue=W=ee,b.pending=null}if(W!==null){ee=W.next,E=E.baseState;var Oe=fe=null,$e=null,et=ee;do{var Nt=et.lane;if((zo&Nt)===Nt)$e!==null&&($e=$e.next={lane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),E=et.hasEagerState?et.eagerState:h(E,et.action);else{var St={lane:Nt,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null};$e===null?(Oe=$e=St,fe=E):$e=$e.next=St,In.lanes|=Nt,Gd|=Nt}et=et.next}while(et!==null&&et!==ee);$e===null?fe=E:$e.next=Oe,Jn(E,m.memoizedState)||(zs=!0),m.memoizedState=E,m.baseState=fe,m.baseQueue=$e,b.lastRenderedState=E}if(h=b.interleaved,h!==null){W=h;do ee=W.lane,In.lanes|=ee,Gd|=ee,W=W.next;while(W!==h)}else W===null&&(b.lanes=0);return[m.memoizedState,b.dispatch]}function rc(h){var m=fs(),b=m.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=h;var E=b.dispatch,W=b.pending,ee=m.memoizedState;if(W!==null){b.pending=null;var fe=W=W.next;do ee=h(ee,fe.action),fe=fe.next;while(fe!==W);Jn(ee,m.memoizedState)||(zs=!0),m.memoizedState=ee,m.baseQueue===null&&(m.baseState=ee),b.lastRenderedState=ee}return[ee,E]}function ng(){}function Ym(h,m){var b=In,E=fs(),W=m(),ee=!Jn(E.memoizedState,W);if(ee&&(E.memoizedState=W,zs=!0),E=E.queue,lf(ig.bind(null,b,E,h),[h]),E.getSnapshot!==m||ee||ha!==null&&ha.memoizedState.tag&1){if(b.flags|=2048,ms(9,Xm.bind(null,b,E,W,m),void 0,null),ui===null)throw Error(n(349));zo&30||ag(b,m,W)}return W}function ag(h,m,b){h.flags|=16384,h={getSnapshot:m,value:b},m=In.updateQueue,m===null?(m={lastEffect:null,stores:null},In.updateQueue=m,m.stores=[h]):(b=m.stores,b===null?m.stores=[h]:b.push(h))}function Xm(h,m,b,E){m.value=b,m.getSnapshot=E,qu(m)&&sf(h)}function ig(h,m,b){return b(function(){qu(m)&&sf(h)})}function qu(h){var m=h.getSnapshot;h=h.value;try{var b=m();return!Jn(h,b)}catch{return!0}}function sf(h){var m=yn(h,1);m!==null&&yl(m,h,1,-1)}function Kd(h){var m=io();return typeof h=="function"&&(h=h()),m.memoizedState=m.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wd,lastRenderedState:h},m.queue=h,h=h.dispatch=R9.bind(null,In,h),[m.memoizedState,h]}function ms(h,m,b,E){return h={tag:h,create:m,destroy:b,deps:E,next:null},m=In.updateQueue,m===null?(m={lastEffect:null,stores:null},In.updateQueue=m,m.lastEffect=h.next=h):(b=m.lastEffect,b===null?m.lastEffect=h.next=h:(E=b.next,b.next=h,h.next=E,m.lastEffect=h)),h}function pl(){return fs().memoizedState}function so(h,m,b,E){var W=io();In.flags|=h,W.memoizedState=ms(1|m,b,void 0,E===void 0?null:E)}function qc(h,m,b,E){var W=fs();E=E===void 0?null:E;var ee=void 0;if(xa!==null){var fe=xa.memoizedState;if(ee=fe.destroy,E!==null&&nf(E,fe.deps)){W.memoizedState=ms(m,b,ee,E);return}}In.flags|=h,W.memoizedState=ms(1|m,b,ee,E)}function of(h,m){return so(8390656,8,h,m)}function lf(h,m){return qc(2048,8,h,m)}function sg(h,m){return qc(4,2,h,m)}function cf(h,m){return qc(4,4,h,m)}function uf(h,m){if(typeof m=="function")return h=h(),m(h),function(){m(null)};if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function v_(h,m,b){return b=b!=null?b.concat([h]):null,qc(4,4,uf.bind(null,m,h),b)}function Eb(){}function y_(h,m){var b=fs();m=m===void 0?null:m;var E=b.memoizedState;return E!==null&&m!==null&&nf(m,E[1])?E[0]:(b.memoizedState=[h,m],h)}function b_(h,m){var b=fs();m=m===void 0?null:m;var E=b.memoizedState;return E!==null&&m!==null&&nf(m,E[1])?E[0]:(h=h(),b.memoizedState=[h,m],h)}function w_(h,m,b){return zo&21?(Jn(b,m)||(b=wc(),In.lanes|=b,Gd|=b,h.baseState=!0),m):(h.baseState&&(h.baseState=!1,zs=!0),h.memoizedState=b)}function M9(h,m){var b=qr;qr=b!==0&&4>b?b:4,h(!0);var E=rf.transition;rf.transition={};try{h(!1),m()}finally{qr=b,rf.transition=E}}function j_(){return fs().memoizedState}function I9(h,m,b){var E=Ku(h);if(b={lane:E,action:b,hasEagerState:!1,eagerState:null,next:null},N_(h))__(m,b);else if(b=gn(h,m,b,E),b!==null){var W=gs();yl(b,h,E,W),S_(b,m,E)}}function R9(h,m,b){var E=Ku(h),W={lane:E,action:b,hasEagerState:!1,eagerState:null,next:null};if(N_(h))__(m,W);else{var ee=h.alternate;if(h.lanes===0&&(ee===null||ee.lanes===0)&&(ee=m.lastRenderedReducer,ee!==null))try{var fe=m.lastRenderedState,Oe=ee(fe,b);if(W.hasEagerState=!0,W.eagerState=Oe,Jn(Oe,fe)){var $e=m.interleaved;$e===null?(W.next=W,oi(m)):(W.next=$e.next,$e.next=W),m.interleaved=W;return}}catch{}finally{}b=gn(h,m,W,E),b!==null&&(W=gs(),yl(b,h,E,W),S_(b,m,E))}}function N_(h){var m=h.alternate;return h===In||m!==null&&m===In}function __(h,m){ml=Bu=!0;var b=h.pending;b===null?m.next=m:(m.next=b.next,b.next=m),h.pending=m}function S_(h,m,b){if(b&4194240){var E=m.lanes;E&=h.pendingLanes,b|=E,m.lanes=b,Xs(h,b)}}var og={readContext:ta,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useInsertionEffect:_a,useLayoutEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useMutableSource:_a,useSyncExternalStore:_a,useId:_a,unstable_isNewReconciler:!1},z9={readContext:ta,useCallback:function(h,m){return io().memoizedState=[h,m===void 0?null:m],h},useContext:ta,useEffect:of,useImperativeHandle:function(h,m,b){return b=b!=null?b.concat([h]):null,so(4194308,4,uf.bind(null,m,h),b)},useLayoutEffect:function(h,m){return so(4194308,4,h,m)},useInsertionEffect:function(h,m){return so(4,2,h,m)},useMemo:function(h,m){var b=io();return m=m===void 0?null:m,h=h(),b.memoizedState=[h,m],h},useReducer:function(h,m,b){var E=io();return m=b!==void 0?b(m):m,E.memoizedState=E.baseState=m,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:m},E.queue=h,h=h.dispatch=I9.bind(null,In,h),[E.memoizedState,h]},useRef:function(h){var m=io();return h={current:h},m.memoizedState=h},useState:Kd,useDebugValue:Eb,useDeferredValue:function(h){return io().memoizedState=h},useTransition:function(){var h=Kd(!1),m=h[0];return h=M9.bind(null,h[1]),io().memoizedState=h,[m,h]},useMutableSource:function(){},useSyncExternalStore:function(h,m,b){var E=In,W=io();if(dt){if(b===void 0)throw Error(n(407));b=b()}else{if(b=m(),ui===null)throw Error(n(349));zo&30||ag(E,m,b)}W.memoizedState=b;var ee={value:b,getSnapshot:m};return W.queue=ee,of(ig.bind(null,E,ee,h),[h]),E.flags|=2048,ms(9,Xm.bind(null,E,ee,b,m),void 0,null),b},useId:function(){var h=io(),m=ui.identifierPrefix;if(dt){var b=ke,E=Ge;b=(E&~(1<<32-Br(E)-1)).toString(32)+b,m=":"+m+"R"+b,b=Uu++,0<b&&(m+="H"+b.toString(32)),m+=":"}else b=Pb++,m=":"+m+"r"+b.toString(32)+":";return h.memoizedState=m},unstable_isNewReconciler:!1},F9={readContext:ta,useCallback:y_,useContext:ta,useEffect:lf,useImperativeHandle:v_,useInsertionEffect:sg,useLayoutEffect:cf,useMemo:b_,useReducer:af,useRef:pl,useState:function(){return af(Wd)},useDebugValue:Eb,useDeferredValue:function(h){var m=fs();return w_(m,xa.memoizedState,h)},useTransition:function(){var h=af(Wd)[0],m=fs().memoizedState;return[h,m]},useMutableSource:ng,useSyncExternalStore:Ym,useId:j_,unstable_isNewReconciler:!1},$9={readContext:ta,useCallback:y_,useContext:ta,useEffect:lf,useImperativeHandle:v_,useInsertionEffect:sg,useLayoutEffect:cf,useMemo:b_,useReducer:rc,useRef:pl,useState:function(){return rc(Wd)},useDebugValue:Eb,useDeferredValue:function(h){var m=fs();return xa===null?m.memoizedState=h:w_(m,xa.memoizedState,h)},useTransition:function(){var h=rc(Wd)[0],m=fs().memoizedState;return[h,m]},useMutableSource:ng,useSyncExternalStore:Ym,useId:j_,unstable_isNewReconciler:!1};function gl(h,m){if(h&&h.defaultProps){m=P({},m),h=h.defaultProps;for(var b in h)m[b]===void 0&&(m[b]=h[b]);return m}return m}function Ab(h,m,b,E){m=h.memoizedState,b=b(E,m),b=b==null?m:P({},m,b),h.memoizedState=b,h.lanes===0&&(h.updateQueue.baseState=b)}var lg={isMounted:function(h){return(h=h._reactInternals)?Ke(h)===h:!1},enqueueSetState:function(h,m,b){h=h._reactInternals;var E=gs(),W=Ku(h),ee=ca(E,W);ee.payload=m,b!=null&&(ee.callback=b),m=ua(h,ee,W),m!==null&&(yl(m,h,W,E),li(m,h,W))},enqueueReplaceState:function(h,m,b){h=h._reactInternals;var E=gs(),W=Ku(h),ee=ca(E,W);ee.tag=1,ee.payload=m,b!=null&&(ee.callback=b),m=ua(h,ee,W),m!==null&&(yl(m,h,W,E),li(m,h,W))},enqueueForceUpdate:function(h,m){h=h._reactInternals;var b=gs(),E=Ku(h),W=ca(b,E);W.tag=2,m!=null&&(W.callback=m),m=ua(h,W,E),m!==null&&(yl(m,h,E,b),li(m,h,E))}};function k_(h,m,b,E,W,ee,fe){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(E,ee,fe):m.prototype&&m.prototype.isPureReactComponent?!Hi(b,E)||!Hi(W,ee):!0}function C_(h,m,b){var E=!1,W=ec,ee=m.contextType;return typeof ee=="object"&&ee!==null?ee=ta(ee):(W=Gi(m)?Bc:Ha.current,E=m.contextTypes,ee=(E=E!=null)?Fu(h,W):ec),m=new m(b,ee),h.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=lg,h.stateNode=m,m._reactInternals=h,E&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=W,h.__reactInternalMemoizedMaskedChildContext=ee),m}function P_(h,m,b,E){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(b,E),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(b,E),m.state!==h&&lg.enqueueReplaceState(m,m.state,null)}function Db(h,m,b,E){var W=h.stateNode;W.props=b,W.state=h.memoizedState,W.refs={},Va(h);var ee=m.contextType;typeof ee=="object"&&ee!==null?W.context=ta(ee):(ee=Gi(m)?Bc:Ha.current,W.context=Fu(h,ee)),W.state=h.memoizedState,ee=m.getDerivedStateFromProps,typeof ee=="function"&&(Ab(h,m,ee,b),W.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof W.getSnapshotBeforeUpdate=="function"||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(m=W.state,typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount(),m!==W.state&&lg.enqueueReplaceState(W,W.state,null),ci(h,b,W,E),W.state=h.memoizedState),typeof W.componentDidMount=="function"&&(h.flags|=4194308)}function df(h,m){try{var b="",E=m;do b+=D(E),E=E.return;while(E);var W=b}catch(ee){W=`
Error generating stack: `+ee.message+`
`+ee.stack}return{value:h,source:m,stack:W,digest:null}}function Lb(h,m,b){return{value:h,source:null,stack:b??null,digest:m??null}}function Ob(h,m){try{console.error(m.value)}catch(b){setTimeout(function(){throw b})}}var B9=typeof WeakMap=="function"?WeakMap:Map;function E_(h,m,b){b=ca(-1,b),b.tag=3,b.payload={element:null};var E=m.value;return b.callback=function(){pg||(pg=!0,Gb=E),Ob(h,m)},b}function A_(h,m,b){b=ca(-1,b),b.tag=3;var E=h.type.getDerivedStateFromError;if(typeof E=="function"){var W=m.value;b.payload=function(){return E(W)},b.callback=function(){Ob(h,m)}}var ee=h.stateNode;return ee!==null&&typeof ee.componentDidCatch=="function"&&(b.callback=function(){Ob(h,m),typeof E!="function"&&(Vu===null?Vu=new Set([this]):Vu.add(this));var fe=m.stack;this.componentDidCatch(m.value,{componentStack:fe!==null?fe:""})}),b}function D_(h,m,b){var E=h.pingCache;if(E===null){E=h.pingCache=new B9;var W=new Set;E.set(m,W)}else W=E.get(m),W===void 0&&(W=new Set,E.set(m,W));W.has(b)||(W.add(b),h=tz.bind(null,h,m,b),m.then(h,h))}function L_(h){do{var m;if((m=h.tag===13)&&(m=h.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return h;h=h.return}while(h!==null);return null}function O_(h,m,b,E,W){return h.mode&1?(h.flags|=65536,h.lanes=W,h):(h===m?h.flags|=65536:(h.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(m=ca(-1,1),m.tag=2,ua(b,m,1))),b.lanes|=1),h)}var U9=C.ReactCurrentOwner,zs=!1;function ps(h,m,b,E){m.child=h===null?Bn(m,null,b,E):pa(m,h.child,b,E)}function T_(h,m,b,E,W){b=b.render;var ee=m.ref;return ea(m,W),E=Vd(h,m,b,E,ee,W),b=Fo(),h!==null&&!zs?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~W,Hc(h,m,W)):(dt&&b&&lt(m),m.flags|=1,ps(h,m,E,W),m.child)}function M_(h,m,b,E,W){if(h===null){var ee=b.type;return typeof ee=="function"&&!t1(ee)&&ee.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(m.tag=15,m.type=ee,I_(h,m,ee,E,W)):(h=wg(b.type,null,E,m,m.mode,W),h.ref=m.ref,h.return=m,m.child=h)}if(ee=h.child,!(h.lanes&W)){var fe=ee.memoizedProps;if(b=b.compare,b=b!==null?b:Hi,b(fe,E)&&h.ref===m.ref)return Hc(h,m,W)}return m.flags|=1,h=Yu(ee,E),h.ref=m.ref,h.return=m,m.child=h}function I_(h,m,b,E,W){if(h!==null){var ee=h.memoizedProps;if(Hi(ee,E)&&h.ref===m.ref)if(zs=!1,m.pendingProps=E=ee,(h.lanes&W)!==0)h.flags&131072&&(zs=!0);else return m.lanes=h.lanes,Hc(h,m,W)}return Tb(h,m,b,E,W)}function R_(h,m,b){var E=m.pendingProps,W=E.children,ee=h!==null?h.memoizedState:null;if(E.mode==="hidden")if(!(m.mode&1))m.memoizedState={baseLanes:0,cachePool:null,transitions:null},pn(ff,oo),oo|=b;else{if(!(b&1073741824))return h=ee!==null?ee.baseLanes|b:b,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:h,cachePool:null,transitions:null},m.updateQueue=null,pn(ff,oo),oo|=h,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=ee!==null?ee.baseLanes:b,pn(ff,oo),oo|=E}else ee!==null?(E=ee.baseLanes|b,m.memoizedState=null):E=b,pn(ff,oo),oo|=E;return ps(h,m,W,b),m.child}function z_(h,m){var b=m.ref;(h===null&&b!==null||h!==null&&h.ref!==b)&&(m.flags|=512,m.flags|=2097152)}function Tb(h,m,b,E,W){var ee=Gi(b)?Bc:Ha.current;return ee=Fu(m,ee),ea(m,W),b=Vd(h,m,b,E,ee,W),E=Fo(),h!==null&&!zs?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~W,Hc(h,m,W)):(dt&&E&&lt(m),m.flags|=1,ps(h,m,b,W),m.child)}function F_(h,m,b,E,W){if(Gi(b)){var ee=!0;Uc(m)}else ee=!1;if(ea(m,W),m.stateNode===null)ug(h,m),C_(m,b,E),Db(m,b,E,W),E=!0;else if(h===null){var fe=m.stateNode,Oe=m.memoizedProps;fe.props=Oe;var $e=fe.context,et=b.contextType;typeof et=="object"&&et!==null?et=ta(et):(et=Gi(b)?Bc:Ha.current,et=Fu(m,et));var Nt=b.getDerivedStateFromProps,St=typeof Nt=="function"||typeof fe.getSnapshotBeforeUpdate=="function";St||typeof fe.UNSAFE_componentWillReceiveProps!="function"&&typeof fe.componentWillReceiveProps!="function"||(Oe!==E||$e!==et)&&P_(m,fe,E,et),ga=!1;var jt=m.memoizedState;fe.state=jt,ci(m,E,fe,W),$e=m.memoizedState,Oe!==E||jt!==$e||Ki.current||ga?(typeof Nt=="function"&&(Ab(m,b,Nt,E),$e=m.memoizedState),(Oe=ga||k_(m,b,Oe,E,jt,$e,et))?(St||typeof fe.UNSAFE_componentWillMount!="function"&&typeof fe.componentWillMount!="function"||(typeof fe.componentWillMount=="function"&&fe.componentWillMount(),typeof fe.UNSAFE_componentWillMount=="function"&&fe.UNSAFE_componentWillMount()),typeof fe.componentDidMount=="function"&&(m.flags|=4194308)):(typeof fe.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=E,m.memoizedState=$e),fe.props=E,fe.state=$e,fe.context=et,E=Oe):(typeof fe.componentDidMount=="function"&&(m.flags|=4194308),E=!1)}else{fe=m.stateNode,Yi(h,m),Oe=m.memoizedProps,et=m.type===m.elementType?Oe:gl(m.type,Oe),fe.props=et,St=m.pendingProps,jt=fe.context,$e=b.contextType,typeof $e=="object"&&$e!==null?$e=ta($e):($e=Gi(b)?Bc:Ha.current,$e=Fu(m,$e));var Vt=b.getDerivedStateFromProps;(Nt=typeof Vt=="function"||typeof fe.getSnapshotBeforeUpdate=="function")||typeof fe.UNSAFE_componentWillReceiveProps!="function"&&typeof fe.componentWillReceiveProps!="function"||(Oe!==St||jt!==$e)&&P_(m,fe,E,$e),ga=!1,jt=m.memoizedState,fe.state=jt,ci(m,E,fe,W);var tr=m.memoizedState;Oe!==St||jt!==tr||Ki.current||ga?(typeof Vt=="function"&&(Ab(m,b,Vt,E),tr=m.memoizedState),(et=ga||k_(m,b,et,E,jt,tr,$e)||!1)?(Nt||typeof fe.UNSAFE_componentWillUpdate!="function"&&typeof fe.componentWillUpdate!="function"||(typeof fe.componentWillUpdate=="function"&&fe.componentWillUpdate(E,tr,$e),typeof fe.UNSAFE_componentWillUpdate=="function"&&fe.UNSAFE_componentWillUpdate(E,tr,$e)),typeof fe.componentDidUpdate=="function"&&(m.flags|=4),typeof fe.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof fe.componentDidUpdate!="function"||Oe===h.memoizedProps&&jt===h.memoizedState||(m.flags|=4),typeof fe.getSnapshotBeforeUpdate!="function"||Oe===h.memoizedProps&&jt===h.memoizedState||(m.flags|=1024),m.memoizedProps=E,m.memoizedState=tr),fe.props=E,fe.state=tr,fe.context=$e,E=et):(typeof fe.componentDidUpdate!="function"||Oe===h.memoizedProps&&jt===h.memoizedState||(m.flags|=4),typeof fe.getSnapshotBeforeUpdate!="function"||Oe===h.memoizedProps&&jt===h.memoizedState||(m.flags|=1024),E=!1)}return Mb(h,m,b,E,ee,W)}function Mb(h,m,b,E,W,ee){z_(h,m);var fe=(m.flags&128)!==0;if(!E&&!fe)return W&&tg(m,b,!1),Hc(h,m,ee);E=m.stateNode,U9.current=m;var Oe=fe&&typeof b.getDerivedStateFromError!="function"?null:E.render();return m.flags|=1,h!==null&&fe?(m.child=pa(m,h.child,null,ee),m.child=pa(m,null,Oe,ee)):ps(h,m,Oe,ee),m.memoizedState=E.state,W&&tg(m,b,!0),m.child}function $_(h){var m=h.stateNode;m.pendingContext?eg(h,m.pendingContext,m.pendingContext!==m.context):m.context&&eg(h,m.context,!1),$u(h,m.containerInfo)}function B_(h,m,b,E,W){return Gt(),Tt(W),m.flags|=256,ps(h,m,b,E),m.child}var Ib={dehydrated:null,treeContext:null,retryLane:0};function Rb(h){return{baseLanes:h,cachePool:null,transitions:null}}function U_(h,m,b){var E=m.pendingProps,W=Dn.current,ee=!1,fe=(m.flags&128)!==0,Oe;if((Oe=fe)||(Oe=h!==null&&h.memoizedState===null?!1:(W&2)!==0),Oe?(ee=!0,m.flags&=-129):(h===null||h.memoizedState!==null)&&(W|=1),pn(Dn,W&1),h===null)return Zt(m),h=m.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(m.mode&1?h.data==="$!"?m.lanes=8:m.lanes=1073741824:m.lanes=1,null):(fe=E.children,h=E.fallback,ee?(E=m.mode,ee=m.child,fe={mode:"hidden",children:fe},!(E&1)&&ee!==null?(ee.childLanes=0,ee.pendingProps=fe):ee=jg(fe,E,0,null),h=Zd(h,E,b,null),ee.return=m,h.return=m,ee.sibling=h,m.child=ee,m.child.memoizedState=Rb(b),m.memoizedState=Ib,h):zb(m,fe));if(W=h.memoizedState,W!==null&&(Oe=W.dehydrated,Oe!==null))return q9(h,m,fe,E,Oe,W,b);if(ee){ee=E.fallback,fe=m.mode,W=h.child,Oe=W.sibling;var $e={mode:"hidden",children:E.children};return!(fe&1)&&m.child!==W?(E=m.child,E.childLanes=0,E.pendingProps=$e,m.deletions=null):(E=Yu(W,$e),E.subtreeFlags=W.subtreeFlags&14680064),Oe!==null?ee=Yu(Oe,ee):(ee=Zd(ee,fe,b,null),ee.flags|=2),ee.return=m,E.return=m,E.sibling=ee,m.child=E,E=ee,ee=m.child,fe=h.child.memoizedState,fe=fe===null?Rb(b):{baseLanes:fe.baseLanes|b,cachePool:null,transitions:fe.transitions},ee.memoizedState=fe,ee.childLanes=h.childLanes&~b,m.memoizedState=Ib,E}return ee=h.child,h=ee.sibling,E=Yu(ee,{mode:"visible",children:E.children}),!(m.mode&1)&&(E.lanes=b),E.return=m,E.sibling=null,h!==null&&(b=m.deletions,b===null?(m.deletions=[h],m.flags|=16):b.push(h)),m.child=E,m.memoizedState=null,E}function zb(h,m){return m=jg({mode:"visible",children:m},h.mode,0,null),m.return=h,h.child=m}function cg(h,m,b,E){return E!==null&&Tt(E),pa(m,h.child,null,b),h=zb(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function q9(h,m,b,E,W,ee,fe){if(b)return m.flags&256?(m.flags&=-257,E=Lb(Error(n(422))),cg(h,m,fe,E)):m.memoizedState!==null?(m.child=h.child,m.flags|=128,null):(ee=E.fallback,W=m.mode,E=jg({mode:"visible",children:E.children},W,0,null),ee=Zd(ee,W,fe,null),ee.flags|=2,E.return=m,ee.return=m,E.sibling=ee,m.child=E,m.mode&1&&pa(m,h.child,null,fe),m.child.memoizedState=Rb(fe),m.memoizedState=Ib,ee);if(!(m.mode&1))return cg(h,m,fe,null);if(W.data==="$!"){if(E=W.nextSibling&&W.nextSibling.dataset,E)var Oe=E.dgst;return E=Oe,ee=Error(n(419)),E=Lb(ee,E,void 0),cg(h,m,fe,E)}if(Oe=(fe&h.childLanes)!==0,zs||Oe){if(E=ui,E!==null){switch(fe&-fe){case 4:W=2;break;case 16:W=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:W=32;break;case 536870912:W=268435456;break;default:W=0}W=W&(E.suspendedLanes|fe)?0:W,W!==0&&W!==ee.retryLane&&(ee.retryLane=W,yn(h,W),yl(E,h,W,-1))}return e1(),E=Lb(Error(n(421))),cg(h,m,fe,E)}return W.data==="$?"?(m.flags|=128,m.child=h.child,m=rz.bind(null,h),W._reactRetry=m,null):(h=ee.treeContext,st=Pi(W.nextSibling),nt=m,dt=!0,mt=null,h!==null&&(je[Se++]=Ge,je[Se++]=ke,je[Se++]=Fe,Ge=h.id,ke=h.overflow,Fe=m),m=zb(m,E.children),m.flags|=4096,m)}function q_(h,m,b){h.lanes|=m;var E=h.alternate;E!==null&&(E.lanes|=m),sn(h.return,m,b)}function Fb(h,m,b,E,W){var ee=h.memoizedState;ee===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:E,tail:b,tailMode:W}:(ee.isBackwards=m,ee.rendering=null,ee.renderingStartTime=0,ee.last=E,ee.tail=b,ee.tailMode=W)}function H_(h,m,b){var E=m.pendingProps,W=E.revealOrder,ee=E.tail;if(ps(h,m,E.children,b),E=Dn.current,E&2)E=E&1|2,m.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&q_(h,b,m);else if(h.tag===19)q_(h,b,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}E&=1}if(pn(Dn,E),!(m.mode&1))m.memoizedState=null;else switch(W){case"forwards":for(b=m.child,W=null;b!==null;)h=b.alternate,h!==null&&ao(h)===null&&(W=b),b=b.sibling;b=W,b===null?(W=m.child,m.child=null):(W=b.sibling,b.sibling=null),Fb(m,!1,W,b,ee);break;case"backwards":for(b=null,W=m.child,m.child=null;W!==null;){if(h=W.alternate,h!==null&&ao(h)===null){m.child=W;break}h=W.sibling,W.sibling=b,b=W,W=h}Fb(m,!0,b,null,ee);break;case"together":Fb(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function ug(h,m){!(m.mode&1)&&h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2)}function Hc(h,m,b){if(h!==null&&(m.dependencies=h.dependencies),Gd|=m.lanes,!(b&m.childLanes))return null;if(h!==null&&m.child!==h.child)throw Error(n(153));if(m.child!==null){for(h=m.child,b=Yu(h,h.pendingProps),m.child=b,b.return=m;h.sibling!==null;)h=h.sibling,b=b.sibling=Yu(h,h.pendingProps),b.return=m;b.sibling=null}return m.child}function H9(h,m,b){switch(m.tag){case 3:$_(m),Gt();break;case 5:rg(m);break;case 1:Gi(m.type)&&Uc(m);break;case 4:$u(m,m.stateNode.containerInfo);break;case 10:var E=m.type._context,W=m.memoizedProps.value;pn(Na,E._currentValue),E._currentValue=W;break;case 13:if(E=m.memoizedState,E!==null)return E.dehydrated!==null?(pn(Dn,Dn.current&1),m.flags|=128,null):b&m.child.childLanes?U_(h,m,b):(pn(Dn,Dn.current&1),h=Hc(h,m,b),h!==null?h.sibling:null);pn(Dn,Dn.current&1);break;case 19:if(E=(b&m.childLanes)!==0,h.flags&128){if(E)return H_(h,m,b);m.flags|=128}if(W=m.memoizedState,W!==null&&(W.rendering=null,W.tail=null,W.lastEffect=null),pn(Dn,Dn.current),E)break;return null;case 22:case 23:return m.lanes=0,R_(h,m,b)}return Hc(h,m,b)}var V_,$b,W_,K_;V_=function(h,m){for(var b=m.child;b!==null;){if(b.tag===5||b.tag===6)h.appendChild(b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},$b=function(){},W_=function(h,m,b,E){var W=h.memoizedProps;if(W!==E){h=m.stateNode,fl(Oa.current);var ee=null;switch(b){case"input":W=ie(h,W),E=ie(h,E),ee=[];break;case"select":W=P({},W,{value:void 0}),E=P({},E,{value:void 0}),ee=[];break;case"textarea":W=Pe(h,W),E=Pe(h,E),ee=[];break;default:typeof W.onClick!="function"&&typeof E.onClick=="function"&&(h.onclick=Iu)}wt(b,E);var fe;b=null;for(et in W)if(!E.hasOwnProperty(et)&&W.hasOwnProperty(et)&&W[et]!=null)if(et==="style"){var Oe=W[et];for(fe in Oe)Oe.hasOwnProperty(fe)&&(b||(b={}),b[fe]="")}else et!=="dangerouslySetInnerHTML"&&et!=="children"&&et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&et!=="autoFocus"&&(s.hasOwnProperty(et)?ee||(ee=[]):(ee=ee||[]).push(et,null));for(et in E){var $e=E[et];if(Oe=W!=null?W[et]:void 0,E.hasOwnProperty(et)&&$e!==Oe&&($e!=null||Oe!=null))if(et==="style")if(Oe){for(fe in Oe)!Oe.hasOwnProperty(fe)||$e&&$e.hasOwnProperty(fe)||(b||(b={}),b[fe]="");for(fe in $e)$e.hasOwnProperty(fe)&&Oe[fe]!==$e[fe]&&(b||(b={}),b[fe]=$e[fe])}else b||(ee||(ee=[]),ee.push(et,b)),b=$e;else et==="dangerouslySetInnerHTML"?($e=$e?$e.__html:void 0,Oe=Oe?Oe.__html:void 0,$e!=null&&Oe!==$e&&(ee=ee||[]).push(et,$e)):et==="children"?typeof $e!="string"&&typeof $e!="number"||(ee=ee||[]).push(et,""+$e):et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&(s.hasOwnProperty(et)?($e!=null&&et==="onScroll"&&xn("scroll",h),ee||Oe===$e||(ee=[])):(ee=ee||[]).push(et,$e))}b&&(ee=ee||[]).push("style",b);var et=ee;(m.updateQueue=et)&&(m.flags|=4)}},K_=function(h,m,b,E){b!==E&&(m.flags|=4)};function Jm(h,m){if(!dt)switch(h.tailMode){case"hidden":m=h.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?h.tail=null:b.sibling=null;break;case"collapsed":b=h.tail;for(var E=null;b!==null;)b.alternate!==null&&(E=b),b=b.sibling;E===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:E.sibling=null}}function Xi(h){var m=h.alternate!==null&&h.alternate.child===h.child,b=0,E=0;if(m)for(var W=h.child;W!==null;)b|=W.lanes|W.childLanes,E|=W.subtreeFlags&14680064,E|=W.flags&14680064,W.return=h,W=W.sibling;else for(W=h.child;W!==null;)b|=W.lanes|W.childLanes,E|=W.subtreeFlags,E|=W.flags,W.return=h,W=W.sibling;return h.subtreeFlags|=E,h.childLanes=b,m}function V9(h,m,b){var E=m.pendingProps;switch(Je(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xi(m),null;case 1:return Gi(m.type)&&ef(),Xi(m),null;case 3:return E=m.stateNode,Ro(),un(Ki),un(Ha),Gm(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(h===null||h.child===null)&&(Qn(m)?m.flags|=4:h===null||h.memoizedState.isDehydrated&&!(m.flags&256)||(m.flags|=1024,mt!==null&&(Jb(mt),mt=null))),$b(h,m),Xi(m),null;case 5:Wm(m);var W=fl(tc.current);if(b=m.type,h!==null&&m.stateNode!=null)W_(h,m,b,E,W),h.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!E){if(m.stateNode===null)throw Error(n(166));return Xi(m),null}if(h=fl(Oa.current),Qn(m)){E=m.stateNode,b=m.type;var ee=m.memoizedProps;switch(E[Io]=m,E[Ru]=ee,h=(m.mode&1)!==0,b){case"dialog":xn("cancel",E),xn("close",E);break;case"iframe":case"object":case"embed":xn("load",E);break;case"video":case"audio":for(W=0;W<Zl.length;W++)xn(Zl[W],E);break;case"source":xn("error",E);break;case"img":case"image":case"link":xn("error",E),xn("load",E);break;case"details":xn("toggle",E);break;case"input":se(E,ee),xn("invalid",E);break;case"select":E._wrapperState={wasMultiple:!!ee.multiple},xn("invalid",E);break;case"textarea":be(E,ee),xn("invalid",E)}wt(b,ee),W=null;for(var fe in ee)if(ee.hasOwnProperty(fe)){var Oe=ee[fe];fe==="children"?typeof Oe=="string"?E.textContent!==Oe&&(ee.suppressHydrationWarning!==!0&&Qh(E.textContent,Oe,h),W=["children",Oe]):typeof Oe=="number"&&E.textContent!==""+Oe&&(ee.suppressHydrationWarning!==!0&&Qh(E.textContent,Oe,h),W=["children",""+Oe]):s.hasOwnProperty(fe)&&Oe!=null&&fe==="onScroll"&&xn("scroll",E)}switch(b){case"input":ve(E),Xe(E,ee,!0);break;case"textarea":ve(E),Ie(E);break;case"select":case"option":break;default:typeof ee.onClick=="function"&&(E.onclick=Iu)}E=W,m.updateQueue=E,E!==null&&(m.flags|=4)}else{fe=W.nodeType===9?W:W.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=Ce(b)),h==="http://www.w3.org/1999/xhtml"?b==="script"?(h=fe.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof E.is=="string"?h=fe.createElement(b,{is:E.is}):(h=fe.createElement(b),b==="select"&&(fe=h,E.multiple?fe.multiple=!0:E.size&&(fe.size=E.size))):h=fe.createElementNS(h,b),h[Io]=m,h[Ru]=E,V_(h,m,!1,!1),m.stateNode=h;e:{switch(fe=gt(b,E),b){case"dialog":xn("cancel",h),xn("close",h),W=E;break;case"iframe":case"object":case"embed":xn("load",h),W=E;break;case"video":case"audio":for(W=0;W<Zl.length;W++)xn(Zl[W],h);W=E;break;case"source":xn("error",h),W=E;break;case"img":case"image":case"link":xn("error",h),xn("load",h),W=E;break;case"details":xn("toggle",h),W=E;break;case"input":se(h,E),W=ie(h,E),xn("invalid",h);break;case"option":W=E;break;case"select":h._wrapperState={wasMultiple:!!E.multiple},W=P({},E,{value:void 0}),xn("invalid",h);break;case"textarea":be(h,E),W=Pe(h,E),xn("invalid",h);break;default:W=E}wt(b,W),Oe=W;for(ee in Oe)if(Oe.hasOwnProperty(ee)){var $e=Oe[ee];ee==="style"?pt(h,$e):ee==="dangerouslySetInnerHTML"?($e=$e?$e.__html:void 0,$e!=null&&at(h,$e)):ee==="children"?typeof $e=="string"?(b!=="textarea"||$e!=="")&&Qe(h,$e):typeof $e=="number"&&Qe(h,""+$e):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(s.hasOwnProperty(ee)?$e!=null&&ee==="onScroll"&&xn("scroll",h):$e!=null&&j(h,ee,$e,fe))}switch(b){case"input":ve(h),Xe(h,E,!1);break;case"textarea":ve(h),Ie(h);break;case"option":E.value!=null&&h.setAttribute("value",""+le(E.value));break;case"select":h.multiple=!!E.multiple,ee=E.value,ee!=null?xe(h,!!E.multiple,ee,!1):E.defaultValue!=null&&xe(h,!!E.multiple,E.defaultValue,!0);break;default:typeof W.onClick=="function"&&(h.onclick=Iu)}switch(b){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break e;case"img":E=!0;break e;default:E=!1}}E&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Xi(m),null;case 6:if(h&&m.stateNode!=null)K_(h,m,h.memoizedProps,E);else{if(typeof E!="string"&&m.stateNode===null)throw Error(n(166));if(b=fl(tc.current),fl(Oa.current),Qn(m)){if(E=m.stateNode,b=m.memoizedProps,E[Io]=m,(ee=E.nodeValue!==b)&&(h=nt,h!==null))switch(h.tag){case 3:Qh(E.nodeValue,b,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&Qh(E.nodeValue,b,(h.mode&1)!==0)}ee&&(m.flags|=4)}else E=(b.nodeType===9?b:b.ownerDocument).createTextNode(E),E[Io]=m,m.stateNode=E}return Xi(m),null;case 13:if(un(Dn),E=m.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(dt&&st!==null&&m.mode&1&&!(m.flags&128))zr(),Gt(),m.flags|=98560,ee=!1;else if(ee=Qn(m),E!==null&&E.dehydrated!==null){if(h===null){if(!ee)throw Error(n(318));if(ee=m.memoizedState,ee=ee!==null?ee.dehydrated:null,!ee)throw Error(n(317));ee[Io]=m}else Gt(),!(m.flags&128)&&(m.memoizedState=null),m.flags|=4;Xi(m),ee=!1}else mt!==null&&(Jb(mt),mt=null),ee=!0;if(!ee)return m.flags&65536?m:null}return m.flags&128?(m.lanes=b,m):(E=E!==null,E!==(h!==null&&h.memoizedState!==null)&&E&&(m.child.flags|=8192,m.mode&1&&(h===null||Dn.current&1?Wa===0&&(Wa=3):e1())),m.updateQueue!==null&&(m.flags|=4),Xi(m),null);case 4:return Ro(),$b(h,m),h===null&&Rc(m.stateNode.containerInfo),Xi(m),null;case 10:return Mn(m.type._context),Xi(m),null;case 17:return Gi(m.type)&&ef(),Xi(m),null;case 19:if(un(Dn),ee=m.memoizedState,ee===null)return Xi(m),null;if(E=(m.flags&128)!==0,fe=ee.rendering,fe===null)if(E)Jm(ee,!1);else{if(Wa!==0||h!==null&&h.flags&128)for(h=m.child;h!==null;){if(fe=ao(h),fe!==null){for(m.flags|=128,Jm(ee,!1),E=fe.updateQueue,E!==null&&(m.updateQueue=E,m.flags|=4),m.subtreeFlags=0,E=b,b=m.child;b!==null;)ee=b,h=E,ee.flags&=14680066,fe=ee.alternate,fe===null?(ee.childLanes=0,ee.lanes=h,ee.child=null,ee.subtreeFlags=0,ee.memoizedProps=null,ee.memoizedState=null,ee.updateQueue=null,ee.dependencies=null,ee.stateNode=null):(ee.childLanes=fe.childLanes,ee.lanes=fe.lanes,ee.child=fe.child,ee.subtreeFlags=0,ee.deletions=null,ee.memoizedProps=fe.memoizedProps,ee.memoizedState=fe.memoizedState,ee.updateQueue=fe.updateQueue,ee.type=fe.type,h=fe.dependencies,ee.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),b=b.sibling;return pn(Dn,Dn.current&1|2),m.child}h=h.sibling}ee.tail!==null&&At()>mf&&(m.flags|=128,E=!0,Jm(ee,!1),m.lanes=4194304)}else{if(!E)if(h=ao(fe),h!==null){if(m.flags|=128,E=!0,b=h.updateQueue,b!==null&&(m.updateQueue=b,m.flags|=4),Jm(ee,!0),ee.tail===null&&ee.tailMode==="hidden"&&!fe.alternate&&!dt)return Xi(m),null}else 2*At()-ee.renderingStartTime>mf&&b!==1073741824&&(m.flags|=128,E=!0,Jm(ee,!1),m.lanes=4194304);ee.isBackwards?(fe.sibling=m.child,m.child=fe):(b=ee.last,b!==null?b.sibling=fe:m.child=fe,ee.last=fe)}return ee.tail!==null?(m=ee.tail,ee.rendering=m,ee.tail=m.sibling,ee.renderingStartTime=At(),m.sibling=null,b=Dn.current,pn(Dn,E?b&1|2:b&1),m):(Xi(m),null);case 22:case 23:return Qb(),E=m.memoizedState!==null,h!==null&&h.memoizedState!==null!==E&&(m.flags|=8192),E&&m.mode&1?oo&1073741824&&(Xi(m),m.subtreeFlags&6&&(m.flags|=8192)):Xi(m),null;case 24:return null;case 25:return null}throw Error(n(156,m.tag))}function W9(h,m){switch(Je(m),m.tag){case 1:return Gi(m.type)&&ef(),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return Ro(),un(Ki),un(Ha),Gm(),h=m.flags,h&65536&&!(h&128)?(m.flags=h&-65537|128,m):null;case 5:return Wm(m),null;case 13:if(un(Dn),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(n(340));Gt()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return un(Dn),null;case 4:return Ro(),null;case 10:return Mn(m.type._context),null;case 22:case 23:return Qb(),null;case 24:return null;default:return null}}var dg=!1,Ji=!1,K9=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function hf(h,m){var b=h.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(E){va(h,m,E)}else b.current=null}function Bb(h,m,b){try{b()}catch(E){va(h,m,E)}}var G_=!1;function G9(h,m){if(Ud=Eo,h=ma(),to(h)){if("selectionStart"in h)var b={start:h.selectionStart,end:h.selectionEnd};else e:{b=(b=h.ownerDocument)&&b.defaultView||window;var E=b.getSelection&&b.getSelection();if(E&&E.rangeCount!==0){b=E.anchorNode;var W=E.anchorOffset,ee=E.focusNode;E=E.focusOffset;try{b.nodeType,ee.nodeType}catch{b=null;break e}var fe=0,Oe=-1,$e=-1,et=0,Nt=0,St=h,jt=null;t:for(;;){for(var Vt;St!==b||W!==0&&St.nodeType!==3||(Oe=fe+W),St!==ee||E!==0&&St.nodeType!==3||($e=fe+E),St.nodeType===3&&(fe+=St.nodeValue.length),(Vt=St.firstChild)!==null;)jt=St,St=Vt;for(;;){if(St===h)break t;if(jt===b&&++et===W&&(Oe=fe),jt===ee&&++Nt===E&&($e=fe),(Vt=St.nextSibling)!==null)break;St=jt,jt=St.parentNode}St=Vt}b=Oe===-1||$e===-1?null:{start:Oe,end:$e}}else b=null}b=b||{start:0,end:0}}else b=null;for(Fc={focusedElem:h,selectionRange:b},Eo=!1,Yt=m;Yt!==null;)if(m=Yt,h=m.child,(m.subtreeFlags&1028)!==0&&h!==null)h.return=m,Yt=h;else for(;Yt!==null;){m=Yt;try{var tr=m.alternate;if(m.flags&1024)switch(m.tag){case 0:case 11:case 15:break;case 1:if(tr!==null){var sr=tr.memoizedProps,Sa=tr.memoizedState,Ye=m.stateNode,Ue=Ye.getSnapshotBeforeUpdate(m.elementType===m.type?sr:gl(m.type,sr),Sa);Ye.__reactInternalSnapshotBeforeUpdate=Ue}break;case 3:var Ze=m.stateNode.containerInfo;Ze.nodeType===1?Ze.textContent="":Ze.nodeType===9&&Ze.documentElement&&Ze.removeChild(Ze.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Et){va(m,m.return,Et)}if(h=m.sibling,h!==null){h.return=m.return,Yt=h;break}Yt=m.return}return tr=G_,G_=!1,tr}function Zm(h,m,b){var E=m.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var W=E=E.next;do{if((W.tag&h)===h){var ee=W.destroy;W.destroy=void 0,ee!==void 0&&Bb(m,b,ee)}W=W.next}while(W!==E)}}function hg(h,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var b=m=m.next;do{if((b.tag&h)===h){var E=b.create;b.destroy=E()}b=b.next}while(b!==m)}}function Ub(h){var m=h.ref;if(m!==null){var b=h.stateNode;switch(h.tag){case 5:h=b;break;default:h=b}typeof m=="function"?m(h):m.current=h}}function Y_(h){var m=h.alternate;m!==null&&(h.alternate=null,Y_(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&(delete m[Io],delete m[Ru],delete m[Wi],delete m[kb],delete m[Cb])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function X_(h){return h.tag===5||h.tag===3||h.tag===4}function J_(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||X_(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function qb(h,m,b){var E=h.tag;if(E===5||E===6)h=h.stateNode,m?b.nodeType===8?b.parentNode.insertBefore(h,m):b.insertBefore(h,m):(b.nodeType===8?(m=b.parentNode,m.insertBefore(h,b)):(m=b,m.appendChild(h)),b=b._reactRootContainer,b!=null||m.onclick!==null||(m.onclick=Iu));else if(E!==4&&(h=h.child,h!==null))for(qb(h,m,b),h=h.sibling;h!==null;)qb(h,m,b),h=h.sibling}function Hb(h,m,b){var E=h.tag;if(E===5||E===6)h=h.stateNode,m?b.insertBefore(h,m):b.appendChild(h);else if(E!==4&&(h=h.child,h!==null))for(Hb(h,m,b),h=h.sibling;h!==null;)Hb(h,m,b),h=h.sibling}var Ei=null,xl=!1;function Hu(h,m,b){for(b=b.child;b!==null;)Z_(h,m,b),b=b.sibling}function Z_(h,m,b){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(Gr,b)}catch{}switch(b.tag){case 5:Ji||hf(b,m);case 6:var E=Ei,W=xl;Ei=null,Hu(h,m,b),Ei=E,xl=W,Ei!==null&&(xl?(h=Ei,b=b.stateNode,h.nodeType===8?h.parentNode.removeChild(b):h.removeChild(b)):Ei.removeChild(b.stateNode));break;case 18:Ei!==null&&(xl?(h=Ei,b=b.stateNode,h.nodeType===8?qm(h.parentNode,b):h.nodeType===1&&qm(h,b),$i(h)):qm(Ei,b.stateNode));break;case 4:E=Ei,W=xl,Ei=b.stateNode.containerInfo,xl=!0,Hu(h,m,b),Ei=E,xl=W;break;case 0:case 11:case 14:case 15:if(!Ji&&(E=b.updateQueue,E!==null&&(E=E.lastEffect,E!==null))){W=E=E.next;do{var ee=W,fe=ee.destroy;ee=ee.tag,fe!==void 0&&(ee&2||ee&4)&&Bb(b,m,fe),W=W.next}while(W!==E)}Hu(h,m,b);break;case 1:if(!Ji&&(hf(b,m),E=b.stateNode,typeof E.componentWillUnmount=="function"))try{E.props=b.memoizedProps,E.state=b.memoizedState,E.componentWillUnmount()}catch(Oe){va(b,m,Oe)}Hu(h,m,b);break;case 21:Hu(h,m,b);break;case 22:b.mode&1?(Ji=(E=Ji)||b.memoizedState!==null,Hu(h,m,b),Ji=E):Hu(h,m,b);break;default:Hu(h,m,b)}}function Q_(h){var m=h.updateQueue;if(m!==null){h.updateQueue=null;var b=h.stateNode;b===null&&(b=h.stateNode=new K9),m.forEach(function(E){var W=nz.bind(null,h,E);b.has(E)||(b.add(E),E.then(W,W))})}}function vl(h,m){var b=m.deletions;if(b!==null)for(var E=0;E<b.length;E++){var W=b[E];try{var ee=h,fe=m,Oe=fe;e:for(;Oe!==null;){switch(Oe.tag){case 5:Ei=Oe.stateNode,xl=!1;break e;case 3:Ei=Oe.stateNode.containerInfo,xl=!0;break e;case 4:Ei=Oe.stateNode.containerInfo,xl=!0;break e}Oe=Oe.return}if(Ei===null)throw Error(n(160));Z_(ee,fe,W),Ei=null,xl=!1;var $e=W.alternate;$e!==null&&($e.return=null),W.return=null}catch(et){va(W,m,et)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)eS(m,h),m=m.sibling}function eS(h,m){var b=h.alternate,E=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(vl(m,h),nc(h),E&4){try{Zm(3,h,h.return),hg(3,h)}catch(sr){va(h,h.return,sr)}try{Zm(5,h,h.return)}catch(sr){va(h,h.return,sr)}}break;case 1:vl(m,h),nc(h),E&512&&b!==null&&hf(b,b.return);break;case 5:if(vl(m,h),nc(h),E&512&&b!==null&&hf(b,b.return),h.flags&32){var W=h.stateNode;try{Qe(W,"")}catch(sr){va(h,h.return,sr)}}if(E&4&&(W=h.stateNode,W!=null)){var ee=h.memoizedProps,fe=b!==null?b.memoizedProps:ee,Oe=h.type,$e=h.updateQueue;if(h.updateQueue=null,$e!==null)try{Oe==="input"&&ee.type==="radio"&&ee.name!=null&&_e(W,ee),gt(Oe,fe);var et=gt(Oe,ee);for(fe=0;fe<$e.length;fe+=2){var Nt=$e[fe],St=$e[fe+1];Nt==="style"?pt(W,St):Nt==="dangerouslySetInnerHTML"?at(W,St):Nt==="children"?Qe(W,St):j(W,Nt,St,et)}switch(Oe){case"input":Te(W,ee);break;case"textarea":Ae(W,ee);break;case"select":var jt=W._wrapperState.wasMultiple;W._wrapperState.wasMultiple=!!ee.multiple;var Vt=ee.value;Vt!=null?xe(W,!!ee.multiple,Vt,!1):jt!==!!ee.multiple&&(ee.defaultValue!=null?xe(W,!!ee.multiple,ee.defaultValue,!0):xe(W,!!ee.multiple,ee.multiple?[]:"",!1))}W[Ru]=ee}catch(sr){va(h,h.return,sr)}}break;case 6:if(vl(m,h),nc(h),E&4){if(h.stateNode===null)throw Error(n(162));W=h.stateNode,ee=h.memoizedProps;try{W.nodeValue=ee}catch(sr){va(h,h.return,sr)}}break;case 3:if(vl(m,h),nc(h),E&4&&b!==null&&b.memoizedState.isDehydrated)try{$i(m.containerInfo)}catch(sr){va(h,h.return,sr)}break;case 4:vl(m,h),nc(h);break;case 13:vl(m,h),nc(h),W=h.child,W.flags&8192&&(ee=W.memoizedState!==null,W.stateNode.isHidden=ee,!ee||W.alternate!==null&&W.alternate.memoizedState!==null||(Kb=At())),E&4&&Q_(h);break;case 22:if(Nt=b!==null&&b.memoizedState!==null,h.mode&1?(Ji=(et=Ji)||Nt,vl(m,h),Ji=et):vl(m,h),nc(h),E&8192){if(et=h.memoizedState!==null,(h.stateNode.isHidden=et)&&!Nt&&h.mode&1)for(Yt=h,Nt=h.child;Nt!==null;){for(St=Yt=Nt;Yt!==null;){switch(jt=Yt,Vt=jt.child,jt.tag){case 0:case 11:case 14:case 15:Zm(4,jt,jt.return);break;case 1:hf(jt,jt.return);var tr=jt.stateNode;if(typeof tr.componentWillUnmount=="function"){E=jt,b=jt.return;try{m=E,tr.props=m.memoizedProps,tr.state=m.memoizedState,tr.componentWillUnmount()}catch(sr){va(E,b,sr)}}break;case 5:hf(jt,jt.return);break;case 22:if(jt.memoizedState!==null){nS(St);continue}}Vt!==null?(Vt.return=jt,Yt=Vt):nS(St)}Nt=Nt.sibling}e:for(Nt=null,St=h;;){if(St.tag===5){if(Nt===null){Nt=St;try{W=St.stateNode,et?(ee=W.style,typeof ee.setProperty=="function"?ee.setProperty("display","none","important"):ee.display="none"):(Oe=St.stateNode,$e=St.memoizedProps.style,fe=$e!=null&&$e.hasOwnProperty("display")?$e.display:null,Oe.style.display=he("display",fe))}catch(sr){va(h,h.return,sr)}}}else if(St.tag===6){if(Nt===null)try{St.stateNode.nodeValue=et?"":St.memoizedProps}catch(sr){va(h,h.return,sr)}}else if((St.tag!==22&&St.tag!==23||St.memoizedState===null||St===h)&&St.child!==null){St.child.return=St,St=St.child;continue}if(St===h)break e;for(;St.sibling===null;){if(St.return===null||St.return===h)break e;Nt===St&&(Nt=null),St=St.return}Nt===St&&(Nt=null),St.sibling.return=St.return,St=St.sibling}}break;case 19:vl(m,h),nc(h),E&4&&Q_(h);break;case 21:break;default:vl(m,h),nc(h)}}function nc(h){var m=h.flags;if(m&2){try{e:{for(var b=h.return;b!==null;){if(X_(b)){var E=b;break e}b=b.return}throw Error(n(160))}switch(E.tag){case 5:var W=E.stateNode;E.flags&32&&(Qe(W,""),E.flags&=-33);var ee=J_(h);Hb(h,ee,W);break;case 3:case 4:var fe=E.stateNode.containerInfo,Oe=J_(h);qb(h,Oe,fe);break;default:throw Error(n(161))}}catch($e){va(h,h.return,$e)}h.flags&=-3}m&4096&&(h.flags&=-4097)}function Y9(h,m,b){Yt=h,tS(h)}function tS(h,m,b){for(var E=(h.mode&1)!==0;Yt!==null;){var W=Yt,ee=W.child;if(W.tag===22&&E){var fe=W.memoizedState!==null||dg;if(!fe){var Oe=W.alternate,$e=Oe!==null&&Oe.memoizedState!==null||Ji;Oe=dg;var et=Ji;if(dg=fe,(Ji=$e)&&!et)for(Yt=W;Yt!==null;)fe=Yt,$e=fe.child,fe.tag===22&&fe.memoizedState!==null?aS(W):$e!==null?($e.return=fe,Yt=$e):aS(W);for(;ee!==null;)Yt=ee,tS(ee),ee=ee.sibling;Yt=W,dg=Oe,Ji=et}rS(h)}else W.subtreeFlags&8772&&ee!==null?(ee.return=W,Yt=ee):rS(h)}}function rS(h){for(;Yt!==null;){var m=Yt;if(m.flags&8772){var b=m.alternate;try{if(m.flags&8772)switch(m.tag){case 0:case 11:case 15:Ji||hg(5,m);break;case 1:var E=m.stateNode;if(m.flags&4&&!Ji)if(b===null)E.componentDidMount();else{var W=m.elementType===m.type?b.memoizedProps:gl(m.type,b.memoizedProps);E.componentDidUpdate(W,b.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var ee=m.updateQueue;ee!==null&&Rs(m,ee,E);break;case 3:var fe=m.updateQueue;if(fe!==null){if(b=null,m.child!==null)switch(m.child.tag){case 5:b=m.child.stateNode;break;case 1:b=m.child.stateNode}Rs(m,fe,b)}break;case 5:var Oe=m.stateNode;if(b===null&&m.flags&4){b=Oe;var $e=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":$e.autoFocus&&b.focus();break;case"img":$e.src&&(b.src=$e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var et=m.alternate;if(et!==null){var Nt=et.memoizedState;if(Nt!==null){var St=Nt.dehydrated;St!==null&&$i(St)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ji||m.flags&512&&Ub(m)}catch(jt){va(m,m.return,jt)}}if(m===h){Yt=null;break}if(b=m.sibling,b!==null){b.return=m.return,Yt=b;break}Yt=m.return}}function nS(h){for(;Yt!==null;){var m=Yt;if(m===h){Yt=null;break}var b=m.sibling;if(b!==null){b.return=m.return,Yt=b;break}Yt=m.return}}function aS(h){for(;Yt!==null;){var m=Yt;try{switch(m.tag){case 0:case 11:case 15:var b=m.return;try{hg(4,m)}catch($e){va(m,b,$e)}break;case 1:var E=m.stateNode;if(typeof E.componentDidMount=="function"){var W=m.return;try{E.componentDidMount()}catch($e){va(m,W,$e)}}var ee=m.return;try{Ub(m)}catch($e){va(m,ee,$e)}break;case 5:var fe=m.return;try{Ub(m)}catch($e){va(m,fe,$e)}}}catch($e){va(m,m.return,$e)}if(m===h){Yt=null;break}var Oe=m.sibling;if(Oe!==null){Oe.return=m.return,Yt=Oe;break}Yt=m.return}}var X9=Math.ceil,fg=C.ReactCurrentDispatcher,Vb=C.ReactCurrentOwner,$o=C.ReactCurrentBatchConfig,on=0,ui=null,Ta=null,Ai=0,oo=0,ff=ro(0),Wa=0,Qm=null,Gd=0,mg=0,Wb=0,ep=null,Fs=null,Kb=0,mf=1/0,Vc=null,pg=!1,Gb=null,Vu=null,gg=!1,Wu=null,xg=0,tp=0,Yb=null,vg=-1,yg=0;function gs(){return on&6?At():vg!==-1?vg:vg=At()}function Ku(h){return h.mode&1?on&2&&Ai!==0?Ai&-Ai:la.transition!==null?(yg===0&&(yg=wc()),yg):(h=qr,h!==0||(h=window.event,h=h===void 0?16:Ao(h.type)),h):1}function yl(h,m,b,E){if(50<tp)throw tp=0,Yb=null,Error(n(185));bi(h,b,E),(!(on&2)||h!==ui)&&(h===ui&&(!(on&2)&&(mg|=b),Wa===4&&Gu(h,Ai)),$s(h,E),b===1&&on===0&&!(m.mode&1)&&(mf=At()+500,Hd&&ne()))}function $s(h,m){var b=h.callbackNode;rn(h,m);var E=Fa(h,h===ui?Ai:0);if(E===0)b!==null&&vr(b),h.callbackNode=null,h.callbackPriority=0;else if(m=E&-E,h.callbackPriority!==m){if(b!=null&&vr(b),m===1)h.tag===0?J(sS.bind(null,h)):A(sS.bind(null,h)),_b(function(){!(on&6)&&ne()}),b=null;else{switch(Ps(E)){case 1:b=fr;break;case 4:b=Ir;break;case 16:b=kr;break;case 536870912:b=Xr;break;default:b=kr}b=mS(b,iS.bind(null,h))}h.callbackPriority=m,h.callbackNode=b}}function iS(h,m){if(vg=-1,yg=0,on&6)throw Error(n(327));var b=h.callbackNode;if(pf()&&h.callbackNode!==b)return null;var E=Fa(h,h===ui?Ai:0);if(E===0)return null;if(E&30||E&h.expiredLanes||m)m=bg(h,E);else{m=E;var W=on;on|=2;var ee=lS();(ui!==h||Ai!==m)&&(Vc=null,mf=At()+500,Xd(h,m));do try{Q9();break}catch(Oe){oS(h,Oe)}while(!0);an(),fg.current=ee,on=W,Ta!==null?m=0:(ui=null,Ai=0,m=Wa)}if(m!==0){if(m===2&&(W=fn(h),W!==0&&(E=W,m=Xb(h,W))),m===1)throw b=Qm,Xd(h,0),Gu(h,E),$s(h,At()),b;if(m===6)Gu(h,E);else{if(W=h.current.alternate,!(E&30)&&!J9(W)&&(m=bg(h,E),m===2&&(ee=fn(h),ee!==0&&(E=ee,m=Xb(h,ee))),m===1))throw b=Qm,Xd(h,0),Gu(h,E),$s(h,At()),b;switch(h.finishedWork=W,h.finishedLanes=E,m){case 0:case 1:throw Error(n(345));case 2:Jd(h,Fs,Vc);break;case 3:if(Gu(h,E),(E&130023424)===E&&(m=Kb+500-At(),10<m)){if(Fa(h,0)!==0)break;if(W=h.suspendedLanes,(W&E)!==E){gs(),h.pingedLanes|=h.suspendedLanes&W;break}h.timeoutHandle=Um(Jd.bind(null,h,Fs,Vc),m);break}Jd(h,Fs,Vc);break;case 4:if(Gu(h,E),(E&4194240)===E)break;for(m=h.eventTimes,W=-1;0<E;){var fe=31-Br(E);ee=1<<fe,fe=m[fe],fe>W&&(W=fe),E&=~ee}if(E=W,E=At()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*X9(E/1960))-E,10<E){h.timeoutHandle=Um(Jd.bind(null,h,Fs,Vc),E);break}Jd(h,Fs,Vc);break;case 5:Jd(h,Fs,Vc);break;default:throw Error(n(329))}}}return $s(h,At()),h.callbackNode===b?iS.bind(null,h):null}function Xb(h,m){var b=ep;return h.current.memoizedState.isDehydrated&&(Xd(h,m).flags|=256),h=bg(h,m),h!==2&&(m=Fs,Fs=b,m!==null&&Jb(m)),h}function Jb(h){Fs===null?Fs=h:Fs.push.apply(Fs,h)}function J9(h){for(var m=h;;){if(m.flags&16384){var b=m.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var E=0;E<b.length;E++){var W=b[E],ee=W.getSnapshot;W=W.value;try{if(!Jn(ee(),W))return!1}catch{return!1}}}if(b=m.child,m.subtreeFlags&16384&&b!==null)b.return=m,m=b;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Gu(h,m){for(m&=~Wb,m&=~mg,h.suspendedLanes|=m,h.pingedLanes&=~m,h=h.expirationTimes;0<m;){var b=31-Br(m),E=1<<b;h[b]=-1,m&=~E}}function sS(h){if(on&6)throw Error(n(327));pf();var m=Fa(h,0);if(!(m&1))return $s(h,At()),null;var b=bg(h,m);if(h.tag!==0&&b===2){var E=fn(h);E!==0&&(m=E,b=Xb(h,E))}if(b===1)throw b=Qm,Xd(h,0),Gu(h,m),$s(h,At()),b;if(b===6)throw Error(n(345));return h.finishedWork=h.current.alternate,h.finishedLanes=m,Jd(h,Fs,Vc),$s(h,At()),null}function Zb(h,m){var b=on;on|=1;try{return h(m)}finally{on=b,on===0&&(mf=At()+500,Hd&&ne())}}function Yd(h){Wu!==null&&Wu.tag===0&&!(on&6)&&pf();var m=on;on|=1;var b=$o.transition,E=qr;try{if($o.transition=null,qr=1,h)return h()}finally{qr=E,$o.transition=b,on=m,!(on&6)&&ne()}}function Qb(){oo=ff.current,un(ff)}function Xd(h,m){h.finishedWork=null,h.finishedLanes=0;var b=h.timeoutHandle;if(b!==-1&&(h.timeoutHandle=-1,Z0(b)),Ta!==null)for(b=Ta.return;b!==null;){var E=b;switch(Je(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&ef();break;case 3:Ro(),un(Ki),un(Ha),Gm();break;case 5:Wm(E);break;case 4:Ro();break;case 13:un(Dn);break;case 19:un(Dn);break;case 10:Mn(E.type._context);break;case 22:case 23:Qb()}b=b.return}if(ui=h,Ta=h=Yu(h.current,null),Ai=oo=m,Wa=0,Qm=null,Wb=mg=Gd=0,Fs=ep=null,vn!==null){for(m=0;m<vn.length;m++)if(b=vn[m],E=b.interleaved,E!==null){b.interleaved=null;var W=E.next,ee=b.pending;if(ee!==null){var fe=ee.next;ee.next=W,E.next=fe}b.pending=E}vn=null}return h}function oS(h,m){do{var b=Ta;try{if(an(),tf.current=og,Bu){for(var E=In.memoizedState;E!==null;){var W=E.queue;W!==null&&(W.pending=null),E=E.next}Bu=!1}if(zo=0,ha=xa=In=null,ml=!1,Uu=0,Vb.current=null,b===null||b.return===null){Wa=1,Qm=m,Ta=null;break}e:{var ee=h,fe=b.return,Oe=b,$e=m;if(m=Ai,Oe.flags|=32768,$e!==null&&typeof $e=="object"&&typeof $e.then=="function"){var et=$e,Nt=Oe,St=Nt.tag;if(!(Nt.mode&1)&&(St===0||St===11||St===15)){var jt=Nt.alternate;jt?(Nt.updateQueue=jt.updateQueue,Nt.memoizedState=jt.memoizedState,Nt.lanes=jt.lanes):(Nt.updateQueue=null,Nt.memoizedState=null)}var Vt=L_(fe);if(Vt!==null){Vt.flags&=-257,O_(Vt,fe,Oe,ee,m),Vt.mode&1&&D_(ee,et,m),m=Vt,$e=et;var tr=m.updateQueue;if(tr===null){var sr=new Set;sr.add($e),m.updateQueue=sr}else tr.add($e);break e}else{if(!(m&1)){D_(ee,et,m),e1();break e}$e=Error(n(426))}}else if(dt&&Oe.mode&1){var Sa=L_(fe);if(Sa!==null){!(Sa.flags&65536)&&(Sa.flags|=256),O_(Sa,fe,Oe,ee,m),Tt(df($e,Oe));break e}}ee=$e=df($e,Oe),Wa!==4&&(Wa=2),ep===null?ep=[ee]:ep.push(ee),ee=fe;do{switch(ee.tag){case 3:ee.flags|=65536,m&=-m,ee.lanes|=m;var Ye=E_(ee,$e,m);bn(ee,Ye);break e;case 1:Oe=$e;var Ue=ee.type,Ze=ee.stateNode;if(!(ee.flags&128)&&(typeof Ue.getDerivedStateFromError=="function"||Ze!==null&&typeof Ze.componentDidCatch=="function"&&(Vu===null||!Vu.has(Ze)))){ee.flags|=65536,m&=-m,ee.lanes|=m;var Et=A_(ee,Oe,m);bn(ee,Et);break e}}ee=ee.return}while(ee!==null)}uS(b)}catch(lr){m=lr,Ta===b&&b!==null&&(Ta=b=b.return);continue}break}while(!0)}function lS(){var h=fg.current;return fg.current=og,h===null?og:h}function e1(){(Wa===0||Wa===3||Wa===2)&&(Wa=4),ui===null||!(Gd&268435455)&&!(mg&268435455)||Gu(ui,Ai)}function bg(h,m){var b=on;on|=2;var E=lS();(ui!==h||Ai!==m)&&(Vc=null,Xd(h,m));do try{Z9();break}catch(W){oS(h,W)}while(!0);if(an(),on=b,fg.current=E,Ta!==null)throw Error(n(261));return ui=null,Ai=0,Wa}function Z9(){for(;Ta!==null;)cS(Ta)}function Q9(){for(;Ta!==null&&!Kr();)cS(Ta)}function cS(h){var m=fS(h.alternate,h,oo);h.memoizedProps=h.pendingProps,m===null?uS(h):Ta=m,Vb.current=null}function uS(h){var m=h;do{var b=m.alternate;if(h=m.return,m.flags&32768){if(b=W9(b,m),b!==null){b.flags&=32767,Ta=b;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Wa=6,Ta=null;return}}else if(b=V9(b,m,oo),b!==null){Ta=b;return}if(m=m.sibling,m!==null){Ta=m;return}Ta=m=h}while(m!==null);Wa===0&&(Wa=5)}function Jd(h,m,b){var E=qr,W=$o.transition;try{$o.transition=null,qr=1,ez(h,m,b,E)}finally{$o.transition=W,qr=E}return null}function ez(h,m,b,E){do pf();while(Wu!==null);if(on&6)throw Error(n(327));b=h.finishedWork;var W=h.finishedLanes;if(b===null)return null;if(h.finishedWork=null,h.finishedLanes=0,b===h.current)throw Error(n(177));h.callbackNode=null,h.callbackPriority=0;var ee=b.lanes|b.childLanes;if(wi(h,ee),h===ui&&(Ta=ui=null,Ai=0),!(b.subtreeFlags&2064)&&!(b.flags&2064)||gg||(gg=!0,mS(kr,function(){return pf(),null})),ee=(b.flags&15990)!==0,b.subtreeFlags&15990||ee){ee=$o.transition,$o.transition=null;var fe=qr;qr=1;var Oe=on;on|=4,Vb.current=null,G9(h,b),eS(b,h),Td(Fc),Eo=!!Ud,Fc=Ud=null,h.current=b,Y9(b),Ut(),on=Oe,qr=fe,$o.transition=ee}else h.current=b;if(gg&&(gg=!1,Wu=h,xg=W),ee=h.pendingLanes,ee===0&&(Vu=null),Ii(b.stateNode),$s(h,At()),m!==null)for(E=h.onRecoverableError,b=0;b<m.length;b++)W=m[b],E(W.value,{componentStack:W.stack,digest:W.digest});if(pg)throw pg=!1,h=Gb,Gb=null,h;return xg&1&&h.tag!==0&&pf(),ee=h.pendingLanes,ee&1?h===Yb?tp++:(tp=0,Yb=h):tp=0,ne(),null}function pf(){if(Wu!==null){var h=Ps(xg),m=$o.transition,b=qr;try{if($o.transition=null,qr=16>h?16:h,Wu===null)var E=!1;else{if(h=Wu,Wu=null,xg=0,on&6)throw Error(n(331));var W=on;for(on|=4,Yt=h.current;Yt!==null;){var ee=Yt,fe=ee.child;if(Yt.flags&16){var Oe=ee.deletions;if(Oe!==null){for(var $e=0;$e<Oe.length;$e++){var et=Oe[$e];for(Yt=et;Yt!==null;){var Nt=Yt;switch(Nt.tag){case 0:case 11:case 15:Zm(8,Nt,ee)}var St=Nt.child;if(St!==null)St.return=Nt,Yt=St;else for(;Yt!==null;){Nt=Yt;var jt=Nt.sibling,Vt=Nt.return;if(Y_(Nt),Nt===et){Yt=null;break}if(jt!==null){jt.return=Vt,Yt=jt;break}Yt=Vt}}}var tr=ee.alternate;if(tr!==null){var sr=tr.child;if(sr!==null){tr.child=null;do{var Sa=sr.sibling;sr.sibling=null,sr=Sa}while(sr!==null)}}Yt=ee}}if(ee.subtreeFlags&2064&&fe!==null)fe.return=ee,Yt=fe;else e:for(;Yt!==null;){if(ee=Yt,ee.flags&2048)switch(ee.tag){case 0:case 11:case 15:Zm(9,ee,ee.return)}var Ye=ee.sibling;if(Ye!==null){Ye.return=ee.return,Yt=Ye;break e}Yt=ee.return}}var Ue=h.current;for(Yt=Ue;Yt!==null;){fe=Yt;var Ze=fe.child;if(fe.subtreeFlags&2064&&Ze!==null)Ze.return=fe,Yt=Ze;else e:for(fe=Ue;Yt!==null;){if(Oe=Yt,Oe.flags&2048)try{switch(Oe.tag){case 0:case 11:case 15:hg(9,Oe)}}catch(lr){va(Oe,Oe.return,lr)}if(Oe===fe){Yt=null;break e}var Et=Oe.sibling;if(Et!==null){Et.return=Oe.return,Yt=Et;break e}Yt=Oe.return}}if(on=W,ne(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(Gr,h)}catch{}E=!0}return E}finally{qr=b,$o.transition=m}}return!1}function dS(h,m,b){m=df(b,m),m=E_(h,m,1),h=ua(h,m,1),m=gs(),h!==null&&(bi(h,1,m),$s(h,m))}function va(h,m,b){if(h.tag===3)dS(h,h,b);else for(;m!==null;){if(m.tag===3){dS(m,h,b);break}else if(m.tag===1){var E=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Vu===null||!Vu.has(E))){h=df(b,h),h=A_(m,h,1),m=ua(m,h,1),h=gs(),m!==null&&(bi(m,1,h),$s(m,h));break}}m=m.return}}function tz(h,m,b){var E=h.pingCache;E!==null&&E.delete(m),m=gs(),h.pingedLanes|=h.suspendedLanes&b,ui===h&&(Ai&b)===b&&(Wa===4||Wa===3&&(Ai&130023424)===Ai&&500>At()-Kb?Xd(h,0):Wb|=b),$s(h,m)}function hS(h,m){m===0&&(h.mode&1?(m=Gn,Gn<<=1,!(Gn&130023424)&&(Gn=4194304)):m=1);var b=gs();h=yn(h,m),h!==null&&(bi(h,m,b),$s(h,b))}function rz(h){var m=h.memoizedState,b=0;m!==null&&(b=m.retryLane),hS(h,b)}function nz(h,m){var b=0;switch(h.tag){case 13:var E=h.stateNode,W=h.memoizedState;W!==null&&(b=W.retryLane);break;case 19:E=h.stateNode;break;default:throw Error(n(314))}E!==null&&E.delete(m),hS(h,b)}var fS;fS=function(h,m,b){if(h!==null)if(h.memoizedProps!==m.pendingProps||Ki.current)zs=!0;else{if(!(h.lanes&b)&&!(m.flags&128))return zs=!1,H9(h,m,b);zs=!!(h.flags&131072)}else zs=!1,dt&&m.flags&1048576&&We(m,we,m.index);switch(m.lanes=0,m.tag){case 2:var E=m.type;ug(h,m),h=m.pendingProps;var W=Fu(m,Ha.current);ea(m,b),W=Vd(null,m,E,h,W,b);var ee=Fo();return m.flags|=1,typeof W=="object"&&W!==null&&typeof W.render=="function"&&W.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Gi(E)?(ee=!0,Uc(m)):ee=!1,m.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,Va(m),W.updater=lg,m.stateNode=W,W._reactInternals=m,Db(m,E,h,b),m=Mb(null,m,E,!0,ee,b)):(m.tag=0,dt&&ee&&lt(m),ps(null,m,W,b),m=m.child),m;case 16:E=m.elementType;e:{switch(ug(h,m),h=m.pendingProps,W=E._init,E=W(E._payload),m.type=E,W=m.tag=iz(E),h=gl(E,h),W){case 0:m=Tb(null,m,E,h,b);break e;case 1:m=F_(null,m,E,h,b);break e;case 11:m=T_(null,m,E,h,b);break e;case 14:m=M_(null,m,E,gl(E.type,h),b);break e}throw Error(n(306,E,""))}return m;case 0:return E=m.type,W=m.pendingProps,W=m.elementType===E?W:gl(E,W),Tb(h,m,E,W,b);case 1:return E=m.type,W=m.pendingProps,W=m.elementType===E?W:gl(E,W),F_(h,m,E,W,b);case 3:e:{if($_(m),h===null)throw Error(n(387));E=m.pendingProps,ee=m.memoizedState,W=ee.element,Yi(h,m),ci(m,E,null,b);var fe=m.memoizedState;if(E=fe.element,ee.isDehydrated)if(ee={element:E,isDehydrated:!1,cache:fe.cache,pendingSuspenseBoundaries:fe.pendingSuspenseBoundaries,transitions:fe.transitions},m.updateQueue.baseState=ee,m.memoizedState=ee,m.flags&256){W=df(Error(n(423)),m),m=B_(h,m,E,b,W);break e}else if(E!==W){W=df(Error(n(424)),m),m=B_(h,m,E,b,W);break e}else for(st=Pi(m.stateNode.containerInfo.firstChild),nt=m,dt=!0,mt=null,b=Bn(m,null,E,b),m.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Gt(),E===W){m=Hc(h,m,b);break e}ps(h,m,E,b)}m=m.child}return m;case 5:return rg(m),h===null&&Zt(m),E=m.type,W=m.pendingProps,ee=h!==null?h.memoizedProps:null,fe=W.children,Bm(E,W)?fe=null:ee!==null&&Bm(E,ee)&&(m.flags|=32),z_(h,m),ps(h,m,fe,b),m.child;case 6:return h===null&&Zt(m),null;case 13:return U_(h,m,b);case 4:return $u(m,m.stateNode.containerInfo),E=m.pendingProps,h===null?m.child=pa(m,null,E,b):ps(h,m,E,b),m.child;case 11:return E=m.type,W=m.pendingProps,W=m.elementType===E?W:gl(E,W),T_(h,m,E,W,b);case 7:return ps(h,m,m.pendingProps,b),m.child;case 8:return ps(h,m,m.pendingProps.children,b),m.child;case 12:return ps(h,m,m.pendingProps.children,b),m.child;case 10:e:{if(E=m.type._context,W=m.pendingProps,ee=m.memoizedProps,fe=W.value,pn(Na,E._currentValue),E._currentValue=fe,ee!==null)if(Jn(ee.value,fe)){if(ee.children===W.children&&!Ki.current){m=Hc(h,m,b);break e}}else for(ee=m.child,ee!==null&&(ee.return=m);ee!==null;){var Oe=ee.dependencies;if(Oe!==null){fe=ee.child;for(var $e=Oe.firstContext;$e!==null;){if($e.context===E){if(ee.tag===1){$e=ca(-1,b&-b),$e.tag=2;var et=ee.updateQueue;if(et!==null){et=et.shared;var Nt=et.pending;Nt===null?$e.next=$e:($e.next=Nt.next,Nt.next=$e),et.pending=$e}}ee.lanes|=b,$e=ee.alternate,$e!==null&&($e.lanes|=b),sn(ee.return,b,m),Oe.lanes|=b;break}$e=$e.next}}else if(ee.tag===10)fe=ee.type===m.type?null:ee.child;else if(ee.tag===18){if(fe=ee.return,fe===null)throw Error(n(341));fe.lanes|=b,Oe=fe.alternate,Oe!==null&&(Oe.lanes|=b),sn(fe,b,m),fe=ee.sibling}else fe=ee.child;if(fe!==null)fe.return=ee;else for(fe=ee;fe!==null;){if(fe===m){fe=null;break}if(ee=fe.sibling,ee!==null){ee.return=fe.return,fe=ee;break}fe=fe.return}ee=fe}ps(h,m,W.children,b),m=m.child}return m;case 9:return W=m.type,E=m.pendingProps.children,ea(m,b),W=ta(W),E=E(W),m.flags|=1,ps(h,m,E,b),m.child;case 14:return E=m.type,W=gl(E,m.pendingProps),W=gl(E.type,W),M_(h,m,E,W,b);case 15:return I_(h,m,m.type,m.pendingProps,b);case 17:return E=m.type,W=m.pendingProps,W=m.elementType===E?W:gl(E,W),ug(h,m),m.tag=1,Gi(E)?(h=!0,Uc(m)):h=!1,ea(m,b),C_(m,E,W),Db(m,E,W,b),Mb(null,m,E,!0,h,b);case 19:return H_(h,m,b);case 22:return R_(h,m,b)}throw Error(n(156,m.tag))};function mS(h,m){return nr(h,m)}function az(h,m,b,E){this.tag=h,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bo(h,m,b,E){return new az(h,m,b,E)}function t1(h){return h=h.prototype,!(!h||!h.isReactComponent)}function iz(h){if(typeof h=="function")return t1(h)?1:0;if(h!=null){if(h=h.$$typeof,h===M)return 11;if(h===H)return 14}return 2}function Yu(h,m){var b=h.alternate;return b===null?(b=Bo(h.tag,m,h.key,h.mode),b.elementType=h.elementType,b.type=h.type,b.stateNode=h.stateNode,b.alternate=h,h.alternate=b):(b.pendingProps=m,b.type=h.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=h.flags&14680064,b.childLanes=h.childLanes,b.lanes=h.lanes,b.child=h.child,b.memoizedProps=h.memoizedProps,b.memoizedState=h.memoizedState,b.updateQueue=h.updateQueue,m=h.dependencies,b.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},b.sibling=h.sibling,b.index=h.index,b.ref=h.ref,b}function wg(h,m,b,E,W,ee){var fe=2;if(E=h,typeof h=="function")t1(h)&&(fe=1);else if(typeof h=="string")fe=5;else e:switch(h){case F:return Zd(b.children,W,ee,m);case V:fe=8,W|=8;break;case B:return h=Bo(12,b,m,W|2),h.elementType=B,h.lanes=ee,h;case I:return h=Bo(13,b,m,W),h.elementType=I,h.lanes=ee,h;case q:return h=Bo(19,b,m,W),h.elementType=q,h.lanes=ee,h;case O:return jg(b,W,ee,m);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case K:fe=10;break e;case T:fe=9;break e;case M:fe=11;break e;case H:fe=14;break e;case te:fe=16,E=null;break e}throw Error(n(130,h==null?h:typeof h,""))}return m=Bo(fe,b,m,W),m.elementType=h,m.type=E,m.lanes=ee,m}function Zd(h,m,b,E){return h=Bo(7,h,E,m),h.lanes=b,h}function jg(h,m,b,E){return h=Bo(22,h,E,m),h.elementType=O,h.lanes=b,h.stateNode={isHidden:!1},h}function r1(h,m,b){return h=Bo(6,h,null,m),h.lanes=b,h}function n1(h,m,b){return m=Bo(4,h.children!==null?h.children:[],h.key,m),m.lanes=b,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}function sz(h,m,b,E,W){this.tag=m,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$l(0),this.expirationTimes=$l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.identifierPrefix=E,this.onRecoverableError=W,this.mutableSourceEagerHydrationData=null}function a1(h,m,b,E,W,ee,fe,Oe,$e){return h=new sz(h,m,b,Oe,$e),m===1?(m=1,ee===!0&&(m|=8)):m=0,ee=Bo(3,null,null,m),h.current=ee,ee.stateNode=h,ee.memoizedState={element:E,isDehydrated:b,cache:null,transitions:null,pendingSuspenseBoundaries:null},Va(ee),h}function oz(h,m,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:E==null?null:""+E,children:h,containerInfo:m,implementation:b}}function pS(h){if(!h)return ec;h=h._reactInternals;e:{if(Ke(h)!==h||h.tag!==1)throw Error(n(170));var m=h;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Gi(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(n(171))}if(h.tag===1){var b=h.type;if(Gi(b))return Vm(h,b,m)}return m}function gS(h,m,b,E,W,ee,fe,Oe,$e){return h=a1(b,E,!0,h,W,ee,fe,Oe,$e),h.context=pS(null),b=h.current,E=gs(),W=Ku(b),ee=ca(E,W),ee.callback=m??null,ua(b,ee,W),h.current.lanes=W,bi(h,W,E),$s(h,E),h}function Ng(h,m,b,E){var W=m.current,ee=gs(),fe=Ku(W);return b=pS(b),m.context===null?m.context=b:m.pendingContext=b,m=ca(ee,fe),m.payload={element:h},E=E===void 0?null:E,E!==null&&(m.callback=E),h=ua(W,m,fe),h!==null&&(yl(h,W,fe,ee),li(h,W,fe)),fe}function _g(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function xS(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var b=h.retryLane;h.retryLane=b!==0&&b<m?b:m}}function i1(h,m){xS(h,m),(h=h.alternate)&&xS(h,m)}function lz(){return null}var vS=typeof reportError=="function"?reportError:function(h){console.error(h)};function s1(h){this._internalRoot=h}Sg.prototype.render=s1.prototype.render=function(h){var m=this._internalRoot;if(m===null)throw Error(n(409));Ng(h,m,null,null)},Sg.prototype.unmount=s1.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var m=h.containerInfo;Yd(function(){Ng(null,h,null,null)}),m[si]=null}};function Sg(h){this._internalRoot=h}Sg.prototype.unstable_scheduleHydration=function(h){if(h){var m=Js();h={blockedOn:null,target:h,priority:m};for(var b=0;b<As.length&&m!==0&&m<As[b].priority;b++);As.splice(b,0,h),b===0&&jc(h)}};function o1(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function kg(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function yS(){}function cz(h,m,b,E,W){if(W){if(typeof E=="function"){var ee=E;E=function(){var et=_g(fe);ee.call(et)}}var fe=gS(m,E,h,0,null,!1,!1,"",yS);return h._reactRootContainer=fe,h[si]=fe.current,Rc(h.nodeType===8?h.parentNode:h),Yd(),fe}for(;W=h.lastChild;)h.removeChild(W);if(typeof E=="function"){var Oe=E;E=function(){var et=_g($e);Oe.call(et)}}var $e=a1(h,0,!1,null,null,!1,!1,"",yS);return h._reactRootContainer=$e,h[si]=$e.current,Rc(h.nodeType===8?h.parentNode:h),Yd(function(){Ng(m,$e,b,E)}),$e}function Cg(h,m,b,E,W){var ee=b._reactRootContainer;if(ee){var fe=ee;if(typeof W=="function"){var Oe=W;W=function(){var $e=_g(fe);Oe.call($e)}}Ng(m,fe,h,W)}else fe=cz(b,m,h,W,E);return _g(fe)}Fi=function(h){switch(h.tag){case 3:var m=h.stateNode;if(m.current.memoizedState.isDehydrated){var b=zi(m.pendingLanes);b!==0&&(Xs(m,b|1),$s(m,At()),!(on&6)&&(mf=At()+500,ne()))}break;case 13:Yd(function(){var E=yn(h,1);if(E!==null){var W=gs();yl(E,h,1,W)}}),i1(h,1)}},Co=function(h){if(h.tag===13){var m=yn(h,134217728);if(m!==null){var b=gs();yl(m,h,134217728,b)}i1(h,134217728)}},Es=function(h){if(h.tag===13){var m=Ku(h),b=yn(h,m);if(b!==null){var E=gs();yl(b,h,m,E)}i1(h,m)}},Js=function(){return qr},ji=function(h,m){var b=qr;try{return qr=h,m()}finally{qr=b}},It=function(h,m,b){switch(m){case"input":if(Te(h,b),m=b.name,b.type==="radio"&&m!=null){for(b=h;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<b.length;m++){var E=b[m];if(E!==h&&E.form===h.form){var W=qd(E);if(!W)throw Error(n(90));ue(E),Te(E,W)}}}break;case"textarea":Ae(h,b);break;case"select":m=b.value,m!=null&&xe(h,!!b.multiple,m,!1)}},Jt=Zb,Tr=Yd;var uz={usingClientEntryPoint:!1,Events:[zu,$c,qd,ht,ur,Zb]},rp={findFiberByHostInstance:Ql,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dz={bundleType:rp.bundleType,version:rp.version,rendererPackageName:rp.rendererPackageName,rendererConfig:rp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=$t(h),h===null?null:h.stateNode},findFiberByHostInstance:rp.findFiberByHostInstance||lz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pg.isDisabled&&Pg.supportsFiber)try{Gr=Pg.inject(dz),_n=Pg}catch{}}return Bs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uz,Bs.createPortal=function(h,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o1(m))throw Error(n(200));return oz(h,m,null,b)},Bs.createRoot=function(h,m){if(!o1(h))throw Error(n(299));var b=!1,E="",W=vS;return m!=null&&(m.unstable_strictMode===!0&&(b=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onRecoverableError!==void 0&&(W=m.onRecoverableError)),m=a1(h,1,!1,null,null,b,!1,E,W),h[si]=m.current,Rc(h.nodeType===8?h.parentNode:h),new s1(m)},Bs.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(n(188)):(h=Object.keys(h).join(","),Error(n(268,h)));return h=$t(m),h=h===null?null:h.stateNode,h},Bs.flushSync=function(h){return Yd(h)},Bs.hydrate=function(h,m,b){if(!kg(m))throw Error(n(200));return Cg(null,h,m,!0,b)},Bs.hydrateRoot=function(h,m,b){if(!o1(h))throw Error(n(405));var E=b!=null&&b.hydratedSources||null,W=!1,ee="",fe=vS;if(b!=null&&(b.unstable_strictMode===!0&&(W=!0),b.identifierPrefix!==void 0&&(ee=b.identifierPrefix),b.onRecoverableError!==void 0&&(fe=b.onRecoverableError)),m=gS(m,null,h,1,b??null,W,!1,ee,fe),h[si]=m.current,Rc(h),E)for(h=0;h<E.length;h++)b=E[h],W=b._getVersion,W=W(b._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[b,W]:m.mutableSourceEagerHydrationData.push(b,W);return new Sg(m)},Bs.render=function(h,m,b){if(!kg(m))throw Error(n(200));return Cg(null,h,m,!1,b)},Bs.unmountComponentAtNode=function(h){if(!kg(h))throw Error(n(40));return h._reactRootContainer?(Yd(function(){Cg(null,null,h,!1,function(){h._reactRootContainer=null,h[si]=null})}),!0):!1},Bs.unstable_batchedUpdates=Zb,Bs.unstable_renderSubtreeIntoContainer=function(h,m,b,E){if(!kg(b))throw Error(n(200));if(h==null||h._reactInternals===void 0)throw Error(n(38));return Cg(h,m,b,!1,E)},Bs.version="18.3.1-next-f1338f8080-20240426",Bs}var CS;function yD(){if(CS)return u1.exports;CS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),u1.exports=wz(),u1.exports}var PS;function jz(){if(PS)return Ag;PS=1;var e=yD();return Ag.createRoot=e.createRoot,Ag.hydrateRoot=e.hydrateRoot,Ag}var Nz=jz();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ES="popstate";function _z(e={}){function r(a,s){let{pathname:o,search:l,hash:c}=a.location;return K2("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){return typeof s=="string"?s:Hp(s)}return kz(r,n,null,e)}function aa(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function Yo(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Sz(){return Math.random().toString(36).substring(2,10)}function AS(e,r){return{usr:e.state,key:e.key,idx:r}}function K2(e,r,n=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof r=="string"?mm(r):r,state:n,key:r&&r.key||a||Sz()}}function Hp({pathname:e="/",search:r="",hash:n=""}){return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function mm(e){let r={};if(e){let n=e.indexOf("#");n>=0&&(r.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(r.search=e.substring(a),e=e.substring(0,a)),e&&(r.pathname=e)}return r}function kz(e,r,n,a={}){let{window:s=document.defaultView,v5Compat:o=!1}=a,l=s.history,c="POP",u=null,d=f();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function f(){return(l.state||{idx:null}).idx}function p(){c="POP";let v=f(),S=v==null?null:v-d;d=v,u&&u({action:c,location:w.location,delta:S})}function x(v,S){c="PUSH";let k=K2(w.location,v,S);d=f()+1;let j=AS(k,d),C=w.createHref(k);try{l.pushState(j,"",C)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(C)}o&&u&&u({action:c,location:w.location,delta:1})}function g(v,S){c="REPLACE";let k=K2(w.location,v,S);d=f();let j=AS(k,d),C=w.createHref(k);l.replaceState(j,"",C),o&&u&&u({action:c,location:w.location,delta:0})}function y(v){return Cz(v)}let w={get action(){return c},get location(){return e(s,l)},listen(v){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(ES,p),u=v,()=>{s.removeEventListener(ES,p),u=null}},createHref(v){return r(s,v)},createURL:y,encodeLocation(v){let S=y(v);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:x,replace:g,go(v){return l.go(v)}};return w}function Cz(e,r=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),aa(n,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Hp(e);return a=a.replace(/ $/,"%20"),!r&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function bD(e,r,n="/"){return Pz(e,r,n,!1)}function Pz(e,r,n,a){let s=typeof r=="string"?mm(r):r,o=su(s.pathname||"/",n);if(o==null)return null;let l=wD(e);Ez(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let d=$z(o);c=zz(l[u],d,a)}return c}function wD(e,r=[],n=[],a="",s=!1){let o=(l,c,u=s,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(a)&&u)return;aa(f.relativePath.startsWith(a),`Absolute route path "${f.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(a.length)}let p=ru([a,f.relativePath]),x=n.concat(f);l.children&&l.children.length>0&&(aa(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),wD(l.children,r,x,p,u)),!(l.path==null&&!l.index)&&r.push({path:p,score:Iz(p,l.index),routesMeta:x})};return e.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))o(l,c);else for(let d of jD(l.path))o(l,c,!0,d)}),r}function jD(e){let r=e.split("/");if(r.length===0)return[];let[n,...a]=r,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(a.length===0)return s?[o,""]:[o];let l=jD(a.join("/")),c=[];return c.push(...l.map(u=>u===""?o:[o,u].join("/"))),s&&c.push(...l),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function Ez(e){e.sort((r,n)=>r.score!==n.score?n.score-r.score:Rz(r.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Az=/^:[\w-]+$/,Dz=3,Lz=2,Oz=1,Tz=10,Mz=-2,DS=e=>e==="*";function Iz(e,r){let n=e.split("/"),a=n.length;return n.some(DS)&&(a+=Mz),r&&(a+=Lz),n.filter(s=>!DS(s)).reduce((s,o)=>s+(Az.test(o)?Dz:o===""?Oz:Tz),a)}function Rz(e,r){return e.length===r.length&&e.slice(0,-1).every((a,s)=>a===r[s])?e[e.length-1]-r[r.length-1]:0}function zz(e,r,n=!1){let{routesMeta:a}=e,s={},o="/",l=[];for(let c=0;c<a.length;++c){let u=a[c],d=c===a.length-1,f=o==="/"?r:r.slice(o.length)||"/",p=$x({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),x=u.route;if(!p&&d&&n&&!a[a.length-1].route.index&&(p=$x({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(s,p.params),l.push({params:s,pathname:ru([o,p.pathname]),pathnameBase:Hz(ru([o,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(o=ru([o,p.pathnameBase]))}return l}function $x(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=Fz(e.path,e.caseSensitive,e.end),s=r.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:a.reduce((d,{paramName:f,isOptional:p},x)=>{if(f==="*"){let y=c[x]||"";l=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const g=c[x];return p&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:e}}function Fz(e,r=!1,n=!0){Yo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(a.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,r?void 0:"i"),a]}function $z(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Yo(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),e}}function su(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function Bz(e,r="/"){let{pathname:n,search:a="",hash:s=""}=typeof e=="string"?mm(e):e;return{pathname:n?n.startsWith("/")?n:Uz(n,r):r,search:Vz(a),hash:Wz(s)}}function Uz(e,r){let n=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function f1(e,r,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${r}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qz(e){return e.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function Bj(e){let r=qz(e);return r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase)}function Uj(e,r,n,a=!1){let s;typeof e=="string"?s=mm(e):(s={...e},aa(!s.pathname||!s.pathname.includes("?"),f1("?","pathname","search",s)),aa(!s.pathname||!s.pathname.includes("#"),f1("#","pathname","hash",s)),aa(!s.search||!s.search.includes("#"),f1("#","search","hash",s)));let o=e===""||s.pathname==="",l=o?"/":s.pathname,c;if(l==null)c=n;else{let p=r.length-1;if(!a&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),p-=1;s.pathname=x.join("/")}c=p>=0?r[p]:"/"}let u=Bz(s,c),d=l&&l!=="/"&&l.endsWith("/"),f=(o||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var ru=e=>e.join("/").replace(/\/\/+/g,"/"),Hz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Vz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Wz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Kz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ND=["POST","PUT","PATCH","DELETE"];new Set(ND);var Gz=["GET",...ND];new Set(Gz);var pm=N.createContext(null);pm.displayName="DataRouter";var cy=N.createContext(null);cy.displayName="DataRouterState";N.createContext(!1);var _D=N.createContext({isTransitioning:!1});_D.displayName="ViewTransition";var Yz=N.createContext(new Map);Yz.displayName="Fetchers";var Xz=N.createContext(null);Xz.displayName="Await";var Tl=N.createContext(null);Tl.displayName="Navigation";var y0=N.createContext(null);y0.displayName="Location";var Ml=N.createContext({outlet:null,matches:[],isDataRoute:!1});Ml.displayName="Route";var qj=N.createContext(null);qj.displayName="RouteError";function Jz(e,{relative:r}={}){aa(gm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=N.useContext(Tl),{hash:s,pathname:o,search:l}=b0(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ru([n,o])),a.createHref({pathname:c,search:l,hash:s})}function gm(){return N.useContext(y0)!=null}function No(){return aa(gm(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(y0).location}var SD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kD(e){N.useContext(Tl).static||N.useLayoutEffect(e)}function Pn(){let{isDataRoute:e}=N.useContext(Ml);return e?dF():Zz()}function Zz(){aa(gm(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(pm),{basename:r,navigator:n}=N.useContext(Tl),{matches:a}=N.useContext(Ml),{pathname:s}=No(),o=JSON.stringify(Bj(a)),l=N.useRef(!1);return kD(()=>{l.current=!0}),N.useCallback((u,d={})=>{if(Yo(l.current,SD),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=Uj(u,JSON.parse(o),s,d.relative==="path");e==null&&r!=="/"&&(f.pathname=f.pathname==="/"?r:ru([r,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[r,n,o,s,e])}N.createContext(null);function Qz(){let{matches:e}=N.useContext(Ml),r=e[e.length-1];return r?r.params:{}}function b0(e,{relative:r}={}){let{matches:n}=N.useContext(Ml),{pathname:a}=No(),s=JSON.stringify(Bj(n));return N.useMemo(()=>Uj(e,JSON.parse(s),a,r==="path"),[e,s,a,r])}function eF(e,r){return CD(e,r)}function CD(e,r,n,a,s){var k;aa(gm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=N.useContext(Tl),{matches:l}=N.useContext(Ml),c=l[l.length-1],u=c?c.params:{},d=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let j=p&&p.path||"";PD(d,!p||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let x=No(),g;if(r){let j=typeof r=="string"?mm(r):r;aa(f==="/"||((k=j.pathname)==null?void 0:k.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${j.pathname}" was given in the \`location\` prop.`),g=j}else g=x;let y=g.pathname||"/",w=y;if(f!=="/"){let j=f.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(j.length).join("/")}let v=bD(e,{pathname:w});Yo(p||v!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Yo(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=iF(v&&v.map(j=>Object.assign({},j,{params:Object.assign({},u,j.params),pathname:ru([f,o.encodeLocation?o.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:ru([f,o.encodeLocation?o.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),l,n,a,s);return r&&S?N.createElement(y0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},S):S}function tF(){let e=uF(),r=Kz(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:o},"ErrorBoundary")," or"," ",N.createElement("code",{style:o},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},r),n?N.createElement("pre",{style:s},n):null,l)}var rF=N.createElement(tF,null),nF=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){this.props.unstable_onError?this.props.unstable_onError(e,r):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?N.createElement(Ml.Provider,{value:this.props.routeContext},N.createElement(qj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aF({routeContext:e,match:r,children:n}){let a=N.useContext(pm);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(Ml.Provider,{value:e},n)}function iF(e,r=[],n=null,a=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(r.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=n==null?void 0:n.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);aa(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:x}=n,g=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!x||x[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let x,g=!1,y=null,w=null;n&&(x=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||rF,c&&(u<0&&p===0?(PD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):u===p&&(g=!0,w=f.route.hydrateFallbackElement||null)));let v=r.concat(o.slice(0,p+1)),S=()=>{let k;return x?k=y:g?k=w:f.route.Component?k=N.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=d,N.createElement(aF,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:k})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?N.createElement(nF,{location:n.location,revalidation:n.revalidation,component:y,error:x,children:S(),routeContext:{outlet:null,matches:v,isDataRoute:!0},unstable_onError:a}):S()},null)}function Hj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sF(e){let r=N.useContext(pm);return aa(r,Hj(e)),r}function oF(e){let r=N.useContext(cy);return aa(r,Hj(e)),r}function lF(e){let r=N.useContext(Ml);return aa(r,Hj(e)),r}function Vj(e){let r=lF(e),n=r.matches[r.matches.length-1];return aa(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function cF(){return Vj("useRouteId")}function uF(){var a;let e=N.useContext(qj),r=oF("useRouteError"),n=Vj("useRouteError");return e!==void 0?e:(a=r.errors)==null?void 0:a[n]}function dF(){let{router:e}=sF("useNavigate"),r=Vj("useNavigate"),n=N.useRef(!1);return kD(()=>{n.current=!0}),N.useCallback(async(s,o={})=>{Yo(n.current,SD),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:r,...o}))},[e,r])}var LS={};function PD(e,r,n){!r&&!LS[e]&&(LS[e]=!0,Yo(!1,n))}N.memo(hF);function hF({routes:e,future:r,state:n,unstable_onError:a}){return CD(e,void 0,n,a,r)}function Bf({to:e,replace:r,state:n,relative:a}){aa(gm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=N.useContext(Tl);Yo(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=N.useContext(Ml),{pathname:l}=No(),c=Pn(),u=Uj(e,Bj(o),l,a==="path"),d=JSON.stringify(u);return N.useEffect(()=>{c(JSON.parse(d),{replace:r,state:n,relative:a})},[c,d,a,r,n]),null}function ya(e){aa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fF({basename:e="/",children:r=null,location:n,navigationType:a="POP",navigator:s,static:o=!1}){aa(!gm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof n=="string"&&(n=mm(n));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:x="default"}=n,g=N.useMemo(()=>{let y=su(u,l);return y==null?null:{location:{pathname:y,search:d,hash:f,state:p,key:x},navigationType:a}},[l,u,d,f,p,x,a]);return Yo(g!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:N.createElement(Tl.Provider,{value:c},N.createElement(y0.Provider,{children:r,value:g}))}function mF({children:e,location:r}){return eF(G2(e),r)}function G2(e,r=[]){let n=[];return N.Children.forEach(e,(a,s)=>{if(!N.isValidElement(a))return;let o=[...r,s];if(a.type===N.Fragment){n.push.apply(n,G2(a.props.children,o));return}aa(a.type===ya,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),aa(!a.props.index||!a.props.children,"An index route cannot have child routes.");let l={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=G2(a.props.children,o)),n.push(l)}),n}var Nx="get",_x="application/x-www-form-urlencoded";function uy(e){return e!=null&&typeof e.tagName=="string"}function pF(e){return uy(e)&&e.tagName.toLowerCase()==="button"}function gF(e){return uy(e)&&e.tagName.toLowerCase()==="form"}function xF(e){return uy(e)&&e.tagName.toLowerCase()==="input"}function vF(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yF(e,r){return e.button===0&&(!r||r==="_self")&&!vF(e)}function Y2(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,n)=>{let a=e[n];return r.concat(Array.isArray(a)?a.map(s=>[n,s]):[[n,a]])},[]))}function bF(e,r){let n=Y2(e);return r&&r.forEach((a,s)=>{n.has(s)||r.getAll(s).forEach(o=>{n.append(s,o)})}),n}var Dg=null;function wF(){if(Dg===null)try{new FormData(document.createElement("form"),0),Dg=!1}catch{Dg=!0}return Dg}var jF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function m1(e){return e!=null&&!jF.has(e)?(Yo(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_x}"`),null):e}function NF(e,r){let n,a,s,o,l;if(gF(e)){let c=e.getAttribute("action");a=c?su(c,r):null,n=e.getAttribute("method")||Nx,s=m1(e.getAttribute("enctype"))||_x,o=new FormData(e)}else if(pF(e)||xF(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||c.getAttribute("action");if(a=u?su(u,r):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||Nx,s=m1(e.getAttribute("formenctype"))||m1(c.getAttribute("enctype"))||_x,o=new FormData(c,e),!wF()){let{name:d,type:f,value:p}=e;if(f==="image"){let x=d?`${d}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else d&&o.append(d,p)}}else{if(uy(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nx,a=null,s=_x,l=e}return o&&s==="text/plain"&&(l=o,o=void 0),{action:a,method:n.toLowerCase(),encType:s,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wj(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function _F(e,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${n}`:r&&su(a.pathname,r)==="/"?a.pathname=`${r.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function SF(e,r){if(e.id in r)return r[e.id];try{let n=await import(e.module);return r[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kF(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function CF(e,r,n){let a=await Promise.all(e.map(async s=>{let o=r.routes[s.route.id];if(o){let l=await SF(o,n);return l.links?l.links():[]}return[]}));return DF(a.flat(1).filter(kF).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function OS(e,r,n,a,s,o){let l=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,c=(u,d)=>{var f;return n[d].pathname!==u.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==u.params["*"]};return o==="assets"?r.filter((u,d)=>l(u,d)||c(u,d)):o==="data"?r.filter((u,d)=>{var p;let f=a.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(l(u,d)||c(u,d))return!0;if(u.route.shouldRevalidate){let x=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function PF(e,r,{includeHydrateFallback:n}={}){return EF(e.map(a=>{let s=r.routes[a.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function EF(e){return[...new Set(e)]}function AF(e){let r={},n=Object.keys(e).sort();for(let a of n)r[a]=e[a];return r}function DF(e,r){let n=new Set;return new Set(r),e.reduce((a,s)=>{let o=JSON.stringify(AF(s));return n.has(o)||(n.add(o),a.push({key:o,link:s})),a},[])}function ED(){let e=N.useContext(pm);return Wj(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function LF(){let e=N.useContext(cy);return Wj(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Kj=N.createContext(void 0);Kj.displayName="FrameworkContext";function AD(){let e=N.useContext(Kj);return Wj(e,"You must render this element inside a <HydratedRouter> element"),e}function OF(e,r){let n=N.useContext(Kj),[a,s]=N.useState(!1),[o,l]=N.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=r,x=N.useRef(null);N.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let w=S=>{S.forEach(k=>{l(k.isIntersecting)})},v=new IntersectionObserver(w,{threshold:.5});return x.current&&v.observe(x.current),()=>{v.disconnect()}}},[e]),N.useEffect(()=>{if(a){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[a]);let g=()=>{s(!0)},y=()=>{s(!1),l(!1)};return n?e!=="intent"?[o,x,{}]:[o,x,{onFocus:ap(c,g),onBlur:ap(u,y),onMouseEnter:ap(d,g),onMouseLeave:ap(f,y),onTouchStart:ap(p,g)}]:[!1,x,{}]}function ap(e,r){return n=>{e&&e(n),n.defaultPrevented||r(n)}}function TF({page:e,...r}){let{router:n}=ED(),a=N.useMemo(()=>bD(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?N.createElement(IF,{page:e,matches:a,...r}):null}function MF(e){let{manifest:r,routeModules:n}=AD(),[a,s]=N.useState([]);return N.useEffect(()=>{let o=!1;return CF(e,r,n).then(l=>{o||s(l)}),()=>{o=!0}},[e,r,n]),a}function IF({page:e,matches:r,...n}){let a=No(),{manifest:s,routeModules:o}=AD(),{basename:l}=ED(),{loaderData:c,matches:u}=LF(),d=N.useMemo(()=>OS(e,r,u,s,a,"data"),[e,r,u,s,a]),f=N.useMemo(()=>OS(e,r,u,s,a,"assets"),[e,r,u,s,a]),p=N.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let y=new Set,w=!1;if(r.forEach(S=>{var j;let k=s.routes[S.route.id];!k||!k.hasLoader||(!d.some(C=>C.route.id===S.route.id)&&S.route.id in c&&((j=o[S.route.id])!=null&&j.shouldRevalidate)||k.hasClientLoader?w=!0:y.add(S.route.id))}),y.size===0)return[];let v=_F(e,l,"data");return w&&y.size>0&&v.searchParams.set("_routes",r.filter(S=>y.has(S.route.id)).map(S=>S.route.id).join(",")),[v.pathname+v.search]},[l,c,a,s,d,r,e,o]),x=N.useMemo(()=>PF(f,s),[f,s]),g=MF(f);return N.createElement(N.Fragment,null,p.map(y=>N.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),x.map(y=>N.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),g.map(({key:y,link:w})=>N.createElement("link",{key:y,nonce:n.nonce,...w})))}function RF(...e){return r=>{e.forEach(n=>{typeof n=="function"?n(r):n!=null&&(n.current=r)})}}var DD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DD&&(window.__reactRouterVersion="7.9.5")}catch{}function zF({basename:e,children:r,window:n}){let a=N.useRef();a.current==null&&(a.current=_z({window:n,v5Compat:!0}));let s=a.current,[o,l]=N.useState({action:s.action,location:s.location}),c=N.useCallback(u=>{N.startTransition(()=>l(u))},[l]);return N.useLayoutEffect(()=>s.listen(c),[s,c]),N.createElement(fF,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s})}var LD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Go=N.forwardRef(function({onClick:r,discover:n="render",prefetch:a="none",relative:s,reloadDocument:o,replace:l,state:c,target:u,to:d,preventScrollReset:f,viewTransition:p,...x},g){let{basename:y}=N.useContext(Tl),w=typeof d=="string"&&LD.test(d),v,S=!1;if(typeof d=="string"&&w&&(v=d,DD))try{let B=new URL(window.location.href),K=d.startsWith("//")?new URL(B.protocol+d):new URL(d),T=su(K.pathname,y);K.origin===B.origin&&T!=null?d=T+K.search+K.hash:S=!0}catch{Yo(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=Jz(d,{relative:s}),[j,C,z]=OF(a,x),$=UF(d,{replace:l,state:c,target:u,preventScrollReset:f,relative:s,viewTransition:p});function F(B){r&&r(B),B.defaultPrevented||$(B)}let V=N.createElement("a",{...x,...z,href:v||k,onClick:S||o?r:F,ref:RF(g,C),target:u,"data-discover":!w&&n==="render"?"true":void 0});return j&&!w?N.createElement(N.Fragment,null,V,N.createElement(TF,{page:k})):V});Go.displayName="Link";var FF=N.forwardRef(function({"aria-current":r="page",caseSensitive:n=!1,className:a="",end:s=!1,style:o,to:l,viewTransition:c,children:u,...d},f){let p=b0(l,{relative:d.relative}),x=No(),g=N.useContext(cy),{navigator:y,basename:w}=N.useContext(Tl),v=g!=null&&KF(p)&&c===!0,S=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,k=x.pathname,j=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(k=k.toLowerCase(),j=j?j.toLowerCase():null,S=S.toLowerCase()),j&&w&&(j=su(j,w)||j);const C=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let z=k===S||!s&&k.startsWith(S)&&k.charAt(C)==="/",$=j!=null&&(j===S||!s&&j.startsWith(S)&&j.charAt(S.length)==="/"),F={isActive:z,isPending:$,isTransitioning:v},V=z?r:void 0,B;typeof a=="function"?B=a(F):B=[a,z?"active":null,$?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let K=typeof o=="function"?o(F):o;return N.createElement(Go,{...d,"aria-current":V,className:B,ref:f,style:K,to:l,viewTransition:c},typeof u=="function"?u(F):u)});FF.displayName="NavLink";var $F=N.forwardRef(({discover:e="render",fetcherKey:r,navigate:n,reloadDocument:a,replace:s,state:o,method:l=Nx,action:c,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:p,...x},g)=>{let y=VF(),w=WF(c,{relative:d}),v=l.toLowerCase()==="get"?"get":"post",S=typeof c=="string"&&LD.test(c),k=j=>{if(u&&u(j),j.defaultPrevented)return;j.preventDefault();let C=j.nativeEvent.submitter,z=(C==null?void 0:C.getAttribute("formmethod"))||l;y(C||j.currentTarget,{fetcherKey:r,method:z,navigate:n,replace:s,state:o,relative:d,preventScrollReset:f,viewTransition:p})};return N.createElement("form",{ref:g,method:v,action:w,onSubmit:a?u:k,...x,"data-discover":!S&&e==="render"?"true":void 0})});$F.displayName="Form";function BF(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OD(e){let r=N.useContext(pm);return aa(r,BF(e)),r}function UF(e,{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}={}){let c=Pn(),u=No(),d=b0(e,{relative:o});return N.useCallback(f=>{if(yF(f,r)){f.preventDefault();let p=n!==void 0?n:Hp(u)===Hp(d);c(e,{replace:p,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,s,o,l])}function yu(e){Yo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=N.useRef(Y2(e)),n=N.useRef(!1),a=No(),s=N.useMemo(()=>bF(a.search,n.current?null:r.current),[a.search]),o=Pn(),l=N.useCallback((c,u)=>{const d=Y2(typeof c=="function"?c(new URLSearchParams(s)):c);n.current=!0,o("?"+d,u)},[o,s]);return[s,l]}var qF=0,HF=()=>`__${String(++qF)}__`;function VF(){let{router:e}=OD("useSubmit"),{basename:r}=N.useContext(Tl),n=cF();return N.useCallback(async(a,s={})=>{let{action:o,method:l,encType:c,formData:u,body:d}=NF(a,r);if(s.navigate===!1){let f=s.fetcherKey||HF();await e.fetch(f,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:u,body:d,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await e.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:u,body:d,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,r,n])}function WF(e,{relative:r}={}){let{basename:n}=N.useContext(Tl),a=N.useContext(Ml);aa(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),o={...b0(e||".",{relative:r})},l=No();if(e==null){o.search=l.search;let c=new URLSearchParams(o.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(p=>p).forEach(p=>c.append("index",p));let f=c.toString();o.search=f?`?${f}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ru([n,o.pathname])),Hp(o)}function KF(e,{relative:r}={}){let n=N.useContext(_D);aa(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=OD("useViewTransitionState"),s=b0(e,{relative:r});if(!n.isTransitioning)return!1;let o=su(n.currentLocation.pathname,a)||n.currentLocation.pathname,l=su(n.nextLocation.pathname,a)||n.nextLocation.pathname;return $x(s.pathname,l)!=null||$x(s.pathname,o)!=null}var ei=yD();const GF=Qo(ei);var X2=function(e,r){return X2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},X2(e,r)};function dy(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");X2(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var Ct=function(){return Ct=Object.assign||function(r){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},Ct.apply(this,arguments)};function xi(e,r){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function TD(e,r,n,a){var s=arguments.length,o=s<3?r:a===null?a=Object.getOwnPropertyDescriptor(r,n):a,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,r,n,a);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(o=(s<3?l(o):s>3?l(r,n,o):l(r,n))||o);return s>3&&o&&Object.defineProperty(r,n,o),o}function MD(e,r){return function(n,a){r(n,a,e)}}function ID(e,r,n,a,s,o){function l(S){if(S!==void 0&&typeof S!="function")throw new TypeError("Function expected");return S}for(var c=a.kind,u=c==="getter"?"get":c==="setter"?"set":"value",d=!r&&e?a.static?e:e.prototype:null,f=r||(d?Object.getOwnPropertyDescriptor(d,a.name):{}),p,x=!1,g=n.length-1;g>=0;g--){var y={};for(var w in a)y[w]=w==="access"?{}:a[w];for(var w in a.access)y.access[w]=a.access[w];y.addInitializer=function(S){if(x)throw new TypeError("Cannot add initializers after decoration has completed");o.push(l(S||null))};var v=(0,n[g])(c==="accessor"?{get:f.get,set:f.set}:f[u],y);if(c==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(p=l(v.get))&&(f.get=p),(p=l(v.set))&&(f.set=p),(p=l(v.init))&&s.unshift(p)}else(p=l(v))&&(c==="field"?s.unshift(p):f[u]=p)}d&&Object.defineProperty(d,a.name,f),x=!0}function RD(e,r,n){for(var a=arguments.length>2,s=0;s<r.length;s++)n=a?r[s].call(e,n):r[s].call(e);return a?n:void 0}function zD(e){return typeof e=="symbol"?e:"".concat(e)}function FD(e,r,n){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function $D(e,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,r)}function cr(e,r,n,a){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(f){try{d(a.next(f))}catch(p){l(p)}}function u(f){try{d(a.throw(f))}catch(p){l(p)}}function d(f){f.done?o(f.value):s(f.value).then(c,u)}d((a=a.apply(e,r||[])).next())})}function BD(e,r){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=c(0),l.throw=c(1),l.return=c(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(d){return function(f){return u([d,f])}}function u(d){if(a)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(n=0)),n;)try{if(a=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=r.call(e,n)}catch(f){d=[6,f],s=0}finally{a=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var hy=Object.create?function(e,r,n,a){a===void 0&&(a=n);var s=Object.getOwnPropertyDescriptor(r,n);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,a,s)}:function(e,r,n,a){a===void 0&&(a=n),e[a]=r[n]};function UD(e,r){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&hy(r,e,n)}function Vp(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wn(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var a=n.call(e),s,o=[],l;try{for(;(r===void 0||r-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(c){l={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(l)throw l.error}}return o}function qD(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(Wn(arguments[r]));return e}function HD(){for(var e=0,r=0,n=arguments.length;r<n;r++)e+=arguments[r].length;for(var a=Array(e),s=0,r=0;r<n;r++)for(var o=arguments[r],l=0,c=o.length;l<c;l++,s++)a[s]=o[l];return a}function yo(e,r,n){if(n||arguments.length===2)for(var a=0,s=r.length,o;a<s;a++)(o||!(a in r))&&(o||(o=Array.prototype.slice.call(r,0,a)),o[a]=r[a]);return e.concat(o||Array.prototype.slice.call(r))}function tm(e){return this instanceof tm?(this.v=e,this):new tm(e)}function VD(e,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,r||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),s[Symbol.asyncIterator]=function(){return this},s;function l(g){return function(y){return Promise.resolve(y).then(g,p)}}function c(g,y){a[g]&&(s[g]=function(w){return new Promise(function(v,S){o.push([g,w,v,S])>1||u(g,w)})},y&&(s[g]=y(s[g])))}function u(g,y){try{d(a[g](y))}catch(w){x(o[0][3],w)}}function d(g){g.value instanceof tm?Promise.resolve(g.value.v).then(f,p):x(o[0][2],g)}function f(g){u("next",g)}function p(g){u("throw",g)}function x(g,y){g(y),o.shift(),o.length&&u(o[0][0],o[0][1])}}function WD(e){var r,n;return r={},a("next"),a("throw",function(s){throw s}),a("return"),r[Symbol.iterator]=function(){return this},r;function a(s,o){r[s]=e[s]?function(l){return(n=!n)?{value:tm(e[s](l)),done:!1}:o?o(l):l}:o}}function KD(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],n;return r?r.call(e):(e=typeof Vp=="function"?Vp(e):e[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(o){n[o]=e[o]&&function(l){return new Promise(function(c,u){l=e[o](l),s(c,u,l.done,l.value)})}}function s(o,l,c,u){Promise.resolve(u).then(function(d){o({value:d,done:c})},l)}}function GD(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e}var YF=Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r},J2=function(e){return J2=Object.getOwnPropertyNames||function(r){var n=[];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[n.length]=a);return n},J2(e)};function YD(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=J2(e),a=0;a<n.length;a++)n[a]!=="default"&&hy(r,e,n[a]);return YF(r,e),r}function XD(e){return e&&e.__esModule?e:{default:e}}function JD(e,r,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!a:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:r.get(e)}function ZD(e,r,n,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(e,n):s?s.value=n:r.set(e,n),n}function QD(e,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?r===e:e.has(r)}function eL(e,r,n){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var a,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=r[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=r[Symbol.dispose],n&&(s=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");s&&(a=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:r,dispose:a,async:n})}else n&&e.stack.push({async:!0});return r}var XF=typeof SuppressedError=="function"?SuppressedError:function(e,r,n){var a=new Error(n);return a.name="SuppressedError",a.error=e,a.suppressed=r,a};function tL(e){function r(o){e.error=e.hasError?new XF(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var n,a=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&a===1)return a=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(o).then(s,function(l){return r(l),s()})}else a|=1}catch(l){r(l)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function rL(e,r){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,s,o,l){return a?r?".jsx":".js":s&&(!o||!l)?n:s+o+"."+l.toLowerCase()+"js"}):e}const JF={__extends:dy,__assign:Ct,__rest:xi,__decorate:TD,__param:MD,__esDecorate:ID,__runInitializers:RD,__propKey:zD,__setFunctionName:FD,__metadata:$D,__awaiter:cr,__generator:BD,__createBinding:hy,__exportStar:UD,__values:Vp,__read:Wn,__spread:qD,__spreadArrays:HD,__spreadArray:yo,__await:tm,__asyncGenerator:VD,__asyncDelegator:WD,__asyncValues:KD,__makeTemplateObject:GD,__importStar:YD,__importDefault:XD,__classPrivateFieldGet:JD,__classPrivateFieldSet:ZD,__classPrivateFieldIn:QD,__addDisposableResource:eL,__disposeResources:tL,__rewriteRelativeImportExtension:rL},ZF=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:eL,get __assign(){return Ct},__asyncDelegator:WD,__asyncGenerator:VD,__asyncValues:KD,__await:tm,__awaiter:cr,__classPrivateFieldGet:JD,__classPrivateFieldIn:QD,__classPrivateFieldSet:ZD,__createBinding:hy,__decorate:TD,__disposeResources:tL,__esDecorate:ID,__exportStar:UD,__extends:dy,__generator:BD,__importDefault:XD,__importStar:YD,__makeTemplateObject:GD,__metadata:$D,__param:MD,__propKey:zD,__read:Wn,__rest:xi,__rewriteRelativeImportExtension:rL,__runInitializers:RD,__setFunctionName:FD,__spread:qD,__spreadArray:yo,__spreadArrays:HD,__values:Vp,default:JF},Symbol.toStringTag,{value:"Module"}));var Wc=function(e){return{isEnabled:function(r){return e.some(function(n){return!!r[n]})}}},Wp={measureLayout:Wc(["layout","layoutId","drag"]),animation:Wc(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:Wc(["exit"]),drag:Wc(["drag","dragControls"]),focus:Wc(["whileFocus"]),hover:Wc(["whileHover","onHoverStart","onHoverEnd"]),tap:Wc(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Wc(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:Wc(["whileInView","onViewportEnter","onViewportLeave"])};function QF(e){for(var r in e)e[r]!==null&&(r==="projectionNodeConstructor"?Wp.projectionNodeConstructor=e[r]:Wp[r].Component=e[r])}var Bx=function(){},nL=N.createContext({strict:!1}),aL=Object.keys(Wp),e$=aL.length;function t$(e,r,n){var a=[];if(N.useContext(nL),!r)return null;for(var s=0;s<e$;s++){var o=aL[s],l=Wp[o],c=l.isEnabled,u=l.Component;c(e)&&u&&a.push(N.createElement(u,Ct({key:o},e,{visualElement:r})))}return a}var Gj=N.createContext({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),fy=N.createContext({});function r$(){return N.useContext(fy).visualElement}var w0=N.createContext(null),xm=typeof document<"u",Ux=xm?N.useLayoutEffect:N.useEffect,Z2={current:null},iL=!1;function n$(){if(iL=!0,!!xm)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),r=function(){return Z2.current=e.matches};e.addListener(r),r()}else Z2.current=!1}function a$(){!iL&&n$();var e=Wn(N.useState(Z2.current),1),r=e[0];return r}function i$(){var e=a$(),r=N.useContext(Gj).reducedMotion;return r==="never"?!1:r==="always"?!0:e}function s$(e,r,n,a){var s=N.useContext(nL),o=r$(),l=N.useContext(w0),c=i$(),u=N.useRef(void 0);a||(a=s.renderer),!u.current&&a&&(u.current=a(e,{visualState:r,parent:o,props:n,presenceId:l==null?void 0:l.id,blockInitialAnimation:(l==null?void 0:l.initial)===!1,shouldReduceMotion:c}));var d=u.current;return Ux(function(){d==null||d.syncRender()}),N.useEffect(function(){var f;(f=d==null?void 0:d.animationState)===null||f===void 0||f.animateChanges()}),Ux(function(){return function(){return d==null?void 0:d.notifyUnmount()}},[]),d}function Tf(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function o$(e,r,n){return N.useCallback(function(a){var s;a&&((s=e.mount)===null||s===void 0||s.call(e,a)),r&&(a?r.mount(a):r.unmount()),n&&(typeof n=="function"?n(a):Tf(n)&&(n.current=a))},[r])}function sL(e){return Array.isArray(e)}function Sl(e){return typeof e=="string"||sL(e)}function l$(e){var r={};return e.forEachValue(function(n,a){return r[a]=n.get()}),r}function c$(e){var r={};return e.forEachValue(function(n,a){return r[a]=n.getVelocity()}),r}function oL(e,r,n,a,s){var o;return a===void 0&&(a={}),s===void 0&&(s={}),typeof r=="function"&&(r=r(n??e.custom,a,s)),typeof r=="string"&&(r=(o=e.variants)===null||o===void 0?void 0:o[r]),typeof r=="function"&&(r=r(n??e.custom,a,s)),r}function my(e,r,n){var a=e.getProps();return oL(a,r,n??a.custom,l$(e),c$(e))}function py(e){var r;return typeof((r=e.animate)===null||r===void 0?void 0:r.start)=="function"||Sl(e.initial)||Sl(e.animate)||Sl(e.whileHover)||Sl(e.whileDrag)||Sl(e.whileTap)||Sl(e.whileFocus)||Sl(e.exit)}function lL(e){return!!(py(e)||e.variants)}function u$(e,r){if(py(e)){var n=e.initial,a=e.animate;return{initial:n===!1||Sl(n)?n:void 0,animate:Sl(a)?a:void 0}}return e.inherit!==!1?r:{}}function d$(e){var r=u$(e,N.useContext(fy)),n=r.initial,a=r.animate;return N.useMemo(function(){return{initial:n,animate:a}},[TS(n),TS(a)])}function TS(e){return Array.isArray(e)?e.join(" "):e}function j0(e){var r=N.useRef(null);return r.current===null&&(r.current=e()),r.current}var Ep={hasAnimatedSinceResize:!0,hasEverUpdated:!1},h$=1;function f$(){return j0(function(){if(Ep.hasEverUpdated)return h$++})}var Yj=N.createContext({}),cL=N.createContext({});function m$(e,r,n,a){var s,o=r.layoutId,l=r.layout,c=r.drag,u=r.dragConstraints,d=r.layoutScroll,f=N.useContext(cL);!a||!n||n!=null&&n.projection||(n.projection=new a(e,n.getLatestValues(),(s=n.parent)===null||s===void 0?void 0:s.projection),n.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||u&&Tf(u),visualElement:n,scheduleRender:function(){return n.scheduleRender()},animationType:typeof l=="string"?l:"both",initialPromotionConfig:f,layoutScroll:d}))}var p$=function(e){dy(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},r.prototype.componentDidUpdate=function(){},r.prototype.updateProps=function(){var n=this.props,a=n.visualElement,s=n.props;a&&a.setProps(s)},r.prototype.render=function(){return this.props.children},r}(tt.Component);function g$(e){var r=e.preloadedFeatures,n=e.createVisualElement,a=e.projectionNodeConstructor,s=e.useRender,o=e.useVisualState,l=e.Component;r&&QF(r);function c(u,d){var f=x$(u);u=Ct(Ct({},u),{layoutId:f});var p=N.useContext(Gj),x=null,g=d$(u),y=p.isStatic?void 0:f$(),w=o(u,p.isStatic);return!p.isStatic&&xm&&(g.visualElement=s$(l,w,Ct(Ct({},p),u),n),m$(y,u,g.visualElement,a||Wp.projectionNodeConstructor),x=t$(u,g.visualElement)),N.createElement(p$,{visualElement:g.visualElement,props:Ct(Ct({},p),u)},x,N.createElement(fy.Provider,{value:g},s(l,u,y,o$(w,g.visualElement,d),w,p.isStatic,g.visualElement)))}return N.forwardRef(c)}function x$(e){var r,n=e.layoutId,a=(r=N.useContext(Yj))===null||r===void 0?void 0:r.id;return a&&n!==void 0?a+"-"+n:n}function v$(e){function r(a,s){return s===void 0&&(s={}),g$(e(a,s))}if(typeof Proxy>"u")return r;var n=new Map;return new Proxy(r,{get:function(a,s){return n.has(s)||n.set(s,r(s)),n.get(s)}})}var y$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function Xj(e){return typeof e!="string"||e.includes("-")?!1:!!(y$.indexOf(e)>-1||/[A-Z]/.test(e))}var qx={};function b$(e){Object.assign(qx,e)}var Q2=["","X","Y","Z"],w$=["translate","scale","rotate","skew"],Kp=["transformPerspective","x","y","z"];w$.forEach(function(e){return Q2.forEach(function(r){return Kp.push(e+r)})});function j$(e,r){return Kp.indexOf(e)-Kp.indexOf(r)}var N$=new Set(Kp);function N0(e){return N$.has(e)}var _$=new Set(["originX","originY","originZ"]);function uL(e){return _$.has(e)}function dL(e,r){var n=r.layout,a=r.layoutId;return N0(e)||uL(e)||(n||a!==void 0)&&(!!qx[e]||e==="opacity")}var ou=function(e){return!!(e!==null&&typeof e=="object"&&e.getVelocity)},S$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function k$(e,r,n,a){var s=e.transform,o=e.transformKeys,l=r.enableHardwareAcceleration,c=l===void 0?!0:l,u=r.allowTransformNone,d=u===void 0?!0:u,f="";o.sort(j$);for(var p=!1,x=o.length,g=0;g<x;g++){var y=o[g];f+="".concat(S$[y]||y,"(").concat(s[y],") "),y==="z"&&(p=!0)}return!p&&c?f+="translateZ(0)":f=f.trim(),a?f=a(s,n?"":f):d&&n&&(f="none"),f}function C$(e){var r=e.originX,n=r===void 0?"50%":r,a=e.originY,s=a===void 0?"50%":a,o=e.originZ,l=o===void 0?0:o;return"".concat(n," ").concat(s," ").concat(l)}function hL(e){return e.startsWith("--")}var P$=function(e,r){return r&&typeof e=="number"?r.transform(e):e};const fL=(e,r)=>n=>Math.max(Math.min(n,r),e),Ap=e=>e%1?Number(e.toFixed(5)):e,Gp=/(-)?([\d]*\.?[\d])+/g,e5=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,E$=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function _0(e){return typeof e=="string"}const $h={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Dp=Object.assign(Object.assign({},$h),{transform:fL(0,1)}),Lg=Object.assign(Object.assign({},$h),{default:1}),S0=e=>({test:r=>_0(r)&&r.endsWith(e)&&r.split(" ").length===1,parse:parseFloat,transform:r=>`${r}${e}`}),ad=S0("deg"),fc=S0("%"),Pr=S0("px"),A$=S0("vh"),D$=S0("vw"),MS=Object.assign(Object.assign({},fc),{parse:e=>fc.parse(e)/100,transform:e=>fc.transform(e*100)}),Jj=(e,r)=>n=>!!(_0(n)&&E$.test(n)&&n.startsWith(e)||r&&Object.prototype.hasOwnProperty.call(n,r)),mL=(e,r,n)=>a=>{if(!_0(a))return a;const[s,o,l,c]=a.match(Gp);return{[e]:parseFloat(s),[r]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},mh={test:Jj("hsl","hue"),parse:mL("hue","saturation","lightness"),transform:({hue:e,saturation:r,lightness:n,alpha:a=1})=>"hsla("+Math.round(e)+", "+fc.transform(Ap(r))+", "+fc.transform(Ap(n))+", "+Ap(Dp.transform(a))+")"},L$=fL(0,255),p1=Object.assign(Object.assign({},$h),{transform:e=>Math.round(L$(e))}),dd={test:Jj("rgb","red"),parse:mL("red","green","blue"),transform:({red:e,green:r,blue:n,alpha:a=1})=>"rgba("+p1.transform(e)+", "+p1.transform(r)+", "+p1.transform(n)+", "+Ap(Dp.transform(a))+")"};function O$(e){let r="",n="",a="",s="";return e.length>5?(r=e.substr(1,2),n=e.substr(3,2),a=e.substr(5,2),s=e.substr(7,2)):(r=e.substr(1,1),n=e.substr(2,1),a=e.substr(3,1),s=e.substr(4,1),r+=r,n+=n,a+=a,s+=s),{red:parseInt(r,16),green:parseInt(n,16),blue:parseInt(a,16),alpha:s?parseInt(s,16)/255:1}}const t5={test:Jj("#"),parse:O$,transform:dd.transform},vs={test:e=>dd.test(e)||t5.test(e)||mh.test(e),parse:e=>dd.test(e)?dd.parse(e):mh.test(e)?mh.parse(e):t5.parse(e),transform:e=>_0(e)?e:e.hasOwnProperty("red")?dd.transform(e):mh.transform(e)},pL="${c}",gL="${n}";function T$(e){var r,n,a,s;return isNaN(e)&&_0(e)&&((n=(r=e.match(Gp))===null||r===void 0?void 0:r.length)!==null&&n!==void 0?n:0)+((s=(a=e.match(e5))===null||a===void 0?void 0:a.length)!==null&&s!==void 0?s:0)>0}function xL(e){typeof e=="number"&&(e=`${e}`);const r=[];let n=0;const a=e.match(e5);a&&(n=a.length,e=e.replace(e5,pL),r.push(...a.map(vs.parse)));const s=e.match(Gp);return s&&(e=e.replace(Gp,gL),r.push(...s.map($h.parse))),{values:r,numColors:n,tokenised:e}}function vL(e){return xL(e).values}function yL(e){const{values:r,numColors:n,tokenised:a}=xL(e),s=r.length;return o=>{let l=a;for(let c=0;c<s;c++)l=l.replace(c<n?pL:gL,c<n?vs.transform(o[c]):Ap(o[c]));return l}}const M$=e=>typeof e=="number"?0:e;function I$(e){const r=vL(e);return yL(e)(r.map(M$))}const lu={test:T$,parse:vL,createTransformer:yL,getAnimatableNone:I$},R$=new Set(["brightness","contrast","saturate","opacity"]);function z$(e){let[r,n]=e.slice(0,-1).split("(");if(r==="drop-shadow")return e;const[a]=n.match(Gp)||[];if(!a)return e;const s=n.replace(a,"");let o=R$.has(r)?1:0;return a!==n&&(o*=100),r+"("+o+s+")"}const F$=/([a-z-]*)\(.*?\)/g,r5=Object.assign(Object.assign({},lu),{getAnimatableNone:e=>{const r=e.match(F$);return r?r.map(z$).join(" "):e}});var IS=Ct(Ct({},$h),{transform:Math.round}),bL={borderWidth:Pr,borderTopWidth:Pr,borderRightWidth:Pr,borderBottomWidth:Pr,borderLeftWidth:Pr,borderRadius:Pr,radius:Pr,borderTopLeftRadius:Pr,borderTopRightRadius:Pr,borderBottomRightRadius:Pr,borderBottomLeftRadius:Pr,width:Pr,maxWidth:Pr,height:Pr,maxHeight:Pr,size:Pr,top:Pr,right:Pr,bottom:Pr,left:Pr,padding:Pr,paddingTop:Pr,paddingRight:Pr,paddingBottom:Pr,paddingLeft:Pr,margin:Pr,marginTop:Pr,marginRight:Pr,marginBottom:Pr,marginLeft:Pr,rotate:ad,rotateX:ad,rotateY:ad,rotateZ:ad,scale:Lg,scaleX:Lg,scaleY:Lg,scaleZ:Lg,skew:ad,skewX:ad,skewY:ad,distance:Pr,translateX:Pr,translateY:Pr,translateZ:Pr,x:Pr,y:Pr,z:Pr,perspective:Pr,transformPerspective:Pr,opacity:Dp,originX:MS,originY:MS,originZ:Pr,zIndex:IS,fillOpacity:Dp,strokeOpacity:Dp,numOctaves:IS};function Zj(e,r,n,a){var s,o=e.style,l=e.vars,c=e.transform,u=e.transformKeys,d=e.transformOrigin;u.length=0;var f=!1,p=!1,x=!0;for(var g in r){var y=r[g];if(hL(g)){l[g]=y;continue}var w=bL[g],v=P$(y,w);if(N0(g)){if(f=!0,c[g]=v,u.push(g),!x)continue;y!==((s=w.default)!==null&&s!==void 0?s:0)&&(x=!1)}else uL(g)?(d[g]=v,p=!0):o[g]=v}f?o.transform=k$(e,n,x,a):a?o.transform=a({},""):!r.transform&&o.transform&&(o.transform="none"),p&&(o.transformOrigin=C$(d))}var Qj=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function wL(e,r,n){for(var a in r)!ou(r[a])&&!dL(a,n)&&(e[a]=r[a])}function $$(e,r,n){var a=e.transformTemplate;return N.useMemo(function(){var s=Qj();Zj(s,r,{enableHardwareAcceleration:!n},a);var o=s.vars,l=s.style;return Ct(Ct({},o),l)},[r])}function B$(e,r,n){var a=e.style||{},s={};return wL(s,a,e),Object.assign(s,$$(e,r,n)),e.transformValues&&(s=e.transformValues(s)),s}function U$(e,r,n){var a={},s=B$(e,r,n);return e.drag&&e.dragListener!==!1&&(a.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":"pan-".concat(e.drag==="x"?"y":"x")),a.style=s,a}var q$=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function Hx(e){return q$.has(e)}var jL=function(e){return!Hx(e)};function H$(e){e&&(jL=function(r){return r.startsWith("on")?!Hx(r):e(r)})}try{H$(require("@emotion/is-prop-valid").default)}catch{}function V$(e,r,n){var a={};for(var s in e)(jL(s)||n===!0&&Hx(s)||!r&&!Hx(s)||e.draggable&&s.startsWith("onDrag"))&&(a[s]=e[s]);return a}function RS(e,r,n){return typeof e=="string"?e:Pr.transform(r+n*e)}function W$(e,r,n){var a=RS(r,e.x,e.width),s=RS(n,e.y,e.height);return"".concat(a," ").concat(s)}var K$={offset:"strokeDashoffset",array:"strokeDasharray"};function G$(e,r,n,a,s){n===void 0&&(n=1),a===void 0&&(a=0),e.pathLength=1;var o=K$;e[o.offset]=Pr.transform(-a);var l=Pr.transform(r),c=Pr.transform(n);e[o.array]="".concat(l," ").concat(c)}function eN(e,r,n,a){var s=r.attrX,o=r.attrY,l=r.originX,c=r.originY,u=r.pathLength,d=r.pathSpacing,f=d===void 0?1:d,p=r.pathOffset,x=p===void 0?0:p,g=xi(r,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]);Zj(e,g,n,a),e.attrs=e.style,e.style={};var y=e.attrs,w=e.style,v=e.dimensions;y.transform&&(v&&(w.transform=y.transform),delete y.transform),v&&(l!==void 0||c!==void 0||w.transform)&&(w.transformOrigin=W$(v,l!==void 0?l:.5,c!==void 0?c:.5)),s!==void 0&&(y.x=s),o!==void 0&&(y.y=o),u!==void 0&&G$(y,u,f,x)}var NL=function(){return Ct(Ct({},Qj()),{attrs:{}})};function Y$(e,r){var n=N.useMemo(function(){var s=NL();return eN(s,r,{enableHardwareAcceleration:!1},e.transformTemplate),Ct(Ct({},s.attrs),{style:Ct({},s.style)})},[r]);if(e.style){var a={};wL(a,e.style,e),n.style=Ct(Ct({},a),n.style)}return n}function X$(e){e===void 0&&(e=!1);var r=function(n,a,s,o,l,c){var u=l.latestValues,d=Xj(n)?Y$:U$,f=d(a,u,c),p=V$(a,typeof n=="string",e),x=Ct(Ct(Ct({},p),f),{ref:o});return s&&(x["data-projection-id"]=s),N.createElement(n,x)};return r}var J$=/([a-z])([A-Z])/g,Z$="$1-$2",_L=function(e){return e.replace(J$,Z$).toLowerCase()};function SL(e,r,n,a){var s=r.style,o=r.vars;Object.assign(e.style,s,a&&a.getProjectionStyles(n));for(var l in o)e.style.setProperty(l,o[l])}var kL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function CL(e,r,n,a){SL(e,r,void 0,a);for(var s in r.attrs)e.setAttribute(kL.has(s)?s:_L(s),r.attrs[s])}function tN(e){var r=e.style,n={};for(var a in r)(ou(r[a])||dL(a,e))&&(n[a]=r[a]);return n}function PL(e){var r=tN(e);for(var n in e)if(ou(e[n])){var a=n==="x"||n==="y"?"attr"+n.toUpperCase():n;r[a]=e[n]}return r}function rN(e){return typeof e=="object"&&typeof e.start=="function"}var Yp=function(e){return Array.isArray(e)},Q$=function(e){return!!(e&&typeof e=="object"&&e.mix&&e.toValue)},EL=function(e){return Yp(e)?e[e.length-1]||0:e};function Sx(e){var r=ou(e)?e.get():e;return Q$(r)?r.toValue():r}function zS(e,r,n,a){var s=e.scrapeMotionValuesFromProps,o=e.createRenderState,l=e.onMount,c={latestValues:eB(r,n,a,s),renderState:o()};return l&&(c.mount=function(u){return l(r,u,c)}),c}var AL=function(e){return function(r,n){var a=N.useContext(fy),s=N.useContext(w0);return n?zS(e,r,a,s):j0(function(){return zS(e,r,a,s)})}};function eB(e,r,n,a){var s={},o=(n==null?void 0:n.initial)===!1,l=a(e);for(var c in l)s[c]=Sx(l[c]);var u=e.initial,d=e.animate,f=py(e),p=lL(e);r&&p&&!f&&e.inherit!==!1&&(u??(u=r.initial),d??(d=r.animate));var x=o||u===!1,g=x?d:u;if(g&&typeof g!="boolean"&&!rN(g)){var y=Array.isArray(g)?g:[g];y.forEach(function(w){var v=oL(e,w);if(v){var S=v.transitionEnd;v.transition;var k=xi(v,["transitionEnd","transition"]);for(var j in k){var C=k[j];if(Array.isArray(C)){var z=x?C.length-1:0;C=C[z]}C!==null&&(s[j]=C)}for(var j in S)s[j]=S[j]}})}return s}var tB={useVisualState:AL({scrapeMotionValuesFromProps:PL,createRenderState:NL,onMount:function(e,r,n){var a=n.renderState,s=n.latestValues;try{a.dimensions=typeof r.getBBox=="function"?r.getBBox():r.getBoundingClientRect()}catch{a.dimensions={x:0,y:0,width:0,height:0}}eN(a,s,{enableHardwareAcceleration:!1},e.transformTemplate),CL(r,a)}})},rB={useVisualState:AL({scrapeMotionValuesFromProps:tN,createRenderState:Qj})};function nB(e,r,n,a,s){var o=r.forwardMotionProps,l=o===void 0?!1:o,c=Xj(e)?tB:rB;return Ct(Ct({},c),{preloadedFeatures:n,useRender:X$(l),createVisualElement:a,projectionNodeConstructor:s,Component:e})}var Fn;(function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"})(Fn||(Fn={}));function gy(e,r,n,a){return a===void 0&&(a={passive:!0}),e.addEventListener(r,n,a),function(){return e.removeEventListener(r,n)}}function n5(e,r,n,a){N.useEffect(function(){var s=e.current;if(n&&s)return gy(s,r,n,a)},[e,r,n,a])}function aB(e){var r=e.whileFocus,n=e.visualElement,a=function(){var o;(o=n.animationState)===null||o===void 0||o.setActive(Fn.Focus,!0)},s=function(){var o;(o=n.animationState)===null||o===void 0||o.setActive(Fn.Focus,!1)};n5(n,"focus",r?a:void 0),n5(n,"blur",r?s:void 0)}function DL(e){return typeof PointerEvent<"u"&&e instanceof PointerEvent?e.pointerType==="mouse":e instanceof MouseEvent}function LL(e){var r=!!e.touches;return r}function iB(e){return function(r){var n=r instanceof MouseEvent,a=!n||n&&r.button===0;a&&e(r)}}var sB={pageX:0,pageY:0};function oB(e,r){r===void 0&&(r="page");var n=e.touches[0]||e.changedTouches[0],a=n||sB;return{x:a[r+"X"],y:a[r+"Y"]}}function lB(e,r){return r===void 0&&(r="page"),{x:e[r+"X"],y:e[r+"Y"]}}function nN(e,r){return r===void 0&&(r="page"),{point:LL(e)?oB(e,r):lB(e,r)}}var OL=function(e,r){r===void 0&&(r=!1);var n=function(a){return e(a,nN(a))};return r?iB(n):n},cB=function(){return xm&&window.onpointerdown===null},uB=function(){return xm&&window.ontouchstart===null},dB=function(){return xm&&window.onmousedown===null},hB={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},fB={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function TL(e){return cB()?e:uB()?fB[e]:dB()?hB[e]:e}function Uf(e,r,n,a){return gy(e,TL(r),OL(n,r==="pointerdown"),a)}function Vx(e,r,n,a){return n5(e,TL(r),n&&OL(n,r==="pointerdown"),a)}function ML(e){var r=null;return function(){var n=function(){r=null};return r===null?(r=e,n):!1}}var FS=ML("dragHorizontal"),$S=ML("dragVertical");function IL(e){var r=!1;if(e==="y")r=$S();else if(e==="x")r=FS();else{var n=FS(),a=$S();n&&a?r=function(){n(),a()}:(n&&n(),a&&a())}return r}function RL(){var e=IL(!0);return e?(e(),!1):!0}function BS(e,r,n){return function(a,s){var o;!DL(a)||RL()||((o=e.animationState)===null||o===void 0||o.setActive(Fn.Hover,r),n==null||n(a,s))}}function mB(e){var r=e.onHoverStart,n=e.onHoverEnd,a=e.whileHover,s=e.visualElement;Vx(s,"pointerenter",r||a?BS(s,!0,r):void 0,{passive:!r}),Vx(s,"pointerleave",n||a?BS(s,!1,n):void 0,{passive:!n})}var zL=function(e,r){return r?e===r?!0:zL(e,r.parentElement):!1};function aN(e){return N.useEffect(function(){return function(){return e()}},[])}const Wx=(e,r,n)=>Math.min(Math.max(n,e),r),g1=.001,pB=.01,gB=10,xB=.05,vB=1;function yB({duration:e=800,bounce:r=.25,velocity:n=0,mass:a=1}){let s,o,l=1-r;l=Wx(xB,vB,l),e=Wx(pB,gB,e/1e3),l<1?(s=d=>{const f=d*l,p=f*e,x=f-n,g=a5(d,l),y=Math.exp(-p);return g1-x/g*y},o=d=>{const p=d*l*e,x=p*n+n,g=Math.pow(l,2)*Math.pow(d,2)*e,y=Math.exp(-p),w=a5(Math.pow(d,2),l);return(-s(d)+g1>0?-1:1)*((x-g)*y)/w}):(s=d=>{const f=Math.exp(-d*e),p=(d-n)*e+1;return-g1+f*p},o=d=>{const f=Math.exp(-d*e),p=(n-d)*(e*e);return f*p});const c=5/e,u=wB(s,o,c);if(e=e*1e3,isNaN(u))return{stiffness:100,damping:10,duration:e};{const d=Math.pow(u,2)*a;return{stiffness:d,damping:l*2*Math.sqrt(a*d),duration:e}}}const bB=12;function wB(e,r,n){let a=n;for(let s=1;s<bB;s++)a=a-e(a)/r(a);return a}function a5(e,r){return e*Math.sqrt(1-r*r)}const jB=["duration","bounce"],NB=["stiffness","damping","mass"];function US(e,r){return r.some(n=>e[n]!==void 0)}function _B(e){let r=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!US(e,NB)&&US(e,jB)){const n=yB(e);r=Object.assign(Object.assign(Object.assign({},r),n),{velocity:0,mass:1}),r.isResolvedFromDuration=!0}return r}function iN(e){var{from:r=0,to:n=1,restSpeed:a=2,restDelta:s}=e,o=xi(e,["from","to","restSpeed","restDelta"]);const l={done:!1,value:r};let{stiffness:c,damping:u,mass:d,velocity:f,duration:p,isResolvedFromDuration:x}=_B(o),g=qS,y=qS;function w(){const v=f?-(f/1e3):0,S=n-r,k=u/(2*Math.sqrt(c*d)),j=Math.sqrt(c/d)/1e3;if(s===void 0&&(s=Math.min(Math.abs(n-r)/100,.4)),k<1){const C=a5(j,k);g=z=>{const $=Math.exp(-k*j*z);return n-$*((v+k*j*S)/C*Math.sin(C*z)+S*Math.cos(C*z))},y=z=>{const $=Math.exp(-k*j*z);return k*j*$*(Math.sin(C*z)*(v+k*j*S)/C+S*Math.cos(C*z))-$*(Math.cos(C*z)*(v+k*j*S)-C*S*Math.sin(C*z))}}else if(k===1)g=C=>n-Math.exp(-j*C)*(S+(v+j*S)*C);else{const C=j*Math.sqrt(k*k-1);g=z=>{const $=Math.exp(-k*j*z),F=Math.min(C*z,300);return n-$*((v+k*j*S)*Math.sinh(F)+C*S*Math.cosh(F))/C}}}return w(),{next:v=>{const S=g(v);if(x)l.done=v>=p;else{const k=y(v)*1e3,j=Math.abs(k)<=a,C=Math.abs(n-S)<=s;l.done=j&&C}return l.value=l.done?n:S,l},flipTarget:()=>{f=-f,[r,n]=[n,r],w()}}}iN.needsInterpolation=(e,r)=>typeof e=="string"||typeof r=="string";const qS=e=>0,Xp=(e,r,n)=>{const a=r-e;return a===0?1:(n-e)/a},wa=(e,r,n)=>-n*e+n*r+e;function x1(e,r,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(r-e)*6*n:n<1/2?r:n<2/3?e+(r-e)*(2/3-n)*6:e}function HS({hue:e,saturation:r,lightness:n,alpha:a}){e/=360,r/=100,n/=100;let s=0,o=0,l=0;if(!r)s=o=l=n;else{const c=n<.5?n*(1+r):n+r-n*r,u=2*n-c;s=x1(u,c,e+1/3),o=x1(u,c,e),l=x1(u,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:a}}const SB=(e,r,n)=>{const a=e*e,s=r*r;return Math.sqrt(Math.max(0,n*(s-a)+a))},kB=[t5,dd,mh],VS=e=>kB.find(r=>r.test(e)),FL=(e,r)=>{let n=VS(e),a=VS(r),s=n.parse(e),o=a.parse(r);n===mh&&(s=HS(s),n=dd),a===mh&&(o=HS(o),a=dd);const l=Object.assign({},s);return c=>{for(const u in l)u!=="alpha"&&(l[u]=SB(s[u],o[u],c));return l.alpha=wa(s.alpha,o.alpha,c),n.transform(l)}},i5=e=>typeof e=="number",CB=(e,r)=>n=>r(e(n)),xy=(...e)=>e.reduce(CB);function $L(e,r){return i5(e)?n=>wa(e,r,n):vs.test(e)?FL(e,r):UL(e,r)}const BL=(e,r)=>{const n=[...e],a=n.length,s=e.map((o,l)=>$L(o,r[l]));return o=>{for(let l=0;l<a;l++)n[l]=s[l](o);return n}},PB=(e,r)=>{const n=Object.assign(Object.assign({},e),r),a={};for(const s in n)e[s]!==void 0&&r[s]!==void 0&&(a[s]=$L(e[s],r[s]));return s=>{for(const o in a)n[o]=a[o](s);return n}};function WS(e){const r=lu.parse(e),n=r.length;let a=0,s=0,o=0;for(let l=0;l<n;l++)a||typeof r[l]=="number"?a++:r[l].hue!==void 0?o++:s++;return{parsed:r,numNumbers:a,numRGB:s,numHSL:o}}const UL=(e,r)=>{const n=lu.createTransformer(r),a=WS(e),s=WS(r);return a.numHSL===s.numHSL&&a.numRGB===s.numRGB&&a.numNumbers>=s.numNumbers?xy(BL(a.parsed,s.parsed),n):l=>`${l>0?r:e}`},EB=(e,r)=>n=>wa(e,r,n);function AB(e){if(typeof e=="number")return EB;if(typeof e=="string")return vs.test(e)?FL:UL;if(Array.isArray(e))return BL;if(typeof e=="object")return PB}function DB(e,r,n){const a=[],s=n||AB(e[0]),o=e.length-1;for(let l=0;l<o;l++){let c=s(e[l],e[l+1]);if(r){const u=Array.isArray(r)?r[l]:r;c=xy(u,c)}a.push(c)}return a}function LB([e,r],[n]){return a=>n(Xp(e,r,a))}function OB(e,r){const n=e.length,a=n-1;return s=>{let o=0,l=!1;if(s<=e[0]?l=!0:s>=e[a]&&(o=a-1,l=!0),!l){let u=1;for(;u<n&&!(e[u]>s||u===a);u++);o=u-1}const c=Xp(e[o],e[o+1],s);return r[o](c)}}function qL(e,r,{clamp:n=!0,ease:a,mixer:s}={}){const o=e.length;Bx(o===r.length),Bx(!a||!Array.isArray(a)||a.length===o-1),e[0]>e[o-1]&&(e=[].concat(e),r=[].concat(r),e.reverse(),r.reverse());const l=DB(r,a,s),c=o===2?LB(e,l):OB(e,l);return n?u=>c(Wx(e[0],e[o-1],u)):c}const vy=e=>r=>1-e(1-r),sN=e=>r=>r<=.5?e(2*r)/2:(2-e(2*(1-r)))/2,TB=e=>r=>Math.pow(r,e),HL=e=>r=>r*r*((e+1)*r-e),MB=e=>{const r=HL(e);return n=>(n*=2)<1?.5*r(n):.5*(2-Math.pow(2,-10*(n-1)))},VL=1.525,IB=4/11,RB=8/11,zB=9/10,oN=e=>e,lN=TB(2),FB=vy(lN),WL=sN(lN),KL=e=>1-Math.sin(Math.acos(e)),cN=vy(KL),$B=sN(cN),uN=HL(VL),BB=vy(uN),UB=sN(uN),qB=MB(VL),HB=4356/361,VB=35442/1805,WB=16061/1805,Kx=e=>{if(e===1||e===0)return e;const r=e*e;return e<IB?7.5625*r:e<RB?9.075*r-9.9*e+3.4:e<zB?HB*r-VB*e+WB:10.8*e*e-20.52*e+10.72},KB=vy(Kx),GB=e=>e<.5?.5*(1-Kx(1-e*2)):.5*Kx(e*2-1)+.5;function YB(e,r){return e.map(()=>r||WL).splice(0,e.length-1)}function XB(e){const r=e.length;return e.map((n,a)=>a!==0?a/(r-1):0)}function JB(e,r){return e.map(n=>n*r)}function kx({from:e=0,to:r=1,ease:n,offset:a,duration:s=300}){const o={done:!1,value:e},l=Array.isArray(r)?r:[e,r],c=JB(a&&a.length===l.length?a:XB(l),s);function u(){return qL(c,l,{ease:Array.isArray(n)?n:YB(l,n)})}let d=u();return{next:f=>(o.value=d(f),o.done=f>=s,o),flipTarget:()=>{l.reverse(),d=u()}}}function ZB({velocity:e=0,from:r=0,power:n=.8,timeConstant:a=350,restDelta:s=.5,modifyTarget:o}){const l={done:!1,value:r};let c=n*e;const u=r+c,d=o===void 0?u:o(u);return d!==u&&(c=d-r),{next:f=>{const p=-c*Math.exp(-f/a);return l.done=!(p>s||p<-s),l.value=l.done?d:d+p,l},flipTarget:()=>{}}}const KS={keyframes:kx,spring:iN,decay:ZB};function QB(e){if(Array.isArray(e.to))return kx;if(KS[e.type])return KS[e.type];const r=new Set(Object.keys(e));return r.has("ease")||r.has("duration")&&!r.has("dampingRatio")?kx:r.has("dampingRatio")||r.has("stiffness")||r.has("mass")||r.has("damping")||r.has("restSpeed")||r.has("restDelta")?iN:kx}const GL=1/60*1e3,eU=typeof performance<"u"?()=>performance.now():()=>Date.now(),YL=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(eU()),GL);function tU(e){let r=[],n=[],a=0,s=!1,o=!1;const l=new WeakSet,c={schedule:(u,d=!1,f=!1)=>{const p=f&&s,x=p?r:n;return d&&l.add(u),x.indexOf(u)===-1&&(x.push(u),p&&s&&(a=r.length)),u},cancel:u=>{const d=n.indexOf(u);d!==-1&&n.splice(d,1),l.delete(u)},process:u=>{if(s){o=!0;return}if(s=!0,[r,n]=[n,r],n.length=0,a=r.length,a)for(let d=0;d<a;d++){const f=r[d];f(u),l.has(f)&&(c.schedule(f),e())}s=!1,o&&(o=!1,c.process(u))}};return c}const rU=40;let s5=!0,Jp=!1,o5=!1;const qf={delta:0,timestamp:0},k0=["read","update","preRender","render","postRender"],yy=k0.reduce((e,r)=>(e[r]=tU(()=>Jp=!0),e),{}),Al=k0.reduce((e,r)=>{const n=yy[r];return e[r]=(a,s=!1,o=!1)=>(Jp||aU(),n.schedule(a,s,o)),e},{}),rm=k0.reduce((e,r)=>(e[r]=yy[r].cancel,e),{}),v1=k0.reduce((e,r)=>(e[r]=()=>yy[r].process(qf),e),{}),nU=e=>yy[e].process(qf),XL=e=>{Jp=!1,qf.delta=s5?GL:Math.max(Math.min(e-qf.timestamp,rU),1),qf.timestamp=e,o5=!0,k0.forEach(nU),o5=!1,Jp&&(s5=!1,YL(XL))},aU=()=>{Jp=!0,s5=!0,o5||YL(XL)},Gx=()=>qf;function JL(e,r,n=0){return e-r-n}function iU(e,r,n=0,a=!0){return a?JL(r+-e,r,n):r-(e-r)+n}function sU(e,r,n,a){return a?e>=r+n:e<=-n}const oU=e=>{const r=({delta:n})=>e(n);return{start:()=>Al.update(r,!0),stop:()=>rm.update(r)}};function ZL(e){var r,n,{from:a,autoplay:s=!0,driver:o=oU,elapsed:l=0,repeat:c=0,repeatType:u="loop",repeatDelay:d=0,onPlay:f,onStop:p,onComplete:x,onRepeat:g,onUpdate:y}=e,w=xi(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:v}=w,S,k=0,j=w.duration,C,z=!1,$=!0,F;const V=QB(w);!((n=(r=V).needsInterpolation)===null||n===void 0)&&n.call(r,a,v)&&(F=qL([0,100],[a,v],{clamp:!1}),a=0,v=100);const B=V(Object.assign(Object.assign({},w),{from:a,to:v}));function K(){k++,u==="reverse"?($=k%2===0,l=iU(l,j,d,$)):(l=JL(l,j,d),u==="mirror"&&B.flipTarget()),z=!1,g&&g()}function T(){S.stop(),x&&x()}function M(q){if($||(q=-q),l+=q,!z){const H=B.next(Math.max(0,l));C=H.value,F&&(C=F(C)),z=$?H.done:l<=0}y==null||y(C),z&&(k===0&&(j??(j=l)),k<c?sU(l,j,d,$)&&K():T())}function I(){f==null||f(),S=o(M),S.start()}return s&&I(),{stop:()=>{p==null||p(),S.stop()}}}function QL(e,r){return r?e*(1e3/r):0}function lU({from:e=0,velocity:r=0,min:n,max:a,power:s=.8,timeConstant:o=750,bounceStiffness:l=500,bounceDamping:c=10,restDelta:u=1,modifyTarget:d,driver:f,onUpdate:p,onComplete:x,onStop:g}){let y;function w(j){return n!==void 0&&j<n||a!==void 0&&j>a}function v(j){return n===void 0?a:a===void 0||Math.abs(n-j)<Math.abs(a-j)?n:a}function S(j){y==null||y.stop(),y=ZL(Object.assign(Object.assign({},j),{driver:f,onUpdate:C=>{var z;p==null||p(C),(z=j.onUpdate)===null||z===void 0||z.call(j,C)},onComplete:x,onStop:g}))}function k(j){S(Object.assign({type:"spring",stiffness:l,damping:c,restDelta:u},j))}if(w(e))k({from:e,velocity:r,to:v(e)});else{let j=s*r+e;typeof d<"u"&&(j=d(j));const C=v(j),z=C===n?-1:1;let $,F;const V=B=>{$=F,F=B,r=QL(B-$,Gx().delta),(z===1&&B>C||z===-1&&B<C)&&k({from:B,to:C,velocity:r})};S({type:"decay",from:e,velocity:r,timeConstant:o,power:s,restDelta:u,modifyTarget:d,onUpdate:w(j)?V:void 0})}return{stop:()=>y==null?void 0:y.stop()}}const l5=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),GS=e=>l5(e)&&e.hasOwnProperty("z"),Og=(e,r)=>Math.abs(e-r);function eO(e,r){if(i5(e)&&i5(r))return Og(e,r);if(l5(e)&&l5(r)){const n=Og(e.x,r.x),a=Og(e.y,r.y),s=GS(e)&&GS(r)?Og(e.z,r.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(a,2)+Math.pow(s,2))}}const tO=(e,r)=>1-3*r+3*e,rO=(e,r)=>3*r-6*e,nO=e=>3*e,Yx=(e,r,n)=>((tO(r,n)*e+rO(r,n))*e+nO(r))*e,aO=(e,r,n)=>3*tO(r,n)*e*e+2*rO(r,n)*e+nO(r),cU=1e-7,uU=10;function dU(e,r,n,a,s){let o,l,c=0;do l=r+(n-r)/2,o=Yx(l,a,s)-e,o>0?n=l:r=l;while(Math.abs(o)>cU&&++c<uU);return l}const hU=8,fU=.001;function mU(e,r,n,a){for(let s=0;s<hU;++s){const o=aO(r,n,a);if(o===0)return r;const l=Yx(r,n,a)-e;r-=l/o}return r}const Cx=11,Tg=1/(Cx-1);function pU(e,r,n,a){if(e===r&&n===a)return oN;const s=new Float32Array(Cx);for(let l=0;l<Cx;++l)s[l]=Yx(l*Tg,e,n);function o(l){let c=0,u=1;const d=Cx-1;for(;u!==d&&s[u]<=l;++u)c+=Tg;--u;const f=(l-s[u])/(s[u+1]-s[u]),p=c+f*Tg,x=aO(p,e,n);return x>=fU?mU(l,p,e,n):x===0?p:dU(l,c,c+Tg,e,n)}return l=>l===0||l===1?l:Yx(o(l),r,a)}function gU(e){var r=e.onTap,n=e.onTapStart,a=e.onTapCancel,s=e.whileTap,o=e.visualElement,l=r||n||a||s,c=N.useRef(!1),u=N.useRef(null),d={passive:!(n||r||a||y)};function f(){var w;(w=u.current)===null||w===void 0||w.call(u),u.current=null}function p(){var w;return f(),c.current=!1,(w=o.animationState)===null||w===void 0||w.setActive(Fn.Tap,!1),!RL()}function x(w,v){p()&&(zL(o.getInstance(),w.target)?r==null||r(w,v):a==null||a(w,v))}function g(w,v){p()&&(a==null||a(w,v))}function y(w,v){var S;f(),!c.current&&(c.current=!0,u.current=xy(Uf(window,"pointerup",x,d),Uf(window,"pointercancel",g,d)),(S=o.animationState)===null||S===void 0||S.setActive(Fn.Tap,!0),n==null||n(w,v))}Vx(o,"pointerdown",l?y:void 0,d),aN(f)}var c5=new WeakMap,y1=new WeakMap,xU=function(e){var r;(r=c5.get(e.target))===null||r===void 0||r(e)},vU=function(e){e.forEach(xU)};function yU(e){var r=e.root,n=xi(e,["root"]),a=r||document;y1.has(a)||y1.set(a,{});var s=y1.get(a),o=JSON.stringify(n);return s[o]||(s[o]=new IntersectionObserver(vU,Ct({root:r},n))),s[o]}function bU(e,r,n){var a=yU(r);return c5.set(e,n),a.observe(e),function(){c5.delete(e),a.unobserve(e)}}function wU(e){var r=e.visualElement,n=e.whileInView,a=e.onViewportEnter,s=e.onViewportLeave,o=e.viewport,l=o===void 0?{}:o,c=N.useRef({hasEnteredView:!1,isInView:!1}),u=!!(n||a||s);l.once&&c.current.hasEnteredView&&(u=!1);var d=typeof IntersectionObserver>"u"?_U:NU;d(u,c.current,r,l)}var jU={some:0,all:1};function NU(e,r,n,a){var s=a.root,o=a.margin,l=a.amount,c=l===void 0?"some":l,u=a.once;N.useEffect(function(){if(e){var d={root:s==null?void 0:s.current,rootMargin:o,threshold:typeof c=="number"?c:jU[c]},f=function(p){var x,g=p.isIntersecting;if(r.isInView!==g&&(r.isInView=g,!(u&&!g&&r.hasEnteredView))){g&&(r.hasEnteredView=!0),(x=n.animationState)===null||x===void 0||x.setActive(Fn.InView,g);var y=n.getProps(),w=g?y.onViewportEnter:y.onViewportLeave;w==null||w(p)}};return bU(n.getInstance(),d,f)}},[e,s,o,c])}function _U(e,r,n,a){var s=a.fallback,o=s===void 0?!0:s;N.useEffect(function(){!e||!o||requestAnimationFrame(function(){var l;r.hasEnteredView=!0;var c=n.getProps().onViewportEnter;c==null||c(null),(l=n.animationState)===null||l===void 0||l.setActive(Fn.InView,!0)})},[e])}var hd=function(e){return function(r){return e(r),null}},SU={inView:hd(wU),tap:hd(gU),focus:hd(aB),hover:hd(mB)},kU=0,CU=function(){return kU++},iO=function(){return j0(CU)};function sO(){var e=N.useContext(w0);if(e===null)return[!0,null];var r=e.isPresent,n=e.onExitComplete,a=e.register,s=iO();N.useEffect(function(){return a(s)},[]);var o=function(){return n==null?void 0:n(s)};return!r&&n?[!1,o]:[!0]}function oO(e,r){if(!Array.isArray(r))return!1;var n=r.length;if(n!==e.length)return!1;for(var a=0;a<n;a++)if(r[a]!==e[a])return!1;return!0}var Xx=function(e){return e*1e3},PU={linear:oN,easeIn:lN,easeInOut:WL,easeOut:FB,circIn:KL,circInOut:$B,circOut:cN,backIn:uN,backInOut:UB,backOut:BB,anticipate:qB,bounceIn:KB,bounceInOut:GB,bounceOut:Kx},YS=function(e){if(Array.isArray(e)){Bx(e.length===4);var r=Wn(e,4),n=r[0],a=r[1],s=r[2],o=r[3];return pU(n,a,s,o)}else if(typeof e=="string")return PU[e];return e},EU=function(e){return Array.isArray(e)&&typeof e[0]!="number"},XS=function(e,r){return e==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&lu.test(r)&&!r.startsWith("url("))},Qd=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},Mg=function(e){return{type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}},b1=function(){return{type:"keyframes",ease:"linear",duration:.3}},AU=function(e){return{type:"keyframes",duration:.8,values:e}},JS={x:Qd,y:Qd,z:Qd,rotate:Qd,rotateX:Qd,rotateY:Qd,rotateZ:Qd,scaleX:Mg,scaleY:Mg,scale:Mg,opacity:b1,backgroundColor:b1,color:b1,default:Mg},DU=function(e,r){var n;return Yp(r)?n=AU:n=JS[e]||JS.default,Ct({to:r},n(r))},LU=Ct(Ct({},bL),{color:vs,backgroundColor:vs,outlineColor:vs,fill:vs,stroke:vs,borderColor:vs,borderTopColor:vs,borderRightColor:vs,borderBottomColor:vs,borderLeftColor:vs,filter:r5,WebkitFilter:r5}),dN=function(e){return LU[e]};function hN(e,r){var n,a=dN(e);return a!==r5&&(a=lu),(n=a.getAnimatableNone)===null||n===void 0?void 0:n.call(a,r)}function OU(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var r=xi(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(r).length}function TU(e){var r=e.ease,n=e.times,a=e.yoyo,s=e.flip,o=e.loop,l=xi(e,["ease","times","yoyo","flip","loop"]),c=Ct({},l);return n&&(c.offset=n),l.duration&&(c.duration=Xx(l.duration)),l.repeatDelay&&(c.repeatDelay=Xx(l.repeatDelay)),r&&(c.ease=EU(r)?r.map(YS):YS(r)),l.type==="tween"&&(c.type="keyframes"),(a||o||s)&&(a?c.repeatType="reverse":o?c.repeatType="loop":s&&(c.repeatType="mirror"),c.repeat=o||a||s||l.repeat),l.type!=="spring"&&(c.type="keyframes"),c}function MU(e,r){var n,a,s=fN(e,r)||{};return(a=(n=s.delay)!==null&&n!==void 0?n:e.delay)!==null&&a!==void 0?a:0}function IU(e){return Array.isArray(e.to)&&e.to[0]===null&&(e.to=yo([],Wn(e.to),!1),e.to[0]=e.from),e}function RU(e,r,n){var a;return Array.isArray(r.to)&&((a=e.duration)!==null&&a!==void 0||(e.duration=.8)),IU(r),OU(e)||(e=Ct(Ct({},e),DU(n,r.to))),Ct(Ct({},r),TU(e))}function zU(e,r,n,a,s){var o,l=fN(a,e),c=(o=l.from)!==null&&o!==void 0?o:r.get(),u=XS(e,n);c==="none"&&u&&typeof n=="string"?c=hN(e,n):ZS(c)&&typeof n=="string"?c=QS(n):!Array.isArray(n)&&ZS(n)&&typeof c=="string"&&(n=QS(c));var d=XS(e,c);function f(){var x={from:c,to:n,velocity:r.getVelocity(),onComplete:s,onUpdate:function(g){return r.set(g)}};return l.type==="inertia"||l.type==="decay"?lU(Ct(Ct({},x),l)):ZL(Ct(Ct({},RU(l,x,e)),{onUpdate:function(g){var y;x.onUpdate(g),(y=l.onUpdate)===null||y===void 0||y.call(l,g)},onComplete:function(){var g;x.onComplete(),(g=l.onComplete)===null||g===void 0||g.call(l)}}))}function p(){var x,g,y=EL(n);return r.set(y),s(),(x=l==null?void 0:l.onUpdate)===null||x===void 0||x.call(l,y),(g=l==null?void 0:l.onComplete)===null||g===void 0||g.call(l),{stop:function(){}}}return!d||!u||l.type===!1?p:f}function ZS(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function QS(e){return typeof e=="number"?0:hN("",e)}function fN(e,r){return e[r]||e.default||e}function mN(e,r,n,a){return a===void 0&&(a={}),r.start(function(s){var o,l,c=zU(e,r,n,a,s),u=MU(a,e),d=function(){return l=c()};return u?o=window.setTimeout(d,Xx(u)):d(),function(){clearTimeout(o),l==null||l.stop()}})}var FU=function(e){return/^\-?\d*\.?\d+$/.test(e)},$U=function(e){return/^0[^.\s]+$/.test(e)};function pN(e,r){e.indexOf(r)===-1&&e.push(r)}function gN(e,r){var n=e.indexOf(r);n>-1&&e.splice(n,1)}var Lp=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(r){var n=this;return pN(this.subscriptions,r),function(){return gN(n.subscriptions,r)}},e.prototype.notify=function(r,n,a){var s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](r,n,a);else for(var o=0;o<s;o++){var l=this.subscriptions[o];l&&l(r,n,a)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),BU=function(e){return!isNaN(parseFloat(e))},UU=function(){function e(r){var n=this;this.version="6.5.1",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Lp,this.velocityUpdateSubscribers=new Lp,this.renderSubscribers=new Lp,this.canTrackVelocity=!1,this.updateAndNotify=function(a,s){s===void 0&&(s=!0),n.prev=n.current,n.current=a;var o=Gx(),l=o.delta,c=o.timestamp;n.lastUpdated!==c&&(n.timeDelta=l,n.lastUpdated=c,Al.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.updateSubscribers.notify(n.current),n.velocityUpdateSubscribers.getSize()&&n.velocityUpdateSubscribers.notify(n.getVelocity()),s&&n.renderSubscribers.notify(n.current)},this.scheduleVelocityCheck=function(){return Al.postRender(n.velocityCheck)},this.velocityCheck=function(a){var s=a.timestamp;s!==n.lastUpdated&&(n.prev=n.current,n.velocityUpdateSubscribers.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=r,this.canTrackVelocity=BU(this.current)}return e.prototype.onChange=function(r){return this.updateSubscribers.add(r)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(r){return r(this.get()),this.renderSubscribers.add(r)},e.prototype.attach=function(r){this.passiveEffect=r},e.prototype.set=function(r,n){n===void 0&&(n=!0),!n||!this.passiveEffect?this.updateAndNotify(r,n):this.passiveEffect(r,this.updateAndNotify)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?QL(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(r){var n=this;return this.stop(),new Promise(function(a){n.hasAnimated=!0,n.stopAnimation=r(a)}).then(function(){return n.clearAnimation()})},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function nm(e){return new UU(e)}var lO=function(e){return function(r){return r.test(e)}},qU={test:function(e){return e==="auto"},parse:function(e){return e}},cO=[$h,Pr,fc,ad,D$,A$,qU],ip=function(e){return cO.find(lO(e))},HU=yo(yo([],Wn(cO),!1),[vs,lu],!1),VU=function(e){return HU.find(lO(e))};function WU(e,r,n){e.hasValue(r)?e.getValue(r).set(n):e.addValue(r,nm(n))}function KU(e,r){var n=my(e,r),a=n?e.makeTargetAnimatable(n,!1):{},s=a.transitionEnd,o=s===void 0?{}:s;a.transition;var l=xi(a,["transitionEnd","transition"]);l=Ct(Ct({},l),o);for(var c in l){var u=EL(l[c]);WU(e,c,u)}}function GU(e,r,n){var a,s,o,l,c=Object.keys(r).filter(function(g){return!e.hasValue(g)}),u=c.length;if(u)for(var d=0;d<u;d++){var f=c[d],p=r[f],x=null;Array.isArray(p)&&(x=p[0]),x===null&&(x=(s=(a=n[f])!==null&&a!==void 0?a:e.readValue(f))!==null&&s!==void 0?s:r[f]),x!=null&&(typeof x=="string"&&(FU(x)||$U(x))?x=parseFloat(x):!VU(x)&&lu.test(p)&&(x=hN(f,p)),e.addValue(f,nm(x)),(o=(l=n)[f])!==null&&o!==void 0||(l[f]=x),e.setBaseTarget(f,x))}}function YU(e,r){if(r){var n=r[e]||r.default||r;return n.from}}function XU(e,r,n){var a,s,o={};for(var l in e)o[l]=(a=YU(l,r))!==null&&a!==void 0?a:(s=n.getValue(l))===null||s===void 0?void 0:s.get();return o}function JU(e,r,n){n===void 0&&(n={}),e.notifyAnimationStart(r);var a;if(Array.isArray(r)){var s=r.map(function(l){return u5(e,l,n)});a=Promise.all(s)}else if(typeof r=="string")a=u5(e,r,n);else{var o=typeof r=="function"?my(e,r,n.custom):r;a=uO(e,o,n)}return a.then(function(){return e.notifyAnimationComplete(r)})}function u5(e,r,n){var a;n===void 0&&(n={});var s=my(e,r,n.custom),o=(s||{}).transition,l=o===void 0?e.getDefaultTransition()||{}:o;n.transitionOverride&&(l=n.transitionOverride);var c=s?function(){return uO(e,s,n)}:function(){return Promise.resolve()},u=!((a=e.variantChildren)===null||a===void 0)&&a.size?function(g){g===void 0&&(g=0);var y=l.delayChildren,w=y===void 0?0:y,v=l.staggerChildren,S=l.staggerDirection;return ZU(e,r,w+g,v,S,n)}:function(){return Promise.resolve()},d=l.when;if(d){var f=Wn(d==="beforeChildren"?[c,u]:[u,c],2),p=f[0],x=f[1];return p().then(x)}else return Promise.all([c(),u(n.delay)])}function uO(e,r,n){var a,s=n===void 0?{}:n,o=s.delay,l=o===void 0?0:o,c=s.transitionOverride,u=s.type,d=e.makeTargetAnimatable(r),f=d.transition,p=f===void 0?e.getDefaultTransition():f,x=d.transitionEnd,g=xi(d,["transition","transitionEnd"]);c&&(p=c);var y=[],w=u&&((a=e.animationState)===null||a===void 0?void 0:a.getState()[u]);for(var v in g){var S=e.getValue(v),k=g[v];if(!(!S||k===void 0||w&&eq(w,v))){var j=Ct({delay:l},p);e.shouldReduceMotion&&N0(v)&&(j=Ct(Ct({},j),{type:!1,delay:0}));var C=mN(v,S,k,j);y.push(C)}}return Promise.all(y).then(function(){x&&KU(e,x)})}function ZU(e,r,n,a,s,o){n===void 0&&(n=0),a===void 0&&(a=0),s===void 0&&(s=1);var l=[],c=(e.variantChildren.size-1)*a,u=s===1?function(d){return d===void 0&&(d=0),d*a}:function(d){return d===void 0&&(d=0),c-d*a};return Array.from(e.variantChildren).sort(QU).forEach(function(d,f){l.push(u5(d,r,Ct(Ct({},o),{delay:n+u(f)})).then(function(){return d.notifyAnimationComplete(r)}))}),Promise.all(l)}function QU(e,r){return e.sortNodePosition(r)}function eq(e,r){var n=e.protectedKeys,a=e.needsAnimating,s=n.hasOwnProperty(r)&&a[r]!==!0;return a[r]=!1,s}var xN=[Fn.Animate,Fn.InView,Fn.Focus,Fn.Hover,Fn.Tap,Fn.Drag,Fn.Exit],tq=yo([],Wn(xN),!1).reverse(),rq=xN.length;function nq(e){return function(r){return Promise.all(r.map(function(n){var a=n.animation,s=n.options;return JU(e,a,s)}))}}function aq(e){var r=nq(e),n=sq(),a={},s=!0,o=function(f,p){var x=my(e,p);if(x){x.transition;var g=x.transitionEnd,y=xi(x,["transition","transitionEnd"]);f=Ct(Ct(Ct({},f),y),g)}return f};function l(f){return a[f]!==void 0}function c(f){r=f(e)}function u(f,p){for(var x,g=e.getProps(),y=e.getVariantContext(!0)||{},w=[],v=new Set,S={},k=1/0,j=function(F){var V=tq[F],B=n[V],K=(x=g[V])!==null&&x!==void 0?x:y[V],T=Sl(K),M=V===p?B.isActive:null;M===!1&&(k=F);var I=K===y[V]&&K!==g[V]&&T;if(I&&s&&e.manuallyAnimateOnMount&&(I=!1),B.protectedKeys=Ct({},S),!B.isActive&&M===null||!K&&!B.prevProp||rN(K)||typeof K=="boolean")return"continue";var q=iq(B.prevProp,K),H=q||V===p&&B.isActive&&!I&&T||F>k&&T,te=Array.isArray(K)?K:[K],O=te.reduce(o,{});M===!1&&(O={});var re=B.prevResolvedValues,Y=re===void 0?{}:re,P=Ct(Ct({},Y),O),L=function(D){H=!0,v.delete(D),B.needsAnimating[D]=!0};for(var R in P){var G=O[R],X=Y[R];S.hasOwnProperty(R)||(G!==X?Yp(G)&&Yp(X)?!oO(G,X)||q?L(R):B.protectedKeys[R]=!0:G!==void 0?L(R):v.add(R):G!==void 0&&v.has(R)?L(R):B.protectedKeys[R]=!0)}B.prevProp=K,B.prevResolvedValues=O,B.isActive&&(S=Ct(Ct({},S),O)),s&&e.blockInitialAnimation&&(H=!1),H&&!I&&w.push.apply(w,yo([],Wn(te.map(function(D){return{animation:D,options:Ct({type:V},f)}})),!1))},C=0;C<rq;C++)j(C);if(a=Ct({},S),v.size){var z={};v.forEach(function(F){var V=e.getBaseTarget(F);V!==void 0&&(z[F]=V)}),w.push({animation:z})}var $=!!w.length;return s&&g.initial===!1&&!e.manuallyAnimateOnMount&&($=!1),s=!1,$?r(w):Promise.resolve()}function d(f,p,x){var g;if(n[f].isActive===p)return Promise.resolve();(g=e.variantChildren)===null||g===void 0||g.forEach(function(v){var S;return(S=v.animationState)===null||S===void 0?void 0:S.setActive(f,p)}),n[f].isActive=p;var y=u(x,f);for(var w in n)n[w].protectedKeys={};return y}return{isAnimated:l,animateChanges:u,setActive:d,setAnimateFunction:c,getState:function(){return n}}}function iq(e,r){return typeof r=="string"?r!==e:sL(r)?!oO(r,e):!1}function eh(e){return e===void 0&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sq(){var e;return e={},e[Fn.Animate]=eh(!0),e[Fn.InView]=eh(),e[Fn.Hover]=eh(),e[Fn.Tap]=eh(),e[Fn.Drag]=eh(),e[Fn.Focus]=eh(),e[Fn.Exit]=eh(),e}var oq={animation:hd(function(e){var r=e.visualElement,n=e.animate;r.animationState||(r.animationState=aq(r)),rN(n)&&N.useEffect(function(){return n.subscribe(r)},[n])}),exit:hd(function(e){var r=e.custom,n=e.visualElement,a=Wn(sO(),2),s=a[0],o=a[1],l=N.useContext(w0);N.useEffect(function(){var c,u;n.isPresent=s;var d=(c=n.animationState)===null||c===void 0?void 0:c.setActive(Fn.Exit,!s,{custom:(u=l==null?void 0:l.custom)!==null&&u!==void 0?u:r});!s&&(d==null||d.then(o))},[s])})},dO=function(){function e(r,n,a){var s=this,o=a===void 0?{}:a,l=o.transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(s.lastMoveEvent&&s.lastMoveEventInfo){var x=j1(s.lastMoveEventInfo,s.history),g=s.startEvent!==null,y=eO(x.offset,{x:0,y:0})>=3;if(!(!g&&!y)){var w=x.point,v=Gx().timestamp;s.history.push(Ct(Ct({},w),{timestamp:v}));var S=s.handlers,k=S.onStart,j=S.onMove;g||(k&&k(s.lastMoveEvent,x),s.startEvent=s.lastMoveEvent),j&&j(s.lastMoveEvent,x)}}},this.handlePointerMove=function(x,g){if(s.lastMoveEvent=x,s.lastMoveEventInfo=w1(g,s.transformPagePoint),DL(x)&&x.buttons===0){s.handlePointerUp(x,g);return}Al.update(s.updatePoint,!0)},this.handlePointerUp=function(x,g){s.end();var y=s.handlers,w=y.onEnd,v=y.onSessionEnd,S=j1(w1(g,s.transformPagePoint),s.history);s.startEvent&&w&&w(x,S),v&&v(x,S)},!(LL(r)&&r.touches.length>1)){this.handlers=n,this.transformPagePoint=l;var c=nN(r),u=w1(c,this.transformPagePoint),d=u.point,f=Gx().timestamp;this.history=[Ct(Ct({},d),{timestamp:f})];var p=n.onSessionStart;p&&p(r,j1(u,this.history)),this.removeListeners=xy(Uf(window,"pointermove",this.handlePointerMove),Uf(window,"pointerup",this.handlePointerUp),Uf(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(r){this.handlers=r},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),rm.update(this.updatePoint)},e}();function w1(e,r){return r?{point:r(e.point)}:e}function e4(e,r){return{x:e.x-r.x,y:e.y-r.y}}function j1(e,r){var n=e.point;return{point:n,delta:e4(n,hO(r)),offset:e4(n,lq(r)),velocity:cq(r,.1)}}function lq(e){return e[0]}function hO(e){return e[e.length-1]}function cq(e,r){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,a=null,s=hO(e);n>=0&&(a=e[n],!(s.timestamp-a.timestamp>Xx(r)));)n--;if(!a)return{x:0,y:0};var o=(s.timestamp-a.timestamp)/1e3;if(o===0)return{x:0,y:0};var l={x:(s.x-a.x)/o,y:(s.y-a.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function cu(e){return e.max-e.min}function t4(e,r,n){return r===void 0&&(r=0),n===void 0&&(n=.01),eO(e,r)<n}function r4(e,r,n,a){a===void 0&&(a=.5),e.origin=a,e.originPoint=wa(r.min,r.max,e.origin),e.scale=cu(n)/cu(r),(t4(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=wa(n.min,n.max,e.origin)-e.originPoint,(t4(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Op(e,r,n,a){r4(e.x,r.x,n.x,a==null?void 0:a.originX),r4(e.y,r.y,n.y,a==null?void 0:a.originY)}function n4(e,r,n){e.min=n.min+r.min,e.max=e.min+cu(r)}function uq(e,r,n){n4(e.x,r.x,n.x),n4(e.y,r.y,n.y)}function a4(e,r,n){e.min=r.min-n.min,e.max=e.min+cu(r)}function Tp(e,r,n){a4(e.x,r.x,n.x),a4(e.y,r.y,n.y)}function dq(e,r,n){var a=r.min,s=r.max;return a!==void 0&&e<a?e=n?wa(a,e,n.min):Math.max(e,a):s!==void 0&&e>s&&(e=n?wa(s,e,n.max):Math.min(e,s)),e}function i4(e,r,n){return{min:r!==void 0?e.min+r:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function hq(e,r){var n=r.top,a=r.left,s=r.bottom,o=r.right;return{x:i4(e.x,a,o),y:i4(e.y,n,s)}}function s4(e,r){var n,a=r.min-e.min,s=r.max-e.max;return r.max-r.min<e.max-e.min&&(n=Wn([s,a],2),a=n[0],s=n[1]),{min:a,max:s}}function fq(e,r){return{x:s4(e.x,r.x),y:s4(e.y,r.y)}}function mq(e,r){var n=.5,a=cu(e),s=cu(r);return s>a?n=Xp(r.min,r.max-a,e.min):a>s&&(n=Xp(e.min,e.max-s,r.min)),Wx(0,1,n)}function pq(e,r){var n={};return r.min!==void 0&&(n.min=r.min-e.min),r.max!==void 0&&(n.max=r.max-e.min),n}var d5=.35;function gq(e){return e===void 0&&(e=d5),e===!1?e=0:e===!0&&(e=d5),{x:o4(e,"left","right"),y:o4(e,"top","bottom")}}function o4(e,r,n){return{min:l4(e,r),max:l4(e,n)}}function l4(e,r){var n;return typeof e=="number"?e:(n=e[r])!==null&&n!==void 0?n:0}var c4=function(){return{translate:0,scale:1,origin:0,originPoint:0}},Mp=function(){return{x:c4(),y:c4()}},u4=function(){return{min:0,max:0}},as=function(){return{x:u4(),y:u4()}};function lc(e){return[e("x"),e("y")]}function fO(e){var r=e.top,n=e.left,a=e.right,s=e.bottom;return{x:{min:n,max:a},y:{min:r,max:s}}}function xq(e){var r=e.x,n=e.y;return{top:n.min,right:r.max,bottom:n.max,left:r.min}}function vq(e,r){if(!r)return e;var n=r({x:e.left,y:e.top}),a=r({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:a.y,right:a.x}}function N1(e){return e===void 0||e===1}function mO(e){var r=e.scale,n=e.scaleX,a=e.scaleY;return!N1(r)||!N1(n)||!N1(a)}function id(e){return mO(e)||d4(e.x)||d4(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function d4(e){return e&&e!=="0%"}function Jx(e,r,n){var a=e-n,s=r*a;return n+s}function h4(e,r,n,a,s){return s!==void 0&&(e=Jx(e,s,a)),Jx(e,n,a)+r}function h5(e,r,n,a,s){r===void 0&&(r=0),n===void 0&&(n=1),e.min=h4(e.min,r,n,a,s),e.max=h4(e.max,r,n,a,s)}function pO(e,r){var n=r.x,a=r.y;h5(e.x,n.translate,n.scale,n.originPoint),h5(e.y,a.translate,a.scale,a.originPoint)}function yq(e,r,n,a){var s,o;a===void 0&&(a=!1);var l=n.length;if(l){r.x=r.y=1;for(var c,u,d=0;d<l;d++)c=n[d],u=c.projectionDelta,((o=(s=c.instance)===null||s===void 0?void 0:s.style)===null||o===void 0?void 0:o.display)!=="contents"&&(a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Mf(e,{x:-c.scroll.x,y:-c.scroll.y}),u&&(r.x*=u.x.scale,r.y*=u.y.scale,pO(e,u)),a&&id(c.latestValues)&&Mf(e,c.latestValues))}}function sd(e,r){e.min=e.min+r,e.max=e.max+r}function f4(e,r,n){var a=Wn(n,3),s=a[0],o=a[1],l=a[2],c=r[l]!==void 0?r[l]:.5,u=wa(e.min,e.max,c);h5(e,r[s],r[o],u,r.scale)}var bq=["x","scaleX","originX"],wq=["y","scaleY","originY"];function Mf(e,r){f4(e.x,r,bq),f4(e.y,r,wq)}function gO(e,r){return fO(vq(e.getBoundingClientRect(),r))}function jq(e,r,n){var a=gO(e,n),s=r.scroll;return s&&(sd(a.x,s.x),sd(a.y,s.y)),a}var Nq=new WeakMap,_q=function(){function e(r){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=as(),this.visualElement=r}return e.prototype.start=function(r,n){var a=this,s=n===void 0?{}:n,o=s.snapToCursor,l=o===void 0?!1:o;if(this.visualElement.isPresent!==!1){var c=function(p){a.stopAnimation(),l&&a.snapToCursor(nN(p,"page").point)},u=function(p,x){var g,y=a.getProps(),w=y.drag,v=y.dragPropagation,S=y.onDragStart;w&&!v&&(a.openGlobalLock&&a.openGlobalLock(),a.openGlobalLock=IL(w),!a.openGlobalLock)||(a.isDragging=!0,a.currentDirection=null,a.resolveConstraints(),a.visualElement.projection&&(a.visualElement.projection.isAnimationBlocked=!0,a.visualElement.projection.target=void 0),lc(function(k){var j,C,z=a.getAxisMotionValue(k).get()||0;if(fc.test(z)){var $=(C=(j=a.visualElement.projection)===null||j===void 0?void 0:j.layout)===null||C===void 0?void 0:C.actual[k];if($){var F=cu($);z=F*(parseFloat(z)/100)}}a.originPoint[k]=z}),S==null||S(p,x),(g=a.visualElement.animationState)===null||g===void 0||g.setActive(Fn.Drag,!0))},d=function(p,x){var g=a.getProps(),y=g.dragPropagation,w=g.dragDirectionLock,v=g.onDirectionLock,S=g.onDrag;if(!(!y&&!a.openGlobalLock)){var k=x.offset;if(w&&a.currentDirection===null){a.currentDirection=Sq(k),a.currentDirection!==null&&(v==null||v(a.currentDirection));return}a.updateAxis("x",x.point,k),a.updateAxis("y",x.point,k),a.visualElement.syncRender(),S==null||S(p,x)}},f=function(p,x){return a.stop(p,x)};this.panSession=new dO(r,{onSessionStart:c,onStart:u,onMove:d,onSessionEnd:f},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},e.prototype.stop=function(r,n){var a=this.isDragging;if(this.cancel(),!!a){var s=n.velocity;this.startAnimation(s);var o=this.getProps().onDragEnd;o==null||o(r,n)}},e.prototype.cancel=function(){var r,n;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(r=this.panSession)===null||r===void 0||r.end(),this.panSession=void 0;var a=this.getProps().dragPropagation;!a&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(n=this.visualElement.animationState)===null||n===void 0||n.setActive(Fn.Drag,!1)},e.prototype.updateAxis=function(r,n,a){var s=this.getProps().drag;if(!(!a||!Ig(r,s,this.currentDirection))){var o=this.getAxisMotionValue(r),l=this.originPoint[r]+a[r];this.constraints&&this.constraints[r]&&(l=dq(l,this.constraints[r],this.elastic[r])),o.set(l)}},e.prototype.resolveConstraints=function(){var r=this,n=this.getProps(),a=n.dragConstraints,s=n.dragElastic,o=(this.visualElement.projection||{}).layout,l=this.constraints;a&&Tf(a)?this.constraints||(this.constraints=this.resolveRefConstraints()):a&&o?this.constraints=hq(o.actual,a):this.constraints=!1,this.elastic=gq(s),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&lc(function(c){r.getAxisMotionValue(c)&&(r.constraints[c]=pq(o.actual[c],r.constraints[c]))})},e.prototype.resolveRefConstraints=function(){var r=this.getProps(),n=r.dragConstraints,a=r.onMeasureDragConstraints;if(!n||!Tf(n))return!1;var s=n.current,o=this.visualElement.projection;if(!o||!o.layout)return!1;var l=jq(s,o.root,this.visualElement.getTransformPagePoint()),c=fq(o.layout.actual,l);if(a){var u=a(xq(c));this.hasMutatedConstraints=!!u,u&&(c=fO(u))}return c},e.prototype.startAnimation=function(r){var n=this,a=this.getProps(),s=a.drag,o=a.dragMomentum,l=a.dragElastic,c=a.dragTransition,u=a.dragSnapToOrigin,d=a.onDragTransitionEnd,f=this.constraints||{},p=lc(function(x){var g;if(Ig(x,s,n.currentDirection)){var y=(g=f==null?void 0:f[x])!==null&&g!==void 0?g:{};u&&(y={min:0,max:0});var w=l?200:1e6,v=l?40:1e7,S=Ct(Ct({type:"inertia",velocity:o?r[x]:0,bounceStiffness:w,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10},c),y);return n.startAxisValueAnimation(x,S)}});return Promise.all(p).then(d)},e.prototype.startAxisValueAnimation=function(r,n){var a=this.getAxisMotionValue(r);return mN(r,a,0,n)},e.prototype.stopAnimation=function(){var r=this;lc(function(n){return r.getAxisMotionValue(n).stop()})},e.prototype.getAxisMotionValue=function(r){var n,a,s="_drag"+r.toUpperCase(),o=this.visualElement.getProps()[s];return o||this.visualElement.getValue(r,(a=(n=this.visualElement.getProps().initial)===null||n===void 0?void 0:n[r])!==null&&a!==void 0?a:0)},e.prototype.snapToCursor=function(r){var n=this;lc(function(a){var s=n.getProps().drag;if(Ig(a,s,n.currentDirection)){var o=n.visualElement.projection,l=n.getAxisMotionValue(a);if(o&&o.layout){var c=o.layout.actual[a],u=c.min,d=c.max;l.set(r[a]-wa(u,d,.5))}}})},e.prototype.scalePositionWithinConstraints=function(){var r=this,n,a=this.getProps(),s=a.drag,o=a.dragConstraints,l=this.visualElement.projection;if(!(!Tf(o)||!l||!this.constraints)){this.stopAnimation();var c={x:0,y:0};lc(function(d){var f=r.getAxisMotionValue(d);if(f){var p=f.get();c[d]=mq({min:p,max:p},r.constraints[d])}});var u=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=u?u({},""):"none",(n=l.root)===null||n===void 0||n.updateScroll(),l.updateLayout(),this.resolveConstraints(),lc(function(d){if(Ig(d,s,null)){var f=r.getAxisMotionValue(d),p=r.constraints[d],x=p.min,g=p.max;f.set(wa(x,g,c[d]))}})}},e.prototype.addListeners=function(){var r=this,n;Nq.set(this.visualElement,this);var a=this.visualElement.getInstance(),s=Uf(a,"pointerdown",function(d){var f=r.getProps(),p=f.drag,x=f.dragListener,g=x===void 0?!0:x;p&&g&&r.start(d)}),o=function(){var d=r.getProps().dragConstraints;Tf(d)&&(r.constraints=r.resolveRefConstraints())},l=this.visualElement.projection,c=l.addEventListener("measure",o);l&&!l.layout&&((n=l.root)===null||n===void 0||n.updateScroll(),l.updateLayout()),o();var u=gy(window,"resize",function(){return r.scalePositionWithinConstraints()});return l.addEventListener("didUpdate",function(d){var f=d.delta,p=d.hasLayoutChanged;r.isDragging&&p&&(lc(function(x){var g=r.getAxisMotionValue(x);g&&(r.originPoint[x]+=f[x].translate,g.set(g.get()+f[x].translate))}),r.visualElement.syncRender())}),function(){u(),s(),c()}},e.prototype.getProps=function(){var r=this.visualElement.getProps(),n=r.drag,a=n===void 0?!1:n,s=r.dragDirectionLock,o=s===void 0?!1:s,l=r.dragPropagation,c=l===void 0?!1:l,u=r.dragConstraints,d=u===void 0?!1:u,f=r.dragElastic,p=f===void 0?d5:f,x=r.dragMomentum,g=x===void 0?!0:x;return Ct(Ct({},r),{drag:a,dragDirectionLock:o,dragPropagation:c,dragConstraints:d,dragElastic:p,dragMomentum:g})},e}();function Ig(e,r,n){return(r===!0||r===e)&&(n===null||n===e)}function Sq(e,r){r===void 0&&(r=10);var n=null;return Math.abs(e.y)>r?n="y":Math.abs(e.x)>r&&(n="x"),n}function kq(e){var r=e.dragControls,n=e.visualElement,a=j0(function(){return new _q(n)});N.useEffect(function(){return r&&r.subscribe(a)},[a,r]),N.useEffect(function(){return a.addListeners()},[a])}function Cq(e){var r=e.onPan,n=e.onPanStart,a=e.onPanEnd,s=e.onPanSessionStart,o=e.visualElement,l=r||n||a||s,c=N.useRef(null),u=N.useContext(Gj).transformPagePoint,d={onSessionStart:s,onStart:n,onMove:r,onEnd:function(p,x){c.current=null,a&&a(p,x)}};N.useEffect(function(){c.current!==null&&c.current.updateHandlers(d)});function f(p){c.current=new dO(p,d,{transformPagePoint:u})}Vx(o,"pointerdown",l&&f),aN(function(){return c.current&&c.current.end()})}var Pq={pan:hd(Cq),drag:hd(kq)},Rg=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function Eq(){var e=Rg.map(function(){return new Lp}),r={},n={clearAllListeners:function(){return e.forEach(function(a){return a.clear()})},updatePropListeners:function(a){Rg.forEach(function(s){var o,l="on"+s,c=a[l];(o=r[s])===null||o===void 0||o.call(r),c&&(r[s]=n[l](c))})}};return e.forEach(function(a,s){n["on"+Rg[s]]=function(o){return a.add(o)},n["notify"+Rg[s]]=function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return a.notify.apply(a,yo([],Wn(o),!1))}}),n}function Aq(e,r,n){var a;for(var s in r){var o=r[s],l=n[s];if(ou(o))e.addValue(s,o);else if(ou(l))e.addValue(s,nm(o));else if(l!==o)if(e.hasValue(s)){var c=e.getValue(s);!c.hasAnimated&&c.set(o)}else e.addValue(s,nm((a=e.getStaticValue(s))!==null&&a!==void 0?a:o))}for(var s in n)r[s]===void 0&&e.removeValue(s);return r}var xO=function(e){var r=e.treeType,n=r===void 0?"":r,a=e.build,s=e.getBaseTarget,o=e.makeTargetAnimatable,l=e.measureViewportBox,c=e.render,u=e.readValueFromInstance,d=e.removeValueFromRenderState,f=e.sortNodePosition,p=e.scrapeMotionValuesFromProps;return function(x,g){var y=x.parent,w=x.props,v=x.presenceId,S=x.blockInitialAnimation,k=x.visualState,j=x.shouldReduceMotion;g===void 0&&(g={});var C=!1,z=k.latestValues,$=k.renderState,F,V=Eq(),B=new Map,K=new Map,T={},M=Ct({},z),I;function q(){!F||!C||(H(),c(F,$,w.style,G.projection))}function H(){a(G,$,z,g,w)}function te(){V.notifyUpdate(z)}function O(X,D){var Z=D.onChange(function(le){z[X]=le,w.onUpdate&&Al.update(te,!1,!0)}),ae=D.onRenderRequest(G.scheduleRender);K.set(X,function(){Z(),ae()})}var re=p(w);for(var Y in re){var P=re[Y];z[Y]!==void 0&&ou(P)&&P.set(z[Y],!1)}var L=py(w),R=lL(w),G=Ct(Ct({treeType:n,current:null,depth:y?y.depth+1:0,parent:y,children:new Set,presenceId:v,shouldReduceMotion:j,variantChildren:R?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:!!(y!=null&&y.isMounted()),blockInitialAnimation:S,isMounted:function(){return!!F},mount:function(X){C=!0,F=G.current=X,G.projection&&G.projection.mount(X),R&&y&&!L&&(I=y==null?void 0:y.addVariantChild(G)),B.forEach(function(D,Z){return O(Z,D)}),y==null||y.children.add(G),G.setProps(w)},unmount:function(){var X;(X=G.projection)===null||X===void 0||X.unmount(),rm.update(te),rm.render(q),K.forEach(function(D){return D()}),I==null||I(),y==null||y.children.delete(G),V.clearAllListeners(),F=void 0,C=!1},addVariantChild:function(X){var D,Z=G.getClosestVariantNode();if(Z)return(D=Z.variantChildren)===null||D===void 0||D.add(X),function(){return Z.variantChildren.delete(X)}},sortNodePosition:function(X){return!f||n!==X.treeType?0:f(G.getInstance(),X.getInstance())},getClosestVariantNode:function(){return R?G:y==null?void 0:y.getClosestVariantNode()},getLayoutId:function(){return w.layoutId},getInstance:function(){return F},getStaticValue:function(X){return z[X]},setStaticValue:function(X,D){return z[X]=D},getLatestValues:function(){return z},setVisibility:function(X){G.isVisible!==X&&(G.isVisible=X,G.scheduleRender())},makeTargetAnimatable:function(X,D){return D===void 0&&(D=!0),o(G,X,w,D)},measureViewportBox:function(){return l(F,w)},addValue:function(X,D){G.hasValue(X)&&G.removeValue(X),B.set(X,D),z[X]=D.get(),O(X,D)},removeValue:function(X){var D;B.delete(X),(D=K.get(X))===null||D===void 0||D(),K.delete(X),delete z[X],d(X,$)},hasValue:function(X){return B.has(X)},getValue:function(X,D){var Z=B.get(X);return Z===void 0&&D!==void 0&&(Z=nm(D),G.addValue(X,Z)),Z},forEachValue:function(X){return B.forEach(X)},readValue:function(X){var D;return(D=z[X])!==null&&D!==void 0?D:u(F,X,g)},setBaseTarget:function(X,D){M[X]=D},getBaseTarget:function(X){if(s){var D=s(w,X);if(D!==void 0&&!ou(D))return D}return M[X]}},V),{build:function(){return H(),$},scheduleRender:function(){Al.render(q,!1,!0)},syncRender:q,setProps:function(X){(X.transformTemplate||w.transformTemplate)&&G.scheduleRender(),w=X,V.updatePropListeners(X),T=Aq(G,p(w),T)},getProps:function(){return w},getVariant:function(X){var D;return(D=w.variants)===null||D===void 0?void 0:D[X]},getDefaultTransition:function(){return w.transition},getTransformPagePoint:function(){return w.transformPagePoint},getVariantContext:function(X){if(X===void 0&&(X=!1),X)return y==null?void 0:y.getVariantContext();if(!L){var D=(y==null?void 0:y.getVariantContext())||{};return w.initial!==void 0&&(D.initial=w.initial),D}for(var Z={},ae=0;ae<Dq;ae++){var le=vO[ae],Q=w[le];(Sl(Q)||Q===!1)&&(Z[le]=Q)}return Z}});return G}},vO=yo(["initial"],Wn(xN),!1),Dq=vO.length;function f5(e){return typeof e=="string"&&e.startsWith("var(--")}var yO=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Lq(e){var r=yO.exec(e);if(!r)return[,];var n=Wn(r,3),a=n[1],s=n[2];return[a,s]}function m5(e,r,n){var a=Wn(Lq(e),2),s=a[0],o=a[1];if(s){var l=window.getComputedStyle(r).getPropertyValue(s);return l?l.trim():f5(o)?m5(o,r):o}}function Oq(e,r,n){var a,s=xi(r,[]),o=e.getInstance();if(!(o instanceof Element))return{target:s,transitionEnd:n};n&&(n=Ct({},n)),e.forEachValue(function(d){var f=d.get();if(f5(f)){var p=m5(f,o);p&&d.set(p)}});for(var l in s){var c=s[l];if(f5(c)){var u=m5(c,o);u&&(s[l]=u,n&&((a=n[l])!==null&&a!==void 0||(n[l]=c)))}}return{target:s,transitionEnd:n}}var Tq=new Set(["width","height","top","left","right","bottom","x","y"]),bO=function(e){return Tq.has(e)},Mq=function(e){return Object.keys(e).some(bO)},wO=function(e,r){e.set(r,!1),e.set(r)},m4=function(e){return e===$h||e===Pr},p4;(function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"})(p4||(p4={}));var g4=function(e,r){return parseFloat(e.split(", ")[r])},x4=function(e,r){return function(n,a){var s=a.transform;if(s==="none"||!s)return 0;var o=s.match(/^matrix3d\((.+)\)$/);if(o)return g4(o[1],r);var l=s.match(/^matrix\((.+)\)$/);return l?g4(l[1],e):0}},Iq=new Set(["x","y","z"]),Rq=Kp.filter(function(e){return!Iq.has(e)});function zq(e){var r=[];return Rq.forEach(function(n){var a=e.getValue(n);a!==void 0&&(r.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),r.length&&e.syncRender(),r}var v4={width:function(e,r){var n=e.x,a=r.paddingLeft,s=a===void 0?"0":a,o=r.paddingRight,l=o===void 0?"0":o;return n.max-n.min-parseFloat(s)-parseFloat(l)},height:function(e,r){var n=e.y,a=r.paddingTop,s=a===void 0?"0":a,o=r.paddingBottom,l=o===void 0?"0":o;return n.max-n.min-parseFloat(s)-parseFloat(l)},top:function(e,r){var n=r.top;return parseFloat(n)},left:function(e,r){var n=r.left;return parseFloat(n)},bottom:function(e,r){var n=e.y,a=r.top;return parseFloat(a)+(n.max-n.min)},right:function(e,r){var n=e.x,a=r.left;return parseFloat(a)+(n.max-n.min)},x:x4(4,13),y:x4(5,14)},Fq=function(e,r,n){var a=r.measureViewportBox(),s=r.getInstance(),o=getComputedStyle(s),l=o.display,c={};l==="none"&&r.setStaticValue("display",e.display||"block"),n.forEach(function(d){c[d]=v4[d](a,o)}),r.syncRender();var u=r.measureViewportBox();return n.forEach(function(d){var f=r.getValue(d);wO(f,c[d]),e[d]=v4[d](u,o)}),e},$q=function(e,r,n,a){n===void 0&&(n={}),a===void 0&&(a={}),r=Ct({},r),a=Ct({},a);var s=Object.keys(r).filter(bO),o=[],l=!1,c=[];if(s.forEach(function(f){var p=e.getValue(f);if(e.hasValue(f)){var x=n[f],g=ip(x),y=r[f],w;if(Yp(y)){var v=y.length,S=y[0]===null?1:0;x=y[S],g=ip(x);for(var k=S;k<v;k++)w?Bx(ip(y[k])===w):w=ip(y[k])}else w=ip(y);if(g!==w)if(m4(g)&&m4(w)){var j=p.get();typeof j=="string"&&p.set(parseFloat(j)),typeof y=="string"?r[f]=parseFloat(y):Array.isArray(y)&&w===Pr&&(r[f]=y.map(parseFloat))}else g!=null&&g.transform&&(w!=null&&w.transform)&&(x===0||y===0)?x===0?p.set(w.transform(x)):r[f]=g.transform(y):(l||(o=zq(e),l=!0),c.push(f),a[f]=a[f]!==void 0?a[f]:r[f],wO(p,y))}}),c.length){var u=c.indexOf("height")>=0?window.pageYOffset:null,d=Fq(r,e,c);return o.length&&o.forEach(function(f){var p=Wn(f,2),x=p[0],g=p[1];e.getValue(x).set(g)}),e.syncRender(),u!==null&&window.scrollTo({top:u}),{target:d,transitionEnd:a}}else return{target:r,transitionEnd:a}};function Bq(e,r,n,a){return Mq(r)?$q(e,r,n,a):{target:r,transitionEnd:a}}var Uq=function(e,r,n,a){var s=Oq(e,r,a);return r=s.target,a=s.transitionEnd,Bq(e,r,n,a)};function qq(e){return window.getComputedStyle(e)}var jO={treeType:"dom",readValueFromInstance:function(e,r){if(N0(r)){var n=dN(r);return n&&n.default||0}else{var a=qq(e);return(hL(r)?a.getPropertyValue(r):a[r])||0}},sortNodePosition:function(e,r){return e.compareDocumentPosition(r)&2?1:-1},getBaseTarget:function(e,r){var n;return(n=e.style)===null||n===void 0?void 0:n[r]},measureViewportBox:function(e,r){var n=r.transformPagePoint;return gO(e,n)},resetTransform:function(e,r,n){var a=n.transformTemplate;r.style.transform=a?a({},""):"none",e.scheduleRender()},restoreTransform:function(e,r){e.style.transform=r.style.transform},removeValueFromRenderState:function(e,r){var n=r.vars,a=r.style;delete n[e],delete a[e]},makeTargetAnimatable:function(e,r,n,a){var s=n.transformValues;a===void 0&&(a=!0);var o=r.transition,l=r.transitionEnd,c=xi(r,["transition","transitionEnd"]),u=XU(c,o||{},e);if(s&&(l&&(l=s(l)),c&&(c=s(c)),u&&(u=s(u))),a){GU(e,c,u);var d=Uq(e,c,u,l);l=d.transitionEnd,c=d.target}return Ct({transition:o,transitionEnd:l},c)},scrapeMotionValuesFromProps:tN,build:function(e,r,n,a,s){e.isVisible!==void 0&&(r.style.visibility=e.isVisible?"visible":"hidden"),Zj(r,n,a,s.transformTemplate)},render:SL},Hq=xO(jO),Vq=xO(Ct(Ct({},jO),{getBaseTarget:function(e,r){return e[r]},readValueFromInstance:function(e,r){var n;return N0(r)?((n=dN(r))===null||n===void 0?void 0:n.default)||0:(r=kL.has(r)?r:_L(r),e.getAttribute(r))},scrapeMotionValuesFromProps:PL,build:function(e,r,n,a,s){eN(r,n,a,s.transformTemplate)},render:CL})),Wq=function(e,r){return Xj(e)?Vq(r,{enableHardwareAcceleration:!1}):Hq(r,{enableHardwareAcceleration:!0})};function y4(e,r){return r.max===r.min?0:e/(r.max-r.min)*100}var sp={correct:function(e,r){if(!r.target)return e;if(typeof e=="string")if(Pr.test(e))e=parseFloat(e);else return e;var n=y4(e,r.target.x),a=y4(e,r.target.y);return"".concat(n,"% ").concat(a,"%")}},b4="_$css",Kq={correct:function(e,r){var n=r.treeScale,a=r.projectionDelta,s=e,o=e.includes("var("),l=[];o&&(e=e.replace(yO,function(w){return l.push(w),b4}));var c=lu.parse(e);if(c.length>5)return s;var u=lu.createTransformer(e),d=typeof c[0]!="number"?1:0,f=a.x.scale*n.x,p=a.y.scale*n.y;c[0+d]/=f,c[1+d]/=p;var x=wa(f,p,.5);typeof c[2+d]=="number"&&(c[2+d]/=x),typeof c[3+d]=="number"&&(c[3+d]/=x);var g=u(c);if(o){var y=0;g=g.replace(b4,function(){var w=l[y];return y++,w})}return g}},Gq=function(e){dy(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.componentDidMount=function(){var n=this,a=this.props,s=a.visualElement,o=a.layoutGroup,l=a.switchLayoutGroup,c=a.layoutId,u=s.projection;b$(Xq),u&&(o!=null&&o.group&&o.group.add(u),l!=null&&l.register&&c&&l.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",function(){n.safeToRemove()}),u.setOptions(Ct(Ct({},u.options),{onExitComplete:function(){return n.safeToRemove()}}))),Ep.hasEverUpdated=!0},r.prototype.getSnapshotBeforeUpdate=function(n){var a=this,s=this.props,o=s.layoutDependency,l=s.visualElement,c=s.drag,u=s.isPresent,d=l.projection;return d&&(d.isPresent=u,c||n.layoutDependency!==o||o===void 0?d.willUpdate():this.safeToRemove(),n.isPresent!==u&&(u?d.promote():d.relegate()||Al.postRender(function(){var f;!((f=d.getStack())===null||f===void 0)&&f.members.length||a.safeToRemove()}))),null},r.prototype.componentDidUpdate=function(){var n=this.props.visualElement.projection;n&&(n.root.didUpdate(),!n.currentAnimation&&n.isLead()&&this.safeToRemove())},r.prototype.componentWillUnmount=function(){var n=this.props,a=n.visualElement,s=n.layoutGroup,o=n.switchLayoutGroup,l=a.projection;l&&(l.scheduleCheckAfterUnmount(),s!=null&&s.group&&s.group.remove(l),o!=null&&o.deregister&&o.deregister(l))},r.prototype.safeToRemove=function(){var n=this.props.safeToRemove;n==null||n()},r.prototype.render=function(){return null},r}(tt.Component);function Yq(e){var r=Wn(sO(),2),n=r[0],a=r[1],s=N.useContext(Yj);return tt.createElement(Gq,Ct({},e,{layoutGroup:s,switchLayoutGroup:N.useContext(cL),isPresent:n,safeToRemove:a}))}var Xq={borderRadius:Ct(Ct({},sp),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:sp,borderTopRightRadius:sp,borderBottomLeftRadius:sp,borderBottomRightRadius:sp,boxShadow:Kq},Jq={measureLayout:Yq};function Zq(e,r,n){n===void 0&&(n={});var a=ou(e)?e:nm(e);return mN("",a,r,n),{stop:function(){return a.stop()},isAnimating:function(){return a.isAnimating()}}}var NO=["TopLeft","TopRight","BottomLeft","BottomRight"],Qq=NO.length,w4=function(e){return typeof e=="string"?parseFloat(e):e},j4=function(e){return typeof e=="number"||Pr.test(e)};function eH(e,r,n,a,s,o){var l,c,u,d;s?(e.opacity=wa(0,(l=n.opacity)!==null&&l!==void 0?l:1,tH(a)),e.opacityExit=wa((c=r.opacity)!==null&&c!==void 0?c:1,0,rH(a))):o&&(e.opacity=wa((u=r.opacity)!==null&&u!==void 0?u:1,(d=n.opacity)!==null&&d!==void 0?d:1,a));for(var f=0;f<Qq;f++){var p="border".concat(NO[f],"Radius"),x=N4(r,p),g=N4(n,p);if(!(x===void 0&&g===void 0)){x||(x=0),g||(g=0);var y=x===0||g===0||j4(x)===j4(g);y?(e[p]=Math.max(wa(w4(x),w4(g),a),0),(fc.test(g)||fc.test(x))&&(e[p]+="%")):e[p]=g}}(r.rotate||n.rotate)&&(e.rotate=wa(r.rotate||0,n.rotate||0,a))}function N4(e,r){var n;return(n=e[r])!==null&&n!==void 0?n:e.borderRadius}var tH=_O(0,.5,cN),rH=_O(.5,.95,oN);function _O(e,r,n){return function(a){return a<e?0:a>r?1:n(Xp(e,r,a))}}function _4(e,r){e.min=r.min,e.max=r.max}function bl(e,r){_4(e.x,r.x),_4(e.y,r.y)}function S4(e,r,n,a,s){return e-=r,e=Jx(e,1/n,a),s!==void 0&&(e=Jx(e,1/s,a)),e}function nH(e,r,n,a,s,o,l){if(r===void 0&&(r=0),n===void 0&&(n=1),a===void 0&&(a=.5),o===void 0&&(o=e),l===void 0&&(l=e),fc.test(r)){r=parseFloat(r);var c=wa(l.min,l.max,r/100);r=c-l.min}if(typeof r=="number"){var u=wa(o.min,o.max,a);e===o&&(u-=r),e.min=S4(e.min,r,n,u,s),e.max=S4(e.max,r,n,u,s)}}function k4(e,r,n,a,s){var o=Wn(n,3),l=o[0],c=o[1],u=o[2];nH(e,r[l],r[c],r[u],r.scale,a,s)}var aH=["x","scaleX","originX"],iH=["y","scaleY","originY"];function C4(e,r,n,a){k4(e.x,r,aH,n==null?void 0:n.x,a==null?void 0:a.x),k4(e.y,r,iH,n==null?void 0:n.y,a==null?void 0:a.y)}function P4(e){return e.translate===0&&e.scale===1}function SO(e){return P4(e.x)&&P4(e.y)}function kO(e,r){return e.x.min===r.x.min&&e.x.max===r.x.max&&e.y.min===r.y.min&&e.y.max===r.y.max}var sH=function(){function e(){this.members=[]}return e.prototype.add=function(r){pN(this.members,r),r.scheduleRender()},e.prototype.remove=function(r){if(gN(this.members,r),r===this.prevLead&&(this.prevLead=void 0),r===this.lead){var n=this.members[this.members.length-1];n&&this.promote(n)}},e.prototype.relegate=function(r){var n=this.members.findIndex(function(l){return r===l});if(n===0)return!1;for(var a,s=n;s>=0;s--){var o=this.members[s];if(o.isPresent!==!1){a=o;break}}return a?(this.promote(a),!0):!1},e.prototype.promote=function(r,n){var a,s=this.lead;if(r!==s&&(this.prevLead=s,this.lead=r,r.show(),s)){s.instance&&s.scheduleRender(),r.scheduleRender(),r.resumeFrom=s,n&&(r.resumeFrom.preserveOpacity=!0),s.snapshot&&(r.snapshot=s.snapshot,r.snapshot.latestValues=s.animationValues||s.latestValues,r.snapshot.isShared=!0),!((a=r.root)===null||a===void 0)&&a.isUpdating&&(r.isLayoutDirty=!0);var o=r.options.crossfade;o===!1&&s.hide()}},e.prototype.exitAnimationComplete=function(){this.members.forEach(function(r){var n,a,s,o,l;(a=(n=r.options).onExitComplete)===null||a===void 0||a.call(n),(l=(s=r.resumingFrom)===null||s===void 0?void 0:(o=s.options).onExitComplete)===null||l===void 0||l.call(o)})},e.prototype.scheduleRender=function(){this.members.forEach(function(r){r.instance&&r.scheduleRender(!1)})},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}(),oH="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function E4(e,r,n){var a=e.x.translate/r.x,s=e.y.translate/r.y,o="translate3d(".concat(a,"px, ").concat(s,"px, 0) ");if(o+="scale(".concat(1/r.x,", ").concat(1/r.y,") "),n){var l=n.rotate,c=n.rotateX,u=n.rotateY;l&&(o+="rotate(".concat(l,"deg) ")),c&&(o+="rotateX(".concat(c,"deg) ")),u&&(o+="rotateY(".concat(u,"deg) "))}var d=e.x.scale*r.x,f=e.y.scale*r.y;return o+="scale(".concat(d,", ").concat(f,")"),o===oH?"none":o}var lH=function(e,r){return e.depth-r.depth},cH=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(r){pN(this.children,r),this.isDirty=!0},e.prototype.remove=function(r){gN(this.children,r),this.isDirty=!0},e.prototype.forEach=function(r){this.isDirty&&this.children.sort(lH),this.isDirty=!1,this.children.forEach(r)},e}(),A4=1e3;function CO(e){var r=e.attachResizeListener,n=e.defaultParent,a=e.measureScroll,s=e.checkIsScrollRoot,o=e.resetTransform;return function(){function l(c,u,d){var f=this;u===void 0&&(u={}),d===void 0&&(d=n==null?void 0:n()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){f.isUpdating&&(f.isUpdating=!1,f.clearAllSnapshots())},this.updateProjection=function(){f.nodes.forEach(pH),f.nodes.forEach(gH)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=c,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?yo(yo([],Wn(d.path),!1),[d],!1):[],this.parent=d,this.depth=d?d.depth+1:0,c&&this.root.registerPotentialNode(c,this);for(var p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new cH)}return l.prototype.addEventListener=function(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Lp),this.eventHandlers.get(c).add(u)},l.prototype.notifyListeners=function(c){for(var u=[],d=1;d<arguments.length;d++)u[d-1]=arguments[d];var f=this.eventHandlers.get(c);f==null||f.notify.apply(f,yo([],Wn(u),!1))},l.prototype.hasListeners=function(c){return this.eventHandlers.has(c)},l.prototype.registerPotentialNode=function(c,u){this.potentialNodes.set(c,u)},l.prototype.mount=function(c,u){var d=this,f;if(u===void 0&&(u=!1),!this.instance){this.isSVG=c instanceof SVGElement&&c.tagName!=="svg",this.instance=c;var p=this.options,x=p.layoutId,g=p.layout,y=p.visualElement;if(y&&!y.getInstance()&&y.mount(c),this.root.nodes.add(this),(f=this.parent)===null||f===void 0||f.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),u&&(g||x)&&(this.isLayoutDirty=!0),r){var w,v=function(){return d.root.updateBlockedByResize=!1};r(c,function(){d.root.updateBlockedByResize=!0,clearTimeout(w),w=window.setTimeout(v,250),Ep.hasAnimatedSinceResize&&(Ep.hasAnimatedSinceResize=!1,d.nodes.forEach(mH))})}x&&this.root.registerSharedNode(x,this),this.options.animate!==!1&&y&&(x||g)&&this.addEventListener("didUpdate",function(S){var k,j,C,z,$,F=S.delta,V=S.hasLayoutChanged,B=S.hasRelativeTargetChanged,K=S.layout;if(d.isTreeAnimationBlocked()){d.target=void 0,d.relativeTarget=void 0;return}var T=(j=(k=d.options.transition)!==null&&k!==void 0?k:y.getDefaultTransition())!==null&&j!==void 0?j:wH,M=y.getProps(),I=M.onLayoutAnimationStart,q=M.onLayoutAnimationComplete,H=!d.targetLayout||!kO(d.targetLayout,K)||B,te=!V&&B;if(!((C=d.resumeFrom)===null||C===void 0)&&C.instance||te||V&&(H||!d.currentAnimation)){d.resumeFrom&&(d.resumingFrom=d.resumeFrom,d.resumingFrom.resumingFrom=void 0),d.setAnimationOrigin(F,te);var O=Ct(Ct({},fN(T,"layout")),{onPlay:I,onComplete:q});y.shouldReduceMotion&&(O.delay=0,O.type=!1),d.startAnimation(O)}else!V&&d.animationProgress===0&&d.finishAnimation(),d.isLead()&&(($=(z=d.options).onExitComplete)===null||$===void 0||$.call(z));d.targetLayout=K})}},l.prototype.unmount=function(){var c,u;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(c=this.getStack())===null||c===void 0||c.remove(this),(u=this.parent)===null||u===void 0||u.children.delete(this),this.instance=void 0,rm.preRender(this.updateProjection)},l.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},l.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},l.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},l.prototype.isTreeAnimationBlocked=function(){var c;return this.isAnimationBlocked||((c=this.parent)===null||c===void 0?void 0:c.isTreeAnimationBlocked())||!1},l.prototype.startUpdate=function(){var c;this.isUpdateBlocked()||(this.isUpdating=!0,(c=this.nodes)===null||c===void 0||c.forEach(xH))},l.prototype.willUpdate=function(c){var u,d,f;if(c===void 0&&(c=!0),this.root.isUpdateBlocked()){(d=(u=this.options).onExitComplete)===null||d===void 0||d.call(u);return}if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var p=0;p<this.path.length;p++){var x=this.path[p];x.shouldResetTransform=!0,x.updateScroll()}var g=this.options,y=g.layoutId,w=g.layout;if(!(y===void 0&&!w)){var v=(f=this.options.visualElement)===null||f===void 0?void 0:f.getProps().transformTemplate;this.prevTransformTemplateValue=v==null?void 0:v(this.latestValues,""),this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}}},l.prototype.didUpdate=function(){var c=this.isUpdateBlocked();if(c){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(D4);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(jH),this.potentialNodes.clear()),this.nodes.forEach(fH),this.nodes.forEach(uH),this.nodes.forEach(dH),this.clearAllSnapshots(),v1.update(),v1.preRender(),v1.render())},l.prototype.clearAllSnapshots=function(){this.nodes.forEach(hH),this.sharedNodes.forEach(vH)},l.prototype.scheduleUpdateProjection=function(){Al.preRender(this.updateProjection,!1,!0)},l.prototype.scheduleCheckAfterUnmount=function(){var c=this;Al.postRender(function(){c.isLayoutDirty?c.root.didUpdate():c.root.checkUpdateFailed()})},l.prototype.updateSnapshot=function(){if(!(this.snapshot||!this.instance)){var c=this.measure(),u=this.removeTransform(this.removeElementScroll(c));M4(u),this.snapshot={measured:c,layout:u,latestValues:{}}}},l.prototype.updateLayout=function(){var c;if(this.instance&&(this.updateScroll(),!(!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))){if(this.resumeFrom&&!this.resumeFrom.instance)for(var u=0;u<this.path.length;u++){var d=this.path[u];d.updateScroll()}var f=this.measure();M4(f);var p=this.layout;this.layout={measured:f,actual:this.removeElementScroll(f)},this.layoutCorrected=as(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(c=this.options.visualElement)===null||c===void 0||c.notifyLayoutMeasure(this.layout.actual,p==null?void 0:p.actual)}},l.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=s(this.instance),this.scroll=a(this.instance))},l.prototype.resetTransform=function(){var c;if(o){var u=this.isLayoutDirty||this.shouldResetTransform,d=this.projectionDelta&&!SO(this.projectionDelta),f=(c=this.options.visualElement)===null||c===void 0?void 0:c.getProps().transformTemplate,p=f==null?void 0:f(this.latestValues,""),x=p!==this.prevTransformTemplateValue;u&&(d||id(this.latestValues)||x)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}},l.prototype.measure=function(){var c=this.options.visualElement;if(!c)return as();var u=c.measureViewportBox(),d=this.root.scroll;return d&&(sd(u.x,d.x),sd(u.y,d.y)),u},l.prototype.removeElementScroll=function(c){var u=as();bl(u,c);for(var d=0;d<this.path.length;d++){var f=this.path[d],p=f.scroll,x=f.options,g=f.isScrollRoot;if(f!==this.root&&p&&x.layoutScroll){if(g){bl(u,c);var y=this.root.scroll;y&&(sd(u.x,-y.x),sd(u.y,-y.y))}sd(u.x,p.x),sd(u.y,p.y)}}return u},l.prototype.applyTransform=function(c,u){u===void 0&&(u=!1);var d=as();bl(d,c);for(var f=0;f<this.path.length;f++){var p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Mf(d,{x:-p.scroll.x,y:-p.scroll.y}),id(p.latestValues)&&Mf(d,p.latestValues)}return id(this.latestValues)&&Mf(d,this.latestValues),d},l.prototype.removeTransform=function(c){var u,d=as();bl(d,c);for(var f=0;f<this.path.length;f++){var p=this.path[f];if(p.instance&&id(p.latestValues)){mO(p.latestValues)&&p.updateSnapshot();var x=as(),g=p.measure();bl(x,g),C4(d,p.latestValues,(u=p.snapshot)===null||u===void 0?void 0:u.layout,x)}}return id(this.latestValues)&&C4(d,this.latestValues),d},l.prototype.setTargetDelta=function(c){this.targetDelta=c,this.root.scheduleUpdateProjection()},l.prototype.setOptions=function(c){var u;this.options=Ct(Ct(Ct({},this.options),c),{crossfade:(u=c.crossfade)!==null&&u!==void 0?u:!0})},l.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},l.prototype.resolveTargetDelta=function(){var c,u=this.options,d=u.layout,f=u.layoutId;!this.layout||!(d||f)||(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=as(),this.relativeTargetOrigin=as(),Tp(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),bl(this.relativeTarget,this.relativeTargetOrigin))),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=as(),this.targetWithTransforms=as()),this.relativeTarget&&this.relativeTargetOrigin&&(!((c=this.relativeParent)===null||c===void 0)&&c.target)?uq(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.actual):bl(this.target,this.layout.actual),pO(this.target,this.targetDelta)):bl(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&!!this.relativeParent.resumingFrom==!!this.resumingFrom&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=as(),this.relativeTargetOrigin=as(),Tp(this.relativeTargetOrigin,this.target,this.relativeParent.target),bl(this.relativeTarget,this.relativeTargetOrigin)))))},l.prototype.getClosestProjectingParent=function(){if(!(!this.parent||id(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},l.prototype.calcProjection=function(){var c,u=this.options,d=u.layout,f=u.layoutId;if(this.isTreeAnimating=!!(!((c=this.parent)===null||c===void 0)&&c.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!(!this.layout||!(d||f))){var p=this.getLead();bl(this.layoutCorrected,this.layout.actual),yq(this.layoutCorrected,this.treeScale,this.path,!!this.resumingFrom||this!==p);var x=p.target;if(x){this.projectionDelta||(this.projectionDelta=Mp(),this.projectionDeltaWithTransform=Mp());var g=this.treeScale.x,y=this.treeScale.y,w=this.projectionTransform;Op(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=E4(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==g||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}}},l.prototype.hide=function(){this.isVisible=!1},l.prototype.show=function(){this.isVisible=!0},l.prototype.scheduleRender=function(c){var u,d,f;c===void 0&&(c=!0),(d=(u=this.options).scheduleRender)===null||d===void 0||d.call(u),c&&((f=this.getStack())===null||f===void 0||f.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},l.prototype.setAnimationOrigin=function(c,u){var d=this,f;u===void 0&&(u=!1);var p=this.snapshot,x=(p==null?void 0:p.latestValues)||{},g=Ct({},this.latestValues),y=Mp();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!u;var w=as(),v=p==null?void 0:p.isShared,S=(((f=this.getStack())===null||f===void 0?void 0:f.members.length)||0)<=1,k=!!(v&&!S&&this.options.crossfade===!0&&!this.path.some(bH));this.animationProgress=0,this.mixTargetDelta=function(j){var C,z=j/1e3;L4(y.x,c.x,z),L4(y.y,c.y,z),d.setTargetDelta(y),d.relativeTarget&&d.relativeTargetOrigin&&d.layout&&(!((C=d.relativeParent)===null||C===void 0)&&C.layout)&&(Tp(w,d.layout.actual,d.relativeParent.layout.actual),yH(d.relativeTarget,d.relativeTargetOrigin,w,z)),v&&(d.animationValues=g,eH(g,x,d.latestValues,z,k,S)),d.root.scheduleUpdateProjection(),d.scheduleRender(),d.animationProgress=z},this.mixTargetDelta(0)},l.prototype.startAnimation=function(c){var u=this,d,f;this.notifyListeners("animationStart"),(d=this.currentAnimation)===null||d===void 0||d.stop(),this.resumingFrom&&((f=this.resumingFrom.currentAnimation)===null||f===void 0||f.stop()),this.pendingAnimation&&(rm.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Al.update(function(){Ep.hasAnimatedSinceResize=!0,u.currentAnimation=Zq(0,A4,Ct(Ct({},c),{onUpdate:function(p){var x;u.mixTargetDelta(p),(x=c.onUpdate)===null||x===void 0||x.call(c,p)},onComplete:function(){var p;(p=c.onComplete)===null||p===void 0||p.call(c),u.completeAnimation()}})),u.resumingFrom&&(u.resumingFrom.currentAnimation=u.currentAnimation),u.pendingAnimation=void 0})},l.prototype.completeAnimation=function(){var c;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(c=this.getStack())===null||c===void 0||c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},l.prototype.finishAnimation=function(){var c;this.currentAnimation&&((c=this.mixTargetDelta)===null||c===void 0||c.call(this,A4),this.currentAnimation.stop()),this.completeAnimation()},l.prototype.applyTransformsToTarget=function(){var c=this.getLead(),u=c.targetWithTransforms,d=c.target,f=c.layout,p=c.latestValues;!u||!d||!f||(bl(u,d),Mf(u,p),Op(this.projectionDeltaWithTransform,this.layoutCorrected,u,p))},l.prototype.registerSharedNode=function(c,u){var d,f,p;this.sharedNodes.has(c)||this.sharedNodes.set(c,new sH);var x=this.sharedNodes.get(c);x.add(u),u.promote({transition:(d=u.options.initialPromotionConfig)===null||d===void 0?void 0:d.transition,preserveFollowOpacity:(p=(f=u.options.initialPromotionConfig)===null||f===void 0?void 0:f.shouldPreserveFollowOpacity)===null||p===void 0?void 0:p.call(f,u)})},l.prototype.isLead=function(){var c=this.getStack();return c?c.lead===this:!0},l.prototype.getLead=function(){var c,u=this.options.layoutId;return u?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this},l.prototype.getPrevLead=function(){var c,u=this.options.layoutId;return u?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0},l.prototype.getStack=function(){var c=this.options.layoutId;if(c)return this.root.sharedNodes.get(c)},l.prototype.promote=function(c){var u=c===void 0?{}:c,d=u.needsReset,f=u.transition,p=u.preserveFollowOpacity,x=this.getStack();x&&x.promote(this,p),d&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})},l.prototype.relegate=function(){var c=this.getStack();return c?c.relegate(this):!1},l.prototype.resetRotation=function(){var c=this.options.visualElement;if(c){for(var u=!1,d={},f=0;f<Q2.length;f++){var p=Q2[f],x="rotate"+p;c.getStaticValue(x)&&(u=!0,d[x]=c.getStaticValue(x),c.setStaticValue(x,0))}if(u){c==null||c.syncRender();for(var x in d)c.setStaticValue(x,d[x]);c.scheduleRender()}}},l.prototype.getProjectionStyles=function(c){var u,d,f,p,x,g;c===void 0&&(c={});var y={};if(!this.instance||this.isSVG)return y;if(this.isVisible)y.visibility="";else return{visibility:"hidden"};var w=(u=this.options.visualElement)===null||u===void 0?void 0:u.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,y.opacity="",y.pointerEvents=Sx(c.pointerEvents)||"",y.transform=w?w(this.latestValues,""):"none",y;var v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){var S={};return this.options.layoutId&&(S.opacity=(d=this.latestValues.opacity)!==null&&d!==void 0?d:1,S.pointerEvents=Sx(c.pointerEvents)||""),this.hasProjected&&!id(this.latestValues)&&(S.transform=w?w({},""):"none",this.hasProjected=!1),S}var k=v.animationValues||v.latestValues;this.applyTransformsToTarget(),y.transform=E4(this.projectionDeltaWithTransform,this.treeScale,k),w&&(y.transform=w(k,y.transform));var j=this.projectionDelta,C=j.x,z=j.y;y.transformOrigin="".concat(C.origin*100,"% ").concat(z.origin*100,"% 0"),v.animationValues?y.opacity=v===this?(p=(f=k.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:k.opacityExit:y.opacity=v===this?(x=k.opacity)!==null&&x!==void 0?x:"":(g=k.opacityExit)!==null&&g!==void 0?g:0;for(var $ in qx)if(k[$]!==void 0){var F=qx[$],V=F.correct,B=F.applyTo,K=V(k[$],v);if(B)for(var T=B.length,M=0;M<T;M++)y[B[M]]=K;else y[$]=K}return this.options.layoutId&&(y.pointerEvents=v===this?Sx(c.pointerEvents)||"":"none"),y},l.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},l.prototype.resetTree=function(){this.root.nodes.forEach(function(c){var u;return(u=c.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(D4),this.root.sharedNodes.clear()},l}()}function uH(e){e.updateLayout()}function dH(e){var r,n,a,s,o=(n=(r=e.resumeFrom)===null||r===void 0?void 0:r.snapshot)!==null&&n!==void 0?n:e.snapshot;if(e.isLead()&&e.layout&&o&&e.hasListeners("didUpdate")){var l=e.layout,c=l.actual,u=l.measured;e.options.animationType==="size"?lc(function(k){var j=o.isShared?o.measured[k]:o.layout[k],C=cu(j);j.min=c[k].min,j.max=j.min+C}):e.options.animationType==="position"&&lc(function(k){var j=o.isShared?o.measured[k]:o.layout[k],C=cu(c[k]);j.max=j.min+C});var d=Mp();Op(d,c,o.layout);var f=Mp();o.isShared?Op(f,e.applyTransform(u,!0),o.measured):Op(f,c,o.layout);var p=!SO(d),x=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var g=e.relativeParent,y=g.snapshot,w=g.layout;if(y&&w){var v=as();Tp(v,o.layout,y.layout);var S=as();Tp(S,c,w.actual),kO(v,S)||(x=!0)}}e.notifyListeners("didUpdate",{layout:c,snapshot:o,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeTargetChanged:x})}else e.isLead()&&((s=(a=e.options).onExitComplete)===null||s===void 0||s.call(a));e.options.transition=void 0}function hH(e){e.clearSnapshot()}function D4(e){e.clearMeasurements()}function fH(e){var r=e.options.visualElement;r!=null&&r.getProps().onBeforeLayoutMeasure&&r.notifyBeforeLayoutMeasure(),e.resetTransform()}function mH(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function pH(e){e.resolveTargetDelta()}function gH(e){e.calcProjection()}function xH(e){e.resetRotation()}function vH(e){e.removeLeadSnapshot()}function L4(e,r,n){e.translate=wa(r.translate,0,n),e.scale=wa(r.scale,1,n),e.origin=r.origin,e.originPoint=r.originPoint}function O4(e,r,n,a){e.min=wa(r.min,n.min,a),e.max=wa(r.max,n.max,a)}function yH(e,r,n,a){O4(e.x,r.x,n.x,a),O4(e.y,r.y,n.y,a)}function bH(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}var wH={duration:.45,ease:[.4,0,.1,1]};function jH(e,r){for(var n=e.root,a=e.path.length-1;a>=0;a--)if(e.path[a].instance){n=e.path[a];break}var s=n&&n!==e.root?n.instance:document,o=s.querySelector('[data-projection-id="'.concat(r,'"]'));o&&e.mount(o,!0)}function T4(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function M4(e){T4(e.x),T4(e.y)}var NH=CO({attachResizeListener:function(e,r){return gy(e,"resize",r)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),_1={current:void 0},_H=CO({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!_1.current){var e=new NH(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),_1.current=e}return _1.current},resetTransform:function(e,r){e.style.transform=r??"none"},checkIsScrollRoot:function(e){return window.getComputedStyle(e).position==="fixed"}}),SH=Ct(Ct(Ct(Ct({},oq),SU),Pq),Jq),De=v$(function(e,r){return nB(e,r,SH,Wq,_H)});function PO(){var e=N.useRef(!1);return Ux(function(){return e.current=!0,function(){e.current=!1}},[]),e}function kH(){var e=PO(),r=Wn(N.useState(0),2),n=r[0],a=r[1],s=N.useCallback(function(){e.current&&a(n+1)},[n]),o=N.useCallback(function(){return Al.postRender(s)},[s]);return[o,n]}var S1=function(e){var r=e.children,n=e.initial,a=e.isPresent,s=e.onExitComplete,o=e.custom,l=e.presenceAffectsLayout,c=j0(CH),u=iO(),d=N.useMemo(function(){return{id:u,initial:n,isPresent:a,custom:o,onExitComplete:function(f){var p,x;c.set(f,!0);try{for(var g=Vp(c.values()),y=g.next();!y.done;y=g.next()){var w=y.value;if(!w)return}}catch(v){p={error:v}}finally{try{y&&!y.done&&(x=g.return)&&x.call(g)}finally{if(p)throw p.error}}s==null||s()},register:function(f){return c.set(f,!1),function(){return c.delete(f)}}}},l?void 0:[a]);return N.useMemo(function(){c.forEach(function(f,p){return c.set(p,!1)})},[a]),N.useEffect(function(){!a&&!c.size&&(s==null||s())},[a]),N.createElement(w0.Provider,{value:d},r)};function CH(){return new Map}var Ef=function(e){return e.key||""};function PH(e,r){e.forEach(function(n){var a=Ef(n);r.set(a,n)})}function EH(e){var r=[];return N.Children.forEach(e,function(n){N.isValidElement(n)&&r.push(n)}),r}var hr=function(e){var r=e.children,n=e.custom,a=e.initial,s=a===void 0?!0:a,o=e.onExitComplete,l=e.exitBeforeEnter,c=e.presenceAffectsLayout,u=c===void 0?!0:c,d=Wn(kH(),1),f=d[0],p=N.useContext(Yj).forceRender;p&&(f=p);var x=PO(),g=EH(r),y=g,w=new Set,v=N.useRef(y),S=N.useRef(new Map).current,k=N.useRef(!0);if(Ux(function(){k.current=!1,PH(g,S),v.current=y}),aN(function(){k.current=!0,S.clear(),w.clear()}),k.current)return N.createElement(N.Fragment,null,y.map(function(V){return N.createElement(S1,{key:Ef(V),isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:u},V)}));y=yo([],Wn(y),!1);for(var j=v.current.map(Ef),C=g.map(Ef),z=j.length,$=0;$<z;$++){var F=j[$];C.indexOf(F)===-1&&w.add(F)}return l&&w.size&&(y=[]),w.forEach(function(V){if(C.indexOf(V)===-1){var B=S.get(V);if(B){var K=j.indexOf(V),T=function(){S.delete(V),w.delete(V);var M=v.current.findIndex(function(I){return I.key===V});if(v.current.splice(M,1),!w.size){if(v.current=g,x.current===!1)return;f(),o&&o()}};y.splice(K,0,N.createElement(S1,{key:Ef(B),isPresent:!1,onExitComplete:T,custom:n,presenceAffectsLayout:u},B))}}}),y=y.map(function(V){var B=V.key;return w.has(B)?V:N.createElement(S1,{key:Ef(V),isPresent:!0,presenceAffectsLayout:u},V)}),N.createElement(N.Fragment,null,w.size?y:y.map(function(V){return N.cloneElement(V)}))};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EO=(...e)=>e.filter((r,n,a)=>!!r&&a.indexOf(r)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=N.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:s="",children:o,iconNode:l,...c},u)=>N.createElement("svg",{ref:u,...DH,width:r,height:r,stroke:e,strokeWidth:a?Number(n)*24/Number(r):n,className:EO("lucide",s),...c},[...l.map(([d,f])=>N.createElement(d,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=(e,r)=>{const n=N.forwardRef(({className:a,...s},o)=>N.createElement(LH,{ref:o,iconNode:r,className:EO(`lucide-${AH(e)}`,a),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=Ht("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=Ht("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=Ht("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Ht("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Ht("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=Ht("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=Ht("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=Ht("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=Ht("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=Ht("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=Ht("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=Ht("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=Ht("CarFront",[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=Ht("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=Ht("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=Ht("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=Ht("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=Ht("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=Ht("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=Ht("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=Ht("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=Ht("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=Ht("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=Ht("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=Ht("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=Ht("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=Ht("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=Ht("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=Ht("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=Ht("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=Ht("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=Ht("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=Ht("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=Ht("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=Ht("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=Ht("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=Ht("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=Ht("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=Ht("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=Ht("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=Ht("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=Ht("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=Ht("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=Ht("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=Ht("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=Ht("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=Ht("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=Ht("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=Ht("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=Ht("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=Ht("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=Ht("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=Ht("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=Ht("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=Ht("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Ht("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=Ht("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=Ht("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Ht("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=Ht("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=Ht("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=Ht("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=Ht("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=Ht("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=Ht("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=Ht("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=Ht("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=Ht("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=Ht("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=Ht("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=Ht("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=Ht("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=Ht("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var RO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},F4=tt.createContext&&tt.createContext(RO),JH=["attr","size","title"];function ZH(e,r){if(e==null)return{};var n=QH(e,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function QH(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},rv.apply(this,arguments)}function $4(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function nv(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?$4(Object(n),!0).forEach(function(a){eV(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function eV(e,r,n){return r=tV(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function tV(e){var r=rV(e,"string");return typeof r=="symbol"?r:r+""}function rV(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function zO(e){return e&&e.map((r,n)=>tt.createElement(r.tag,nv({key:n},r.attr),zO(r.child)))}function _o(e){return r=>tt.createElement(nV,rv({attr:nv({},e.attr)},r),zO(e.child))}function nV(e){var r=n=>{var{attr:a,size:s,title:o}=e,l=ZH(e,JH),c=s||n.size||"1em",u;return n.className&&(u=n.className),e.className&&(u=(u?u+" ":"")+e.className),tt.createElement("svg",rv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,l,{className:u,style:nv(nv({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&tt.createElement("title",null,o),e.children)};return F4!==void 0?tt.createElement(F4.Consumer,null,n=>r(n)):r(RO)}function av(e){return _o({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(e)}function FO(e){return _o({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.3183118,0.0772036939 C18.5358869,0.132773211 19.3775594,0.311686093 20.156489,0.614412318 C20.9357539,0.917263935 21.5259307,1.30117806 22.1124276,1.88767349 C22.6988355,2.47414659 23.0827129,3.06422396 23.3856819,3.84361655 C23.688357,4.62263666 23.8672302,5.46418415 23.9227984,6.68172489 C23.9916356,8.19170553 24,8.72394829 24,11.9999742 C24,15.2760524 23.9916355,15.808302 23.9227954,17.3182896 C23.8672306,18.5358038 23.6883589,19.3773584 23.3855877,20.1566258 C23.0826716,20.9358162 22.6987642,21.5259396 22.1124276,22.1122749 C21.5259871,22.6987804 20.9357958,23.0827198 20.1563742,23.3856323 C19.3772192,23.6883583 18.5357324,23.8672318 17.3183209,23.9227442 C15.8086874,23.9916325 15.2765626,24 12,24 C8.72343739,24 8.19131258,23.9916325 6.68172382,23.9227463 C5.46426077,23.8672314 4.62270711,23.6883498 3.84342369,23.3855738 C3.0641689,23.0827004 2.47399369,22.6987612 1.88762592,22.1123283 C1.30117312,21.525877 0.91721975,20.9357071 0.614318116,20.1563835 C0.311643016,19.3773633 0.132769821,18.5358159 0.0772038909,17.3183251 C0.0083529426,15.8092887 0,15.2774634 0,11.9999742 C0,8.7225328 0.00835296697,8.19071076 0.0772047368,6.68165632 C0.132769821,5.46418415 0.311643016,4.62263666 0.614362729,3.84350174 C0.91719061,3.06430165 1.30113536,2.4741608 1.88757245,1.88772514 C2.47399369,1.30123879 3.0641689,0.917299613 3.84345255,0.614414972 C4.62236201,0.311696581 5.46409415,0.132773979 6.68163888,0.0772035898 C8.19074867,0.00835221992 8.72252573,0 12,0 C15.2774788,0 15.8092594,0.00835235053 17.3183118,0.0772036939 Z M12,2.66666667 C8.75959504,2.66666667 8.26400713,2.67445049 6.80319929,2.74109814 C5.87614637,2.78341009 5.31952221,2.90172878 4.80947575,3.09995521 C4.37397765,3.26922052 4.09725505,3.44924273 3.77324172,3.77329203 C3.44916209,4.09737087 3.26913181,4.37408574 3.09996253,4.80937168 C2.90169965,5.31965737 2.78340891,5.87618164 2.74109927,6.80321713 C2.67445122,8.26397158 2.66666667,8.75960374 2.66666667,11.9999742 C2.66666667,15.2403924 2.67445121,15.7360281 2.74109842,17.1967643 C2.78340891,18.1238184 2.90169965,18.6803426 3.09990404,19.1904778 C3.26914133,19.6259017 3.44919889,19.9026659 3.77329519,20.2267614 C4.09725505,20.5507573 4.37397765,20.7307795 4.80932525,20.8999863 C5.31971515,21.0982887 5.87621193,21.2165784 6.80323907,21.2588497 C8.26460439,21.3255353 8.76051223,21.3333333 12,21.3333333 C15.2394878,21.3333333 15.7353956,21.3255353 17.1968056,21.2588476 C18.123775,21.216579 18.6802056,21.0982995 19.1905083,20.9000309 C19.6260288,20.7307713 19.9027426,20.5507596 20.2267583,20.226708 C20.5507492,19.9027179 20.7308046,19.6259456 20.9000375,19.1906283 C21.0983009,18.6803412 21.2165908,18.1238118 21.2588986,17.196779 C21.3255376,15.7350718 21.3333333,15.2390126 21.3333333,11.9999742 C21.3333333,8.76098665 21.3255376,8.26493375 21.2589016,6.80323567 C21.2165911,5.87618164 21.0983004,5.31965737 20.9001178,4.80957831 C20.7308131,4.37403932 20.550774,4.09729207 20.2267583,3.77324038 C19.9027658,3.44924868 19.6260264,3.26922777 19.1905015,3.09996643 C18.6803988,2.90171817 18.1238378,2.78341062 17.1967608,2.74109868 C15.7359966,2.67445057 15.2404012,2.66666667 12,2.66666667 Z M12,18.2222222 C8.56356156,18.2222222 5.77777778,15.4364384 5.77777778,12 C5.77777778,8.56356156 8.56356156,5.77777778 12,5.77777778 C15.4364384,5.77777778 18.2222222,8.56356156 18.2222222,12 C18.2222222,15.4364384 15.4364384,18.2222222 12,18.2222222 Z M12,15.5555556 C13.9636791,15.5555556 15.5555556,13.9636791 15.5555556,12 C15.5555556,10.0363209 13.9636791,8.44444444 12,8.44444444 C10.0363209,8.44444444 8.44444444,10.0363209 8.44444444,12 C8.44444444,13.9636791 10.0363209,15.5555556 12,15.5555556 Z M18.2222222,7.11111111 C17.4858426,7.11111111 16.8888889,6.51415744 16.8888889,5.77777778 C16.8888889,5.04139811 17.4858426,4.44444444 18.2222222,4.44444444 C18.9586019,4.44444444 19.5555556,5.04139811 19.5555556,5.77777778 C19.5555556,6.51415744 18.9586019,7.11111111 18.2222222,7.11111111 Z"},child:[]}]})(e)}const aV=(e,r,n,a)=>{var o,l,c,u;const s=[n,{code:r,...a||{}}];if((l=(o=e==null?void 0:e.services)==null?void 0:o.logger)!=null&&l.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);jh(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(u=(c=e==null?void 0:e.services)==null?void 0:c.logger)!=null&&u.warn?e.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},B4={},v5=(e,r,n,a)=>{jh(n)&&B4[n]||(jh(n)&&(B4[n]=new Date),aV(e,r,n,a))},$O=(e,r)=>()=>{if(e.isInitialized)r();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),r()};e.on("initialized",n)}},y5=(e,r,n)=>{e.loadNamespaces(r,$O(e,n))},U4=(e,r,n,a)=>{if(jh(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(r)>-1)return y5(e,n,a);n.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(r,$O(e,a))},iV=(e,r,n={})=>!r.languages||!r.languages.length?(v5(r,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:r.languages}),!0):r.hasLoadedNamespace(e,{lng:n.lng,precheck:(a,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!s(a.isLanguageChangingTo,e))return!1}}),jh=e=>typeof e=="string",sV=e=>typeof e=="object"&&e!==null,oV=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,lV={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},cV=e=>lV[e],uV=e=>e.replace(oV,cV);let b5={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:uV};const dV=(e={})=>{b5={...b5,...e}},hV=()=>b5;let BO;const fV=e=>{BO=e},mV=()=>BO,pV={type:"3rdParty",init(e){dV(e.options.react),fV(e)}},gV=N.createContext();class xV{constructor(){this.usedNamespaces={}}addUsedNamespaces(r){r.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const vV=(e,r)=>{const n=N.useRef();return N.useEffect(()=>{n.current=e},[e,r]),n.current},UO=(e,r,n,a)=>e.getFixedT(r,n,a),yV=(e,r,n,a)=>N.useCallback(UO(e,r,n,a),[e,r,n,a]),mr=(e,r={})=>{var C,z,$,F;const{i18n:n}=r,{i18n:a,defaultNS:s}=N.useContext(gV)||{},o=n||a||mV();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new xV),!o){v5(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const V=(K,T)=>jh(T)?T:sV(T)&&jh(T.defaultValue)?T.defaultValue:Array.isArray(K)?K[K.length-1]:K,B=[V,{},!1];return B.t=V,B.i18n={},B.ready=!1,B}(C=o.options.react)!=null&&C.wait&&v5(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...hV(),...o.options.react,...r},{useSuspense:c,keyPrefix:u}=l;let d=s||((z=o.options)==null?void 0:z.defaultNS);d=jh(d)?[d]:d||["translation"],(F=($=o.reportNamespaces).addUsedNamespaces)==null||F.call($,d);const f=(o.isInitialized||o.initializedStoreOnce)&&d.every(V=>iV(V,o,l)),p=yV(o,r.lng||null,l.nsMode==="fallback"?d:d[0],u),x=()=>p,g=()=>UO(o,r.lng||null,l.nsMode==="fallback"?d:d[0],u),[y,w]=N.useState(x);let v=d.join();r.lng&&(v=`${r.lng}${v}`);const S=vV(v),k=N.useRef(!0);N.useEffect(()=>{const{bindI18n:V,bindI18nStore:B}=l;k.current=!0,!f&&!c&&(r.lng?U4(o,r.lng,d,()=>{k.current&&w(g)}):y5(o,d,()=>{k.current&&w(g)})),f&&S&&S!==v&&k.current&&w(g);const K=()=>{k.current&&w(g)};return V&&(o==null||o.on(V,K)),B&&(o==null||o.store.on(B,K)),()=>{k.current=!1,o&&V&&(V==null||V.split(" ").forEach(T=>o.off(T,K))),B&&o&&B.split(" ").forEach(T=>o.store.off(T,K))}},[o,v]),N.useEffect(()=>{k.current&&f&&w(x)},[o,u,f]);const j=[y,o,f];if(j.t=y,j.i18n=o,j.ready=f,f||!f&&!c)return j;throw new Promise(V=>{r.lng?U4(o,r.lng,d,()=>V()):y5(o,d,()=>V())})},jr={initial:{opacity:0,y:60},animate:{opacity:1,y:0,transition:{duration:.6,ease:[.6,-.05,.01,.99]}}},Ra={initial:{},animate:{transition:{staggerChildren:.1}}},qO=["/admin","/dashboard"],k1=Array.from({length:12}).map((e,r)=>({x:r,y:Math.round(40+Math.sin(r/2)*8+r+Math.random()*5)}));Array.from({length:30}).map((e,r)=>({day:r+1,sales:Math.round(2e3+Math.sin(r/4)*200+r*12+Math.random()*150),baseline:Math.round(1200+Math.cos(r/5)*80+r*4+Math.random()*50)}));const bV=({className:e})=>i.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})}),wV=()=>{const{t:e,i18n:r}=mr(),n=No();if(!!qO.some(c=>n.pathname.startsWith(c)))return null;const s=[{title:e("footer.sections.vehicles.title"),links:[{name:e("footer.sections.vehicles.links.suv"),href:"/cars"},{name:e("footer.sections.vehicles.links.sports"),href:"/cars"},{name:e("footer.sections.vehicles.links.luxury"),href:"/cars"},{name:e("footer.sections.vehicles.links.all"),href:"/cars"}]},{title:e("footer.sections.reservations.title"),links:[{name:e("footer.sections.reservations.links.start"),href:"/cars"},{name:e("footer.sections.reservations.links.howTo"),href:"/how-to-rent"},{name:e("footer.sections.reservations.links.calculator"),href:"/calculator"},{name:e("footer.sections.reservations.links.faq"),href:"/help"}]},{title:e("footer.sections.company.title"),links:[{name:e("footer.sections.company.links.about"),href:"/about"},{name:e("footer.sections.company.links.reviews"),href:"/reviews"},{name:e("footer.sections.company.links.rental-conditions"),href:"/terms"}]}],o=[{icon:bV,href:"https://www.tiktok.com/@level.auto.rental.md",label:e("footer.social.tiktok")},{icon:av,href:"https://www.facebook.com/levelautorental",label:e("footer.social.facebook")},{icon:FO,href:"https://www.instagram.com/level_auto_rental",label:e("footer.social.instagram")}],l=[{icon:Ah,text:"+373 62 000 112",href:"tel:+37362000112"},{icon:jd,text:"level.autorent@yahoo.com",href:"mailto:level.autorent@yahoo.com"},{icon:am,text:"Chisinau, Moldova",href:"#"}];return i.jsx("footer",{className:"border-t border-[#0f0f0f]",style:{background:"linear-gradient(to bottom, #0f0f0f, #1a0f0f)"},children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsx(De.div,{variants:Ra,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"py-16",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-12",children:[i.jsxs(De.div,{variants:jr,className:"lg:col-span-2 space-y-6",children:[i.jsx("div",{className:"flex items-center space-x-4",children:i.jsx("img",{src:"/logo-footer.png",alt:"LevelAutoRental",className:"h-12 w-auto brightness-0 invert"})}),i.jsx("p",{className:"text-gray-300 leading-relaxed max-w-md",children:e("footer.description")}),i.jsx("div",{className:"space-y-4",children:l.map((c,u)=>i.jsxs(De.a,{href:c.href,variants:jr,className:"flex items-center space-x-4 text-gray-300 hover:text-white transition-colors duration-500 group",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-gray-700/20 to-gray-600/20 flex items-center justify-center group-hover:from-gray-600 group-hover:to-gray-500 transition-all duration-500",children:i.jsx(c.icon,{className:"w-5 h-5 text-gray-400 group-hover:text-white transition-colors duration-500"})}),i.jsx("span",{className:"text-sm font-medium",children:c.text})]},u))})]}),i.jsx(De.div,{variants:jr,className:"lg:col-span-2",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-4",children:s.map(c=>i.jsxs(De.div,{variants:jr,className:"space-y-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-white uppercase tracking-wider",children:c.title}),i.jsx("ul",{className:"space-y-3",children:c.links.map(u=>i.jsx("li",{children:i.jsxs(Go,{to:u.href,className:"text-sm text-gray-300 hover:text-white transition-colors duration-500 group flex items-center",children:[i.jsx("span",{children:u.name}),i.jsx(ss,{className:"w-3 h-3 ml-1 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-500"})]})},u.name))})]},c.title))})})]})},r.language),i.jsx(De.div,{variants:jr,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"border-t border-gray-800 py-8",children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[i.jsx("div",{className:"text-gray-400 text-sm",children:i.jsx("p",{children:e("footer.bottom.copyright")})}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("span",{className:"text-gray-400 text-sm font-medium",children:[e("footer.social.follow-us"),":"]}),i.jsx("div",{className:"flex space-x-2",children:o.map(c=>i.jsx(De.a,{href:c.href,className:"w-10 h-10 rounded-xl bg-gradient-to-br from-gray-700/20 to-gray-600/20 hover:from-gray-600 hover:to-gray-500 flex items-center justify-center text-gray-400 hover:text-white transition-all duration-500","aria-label":c.label,children:i.jsx(c.icon,{className:c.icon===av?"w-4 h-4":"w-5 h-5"})},c.label))})]})]})})]})})},Sp=[{code:"ro",iconClass:"fi fi-ro w-5 h-5"},{code:"ru",iconClass:"fi fi-ru w-5 h-5"},{code:"en",iconClass:"fi fi-gb w-5 h-5"}],jV={Benzina:"petrol",Diesel:"diesel",Electric:"electric",Hybrid:"hybrid"},NV=e=>e?(...r)=>e(...r):(...r)=>fetch(...r);class wN extends Error{constructor(r,n="FunctionsError",a){super(r),this.name=n,this.context=a}}class _V extends wN{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class q4 extends wN{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class H4 extends wN{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var w5;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(w5||(w5={}));class SV{constructor(r,{headers:n={},customFetch:a,region:s=w5.Any}={}){this.url=r,this.headers=n,this.region=s,this.fetch=NV(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return cr(this,arguments,void 0,function*(n,a={}){var s;let o,l;try{const{headers:c,method:u,body:d,signal:f,timeout:p}=a;let x={},{region:g}=a;g||(g=this.region);const y=new URL(`${this.url}/${n}`);g&&g!=="any"&&(x["x-region"]=g,y.searchParams.set("forceFunctionRegion",g));let w;d&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",w=d):typeof d=="string"?(x["Content-Type"]="text/plain",w=d):typeof FormData<"u"&&d instanceof FormData?w=d:(x["Content-Type"]="application/json",w=JSON.stringify(d)):w=d;let v=f;p&&(l=new AbortController,o=setTimeout(()=>l.abort(),p),f?(v=l.signal,f.addEventListener("abort",()=>l.abort())):v=l.signal);const S=yield this.fetch(y.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),c),body:w,signal:v}).catch(z=>{throw new _V(z)}),k=S.headers.get("x-relay-error");if(k&&k==="true")throw new q4(S);if(!S.ok)throw new H4(S);let j=((s=S.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),C;return j==="application/json"?C=yield S.json():j==="application/octet-stream"||j==="application/pdf"?C=yield S.blob():j==="text/event-stream"?C=S:j==="multipart/form-data"?C=yield S.formData():C=yield S.text(),{data:C,error:null,response:S}}catch(c){return{data:null,error:c,response:c instanceof H4||c instanceof q4?c.context:void 0}}finally{o&&clearTimeout(o)}})}}var Zi={};const vm=vD(ZF);var zg={},Fg={},$g={},Bg={},Ug={},qg={},V4;function HO(){if(V4)return qg;V4=1,Object.defineProperty(qg,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return qg.default=e,qg}var W4;function VO(){if(W4)return Ug;W4=1,Object.defineProperty(Ug,"__esModule",{value:!0});const r=vm.__importDefault(HO());class n{constructor(s){var o,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,p,x;let g=null,y=null,w=null,v=u.status,S=u.statusText;if(u.ok){if(this.method!=="HEAD"){const z=await u.text();z===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?y=z:y=JSON.parse(z))}const j=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),C=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");j&&C&&C.length>1&&(w=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(g={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,v=406,S="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const j=await u.text();try{g=JSON.parse(j),Array.isArray(g)&&u.status===404&&(y=[],g=null,v=200,S="OK")}catch{u.status===404&&j===""?(v=204,S="No Content"):g={message:j}}if(g&&this.isMaybeSingle&&(!((x=g==null?void 0:g.details)===null||x===void 0)&&x.includes("0 rows"))&&(g=null,v=200,S="OK"),g&&this.shouldThrowOnError)throw new r.default(g)}return{error:g,data:y,count:w,status:v,statusText:S}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,p;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,o)}returns(){return this}overrideTypes(){return this}}return Ug.default=n,Ug}var K4;function WO(){if(K4)return Bg;K4=1,Object.defineProperty(Bg,"__esModule",{value:!0});const r=vm.__importDefault(VO());class n extends r.default{select(s){let o=!1;const l=(s??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:l,foreignTable:c,referencedTable:u=c}={}){const d=u?`${u}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${s}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this}range(s,o,{foreignTable:l,referencedTable:c=l}={}){const u=typeof c>"u"?"offset":`${c}.offset`,d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(d,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:l=!1,buffers:c=!1,wal:u=!1,format:d="text"}={}){var f;const p=[s?"analyze":null,o?"verbose":null,l?"settings":null,c?"buffers":null,u?"wal":null].filter(Boolean).join("|"),x=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${x}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Bg.default=n,Bg}var G4;function jN(){if(G4)return $g;G4=1,Object.defineProperty($g,"__esModule",{value:!0});const r=vm.__importDefault(WO()),n=new RegExp("[,()]");class a extends r.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}in(o,l){const c=Array.from(new Set(l)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:c,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const f=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${d}fts${f}.${l}`),this}match(o){return Object.entries(o).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(o,l,c){return this.url.searchParams.append(o,`not.${l}.${c}`),this}or(o,{foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${o})`),this}filter(o,l,c){return this.url.searchParams.append(o,`${l}.${c}`),this}}return $g.default=a,$g}var Y4;function KO(){if(Y4)return Fg;Y4=1,Object.defineProperty(Fg,"__esModule",{value:!0});const r=vm.__importDefault(jN());class n{constructor(s,{headers:o={},schema:l,fetch:c}){this.url=s,this.headers=new Headers(o),this.schema=l,this.fetch=c}select(s,o){const{head:l=!1,count:c}=o??{},u=l?"HEAD":"GET";let d=!1;const f=(s??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",f),c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:l=!0}={}){var c;const u="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(d.length>0){const f=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new r.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:l=!1,count:c,defaultToNull:u=!0}={}){var d;const f="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((x,g)=>x.concat(Object.keys(g)),[]);if(p.length>0){const x=[...new Set(p)].map(g=>`"${g}"`);this.url.searchParams.set("columns",x.join(","))}}return new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(s,{count:o}={}){var l;const c="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new r.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:s}={}){var o;const l="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new r.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Fg.default=n,Fg}var X4;function kV(){if(X4)return zg;X4=1,Object.defineProperty(zg,"__esModule",{value:!0});const e=vm,r=e.__importDefault(KO()),n=e.__importDefault(jN());class a{constructor(o,{headers:l={},schema:c,fetch:u}={}){this.url=o,this.headers=new Headers(l),this.schemaName=c,this.fetch=u}from(o){const l=new URL(`${this.url}/${o}`);return new r.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new a(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:u=!1,count:d}={}){var f;let p;const x=new URL(`${this.url}/rpc/${o}`);let g;c||u?(p=c?"HEAD":"GET",Object.entries(l).filter(([w,v])=>v!==void 0).map(([w,v])=>[w,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([w,v])=>{x.searchParams.append(w,v)})):(p="POST",g=l);const y=new Headers(this.headers);return d&&y.set("Prefer",`count=${d}`),new n.default({method:p,url:x,headers:y,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return zg.default=a,zg}var J4;function CV(){if(J4)return Zi;J4=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.PostgrestError=Zi.PostgrestBuilder=Zi.PostgrestTransformBuilder=Zi.PostgrestFilterBuilder=Zi.PostgrestQueryBuilder=Zi.PostgrestClient=void 0;const e=vm,r=e.__importDefault(kV());Zi.PostgrestClient=r.default;const n=e.__importDefault(KO());Zi.PostgrestQueryBuilder=n.default;const a=e.__importDefault(jN());Zi.PostgrestFilterBuilder=a.default;const s=e.__importDefault(WO());Zi.PostgrestTransformBuilder=s.default;const o=e.__importDefault(VO());Zi.PostgrestBuilder=o.default;const l=e.__importDefault(HO());return Zi.PostgrestError=l.default,Zi.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:l.default},Zi}var GO=CV();const YO=Qo(GO),PV=xD({__proto__:null,default:YO},[GO]),{PostgrestClient:EV,PostgrestQueryBuilder:Fve,PostgrestFilterBuilder:$ve,PostgrestTransformBuilder:Bve,PostgrestBuilder:Uve,PostgrestError:qve}=YO||PV;class AV{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const a=this.getWebSocketConstructor();return new a(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const DV="2.81.0",LV=`realtime-js/${DV}`,XO="1.0.0",OV="2.0.0",Z4=XO,j5=1e4,TV=1e3,MV=100;var uh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(uh||(uh={}));var Ga;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ga||(Ga={}));var Wo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Wo||(Wo={}));var N5;(function(e){e.websocket="websocket"})(N5||(N5={}));var dh;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(dh||(dh={}));class IV{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(r,n){if(this._isArrayBuffer(r.payload))return n(this._binaryEncodePush(r));if(r.event===this.BROADCAST&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(r));let a=[r.join_ref,r.ref,r.topic,r.event,r.payload];return n(JSON.stringify(a))}_binaryEncodePush(r){const{join_ref:n,ref:a,event:s,topic:o,payload:l}=r,c=this.META_LENGTH+n.length+a.length+o.length+s.length,u=new ArrayBuffer(this.HEADER_LENGTH+c);let d=new DataView(u),f=0;d.setUint8(f++,this.KINDS.push),d.setUint8(f++,n.length),d.setUint8(f++,a.length),d.setUint8(f++,o.length),d.setUint8(f++,s.length),Array.from(n,x=>d.setUint8(f++,x.charCodeAt(0))),Array.from(a,x=>d.setUint8(f++,x.charCodeAt(0))),Array.from(o,x=>d.setUint8(f++,x.charCodeAt(0))),Array.from(s,x=>d.setUint8(f++,x.charCodeAt(0)));var p=new Uint8Array(u.byteLength+l.byteLength);return p.set(new Uint8Array(u),0),p.set(new Uint8Array(l),u.byteLength),p.buffer}_binaryEncodeUserBroadcastPush(r){var n;return this._isArrayBuffer((n=r.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var n,a;const{join_ref:s,ref:o,topic:l}=r,c=r.payload.event,u=(a=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+o.length+l.length+c.length,f=new ArrayBuffer(this.HEADER_LENGTH+d);let p=new DataView(f),x=0;p.setUint8(x++,this.KINDS.userBroadcastPush),p.setUint8(x++,s.length),p.setUint8(x++,o.length),p.setUint8(x++,l.length),p.setUint8(x++,c.length),p.setUint8(x++,this.BINARY_ENCODING),Array.from(s,y=>p.setUint8(x++,y.charCodeAt(0))),Array.from(o,y=>p.setUint8(x++,y.charCodeAt(0))),Array.from(l,y=>p.setUint8(x++,y.charCodeAt(0))),Array.from(c,y=>p.setUint8(x++,y.charCodeAt(0)));var g=new Uint8Array(f.byteLength+u.byteLength);return g.set(new Uint8Array(f),0),g.set(new Uint8Array(u),f.byteLength),g.buffer}_encodeJsonUserBroadcastPush(r){var n,a;const{join_ref:s,ref:o,topic:l}=r,c=r.payload.event,u=(a=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer,p=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+o.length+l.length+c.length,x=new ArrayBuffer(this.HEADER_LENGTH+p);let g=new DataView(x),y=0;g.setUint8(y++,this.KINDS.userBroadcastPush),g.setUint8(y++,s.length),g.setUint8(y++,o.length),g.setUint8(y++,l.length),g.setUint8(y++,c.length),g.setUint8(y++,this.JSON_ENCODING),Array.from(s,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(o,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(l,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(c,v=>g.setUint8(y++,v.charCodeAt(0)));var w=new Uint8Array(x.byteLength+f.byteLength);return w.set(new Uint8Array(x),0),w.set(new Uint8Array(f),x.byteLength),w.buffer}decode(r,n){if(this._isArrayBuffer(r)){let a=this._binaryDecode(r);return n(a)}if(typeof r=="string"){const a=JSON.parse(r),[s,o,l,c,u]=a;return n({join_ref:s,ref:o,topic:l,event:c,payload:u})}return n({})}_binaryDecode(r){const n=new DataView(r),a=n.getUint8(0),s=new TextDecoder;switch(a){case this.KINDS.push:return this._decodePush(r,n,s);case this.KINDS.reply:return this._decodeReply(r,n,s);case this.KINDS.broadcast:return this._decodeBroadcast(r,n,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,n,s)}}_decodePush(r,n,a){const s=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3);let c=this.HEADER_LENGTH+this.META_LENGTH-1;const u=a.decode(r.slice(c,c+s));c=c+s;const d=a.decode(r.slice(c,c+o));c=c+o;const f=a.decode(r.slice(c,c+l));c=c+l;const p=JSON.parse(a.decode(r.slice(c,r.byteLength)));return{join_ref:u,ref:null,topic:d,event:f,payload:p}}_decodeReply(r,n,a){const s=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3),c=n.getUint8(4);let u=this.HEADER_LENGTH+this.META_LENGTH;const d=a.decode(r.slice(u,u+s));u=u+s;const f=a.decode(r.slice(u,u+o));u=u+o;const p=a.decode(r.slice(u,u+l));u=u+l;const x=a.decode(r.slice(u,u+c));u=u+c;const g=JSON.parse(a.decode(r.slice(u,r.byteLength))),y={status:x,response:g};return{join_ref:d,ref:f,topic:p,event:Wo.reply,payload:y}}_decodeBroadcast(r,n,a){const s=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const c=a.decode(r.slice(l,l+s));l=l+s;const u=a.decode(r.slice(l,l+o));l=l+o;const d=JSON.parse(a.decode(r.slice(l,r.byteLength)));return{join_ref:null,ref:null,topic:c,event:u,payload:d}}_decodeUserBroadcast(r,n,a){const s=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3),c=n.getUint8(4);let u=this.HEADER_LENGTH+4;const d=a.decode(r.slice(u,u+s));u=u+s;const f=a.decode(r.slice(u,u+o));u=u+o;const p=a.decode(r.slice(u,u+l));u=u+l;const x=r.slice(u,r.byteLength),g=c===this.JSON_ENCODING?JSON.parse(a.decode(x)):x,y={type:this.BROADCAST,event:f,payload:g};return l>0&&(y.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST,payload:y}}_isArrayBuffer(r){var n;return r instanceof ArrayBuffer||((n=r==null?void 0:r.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class JO{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Rn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Rn||(Rn={}));const Q4=(e,r,n={})=>{var a;const s=(a=n.skipTypes)!==null&&a!==void 0?a:[];return r?Object.keys(r).reduce((o,l)=>(o[l]=RV(l,e,r,s),o),{}):{}},RV=(e,r,n,a)=>{const s=r.find(c=>c.name===e),o=s==null?void 0:s.type,l=n[e];return o&&!a.includes(o)?ZO(o,l):_5(l)},ZO=(e,r)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return BV(r,n)}switch(e){case Rn.bool:return zV(r);case Rn.float4:case Rn.float8:case Rn.int2:case Rn.int4:case Rn.int8:case Rn.numeric:case Rn.oid:return FV(r);case Rn.json:case Rn.jsonb:return $V(r);case Rn.timestamp:return UV(r);case Rn.abstime:case Rn.date:case Rn.daterange:case Rn.int4range:case Rn.int8range:case Rn.money:case Rn.reltime:case Rn.text:case Rn.time:case Rn.timestamptz:case Rn.timetz:case Rn.tsrange:case Rn.tstzrange:return _5(r);default:return _5(r)}},_5=e=>e,zV=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},FV=e=>{if(typeof e=="string"){const r=parseFloat(e);if(!Number.isNaN(r))return r}return e},$V=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(r){return console.log(`JSON parse error: ${r}`),e}return e},BV=(e,r)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>ZO(r,c))}return e},UV=e=>typeof e=="string"?e.replace(" ","T"):e,QO=e=>{const r=new URL(e);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class C1{constructor(r,n,a={},s=j5){this.channel=r,this.event=n,this.payload=a,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var a;return this._hasReceived(r)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var ek;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ek||(ek={}));class Rp{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rp.syncState(this.state,s,o,l),this.pendingDiffs.forEach(u=>{this.state=Rp.syncDiff(this.state,u,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(a.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Rp.syncDiff(this.state,s,o,l),c())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,a,s){const o=this.cloneDeep(r),l=this.transformState(n),c={},u={};return this.map(o,(d,f)=>{l[d]||(u[d]=f)}),this.map(l,(d,f)=>{const p=o[d];if(p){const x=f.map(v=>v.presence_ref),g=p.map(v=>v.presence_ref),y=f.filter(v=>g.indexOf(v.presence_ref)<0),w=p.filter(v=>x.indexOf(v.presence_ref)<0);y.length>0&&(c[d]=y),w.length>0&&(u[d]=w)}else c[d]=f}),this.syncDiff(o,{joins:c,leaves:u},a,s)}static syncDiff(r,n,a,s){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),s||(s=()=>{}),this.map(o,(c,u)=>{var d;const f=(d=r[c])!==null&&d!==void 0?d:[];if(r[c]=this.cloneDeep(u),f.length>0){const p=r[c].map(g=>g.presence_ref),x=f.filter(g=>p.indexOf(g.presence_ref)<0);r[c].unshift(...x)}a(c,f,u)}),this.map(l,(c,u)=>{let d=r[c];if(!d)return;const f=u.map(p=>p.presence_ref);d=d.filter(p=>f.indexOf(p.presence_ref)<0),r[c]=d,s(c,d,u),d.length===0&&delete r[c]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(a=>n(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,a)=>{const s=r[a];return"metas"in s?n[a]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[a]=s,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(tk||(tk={}));var zp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(zp||(zp={}));var Xc;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xc||(Xc={}));class NN{constructor(r,n={config:{}},a){var s,o;if(this.topic=r,this.params=n,this.socket=a,this.bindings={},this.state=Ga.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new C1(this,Wo.join,this.params,this.timeout),this.rejoinTimer=new JO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ga.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ga.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ga.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ga.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ga.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wo.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new Rp(this),this.broadcastEndpointURL=QO(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var a,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ga.closed){const{config:{broadcast:l,presence:c,private:u}}=this.params,d=(s=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(g=>g.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[zp.PRESENCE]&&this.bindings[zp.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,p={},x={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:f}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(g=>r==null?void 0:r(Xc.CHANNEL_ERROR,g)),this._onClose(()=>r==null?void 0:r(Xc.CLOSED)),this.updateJoinPayload(Object.assign({config:x},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket.setAuth(),g===void 0){r==null||r(Xc.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,v=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,S=[];for(let k=0;k<v;k++){const j=w[k],{filter:{event:C,schema:z,table:$,filter:F}}=j,V=g&&g[k];if(V&&V.event===C&&V.schema===z&&V.table===$&&V.filter===F)S.push(Object.assign(Object.assign({},j),{id:V.id}));else{this.unsubscribe(),this.state=Ga.errored,r==null||r(Xc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,r&&r(Xc.SUBSCRIBED);return}}).receive("error",g=>{this.state=Ga.errored,r==null||r(Xc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Xc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,a){return this.state===Ga.joined&&r===zp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,n,a)}async httpSend(r,n,a={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{const d=await c.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(r,n={}){var a,s;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=r,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,u;const d=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((u=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Ga.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wo.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(s=>{a=new C1(this,Wo.leave,{},r),a.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ga.closed,this.bindings={}}async _fetchWithTimeout(r,n,a){const s=new AbortController,o=setTimeout(()=>s.abort(),a),l=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),l}_push(r,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new C1(this,r,n,a);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>MV){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,a){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,a){var s,o;const l=r.toLocaleLowerCase(),{close:c,error:u,leave:d,join:f}=Wo;if(a&&[c,u,d,f].indexOf(l)>=0&&a!==this._joinRef())return;let x=this._onMessage(l,n,a);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var y,w,v;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(w=g.filter)===null||w===void 0?void 0:w.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===l}).map(g=>g.callback(x,a)):(o=this.bindings[l])===null||o===void 0||o.filter(g=>{var y,w,v,S,k,j;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in g){const C=g.id,z=(y=g.filter)===null||y===void 0?void 0:y.event;return C&&((w=n.ids)===null||w===void 0?void 0:w.includes(C))&&(z==="*"||(z==null?void 0:z.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const C=(k=(S=g==null?void 0:g.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return C==="*"||C===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===l}).map(g=>{if(typeof x=="object"&&"ids"in x){const y=x.data,{schema:w,table:v,commit_timestamp:S,type:k,errors:j}=y;x=Object.assign(Object.assign({},{schema:w,table:v,commit_timestamp:S,eventType:k,new:{},old:{},errors:j}),this._getPayloadRecords(y))}g.callback(x,a)})}_isClosed(){return this.state===Ga.closed}_isJoined(){return this.state===Ga.joined}_isJoining(){return this.state===Ga.joining}_isLeaving(){return this.state===Ga.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,a){const s=r.toLocaleLowerCase(),o={type:s,filter:n,callback:a};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(r,n){const a=r.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===a&&NN.isEqual(s.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const a in r)if(r[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Wo.close,{},r)}_onError(r){this._on(Wo.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ga.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Q4(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Q4(r.columns,r.old_record)),n}}const P1=()=>{},Hg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qV=[1e3,2e3,5e3,1e4],HV=1e4,VV=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class WV{constructor(r,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=j5,this.transport=null,this.heartbeatIntervalMs=Hg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=P1,this.ref=0,this.reconnectTimer=null,this.vsn=Z4,this.logger=P1,this.conn=null,this.sendBuffer=[],this.serializer=new IV,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${N5.websocket}`,this.httpEndpoint=QO(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=AV.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},r?this.conn.close(r,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,a){this.logger(r,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case uh.connecting:return dh.Connecting;case uh.open:return dh.Open;case uh.closing:return dh.Closing;default:return dh.Closed}}isConnected(){return this.connectionState()===dh.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const a=`realtime:${r}`,s=this.getChannels().find(o=>o.topic===a);if(s)return s;{const o=new NN(`realtime:${r}`,n,this);return this.channels.push(o),o}}push(r){const{topic:n,event:a,payload:s,ref:o}=r,l=()=>{this.encode(r,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${n} ${a} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(TV,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Hg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:s,payload:o,ref:l}=n,c=l?`(${l})`:"",u=o.status||"";this.log("receive",`${u} ${a} ${s} ${c}`.trim(),o),this.channels.filter(d=>d._isMember(a)).forEach(d=>d._trigger(s,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){if(this.conn){if(this.conn.readyState===uh.open||this.conn.readyState===uh.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Wo.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const a=r.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${r}${a}${s}`}_workerObjectUrl(r){let n;if(r)n=r;else{const a=new Blob([VV],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n;r?n=r:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const s={access_token:n,version:LV};n&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(Wo.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(a=>{try{a(n)}catch(s){this.log("error",`error in ${r} callback`,s)}})}catch(a){this.log("error",`error triggering ${r} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new JO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Hg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,a,s,o,l,c,u,d,f,p,x,g;switch(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(a=r==null?void 0:r.timeout)!==null&&a!==void 0?a:j5,this.heartbeatIntervalMs=(s=r==null?void 0:r.heartbeatIntervalMs)!==null&&s!==void 0?s:Hg.HEARTBEAT_INTERVAL,this.worker=(o=r==null?void 0:r.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=r==null?void 0:r.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=r==null?void 0:r.heartbeatCallback)!==null&&c!==void 0?c:P1,this.vsn=(u=r==null?void 0:r.vsn)!==null&&u!==void 0?u:Z4,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=r==null?void 0:r.reconnectAfterMs)!==null&&d!==void 0?d:y=>qV[y-1]||HV,this.vsn){case XO:this.encode=(f=r==null?void 0:r.encode)!==null&&f!==void 0?f:(y,w)=>w(JSON.stringify(y)),this.decode=(p=r==null?void 0:r.decode)!==null&&p!==void 0?p:(y,w)=>w(JSON.parse(y));break;case OV:this.encode=(x=r==null?void 0:r.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(g=r==null?void 0:r.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}class _N extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function fa(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class KV extends _N{constructor(r,n,a){super(r),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class S5 extends _N{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}const SN=e=>e?(...r)=>e(...r):(...r)=>fetch(...r),GV=()=>Response,k5=e=>{if(Array.isArray(e))return e.map(n=>k5(n));if(typeof e=="function"||e!==Object(e))return e;const r={};return Object.entries(e).forEach(([n,a])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));r[s]=k5(a)}),r},YV=e=>{if(typeof e!="object"||e===null)return!1;const r=Object.getPrototypeOf(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},E1=e=>{var r;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(r=e.error)===null||r===void 0?void 0:r.message)||JSON.stringify(e)},XV=(e,r,n)=>cr(void 0,void 0,void 0,function*(){const a=yield GV();e instanceof a&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const o=e.status||500,l=(s==null?void 0:s.statusCode)||o+"";r(new KV(E1(s),o,l))}).catch(s=>{r(new S5(E1(s),s))}):r(new S5(E1(e),e))}),JV=(e,r,n,a)=>{const s={method:e,headers:(r==null?void 0:r.headers)||{}};return e==="GET"||!a?s:(YV(a)?(s.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),s.body=JSON.stringify(a)):s.body=a,r!=null&&r.duplex&&(s.duplex=r.duplex),Object.assign(Object.assign({},s),n))};function P0(e,r,n,a,s,o){return cr(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(n,JV(r,a,s,o)).then(u=>{if(!u.ok)throw u;return a!=null&&a.noResolveJson?u:u.json()}).then(u=>l(u)).catch(u=>XV(u,c,a))})})}function Qp(e,r,n,a){return cr(this,void 0,void 0,function*(){return P0(e,"GET",r,n,a)})}function _l(e,r,n,a,s){return cr(this,void 0,void 0,function*(){return P0(e,"POST",r,a,s,n)})}function C5(e,r,n,a,s){return cr(this,void 0,void 0,function*(){return P0(e,"PUT",r,a,s,n)})}function ZV(e,r,n,a){return cr(this,void 0,void 0,function*(){return P0(e,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function kN(e,r,n,a,s){return cr(this,void 0,void 0,function*(){return P0(e,"DELETE",r,a,s,n)})}class QV{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}execute(){return cr(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fa(r))return{data:null,error:r};throw r}})}}var eT;class eW{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[eT]="BlobDownloadBuilder",this.promise=null}asStream(){return new QV(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return cr(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fa(r))return{data:null,error:r};throw r}})}}eT=Symbol.toStringTag;const tW={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rW{constructor(r,n={},a,s){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=a,this.fetch=SN(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,n,a,s){return cr(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},rk),s);let c=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(l.upsert)});const u=l.metadata;typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),u&&o.append("metadata",this.encodeMetadata(u)),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),u&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(u))):(o=a,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const d=this._removeEmptyFolders(n),f=this._getFinalPath(d),p=yield(r=="PUT"?C5:_l)(this.fetch,`${this.url}/object/${f}`,o,Object.assign({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(fa(o))return{data:null,error:o};throw o}})}upload(r,n,a){return cr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,a)})}uploadToSignedUrl(r,n,a,s){return cr(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(r),l=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",n);try{let u;const d=Object.assign({upsert:rk.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.append("cacheControl",d.cacheControl)):(u=a,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const p=yield C5(this.fetch,c.toString(),u,{headers:f});return{data:{path:o,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(fa(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(r,n){return cr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield _l(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:s}),l=new URL(this.url+o.url),c=l.searchParams.get("token");if(!c)throw new _N("No token returned by API");return{data:{signedUrl:l.toString(),path:r,token:c},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fa(a))return{data:null,error:a};throw a}})}update(r,n,a){return cr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,a)})}move(r,n,a){return cr(this,void 0,void 0,function*(){try{return{data:yield _l(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fa(s))return{data:null,error:s};throw s}})}copy(r,n,a){return cr(this,void 0,void 0,function*(){try{return{data:{path:(yield _l(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fa(s))return{data:null,error:s};throw s}})}createSignedUrl(r,n,a){return cr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(r),o=yield _l(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const l=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fa(s))return{data:null,error:s};throw s}})}createSignedUrls(r,n,a){return cr(this,void 0,void 0,function*(){try{const s=yield _l(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),o=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fa(s))return{data:null,error:s};throw s}})}download(r,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",c=this._getFinalPath(r),u=()=>Qp(this.fetch,`${this.url}/${s}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new eW(u,this.shouldThrowOnError)}info(r){return cr(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const a=yield Qp(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:k5(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fa(a))return{data:null,error:a};throw a}})}exists(r){return cr(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield ZV(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fa(a)&&a instanceof S5){const s=a.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:a}}throw a}})}getPublicUrl(r,n){const a=this._getFinalPath(r),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&s.push(u);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${a}${d}`)}}}remove(r){return cr(this,void 0,void 0,function*(){try{return{data:yield kN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}})}list(r,n,a){return cr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},tW),n),{prefix:r||""});return{data:yield _l(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},a),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fa(s))return{data:null,error:s};throw s}})}listV2(r,n){return cr(this,void 0,void 0,function*(){try{const a=Object.assign({},r);return{data:yield _l(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fa(a))return{data:null,error:a};throw a}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const tT="2.81.0",rT={"X-Client-Info":`storage-js/${tT}`};class nW{constructor(r,n={},a,s){this.shouldThrowOnError=!1;const o=new URL(r);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rT),n),this.fetch=SN(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return cr(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(r);return{data:yield Qp(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}})}getBucket(r){return cr(this,void 0,void 0,function*(){try{return{data:yield Qp(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}})}createBucket(r){return cr(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield _l(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fa(s))return{data:null,error:s};throw s}})}updateBucket(r,n){return cr(this,void 0,void 0,function*(){try{return{data:yield C5(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fa(a))return{data:null,error:a};throw a}})}emptyBucket(r){return cr(this,void 0,void 0,function*(){try{return{data:yield _l(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}})}deleteBucket(r){return cr(this,void 0,void 0,function*(){try{return{data:yield kN(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class aW{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rT),n),this.fetch=SN(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return cr(this,void 0,void 0,function*(){try{return{data:yield _l(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}})}listBuckets(r){return cr(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&n.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&n.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&n.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&n.set("sortOrder",r.sortOrder),r!=null&&r.search&&n.set("search",r.search);const a=n.toString(),s=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield Qp(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}})}deleteBucket(r){return cr(this,void 0,void 0,function*(){try{return{data:yield kN(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fa(n))return{data:null,error:n};throw n}})}}const CN={"X-Client-Info":`storage-js/${tT}`,"Content-Type":"application/json"};class nT extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function mo(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class A1 extends nT{constructor(r,n,a){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class iW extends nT{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}}var nk;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(nk||(nk={}));const PN=e=>e?(...r)=>e(...r):(...r)=>fetch(...r),sW=e=>{if(typeof e!="object"||e===null)return!1;const r=Object.getPrototypeOf(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ak=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oW=(e,r,n)=>cr(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e.status||500,o=e;if(typeof o.json=="function")o.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";r(new A1(ak(l),s,c))}).catch(()=>{const l=s+"",c=o.statusText||`HTTP ${s} error`;r(new A1(c,s,l))});else{const l=s+"",c=o.statusText||`HTTP ${s} error`;r(new A1(c,s,l))}}else r(new iW(ak(e),e))}),lW=(e,r,n,a)=>{const s={method:e,headers:(r==null?void 0:r.headers)||{}};return a?(sW(a)?(s.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),s.body=JSON.stringify(a)):s.body=a,Object.assign(Object.assign({},s),n)):s};function cW(e,r,n,a,s,o){return cr(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(n,lW(r,a,s,o)).then(u=>{if(!u.ok)throw u;if(a!=null&&a.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>l(u)).catch(u=>oW(u,c,a))})})}function po(e,r,n,a,s){return cr(this,void 0,void 0,function*(){return cW(e,"POST",r,a,s,n)})}class uW{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},CN),n),this.fetch=PN(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return cr(this,void 0,void 0,function*(){try{return{data:(yield po(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mo(n))return{data:null,error:n};throw n}})}getIndex(r,n){return cr(this,void 0,void 0,function*(){try{return{data:yield po(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mo(a))return{data:null,error:a};throw a}})}listIndexes(r){return cr(this,void 0,void 0,function*(){try{return{data:yield po(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mo(n))return{data:null,error:n};throw n}})}deleteIndex(r,n){return cr(this,void 0,void 0,function*(){try{return{data:(yield po(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mo(a))return{data:null,error:a};throw a}})}}class dW{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},CN),n),this.fetch=PN(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return cr(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield po(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mo(n))return{data:null,error:n};throw n}})}getVectors(r){return cr(this,void 0,void 0,function*(){try{return{data:yield po(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mo(n))return{data:null,error:n};throw n}})}listVectors(r){return cr(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield po(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mo(n))return{data:null,error:n};throw n}})}queryVectors(r){return cr(this,void 0,void 0,function*(){try{return{data:yield po(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mo(n))return{data:null,error:n};throw n}})}deleteVectors(r){return cr(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield po(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mo(n))return{data:null,error:n};throw n}})}}class hW{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},CN),n),this.fetch=PN(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return cr(this,void 0,void 0,function*(){try{return{data:(yield po(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mo(n))return{data:null,error:n};throw n}})}getBucket(r){return cr(this,void 0,void 0,function*(){try{return{data:yield po(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mo(n))return{data:null,error:n};throw n}})}listBuckets(){return cr(this,arguments,void 0,function*(r={}){try{return{data:yield po(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mo(n))return{data:null,error:n};throw n}})}deleteBucket(r){return cr(this,void 0,void 0,function*(){try{return{data:(yield po(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mo(n))return{data:null,error:n};throw n}})}}class fW extends hW{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new mW(this.url,this.headers,r,this.fetch)}}class mW extends uW{constructor(r,n,a,s){super(r,n,s),this.vectorBucketName=a}createIndex(r){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return cr(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return cr(this,arguments,void 0,function*(n={}){return r.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return cr(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return cr(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new pW(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class pW extends dW{constructor(r,n,a,s,o){super(r,n,o),this.vectorBucketName=a,this.indexName=s}putVectors(r){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return cr(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return cr(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return cr(this,arguments,void 0,function*(n={}){return r.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return cr(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return cr(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class gW extends nW{constructor(r,n={},a,s){super(r,n,a,s)}from(r){return new rW(this.url,this.headers,r,this.fetch)}get vectors(){return new fW(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new aW(this.url+"/iceberg",this.headers,this.fetch)}}const xW="2.81.0";let kp="";typeof Deno<"u"?kp="deno":typeof document<"u"?kp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kp="react-native":kp="node";const vW={"X-Client-Info":`supabase-js-${kp}/${xW}`},yW={headers:vW},bW={schema:"public"},wW={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jW={},NW=e=>e?(...r)=>e(...r):(...r)=>fetch(...r),_W=()=>Headers,SW=(e,r,n)=>{const a=NW(n),s=_W();return async(o,l)=>{var c;const u=(c=await r())!==null&&c!==void 0?c:e;let d=new s(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),a(o,Object.assign(Object.assign({},l),{headers:d}))}};function kW(e){return e.endsWith("/")?e:e+"/"}function CW(e,r){var n,a;const{db:s,auth:o,realtime:l,global:c}=e,{db:u,auth:d,realtime:f,global:p}=r,x={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},f),l),storage:{},global:Object.assign(Object.assign(Object.assign({},p),c),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(a=c==null?void 0:c.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?x.accessToken=e.accessToken:delete x.accessToken,x}function PW(e){const r=e==null?void 0:e.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(kW(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const aT="2.81.0",Af=30*1e3,P5=3,D1=P5*Af,EW="http://localhost:9999",AW="supabase.auth.token",DW={"X-Client-Info":`gotrue-js/${aT}`},E5="X-Supabase-Api-Version",iT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},LW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,OW=10*60*1e3;class e0 extends Error{constructor(r,n,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function pr(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class TW extends e0{constructor(r,n,a){super(r,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function MW(e){return pr(e)&&e.name==="AuthApiError"}class hh extends e0{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class Nd extends e0{constructor(r,n,a,s){super(r,a,s),this.name=n,this.status=a}}class jl extends Nd{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function IW(e){return pr(e)&&e.name==="AuthSessionMissingError"}class gf extends Nd{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vg extends Nd{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Wg extends Nd{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function RW(e){return pr(e)&&e.name==="AuthImplicitGrantRedirectError"}class ik extends Nd{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class A5 extends Nd{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function L1(e){return pr(e)&&e.name==="AuthRetryableFetchError"}class sk extends Nd{constructor(r,n,a){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class D5 extends Nd{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const iv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ok=` 	
\r=`.split(""),zW=(()=>{const e=new Array(128);for(let r=0;r<e.length;r+=1)e[r]=-1;for(let r=0;r<ok.length;r+=1)e[ok[r].charCodeAt(0)]=-2;for(let r=0;r<iv.length;r+=1)e[iv[r].charCodeAt(0)]=r;return e})();function lk(e,r,n){if(e!==null)for(r.queue=r.queue<<8|e,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(iv[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(iv[a]),r.queuedBits-=6}}function sT(e,r,n){const a=zW[e];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ck(e){const r=[],n=l=>{r.push(String.fromCodePoint(l))},a={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{BW(l,a,n)};for(let l=0;l<e.length;l+=1)sT(e.charCodeAt(l),s,o);return r.join("")}function FW(e,r){if(e<=127){r(e);return}else if(e<=2047){r(192|e>>6),r(128|e&63);return}else if(e<=65535){r(224|e>>12),r(128|e>>6&63),r(128|e&63);return}else if(e<=1114111){r(240|e>>18),r(128|e>>12&63),r(128|e>>6&63),r(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function $W(e,r){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const s=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}FW(a,r)}}function BW(e,r,n){if(r.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=e&31;else if(r.utf8seq===3)r.codepoint=e&15;else if(r.utf8seq===4)r.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|e&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function Vf(e){const r=[],n={queue:0,queuedBits:0},a=s=>{r.push(s)};for(let s=0;s<e.length;s+=1)sT(e.charCodeAt(s),n,a);return new Uint8Array(r)}function UW(e){const r=[];return $W(e,n=>r.push(n)),new Uint8Array(r)}function vh(e){const r=[],n={queue:0,queuedBits:0},a=s=>{r.push(s)};return e.forEach(s=>lk(s,n,a)),lk(null,n,a),r.join("")}function qW(e){return Math.round(Date.now()/1e3)+e}function HW(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const r=Math.random()*16|0;return(e=="x"?r:r&3|8).toString(16)})}const ns=()=>typeof window<"u"&&typeof document<"u",th={tested:!1,writable:!1},oT=()=>{if(!ns())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(th.tested)return th.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),th.tested=!0,th.writable=!0}catch{th.tested=!0,th.writable=!1}return th.writable};function VW(e){const r={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{r[o]=s})}catch{}return n.searchParams.forEach((a,s)=>{r[s]=a}),r}const lT=e=>e?(...r)=>e(...r):(...r)=>fetch(...r),WW=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Df=async(e,r,n)=>{await e.setItem(r,JSON.stringify(n))},rh=async(e,r)=>{const n=await e.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ju=async(e,r)=>{await e.removeItem(r)};class _y{constructor(){this.promise=new _y.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}_y.promiseConstructor=Promise;function O1(e){const r=e.split(".");if(r.length!==3)throw new D5("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!LW.test(r[a]))throw new D5("JWT not in base64url format");return{header:JSON.parse(ck(r[0])),payload:JSON.parse(ck(r[1])),signature:Vf(r[2]),raw:{header:r[0],payload:r[1]}}}async function KW(e){return await new Promise(r=>{setTimeout(()=>r(null),e)})}function GW(e,r){return new Promise((a,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!r(o,null,l)){a(l);return}}catch(l){if(!r(o,l)){s(l);return}}})()})}function YW(e){return("0"+e.toString(16)).substr(-2)}function XW(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*a));return s}return crypto.getRandomValues(r),Array.from(r,YW).join("")}async function JW(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(a);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function ZW(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await JW(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xf(e,r,n=!1){const a=XW();let s=a;n&&(s+="/PASSWORD_RECOVERY"),await Df(e,`${r}-code-verifier`,s);const o=await ZW(a);return[o,a===o?"plain":"s256"]}const QW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function eK(e){const r=e.headers.get(E5);if(!r||!r.match(QW))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function tK(e){if(!e)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(e<=r)throw new Error("JWT has expired")}function rK(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nK=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vf(e){if(!nK.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function T1(){const e={};return new Proxy(e,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function aK(e,r){return new Proxy(e,{get:(n,a,s)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const o=a.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,s)}return!r.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,a,s)}})}function uk(e){return JSON.parse(JSON.stringify(e))}const ah=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),iK=[502,503,504];async function dk(e){var r;if(!WW(e))throw new A5(ah(e),0);if(iK.includes(e.status))throw new A5(ah(e),e.status);let n;try{n=await e.json()}catch(o){throw new hh(ah(o),o)}let a;const s=eK(e);if(s&&s.getTime()>=iT["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new sk(ah(n),e.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new jl}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new sk(ah(n),e.status,n.weak_password.reasons);throw new TW(ah(n),e.status||500,a)}const sK=(e,r,n,a)=>{const s={method:e,headers:(r==null?void 0:r.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),s.body=JSON.stringify(a),Object.assign(Object.assign({},s),n))};async function Ar(e,r,n,a){var s;const o=Object.assign({},a==null?void 0:a.headers);o[E5]||(o[E5]=iT["2024-01-01"].name),a!=null&&a.jwt&&(o.Authorization=`Bearer ${a.jwt}`);const l=(s=a==null?void 0:a.query)!==null&&s!==void 0?s:{};a!=null&&a.redirectTo&&(l.redirect_to=a.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",u=await oK(e,r,n+c,{headers:o,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(u):{data:Object.assign({},u),error:null}}async function oK(e,r,n,a,s,o){const l=sK(r,a,s,o);let c;try{c=await e(n,Object.assign({},l))}catch(u){throw console.error(u),new A5(ah(u),0)}if(c.ok||await dk(c),a!=null&&a.noResolveJson)return c;try{return await c.json()}catch(u){await dk(u)}}function Nl(e){var r;let n=null;uK(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=qW(e.expires_in)));const a=(r=e.user)!==null&&r!==void 0?r:e;return{data:{session:n,user:a},error:null}}function hk(e){const r=Nl(e);return!r.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(r.data.weak_password=e.weak_password),r}function cd(e){var r;return{data:{user:(r=e.user)!==null&&r!==void 0?r:e},error:null}}function lK(e){return{data:e,error:null}}function cK(e){const{action_link:r,email_otp:n,hashed_token:a,redirect_to:s,verification_type:o}=e,l=xi(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:r,email_otp:n,hashed_token:a,redirect_to:s,verification_type:o},u=Object.assign({},l);return{data:{properties:c,user:u},error:null}}function fk(e){return e}function uK(e){return e.access_token&&e.refresh_token&&e.expires_in}const M1=["global","local","others"];class dK{constructor({url:r="",headers:n={},fetch:a}){this.url=r,this.headers=n,this.fetch=lT(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=M1[0]){if(M1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${M1.join(", ")}`);try{return await Ar(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(pr(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,n={}){try{return await Ar(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:cd})}catch(a){if(pr(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:n}=r,a=xi(r,["options"]),s=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(s.new_email=a==null?void 0:a.newEmail,delete s.newEmail),await Ar(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:cK,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(pr(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await Ar(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:cd})}catch(n){if(pr(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,a,s,o,l,c,u;try{const d={nextPage:null,lastPage:0,total:0},f=await Ar(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(o=(s=r==null?void 0:r.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:fk});if(f.error)throw f.error;const p=await f.json(),x=(l=f.headers.get("x-total-count"))!==null&&l!==void 0?l:0,g=(u=(c=f.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return g.length>0&&(g.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);d[`${v}Page`]=w}),d.total=parseInt(x)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(pr(d))return{data:{users:[]},error:d};throw d}}async getUserById(r){vf(r);try{return await Ar(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:cd})}catch(n){if(pr(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){vf(r);try{return await Ar(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:cd})}catch(a){if(pr(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,n=!1){vf(r);try{return await Ar(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:cd})}catch(a){if(pr(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){vf(r.userId);try{const{data:n,error:a}=await Ar(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:a}}catch(n){if(pr(n))return{data:null,error:n};throw n}}async _deleteFactor(r){vf(r.userId),vf(r.id);try{return{data:await Ar(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(pr(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,a,s,o,l,c,u;try{const d={nextPage:null,lastPage:0,total:0},f=await Ar(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(o=(s=r==null?void 0:r.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:fk});if(f.error)throw f.error;const p=await f.json(),x=(l=f.headers.get("x-total-count"))!==null&&l!==void 0?l:0,g=(u=(c=f.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return g.length>0&&(g.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);d[`${v}Page`]=w}),d.total=parseInt(x)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(pr(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(r){try{return await Ar(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pr(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await Ar(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pr(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await Ar(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(pr(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(r){try{return await Ar(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(pr(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await Ar(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pr(n))return{data:null,error:n};throw n}}}function mk(e={}){return{getItem:r=>e[r]||null,setItem:(r,n)=>{e[r]=n},removeItem:r=>{delete e[r]}}}const yf={debug:!!(globalThis&&oT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cT extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class hK extends cT{}async function fK(e,r,n){yf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),yf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async s=>{if(s){yf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{yf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(r===0)throw yf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new hK(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(yf.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function mK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function uT(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function pK(e){return parseInt(e,16)}function gK(e){const r=new TextEncoder().encode(e);return"0x"+Array.from(r,a=>a.toString(16).padStart(2,"0")).join("")}function xK(e){var r;const{chainId:n,domain:a,expirationTime:s,issuedAt:o=new Date,nonce:l,notBefore:c,requestId:u,resources:d,scheme:f,uri:p,version:x}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((r=e.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=uT(e.address),y=f?`${f}://${a}`:a,w=e.statement?`${e.statement}
`:"",v=`${y} wants you to sign in with your Ethereum account:
${g}

${w}`;let S=`URI: ${p}
Version: ${x}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(s&&(S+=`
Expiration Time: ${s.toISOString()}`),c&&(S+=`
Not Before: ${c.toISOString()}`),u&&(S+=`
Request ID: ${u}`),d){let k=`
Resources:`;for(const j of d){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);k+=`
- ${j}`}S+=k}return`${v}
${S}`}class Ma extends Error{constructor({message:r,code:n,cause:a,name:s}){var o;super(r,{cause:a}),this.__isWebAuthnError=!0,this.name=(o=s??(a instanceof Error?a.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class sv extends Ma{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function vK({error:e,options:r}){var n,a,s;const{publicKey:o}=r;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ma({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ma({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(r.mediation==="conditional"&&((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ma({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ma({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ma({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ma({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Ma({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ma({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(dT(l)){if(o.rp.id!==l)return new Ma({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ma({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ma({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ma({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ma({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function yK({error:e,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ma({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ma({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(dT(a)){if(n.rpId!==a)return new Ma({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ma({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ma({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ma({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class bK{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const wK=new bK;function jK(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:r,user:n,excludeCredentials:a}=e,s=xi(e,["challenge","user","excludeCredentials"]),o=Vf(r).buffer,l=Object.assign(Object.assign({},n),{id:Vf(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:o,user:l});if(a&&a.length>0){c.excludeCredentials=new Array(a.length);for(let u=0;u<a.length;u++){const d=a[u];c.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:Vf(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return c}function NK(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:r,allowCredentials:n}=e,a=xi(e,["challenge","allowCredentials"]),s=Vf(r).buffer,o=Object.assign(Object.assign({},a),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},c),{id:Vf(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function _K(e){var r;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:vh(new Uint8Array(e.response.attestationObject)),clientDataJSON:vh(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function SK(e){var r;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:vh(new Uint8Array(s.authenticatorData)),clientDataJSON:vh(new Uint8Array(s.clientDataJSON)),signature:vh(new Uint8Array(s.signature)),userHandle:s.userHandle?vh(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function dT(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function pk(){var e,r;return!!(ns()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function kK(e){try{const r=await navigator.credentials.create(e);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new sv("Browser returned unexpected credential type",r)}:{data:null,error:new sv("Empty credential response",r)}}catch(r){return{data:null,error:vK({error:r,options:e})}}}async function CK(e){try{const r=await navigator.credentials.get(e);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new sv("Browser returned unexpected credential type",r)}:{data:null,error:new sv("Empty credential response",r)}}catch(r){return{data:null,error:yK({error:r,options:e})}}}const PK={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},EK={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ov(...e){const r=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),a={};for(const s of e)if(s)for(const o in s){const l=s[o];if(l!==void 0)if(Array.isArray(l))a[o]=l;else if(n(l))a[o]=l;else if(r(l)){const c=a[o];r(c)?a[o]=ov(c,l):a[o]=ov(l)}else a[o]=l}return a}function AK(e,r){return ov(PK,e,r||{})}function DK(e,r){return ov(EK,e,r||{})}class LK{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:a,signal:s},o){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!l)return{data:null,error:c};const u=s??wK.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${a}`),d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=AK(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:f,error:p}=await kK({publicKey:d,signal:u});return f?{data:{factorId:r,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}case"request":{const d=DK(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:f,error:p}=await CK(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:r,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}}}catch(l){return pr(l)?{data:null,error:l}:{data:null,error:new hh("Unexpected error in challenge",l)}}}async _verify({challengeId:r,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:a})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new e0("rpId is required for WebAuthn authentication")};try{if(!pk())return{data:null,error:new hh("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:a},signal:s},{request:o});if(!l)return{data:null,error:c};const{webauthn:u}=l;return this._verify({factorId:r,challengeId:l.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:a,credential_response:u.credential_response}})}catch(l){return pr(l)?{data:null,error:l}:{data:null,error:new hh("Unexpected error in authenticate",l)}}}async _register({friendlyName:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new e0("rpId is required for WebAuthn registration")};try{if(!pk())return{data:null,error:new hh("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:r});if(!l)return await this.client.mfa.listFactors().then(f=>{var p;return(p=f.data)===null||p===void 0?void 0:p.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===r&&x.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:c};const{data:u,error:d}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:s},{create:o});return u?this._verify({factorId:l.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:a,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(l){return pr(l)?{data:null,error:l}:{data:null,error:new hh("Unexpected error in register",l)}}}}mK();const OK={url:EW,storageKey:AW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function gk(e,r,n){return await n()}const bf={};class t0{get jwks(){var r,n;return(n=(r=bf[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){bf[this.storageKey]=Object.assign(Object.assign({},bf[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=bf[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){bf[this.storageKey]=Object.assign(Object.assign({},bf[this.storageKey]),{cachedAt:r})}constructor(r){var n,a,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},OK),r);if(this.storageKey=o.storageKey,this.instanceID=(n=t0.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,t0.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&ns()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new dK({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=lT(o.fetch),this.lock=o.lock||gk,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:ns()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=fK:this.lock=gk,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new LK(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:oT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mk(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=mk(this.memoryStorage)),ns()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${aT}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},a="none";if(ns()&&(n=VW(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),ns()&&this.detectSessionInUrl&&a!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,a);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),RW(o)){const u=(r=o.details)===null||r===void 0?void 0:r.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return pr(n)?this._returnResult({error:n}):this._returnResult({error:new hh("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,a,s;try{const o=await Ar(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.captchaToken}},xform:Nl}),{data:l,error:c}=o;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const u=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(o){if(pr(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(r){var n,a,s;try{let o;if("email"in r){const{email:f,password:p,options:x}=r;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await xf(this.storage,this.storageKey)),o=await Ar(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:f,password:p,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:g,code_challenge_method:y},xform:Nl})}else if("phone"in r){const{phone:f,password:p,options:x}=r;o=await Ar(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(a=x==null?void 0:x.data)!==null&&a!==void 0?a:{},channel:(s=x==null?void 0:x.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Nl})}else throw new Vg("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const u=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(o){if(pr(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(r){try{let n;if("email"in r){const{email:o,password:l,options:c}=r;n=await Ar(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:hk})}else if("phone"in r){const{phone:o,password:l,options:c}=r;n=await Ar(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:hk})}else throw new Vg("You must provide either an email or phone number and a password");const{data:a,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!a||!a.session||!a.user){const o=new gf;return this._returnResult({data:{user:null,session:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:s})}catch(n){if(pr(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,a,s,o;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(s=r.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=r.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,a,s,o,l,c,u,d,f,p,x;let g,y;if("message"in r)g=r.message,y=r.signature;else{const{chain:w,wallet:v,statement:S,options:k}=r;let j;if(ns())if(typeof v=="object")j=v;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")j=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=v}const C=new URL((n=k==null?void 0:k.url)!==null&&n!==void 0?n:window.location.href),z=await j.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!z||z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=uT(z[0]);let F=(a=k==null?void 0:k.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!F){const B=await j.request({method:"eth_chainId"});F=pK(B)}const V={domain:C.host,address:$,statement:S,uri:C.href,version:"1",chainId:F,nonce:(s=k==null?void 0:k.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(o=k==null?void 0:k.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=k==null?void 0:k.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=k==null?void 0:k.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=k==null?void 0:k.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(f=k==null?void 0:k.signInWithEthereum)===null||f===void 0?void 0:f.resources};g=xK(V),y=await j.request({method:"personal_sign",params:[gK(g),$]})}try{const{data:w,error:v}=await Ar(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:y},!((p=r.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(x=r.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Nl});if(v)throw v;if(!w||!w.session||!w.user){const S=new gf;return this._returnResult({data:{user:null,session:null},error:S})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:v})}catch(w){if(pr(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(r){var n,a,s,o,l,c,u,d,f,p,x,g;let y,w;if("message"in r)y=r.message,w=r.signature;else{const{chain:v,wallet:S,statement:k,options:j}=r;let C;if(ns())if(typeof S=="object")C=S;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))C=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=S}const z=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const $=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),k?{statement:k}:null));let F;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")F=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)F=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)y=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),w=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${z.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(s=(a=j==null?void 0:j.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=j==null?void 0:j.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((u=j==null?void 0:j.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((d=j==null?void 0:j.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((p=(f=j==null?void 0:j.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...j.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const $=await C.signMessage(new TextEncoder().encode(y),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=$}}try{const{data:v,error:S}=await Ar(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:vh(w)},!((x=r.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(g=r.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Nl});if(S)throw S;if(!v||!v.session||!v.user){const k=new gf;return this._returnResult({data:{user:null,session:null},error:k})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:S})}catch(v){if(pr(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(r){const n=await rh(this.storage,`${this.storageKey}-code-verifier`),[a,s]=(n??"").split("/");try{const{data:o,error:l}=await Ar(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:Nl});if(await Ju(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const c=new gf;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(pr(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(r){try{const{options:n,provider:a,token:s,access_token:o,nonce:l}=r,c=await Ar(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Nl}),{data:u,error:d}=c;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const f=new gf;return this._returnResult({data:{user:null,session:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:d})}catch(n){if(pr(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,a,s,o,l;try{if("email"in r){const{email:c,options:u}=r;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await xf(this.storage,this.storageKey));const{error:p}=await Ar(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(a=u==null?void 0:u.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in r){const{phone:c,options:u}=r,{data:d,error:f}=await Ar(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(o=u==null?void 0:u.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(l=u==null?void 0:u.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f})}throw new Vg("You must provide either an email or phone number.")}catch(c){if(pr(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(r){var n,a;try{let s,o;"options"in r&&(s=(n=r.options)===null||n===void 0?void 0:n.redirectTo,o=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:l,error:c}=await Ar(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Nl});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const u=l.session,d=l.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(s){if(pr(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(r){var n,a,s;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await xf(this.storage,this.storageKey));const c=await Ar(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((s=r==null?void 0:r.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:lK});return this._returnResult(c)}catch(o){if(pr(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;if(a)throw a;if(!n)throw new jl;const{error:s}=await Ar(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(r){if(pr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:a,type:s,options:o}=r,{error:l}=await Ar(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in r){const{phone:a,type:s,options:o}=r,{data:l,error:c}=await Ar(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new Vg("You must provide either an email or phone number and a type")}catch(n){if(pr(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await rh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<D1:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const l=await rh(this.userStorage,this.storageKey+"-user");l!=null&&l.user?r.user=l.user:r.user=T1()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};r.user=aK(r.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:s,error:o}=await this._callRefreshToken(r.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await Ar(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:cd}):await this._useSession(async n=>{var a,s,o;const{data:l,error:c}=n;if(c)throw c;return!(!((a=l.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jl}:await Ar(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:cd})})}catch(n){if(pr(n))return IW(n)&&(await this._removeSession(),await Ju(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async a=>{const{data:s,error:o}=a;if(o)throw o;if(!s.session)throw new jl;const l=s.session;let c=null,u=null;this.flowType==="pkce"&&r.email!=null&&([c,u]=await xf(this.storage,this.storageKey));const{data:d,error:f}=await Ar(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:cd});if(f)throw f;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(a){if(pr(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new jl;const n=Date.now()/1e3;let a=n,s=!0,o=null;const{payload:l}=O1(r.access_token);if(l.exp&&(a=l.exp,s=a<=n),s){const{data:c,error:u}=await this._callRefreshToken(r.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:u}=await this._getUser(r.access_token);if(u)throw u;o={access_token:r.access_token,refresh_token:r.refresh_token,user:c.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(pr(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var a;if(!r){const{data:l,error:c}=n;if(c)throw c;r=(a=l.session)!==null&&a!==void 0?a:void 0}if(!(r!=null&&r.refresh_token))throw new jl;const{data:s,error:o}=await this._callRefreshToken(r.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(pr(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!ns())throw new Wg("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Wg(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ik("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wg("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new ik("No code detected.");const{data:k,error:j}=await this._exchangeCodeForSession(r.code);if(j)throw j;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:c,expires_at:u,token_type:d}=r;if(!o||!c||!l||!d)throw new Wg("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(c);let x=f+p;u&&(x=parseInt(u));const g=x-f;g*1e3<=Af&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);const y=x-p;f-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,x,f):f-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,x,f);const{data:w,error:v}=await this._getUser(o);if(v)throw v;const S={provider_token:a,provider_refresh_token:s,access_token:o,expires_in:p,expires_at:x,refresh_token:l,token_type:d,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:S,redirectType:r.type},error:null})}catch(a){if(pr(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await rh(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:s,error:o}=n;if(o)return this._returnResult({error:o});const l=(a=s.session)===null||a===void 0?void 0:a.access_token;if(l){const{error:c}=await this.admin.signOut(l,r);if(c&&!(MW(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return r!=="others"&&(await this._removeSession(),await Ju(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=HW(),a={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async n=>{var a,s;try{const{data:{session:o},error:l}=n;if(l)throw l;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",r,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(r))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",o),console.error(o)}})}async resetPasswordForEmail(r,n={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=await xf(this.storage,this.storageKey,!0));try{return await Ar(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(pr(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var r;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(pr(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:a,error:s}=await this._useSession(async o=>{var l,c,u,d,f;const{data:p,error:x}=o;if(x)throw x;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(l=r.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=r.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=r.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Ar(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return ns()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:r.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(pr(a))return this._returnResult({data:{provider:r.provider,url:null},error:a});throw a}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var a;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:l,provider:c,token:u,access_token:d,nonce:f}=r,p=await Ar(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=o==null?void 0:o.access_token)!==null&&a!==void 0?a:void 0,body:{provider:c,id_token:u,access_token:d,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Nl}),{data:x,error:g}=p;return g?this._returnResult({data:{user:null,session:null},error:g}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new gf}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:g}))}catch(s){if(pr(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var a,s;const{data:o,error:l}=n;if(l)throw l;return await Ar(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(s=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(pr(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await GW(async s=>(s>0&&await KW(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Ar(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Nl})),(s,o)=>{const l=200*Math.pow(2,s);return o&&L1(o)&&Date.now()+l-a<Af})}catch(a){if(this._debug(n,"error",a),pr(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",a),ns()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const s=await rh(this.storage,this.storageKey);if(s&&this.userStorage){let l=await rh(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await Df(this.userStorage,this.storageKey+"-user",l)),s.user=(r=l==null?void 0:l.user)!==null&&r!==void 0?r:T1()}else if(s&&!s.user&&!s.user){const l=await rh(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await Ju(this.storage,this.storageKey+"-user"),await Df(this.storage,this.storageKey,s)):s.user=T1()}if(this._debug(a,"session from storage",s),!this._isValidSession(s)){this._debug(a,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<D1;if(this._debug(a,`session has${o?"":" not"} expired with margin of ${D1}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),L1(l)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(s.access_token);!c&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(a,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(a,"error",s),console.error(s);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var n,a;if(!r)throw new jl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new _y;const{data:o,error:l}=await this._refreshAccessToken(r);if(l)throw l;if(!o.session)throw new jl;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),pr(o)){const l={data:null,error:o};return L1(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(r,n,a=!0){const s=`#_notifyAllSubscribers(${r})`;this._debug(s,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(r,n)}catch(u){o.push(u)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const n=Object.assign({},r),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await Df(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=uk(s);await Df(this.storage,this.storageKey,o)}else{const s=uk(n);await Df(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ju(this.storage,this.storageKey),await Ju(this.storage,this.storageKey+"-code-verifier"),await Ju(this.storage,this.storageKey+"-user"),this.userStorage&&await Ju(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&ns()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Af);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((a.expires_at*1e3-r)/Af);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Af}ms, refresh threshold is ${P5} ticks`),s<=P5&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof cT)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ns()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,a){const s=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&s.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&s.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[o,l]=await xf(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(a!=null&&a.queryParams){const o=new URLSearchParams(a.queryParams);s.push(o.toString())}return a!=null&&a.skipBrowserRedirect&&s.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${s.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var a;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await Ar(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(pr(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var a,s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:u,error:d}=await Ar(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});return d?this._returnResult({data:null,error:d}):(r.factorType==="totp"&&u.type==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(pr(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?_K(r.webauthn.credential_response):SK(r.webauthn.credential_response)})}:{code:r.code}),{data:c,error:u}=await Ar(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:l,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:u}))})}catch(n){if(pr(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=await Ar(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:jK(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:NK(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(pr(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:a}=await this._challenge({factorId:r.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(r=n==null?void 0:n.factors)!==null&&r!==void 0?r:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:a},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=O1(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;return s?this._returnResult({data:null,error:s}):a?await Ar(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new jl})})}catch(n){if(pr(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async a=>{const{data:{session:s},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new jl});const l=await Ar(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&ns()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(a){if(pr(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(r,n){try{return await this._useSession(async a=>{const{data:{session:s},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new jl});const l=await Ar(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&ns()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(a){if(pr(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(r,n={keys:[]}){let a=n.keys.find(c=>c.kid===r);if(a)return a;const s=Date.now();if(a=this.jwks.keys.find(c=>c.kid===r),a&&this.jwks_cached_at+OW>s)return a;const{data:o,error:l}=await Ar(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,a=o.keys.find(c=>c.kid===r),!a)?null:a}async getClaims(r,n={}){try{let a=r;if(!a){const{data:g,error:y}=await this.getSession();if(y||!g.session)return this._returnResult({data:null,error:y});a=g.session.access_token}const{header:s,payload:o,signature:l,raw:{header:c,payload:u}}=O1(a);n!=null&&n.allowExpired||tK(o.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:g}=await this.getUser(a);if(g)throw g;return{data:{claims:o,header:s,signature:l},error:null}}const f=rK(s.alg),p=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,l,UW(`${c}.${u}`)))throw new D5("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(a){if(pr(a))return this._returnResult({data:null,error:a});throw a}}}t0.nextInstanceID={};const TK=t0;class MK extends TK{constructor(r){super(r)}}class IK{constructor(r,n,a){var s,o,l;this.supabaseUrl=r,this.supabaseKey=n;const c=PW(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:bW,realtime:jW,auth:Object.assign(Object.assign({},wW),{storageKey:u}),global:yW},f=CW(a??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=f.auth)!==null&&l!==void 0?l:{},this.headers,f.global.fetch),this.fetch=SW(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new EV(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new gW(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new SV(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,a)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:a,storage:s,userStorage:o,storageKey:l,flowType:c,lock:u,debug:d,throwOnError:f},p,x){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new MK({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),p),storageKey:l,autoRefreshToken:r,persistSession:n,detectSessionInUrl:a,storage:s,userStorage:o,flowType:c,lock:u,debug:d,throwOnError:f,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new WV(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(r,n,a){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hT=(e,r,n)=>new IK(e,r,n);function RK(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}RK()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const fT="https://akeraamxcaazrtvxkbkt.supabase.co",zK="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFrZXJhYW14Y2FhenJ0dnhrYmt0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIwMDAzOTgsImV4cCI6MjA3NzU3NjM5OH0.9MNxNf3dmspdrLtUpgyPw1nuSIRKQJRb47sFib55ljM",FK="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFrZXJhYW14Y2FhenJ0dnhrYmt0Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MjAwMDM5OCwiZXhwIjoyMDc3NTc2Mzk4fQ.8YEzMG2xTc-M97RuxL7IuMYpLq_0Ws-oaVKX3nk7jHA",Rt=hT(fT,zK,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),Dl=hT(fT,FK),Nh=Object.freeze(Object.defineProperty({__proto__:null,supabase:Rt,supabaseAdmin:Dl},Symbol.toStringTag,{value:"Module"}));function yc(){const[e,r]=N.useState(null),[n,a]=N.useState(null),[s,o]=N.useState(null),[l,c]=N.useState(!0),[u,d]=N.useState(!1),f=N.useRef(new Map),p=N.useRef(!1),x=N.useCallback(async k=>{if(f.current.has(k)){const j=f.current.get(k);o(j||null),d(!0);return}if(!p.current){p.current=!0;try{const j=new Promise((V,B)=>setTimeout(()=>B(new Error("Profile fetch timeout")),2e3)),C=Rt.from("Profiles").select("id, email, first_name, last_name, phone_number, role").eq("id",k).maybeSingle();let z;try{z=await Promise.race([C,j])}catch(V){console.error(" Profile fetch failed:",(V==null?void 0:V.message)||V),o(null),d(!0),p.current=!1;return}const{data:$,error:F}=z;if(F){console.error(" Error fetching profile:",F),console.error("Error details:",{message:F.message,details:F.details,hint:F.hint,code:F.code}),o(null),d(!0);return}if($){const V=$;o(V),f.current.set(k,V)}else o(null),f.current.set(k,null);d(!0),p.current=!1}catch(j){console.error(" Exception fetching user profile:",j),o(null),d(!0),p.current=!1}}},[]);N.useEffect(()=>{Rt.auth.getSession().then(({data:{session:j}})=>{a(j),r((j==null?void 0:j.user)??null),c(!1),j!=null&&j.user?x(j.user.id):(o(null),d(!0))});const{data:{subscription:k}}=Rt.auth.onAuthStateChange((j,C)=>{a(C),r((C==null?void 0:C.user)??null),c(!1),C!=null&&C.user&&(j==="SIGNED_IN"||j==="TOKEN_REFRESHED"||j==="USER_UPDATED")?(d(!1),x(C.user.id)):C!=null&&C.user||(o(null),d(!0),p.current=!1)});return()=>k.unsubscribe()},[x]);const g=async(k,j)=>{const{data:C,error:z}=await Rt.auth.signInWithPassword({email:k,password:j});return{data:C,error:z}},y=async(k,j)=>{var F;const{data:C,error:z}=await Rt.auth.signUp({email:k,password:j});return z?{error:z}:{userId:(F=C.user)==null?void 0:F.id,data:C}},w=async()=>{const{error:k}=await Rt.auth.signOut();return{error:k}},v=async k=>{const{data:j,error:C}=await Rt.auth.resetPasswordForEmail(k,{redirectTo:`${window.location.origin}/auth/reset-password`});return{data:j,error:C}},S=N.useMemo(()=>{var F;const k=((F=s==null?void 0:s.role)==null?void 0:F.toUpperCase())||"",j=k==="ADMIN"||k==="MODERATOR",C=[],z=e!=null&&e.email?C.includes(e.email):!1;return j||z},[s,e==null?void 0:e.email]);return{user:e,session:n,loading:l,roleLoaded:u,signIn:g,signUp:y,signOut:w,resetPassword:v,isAuthenticated:!!e,userProfile:s,userRole:(s==null?void 0:s.role)||null,isAdmin:S}}const mT=N.createContext(void 0),$K=({children:e})=>{const[r,n]=N.useState(19.82),[a,s]=N.useState(17),[o,l]=N.useState(!0),[c,u]=N.useState(null),[d,f]=N.useState("fallback"),[p,x]=N.useState(()=>{const y=localStorage.getItem("selectedCurrency");return y==="MDL"||y==="EUR"||y==="USD"?y:"MDL"}),g=y=>{x(y),localStorage.setItem("selectedCurrency",y)};return N.useEffect(()=>{(async()=>{try{l(!0),u(null);const w=localStorage.getItem("exchange_rates_v2");if(w)try{const{timestamp:F,rates:V}=JSON.parse(w);if(new Date().getTime()-F<864e5){n(V.eur),s(V.usd),f("api"),l(!1);return}}catch{localStorage.removeItem("exchange_rates_v2")}const v="4d17fd225169d71925ab0fbcfb504a4e";let S=`http://api.exchangeratesapi.io/v1/latest?access_key=${v}&symbols=MDL,USD`,k=!1,j;try{if(j=await fetch(S),!j.ok)throw new Error(`API Error: ${j.status}`)}catch(F){console.warn("Primary exchange API failed, trying backup...",F),S="https://api.exchangerate-api.com/v4/latest/EUR",j=await fetch(S),k=!0}if(!j.ok)throw new Error("Failed to fetch from both exchange rate APIs");const C=await j.json();let z,$;if(C.rates&&(z=C.rates.MDL,$=C.rates.USD),z&&$&&z>0&&$>0){const F=z,V=z/$;n(F),s(V),f(k?"fallback":"api"),localStorage.setItem("exchange_rates_v2",JSON.stringify({timestamp:new Date().getTime(),rates:{eur:F,usd:V}}))}else throw new Error("Invalid exchange rate data received")}catch(w){console.error("Error fetching exchange rates:",w),u(w instanceof Error?w.message:"Failed to fetch exchange rates"),f("fallback")}finally{l(!1)}})()},[]),i.jsx(mT.Provider,{value:{eur:r,usd:a,loading:o,error:c,source:d,selectedCurrency:p,setSelectedCurrency:g},children:e})},EN=()=>{const e=N.useContext(mT);if(e===void 0)throw new Error("useExchangeRateContext must be used within an ExchangeRateProvider");return e},pT=({forceRender:e})=>{var L,R,G,X,D,Z,ae,le;const{i18n:r,t:n}=mr(),a=No(),s=Pn(),{user:o,isAuthenticated:l,signOut:c,isAdmin:u}=yc(),{selectedCurrency:d,setSelectedCurrency:f}=EN(),p=[{code:"MDL",symbol:"MDL",label:"MDL"},{code:"EUR",symbol:"",label:"EUR"},{code:"USD",symbol:"$",label:"USD"}],x=e||!qO.some(Q=>a.pathname.startsWith(Q)),g=()=>a.pathname==="/booking",y=a.pathname==="/auth/signup"||a.pathname==="/contact"||a.pathname==="/cars"||document.getElementById("car-not-found")||document.getElementById("individual-car-page"),w=a.pathname==="/auth/login"||a.pathname==="/auth/signup",v=["/","/about","/contact","/help","/how-to-rent","/reviews","/terms","/calculator","/not-found"],S=!!document.getElementById("not-found-page"),k=v.includes(a.pathname)||S,[j,C]=N.useState(!1),[z,$]=N.useState(g),[F,V]=N.useState(!1),[B,K]=N.useState(!1),[T,M]=N.useState(r.language),I=N.useRef(null),[q,H]=N.useState(null),te=w||k&&!z||e&&!z&&!y;tt.useEffect(()=>{let Q;return F&&(Q=setTimeout(()=>{V(!1)},3e3)),()=>{Q&&clearTimeout(Q)}},[F]),tt.useEffect(()=>{g()&&$(!0);const Q=()=>{const oe=window.scrollY,ve=a.pathname==="/help"?70:150;$(oe>ve)};return window.addEventListener("scroll",Q),()=>window.removeEventListener("scroll",Q)},[a.pathname]),N.useEffect(()=>{if(B&&e&&I.current){const Q=I.current.getBoundingClientRect();H({top:Q.bottom+8,right:window.innerWidth-Q.right})}else H(null)},[B,e]),tt.useEffect(()=>{const Q=oe=>{const ve=oe.target;ve.closest(".language-dropdown-container")||V(!1),!ve.closest(".user-dropdown-container")&&!ve.closest(".user-dropdown-portal")&&K(!1)};return(F||B)&&document.addEventListener("mousedown",Q),()=>{document.removeEventListener("mousedown",Q)}},[F,B]);const O=Q=>{Q&&(Q.preventDefault(),Q.stopPropagation()),K(!1),C(!1),localStorage.clear(),sessionStorage.clear();const oe=c(),ve=new Promise(ue=>{setTimeout(()=>{ue({error:null})},1e3)});Promise.race([oe,ve]).then(ue=>{ue!=null&&ue.error&&console.error("Logout error:",ue.error)}).catch(ue=>{console.error("Logout promise rejected:",ue)}).finally(()=>{window.location.replace("/")})},re=[{name:n("header.home"),href:"/"},{name:n("header.cars"),href:"/cars"},{name:n("header.about"),href:"/about"},{name:n("header.howToRent"),href:"/how-to-rent"},{name:n("header.contact"),href:"/contact"}],Y=Q=>a.pathname===Q,P=Q=>{const oe=ue=>{const ie=ue.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:ie,behavior:"smooth"})};if(Q.startsWith("/")){s(Q);return}const ve=document.getElementById(Q);ve?oe(ve):(s("/"),setTimeout(()=>{const ue=document.getElementById(Q);ue&&oe(ue)},0))};return x?i.jsx("header",{className:`${e?"relative":"fixed top-0 left-0 right-0"} ${e?"z-[9999999]":"z-50"} transition-all duration-300 font-sans ${w||k&&!z||e&&!z&&!y?"bg-transparent shadow-none border-transparent":z||y&&!k?"bg-white border-b border-gray-200":"bg-transparent shadow-none border-transparent"}`,children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"flex justify-between items-center h-20 lg:h-20",children:[i.jsx(Go,{to:"/",className:"flex items-center group",children:i.jsx("img",{src:"/logo.png",alt:"Level Auto Rental Logo",className:`w-[180px] lg:w-[190px] h-auto transition-all duration-300 ${te?"brightness-0 invert":""}`})}),i.jsx("nav",{className:"hidden lg:flex items-center space-x-1",children:re.map(Q=>i.jsx("button",{onClick:()=>P(Q.href),className:`px-4 py-2 text-sm font-medium transition-all duration-300 rounded-xl hover:bg-theme-50 hover:text-theme-500 ${Y(Q.href)?"text-theme-500 bg-theme-50":te?"text-white":"text-gray-700"}`,style:{background:"none",border:"none",cursor:"pointer"},children:Q.name},Q.name))}),i.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[l&&o?i.jsxs("div",{className:"relative user-dropdown-container",children:[i.jsxs("button",{ref:I,onClick:()=>K(!B),className:`flex items-center space-x-3 px-3 py-2 rounded-xl transition-all duration-300 ${te?"hover:bg-white/10 text-white":"hover:bg-gray-100 text-gray-700"}`,children:[i.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center font-semibold text-sm ${te?"bg-white/20 text-white":"bg-red-600 text-white"}`,children:(((L=o.email)==null?void 0:L.split("@")[0])||o.email||"U").charAt(0).toUpperCase()}),i.jsx("div",{className:"text-left",children:i.jsx("p",{className:`text-sm font-medium ${te?"text-white":"text-gray-700"}`,children:((R=o.email)==null?void 0:R.split("@")[0])||o.email})}),i.jsx(by,{className:`w-4 h-4 transition-transform duration-300 ${B?"rotate-180":""} ${te?"text-white":"text-gray-500"}`})]}),e?B&&q?ei.createPortal(i.jsx(hr,{children:B&&i.jsxs(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"user-dropdown-portal fixed bg-white border border-gray-200 rounded-xl shadow-xl z-[99999999] min-w-[220px] overflow-hidden",style:{top:`${q.top}px`,right:`${q.right}px`},onClick:Q=>Q.stopPropagation(),children:[i.jsxs("div",{className:"p-4 border-b border-gray-100",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-900",children:((G=o.email)==null?void 0:G.split("@")[0])||o.email}),i.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:o.email})]}),i.jsxs("div",{className:"py-2",children:[i.jsxs("button",{onClick:()=>{s("/dashboard?tab=overview"),K(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[i.jsx(_p,{className:"w-4 h-4"}),i.jsx("span",{children:n("header.dashboard")})]}),!u&&i.jsxs("button",{onClick:()=>{s("/dashboard?tab=settings&subTab=settings"),K(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[i.jsx(xh,{className:"w-4 h-4"}),i.jsx("span",{children:n("header.settings")})]}),u&&i.jsxs("button",{onClick:()=>{s("/admin"),K(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[i.jsx(fd,{className:"w-4 h-4"}),i.jsx("span",{children:n("header.admin")})]})]}),i.jsx("div",{className:"border-t border-gray-100 py-2",children:i.jsxs("button",{onClick:Q=>{Q.preventDefault(),Q.stopPropagation(),O(Q)},type:"button",className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors cursor-pointer",style:{pointerEvents:"auto"},children:[i.jsx(ph,{className:"w-4 h-4"}),i.jsx("span",{children:n("header.signOut")})]})})]})}),document.body):null:i.jsx(hr,{children:B&&i.jsxs(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full right-0 mt-2 bg-white border border-gray-200 rounded-xl shadow-xl z-50 min-w-[220px] overflow-hidden",onClick:Q=>Q.stopPropagation(),children:[i.jsxs("div",{className:"p-4 border-b border-gray-100",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-900",children:((X=o.email)==null?void 0:X.split("@")[0])||o.email}),i.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:o.email})]}),i.jsxs("div",{className:"py-2",children:[i.jsxs("button",{onClick:()=>{s("/dashboard?tab=overview"),K(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[i.jsx(_p,{className:"w-4 h-4"}),i.jsx("span",{children:n("header.dashboard")})]}),!u&&i.jsxs("button",{onClick:()=>{s("/dashboard?tab=settings&subTab=settings"),K(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[i.jsx(xh,{className:"w-4 h-4"}),i.jsx("span",{children:n("header.settings")})]}),u&&i.jsxs("button",{onClick:()=>{s("/admin"),K(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[i.jsx(fd,{className:"w-4 h-4"}),i.jsx("span",{children:n("header.admin")})]})]}),i.jsx("div",{className:"border-t border-gray-100 py-2",children:i.jsxs("button",{onClick:Q=>{Q.preventDefault(),Q.stopPropagation(),O(Q)},type:"button",className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors cursor-pointer",style:{pointerEvents:"auto"},children:[i.jsx(ph,{className:"w-4 h-4"}),i.jsx("span",{children:n("header.signOut")})]})})]})})]}):null,i.jsxs("div",{className:"relative language-dropdown-container",children:[i.jsx("button",{onClick:()=>V(!F),className:`p-2 rounded-lg transition-all duration-200 ${te?"text-white hover:text-theme-300 hover:bg-white/20":"text-gray-700 hover:text-theme-500 hover:bg-gray-100"}`,children:i.jsx(g5,{className:"w-5 h-5"})}),i.jsx(hr,{children:F&&i.jsxs(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-50 min-w-[160px]",children:[i.jsxs("div",{className:"py-1",children:[i.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:n("header.language")||"Language"}),Sp.map(({code:Q,iconClass:oe})=>i.jsxs("button",{onClick:()=>{r.changeLanguage(Q),M(Q),V(!1),localStorage.setItem("selectedLanguage",Q)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-theme-50 hover:text-theme-500 transition-colors",children:[i.jsx("span",{className:oe}),i.jsx("span",{children:n(`languages.${Q}`)})]},Q))]}),i.jsx("div",{className:"border-t border-gray-200 my-1"}),i.jsxs("div",{className:"py-1",children:[i.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:n("header.currency")||"Currency"}),p.map(Q=>i.jsxs("button",{onClick:()=>{f(Q.code),V(!1)},className:`w-full flex items-center gap-3 px-3 py-2 text-sm transition-colors ${d===Q.code?"bg-theme-50 text-theme-600":"text-gray-700 hover:bg-theme-50 hover:text-theme-500"}`,children:[i.jsx("span",{className:`w-8 h-8 rounded-md bg-gray-100 flex items-center justify-center font-bold text-gray-800 ${Q.code==="MDL"?"text-xs":"text-base"}`,children:Q.symbol}),i.jsx("span",{className:"flex-1 text-left",children:Q.label})]},Q.code))]})]})})]})]}),i.jsxs("div",{className:"lg:hidden flex items-center space-x-3",children:[i.jsxs("div",{className:"relative language-dropdown-container",children:[i.jsx("button",{onClick:()=>V(!F),className:`p-3 rounded-lg transition-all duration-200 ${te?"text-white hover:text-theme-300 hover:bg-white/20":"text-gray-700 hover:text-theme-500 hover:bg-gray-100"}`,children:i.jsx(g5,{className:"w-5 h-5"})}),i.jsx(hr,{children:F&&i.jsxs(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:`absolute top-full right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg ${e?"z-[99999999]":"z-50"} min-w-[160px]`,children:[i.jsxs("div",{className:"py-1",children:[i.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:n("header.language")||"Language"}),Sp.map(({code:Q,iconClass:oe})=>i.jsxs("button",{onClick:()=>{r.changeLanguage(Q),M(Q),V(!1),localStorage.setItem("selectedLanguage",Q)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-theme-50 hover:text-theme-500 transition-colors",children:[i.jsx("span",{className:oe}),i.jsx("span",{children:n(`languages.${Q}`)})]},Q))]}),i.jsx("div",{className:"border-t border-gray-200 my-1"}),i.jsxs("div",{className:"py-1",children:[i.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:n("header.currency")||"Currency"}),p.map(Q=>i.jsxs("button",{onClick:()=>{f(Q.code),V(!1)},className:`w-full flex items-center gap-3 px-3 py-2 text-sm transition-colors ${d===Q.code?"bg-theme-50 text-theme-600":"text-gray-700 hover:bg-theme-50 hover:text-theme-500"}`,children:[i.jsx("span",{className:`w-8 h-8 rounded-md bg-gray-100 flex items-center justify-center font-bold text-gray-800 ${Q.code==="MDL"?"text-xs":"text-base"}`,children:Q.symbol}),i.jsx("span",{className:"flex-1 text-left",children:Q.label})]},Q.code))]})]})})]}),i.jsx("button",{onClick:()=>C(!j),className:`p-3 rounded-lg transition-all duration-200 ${te?"text-white hover:text-theme-300 hover:bg-white/20":"text-gray-700 hover:text-theme-500 hover:bg-gray-100"}`,children:i.jsx(De.div,{animate:{rotate:j?90:0},transition:{duration:.2},children:j?i.jsx(kn,{className:"w-6 h-6"}):i.jsx(UH,{className:"w-6 h-6"})})})]})]}),e?j?ei.createPortal(i.jsx(hr,{children:j&&i.jsxs(i.Fragment,{children:[i.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 z-[99999998] lg:hidden",onClick:()=>C(!1)}),i.jsx(De.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 right-0 h-full w-80 max-w-[85vw] bg-white shadow-2xl z-[99999999] lg:hidden",children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[i.jsx("div",{className:"flex items-center space-x-3",children:i.jsx("img",{src:"/logo.png",alt:"Level Auto Rental Logo",className:"w-40 h-auto"})}),i.jsx("button",{onClick:()=>C(!1),className:"p-2 rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100 transition-colors",children:i.jsx(kn,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto",children:[i.jsx("nav",{className:"p-6 space-y-2",children:re.map((Q,oe)=>i.jsx(De.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:oe*.1},onClick:()=>{C(!1),P(Q.href)},className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all duration-200 ${Y(Q.href)?"bg-theme-50 text-theme-600 border-l-4 border-theme-500":"text-gray-700 hover:bg-gray-50 hover:text-theme-600"}`,style:{background:"none",border:"none",cursor:"pointer"},children:Q.name},Q.name))}),i.jsxs("div",{className:"p-6 border-t border-gray-200 space-y-4",children:[l&&o?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b border-gray-200",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-red-600 flex items-center justify-center font-semibold text-white text-sm",children:(((D=o.email)==null?void 0:D.split("@")[0])||o.email||"U").charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-900",children:((Z=o.email)==null?void 0:Z.split("@")[0])||o.email}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:o.email})]})]}),i.jsxs("button",{onClick:()=>{C(!1),s("/dashboard?tab=overview")},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[i.jsx(_p,{className:"w-4 h-4"}),i.jsx("span",{children:n("header.dashboard")})]}),!u&&i.jsxs("button",{onClick:()=>{C(!1),s("/dashboard?tab=settings&subTab=settings")},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[i.jsx(xh,{className:"w-4 h-4"}),i.jsx("span",{children:n("header.settings")})]}),u&&i.jsxs("button",{onClick:()=>{C(!1),s("/admin")},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[i.jsx(fd,{className:"w-4 h-4"}),i.jsx("span",{children:n("header.admin")})]}),i.jsxs("button",{onClick:Q=>{Q.preventDefault(),Q.stopPropagation(),C(!1),O(Q)},type:"button",className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors mt-2",children:[i.jsx(ph,{className:"w-4 h-4"}),i.jsx("span",{children:n("header.signOut")})]})]}):null,i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:n("header.language")}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:Sp.map(({code:Q,iconClass:oe})=>i.jsxs("button",{onClick:()=>{r.changeLanguage(Q),M(Q),localStorage.setItem("selectedLanguage",Q),C(!1)},className:`flex flex-col items-center p-3 rounded-lg border-2 transition-all duration-200 ${T===Q?"border-theme-500 bg-theme-50 text-theme-600":"border-gray-200 text-gray-600 hover:border-theme-300 hover:bg-gray-50"}`,children:[i.jsx("span",{className:`${oe} w-6 h-4 mb-1`}),i.jsx("span",{className:"text-xs font-medium",children:n(`languages.${Q}`)})]},Q))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:n("header.currency")||"Currency"}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:p.map(Q=>i.jsxs("button",{onClick:()=>{f(Q.code),C(!1)},className:`flex flex-col items-center p-3 rounded-lg border-2 transition-all duration-200 ${d===Q.code?"border-theme-500 bg-theme-50 text-theme-600":"border-gray-200 text-gray-600 hover:border-theme-300 hover:bg-gray-50"}`,children:[i.jsx("span",{className:`w-10 h-10 rounded-md bg-gray-100 flex items-center justify-center font-bold text-gray-800 mb-2 ${Q.code==="MDL"?"text-sm":"text-lg"}`,children:Q.symbol}),i.jsx("span",{className:"text-xs font-medium",children:Q.label})]},Q.code))})]})]})]})]})})]})}),document.body):null:i.jsx(hr,{children:j&&i.jsxs(i.Fragment,{children:[i.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>C(!1)}),i.jsx(De.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 right-0 h-full w-80 max-w-[85vw] bg-white shadow-2xl z-50 lg:hidden",children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[i.jsx("div",{className:"flex items-center space-x-3",children:i.jsx("img",{src:"/logo.png",alt:"Level Auto Rental Logo",className:"w-40 h-auto"})}),i.jsx("button",{onClick:()=>C(!1),className:"p-2 rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100 transition-colors",children:i.jsx(kn,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto",children:[i.jsx("nav",{className:"p-6 space-y-2",children:re.map((Q,oe)=>i.jsx(De.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:oe*.1},onClick:()=>{C(!1),P(Q.href)},className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all duration-200 ${Y(Q.href)?"bg-theme-50 text-theme-600 border-l-4 border-theme-500":"text-gray-700 hover:bg-gray-50 hover:text-theme-600"}`,style:{background:"none",border:"none",cursor:"pointer"},children:Q.name},Q.name))}),i.jsxs("div",{className:"p-6 border-t border-gray-200 space-y-4",children:[l&&o?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b border-gray-200",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-red-600 flex items-center justify-center font-semibold text-white text-sm",children:(((ae=o.email)==null?void 0:ae.split("@")[0])||o.email||"U").charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-900",children:((le=o.email)==null?void 0:le.split("@")[0])||o.email}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:o.email})]})]}),i.jsxs("button",{onClick:()=>{C(!1),s("/dashboard?tab=overview")},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[i.jsx(_p,{className:"w-4 h-4"}),i.jsx("span",{children:n("header.dashboard")})]}),i.jsxs("button",{onClick:()=>{C(!1),s("/dashboard?tab=settings&subTab=profile")},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[i.jsx(Ll,{className:"w-4 h-4"}),i.jsx("span",{children:n("header.profile")})]}),!u&&i.jsxs("button",{onClick:()=>{C(!1),s("/dashboard?tab=settings&subTab=settings")},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[i.jsx(xh,{className:"w-4 h-4"}),i.jsx("span",{children:n("header.settings")})]}),u&&i.jsxs("button",{onClick:()=>{C(!1),s("/admin")},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[i.jsx(fd,{className:"w-4 h-4"}),i.jsx("span",{children:n("header.admin")})]}),i.jsxs("button",{onClick:Q=>{Q.preventDefault(),Q.stopPropagation(),C(!1),O(Q)},type:"button",className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors mt-2",children:[i.jsx(ph,{className:"w-4 h-4"}),i.jsx("span",{children:n("header.signOut")})]})]}):null,i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:n("header.language")}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:Sp.map(({code:Q,iconClass:oe})=>i.jsxs("button",{onClick:()=>{r.changeLanguage(Q),M(Q),localStorage.setItem("selectedLanguage",Q),C(!1)},className:`flex flex-col items-center p-3 rounded-lg border-2 transition-all duration-200 ${T===Q?"border-theme-500 bg-theme-50 text-theme-600":"border-gray-200 text-gray-600 hover:border-theme-300 hover:bg-gray-50"}`,children:[i.jsx("span",{className:`${oe} w-6 h-4 mb-1`}),i.jsx("span",{className:"text-xs font-medium",children:n(`languages.${Q}`)})]},Q))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:n("header.currency")||"Currency"}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:p.map(Q=>i.jsxs("button",{onClick:()=>{f(Q.code),C(!1)},className:`flex flex-col items-center p-3 rounded-lg border-2 transition-all duration-200 ${d===Q.code?"border-theme-500 bg-theme-50 text-theme-600":"border-gray-200 text-gray-600 hover:border-theme-300 hover:bg-gray-50"}`,children:[i.jsx("span",{className:"text-lg font-semibold mb-1",children:Q.symbol}),i.jsx("span",{className:"text-xs font-medium",children:Q.label})]},Q.code))})]})]})]})]})})]})})]})}):null},gT=({isTransitioning:e=!1,onLoadingComplete:r})=>(N.useEffect(()=>{const n=["/logo.png","/lvl_bg.png","/backgrounds/bg2-desktop.jpeg","/backgrounds/bg3-mobile.jpeg","/backgrounds/bg4-mobile.jpeg","/backgrounds/bg10-mobile.jpeg","/logos/audi.png","/logos/bmw.webp","/logos/hyundai.png","/logos/maserati.png","/logos/merc.svg"];Promise.all(n.map(a=>new Promise(s=>{const o=new Image;o.onload=()=>s(),o.onerror=()=>s(),o.src=a}))).then(()=>{setTimeout(()=>{r==null||r()},1e3)})},[]),N.useEffect(()=>{if(e){const n=setTimeout(()=>{r==null||r()},300);return()=>clearTimeout(n)}},[e,r]),i.jsxs("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 ease-in-out z-[9999999] ${e?"opacity-0":"opacity-100"}`,style:{zIndex:9999999},children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-no-repeat bg-mobile-loader bg-loader-mobile md:bg-desktop-loader md:bg-loader-desktop opacity-40",style:{animation:"background-scale 2s ease-in-out infinite"}}),i.jsx("div",{className:"absolute inset-0 bg-black/40"}),i.jsx("div",{className:"relative flex flex-col items-center justify-center min-h-screen",children:i.jsx("div",{className:"relative w-64 h-24 flex items-center justify-center",children:i.jsx("img",{src:"/logo.png",alt:"Level Auto Rental",className:"w-64 h-auto brightness-0 invert drop-shadow-lg",style:{animation:"scale-premium 2s ease-in-out infinite"}})})}),i.jsx("style",{children:`
        @keyframes scale-premium {
          0% {
            transform: scale(1);
            opacity: 1;
          }
          50% {
            transform: scale(1.05);
            opacity: 0.8;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }
        
        @keyframes background-scale {
          0% {
            transform: scale(1);
          }
          50% {
            transform: scale(1.05);
          }
          100% {
            transform: scale(1);
          }
        }
        
        .bg-image-transition {
          transition: background-image 0.3s ease-in-out;
        }
      `})]})),BK=({className:e})=>{const[r,n]=N.useState(!1),a=[{name:"+373 62 000 112",icon:"/social/mobile.png",href:"tel:+37362000112",delay:.1},{name:"Telegram",icon:"/social/telegram.png",href:"https://t.me/Level_Auto_Rental",delay:.2},{name:"WhatsApp",icon:"/social/whatsapp.png",href:"https://wa.me/37362000112",delay:.3}];return i.jsxs("div",{className:`fixed bottom-6 right-6 z-50 ${e}`,children:[i.jsx(hr,{children:r&&i.jsx(De.div,{initial:{opacity:0,y:20,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:1},transition:{duration:.3,ease:"easeOut"},className:"absolute bottom-[70px] right-0 bg-white rounded-xl shadow-lg border border-gray-200 min-w-[200px]",children:i.jsx("div",{className:"space-y-1",children:a.map((s,o)=>i.jsxs(De.a,{href:s.href,target:"_blank",rel:"noopener noreferrer",initial:{opacity:1,x:0},animate:{opacity:1,x:0},exit:{opacity:1,x:0},transition:{delay:.1+o*.1,duration:.2},className:"flex items-center space-x-3 p-2 hover:bg-gray-50 transition-colors duration-200 border-b border-gray-200 last:border-b-0 p-3 px-5",whileHover:{scale:1.02},whileTap:{scale:.98},children:[i.jsxs("div",{className:"relative",children:[s.name==="+373 62 000 112"&&i.jsx(De.div,{className:"absolute inset-0 rounded-full border border-[#333333]",animate:{scale:[1,1.2,1],opacity:[.6,0,.6]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),i.jsx(De.img,{src:s.icon,alt:s.name,className:"w-8 h-8 object-contain",animate:s.name==="+373 62 000 112"?{rotate:[0,5,-5,0]}:{},transition:s.name==="+373 62 000 112"?{duration:1.2,repeat:1/0,ease:"easeInOut"}:{}})]}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:s.name})]},s.name))})})}),i.jsxs("div",{className:"relative",children:[i.jsx(De.div,{className:"absolute inset-0 rounded-full border-2 border-red-400",animate:{scale:[1,1.2,1],opacity:[.8,0,.8]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),i.jsx(De.button,{onClick:()=>n(!r),initial:{opacity:0,scale:0},animate:{opacity:1,scale:1,rotate:[0,10,-10,0]},transition:{delay:0,type:"spring",stiffness:200,damping:20,rotate:{duration:.8,repeat:3,repeatDelay:30,ease:"easeInOut"}},className:"relative flex items-center justify-center w-14 h-14 rounded-full shadow-lg transition-all duration-200 hover:shadow-xl z-10",style:{background:"linear-gradient(135deg, #F52C2D, #e02424)"},whileHover:{scale:1.1},whileTap:{scale:.95},children:i.jsx("div",{className:"relative w-7 h-7",children:i.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 flex items-center justify-center",children:r?i.jsx(RH,{className:"w-7 h-7 text-white font-bold",strokeWidth:3}):i.jsx("img",{src:"/social/chat.png",alt:"Chat",className:"w-7 h-7 object-contain scale-x-[-1]"})},r?"arrow":"chat")})})]})]})};function UK(e){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const qK=e=>{switch(e){case"success":return WK;case"info":return GK;case"warning":return KK;case"error":return YK;default:return null}},HK=Array(12).fill(0),VK=({visible:e,className:r})=>tt.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":e},tt.createElement("div",{className:"sonner-spinner"},HK.map((n,a)=>tt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),WK=tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},tt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),KK=tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},tt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),GK=tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},tt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),YK=tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},tt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),XK=tt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},tt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),tt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),JK=()=>{const[e,r]=tt.useState(document.hidden);return tt.useEffect(()=>{const n=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let L5=1;class ZK{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{const n=this.subscribers.indexOf(r);this.subscribers.splice(n,1)}),this.publish=r=>{this.subscribers.forEach(n=>n(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var n;const{message:a,...s}=r,o=typeof(r==null?void 0:r.id)=="number"||((n=r.id)==null?void 0:n.length)>0?r.id:L5++,l=this.toasts.find(u=>u.id===o),c=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(u=>u.id===o?(this.publish({...u,...r,id:o,title:a}),{...u,...r,id:o,dismissible:c,title:a}):u):this.addToast({title:a,...s,dismissible:c,id:o}),o},this.dismiss=r=>(r?(this.dismissedToasts.add(r),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:r,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(a=>a({id:n.id,dismiss:!0}))}),r),this.message=(r,n)=>this.create({...n,message:r}),this.error=(r,n)=>this.create({...n,message:r,type:"error"}),this.success=(r,n)=>this.create({...n,type:"success",message:r}),this.info=(r,n)=>this.create({...n,type:"info",message:r}),this.warning=(r,n)=>this.create({...n,type:"warning",message:r}),this.loading=(r,n)=>this.create({...n,type:"loading",message:r}),this.promise=(r,n)=>{if(!n)return;let a;n.loading!==void 0&&(a=this.create({...n,promise:r,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(r instanceof Function?r():r);let o=a!==void 0,l;const c=s.then(async d=>{if(l=["resolve",d],tt.isValidElement(d))o=!1,this.create({id:a,type:"default",message:d});else if(eG(d)&&!d.ok){o=!1;const p=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,y=typeof p=="object"&&!tt.isValidElement(p)?p:{message:p};this.create({id:a,type:"error",description:x,...y})}else if(d instanceof Error){o=!1;const p=typeof n.error=="function"?await n.error(d):n.error,x=typeof n.description=="function"?await n.description(d):n.description,y=typeof p=="object"&&!tt.isValidElement(p)?p:{message:p};this.create({id:a,type:"error",description:x,...y})}else if(n.success!==void 0){o=!1;const p=typeof n.success=="function"?await n.success(d):n.success,x=typeof n.description=="function"?await n.description(d):n.description,y=typeof p=="object"&&!tt.isValidElement(p)?p:{message:p};this.create({id:a,type:"success",description:x,...y})}}).catch(async d=>{if(l=["reject",d],n.error!==void 0){o=!1;const f=typeof n.error=="function"?await n.error(d):n.error,p=typeof n.description=="function"?await n.description(d):n.description,g=typeof f=="object"&&!tt.isValidElement(f)?f:{message:f};this.create({id:a,type:"error",description:p,...g})}}).finally(()=>{o&&(this.dismiss(a),a=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((d,f)=>c.then(()=>l[0]==="reject"?f(l[1]):d(l[1])).catch(f));return typeof a!="string"&&typeof a!="number"?{unwrap:u}:Object.assign(a,{unwrap:u})},this.custom=(r,n)=>{const a=(n==null?void 0:n.id)||L5++;return this.create({jsx:r(a),id:a,...n}),a},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Us=new ZK,QK=(e,r)=>{const n=(r==null?void 0:r.id)||L5++;return Us.addToast({title:e,...r,id:n}),n},eG=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",tG=QK,rG=()=>Us.toasts,nG=()=>Us.getActiveToasts(),Kg=Object.assign(tG,{success:Us.success,info:Us.info,warning:Us.warning,error:Us.error,custom:Us.custom,message:Us.message,promise:Us.promise,dismiss:Us.dismiss,loading:Us.loading},{getHistory:rG,getToasts:nG});UK("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Gg(e){return e.label!==void 0}const aG=3,iG="24px",sG="16px",xk=4e3,oG=356,lG=14,cG=45,uG=200;function ac(...e){return e.filter(Boolean).join(" ")}function dG(e){const[r,n]=e.split("-"),a=[];return r&&a.push(r),n&&a.push(n),a}const hG=e=>{var r,n,a,s,o,l,c,u,d;const{invert:f,toast:p,unstyled:x,interacting:g,setHeights:y,visibleToasts:w,heights:v,index:S,toasts:k,expanded:j,removeToast:C,defaultRichColors:z,closeButton:$,style:F,cancelButtonStyle:V,actionButtonStyle:B,className:K="",descriptionClassName:T="",duration:M,position:I,gap:q,expandByDefault:H,classNames:te,icons:O,closeButtonAriaLabel:re="Close toast"}=e,[Y,P]=tt.useState(null),[L,R]=tt.useState(null),[G,X]=tt.useState(!1),[D,Z]=tt.useState(!1),[ae,le]=tt.useState(!1),[Q,oe]=tt.useState(!1),[ve,ue]=tt.useState(!1),[ge,ie]=tt.useState(0),[se,_e]=tt.useState(0),Te=tt.useRef(p.duration||M||xk),Xe=tt.useRef(null),Me=tt.useRef(null),Re=S===0,xe=S+1<=w,Pe=p.type,be=p.dismissible!==!1,Ae=p.className||"",Ie=p.descriptionClassName||"",Ce=tt.useMemo(()=>v.findIndex(ht=>ht.toastId===p.id)||0,[v,p.id]),He=tt.useMemo(()=>{var ht;return(ht=p.closeButton)!=null?ht:$},[p.closeButton,$]),Ve=tt.useMemo(()=>p.duration||M||xk,[p.duration,M]),at=tt.useRef(0),Qe=tt.useRef(0),ut=tt.useRef(0),Ft=tt.useRef(null),[he,pt]=I.split("-"),vt=tt.useMemo(()=>v.reduce((ht,ur,Jt)=>Jt>=Ce?ht:ht+ur.height,0),[v,Ce]),wt=JK(),gt=p.invert||f,xt=Pe==="loading";Qe.current=tt.useMemo(()=>Ce*q+vt,[Ce,vt]),tt.useEffect(()=>{Te.current=Ve},[Ve]),tt.useEffect(()=>{X(!0)},[]),tt.useEffect(()=>{const ht=Me.current;if(ht){const ur=ht.getBoundingClientRect().height;return _e(ur),y(Jt=>[{toastId:p.id,height:ur,position:p.position},...Jt]),()=>y(Jt=>Jt.filter(Tr=>Tr.toastId!==p.id))}},[y,p.id]),tt.useLayoutEffect(()=>{if(!G)return;const ht=Me.current,ur=ht.style.height;ht.style.height="auto";const Jt=ht.getBoundingClientRect().height;ht.style.height=ur,_e(Jt),y(Tr=>Tr.find(Dt=>Dt.toastId===p.id)?Tr.map(Dt=>Dt.toastId===p.id?{...Dt,height:Jt}:Dt):[{toastId:p.id,height:Jt,position:p.position},...Tr])},[G,p.title,p.description,y,p.id,p.jsx,p.action,p.cancel]);const rt=tt.useCallback(()=>{Z(!0),ie(Qe.current),y(ht=>ht.filter(ur=>ur.toastId!==p.id)),setTimeout(()=>{C(p)},uG)},[p,C,y,Qe]);tt.useEffect(()=>{if(p.promise&&Pe==="loading"||p.duration===1/0||p.type==="loading")return;let ht;return j||g||wt?(()=>{if(ut.current<at.current){const Tr=new Date().getTime()-at.current;Te.current=Te.current-Tr}ut.current=new Date().getTime()})():(()=>{Te.current!==1/0&&(at.current=new Date().getTime(),ht=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),rt()},Te.current))})(),()=>clearTimeout(ht)},[j,g,p,Pe,wt,rt]),tt.useEffect(()=>{p.delete&&(rt(),p.onDismiss==null||p.onDismiss.call(p,p))},[rt,p.delete]);function It(){var ht;if(O!=null&&O.loading){var ur;return tt.createElement("div",{className:ac(te==null?void 0:te.loader,p==null||(ur=p.classNames)==null?void 0:ur.loader,"sonner-loader"),"data-visible":Pe==="loading"},O.loading)}return tt.createElement(VK,{className:ac(te==null?void 0:te.loader,p==null||(ht=p.classNames)==null?void 0:ht.loader),visible:Pe==="loading"})}const Bt=p.icon||(O==null?void 0:O[Pe])||qK(Pe);var zt,yt;return tt.createElement("li",{tabIndex:0,ref:Me,className:ac(K,Ae,te==null?void 0:te.toast,p==null||(r=p.classNames)==null?void 0:r.toast,te==null?void 0:te.default,te==null?void 0:te[Pe],p==null||(n=p.classNames)==null?void 0:n[Pe]),"data-sonner-toast":"","data-rich-colors":(zt=p.richColors)!=null?zt:z,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":G,"data-promise":!!p.promise,"data-swiped":ve,"data-removed":D,"data-visible":xe,"data-y-position":he,"data-x-position":pt,"data-index":S,"data-front":Re,"data-swiping":ae,"data-dismissible":be,"data-type":Pe,"data-invert":gt,"data-swipe-out":Q,"data-swipe-direction":L,"data-expanded":!!(j||H&&G),"data-testid":p.testId,style:{"--index":S,"--toasts-before":S,"--z-index":k.length-S,"--offset":`${D?ge:Qe.current}px`,"--initial-height":H?"auto":`${se}px`,...F,...p.style},onDragEnd:()=>{le(!1),P(null),Ft.current=null},onPointerDown:ht=>{ht.button!==2&&(xt||!be||(Xe.current=new Date,ie(Qe.current),ht.target.setPointerCapture(ht.pointerId),ht.target.tagName!=="BUTTON"&&(le(!0),Ft.current={x:ht.clientX,y:ht.clientY})))},onPointerUp:()=>{var ht,ur,Jt;if(Q||!be)return;Ft.current=null;const Tr=Number(((ht=Me.current)==null?void 0:ht.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),$r=Number(((ur=Me.current)==null?void 0:ur.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Dt=new Date().getTime()-((Jt=Xe.current)==null?void 0:Jt.getTime()),Wr=Y==="x"?Tr:$r,Nr=Math.abs(Wr)/Dt;if(Math.abs(Wr)>=cG||Nr>.11){ie(Qe.current),p.onDismiss==null||p.onDismiss.call(p,p),R(Y==="x"?Tr>0?"right":"left":$r>0?"down":"up"),rt(),oe(!0);return}else{var Lt,_r;(Lt=Me.current)==null||Lt.style.setProperty("--swipe-amount-x","0px"),(_r=Me.current)==null||_r.style.setProperty("--swipe-amount-y","0px")}ue(!1),le(!1),P(null)},onPointerMove:ht=>{var ur,Jt,Tr;if(!Ft.current||!be||((ur=window.getSelection())==null?void 0:ur.toString().length)>0)return;const Dt=ht.clientY-Ft.current.y,Wr=ht.clientX-Ft.current.x;var Nr;const Lt=(Nr=e.swipeDirections)!=null?Nr:dG(I);!Y&&(Math.abs(Wr)>1||Math.abs(Dt)>1)&&P(Math.abs(Wr)>Math.abs(Dt)?"x":"y");let _r={x:0,y:0};const gr=Sr=>1/(1.5+Math.abs(Sr)/20);if(Y==="y"){if(Lt.includes("top")||Lt.includes("bottom"))if(Lt.includes("top")&&Dt<0||Lt.includes("bottom")&&Dt>0)_r.y=Dt;else{const Sr=Dt*gr(Dt);_r.y=Math.abs(Sr)<Math.abs(Dt)?Sr:Dt}}else if(Y==="x"&&(Lt.includes("left")||Lt.includes("right")))if(Lt.includes("left")&&Wr<0||Lt.includes("right")&&Wr>0)_r.x=Wr;else{const Sr=Wr*gr(Wr);_r.x=Math.abs(Sr)<Math.abs(Wr)?Sr:Wr}(Math.abs(_r.x)>0||Math.abs(_r.y)>0)&&ue(!0),(Jt=Me.current)==null||Jt.style.setProperty("--swipe-amount-x",`${_r.x}px`),(Tr=Me.current)==null||Tr.style.setProperty("--swipe-amount-y",`${_r.y}px`)}},He&&!p.jsx&&Pe!=="loading"?tt.createElement("button",{"aria-label":re,"data-disabled":xt,"data-close-button":!0,onClick:xt||!be?()=>{}:()=>{rt(),p.onDismiss==null||p.onDismiss.call(p,p)},className:ac(te==null?void 0:te.closeButton,p==null||(a=p.classNames)==null?void 0:a.closeButton)},(yt=O==null?void 0:O.close)!=null?yt:XK):null,(Pe||p.icon||p.promise)&&p.icon!==null&&((O==null?void 0:O[Pe])!==null||p.icon)?tt.createElement("div",{"data-icon":"",className:ac(te==null?void 0:te.icon,p==null||(s=p.classNames)==null?void 0:s.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||It():null,p.type!=="loading"?Bt:null):null,tt.createElement("div",{"data-content":"",className:ac(te==null?void 0:te.content,p==null||(o=p.classNames)==null?void 0:o.content)},tt.createElement("div",{"data-title":"",className:ac(te==null?void 0:te.title,p==null||(l=p.classNames)==null?void 0:l.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?tt.createElement("div",{"data-description":"",className:ac(T,Ie,te==null?void 0:te.description,p==null||(c=p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),tt.isValidElement(p.cancel)?p.cancel:p.cancel&&Gg(p.cancel)?tt.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||V,onClick:ht=>{Gg(p.cancel)&&be&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,ht),rt())},className:ac(te==null?void 0:te.cancelButton,p==null||(u=p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,tt.isValidElement(p.action)?p.action:p.action&&Gg(p.action)?tt.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||B,onClick:ht=>{Gg(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,ht),!ht.defaultPrevented&&rt())},className:ac(te==null?void 0:te.actionButton,p==null||(d=p.classNames)==null?void 0:d.actionButton)},p.action.label):null)};function vk(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function fG(e,r){const n={};return[e,r].forEach((a,s)=>{const o=s===1,l=o?"--mobile-offset":"--offset",c=o?sG:iG;function u(d){["top","right","bottom","left"].forEach(f=>{n[`${l}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof a=="number"||typeof a=="string"?u(a):typeof a=="object"?["top","right","bottom","left"].forEach(d=>{a[d]===void 0?n[`${l}-${d}`]=c:n[`${l}-${d}`]=typeof a[d]=="number"?`${a[d]}px`:a[d]}):u(c)}),n}const xT=tt.forwardRef(function(r,n){const{id:a,invert:s,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:u,className:d,offset:f,mobileOffset:p,theme:x="light",richColors:g,duration:y,style:w,visibleToasts:v=aG,toastOptions:S,dir:k=vk(),gap:j=lG,icons:C,containerAriaLabel:z="Notifications"}=r,[$,F]=tt.useState([]),V=tt.useMemo(()=>a?$.filter(G=>G.toasterId===a):$.filter(G=>!G.toasterId),[$,a]),B=tt.useMemo(()=>Array.from(new Set([o].concat(V.filter(G=>G.position).map(G=>G.position)))),[V,o]),[K,T]=tt.useState([]),[M,I]=tt.useState(!1),[q,H]=tt.useState(!1),[te,O]=tt.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=tt.useRef(null),Y=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=tt.useRef(null),L=tt.useRef(!1),R=tt.useCallback(G=>{F(X=>{var D;return(D=X.find(Z=>Z.id===G.id))!=null&&D.delete||Us.dismiss(G.id),X.filter(({id:Z})=>Z!==G.id)})},[]);return tt.useEffect(()=>Us.subscribe(G=>{if(G.dismiss){requestAnimationFrame(()=>{F(X=>X.map(D=>D.id===G.id?{...D,delete:!0}:D))});return}setTimeout(()=>{GF.flushSync(()=>{F(X=>{const D=X.findIndex(Z=>Z.id===G.id);return D!==-1?[...X.slice(0,D),{...X[D],...G},...X.slice(D+1)]:[G,...X]})})})}),[$]),tt.useEffect(()=>{if(x!=="system"){O(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?O("dark"):O("light")),typeof window>"u")return;const G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:X})=>{O(X?"dark":"light")})}catch{G.addListener(({matches:D})=>{try{O(D?"dark":"light")}catch(Z){console.error(Z)}})}},[x]),tt.useEffect(()=>{$.length<=1&&I(!1)},[$]),tt.useEffect(()=>{const G=X=>{var D;if(l.every(le=>X[le]||X.code===le)){var ae;I(!0),(ae=re.current)==null||ae.focus()}X.code==="Escape"&&(document.activeElement===re.current||(D=re.current)!=null&&D.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[l]),tt.useEffect(()=>{if(re.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,L.current=!1)}},[re.current]),tt.createElement("section",{ref:n,"aria-label":`${z} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},B.map((G,X)=>{var D;const[Z,ae]=G.split("-");return V.length?tt.createElement("ol",{key:G,dir:k==="auto"?vk():k,tabIndex:-1,ref:re,className:d,"data-sonner-toaster":!0,"data-sonner-theme":te,"data-y-position":Z,"data-x-position":ae,style:{"--front-toast-height":`${((D=K[0])==null?void 0:D.height)||0}px`,"--width":`${oG}px`,"--gap":`${j}px`,...w,...fG(f,p)},onBlur:le=>{L.current&&!le.currentTarget.contains(le.relatedTarget)&&(L.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||L.current||(L.current=!0,P.current=le.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{q||I(!1)},onDragEnd:()=>I(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},V.filter(le=>!le.position&&X===0||le.position===G).map((le,Q)=>{var oe,ve;return tt.createElement(hG,{key:le.id,icons:C,index:Q,toast:le,defaultRichColors:g,duration:(oe=S==null?void 0:S.duration)!=null?oe:y,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:s,visibleToasts:v,closeButton:(ve=S==null?void 0:S.closeButton)!=null?ve:u,interacting:q,position:G,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,closeButtonAriaLabel:S==null?void 0:S.closeButtonAriaLabel,removeToast:R,toasts:V.filter(ue=>ue.position==le.position),heights:K.filter(ue=>ue.position==le.position),setHeights:T,expandByDefault:c,gap:j,expanded:M,swipeDirections:r.swipeDirections})})):null}))}),mG=({children:e})=>{const r=No(),[n,a]=N.useState(!1),[s,o]=N.useState(!1),[l,c]=N.useState(!0),u=r.pathname.startsWith("/auth"),d=r.pathname.startsWith("/admin"),f=r.pathname.startsWith("/dashboard");return N.useEffect(()=>{c(!1),o(!0),a(!1);const p=setTimeout(()=>{c(!0)},200),x=setTimeout(()=>{a(!0)},1500),g=setTimeout(()=>{o(!1)},1800);return()=>{clearTimeout(p),clearTimeout(x),clearTimeout(g)}},[r.pathname]),i.jsxs(i.Fragment,{children:[!d&&i.jsx(xT,{position:"bottom-right",toastOptions:{duration:6e3,classNames:{toast:"bg-white border border-gray-200 text-gray-900 shadow-lg rounded-xl",success:"bg-white border border-green-200 text-gray-900",title:"text-green-800 font-semibold",description:"text-green-700"}}}),s&&i.jsx(gT,{isTransitioning:n}),i.jsx("a",{href:"#main-content",className:"absolute left-[-9999px] w-1 h-1 focus:left-4 focus:top-4 focus:z-[100] focus:w-auto focus:h-auto focus:px-4 focus:py-2 focus:bg-theme-500 focus:text-white focus:rounded-lg focus:font-semibold focus:shadow-lg focus:outline-none focus:ring-2 focus:ring-theme-500 focus:ring-offset-2",children:"Skip to content"}),i.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[i.jsx(pT,{}),l&&i.jsx("main",{id:"main-content",className:"flex-1",tabIndex:-1,children:e}),!u&&!f&&i.jsx(wV,{})]}),!d&&!f&&i.jsx(BK,{})]})},pG=()=>{const{t:e,i18n:r}=mr(),[n,a]=N.useState(!1);N.useEffect(()=>{const o=()=>{a(window.innerWidth>=768)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),N.useMemo(()=>[{icon:Za,label:e("pages.about.stats.vehicles")||"Vehicles",value:"500+"},{icon:im,label:e("pages.about.stats.customers")||"Happy Customers",value:"10,000+"},{icon:Aa,label:e("pages.about.stats.experience")||"Years Experience",value:"15+"},{icon:Ip,label:e("pages.about.stats.awards")||"Awards Won",value:"25+"}],[e,r.language]);const s=N.useMemo(()=>[{icon:fd,title:e("pages.about.values.safety.title")||"Safety First",description:e("pages.about.values.safety.description")||"All our vehicles undergo rigorous safety inspections and maintenance."},{icon:im,title:e("pages.about.values.customer.title")||"Customer Focus",description:e("pages.about.values.customer.description")||"We prioritize customer satisfaction with 24/7 support."},{icon:Ip,title:e("pages.about.values.quality.title")||"Quality Service",description:e("pages.about.values.quality.description")||"Our commitment to excellence has earned us industry recognition."}],[e,r.language]);return i.jsxs("div",{className:"min-h-screen",children:[i.jsxs("section",{className:"relative h-[500px] bg-fixed bg-cover bg-center bg-no-repeat pt-36 font-sans text-white",style:{backgroundImage:n?"url(/bg-hero.jpg)":"url(/backgrounds/bg4-mobile.jpeg)",backgroundPosition:n?"center -420px":"center -300px",backgroundSize:n?"115%":"cover"},children:[i.jsx("div",{className:"absolute inset-0 bg-black/70"}),i.jsx("div",{className:`absolute bottom-0 left-0 w-full h-40 
            bg-[linear-gradient(to_top,rgba(15,15,15,1),rgba(15,15,15,0))] 
            z-10 pointer-events-none`}),i.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 overflow-visible relative z-10",children:i.jsx("div",{className:"flex items-center justify-center h-full pt-16",children:i.jsx("div",{className:"text-center space-y-10 max-w-4xl",children:i.jsx("div",{className:"space-y-8",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("p",{className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:e("pages.about.hero.label")}),i.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-white leading-tight drop-shadow-lg",children:e("pages.about.hero.title")})]})})})})})]}),i.jsx("section",{className:"py-20 mt-0",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6 sm:px-16 lg:px-10",children:[i.jsxs(De.div,{variants:Ra,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"text-center mb-16",children:[i.jsx(De.span,{variants:jr,className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:e("pages.about.story.label")}),i.jsx(De.h2,{variants:jr,className:"mt-3 text-3xl md:text-5xl font-bold text-gray-800 leading-tight max-w-3xl mx-auto",children:e("pages.about.story.evolutionLabel")})]}),i.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center px-6 sm:px-10 lg:px-20",children:[i.jsxs(De.div,{variants:jr,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"relative",children:[i.jsx("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-gradient-to-b from-red-500 via-red-400 to-red-500 hidden lg:block"}),i.jsxs("div",{className:"space-y-10",children:[i.jsxs("div",{className:"relative flex items-start",children:[i.jsx("div",{className:"hidden lg:flex absolute left-4 w-4 h-4 bg-red-500 rounded-full border-4 border-white shadow-lg z-10"}),i.jsxs("div",{className:"lg:ml-16",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-red-50 text-red-600",children:e("pages.about.story.timelineLabels.2023")}),i.jsx(fd,{className:"w-4 h-4 text-red-500"})]}),i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:e("pages.about.story.timeline.2023.title")}),i.jsx("p",{className:"text-gray-600 leading-relaxed",children:e("pages.about.story.timeline.2023.description")})]})]}),i.jsxs("div",{className:"relative flex items-start",children:[i.jsx("div",{className:"hidden lg:flex absolute left-4 w-4 h-4 bg-red-500 rounded-full border-4 border-white shadow-lg z-10"}),i.jsxs("div",{className:"lg:ml-16",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-red-50 text-red-600",children:e("pages.about.story.timelineLabels.2023-2024")}),i.jsx(Ip,{className:"w-4 h-4 text-red-500"})]}),i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:e("pages.about.story.timeline.2023-2024.title")}),i.jsx("p",{className:"text-gray-600 leading-relaxed",children:e("pages.about.story.timeline.2023-2024.description")})]})]}),i.jsxs("div",{className:"relative flex items-start",children:[i.jsx("div",{className:"hidden lg:flex absolute left-4 w-4 h-4 bg-red-500 rounded-full border-4 border-white shadow-lg z-10"}),i.jsxs("div",{className:"lg:ml-16",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-red-50 text-red-600",children:e("pages.about.story.timelineLabels.today")}),i.jsx(xd,{className:"w-4 h-4 text-red-500"})]}),i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:e("pages.about.story.timeline.today.title")}),i.jsx("p",{className:"text-gray-600 leading-relaxed",children:e("pages.about.story.timeline.today.description")})]})]})]})]}),i.jsx(De.div,{variants:jr,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"relative",children:i.jsx("img",{src:"/lvl_bg.png",alt:"Our story",className:"rounded-2xl shadow-lg"})})]})]})}),i.jsx("section",{className:"py-10 mb-20",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs(De.div,{variants:Ra,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"text-center mb-16",children:[i.jsx(De.span,{variants:jr,className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:e("pages.about.values.label")}),i.jsx(De.h2,{variants:jr,className:"mt-3 text-3xl md:text-5xl font-bold text-gray-800 leading-tight max-w-3xl mx-auto",children:e("pages.about.values.title")})]}),i.jsx(De.div,{variants:Ra,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"grid md:grid-cols-3 gap-8",children:s.map((o,l)=>i.jsx(De.div,{variants:jr,children:i.jsxs("div",{className:"text-center relative",children:[i.jsx(De.div,{whileHover:{scale:1.1,rotate:5},transition:{duration:.2},className:"w-16 h-16 rounded-2xl mx-auto mb-4 shadow-lg flex items-center justify-center bg-gradient-to-b from-red-500 to-red-600",children:i.jsx(o.icon,{className:"w-8 h-8 text-white"})}),i.jsx("div",{className:"text-xl font-bold text-gray-800 mb-3",children:o.title}),i.jsx("div",{className:"text-gray-500 text-sm leading-relaxed max-w-xs mx-auto",children:o.description})]})},o.title))})]})})]},r.language)},ym=e=>{const r=N.useRef(null),[n,a]=N.useState(!1),[s,o]=N.useState(!1);return N.useEffect(()=>{if(!r.current)return;const l=new IntersectionObserver(([c])=>{if(e!=null&&e.triggerOnce&&s)return;const u=c.isIntersecting;a(u),e!=null&&e.triggerOnce&&u&&o(!0)},{threshold:(e==null?void 0:e.threshold)||.1});return l.observe(r.current),()=>{l.disconnect()}},[e==null?void 0:e.threshold,e==null?void 0:e.triggerOnce,s]),{ref:r,isInView:n}};function vT(e){var r,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(r=0;r<s;r++)e[r]&&(n=vT(e[r]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function Cn(){for(var e,r,n=0,a="",s=arguments.length;n<s;n++)(e=arguments[n])&&(r=vT(e))&&(a&&(a+=" "),a+=r);return a}const AN="-",gG=e=>{const r=vG(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:l=>{const c=l.split(AN);return c[0]===""&&c.length!==1&&c.shift(),yT(c,r)||xG(l)},getConflictingClassGroupIds:(l,c)=>{const u=n[l]||[];return c&&a[l]?[...u,...a[l]]:u}}},yT=(e,r)=>{var l;if(e.length===0)return r.classGroupId;const n=e[0],a=r.nextPart.get(n),s=a?yT(e.slice(1),a):void 0;if(s)return s;if(r.validators.length===0)return;const o=e.join(AN);return(l=r.validators.find(({validator:c})=>c(o)))==null?void 0:l.classGroupId},yk=/^\[(.+)\]$/,xG=e=>{if(yk.test(e)){const r=yk.exec(e)[1],n=r==null?void 0:r.substring(0,r.indexOf(":"));if(n)return"arbitrary.."+n}},vG=e=>{const{theme:r,prefix:n}=e,a={nextPart:new Map,validators:[]};return bG(Object.entries(e.classGroups),n).forEach(([o,l])=>{O5(l,a,o,r)}),a},O5=(e,r,n,a)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?r:bk(r,s);o.classGroupId=n;return}if(typeof s=="function"){if(yG(s)){O5(s(a),r,n,a);return}r.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,l])=>{O5(l,bk(r,o),n,a)})})},bk=(e,r)=>{let n=e;return r.split(AN).forEach(a=>{n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n},yG=e=>e.isThemeGetter,bG=(e,r)=>r?e.map(([n,a])=>{const s=a.map(o=>typeof o=="string"?r+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,c])=>[r+l,c])):o);return[n,s]}):e,wG=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,n=new Map,a=new Map;const s=(o,l)=>{n.set(o,l),r++,r>e&&(r=0,a=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=a.get(o))!==void 0)return s(o,l),l},set(o,l){n.has(o)?n.set(o,l):s(o,l)}}},bT="!",jG=e=>{const{separator:r,experimentalParseClassName:n}=e,a=r.length===1,s=r[0],o=r.length,l=c=>{const u=[];let d=0,f=0,p;for(let v=0;v<c.length;v++){let S=c[v];if(d===0){if(S===s&&(a||c.slice(v,v+o)===r)){u.push(c.slice(f,v)),f=v+o;continue}if(S==="/"){p=v;continue}}S==="["?d++:S==="]"&&d--}const x=u.length===0?c:c.substring(f),g=x.startsWith(bT),y=g?x.substring(1):x,w=p&&p>f?p-f:void 0;return{modifiers:u,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:w}};return n?c=>n({className:c,parseClassName:l}):l},NG=e=>{if(e.length<=1)return e;const r=[];let n=[];return e.forEach(a=>{a[0]==="["?(r.push(...n.sort(),a),n=[]):n.push(a)}),r.push(...n.sort()),r},_G=e=>({cache:wG(e.cacheSize),parseClassName:jG(e),...gG(e)}),SG=/\s+/,kG=(e,r)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:s}=r,o=[],l=e.trim().split(SG);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{modifiers:f,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:g}=n(d);let y=!!g,w=a(y?x.substring(0,g):x);if(!w){if(!y){c=d+(c.length>0?" "+c:c);continue}if(w=a(x),!w){c=d+(c.length>0?" "+c:c);continue}y=!1}const v=NG(f).join(":"),S=p?v+bT:v,k=S+w;if(o.includes(k))continue;o.push(k);const j=s(w,y);for(let C=0;C<j.length;++C){const z=j[C];o.push(S+z)}c=d+(c.length>0?" "+c:c)}return c};function CG(){let e=0,r,n,a="";for(;e<arguments.length;)(r=arguments[e++])&&(n=wT(r))&&(a&&(a+=" "),a+=n);return a}const wT=e=>{if(typeof e=="string")return e;let r,n="";for(let a=0;a<e.length;a++)e[a]&&(r=wT(e[a]))&&(n&&(n+=" "),n+=r);return n};function PG(e,...r){let n,a,s,o=l;function l(u){const d=r.reduce((f,p)=>p(f),e());return n=_G(d),a=n.cache.get,s=n.cache.set,o=c,c(u)}function c(u){const d=a(u);if(d)return d;const f=kG(u,n);return s(u,f),f}return function(){return o(CG.apply(null,arguments))}}const Un=e=>{const r=n=>n[e]||[];return r.isThemeGetter=!0,r},jT=/^\[(?:([a-z-]+):)?(.+)\]$/i,EG=/^\d+\/\d+$/,AG=new Set(["px","full","screen"]),DG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,OG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,TG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,MG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Kc=e=>Wf(e)||AG.has(e)||EG.test(e),Zu=e=>bm(e,"length",qG),Wf=e=>!!e&&!Number.isNaN(Number(e)),I1=e=>bm(e,"number",Wf),op=e=>!!e&&Number.isInteger(Number(e)),IG=e=>e.endsWith("%")&&Wf(e.slice(0,-1)),Hr=e=>jT.test(e),Qu=e=>DG.test(e),RG=new Set(["length","size","percentage"]),zG=e=>bm(e,RG,NT),FG=e=>bm(e,"position",NT),$G=new Set(["image","url"]),BG=e=>bm(e,$G,VG),UG=e=>bm(e,"",HG),lp=()=>!0,bm=(e,r,n)=>{const a=jT.exec(e);return a?a[1]?typeof r=="string"?a[1]===r:r.has(a[1]):n(a[2]):!1},qG=e=>LG.test(e)&&!OG.test(e),NT=()=>!1,HG=e=>TG.test(e),VG=e=>MG.test(e),WG=()=>{const e=Un("colors"),r=Un("spacing"),n=Un("blur"),a=Un("brightness"),s=Un("borderColor"),o=Un("borderRadius"),l=Un("borderSpacing"),c=Un("borderWidth"),u=Un("contrast"),d=Un("grayscale"),f=Un("hueRotate"),p=Un("invert"),x=Un("gap"),g=Un("gradientColorStops"),y=Un("gradientColorStopPositions"),w=Un("inset"),v=Un("margin"),S=Un("opacity"),k=Un("padding"),j=Un("saturate"),C=Un("scale"),z=Un("sepia"),$=Un("skew"),F=Un("space"),V=Un("translate"),B=()=>["auto","contain","none"],K=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",Hr,r],M=()=>[Hr,r],I=()=>["",Kc,Zu],q=()=>["auto",Wf,Hr],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",Hr],P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[Wf,Hr];return{cacheSize:500,separator:":",theme:{colors:[lp],spacing:[Kc,Zu],blur:["none","",Qu,Hr],brightness:L(),borderColor:[e],borderRadius:["none","","full",Qu,Hr],borderSpacing:M(),borderWidth:I(),contrast:L(),grayscale:Y(),hueRotate:L(),invert:Y(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[IG,Zu],inset:T(),margin:T(),opacity:L(),padding:M(),saturate:L(),scale:L(),sepia:Y(),skew:L(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Hr]}],container:["container"],columns:[{columns:[Qu]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Hr]}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",op,Hr]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Hr]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",op,Hr]}],"grid-cols":[{"grid-cols":[lp]}],"col-start-end":[{col:["auto",{span:["full",op,Hr]},Hr]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[lp]}],"row-start-end":[{row:["auto",{span:[op,Hr]},Hr]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Hr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Hr]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...re()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...re(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...re(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Hr,r]}],"min-w":[{"min-w":[Hr,r,"min","max","fit"]}],"max-w":[{"max-w":[Hr,r,"none","full","min","max","fit","prose",{screen:[Qu]},Qu]}],h:[{h:[Hr,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Hr,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Hr,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Hr,r,"auto","min","max","fit"]}],"font-size":[{text:["base",Qu,Zu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",I1]}],"font-family":[{font:[lp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Hr]}],"line-clamp":[{"line-clamp":["none",Wf,I1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Kc,Hr]}],"list-image":[{"list-image":["none",Hr]}],"list-style-type":[{list:["none","disc","decimal",Hr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Kc,Zu]}],"underline-offset":[{"underline-offset":["auto",Kc,Hr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Hr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Hr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),FG]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zG]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},BG]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[Kc,Hr]}],"outline-w":[{outline:[Kc,Zu]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[Kc,Zu]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Qu,UG]}],"shadow-color":[{shadow:[lp]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[a]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Qu,Hr]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[j]}],sepia:[{sepia:[z]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Hr]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",Hr]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",Hr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[op,Hr]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Hr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Hr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Hr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Kc,Zu,I1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},KG=PG(WG);function DN(...e){return KG(Cn(e))}const Kf=({variant:e="primary",size:r="md",className:n,children:a,...s})=>{const o="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",l={primary:"bg-theme-500 text-white hover:bg-theme-600 focus:ring-theme-500",secondary:"bg-theme-500 text-white hover:bg-theme-600 focus:ring-theme-500",outline:"border-2 border-theme-500 text-theme-500 hover:bg-theme-500 hover:text-white focus:ring-theme-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500"},c={sm:"px-3 py-2 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return i.jsx(De.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:DN(o,l[e],c[r],n),...s,children:a})},_T=({children:e,className:r,hover:n=!0})=>i.jsx(De.div,{whileHover:n?{y:-5,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"}:{},transition:{duration:.2},className:DN("bg-white rounded-lg shadow-md overflow-hidden",r),children:e}),xs=({label:e,error:r,className:n,...a})=>i.jsxs("div",{className:"space-y-1",children:[e&&i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),i.jsx(De.input,{whileFocus:{scale:1.02},transition:{duration:.2},className:DN("w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-theme-500 focus:border-theme-500 transition-colors",r&&"border-red-500 focus:ring-red-500 focus:border-red-500",n),...a}),r&&i.jsx(De.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-600",children:r})]}),GG=()=>{const e=new Date,r=new Date;r.setDate(e.getDate()+1);const[n,a]=N.useState(1),[s,o]=N.useState({pickupLocation:"",returnLocation:"",pickupDate:e.toISOString().split("T")[0],returnDate:r.toISOString().split("T")[0],pickupTime:"",returnTime:"",selectedCar:"",firstName:"",lastName:"",email:"",phone:"",licenseNumber:"",cardNumber:"",expiryDate:"",cvv:"",cardName:""}),{ref:l,isInView:c}=ym(),u=[{number:1,title:"Rental Details",icon:$n},{number:2,title:"Select Car",icon:Za},{number:3,title:"Personal Info",icon:Ll},{number:4,title:"Payment",icon:LO}],d=(g,y)=>{o(w=>({...w,[g]:y}))},f=()=>{n<4&&a(n+1)},p=()=>{n>1&&a(n-1)},x=()=>{};return i.jsxs("div",{className:"min-h-screen bg-gray-50 mt-24",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i.jsxs(De.div,{variants:Ra,initial:"initial",animate:"animate",className:"text-center",children:[i.jsx(De.h1,{variants:jr,className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Book Your Car"}),i.jsx(De.p,{variants:jr,className:"text-xl text-gray-600",children:"Complete your reservation in just a few simple steps"})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsx(De.div,{ref:l,variants:Ra,initial:"initial",animate:c?"animate":"initial",className:"mb-8",children:i.jsx("div",{className:"flex items-center justify-between",children:u.map((g,y)=>i.jsxs(De.div,{variants:jr,className:"flex items-center",children:[i.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-full border-2 transition-colors ${n>=g.number?"bg-theme-500 border-theme-500 text-white":"bg-white border-gray-300 text-gray-400"}`,children:i.jsx(g.icon,{className:"w-6 h-6"})}),i.jsxs("div",{className:"ml-3 hidden sm:block",children:[i.jsxs("p",{className:`text-sm font-medium ${n>=g.number?"text-theme-500":"text-gray-400"}`,children:["Step ",g.number]}),i.jsx("p",{className:`text-sm ${n>=g.number?"text-gray-900":"text-gray-400"}`,children:g.title})]}),y<u.length-1&&i.jsx("div",{className:`w-16 h-0.5 ml-4 ${n>g.number?"bg-theme-500":"bg-gray-300"}`})]},g.number))})}),i.jsx(De.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:i.jsxs(_T,{className:"p-8",children:[n===1&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Rental Details"}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(am,{className:"absolute left-3 top-9 text-gray-400 w-5 h-5"}),i.jsx(xs,{label:"Pickup Location",placeholder:"Enter pickup location",value:s.pickupLocation,onChange:g=>d("pickupLocation",g.target.value),className:"pl-10"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(am,{className:"absolute left-3 top-9 text-gray-400 w-5 h-5"}),i.jsx(xs,{label:"Return Location",placeholder:"Enter return location",value:s.returnLocation,onChange:g=>d("returnLocation",g.target.value),className:"pl-10"})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsx(xs,{label:"Pickup Date",type:"date",value:s.pickupDate,onChange:g=>d("pickupDate",g.target.value)}),i.jsx(xs,{label:"Pickup Time",type:"time",value:s.pickupTime,onChange:g=>d("pickupTime",g.target.value)})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsx(xs,{label:"Return Date",type:"date",value:s.returnDate,onChange:g=>d("returnDate",g.target.value)}),i.jsx(xs,{label:"Return Time",type:"time",value:s.returnTime,onChange:g=>d("returnTime",g.target.value)})]})]}),n===2&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Select Your Car"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Choose from our available vehicles for your selected dates."}),i.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:[1,2,3,4].map(g=>i.jsxs(De.div,{whileHover:{scale:1.02},className:`border-2 rounded-lg p-4 cursor-pointer transition-colors ${s.selectedCar===`car-${g}`?"border-theme-500 bg-theme-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>d("selectedCar",`car-${g}`),children:[i.jsx("img",{src:"https://images.pexels.com/photos/116675/pexels-photo-116675.jpeg?auto=compress&cs=tinysrgb&w=400",alt:"Car",className:"w-full h-32 object-cover rounded mb-4"}),i.jsx("h3",{className:"font-semibold text-gray-900",children:"Toyota Corolla"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Economy  5 seats  Automatic"}),i.jsx("p",{className:"text-lg font-bold text-theme-500 mt-2",children:"$35/day"})]},g))})]}),n===3&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Personal Information"}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsx(xs,{label:"First Name",placeholder:"Enter your first name",value:s.firstName,onChange:g=>d("firstName",g.target.value)}),i.jsx(xs,{label:"Last Name",placeholder:"Enter your last name",value:s.lastName,onChange:g=>d("lastName",g.target.value)})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsx(xs,{label:"Email",type:"email",placeholder:"your@email.com",value:s.email,onChange:g=>d("email",g.target.value)}),i.jsx(xs,{label:"Phone",type:"tel",placeholder:"(555) 123-4567",value:s.phone,onChange:g=>d("phone",g.target.value)})]}),i.jsx(xs,{label:"Driver's License Number",placeholder:"Enter your license number",value:s.licenseNumber,onChange:g=>d("licenseNumber",g.target.value)})]}),n===4&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Payment Information"}),i.jsx(xs,{label:"Cardholder Name",placeholder:"Name on card",value:s.cardName,onChange:g=>d("cardName",g.target.value)}),i.jsx(xs,{label:"Card Number",placeholder:"1234 5678 9012 3456",value:s.cardNumber,onChange:g=>d("cardNumber",g.target.value)}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsx(xs,{label:"Expiry Date",placeholder:"MM/YY",value:s.expiryDate,onChange:g=>d("expiryDate",g.target.value)}),i.jsx(xs,{label:"CVV",placeholder:"123",value:s.cvv,onChange:g=>d("cvv",g.target.value)})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mt-8",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Booking Summary"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Car Rental (3 days)"}),i.jsx("span",{children:"$105.00"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Insurance"}),i.jsx("span",{children:"$15.00"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Taxes & Fees"}),i.jsx("span",{children:"$12.00"})]}),i.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold",children:[i.jsx("span",{children:"Total"}),i.jsx("span",{children:"$132.00"})]})]})]})]}),i.jsxs("div",{className:"flex justify-between mt-8",children:[i.jsx(Kf,{variant:"outline",onClick:p,disabled:n===1,children:"Previous"}),n<4?i.jsx(Kf,{onClick:f,children:"Next"}):i.jsx(Kf,{onClick:x,variant:"secondary",children:"Complete Booking"})]})]})},n)]})]})};function Sy(e){return _o({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 64C32 28.7 60.7 0 96 0L256 0c35.3 0 64 28.7 64 64l0 192 8 0c48.6 0 88 39.4 88 88l0 32c0 13.3 10.7 24 24 24s24-10.7 24-24l0-154c-27.6-7.1-48-32.2-48-62l0-64L384 64c-8.8-8.8-8.8-23.2 0-32s23.2-8.8 32 0l77.3 77.3c12 12 18.7 28.3 18.7 45.3l0 13.5 0 24 0 32 0 152c0 39.8-32.2 72-72 72s-72-32.2-72-72l0-32c0-22.1-17.9-40-40-40l-8 0 0 144c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 512c-17.7 0-32-14.3-32-32s14.3-32 32-32L32 64zM96 80l0 96c0 8.8 7.2 16 16 16l128 0c8.8 0 16-7.2 16-16l0-96c0-8.8-7.2-16-16-16L112 64c-8.8 0-16 7.2-16 16z"},child:[]}]})(e)}function uu(e){return _o({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18 16a3 3 0 0 1 0 6h-1a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1zm0 4l.117 -.007a1 1 0 0 0 -.117 -1.993zm.5 -13a2.5 2.5 0 1 1 0 5h-.5v1a1 1 0 0 1 -.883 .993l-.117 .007a1 1 0 0 1 -1 -1v-5a1 1 0 0 1 1 -1zm-.5 3h.5a.5 .5 0 1 0 0 -1h-.5zm-5 0a1 1 0 0 1 0 2h-3v6h3a1 1 0 0 1 0 2h-3a2 2 0 0 1 -2 -2v-6h-2a2 2 0 0 1 -1.995 -1.85l-.005 -.15v-2.17a3 3 0 0 1 -2 -2.83l.005 -.176a3 3 0 1 1 3.996 3.005l-.001 2.171z"},child:[]}]})(e)}function ky(e){return _o({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 2a3 3 0 0 1 3 3v2a3 3 0 0 1 -6 0h-1v10h1a3 3 0 0 1 6 0v2a3 3 0 0 1 -6 0h-4a3 3 0 0 1 -6 0v-2a3 3 0 0 1 6 0h1v-10h-1a3 3 0 1 1 -6 0v-2a3 3 0 1 1 6 0h4a3 3 0 0 1 3 -3"},child:[]}]})(e)}function E0(e){return _o({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M19 3a3 3 0 0 1 1 5.829v1.171a3 3 0 0 1 -3 3h-4v2.171a3.001 3.001 0 1 1 -4 2.829l.005 -.176a3 3 0 0 1 1.995 -2.654v-2.17h-5v2.171a3.001 3.001 0 1 1 -4 2.829l.005 -.176a3 3 0 0 1 1.995 -2.654v-6.341a3 3 0 0 1 -2 -2.829l.005 -.176a3 3 0 1 1 3.996 3.005l-.001 2.171h5v-2.17a3 3 0 0 1 -2 -2.83l.005 -.176a3 3 0 1 1 3.996 3.005l-.001 2.171h4a1 1 0 0 0 1 -1v-1.17a3 3 0 0 1 -2 -2.83l.005 -.176a3 3 0 0 1 2.995 -2.824"},child:[]}]})(e)}function ST(e){return _o({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M221.87,90.86a4,4,0,0,0-6.17-.62l-75.42,75.42A8,8,0,0,1,129,154.35l92.7-92.69a8,8,0,0,0-11.32-11.32L197,63.73A112.05,112.05,0,0,0,22.34,189.25,16.09,16.09,0,0,0,37.46,200H218.53a16,16,0,0,0,15.11-10.71,112.28,112.28,0,0,0-11.77-98.43ZM57.44,166.41a8,8,0,0,1-6.25,9.43,7.89,7.89,0,0,1-1.6.16,8,8,0,0,1-7.83-6.41A88.06,88.06,0,0,1,143.59,65.38a8,8,0,0,1-2.82,15.75,72.07,72.07,0,0,0-83.33,85.28Z"},child:[]}]})(e)}function lv(e){return _o({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.205 4.791a5.938 5.938 0 0 0-4.209-1.754A5.906 5.906 0 0 0 12 4.595a5.904 5.904 0 0 0-3.996-1.558 5.942 5.942 0 0 0-4.213 1.758c-2.353 2.363-2.352 6.059.002 8.412L12 21.414l8.207-8.207c2.354-2.353 2.355-6.049-.002-8.416z"},child:[]}]})(e)}function T5(e){return _o({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 10.999h2C22 5.869 18.127 2 12.99 2v2C17.052 4 20 6.943 20 10.999z"},child:[]},{tag:"path",attr:{d:"M13 8c2.103 0 3 .897 3 3h2c0-3.225-1.775-5-5-5v2zm3.422 5.443a1.001 1.001 0 0 0-1.391.043l-2.393 2.461c-.576-.11-1.734-.471-2.926-1.66-1.192-1.193-1.553-2.354-1.66-2.926l2.459-2.394a1 1 0 0 0 .043-1.391L6.859 3.513a1 1 0 0 0-1.391-.087l-2.17 1.861a1 1 0 0 0-.29.649c-.015.25-.301 6.172 4.291 10.766C11.305 20.707 16.323 21 17.705 21c.202 0 .326-.006.359-.008a.992.992 0 0 0 .648-.291l1.86-2.171a1 1 0 0 0-.086-1.391l-4.064-3.696z"},child:[]}]})(e)}async function A0(e){try{const{data:r,error:n}=await Rt.from("Cars").select("*").eq("id",e).single();return n?(console.error("Error fetching cars:",n),null):r&&{...r,discount_percentage:r.discount||r.discount_percentage||void 0}}catch(r){throw console.error("Unexpected error while fetching a car:",r),Error("Unexpected error while fetching a car:"+r)}}function YG(e){return e?e.toLowerCase().trim().replace(/\s*-\s*/g,"-").replace(/\s+/g,"-").replace(/mercedes-amg/gi,"mercedes").replace(/mercedes\s+amg/gi,"mercedes").replace(/amg-/gi,"").replace(/-amg/gi,"").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-+|-+$/g,""):""}async function ia(e){try{let r=YG(e),{data:n,error:a}=await Rt.storage.from("cars").list(r);if((a||!n||n.length===0)&&e){const g=e.toLowerCase().split(/\s+/);if(g.length>=2){const y=g[0].replace(/mercedes-amg/gi,"mercedes").replace(/amg/gi,""),w=g.slice(1).join("-"),v=`${y}-${w}`.replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-+|-+$/g,"");if(v!==r){const S=await Rt.storage.from("cars").list(v);!S.error&&S.data&&S.data.length>0&&(r=v,n=S.data,a=null)}}}if(a||!n)return console.error(`[fetchImagesByCarName] Error listing files in folder "${r}":`,a),{mainImage:null,photoGallery:[]};const s=n.filter(g=>g.name!==".emptyFolderPlaceholder"&&/\.(jpg|jpeg|png)$/i.test(g.name));if(s.length===0)return{mainImage:null,photoGallery:[]};const o=r.split("-"),l=o.slice(1).join("-"),c=s.find(g=>{const y=g.name.toLowerCase().replace(/\.(jpg|jpeg|png)$/i,"");return!!(y===`${l}-main`||y===`${l}main`||y.endsWith("-main")||y===`${o[0]}-main`||y===l&&s.filter(w=>w.name.toLowerCase().replace(/\.(jpg|jpeg|png)$/i,"")===l).length===1)})||null,u=g=>Rt.storage.from("cars").getPublicUrl(`${r}/${g}`).data.publicUrl,d=c?u(c.name):s.length>0?u(s[0].name):null,f=c||(s.length>0?s[0]:null),p=s.filter(g=>g!==f).sort((g,y)=>{var S,k;const w=parseInt(((S=g.name.match(/-(\d+)\./))==null?void 0:S[1])||"0",10),v=parseInt(((k=y.name.match(/-(\d+)\./))==null?void 0:k[1])||"0",10);return w-v}).map(g=>u(g.name)),x=[...d?[d]:[],...p];return{mainImage:d,photoGallery:x}}catch(r){return console.error("Unexpected error in fetchImagesByCarName:",r),{mainImage:null,photoGallery:[]}}}async function Cy(e){const r=await A0(e);if(!r)throw new Error(`Car with id ${e} not found`);const n=`${r.make} ${r.model}`,{mainImage:a,photoGallery:s}=await ia(n);return r.image_url=a,r.photo_gallery=s,r}async function kT(e){try{if(!e)return[];const r=`%${e}%`,{data:n,error:a}=await Rt.from("Cars").select("id").or(`make.ilike.${r},model.ilike.${r}`);return a?(console.error("Error fetching car IDs:",a),[]):(n==null?void 0:n.map(s=>s.id))??[]}catch(r){return console.error("Unexpected error in fetchCarIdsByQuery:",r),[]}}async function LN(e=1,r=10,n){try{const a=(e-1)*r,s=a+r-1;let o=Rt.from("Cars").select("*",{count:"exact"}).order("id",{ascending:!0}).range(a,s);if(n&&n.trim().length>0){const x=`%${n.trim()}%`;o=o.or(`make.ilike.${x},model.ilike.${x}`)}const{data:l,count:c,error:u}=await o;if(u&&l===null)return console.error("Error fetching paginated cars:",u),{cars:[],total:0,totalPages:0};const d=await Promise.all(l.map(x=>CT(x))),f=c??0,p=Math.ceil(f/r);return{cars:d,total:f,totalPages:p}}catch(a){return console.error("Unexpected error in fetchCarsPaginated:",a),{cars:[],total:0,totalPages:0}}}async function CT(e){const r=e.make+" "+e.model,{mainImage:n,photoGallery:a}=await ia(r);return e.image_url=n,e.photo_gallery=a,e}const XG=Object.freeze(Object.defineProperty({__proto__:null,fetchCarById:A0,fetchCarIdsByQuery:kT,fetchCarWithImagesById:Cy,fetchCarsPaginated:LN,fetchImagesByCarName:ia,toCarDTO:CT},Symbol.toStringTag,{value:"Module"})),ON=()=>EN(),Xa=(e,r)=>{const n=typeof e=="string"?new Date(e):e;if(isNaN(n.getTime()))return"";const a=String(n.getDate()).padStart(2,"0"),s=String(n.getMonth()+1).padStart(2,"0"),o=n.getFullYear();return`${a}.${s}.${o}`},M5=(e,r)=>{const n=l=>{let c;return typeof l=="string"?c=new Date(l):c=new Date(l),c.setHours(0,0,0,0),c},a=n(e),o=n(r).getTime()-a.getTime();return Math.round(o/(1e3*60*60*24))};function sm(e,r,n,a){const s=S=>{if(!S)return{hours:9,minutes:0};const[k,j]=S.split(":").map(Number);return{hours:k||0,minutes:j||0}},o=new Date(e),l=new Date(n),{hours:c,minutes:u}=s(r),{hours:d,minutes:f}=s(a),p=new Date(o);p.setHours(c,u,0,0);const x=new Date(l);d===0&&f===0?(x.setDate(x.getDate()-1),x.setHours(23,59,59,999)):x.setHours(d,f,0,0);const g=x.getTime()-p.getTime();if(g<=0)return{days:0,hours:0,totalHours:0};const y=g/(1e3*60*60),w=Math.floor(y/24),v=Math.round(y%24);return{days:w,hours:v,totalHours:y}}const PT=()=>{const{t:e}=mr();return i.jsxs("div",{className:"w-full h-56 bg-gray-50 flex flex-col items-center justify-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white flex items-center justify-center mb-3 shadow-sm border border-gray-100",children:i.jsx(Hf,{className:"w-8 h-8 text-gray-300"})}),i.jsx("span",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:e("car.noImage")})]})},cv=({car:e,index:r})=>{const{t:n}=mr(),{selectedCurrency:a,eur:s,usd:o}=ON(),[l,c]=N.useState(0),[u,d]=N.useState(!1),[f,p]=N.useState(null),[x,g]=N.useState(e),[y,w]=N.useState([]),[v,S]=N.useState([]),[k,j]=N.useState(!1),C=()=>{try{const O=localStorage.getItem("carFavorites");return O?JSON.parse(O):[]}catch{return[]}},z=O=>String(O),[$,F]=N.useState(()=>{const O=C(),re=z(x.id);return O.includes(re)}),V=(O,re)=>{const Y=C(),P=z(O);if(re)Y.includes(P)||Y.push(P);else{const L=Y.indexOf(P);L>-1&&Y.splice(L,1)}localStorage.setItem("carFavorites",JSON.stringify(Y))},B=()=>{const O=!$;F(O),V(x.id,O),j(!0),setTimeout(()=>j(!1),600)};N.useEffect(()=>{const O=C(),re=z(x.id);F(O.includes(re))},[x.id]),N.useEffect(()=>{(async()=>{if(e){d(!1);try{let re=e.name;(!re||re.trim()==="")&&(re=`${e.make} ${e.model}`);const{mainImage:Y,photoGallery:P}=await ia(re),L={...e,image_url:Y||e.image_url,photo_gallery:P.length>0?P:e.photo_gallery};g(L)}catch(re){console.error("Error fetching car images:",re),g(e)}}})()},[e]),N.useEffect(()=>{(async()=>{if(e)try{const re=typeof e.id=="number"?e.id:parseInt(String(e.id),10),Y=await Rt.from("Rentals").select("*").eq("car_id",re).order("created_at",{ascending:!1}),P=new Date,L=(Y.data||[]).filter(Q=>{if(!Q.end_date)return!1;const oe=Q.end_date.includes("T")?Q.end_date.split("T")[0]:Q.end_date.split(" ")[0],ve=new Date(oe);if(Q.end_time){const[ue,ge]=Q.end_time.split(":").map(Number);ve.setHours(ue||17,ge||0,0,0)}else ve.setHours(23,59,59,999);return ve>=P});let R=[];try{const Q=await Rt.from("BorrowRequest").select("*").eq("car_id",re).in("status",["APPROVED"]).order("requested_at",{ascending:!1});Q.data&&Q.data.length>0&&(R=Q.data)}catch{}const G=L.map(Q=>({id:Q.id.toString(),user_id:Q.user_id,car_id:Q.car_id.toString(),start_date:Q.start_date,start_time:Q.start_time||"09:00:00",end_date:Q.end_date,end_time:Q.end_time||"17:00:00",status:"APPROVED",created_at:Q.created_at,updated_at:Q.updated_at})),X=R.map(Q=>({id:Q.id.toString(),user_id:Q.user_id,car_id:Q.car_id.toString(),start_date:Q.start_date,start_time:Q.start_time||"09:00:00",end_date:Q.end_date,end_time:Q.end_time||"17:00:00",status:"APPROVED",created_at:Q.requested_at||Q.created_at,updated_at:Q.updated_at}));S(G),w(X);const Z=[...G,...X].filter(Q=>Q.start_date&&Q.end_date),ae=new Date;let le=null;if(Z.length>0){const Q=[...Z].sort((ve,ue)=>{const ge=new Date(ve.start_date||0),ie=new Date(ue.start_date||0);return ge.getTime()-ie.getTime()});let oe=null;for(let ve=0;ve<Q.length;ve++){const ue=Q[ve];if(!ue.end_date)continue;const ge=ue.end_date.includes("T")?ue.end_date.split("T")[0]:ue.end_date.split(" ")[0],ie=new Date(ge);if(ue.end_time){const[se,_e]=ue.end_time.split(":").map(Number);ie.setHours(se||17,_e||0,0,0)}else ie.setHours(17,0,0,0);if(ie.setHours(ie.getHours()+12),ve===0)oe=ie;else{const se=Q[ve-1];if(!se.end_date)continue;const _e=se.end_date.includes("T")?se.end_date.split("T")[0]:se.end_date.split(" ")[0],Te=new Date(_e);if(se.end_time){const[Pe,be]=se.end_time.split(":").map(Number);Te.setHours(Pe||17,be||0,0,0)}else Te.setHours(17,0,0,0);Te.setHours(Te.getHours()+12);const Xe=ue.start_date.includes("T")?ue.start_date.split("T")[0]:ue.start_date.split(" ")[0],Me=new Date(Xe);if(ue.start_time){const[Pe,be]=ue.start_time.split(":").map(Number);Me.setHours(Pe||9,be||0,0,0)}else Me.setHours(9,0,0,0);const Re=Me.getTime()-Te.getTime(),xe=24*60*60*1e3;Re>=0&&Re<=xe+36e5||oe&&oe>ae&&(le=oe),oe=ie}}oe&&oe>ae&&(le=oe)}p(le)}catch(re){console.error("Error fetching car availability:",re)}})()},[e]);const K=Pn(),T=O=>Math.round(a==="MDL"?O:a==="EUR"?O/s:a==="USD"?O/o:O),M=O=>{switch(O){case"EUR":return"";case"USD":return"$";case"MDL":return"MDL";default:return O}},I=(O,re)=>{const Y=M(re);return re==="MDL"?`${O} ${Y}`:`${Y}${O}`},q=O=>{switch(O.toLowerCase()){case"automatic":return tt.createElement(uu,{className:"w-5 h-5 text-gray-600"});case"manual":return tt.createElement(E0,{className:"w-5 h-5 text-gray-600"});case"hybrid":return i.jsx(TO,{className:"w-5 h-5 text-green-500"});default:return tt.createElement(uu,{className:"w-5 h-5 text-gray-600"})}},H=()=>{d(!0)},te=x.image_url||x.photo_gallery&&x.photo_gallery.length>0;return i.jsx("div",{children:i.jsxs(_T,{className:"overflow-hidden flex flex-col bg-white transition-all duration-300 border border-gray-300 group rounded-3xl !shadow-none cursor-pointer hover:-translate-y-2 hover:shadow-lg",hover:!1,children:[i.jsxs("div",{className:"relative overflow-hidden",onMouseMove:O=>{if(x.photo_gallery&&x.photo_gallery.length>1){const re=O.currentTarget,Y=re.getBoundingClientRect(),P=O.clientX-Y.left,L=Y.width,G=Math.min(x.photo_gallery.length,5),X=Math.floor(P/L*G),D=Math.max(0,Math.min(X,G-1));c(D);const Z=re.querySelector(".photo-gallery");if(Z){const ae=-(D*100);Z.style.transform=`translateX(${ae}%)`}}},onMouseLeave:O=>{if(x.photo_gallery&&x.photo_gallery.length>1){c(0);const re=O.currentTarget.querySelector(".photo-gallery");re&&(re.style.transform="translateX(0%)")}},children:[i.jsx("div",{className:"flex transition-transform duration-300 ease-out group-hover:scale-105 photo-gallery",children:x.photo_gallery&&x.photo_gallery.length>1?(()=>{const re=x.photo_gallery.slice(0,5),P=x.photo_gallery.length-5;return re.map((L,R)=>{const G=R===re.length-1,X=G&&(P>0||P===0);return i.jsxs("div",{className:`relative w-full h-56 flex-shrink-0 ${X?"cursor-pointer":""}`,style:{minWidth:"100%"},onClick:X?()=>K(`/cars/${x.id}`):void 0,children:[i.jsx("img",{src:L,alt:`${x.make} ${x.model} - Photo ${R+1}`,className:"w-full h-56 object-cover object-center bg-gray-100",onError:()=>{}}),G&&P>0?i.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center text-white",children:[i.jsx(Hf,{className:"w-8 h-8 mb-2"}),i.jsx("span",{className:"text-lg font-semibold",children:n("car.seeMorePhotos",{count:P})})]}):G&&P===0?i.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center text-white",children:[i.jsx(Hf,{className:"w-8 h-8 mb-2"}),i.jsx("span",{className:"text-lg font-semibold",children:n("car.seeCar")})]}):null]},R)})})():te&&!u&&x.image_url?i.jsx("img",{src:x.image_url,alt:x.make+" "+x.model,className:"w-full h-56 object-cover object-center bg-gray-100",onError:H}):i.jsx(PT,{})}),x.photo_gallery&&x.photo_gallery.length>1&&i.jsx("div",{className:"absolute bottom-3 left-0 right-0 flex justify-center space-x-1 px-4",children:Array.from({length:Math.min(x.photo_gallery.length,5)}).map((O,re)=>i.jsx("div",{className:`flex-1 h-0.5 rounded-full transition-colors duration-200 ${re===l?"bg-white/90":"bg-white/30"}`},re))}),(()=>{const O=D=>v.length===0?!1:v.some(Z=>{if(!Z.end_date||!Z.end_time)return!1;const ae=Z.end_date.includes("T")?Z.end_date.split("T")[0]:Z.end_date.split(" ")[0],le=new Date(ae+"T00:00:00"),[Q,oe]=Z.end_time.split(":").map(Number);le.setHours(Q||17,oe||0,0,0);const ve=new Date(le);ve.setHours(ve.getHours()+12);const ue=new Date(D);ue.setHours(0,0,0,0);const ge=new Date(le);ge.setHours(0,0,0,0);const ie=new Date(ve);return ie.setHours(0,0,0,0),ge.getTime()===ie.getTime()?Xa(ue)===Xa(ge):ue>=ge&&ue<=ie}),re=D=>{const Z=D.split("T")[0],ae=new Date(Z+"T00:00:00");ae.setHours(0,0,0,0);const le=new Date;return le.setHours(0,0,0,0),ae<le?!1:O(ae)||y.length>0&&y.some(oe=>{if(!oe.start_date||!oe.end_date)return!1;const ve=oe.start_date.includes("T")?oe.start_date.split("T")[0]:oe.start_date.split(" ")[0],ue=new Date(ve+"T00:00:00");ue.setHours(0,0,0,0);const ge=oe.end_date.includes("T")?oe.end_date.split("T")[0]:oe.end_date.split(" ")[0],ie=new Date(ge+"T23:59:59");return ie.setHours(23,59,59,999),ie>=le&&ae>=ue&&ae<=ie})?!0:v.length>0?v.some(oe=>{if(!oe.start_date||!oe.end_date)return!1;const ve=oe.start_date.includes("T")?oe.start_date.split("T")[0]:oe.start_date.split(" ")[0],ue=new Date(ve+"T00:00:00");ue.setHours(0,0,0,0);const ge=oe.end_date.includes("T")?oe.end_date.split("T")[0]:oe.end_date.split(" ")[0],ie=new Date(ge+"T23:59:59");return ie.setHours(23,59,59,999),ie>=le&&ae>=ue&&ae<=ie}):!1},Y=()=>{const D=new Date;D.setHours(0,0,0,0);const Z=Xa(D);let ae=new Date(D);for(let le=0;le<60;le++){const Q=Xa(ae),oe=Q<Z,ve=f?(()=>{const ge=new Date(f);ge.setHours(0,0,0,0);const ie=new Date(Q);return ie.setHours(0,0,0,0),ge<=D&&ie<ge})():!1,ue=re(Q);if(!oe&&!ve&&!ue)return ae;ae.setDate(ae.getDate()+1)}return null},P=D=>{const Z=D.getDate(),le=["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"][D.getMonth()];return`Liber de pe ${Z} ${le}`},L=Y(),R=new Date;R.setHours(0,0,0,0);const G=L&&Xa(L)===Xa(R),X=L?G?"Disponibil":P(L):x.status==="available"||x.status==="Available"?"Disponibil":x.status||"";return!X||X==="Disponibil"?null:i.jsxs("div",{className:"absolute top-3 left-3 bg-black/60 backdrop-blur-md text-white rounded-xl px-3 py-1.5 text-xs font-normal shadow-sm flex items-center gap-1.5",children:[i.jsx("svg",{className:"w-3 h-3 flex-shrink-0 opacity-80",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("span",{className:"whitespace-nowrap",children:X})]})})(),i.jsx("div",{className:`absolute top-3 right-3 z-10 group/heart transition-opacity duration-300 cursor-pointer ${$?"opacity-100":"opacity-0 group-hover:opacity-100"}`,onClick:O=>{O.stopPropagation(),B()},children:i.jsxs(De.div,{animate:{scale:k?[1,1.5,1.2,1]:1,rotate:k?[0,-10,10,-5,5,0]:0},transition:{duration:.6,ease:"easeOut"},className:"relative",children:[tt.createElement(lv,{className:`transition-all duration-300 ${$?"w-6 h-6 text-red-500":"w-6 h-6 text-gray-400 group-hover/heart:text-gray-200 group-hover/heart:scale-110 group-hover/heart:drop-shadow-[0_0_8px_rgba(239,68,68,0.5)]"}`}),i.jsx(hr,{children:k&&$&&i.jsx(i.Fragment,{children:[...Array(8)].map((O,re)=>i.jsx(De.div,{initial:{opacity:1,scale:0,x:0,y:0},animate:{opacity:[1,1,0],scale:[0,1,.5],x:Math.cos(re*Math.PI*2/8)*30,y:Math.sin(re*Math.PI*2/8)*30},exit:{opacity:0,scale:0},transition:{duration:.6,delay:re*.05,ease:"easeOut"},className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:i.jsx(De.div,{className:"w-2 h-2 bg-red-500 rounded-full",animate:{scale:[0,1,0]}})},re))})}),i.jsx(hr,{children:k&&i.jsx(De.div,{initial:{scale:0,opacity:.6},animate:{scale:2.5,opacity:0},exit:{scale:0,opacity:0},transition:{duration:.6,ease:"easeOut"},className:"absolute inset-0 -m-3 rounded-full border-2 border-red-400 pointer-events-none"})})]})})]}),i.jsxs("div",{className:"p-5 flex flex-col justify-between flex-1",onClick:()=>K(`/cars/${x.id}`),children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-gray-700 transition-colors duration-300",children:[x.make," ",x.model]}),i.jsx("span",{className:"text-lg font-bold text-gray-600",children:x.year})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:tt.createElement(ST,{className:"w-4 h-4 text-gray-600"})}),i.jsx("span",{className:"text-sm font-medium",children:n("car.mileageLimit")})]}),i.jsxs("div",{className:"flex items-center justify-end gap-2 text-gray-600",children:[i.jsx("span",{className:"text-sm font-medium",children:(()=>{var re;const O=((re=x.transmission)==null?void 0:re.trim())||"";return O.toLowerCase()==="automatic"||O==="Automatic"?n("car.transmission.automatic"):O.toLowerCase()==="manual"||O==="Manual"?n("car.transmission.manual"):O||n("car.transmission.automatic")})()}),i.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:q(x.transmission||"Automatic")})]}),i.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:tt.createElement(Sy,{className:"w-4 h-4 text-gray-600"})}),i.jsx("span",{className:"text-sm font-medium",children:x.fuel_type==="gasoline"?n("car.fuel.gasoline"):x.fuel_type==="diesel"?n("car.fuel.diesel"):x.fuel_type==="petrol"?n("car.fuel.benzina"):x.fuel_type==="hybrid"?n("car.fuel.hybrid"):x.fuel_type==="electric"?n("car.fuel.electric"):x.fuel_type})]}),i.jsxs("div",{className:"flex items-center justify-end gap-2 text-gray-600",children:[i.jsx("span",{className:"text-sm font-medium",children:x.drivetrain||""}),i.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:tt.createElement(ky,{className:"w-4 h-4 text-gray-600"})})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[(()=>{const O=x.price_over_30_days||0,re=x.discount_percentage||x.discount_percentage||0,Y=re>0?Math.round(O*(1-re/100)):O;return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-xl font-bold text-gray-800",children:I(T(Y),a)}),i.jsx("span",{className:"text-gray-500 text-sm",children:n("car.perDay")})]}),re>0&&i.jsx("span",{className:"text-xs text-red-300 line-through font-semibold decoration-red-400/60",children:I(T(O),a)})]})})(),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-sm font-semibold text-gray-900 h-6 flex items-center justify-center",children:x.rating}),i.jsx("img",{src:"/assets/star.png",alt:"Rating",className:"w-6 h-6 flex-shrink-0 ml-2 relative bottom-0.5"})]})]})]})]})})};async function Py(e){try{let r=Rt.from("Cars").select("*").or("status.is.null,status.neq.deleted").order("id",{ascending:!0});e&&(r=r.limit(e));const{data:n,error:a}=await r;return a?(console.error("Error fetching cars:",a),[]):n??[]}catch(r){return console.error("Unexpected error in fetchCars:",r),[]}}async function JG(e){try{const{data:r,error:n}=await Rt.from("Cars").select("model").eq("make",e);return n?(console.error("Error fetching "+e+" models:",n),[]):(r==null?void 0:r.map(a=>a.model))??[]}catch(r){return console.error("Unexpected error in fetchCars:",r),[]}}async function uv(e){try{const r=await ZG(e);return await Promise.all(r.map(async a=>{let s=a.name;(!s||s.trim()==="")&&(s=`${a.make} ${a.model}`);const{mainImage:o,photoGallery:l}=await ia(s);return{...a,discount_percentage:a.discount,image_url:o,photo_gallery:l}}))}catch(r){return console.error("Error fetching filtered cars with photos:",r),[]}}async function ZG(e){try{let r=Rt.from("Cars").select("*");if(r=r.or("status.is.null,status.neq.deleted"),e.make){const o=e.make.split(" ")[0];r=r.ilike("make",`${o}%`)}if(e.model&&(r=r.ilike("model",`%${e.model}%`)),e.minPrice!==void 0&&e.minPrice!==null&&typeof e.minPrice=="number"&&Number.isFinite(e.minPrice)&&(r=r.gte("price_2_4_days",e.minPrice)),e.maxPrice!==void 0&&e.maxPrice!==null&&typeof e.maxPrice=="number"&&Number.isFinite(e.maxPrice)&&(r=r.lte("price_2_4_days",e.maxPrice)),e.minYear!==void 0&&(r=r.gte("year",e.minYear)),e.maxYear!==void 0&&(r=r.lte("year",e.maxYear)),e.transmission&&(r=r.eq("transmission",e.transmission)),e.fuelType){const o={Benzina:"gasoline",Diesel:"diesel",Electric:"electric",Hybrid:"hybrid"}[e.fuelType]||e.fuelType.toLowerCase();r=r.eq("fuel_type",o)}typeof e.seats=="number"&&Number.isFinite(e.seats)&&(r=r.eq("seats",e.seats)),e.status&&e.status!=="Any"&&e.status!=="All"&&(r=r.eq("status",e.status)),r=r.order("id",{ascending:!0});const{data:n,error:a}=await r;return a?(console.error("Error fetching filtered cars:",a),[]):n??[]}catch(r){return console.error("Unexpected error in fetchFilteredCars:",r),[]}}async function Ey(e){const r=await Py(e);return await Promise.all(r.map(async a=>{let s=a.name;(!s||s.trim()==="")&&(s=`${a.make} ${a.model}`);const{mainImage:o,photoGallery:l}=await ia(s);return{...a,discount_percentage:a.discount,image_url:o,photo_gallery:l}}))}const ET=()=>{const{t:e}=mr();return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"mt-8 bg-white rounded-2xl border border-gray-300 shadow-sm p-6 md:p-8 mb-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("span",{className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:e("rentalOptions.sectionLabel")}),i.jsx("h2",{className:"mt-3 text-2xl md:text-3xl font-bold text-gray-800 leading-tight",children:e("rentalOptions.sectionTitle")})]}),i.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-300 p-5 hover:shadow-lg transition-all",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:i.jsx(Zx,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-1.5 text-sm",children:e("rentalOptions.unlimitedMileage.title")}),i.jsx("p",{className:"text-red-600 font-medium text-xs",children:e("rentalOptions.unlimitedMileage.description")})]})]})}),i.jsx("div",{className:"bg-white rounded-xl border border-gray-300 p-5 hover:shadow-lg transition-all",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:i.jsx(tv,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-1.5 text-sm",children:e("rentalOptions.personalDriver.title")}),i.jsx("p",{className:"text-gray-700 font-medium text-xs",children:e("rentalOptions.personalDriver.price")})]})]})}),i.jsx("div",{className:"bg-white rounded-xl border border-gray-300 p-5 hover:shadow-lg transition-all",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:i.jsx(C0,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-1.5 text-sm",children:e("rentalOptions.priorityService.title")}),i.jsx("p",{className:"text-gray-700 font-medium text-xs",children:e("rentalOptions.priorityService.price")})]})]})}),i.jsx("div",{className:"bg-white rounded-xl border border-gray-300 p-5 hover:shadow-lg transition-all",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:i.jsx(MH,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-1.5 text-sm",children:e("rentalOptions.childCarSeat.title")}),i.jsx("p",{className:"text-gray-700 font-medium text-xs",children:e("rentalOptions.childCarSeat.price")})]})]})}),i.jsx("div",{className:"bg-white rounded-xl border border-gray-300 p-5 hover:shadow-lg transition-all",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:i.jsx(GH,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-1.5 text-sm",children:e("rentalOptions.simCard.title")}),i.jsx("p",{className:"text-gray-700 font-medium text-xs",children:e("rentalOptions.simCard.price")})]})]})}),i.jsx("div",{className:"bg-white rounded-xl border border-gray-300 p-5 hover:shadow-lg transition-all",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:i.jsx(YH,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-1.5 text-sm",children:e("rentalOptions.roadsideAssistance.title")}),i.jsx("p",{className:"text-gray-700 font-medium text-xs",children:e("rentalOptions.roadsideAssistance.price")})]})]})}),i.jsx("div",{className:"bg-white rounded-xl border border-gray-300 p-5 hover:shadow-lg transition-all",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:i.jsx(am,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-1.5 text-sm",children:e("rentalOptions.airportDelivery.title")}),i.jsx("p",{className:"text-green-600 font-medium text-xs",children:e("rentalOptions.airportDelivery.price")})]})]})})]})]})})},TN=({transparent:e=!1})=>{const[r,n]=N.useState(!1),{t:a}=mr();return i.jsx(i.Fragment,{children:i.jsxs("div",{className:`mt-8 rounded-2xl border shadow-sm p-6 md:p-8 mb-8 ${e?"bg-white/10 backdrop-blur-md border-white/20":"bg-white border-gray-300"}`,children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("span",{className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:a("contract.sectionLabel")}),i.jsx("h2",{className:`mt-3 text-3xl font-bold leading-tight ${e?"text-white":"text-gray-800"}`,children:a("contract.sectionTitle")}),i.jsx("p",{className:`mt-4 text-sm leading-relaxed max-w-4xl ${e?"text-gray-200":"text-gray-500"}`,children:a("contract.description")})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:i.jsx(nu,{className:"w-5 h-5 text-white"})}),i.jsx("h3",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:a("contract.requirementsTitle")})]}),i.jsx("p",{className:`mt-4 text-sm leading-relaxed ${e?"text-gray-200":"text-gray-500"}`,children:a("contract.requirementsDescription")})]}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:`text-center rounded-xl border p-5 hover:shadow-lg transition-all ${e?"bg-white/10 border-white/20 hover:bg-white/20":"bg-white border-gray-300"}`,children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl mx-auto mb-3 shadow-lg flex items-center justify-center bg-gradient-to-b from-red-500 to-red-600",children:i.jsx(Ll,{className:"w-6 h-6 text-white"})}),i.jsx("div",{className:`text-xs font-semibold uppercase tracking-wide mb-2 ${e?"text-gray-300":"text-gray-500"}`,children:a("contract.age.label")}),i.jsx("div",{className:`text-xs sm:text-sm font-bold ${e?"text-white":"text-gray-800"}`,children:a("contract.age.value")})]}),i.jsxs("div",{className:`text-center rounded-xl border p-5 hover:shadow-lg transition-all ${e?"bg-white/10 border-white/20 hover:bg-white/20":"bg-white border-gray-300"}`,children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl mx-auto mb-3 shadow-lg flex items-center justify-center bg-gradient-to-b from-red-500 to-red-600",children:i.jsx($H,{className:"w-6 h-6 text-white"})}),i.jsx("div",{className:`text-xs font-semibold uppercase tracking-wide mb-2 ${e?"text-gray-300":"text-gray-500"}`,children:a("contract.license.label")}),i.jsx("div",{className:`text-xs sm:text-sm font-bold ${e?"text-white":"text-gray-800"}`,children:a("contract.license.value")})]}),i.jsxs("div",{className:`text-center rounded-xl border p-5 hover:shadow-lg transition-all ${e?"bg-white/10 border-white/20 hover:bg-white/20":"bg-white border-gray-300"}`,children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl mx-auto mb-3 shadow-lg flex items-center justify-center bg-gradient-to-b from-red-500 to-red-600",children:i.jsx($n,{className:"w-6 h-6 text-white"})}),i.jsx("div",{className:`text-xs font-semibold uppercase tracking-wide mb-2 ${e?"text-gray-300":"text-gray-500"}`,children:a("contract.experience.label")}),i.jsx("div",{className:`text-xs sm:text-sm font-bold ${e?"text-white":"text-gray-800"}`,children:a("contract.experience.value")})]}),i.jsxs("div",{className:`text-center rounded-xl border p-5 hover:shadow-lg transition-all ${e?"bg-white/10 border-white/20 hover:bg-white/20":"bg-white border-gray-300"}`,children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl mx-auto mb-3 shadow-lg flex items-center justify-center bg-gradient-to-b from-red-500 to-red-600",children:i.jsx(Zx,{className:"w-6 h-6 text-white"})}),i.jsx("div",{className:`text-xs font-semibold uppercase tracking-wide mb-2 ${e?"text-gray-300":"text-gray-500"}`,children:a("contract.mileage.label")}),i.jsx("div",{className:`text-xs sm:text-sm font-bold ${e?"text-white":"text-gray-800"}`,children:a("contract.mileage.value")})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("button",{onClick:()=>n(!r),className:`w-full flex items-center justify-center gap-2 p-4 rounded-xl border transition-all group ${e?"bg-white/10 hover:bg-white/20 border-white/20":"bg-gray-50 hover:bg-gray-100 border-gray-300"}`,children:[i.jsx("span",{className:`text-sm font-semibold ${e?"text-white":"text-gray-800"}`,children:a("contract.moreDetails")}),i.jsx(by,{className:`w-5 h-5 transition-transform duration-300 ${r?"rotate-180":""} ${e?"text-gray-300":"text-gray-600"}`})]}),r&&i.jsxs("div",{className:"mt-4 grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[i.jsx(Uo,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),i.jsx("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:a("contract.details.identityCard")})]}),i.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[i.jsx(Uo,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),i.jsx("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:a("contract.details.fullPayment")})]}),i.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[i.jsx(Uo,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),i.jsx("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:a("contract.details.finesResponsibility")})]}),i.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[i.jsx(Uo,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),i.jsx("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:a("contract.details.cascoResponsibility")})]}),i.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[i.jsx(Uo,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),i.jsx("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:a("contract.details.paymentMethods")})]}),i.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[i.jsx(Uo,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),i.jsx("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:a("contract.details.earlyReturn")})]}),i.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[i.jsx(Uo,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),i.jsx("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:a("contract.details.extension")})]}),i.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[i.jsx(Uo,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),i.jsxs("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:[a("contract.details.delivery").replace("+373 62 000 112",""),i.jsx("a",{href:"tel:+37362000112",className:"text-red-500 font-semibold hover:underline",children:"+373 62 000 112"}),"."]})]}),i.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border md:col-span-2 ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[i.jsx(Uo,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),i.jsxs("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:[i.jsxs("span",{className:"font-semibold",children:[a("contract.details.deposit.title"),":"]})," ",a("contract.details.deposit.description")]})]}),i.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border md:col-span-2 ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[i.jsx(Uo,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),i.jsxs("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:[i.jsxs("span",{className:"font-semibold",children:[a("contract.details.mileageLimit.title"),":"]})," ",a("contract.details.mileageLimit.description")]})]}),i.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border md:col-span-2 ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[i.jsx(Uo,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),i.jsxs("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:[i.jsxs("span",{className:"font-semibold",children:[a("contract.details.secondDriver.title"),":"]})," ",a("contract.details.secondDriver.description")]})]}),i.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border md:col-span-2 ${e?"bg-white/10 border-white/20":"bg-white border-gray-300"}`,children:[i.jsx(Uo,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),i.jsxs("span",{className:`text-sm leading-relaxed ${e?"text-gray-200":"text-gray-700"}`,children:[i.jsxs("span",{className:"font-semibold",children:[a("contract.details.depositReturn.title"),":"]})," ",a("contract.details.depositReturn.description")]})]})]})]})]})})},QG=()=>{const{ref:e,isInView:r}=ym({threshold:.1,triggerOnce:!0}),[n]=yu(),a=Pn(),{t:s}=mr(),o=tt.useRef(!1);N.useEffect(()=>{const be=window.location.search;if(be.includes("~and~")||be.includes("~")||be.includes("&/")||be.includes("/&")||(be.match(/&/g)||[]).length>10){a("/cars",{replace:!0});return}},[]);const[l,c]=N.useState([]),[u,d]=N.useState([]),[f,p]=N.useState(!0),[x,g]=N.useState([]),[y,w]=N.useState([]),[v,S]=N.useState(!1),[k,j]=N.useState("price-low"),[C,z]=N.useState([]),[$,F]=N.useState(!1),[V,B]=N.useState(0),[K,T]=N.useState(!1),M=tt.useRef(null),I=tt.useRef(null);async function q(){p(!0);try{const be=await Py(),Ae=be.map(Ve=>({...Ve,discount_percentage:Ve.discount}));c(Ae),d(Ae);const Ie=be.map(Ve=>{const at=Ve.make||"";return(at.includes("-")?at.split("-")[0]:at).trim().toLowerCase()}),He=Array.from(new Set(Ie)).filter(Boolean).map(Ve=>Ve.charAt(0).toUpperCase()+Ve.slice(1).toLowerCase());g(He)}catch(be){console.error("Error fetching cars:",be)}finally{p(!1)}}async function H(be){S(!0);try{await new Promise(Ce=>setTimeout(Ce,100));const Ae=be.trim().toLowerCase(),Ie=u.filter(Ce=>{const He=Ce.make||"";return(He.includes("-")?He.split("-")[0]:He).trim().toLowerCase()===Ae}).map(Ce=>Ce.model).filter(Ce=>Ce!=null&&Ce.trim()!=="").filter((Ce,He,Ve)=>Ve.indexOf(Ce)===He);w(Ie)}finally{S(!1)}}async function te(be){p(!0);try{const Ae={make:be.make||void 0,model:be.model||void 0,minPrice:ue.priceRange[0],maxPrice:ue.priceRange[1],minYear:ue.yearRange[0],maxYear:ue.yearRange[1],fuelType:ue.fuelType!=="Any"?jV[ue.fuelType]:void 0,transmission:ue.transmission!=="Any"?ue.transmission:void 0,seats:ue.seats!==void 0?ue.seats:void 0,category:ue.category!=="Any"?ue.category:void 0},Ie=await uv(Ae);c(Ie)}catch(Ae){console.error("Error fetching filtered cars:",Ae)}finally{p(!1)}}N.useEffect(()=>{o.current||(o.current=!0,q())},[]),N.useEffect(()=>{(async()=>{F(!0);try{const He=(await uv({limit:15})).sort(()=>Math.random()-.5).slice(0,5);z(He)}catch(Ae){console.error("Error fetching recommended cars:",Ae)}finally{F(!1)}})()},[]),N.useEffect(()=>{if(C.length<=1||K)return;const be=setInterval(()=>{B(Ae=>(Ae+1)%Math.ceil(C.length/1))},4e3);return()=>clearInterval(be)},[C.length,K]),N.useEffect(()=>{if(M.current){const Ae=V*336;M.current.scrollTo({left:Ae,behavior:"smooth"})}},[V]);const O=tt.useCallback(()=>{T(!0),I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{T(!1)},5e3)},[]);N.useEffect(()=>{const be=()=>{O()},Ae=M.current;if(Ae)return Ae.addEventListener("scroll",be),()=>{Ae.removeEventListener("scroll",be)}},[C.length,O]);const[re,Y]=N.useState({make:"",model:""}),[P,L]=N.useState({make:"",model:""}),[R,G]=N.useState(!1),[X,D]=N.useState(!1),[Z,ae]=N.useState(!1),le=()=>{G(!1),D(!1)},Q=()=>{ae(!1),te({make:re.make,model:re.model})},oe=be=>{if(be==="make"&&R||be==="model"&&X){le();return}le(),be==="make"?G(!0):be==="model"&&D(!0)};N.useEffect(()=>{const be=Ae=>{Ae.target.closest(".dropdown-container")||le()};return(R||X)&&document.addEventListener("mousedown",be),()=>document.removeEventListener("mousedown",be)},[R,X]),N.useEffect(()=>(Z?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[Z]);const ve={priceRange:[0,1e4],yearRange:[new Date().getFullYear()-10,new Date().getFullYear()],transmission:"Any",fuelType:"Any",category:"Any",seats:void 0},[ue,ge]=N.useState(ve),[ie,se]=N.useState("");N.useEffect(()=>{const be=n.get("make"),Ae=n.get("model"),Ie=Ce=>Ce!==null&&Ce.trim()!==""&&Ce.length<100&&!Ce.includes("~")&&!Ce.includes("<")&&!Ce.includes(">")&&!Ce.includes("&")&&!Ce.includes("%");if(be&&Ie(be)||Ae&&Ie(Ae)){const Ce={make:be&&Ie(be)?be:"",model:Ae&&Ie(Ae)?Ae:""};Y(Ce),L(Ce),te(Ce)}},[]),N.useEffect(()=>{const be=n.get("make");be&&(Ie=>Ie!==null&&Ie.trim()!==""&&Ie.length<100&&!Ie.includes("~")&&!Ie.includes("<")&&!Ie.includes(">")&&!Ie.includes("&")&&!Ie.includes("%"))(be)&&u.length>0&&!re.make&&H(be)},[u,n]);const _e=N.useMemo(()=>x.map(be=>{const Ie=be.split(" ")[0];return Ie.includes("-")?Ie.split("-")[0]:Ie}).filter((be,Ae,Ie)=>Ie.indexOf(be)===Ae),[x]),Te=be=>{const Ae=be.toLowerCase();return{mercedes:"/logos/merc.svg","mercedes-benz":"/logos/merc.svg",bmw:"/logos/bmw.webp",audi:"/logos/audi.png",hyundai:"/logos/hyundai.png",maserati:"/logos/maserati.png",volkswagen:"/logos/volkswagen-1-logo-black-and-white.png",vw:"/logos/volkswagen-1-logo-black-and-white.png",lincoln:"/logos/lincoln.png",porsche:"/logos/porsche.png"}[Ae]||null},Xe=be=>{const Ae=be.toLowerCase();return Ae==="audi"||Ae==="maserati"||Ae==="lincoln"||Ae==="porsche"?"w-6 h-6":"w-4 h-4"},Me=(be,Ae)=>{Y(Ie=>{const Ce={...Ie,[be]:Ae};if(be==="make"){const He=Ae;if(He&&Ie.model){const Ve=He.trim().toLowerCase();u.filter(ut=>{const Ft=ut.make||"";return(Ft.includes("-")?Ft.split("-")[0]:Ft).trim().toLowerCase()===Ve}).map(ut=>ut.model).filter(ut=>ut!=null&&ut.trim()!=="").some(ut=>ut.toLowerCase()===Ie.model.toLowerCase())||(Ce.model="")}else He||(Ce.model="");He?H(He):w([])}return Ce}),se("")},Re=()=>{Y({make:"",model:""}),L({make:"",model:""}),ge(Ae=>({...Ae,...ve})),window.location.pathname+window.location.search!=="/cars"&&a("/cars",{replace:!0}),q()},xe=(be,Ae)=>{Ae==="Any"&&(Ae=void 0),ge(Ie=>({...Ie,[be]:Ae}))},Pe=be=>{if(!(be.make||be.model)){se("V rugm s selectai cel puin un filtru pentru cutare."),setTimeout(()=>se(""),3e3);return}se(""),L({make:be.make,model:be.model}),le();const Ie=Qe=>!!(Qe&&Qe.trim()!==""&&Qe.length<100&&!Qe.includes("~")&&!Qe.includes("<")&&!Qe.includes(">")&&!Qe.includes("&")&&!Qe.includes("%"));if(be.make&&!Ie(be.make)||be.model&&!Ie(be.model)){se("Filtrele conin caractere nevalide."),setTimeout(()=>se(""),3e3);return}const Ce=new URLSearchParams;be.make&&Ie(be.make)&&Ce.set("make",be.make),be.model&&Ie(be.model)&&Ce.set("model",be.model);const He=Ce.toString(),Ve=`/cars${He?`?${He}`:""}`;window.location.pathname+window.location.search!==Ve&&a(Ve,{replace:!0}),te(be)};return i.jsx("div",{className:"min-h-screen bg-gray-50",children:i.jsxs("div",{className:"max-w-[1500px] mx-auto px-4 sm:px-6 lg:px-8 py-8 mt-16",children:[i.jsxs("div",{className:"mt-8 mb-10 relative",children:[i.jsxs("div",{className:"rounded-3xl overflow-visible min-h-[500px] md:min-h-[350px] flex flex-col justify-end relative",children:[i.jsx("div",{className:"absolute inset-0 rounded-3xl overflow-hidden bg-cover bg-center md:bg-[center_-400px] z-0",style:{backgroundImage:"url(/backgrounds/bg10-mobile.jpeg)"},children:i.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm"})}),i.jsx("button",{onClick:()=>ae(!0),className:`hidden md:flex absolute top-6 right-6 w-14 h-14 rounded-2xl items-center justify-center transition-all transform hover:scale-105 z-20 ${Z?"bg-theme-500 text-white hover:bg-theme-600 shadow-lg":"bg-white/10 backdrop-blur-sm text-white hover:bg-white/20 border border-white/20"}`,children:i.jsx(Zp,{className:"w-5 h-5 stroke-2"})}),i.jsxs("div",{className:"absolute top-6 left-4 right-4 md:top-12 md:left-12 md:right-auto z-10 max-w-[calc(100%-2rem)] md:max-w-3xl",children:[i.jsx(De.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-2xl md:text-4xl lg:text-5xl font-bold text-white mb-2 md:mb-4",children:s("carsPage.title")}),i.jsx(De.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"text-sm md:text-base lg:text-lg text-white/90 font-medium leading-relaxed",children:s("carsPage.subtitle")})]}),i.jsxs("div",{className:"flex flex-col gap-4 p-6 md:p-8 relative z-10",children:[i.jsx(hr,{children:ie&&i.jsx(De.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"fixed top-24 left-4 right-4 z-[10000] md:hidden bg-white border-l-4 border-theme-500 text-gray-900 px-4 py-3 rounded-xl text-sm font-medium shadow-xl",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-theme-500 flex items-center justify-center mt-0.5",children:i.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),i.jsx("p",{className:"flex-1 text-gray-900",children:ie})]})})}),i.jsxs("div",{className:"hidden md:flex items-center justify-between gap-4",children:[i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx(hr,{children:ie&&i.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"bg-red-500/10 backdrop-blur-sm border border-red-400/30 text-red-100 px-4 py-3 rounded-xl text-sm font-medium",children:ie})})}),i.jsxs("button",{onClick:Re,className:"text-sm md:text-base text-white/80 hover:text-white transition-colors flex items-center gap-2 whitespace-nowrap flex-shrink-0",children:[i.jsx(kn,{className:"w-3 h-3 md:w-4 md:h-4"}),s("carsPage.clearFilters")]})]}),i.jsxs("div",{className:"flex md:hidden items-center justify-between gap-2.5 mb-2",children:[i.jsxs("button",{onClick:Re,className:"text-sm font-medium text-white/80 hover:text-white transition-colors flex items-center gap-2 whitespace-nowrap",children:[i.jsx(kn,{className:"w-4 h-4"}),s("carsPage.clearFilters")]}),i.jsx("button",{onClick:()=>ae(!0),className:`flex-shrink-0 w-12 h-12 rounded-2xl flex items-center justify-center transition-all ${Z?"bg-theme-500 text-white hover:bg-theme-600 shadow-lg":"backdrop-blur-md bg-white/20 hover:bg-white/30 border border-white/30 text-white"}`,children:i.jsx(Zp,{className:"w-5 h-5 stroke-2"})})]}),i.jsx("div",{className:"backdrop-blur-md bg-white/20 border border-white/30 rounded-3xl overflow-visible shadow-lg",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-0 items-stretch",children:[i.jsxs("div",{className:"flex-1 relative border-b lg:border-b-0 lg:border-r border-white/20 px-4 py-3 md:px-6 md:py-5 dropdown-container overflow-visible",children:[i.jsx("label",{className:`text-[11px] font-semibold mb-2 md:mb-3 block transition-colors uppercase tracking-widest ${re.make?"text-white":"text-white/80"}`,children:s("carsPage.make")}),i.jsxs("div",{className:"relative overflow-visible",children:[i.jsxs("div",{className:`text-base font-medium cursor-pointer transition-colors pr-8 flex items-center gap-2 ${re.make?"text-white":"text-white/70"}`,onClick:()=>oe("make"),children:[re.make&&(()=>{const be=Te(re.make.toLowerCase());return be?i.jsx("img",{src:be,alt:re.make,className:`${Xe(re.make)} object-contain brightness-0 invert`,onError:Ae=>{Ae.target.style.display="none"}}):null})(),i.jsx("span",{children:re.make||s("carsPage.selectMake")})]}),i.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 pointer-events-none",children:i.jsx("svg",{className:"w-4 h-4 text-white/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),i.jsx(hr,{children:R&&i.jsx(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-2xl shadow-lg z-[100] min-w-[200px]",onClick:be=>be.stopPropagation(),children:i.jsx("div",{className:"py-1",children:_e.map((be,Ae)=>{const Ie=Te(be.toLowerCase()),Ce=Ae===0,He=Ae===_e.length-1;return i.jsxs("div",{className:`px-4 py-2 text-sm cursor-pointer select-none border-b border-gray-100 last:border-b-0 transition-colors flex items-center gap-2 ${Ce?"rounded-t-2xl":""} ${He?"rounded-b-2xl":""} ${re.make===be?"text-gray-900 font-medium":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>{Me("make",be),le()},children:[i.jsx("div",{className:"w-6 flex items-center justify-start flex-shrink-0",children:Ie&&i.jsx("img",{src:Ie,alt:be,className:`${Xe(be)} object-contain`,onError:Ve=>{Ve.target.style.display="none"}})}),i.jsx("span",{children:be})]},be)})})})})]})]}),i.jsxs("div",{className:"flex-1 relative border-b lg:border-b-0 lg:border-r border-white/20 px-4 py-3 md:px-6 md:py-5 dropdown-container overflow-visible",children:[i.jsx("label",{className:`text-[11px] font-semibold mb-2 md:mb-3 block transition-colors uppercase tracking-widest ${re.model?"text-white":"text-white/80"}`,children:s("carsPage.model")}),i.jsxs("div",{className:"relative overflow-visible",children:[i.jsx("div",{className:`text-base font-medium transition-colors pr-8 ${re.make?re.model||v?"text-white cursor-pointer":"text-white/70 cursor-pointer":"text-white/50 cursor-not-allowed"}`,onClick:()=>re.make&&!v&&oe("model"),children:re.make?v?"Se ncarc...":re.model||s("carsPage.selectModel"):s("carsPage.selectMake")}),i.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 pointer-events-none",children:v?i.jsx("div",{className:"w-4 h-4 border-2 border-white/60 border-t-transparent rounded-full animate-spin"}):i.jsx("svg",{className:`w-4 h-4 ${re.make?"text-white/60":"text-white/30"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),i.jsx(hr,{children:X&&re.make&&i.jsx(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-2xl shadow-lg z-[100] min-w-[200px]",onClick:be=>be.stopPropagation(),children:i.jsx("div",{className:"py-1",children:v?i.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}),"Se ncarc..."]})}):y.length>0?y.map((be,Ae)=>{const Ie=Ae===0,Ce=Ae===y.length-1;return i.jsx("div",{className:`px-4 py-2 text-sm cursor-pointer select-none border-b border-gray-100 last:border-b-0 transition-colors ${Ie?"rounded-t-2xl":""} ${Ce?"rounded-b-2xl":""} ${re.model===be?"text-gray-900 font-medium":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>{Me("model",be),le()},children:be},be)}):i.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"Nu sunt modele disponibile"})})})})]})]}),i.jsx("div",{className:"px-4 py-3 md:px-6 md:py-5 flex-[1.5] lg:flex-[1]",children:i.jsxs("button",{onClick:()=>Pe(re),className:"w-full py-3.5 md:py-4 lg:py-3.5 bg-gradient-to-r from-theme-500 to-theme-600 hover:from-theme-600 hover:to-theme-700 text-white font-bold px-6 md:px-8 rounded-2xl text-sm md:text-base flex items-center justify-center gap-2.5 transition-all shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:[i.jsx(pc,{className:"w-4 h-4 md:w-5 md:h-5 stroke-[2.5]"}),s("carsPage.search")]})})]})})]})]}),i.jsx("img",{src:"/assets/Design Elements/keys.png",alt:"",className:"absolute hidden lg:block lg:bottom-[100px] lg:right-[250px] bottom-[400px] right-[0px]  lg:w-[300px] w-[200px] h-auto object-contain z-[10] pointer-events-none"})]}),i.jsx(hr,{children:Z&&i.jsxs(i.Fragment,{children:[i.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 z-[9998]",onClick:Q}),i.jsx(De.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 right-0 h-full w-[80%] md:w-[20%] bg-white shadow-2xl z-[9999] overflow-y-auto",onClick:be=>be.stopPropagation(),children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filtre"}),i.jsx("button",{onClick:Q,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(kn,{className:"w-5 h-5 text-gray-600"})})]}),i.jsx("div",{className:"mb-8",children:i.jsx("button",{onClick:()=>{Re(),ae(!1)},className:"text-lg font-medium text-gray-500 hover:text-gray-900 transition-colors",children:s("filters.clear")})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-4",children:s("filters.category.label")}),i.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"Any",label:s("filters.category.all")},{key:"SUV",label:s("filters.category.suv")},{key:"Sport",label:s("filters.category.sport")},{key:"Lux",label:s("filters.category.luxury")}].map(be=>{const Ae=be.key==="Any"?"Any":be.key,Ie=ue.category===Ae;return i.jsx("button",{onClick:()=>xe("category",Ae),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${Ie?"bg-red-500 text-white shadow-md transform scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:shadow-sm"}`,children:be.label},be.key)})})]}),i.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-4",children:s("filters.price.label")}),i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:s("filters.price.from")}),i.jsx("input",{type:"number",className:"w-full px-3 py-2 rounded-lg border border-gray-300 text-gray-900 text-sm focus:ring-2 focus:ring-red-500 focus:border-transparent",value:ue.priceRange[0],onChange:be=>ge({...ue,priceRange:[Number(be.target.value),ue.priceRange[1]]})})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:s("filters.price.to")}),i.jsx("input",{type:"number",className:"w-full px-3 py-2 rounded-lg border border-gray-300 text-gray-900 text-sm focus:ring-2 focus:ring-red-500 focus:border-transparent",value:ue.priceRange[1],onChange:be=>ge({...ue,priceRange:[ue.priceRange[0],Number(be.target.value)]})})]})]})})]}),i.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-4",children:s("filters.year.label")}),i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:s("filters.year.from")}),i.jsx("input",{type:"number",className:"w-full px-3 py-2 rounded-lg border border-gray-300 text-gray-900 text-sm focus:ring-2 focus:ring-red-500 focus:border-transparent",value:ue.yearRange[0],onChange:be=>ge({...ue,yearRange:[Number(be.target.value),ue.yearRange[1]]})})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:s("filters.year.to")}),i.jsx("input",{type:"number",className:"w-full px-3 py-2 rounded-lg border border-gray-300 text-gray-900 text-sm focus:ring-2 focus:ring-red-500 focus:border-transparent",value:ue.yearRange[1],onChange:be=>ge({...ue,yearRange:[ue.yearRange[0],Number(be.target.value)]})})]})]})})]}),i.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-4",children:s("filters.transmission.label")}),i.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"Any",label:s("filters.transmission.any")},{key:"Manual",label:s("filters.transmission.manual")},{key:"Automatic",label:s("filters.transmission.automatic")}].map(be=>{const Ae=be.key==="Any"?void 0:be.key,Ie=ue.transmission===Ae||Ae===void 0&&ue.transmission==="Any";return i.jsx("button",{onClick:()=>xe("transmission",Ae),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${Ie?"bg-red-500 text-white shadow-md transform scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:shadow-sm"}`,children:be.label},be.key)})})]}),i.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-4",children:s("filters.fuel.label")}),i.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"Any",label:s("filters.fuel.any"),value:void 0},{key:"Benzina",label:s("filters.fuel.benzina"),value:"petrol"},{key:"Diesel",label:s("filters.fuel.diesel"),value:"diesel"},{key:"Hybrid",label:s("filters.fuel.hybrid"),value:"hybrid"},{key:"Electric",label:s("filters.fuel.electric"),value:"electric"}].map(be=>{const Ae=ue.fuelType===be.value||be.value===void 0&&ue.fuelType==="Any";return i.jsx("button",{onClick:()=>xe("fuelType",be.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${Ae?"bg-red-500 text-white shadow-md transform scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:shadow-sm"}`,children:be.label},be.key)})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-4",children:s("filters.seats.label")}),i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-2",children:s("filters.seats.minSeats")}),i.jsx("input",{type:"number",className:"w-full px-3 py-2 rounded-lg border border-gray-300 text-gray-900 text-sm focus:ring-2 focus:ring-red-500 focus:border-transparent",value:ue.seats||"",onChange:be=>ge({...ue,seats:parseInt(be.target.value)||void 0}),placeholder:"Ex: 5"})]})})]})]})]})})]})}),i.jsxs("div",{className:"w-full mt-8",children:[f?i.jsxs("div",{className:"text-center py-16 px-4",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 border-4 border-theme-500 border-t-transparent rounded-full animate-spin"}),i.jsx("p",{className:"text-gray-600",children:"Se ncarc mainile..."})]}):i.jsx(i.Fragment,{children:l.length>0?i.jsx(De.div,{ref:e,variants:Ra,initial:"initial",animate:r?"animate":"initial",className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4 lg:gap-5",children:l.filter(be=>{var Ie;const Ae=((Ie=be.status)==null?void 0:Ie.toLowerCase())||"";return Ae!=="ascuns"&&Ae!=="hidden"}).map((be,Ae)=>i.jsx(cv,{car:be,index:Ae},be.id))}):P.make||P.model||Object.values(ue).some(be=>Array.isArray(be)?be[0]!==(be[1]===2025?2020:0)||be[1]!==2025:be!=="Any")?i.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 px-4",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-gray-100 flex items-center justify-center",children:i.jsx(pc,{className:"w-10 h-10 text-gray-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Nu s-au gsit maini"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Nu am gsit maini care s corespund criteriilor dvs. de filtrare. V rugm s ncercai s modificai filtrele."}),i.jsx("button",{onClick:Re,className:"px-6 py-3 bg-theme-500 hover:bg-theme-600 text-white font-semibold rounded-xl transition-colors",children:"Reseteaz filtrele"})]})}):null}),i.jsx(ET,{}),i.jsx(TN,{}),C.length>0&&i.jsxs("div",{className:"mt-12",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-2",children:s("car.recommendedCars","Maini Recomandate")}),i.jsx("p",{className:"text-gray-600",children:s("car.recommendedDescription","Descoper alte maini care s-ar putea s i plac")})]}),$?i.jsx("div",{className:"flex justify-center py-12",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-bounce"}),i.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),i.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})}):i.jsxs("div",{className:"relative",children:[i.jsx("style",{children:`
                    .recommended-slider::-webkit-scrollbar {
                      display: none;
                    }
                  `}),i.jsx("div",{ref:M,className:"overflow-x-auto pb-4 recommended-slider",style:{scrollBehavior:"smooth",scrollbarWidth:"none",msOverflowStyle:"none"},children:i.jsx("div",{className:"flex gap-6 min-w-max py-4",children:C.map((be,Ae)=>i.jsx("div",{className:"w-[340px] sm:w-[360px] md:w-80 flex-shrink-0",children:i.jsx(cv,{car:be,index:Ae})},be.id))})}),C.length>1&&i.jsx("div",{className:"flex justify-center mt-4 space-x-2",children:Array.from({length:Math.ceil(C.length/1)}).map((be,Ae)=>i.jsx("button",{onClick:()=>{B(Ae),O()},className:`w-2 h-2 rounded-full transition-colors ${Ae===V?"bg-red-500":"bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to slide ${Ae+1}`},Ae))})]})]})]})]})})};var R1={},z1={},cp={},F1={},wk;function eY(){return wk||(wk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};e.default=r}(F1)),F1}var $1,jk;function tY(){if(jk)return $1;jk=1;var e="Expected a function",r=NaN,n="[object Symbol]",a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,u=typeof Eg=="object"&&Eg&&Eg.Object===Object&&Eg,d=typeof self=="object"&&self&&self.Object===Object&&self,f=u||d||Function("return this")(),p=Object.prototype,x=p.toString,g=Math.max,y=Math.min,w=function(){return f.Date.now()};function v(z,$,F){var V,B,K,T,M,I,q=0,H=!1,te=!1,O=!0;if(typeof z!="function")throw new TypeError(e);$=C($)||0,S(F)&&(H=!!F.leading,te="maxWait"in F,K=te?g(C(F.maxWait)||0,$):K,O="trailing"in F?!!F.trailing:O);function re(ae){var le=V,Q=B;return V=B=void 0,q=ae,T=z.apply(Q,le),T}function Y(ae){return q=ae,M=setTimeout(R,$),H?re(ae):T}function P(ae){var le=ae-I,Q=ae-q,oe=$-le;return te?y(oe,K-Q):oe}function L(ae){var le=ae-I,Q=ae-q;return I===void 0||le>=$||le<0||te&&Q>=K}function R(){var ae=w();if(L(ae))return G(ae);M=setTimeout(R,P(ae))}function G(ae){return M=void 0,O&&V?re(ae):(V=B=void 0,T)}function X(){M!==void 0&&clearTimeout(M),q=0,V=I=B=M=void 0}function D(){return M===void 0?T:G(w())}function Z(){var ae=w(),le=L(ae);if(V=arguments,B=this,I=ae,le){if(M===void 0)return Y(I);if(te)return M=setTimeout(R,$),re(I)}return M===void 0&&(M=setTimeout(R,$)),T}return Z.cancel=X,Z.flush=D,Z}function S(z){var $=typeof z;return!!z&&($=="object"||$=="function")}function k(z){return!!z&&typeof z=="object"}function j(z){return typeof z=="symbol"||k(z)&&x.call(z)==n}function C(z){if(typeof z=="number")return z;if(j(z))return r;if(S(z)){var $=typeof z.valueOf=="function"?z.valueOf():z;z=S($)?$+"":$}if(typeof z!="string")return z===0?z:+z;z=z.replace(a,"");var F=o.test(z);return F||l.test(z)?c(z.slice(2),F?2:8):s.test(z)?r:+z}return $1=v,$1}var B1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Nk;function Ay(){return Nk||(Nk=1,function(e){(function(){var r={}.hasOwnProperty;function n(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=s(o,a(c)))}return o}function a(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)r.call(o,c)&&o[c]&&(l=s(l,c));return l}function s(o,l){return l?o?o+" "+l:o+l:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(B1)),B1.exports}var qt={},U1={},_k;function AT(){return _k||(_k=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(jo());function n(s){return s&&s.__esModule?s:{default:s}}var a={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return r.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return r.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};e.default=a}(U1)),U1}var Sk;function D0(){if(Sk)return qt;Sk=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.checkSpecKeys=qt.checkNavigable=qt.changeSlide=qt.canUseDOM=qt.canGoNext=void 0,qt.clamp=d,qt.extractObject=void 0,qt.filterSettings=re,qt.validSettings=qt.swipeStart=qt.swipeMove=qt.swipeEnd=qt.slidesOnRight=qt.slidesOnLeft=qt.slideHandler=qt.siblingDirection=qt.safePreventDefault=qt.lazyStartIndex=qt.lazySlidesOnRight=qt.lazySlidesOnLeft=qt.lazyEndIndex=qt.keyHandler=qt.initializedState=qt.getWidth=qt.getTrackLeft=qt.getTrackCSS=qt.getTrackAnimateCSS=qt.getTotalSlides=qt.getSwipeDirection=qt.getSlideCount=qt.getRequiredLazySlides=qt.getPreClones=qt.getPostClones=qt.getOnDemandLazySlides=qt.getNavigableIndexes=qt.getHeight=void 0;var e=n(jo()),r=n(AT());function n(Y){return Y&&Y.__esModule?Y:{default:Y}}function a(Y){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},a(Y)}function s(Y,P){var L=Object.keys(Y);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(Y);P&&(R=R.filter(function(G){return Object.getOwnPropertyDescriptor(Y,G).enumerable})),L.push.apply(L,R)}return L}function o(Y){for(var P=1;P<arguments.length;P++){var L=arguments[P]!=null?arguments[P]:{};P%2?s(Object(L),!0).forEach(function(R){l(Y,R,L[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(L)):s(Object(L)).forEach(function(R){Object.defineProperty(Y,R,Object.getOwnPropertyDescriptor(L,R))})}return Y}function l(Y,P,L){return(P=c(P))in Y?Object.defineProperty(Y,P,{value:L,enumerable:!0,configurable:!0,writable:!0}):Y[P]=L,Y}function c(Y){var P=u(Y,"string");return a(P)=="symbol"?P:P+""}function u(Y,P){if(a(Y)!="object"||!Y)return Y;var L=Y[Symbol.toPrimitive];if(L!==void 0){var R=L.call(Y,P);if(a(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(Y)}function d(Y,P,L){return Math.max(P,Math.min(Y,L))}var f=qt.safePreventDefault=function(P){var L=["onTouchStart","onTouchMove","onWheel"];L.includes(P._reactName)||P.preventDefault()},p=qt.getOnDemandLazySlides=function(P){for(var L=[],R=x(P),G=g(P),X=R;X<G;X++)P.lazyLoadedList.indexOf(X)<0&&L.push(X);return L};qt.getRequiredLazySlides=function(P){for(var L=[],R=x(P),G=g(P),X=R;X<G;X++)L.push(X);return L};var x=qt.lazyStartIndex=function(P){return P.currentSlide-y(P)},g=qt.lazyEndIndex=function(P){return P.currentSlide+w(P)},y=qt.lazySlidesOnLeft=function(P){return P.centerMode?Math.floor(P.slidesToShow/2)+(parseInt(P.centerPadding)>0?1:0):0},w=qt.lazySlidesOnRight=function(P){return P.centerMode?Math.floor((P.slidesToShow-1)/2)+1+(parseInt(P.centerPadding)>0?1:0):P.slidesToShow},v=qt.getWidth=function(P){return P&&P.offsetWidth||0},S=qt.getHeight=function(P){return P&&P.offsetHeight||0},k=qt.getSwipeDirection=function(P){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R,G,X,D;return R=P.startX-P.curX,G=P.startY-P.curY,X=Math.atan2(G,R),D=Math.round(X*180/Math.PI),D<0&&(D=360-Math.abs(D)),D<=45&&D>=0||D<=360&&D>=315?"left":D>=135&&D<=225?"right":L===!0?D>=35&&D<=135?"up":"down":"vertical"},j=qt.canGoNext=function(P){var L=!0;return P.infinite||(P.centerMode&&P.currentSlide>=P.slideCount-1||P.slideCount<=P.slidesToShow||P.currentSlide>=P.slideCount-P.slidesToShow)&&(L=!1),L};qt.extractObject=function(P,L){var R={};return L.forEach(function(G){return R[G]=P[G]}),R},qt.initializedState=function(P){var L=e.default.Children.count(P.children),R=P.listRef,G=Math.ceil(v(R)),X=P.trackRef&&P.trackRef.node,D=Math.ceil(v(X)),Z;if(P.vertical)Z=G;else{var ae=P.centerMode&&parseInt(P.centerPadding)*2;typeof P.centerPadding=="string"&&P.centerPadding.slice(-1)==="%"&&(ae*=G/100),Z=Math.ceil((G-ae)/P.slidesToShow)}var le=R&&S(R.querySelector('[data-index="0"]')),Q=le*P.slidesToShow,oe=P.currentSlide===void 0?P.initialSlide:P.currentSlide;P.rtl&&P.currentSlide===void 0&&(oe=L-1-P.initialSlide);var ve=P.lazyLoadedList||[],ue=p(o(o({},P),{},{currentSlide:oe,lazyLoadedList:ve}));ve=ve.concat(ue);var ge={slideCount:L,slideWidth:Z,listWidth:G,trackWidth:D,currentSlide:oe,slideHeight:le,listHeight:Q,lazyLoadedList:ve};return P.autoplaying===null&&P.autoplay&&(ge.autoplaying="playing"),ge},qt.slideHandler=function(P){var L=P.waitForAnimate,R=P.animating,G=P.fade,X=P.infinite,D=P.index,Z=P.slideCount,ae=P.lazyLoad,le=P.currentSlide,Q=P.centerMode,oe=P.slidesToScroll,ve=P.slidesToShow,ue=P.useCSS,ge=P.lazyLoadedList;if(L&&R)return{};var ie=D,se,_e,Te,Xe={},Me={},Re=X?D:d(D,0,Z-1);if(G){if(!X&&(D<0||D>=Z))return{};D<0?ie=D+Z:D>=Z&&(ie=D-Z),ae&&ge.indexOf(ie)<0&&(ge=ge.concat(ie)),Xe={animating:!0,currentSlide:ie,lazyLoadedList:ge,targetSlide:ie},Me={animating:!1,targetSlide:ie}}else se=ie,ie<0?(se=ie+Z,X?Z%oe!==0&&(se=Z-Z%oe):se=0):!j(P)&&ie>le?ie=se=le:Q&&ie>=Z?(ie=X?Z:Z-1,se=X?0:Z-1):ie>=Z&&(se=ie-Z,X?Z%oe!==0&&(se=0):se=Z-ve),!X&&ie+ve>=Z&&(se=Z-ve),_e=K(o(o({},P),{},{slideIndex:ie})),Te=K(o(o({},P),{},{slideIndex:se})),X||(_e===Te&&(ie=se),_e=Te),ae&&(ge=ge.concat(p(o(o({},P),{},{currentSlide:ie})))),ue?(Xe={animating:!0,currentSlide:se,trackStyle:B(o(o({},P),{},{left:_e})),lazyLoadedList:ge,targetSlide:Re},Me={animating:!1,currentSlide:se,trackStyle:V(o(o({},P),{},{left:Te})),swipeLeft:null,targetSlide:Re}):Xe={currentSlide:se,trackStyle:V(o(o({},P),{},{left:Te})),lazyLoadedList:ge,targetSlide:Re};return{state:Xe,nextState:Me}},qt.changeSlide=function(P,L){var R,G,X,D,Z,ae=P.slidesToScroll,le=P.slidesToShow,Q=P.slideCount,oe=P.currentSlide,ve=P.targetSlide,ue=P.lazyLoad,ge=P.infinite;if(D=Q%ae!==0,R=D?0:(Q-oe)%ae,L.message==="previous")X=R===0?ae:le-R,Z=oe-X,ue&&!ge&&(G=oe-X,Z=G===-1?Q-1:G),ge||(Z=ve-ae);else if(L.message==="next")X=R===0?ae:R,Z=oe+X,ue&&!ge&&(Z=(oe+ae)%Q+R),ge||(Z=ve+ae);else if(L.message==="dots")Z=L.index*L.slidesToScroll;else if(L.message==="children"){if(Z=L.index,ge){var ie=q(o(o({},P),{},{targetSlide:Z}));Z>L.currentSlide&&ie==="left"?Z=Z-Q:Z<L.currentSlide&&ie==="right"&&(Z=Z+Q)}}else L.message==="index"&&(Z=Number(L.index));return Z},qt.keyHandler=function(P,L,R){return P.target.tagName.match("TEXTAREA|INPUT|SELECT")||!L?"":P.keyCode===37?R?"next":"previous":P.keyCode===39?R?"previous":"next":""},qt.swipeStart=function(P,L,R){return P.target.tagName==="IMG"&&f(P),!L||!R&&P.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:P.touches?P.touches[0].pageX:P.clientX,startY:P.touches?P.touches[0].pageY:P.clientY,curX:P.touches?P.touches[0].pageX:P.clientX,curY:P.touches?P.touches[0].pageY:P.clientY}}},qt.swipeMove=function(P,L){var R=L.scrolling,G=L.animating,X=L.vertical,D=L.swipeToSlide,Z=L.verticalSwiping,ae=L.rtl,le=L.currentSlide,Q=L.edgeFriction,oe=L.edgeDragged,ve=L.onEdge,ue=L.swiped,ge=L.swiping,ie=L.slideCount,se=L.slidesToScroll,_e=L.infinite,Te=L.touchObject,Xe=L.swipeEvent,Me=L.listHeight,Re=L.listWidth;if(!R){if(G)return f(P);X&&D&&Z&&f(P);var xe,Pe={},be=K(L);Te.curX=P.touches?P.touches[0].pageX:P.clientX,Te.curY=P.touches?P.touches[0].pageY:P.clientY,Te.swipeLength=Math.round(Math.sqrt(Math.pow(Te.curX-Te.startX,2)));var Ae=Math.round(Math.sqrt(Math.pow(Te.curY-Te.startY,2)));if(!Z&&!ge&&Ae>10)return{scrolling:!0};Z&&(Te.swipeLength=Ae);var Ie=(ae?-1:1)*(Te.curX>Te.startX?1:-1);Z&&(Ie=Te.curY>Te.startY?1:-1);var Ce=Math.ceil(ie/se),He=k(L.touchObject,Z),Ve=Te.swipeLength;return _e||(le===0&&(He==="right"||He==="down")||le+1>=Ce&&(He==="left"||He==="up")||!j(L)&&(He==="left"||He==="up"))&&(Ve=Te.swipeLength*Q,oe===!1&&ve&&(ve(He),Pe.edgeDragged=!0)),!ue&&Xe&&(Xe(He),Pe.swiped=!0),X?xe=be+Ve*(Me/Re)*Ie:ae?xe=be-Ve*Ie:xe=be+Ve*Ie,Z&&(xe=be+Ve*Ie),Pe=o(o({},Pe),{},{touchObject:Te,swipeLeft:xe,trackStyle:V(o(o({},L),{},{left:xe}))}),Math.abs(Te.curX-Te.startX)<Math.abs(Te.curY-Te.startY)*.8||Te.swipeLength>10&&(Pe.swiping=!0,f(P)),Pe}},qt.swipeEnd=function(P,L){var R=L.dragging,G=L.swipe,X=L.touchObject,D=L.listWidth,Z=L.touchThreshold,ae=L.verticalSwiping,le=L.listHeight,Q=L.swipeToSlide,oe=L.scrolling,ve=L.onSwipe,ue=L.targetSlide,ge=L.currentSlide,ie=L.infinite;if(!R)return G&&f(P),{};var se=ae?le/Z:D/Z,_e=k(X,ae),Te={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(oe||!X.swipeLength)return Te;if(X.swipeLength>se){f(P),ve&&ve(_e);var Xe,Me,Re=ie?ge:ue;switch(_e){case"left":case"up":Me=Re+$(L),Xe=Q?z(L,Me):Me,Te.currentDirection=0;break;case"right":case"down":Me=Re-$(L),Xe=Q?z(L,Me):Me,Te.currentDirection=1;break;default:Xe=Re}Te.triggerSlideHandler=Xe}else{var xe=K(L);Te.trackStyle=B(o(o({},L),{},{left:xe}))}return Te};var C=qt.getNavigableIndexes=function(P){for(var L=P.infinite?P.slideCount*2:P.slideCount,R=P.infinite?P.slidesToShow*-1:0,G=P.infinite?P.slidesToShow*-1:0,X=[];R<L;)X.push(R),R=G+P.slidesToScroll,G+=Math.min(P.slidesToScroll,P.slidesToShow);return X},z=qt.checkNavigable=function(P,L){var R=C(P),G=0;if(L>R[R.length-1])L=R[R.length-1];else for(var X in R){if(L<R[X]){L=G;break}G=R[X]}return L},$=qt.getSlideCount=function(P){var L=P.centerMode?P.slideWidth*Math.floor(P.slidesToShow/2):0;if(P.swipeToSlide){var R,G=P.listRef,X=G.querySelectorAll&&G.querySelectorAll(".slick-slide")||[];if(Array.from(X).every(function(ae){if(P.vertical){if(ae.offsetTop+S(ae)/2>P.swipeLeft*-1)return R=ae,!1}else if(ae.offsetLeft-L+v(ae)/2>P.swipeLeft*-1)return R=ae,!1;return!0}),!R)return 0;var D=P.rtl===!0?P.slideCount-P.currentSlide:P.currentSlide,Z=Math.abs(R.dataset.index-D)||1;return Z}else return P.slidesToScroll},F=qt.checkSpecKeys=function(P,L){return L.reduce(function(R,G){return R&&P.hasOwnProperty(G)},!0)?null:console.error("Keys Missing:",P)},V=qt.getTrackCSS=function(P){F(P,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var L,R;if(!P.vertical)L=I(P)*P.slideWidth;else{var G=P.unslick?P.slideCount:P.slideCount+2*P.slidesToShow;R=G*P.slideHeight}var X={opacity:1,transition:"",WebkitTransition:""};if(P.useTransform){var D=P.vertical?"translate3d(0px, "+P.left+"px, 0px)":"translate3d("+P.left+"px, 0px, 0px)",Z=P.vertical?"translate3d(0px, "+P.left+"px, 0px)":"translate3d("+P.left+"px, 0px, 0px)",ae=P.vertical?"translateY("+P.left+"px)":"translateX("+P.left+"px)";X=o(o({},X),{},{WebkitTransform:D,transform:Z,msTransform:ae})}else P.vertical?X.top=P.left:X.left=P.left;return P.fade&&(X={opacity:1}),L&&(X.width=L),R&&(X.height=R),window&&!window.addEventListener&&window.attachEvent&&(P.vertical?X.marginTop=P.left+"px":X.marginLeft=P.left+"px"),X},B=qt.getTrackAnimateCSS=function(P){F(P,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var L=V(P);return P.useTransform?(L.WebkitTransition="-webkit-transform "+P.speed+"ms "+P.cssEase,L.transition="transform "+P.speed+"ms "+P.cssEase):P.vertical?L.transition="top "+P.speed+"ms "+P.cssEase:L.transition="left "+P.speed+"ms "+P.cssEase,L},K=qt.getTrackLeft=function(P){if(P.unslick)return 0;F(P,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var L=P.slideIndex,R=P.trackRef,G=P.infinite,X=P.centerMode,D=P.slideCount,Z=P.slidesToShow,ae=P.slidesToScroll,le=P.slideWidth,Q=P.listWidth,oe=P.variableWidth,ve=P.slideHeight,ue=P.fade,ge=P.vertical,ie=0,se,_e,Te=0;if(ue||P.slideCount===1)return 0;var Xe=0;if(G?(Xe=-T(P),D%ae!==0&&L+ae>D&&(Xe=-(L>D?Z-(L-D):D%ae)),X&&(Xe+=parseInt(Z/2))):(D%ae!==0&&L+ae>D&&(Xe=Z-D%ae),X&&(Xe=parseInt(Z/2))),ie=Xe*le,Te=Xe*ve,ge?se=L*ve*-1+Te:se=L*le*-1+ie,oe===!0){var Me,Re=R&&R.node;if(Me=L+T(P),_e=Re&&Re.childNodes[Me],se=_e?_e.offsetLeft*-1:0,X===!0){Me=G?L+T(P):L,_e=Re&&Re.children[Me],se=0;for(var xe=0;xe<Me;xe++)se-=Re&&Re.children[xe]&&Re.children[xe].offsetWidth;se-=parseInt(P.centerPadding),se+=_e&&(Q-_e.offsetWidth)/2}}return se},T=qt.getPreClones=function(P){return P.unslick||!P.infinite?0:P.variableWidth?P.slideCount:P.slidesToShow+(P.centerMode?1:0)},M=qt.getPostClones=function(P){return P.unslick||!P.infinite?0:P.variableWidth?P.slideCount:P.slidesToShow+(P.centerMode?1:0)},I=qt.getTotalSlides=function(P){return P.slideCount===1?1:T(P)+P.slideCount+M(P)},q=qt.siblingDirection=function(P){return P.targetSlide>P.currentSlide?P.targetSlide>P.currentSlide+H(P)?"left":"right":P.targetSlide<P.currentSlide-te(P)?"right":"left"},H=qt.slidesOnRight=function(P){var L=P.slidesToShow,R=P.centerMode,G=P.rtl,X=P.centerPadding;if(R){var D=(L-1)/2+1;return parseInt(X)>0&&(D+=1),G&&L%2===0&&(D+=1),D}return G?0:L-1},te=qt.slidesOnLeft=function(P){var L=P.slidesToShow,R=P.centerMode,G=P.rtl,X=P.centerPadding;if(R){var D=(L-1)/2+1;return parseInt(X)>0&&(D+=1),!G&&L%2===0&&(D+=1),D}return G?L-1:0};qt.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var O=qt.validSettings=Object.keys(r.default);function re(Y){return O.reduce(function(P,L){return Y.hasOwnProperty(L)&&(P[L]=Y[L]),P},{})}return qt}var up={},kk;function rY(){if(kk)return up;kk=1,Object.defineProperty(up,"__esModule",{value:!0}),up.Track=void 0;var e=a(jo()),r=a(Ay()),n=D0();function a(B){return B&&B.__esModule?B:{default:B}}function s(B){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},s(B)}function o(){return o=Object.assign?Object.assign.bind():function(B){for(var K=1;K<arguments.length;K++){var T=arguments[K];for(var M in T)({}).hasOwnProperty.call(T,M)&&(B[M]=T[M])}return B},o.apply(null,arguments)}function l(B,K){if(!(B instanceof K))throw new TypeError("Cannot call a class as a function")}function c(B,K){for(var T=0;T<K.length;T++){var M=K[T];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(B,j(M.key),M)}}function u(B,K,T){return K&&c(B.prototype,K),Object.defineProperty(B,"prototype",{writable:!1}),B}function d(B,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(K&&K.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),K&&f(B,K)}function f(B,K){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,M){return T.__proto__=M,T},f(B,K)}function p(B){var K=y();return function(){var T,M=w(B);if(K){var I=w(this).constructor;T=Reflect.construct(M,arguments,I)}else T=M.apply(this,arguments);return x(this,T)}}function x(B,K){if(K&&(s(K)=="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(B)}function g(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}function y(){try{var B=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y=function(){return!!B})()}function w(B){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},w(B)}function v(B,K){var T=Object.keys(B);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(B);K&&(M=M.filter(function(I){return Object.getOwnPropertyDescriptor(B,I).enumerable})),T.push.apply(T,M)}return T}function S(B){for(var K=1;K<arguments.length;K++){var T=arguments[K]!=null?arguments[K]:{};K%2?v(Object(T),!0).forEach(function(M){k(B,M,T[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(T)):v(Object(T)).forEach(function(M){Object.defineProperty(B,M,Object.getOwnPropertyDescriptor(T,M))})}return B}function k(B,K,T){return(K=j(K))in B?Object.defineProperty(B,K,{value:T,enumerable:!0,configurable:!0,writable:!0}):B[K]=T,B}function j(B){var K=C(B,"string");return s(K)=="symbol"?K:K+""}function C(B,K){if(s(B)!="object"||!B)return B;var T=B[Symbol.toPrimitive];if(T!==void 0){var M=T.call(B,K);if(s(M)!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return(K==="string"?String:Number)(B)}var z=function(K){var T,M,I,q,H;K.rtl?H=K.slideCount-1-K.index:H=K.index,I=H<0||H>=K.slideCount,K.centerMode?(q=Math.floor(K.slidesToShow/2),M=(H-K.currentSlide)%K.slideCount===0,H>K.currentSlide-q-1&&H<=K.currentSlide+q&&(T=!0)):T=K.currentSlide<=H&&H<K.currentSlide+K.slidesToShow;var te;K.targetSlide<0?te=K.targetSlide+K.slideCount:K.targetSlide>=K.slideCount?te=K.targetSlide-K.slideCount:te=K.targetSlide;var O=H===te;return{"slick-slide":!0,"slick-active":T,"slick-center":M,"slick-cloned":I,"slick-current":O}},$=function(K){var T={};return(K.variableWidth===void 0||K.variableWidth===!1)&&(T.width=K.slideWidth),K.fade&&(T.position="relative",K.vertical?T.top=-K.index*parseInt(K.slideHeight):T.left=-K.index*parseInt(K.slideWidth),T.opacity=K.currentSlide===K.index?1:0,T.zIndex=K.currentSlide===K.index?999:998,K.useCSS&&(T.transition="opacity "+K.speed+"ms "+K.cssEase+", visibility "+K.speed+"ms "+K.cssEase)),T},F=function(K,T){return K.key||T},V=function(K){var T,M=[],I=[],q=[],H=e.default.Children.count(K.children),te=(0,n.lazyStartIndex)(K),O=(0,n.lazyEndIndex)(K);return e.default.Children.forEach(K.children,function(re,Y){var P,L={message:"children",index:Y,slidesToScroll:K.slidesToScroll,currentSlide:K.currentSlide};!K.lazyLoad||K.lazyLoad&&K.lazyLoadedList.indexOf(Y)>=0?P=re:P=e.default.createElement("div",null);var R=$(S(S({},K),{},{index:Y})),G=P.props.className||"",X=z(S(S({},K),{},{index:Y}));if(M.push(e.default.cloneElement(P,{key:"original"+F(P,Y),"data-index":Y,className:(0,r.default)(X,G),tabIndex:"-1","aria-hidden":!X["slick-active"],style:S(S({outline:"none"},P.props.style||{}),R),onClick:function(ae){P.props&&P.props.onClick&&P.props.onClick(ae),K.focusOnSelect&&K.focusOnSelect(L)}})),K.infinite&&H>1&&K.fade===!1&&!K.unslick){var D=H-Y;D<=(0,n.getPreClones)(K)&&(T=-D,T>=te&&(P=re),X=z(S(S({},K),{},{index:T})),I.push(e.default.cloneElement(P,{key:"precloned"+F(P,T),"data-index":T,tabIndex:"-1",className:(0,r.default)(X,G),"aria-hidden":!X["slick-active"],style:S(S({},P.props.style||{}),R),onClick:function(ae){P.props&&P.props.onClick&&P.props.onClick(ae),K.focusOnSelect&&K.focusOnSelect(L)}}))),Y<(0,n.getPostClones)(K)&&(T=H+Y,T<O&&(P=re),X=z(S(S({},K),{},{index:T})),q.push(e.default.cloneElement(P,{key:"postcloned"+F(P,T),"data-index":T,tabIndex:"-1",className:(0,r.default)(X,G),"aria-hidden":!X["slick-active"],style:S(S({},P.props.style||{}),R),onClick:function(ae){P.props&&P.props.onClick&&P.props.onClick(ae),K.focusOnSelect&&K.focusOnSelect(L)}})))}}),K.rtl?I.concat(M,q).reverse():I.concat(M,q)};return up.Track=function(B){d(T,B);var K=p(T);function T(){var M;l(this,T);for(var I=arguments.length,q=new Array(I),H=0;H<I;H++)q[H]=arguments[H];return M=K.call.apply(K,[this].concat(q)),k(g(M),"node",null),k(g(M),"handleRef",function(te){M.node=te}),M}return u(T,[{key:"render",value:function(){var I=V(this.props),q=this.props,H=q.onMouseEnter,te=q.onMouseOver,O=q.onMouseLeave,re={onMouseEnter:H,onMouseOver:te,onMouseLeave:O};return e.default.createElement("div",o({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},re),I)}}]),T}(e.default.PureComponent),up}var dp={},Ck;function nY(){if(Ck)return dp;Ck=1;function e(z){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},e(z)}Object.defineProperty(dp,"__esModule",{value:!0}),dp.Dots=void 0;var r=s(jo()),n=s(Ay()),a=D0();function s(z){return z&&z.__esModule?z:{default:z}}function o(z,$){var F=Object.keys(z);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(z);$&&(V=V.filter(function(B){return Object.getOwnPropertyDescriptor(z,B).enumerable})),F.push.apply(F,V)}return F}function l(z){for(var $=1;$<arguments.length;$++){var F=arguments[$]!=null?arguments[$]:{};$%2?o(Object(F),!0).forEach(function(V){c(z,V,F[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(F)):o(Object(F)).forEach(function(V){Object.defineProperty(z,V,Object.getOwnPropertyDescriptor(F,V))})}return z}function c(z,$,F){return($=p($))in z?Object.defineProperty(z,$,{value:F,enumerable:!0,configurable:!0,writable:!0}):z[$]=F,z}function u(z,$){if(!(z instanceof $))throw new TypeError("Cannot call a class as a function")}function d(z,$){for(var F=0;F<$.length;F++){var V=$[F];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(z,p(V.key),V)}}function f(z,$,F){return $&&d(z.prototype,$),Object.defineProperty(z,"prototype",{writable:!1}),z}function p(z){var $=x(z,"string");return e($)=="symbol"?$:$+""}function x(z,$){if(e(z)!="object"||!z)return z;var F=z[Symbol.toPrimitive];if(F!==void 0){var V=F.call(z,$);if(e(V)!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(z)}function g(z,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create($&&$.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),$&&y(z,$)}function y(z,$){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,V){return F.__proto__=V,F},y(z,$)}function w(z){var $=k();return function(){var F,V=j(z);if($){var B=j(this).constructor;F=Reflect.construct(V,arguments,B)}else F=V.apply(this,arguments);return v(this,F)}}function v(z,$){if($&&(e($)=="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(z)}function S(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function k(){try{var z=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k=function(){return!!z})()}function j(z){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},j(z)}var C=function($){var F;return $.infinite?F=Math.ceil($.slideCount/$.slidesToScroll):F=Math.ceil(($.slideCount-$.slidesToShow)/$.slidesToScroll)+1,F};return dp.Dots=function(z){g(F,z);var $=w(F);function F(){return u(this,F),$.apply(this,arguments)}return f(F,[{key:"clickHandler",value:function(B,K){K.preventDefault(),this.props.clickHandler(B)}},{key:"render",value:function(){for(var B=this.props,K=B.onMouseEnter,T=B.onMouseOver,M=B.onMouseLeave,I=B.infinite,q=B.slidesToScroll,H=B.slidesToShow,te=B.slideCount,O=B.currentSlide,re=C({slideCount:te,slidesToScroll:q,slidesToShow:H,infinite:I}),Y={onMouseEnter:K,onMouseOver:T,onMouseLeave:M},P=[],L=0;L<re;L++){var R=(L+1)*q-1,G=I?R:(0,a.clamp)(R,0,te-1),X=G-(q-1),D=I?X:(0,a.clamp)(X,0,te-1),Z=(0,n.default)({"slick-active":I?O>=D&&O<=G:O===D}),ae={message:"dots",index:L,slidesToScroll:q,currentSlide:O},le=this.clickHandler.bind(this,ae);P=P.concat(r.default.createElement("li",{key:L,className:Z},r.default.cloneElement(this.props.customPaging(L),{onClick:le})))}return r.default.cloneElement(this.props.appendDots(P),l({className:this.props.dotsClass},Y))}}]),F}(r.default.PureComponent),dp}var nh={},Pk;function aY(){if(Pk)return nh;Pk=1;function e(z){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},e(z)}Object.defineProperty(nh,"__esModule",{value:!0}),nh.PrevArrow=nh.NextArrow=void 0;var r=s(jo()),n=s(Ay()),a=D0();function s(z){return z&&z.__esModule?z:{default:z}}function o(){return o=Object.assign?Object.assign.bind():function(z){for(var $=1;$<arguments.length;$++){var F=arguments[$];for(var V in F)({}).hasOwnProperty.call(F,V)&&(z[V]=F[V])}return z},o.apply(null,arguments)}function l(z,$){var F=Object.keys(z);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(z);$&&(V=V.filter(function(B){return Object.getOwnPropertyDescriptor(z,B).enumerable})),F.push.apply(F,V)}return F}function c(z){for(var $=1;$<arguments.length;$++){var F=arguments[$]!=null?arguments[$]:{};$%2?l(Object(F),!0).forEach(function(V){u(z,V,F[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(F)):l(Object(F)).forEach(function(V){Object.defineProperty(z,V,Object.getOwnPropertyDescriptor(F,V))})}return z}function u(z,$,F){return($=x($))in z?Object.defineProperty(z,$,{value:F,enumerable:!0,configurable:!0,writable:!0}):z[$]=F,z}function d(z,$){if(!(z instanceof $))throw new TypeError("Cannot call a class as a function")}function f(z,$){for(var F=0;F<$.length;F++){var V=$[F];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(z,x(V.key),V)}}function p(z,$,F){return $&&f(z.prototype,$),Object.defineProperty(z,"prototype",{writable:!1}),z}function x(z){var $=g(z,"string");return e($)=="symbol"?$:$+""}function g(z,$){if(e(z)!="object"||!z)return z;var F=z[Symbol.toPrimitive];if(F!==void 0){var V=F.call(z,$);if(e(V)!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(z)}function y(z,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create($&&$.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),$&&w(z,$)}function w(z,$){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,V){return F.__proto__=V,F},w(z,$)}function v(z){var $=j();return function(){var F,V=C(z);if($){var B=C(this).constructor;F=Reflect.construct(V,arguments,B)}else F=V.apply(this,arguments);return S(this,F)}}function S(z,$){if($&&(e($)=="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(z)}function k(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function j(){try{var z=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j=function(){return!!z})()}function C(z){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},C(z)}return nh.PrevArrow=function(z){y(F,z);var $=v(F);function F(){return d(this,F),$.apply(this,arguments)}return p(F,[{key:"clickHandler",value:function(B,K){K&&K.preventDefault(),this.props.clickHandler(B,K)}},{key:"render",value:function(){var B={"slick-arrow":!0,"slick-prev":!0},K=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(B["slick-disabled"]=!0,K=null);var T={key:"0","data-role":"none",className:(0,n.default)(B),style:{display:"block"},onClick:K},M={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},I;return this.props.prevArrow?I=r.default.cloneElement(this.props.prevArrow,c(c({},T),M)):I=r.default.createElement("button",o({key:"0",type:"button"},T)," ","Previous"),I}}]),F}(r.default.PureComponent),nh.NextArrow=function(z){y(F,z);var $=v(F);function F(){return d(this,F),$.apply(this,arguments)}return p(F,[{key:"clickHandler",value:function(B,K){K&&K.preventDefault(),this.props.clickHandler(B,K)}},{key:"render",value:function(){var B={"slick-arrow":!0,"slick-next":!0},K=this.clickHandler.bind(this,{message:"next"});(0,a.canGoNext)(this.props)||(B["slick-disabled"]=!0,K=null);var T={key:"1","data-role":"none",className:(0,n.default)(B),style:{display:"block"},onClick:K},M={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},I;return this.props.nextArrow?I=r.default.cloneElement(this.props.nextArrow,c(c({},T),M)):I=r.default.createElement("button",o({key:"1",type:"button"},T)," ","Next"),I}}]),F}(r.default.PureComponent),nh}var DT=function(){if(typeof Map<"u")return Map;function e(r,n){var a=-1;return r.some(function(s,o){return s[0]===n?(a=o,!0):!1}),a}return function(){function r(){this.__entries__=[]}return Object.defineProperty(r.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),r.prototype.get=function(n){var a=e(this.__entries__,n),s=this.__entries__[a];return s&&s[1]},r.prototype.set=function(n,a){var s=e(this.__entries__,n);~s?this.__entries__[s][1]=a:this.__entries__.push([n,a])},r.prototype.delete=function(n){var a=this.__entries__,s=e(a,n);~s&&a.splice(s,1)},r.prototype.has=function(n){return!!~e(this.__entries__,n)},r.prototype.clear=function(){this.__entries__.splice(0)},r.prototype.forEach=function(n,a){a===void 0&&(a=null);for(var s=0,o=this.__entries__;s<o.length;s++){var l=o[s];n.call(a,l[1],l[0])}},r}()}(),I5=typeof window<"u"&&typeof document<"u"&&window.document===document,dv=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),iY=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(dv):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),sY=2;function oY(e,r){var n=!1,a=!1,s=0;function o(){n&&(n=!1,e()),a&&c()}function l(){iY(o)}function c(){var u=Date.now();if(n){if(u-s<sY)return;a=!0}else n=!0,a=!1,setTimeout(l,r);s=u}return c}var lY=20,cY=["top","right","bottom","left","width","height","size","weight"],uY=typeof MutationObserver<"u",dY=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=oY(this.refresh.bind(this),lY)}return e.prototype.addObserver=function(r){~this.observers_.indexOf(r)||this.observers_.push(r),this.connected_||this.connect_()},e.prototype.removeObserver=function(r){var n=this.observers_,a=n.indexOf(r);~a&&n.splice(a,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var r=this.updateObservers_();r&&this.refresh()},e.prototype.updateObservers_=function(){var r=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return r.forEach(function(n){return n.broadcastActive()}),r.length>0},e.prototype.connect_=function(){!I5||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),uY?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!I5||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(r){var n=r.propertyName,a=n===void 0?"":n,s=cY.some(function(o){return!!~a.indexOf(o)});s&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),LT=function(e,r){for(var n=0,a=Object.keys(r);n<a.length;n++){var s=a[n];Object.defineProperty(e,s,{value:r[s],enumerable:!1,writable:!1,configurable:!0})}return e},om=function(e){var r=e&&e.ownerDocument&&e.ownerDocument.defaultView;return r||dv},OT=Dy(0,0,0,0);function hv(e){return parseFloat(e)||0}function Ek(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return r.reduce(function(a,s){var o=e["border-"+s+"-width"];return a+hv(o)},0)}function hY(e){for(var r=["top","right","bottom","left"],n={},a=0,s=r;a<s.length;a++){var o=s[a],l=e["padding-"+o];n[o]=hv(l)}return n}function fY(e){var r=e.getBBox();return Dy(0,0,r.width,r.height)}function mY(e){var r=e.clientWidth,n=e.clientHeight;if(!r&&!n)return OT;var a=om(e).getComputedStyle(e),s=hY(a),o=s.left+s.right,l=s.top+s.bottom,c=hv(a.width),u=hv(a.height);if(a.boxSizing==="border-box"&&(Math.round(c+o)!==r&&(c-=Ek(a,"left","right")+o),Math.round(u+l)!==n&&(u-=Ek(a,"top","bottom")+l)),!gY(e)){var d=Math.round(c+o)-r,f=Math.round(u+l)-n;Math.abs(d)!==1&&(c-=d),Math.abs(f)!==1&&(u-=f)}return Dy(s.left,s.top,c,u)}var pY=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof om(e).SVGGraphicsElement}:function(e){return e instanceof om(e).SVGElement&&typeof e.getBBox=="function"}}();function gY(e){return e===om(e).document.documentElement}function xY(e){return I5?pY(e)?fY(e):mY(e):OT}function vY(e){var r=e.x,n=e.y,a=e.width,s=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(o.prototype);return LT(l,{x:r,y:n,width:a,height:s,top:n,right:r+a,bottom:s+n,left:r}),l}function Dy(e,r,n,a){return{x:e,y:r,width:n,height:a}}var yY=function(){function e(r){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Dy(0,0,0,0),this.target=r}return e.prototype.isActive=function(){var r=xY(this.target);return this.contentRect_=r,r.width!==this.broadcastWidth||r.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var r=this.contentRect_;return this.broadcastWidth=r.width,this.broadcastHeight=r.height,r},e}(),bY=function(){function e(r,n){var a=vY(n);LT(this,{target:r,contentRect:a})}return e}(),wY=function(){function e(r,n,a){if(this.activeObservations_=[],this.observations_=new DT,typeof r!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=r,this.controller_=n,this.callbackCtx_=a}return e.prototype.observe=function(r){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(r instanceof om(r).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(r)||(n.set(r,new yY(r)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(r){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(r instanceof om(r).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(r)&&(n.delete(r),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var r=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&r.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var r=this.callbackCtx_,n=this.activeObservations_.map(function(a){return new bY(a.target,a.broadcastRect())});this.callback_.call(r,n,r),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),TT=typeof WeakMap<"u"?new WeakMap:new DT,MT=function(){function e(r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=dY.getInstance(),a=new wY(r,n,this);TT.set(this,a)}return e}();["observe","unobserve","disconnect"].forEach(function(e){MT.prototype[e]=function(){var r;return(r=TT.get(this))[e].apply(r,arguments)}});var jY=function(){return typeof dv.ResizeObserver<"u"?dv.ResizeObserver:MT}();const NY=Object.freeze(Object.defineProperty({__proto__:null,default:jY},Symbol.toStringTag,{value:"Module"})),_Y=vD(NY);var Ak;function SY(){if(Ak)return cp;Ak=1,Object.defineProperty(cp,"__esModule",{value:!0}),cp.InnerSlider=void 0;var e=d(jo()),r=d(eY()),n=d(tY()),a=d(Ay()),s=D0(),o=rY(),l=nY(),c=aY(),u=d(_Y);function d(I){return I&&I.__esModule?I:{default:I}}function f(I){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},f(I)}function p(){return p=Object.assign?Object.assign.bind():function(I){for(var q=1;q<arguments.length;q++){var H=arguments[q];for(var te in H)({}).hasOwnProperty.call(H,te)&&(I[te]=H[te])}return I},p.apply(null,arguments)}function x(I,q){if(I==null)return{};var H,te,O=g(I,q);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(I);for(te=0;te<re.length;te++)H=re[te],q.includes(H)||{}.propertyIsEnumerable.call(I,H)&&(O[H]=I[H])}return O}function g(I,q){if(I==null)return{};var H={};for(var te in I)if({}.hasOwnProperty.call(I,te)){if(q.includes(te))continue;H[te]=I[te]}return H}function y(I,q){var H=Object.keys(I);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(I);q&&(te=te.filter(function(O){return Object.getOwnPropertyDescriptor(I,O).enumerable})),H.push.apply(H,te)}return H}function w(I){for(var q=1;q<arguments.length;q++){var H=arguments[q]!=null?arguments[q]:{};q%2?y(Object(H),!0).forEach(function(te){K(I,te,H[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(H)):y(Object(H)).forEach(function(te){Object.defineProperty(I,te,Object.getOwnPropertyDescriptor(H,te))})}return I}function v(I,q){if(!(I instanceof q))throw new TypeError("Cannot call a class as a function")}function S(I,q){for(var H=0;H<q.length;H++){var te=q[H];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(I,T(te.key),te)}}function k(I,q,H){return q&&S(I.prototype,q),Object.defineProperty(I,"prototype",{writable:!1}),I}function j(I,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(q&&q.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),q&&C(I,q)}function C(I,q){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,te){return H.__proto__=te,H},C(I,q)}function z(I){var q=V();return function(){var H,te=B(I);if(q){var O=B(this).constructor;H=Reflect.construct(te,arguments,O)}else H=te.apply(this,arguments);return $(this,H)}}function $(I,q){if(q&&(f(q)=="object"||typeof q=="function"))return q;if(q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F(I)}function F(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function V(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V=function(){return!!I})()}function B(I){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},B(I)}function K(I,q,H){return(q=T(q))in I?Object.defineProperty(I,q,{value:H,enumerable:!0,configurable:!0,writable:!0}):I[q]=H,I}function T(I){var q=M(I,"string");return f(q)=="symbol"?q:q+""}function M(I,q){if(f(I)!="object"||!I)return I;var H=I[Symbol.toPrimitive];if(H!==void 0){var te=H.call(I,q);if(f(te)!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)(I)}return cp.InnerSlider=function(I){j(H,I);var q=z(H);function H(te){var O;v(this,H),O=q.call(this,te),K(F(O),"listRefHandler",function(Y){return O.list=Y}),K(F(O),"trackRefHandler",function(Y){return O.track=Y}),K(F(O),"adaptHeight",function(){if(O.props.adaptiveHeight&&O.list){var Y=O.list.querySelector('[data-index="'.concat(O.state.currentSlide,'"]'));O.list.style.height=(0,s.getHeight)(Y)+"px"}}),K(F(O),"componentDidMount",function(){if(O.props.onInit&&O.props.onInit(),O.props.lazyLoad){var Y=(0,s.getOnDemandLazySlides)(w(w({},O.props),O.state));Y.length>0&&(O.setState(function(L){return{lazyLoadedList:L.lazyLoadedList.concat(Y)}}),O.props.onLazyLoad&&O.props.onLazyLoad(Y))}var P=w({listRef:O.list,trackRef:O.track},O.props);O.updateState(P,!0,function(){O.adaptHeight(),O.props.autoplay&&O.autoPlay("update")}),O.props.lazyLoad==="progressive"&&(O.lazyLoadTimer=setInterval(O.progressiveLazyLoad,1e3)),O.ro=new u.default(function(){O.state.animating?(O.onWindowResized(!1),O.callbackTimers.push(setTimeout(function(){return O.onWindowResized()},O.props.speed))):O.onWindowResized()}),O.ro.observe(O.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(L){L.onfocus=O.props.pauseOnFocus?O.onSlideFocus:null,L.onblur=O.props.pauseOnFocus?O.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",O.onWindowResized):window.attachEvent("onresize",O.onWindowResized)}),K(F(O),"componentWillUnmount",function(){O.animationEndCallback&&clearTimeout(O.animationEndCallback),O.lazyLoadTimer&&clearInterval(O.lazyLoadTimer),O.callbackTimers.length&&(O.callbackTimers.forEach(function(Y){return clearTimeout(Y)}),O.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",O.onWindowResized):window.detachEvent("onresize",O.onWindowResized),O.autoplayTimer&&clearInterval(O.autoplayTimer),O.ro.disconnect()}),K(F(O),"componentDidUpdate",function(Y){if(O.checkImagesLoad(),O.props.onReInit&&O.props.onReInit(),O.props.lazyLoad){var P=(0,s.getOnDemandLazySlides)(w(w({},O.props),O.state));P.length>0&&(O.setState(function(G){return{lazyLoadedList:G.lazyLoadedList.concat(P)}}),O.props.onLazyLoad&&O.props.onLazyLoad(P))}O.adaptHeight();var L=w(w({listRef:O.list,trackRef:O.track},O.props),O.state),R=O.didPropsChange(Y);R&&O.updateState(L,R,function(){O.state.currentSlide>=e.default.Children.count(O.props.children)&&O.changeSlide({message:"index",index:e.default.Children.count(O.props.children)-O.props.slidesToShow,currentSlide:O.state.currentSlide}),O.props.autoplay?O.autoPlay("update"):O.pause("paused")})}),K(F(O),"onWindowResized",function(Y){O.debouncedResize&&O.debouncedResize.cancel(),O.debouncedResize=(0,n.default)(function(){return O.resizeWindow(Y)},50),O.debouncedResize()}),K(F(O),"resizeWindow",function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,P=!!(O.track&&O.track.node);if(P){var L=w(w({listRef:O.list,trackRef:O.track},O.props),O.state);O.updateState(L,Y,function(){O.props.autoplay?O.autoPlay("update"):O.pause("paused")}),O.setState({animating:!1}),clearTimeout(O.animationEndCallback),delete O.animationEndCallback}}),K(F(O),"updateState",function(Y,P,L){var R=(0,s.initializedState)(Y);Y=w(w(w({},Y),R),{},{slideIndex:R.currentSlide});var G=(0,s.getTrackLeft)(Y);Y=w(w({},Y),{},{left:G});var X=(0,s.getTrackCSS)(Y);(P||e.default.Children.count(O.props.children)!==e.default.Children.count(Y.children))&&(R.trackStyle=X),O.setState(R,L)}),K(F(O),"ssrInit",function(){if(O.props.variableWidth){var Y=0,P=0,L=[],R=(0,s.getPreClones)(w(w(w({},O.props),O.state),{},{slideCount:O.props.children.length})),G=(0,s.getPostClones)(w(w(w({},O.props),O.state),{},{slideCount:O.props.children.length}));O.props.children.forEach(function(_e){L.push(_e.props.style.width),Y+=_e.props.style.width});for(var X=0;X<R;X++)P+=L[L.length-1-X],Y+=L[L.length-1-X];for(var D=0;D<G;D++)Y+=L[D];for(var Z=0;Z<O.state.currentSlide;Z++)P+=L[Z];var ae={width:Y+"px",left:-P+"px"};if(O.props.centerMode){var le="".concat(L[O.state.currentSlide],"px");ae.left="calc(".concat(ae.left," + (100% - ").concat(le,") / 2 ) ")}return{trackStyle:ae}}var Q=e.default.Children.count(O.props.children),oe=w(w(w({},O.props),O.state),{},{slideCount:Q}),ve=(0,s.getPreClones)(oe)+(0,s.getPostClones)(oe)+Q,ue=100/O.props.slidesToShow*ve,ge=100/ve,ie=-ge*((0,s.getPreClones)(oe)+O.state.currentSlide)*ue/100;O.props.centerMode&&(ie+=(100-ge*ue/100)/2);var se={width:ue+"%",left:ie+"%"};return{slideWidth:ge+"%",trackStyle:se}}),K(F(O),"checkImagesLoad",function(){var Y=O.list&&O.list.querySelectorAll&&O.list.querySelectorAll(".slick-slide img")||[],P=Y.length,L=0;Array.prototype.forEach.call(Y,function(R){var G=function(){return++L&&L>=P&&O.onWindowResized()};if(!R.onclick)R.onclick=function(){return R.parentNode.focus()};else{var X=R.onclick;R.onclick=function(D){X(D),R.parentNode.focus()}}R.onload||(O.props.lazyLoad?R.onload=function(){O.adaptHeight(),O.callbackTimers.push(setTimeout(O.onWindowResized,O.props.speed))}:(R.onload=G,R.onerror=function(){G(),O.props.onLazyLoadError&&O.props.onLazyLoadError()}))})}),K(F(O),"progressiveLazyLoad",function(){for(var Y=[],P=w(w({},O.props),O.state),L=O.state.currentSlide;L<O.state.slideCount+(0,s.getPostClones)(P);L++)if(O.state.lazyLoadedList.indexOf(L)<0){Y.push(L);break}for(var R=O.state.currentSlide-1;R>=-(0,s.getPreClones)(P);R--)if(O.state.lazyLoadedList.indexOf(R)<0){Y.push(R);break}Y.length>0?(O.setState(function(G){return{lazyLoadedList:G.lazyLoadedList.concat(Y)}}),O.props.onLazyLoad&&O.props.onLazyLoad(Y)):O.lazyLoadTimer&&(clearInterval(O.lazyLoadTimer),delete O.lazyLoadTimer)}),K(F(O),"slideHandler",function(Y){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L=O.props,R=L.asNavFor,G=L.beforeChange,X=L.onLazyLoad,D=L.speed,Z=L.afterChange,ae=O.state.currentSlide,le=(0,s.slideHandler)(w(w(w({index:Y},O.props),O.state),{},{trackRef:O.track,useCSS:O.props.useCSS&&!P})),Q=le.state,oe=le.nextState;if(Q){G&&G(ae,Q.currentSlide);var ve=Q.lazyLoadedList.filter(function(ue){return O.state.lazyLoadedList.indexOf(ue)<0});X&&ve.length>0&&X(ve),!O.props.waitForAnimate&&O.animationEndCallback&&(clearTimeout(O.animationEndCallback),Z&&Z(ae),delete O.animationEndCallback),O.setState(Q,function(){R&&O.asNavForIndex!==Y&&(O.asNavForIndex=Y,R.innerSlider.slideHandler(Y)),oe&&(O.animationEndCallback=setTimeout(function(){var ue=oe.animating,ge=x(oe,["animating"]);O.setState(ge,function(){O.callbackTimers.push(setTimeout(function(){return O.setState({animating:ue})},10)),Z&&Z(Q.currentSlide),delete O.animationEndCallback})},D))})}}),K(F(O),"changeSlide",function(Y){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L=w(w({},O.props),O.state),R=(0,s.changeSlide)(L,Y);if(!(R!==0&&!R)&&(P===!0?O.slideHandler(R,P):O.slideHandler(R),O.props.autoplay&&O.autoPlay("update"),O.props.focusOnSelect)){var G=O.list.querySelectorAll(".slick-current");G[0]&&G[0].focus()}}),K(F(O),"clickHandler",function(Y){O.clickable===!1&&(Y.stopPropagation(),Y.preventDefault()),O.clickable=!0}),K(F(O),"keyHandler",function(Y){var P=(0,s.keyHandler)(Y,O.props.accessibility,O.props.rtl);P!==""&&O.changeSlide({message:P})}),K(F(O),"selectHandler",function(Y){O.changeSlide(Y)}),K(F(O),"disableBodyScroll",function(){var Y=function(L){L=L||window.event,L.preventDefault&&L.preventDefault(),L.returnValue=!1};window.ontouchmove=Y}),K(F(O),"enableBodyScroll",function(){window.ontouchmove=null}),K(F(O),"swipeStart",function(Y){O.props.verticalSwiping&&O.disableBodyScroll();var P=(0,s.swipeStart)(Y,O.props.swipe,O.props.draggable);P!==""&&O.setState(P)}),K(F(O),"swipeMove",function(Y){var P=(0,s.swipeMove)(Y,w(w(w({},O.props),O.state),{},{trackRef:O.track,listRef:O.list,slideIndex:O.state.currentSlide}));P&&(P.swiping&&(O.clickable=!1),O.setState(P))}),K(F(O),"swipeEnd",function(Y){var P=(0,s.swipeEnd)(Y,w(w(w({},O.props),O.state),{},{trackRef:O.track,listRef:O.list,slideIndex:O.state.currentSlide}));if(P){var L=P.triggerSlideHandler;delete P.triggerSlideHandler,O.setState(P),L!==void 0&&(O.slideHandler(L),O.props.verticalSwiping&&O.enableBodyScroll())}}),K(F(O),"touchEnd",function(Y){O.swipeEnd(Y),O.clickable=!0}),K(F(O),"slickPrev",function(){O.callbackTimers.push(setTimeout(function(){return O.changeSlide({message:"previous"})},0))}),K(F(O),"slickNext",function(){O.callbackTimers.push(setTimeout(function(){return O.changeSlide({message:"next"})},0))}),K(F(O),"slickGoTo",function(Y){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Y=Number(Y),isNaN(Y))return"";O.callbackTimers.push(setTimeout(function(){return O.changeSlide({message:"index",index:Y,currentSlide:O.state.currentSlide},P)},0))}),K(F(O),"play",function(){var Y;if(O.props.rtl)Y=O.state.currentSlide-O.props.slidesToScroll;else if((0,s.canGoNext)(w(w({},O.props),O.state)))Y=O.state.currentSlide+O.props.slidesToScroll;else return!1;O.slideHandler(Y)}),K(F(O),"autoPlay",function(Y){O.autoplayTimer&&clearInterval(O.autoplayTimer);var P=O.state.autoplaying;if(Y==="update"){if(P==="hovered"||P==="focused"||P==="paused")return}else if(Y==="leave"){if(P==="paused"||P==="focused")return}else if(Y==="blur"&&(P==="paused"||P==="hovered"))return;O.autoplayTimer=setInterval(O.play,O.props.autoplaySpeed+50),O.setState({autoplaying:"playing"})}),K(F(O),"pause",function(Y){O.autoplayTimer&&(clearInterval(O.autoplayTimer),O.autoplayTimer=null);var P=O.state.autoplaying;Y==="paused"?O.setState({autoplaying:"paused"}):Y==="focused"?(P==="hovered"||P==="playing")&&O.setState({autoplaying:"focused"}):P==="playing"&&O.setState({autoplaying:"hovered"})}),K(F(O),"onDotsOver",function(){return O.props.autoplay&&O.pause("hovered")}),K(F(O),"onDotsLeave",function(){return O.props.autoplay&&O.state.autoplaying==="hovered"&&O.autoPlay("leave")}),K(F(O),"onTrackOver",function(){return O.props.autoplay&&O.pause("hovered")}),K(F(O),"onTrackLeave",function(){return O.props.autoplay&&O.state.autoplaying==="hovered"&&O.autoPlay("leave")}),K(F(O),"onSlideFocus",function(){return O.props.autoplay&&O.pause("focused")}),K(F(O),"onSlideBlur",function(){return O.props.autoplay&&O.state.autoplaying==="focused"&&O.autoPlay("blur")}),K(F(O),"render",function(){var Y=(0,a.default)("slick-slider",O.props.className,{"slick-vertical":O.props.vertical,"slick-initialized":!0}),P=w(w({},O.props),O.state),L=(0,s.extractObject)(P,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),R=O.props.pauseOnHover;L=w(w({},L),{},{onMouseEnter:R?O.onTrackOver:null,onMouseLeave:R?O.onTrackLeave:null,onMouseOver:R?O.onTrackOver:null,focusOnSelect:O.props.focusOnSelect&&O.clickable?O.selectHandler:null});var G;if(O.props.dots===!0&&O.state.slideCount>=O.props.slidesToShow){var X=(0,s.extractObject)(P,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),D=O.props.pauseOnDotsHover;X=w(w({},X),{},{clickHandler:O.changeSlide,onMouseEnter:D?O.onDotsLeave:null,onMouseOver:D?O.onDotsOver:null,onMouseLeave:D?O.onDotsLeave:null}),G=e.default.createElement(l.Dots,X)}var Z,ae,le=(0,s.extractObject)(P,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);le.clickHandler=O.changeSlide,O.props.arrows&&(Z=e.default.createElement(c.PrevArrow,le),ae=e.default.createElement(c.NextArrow,le));var Q=null;O.props.vertical&&(Q={height:O.state.listHeight});var oe=null;O.props.vertical===!1?O.props.centerMode===!0&&(oe={padding:"0px "+O.props.centerPadding}):O.props.centerMode===!0&&(oe={padding:O.props.centerPadding+" 0px"});var ve=w(w({},Q),oe),ue=O.props.touchMove,ge={className:"slick-list",style:ve,onClick:O.clickHandler,onMouseDown:ue?O.swipeStart:null,onMouseMove:O.state.dragging&&ue?O.swipeMove:null,onMouseUp:ue?O.swipeEnd:null,onMouseLeave:O.state.dragging&&ue?O.swipeEnd:null,onTouchStart:ue?O.swipeStart:null,onTouchMove:O.state.dragging&&ue?O.swipeMove:null,onTouchEnd:ue?O.touchEnd:null,onTouchCancel:O.state.dragging&&ue?O.swipeEnd:null,onKeyDown:O.props.accessibility?O.keyHandler:null},ie={className:Y,dir:"ltr",style:O.props.style};return O.props.unslick&&(ge={className:"slick-list"},ie={className:Y,style:O.props.style}),e.default.createElement("div",ie,O.props.unslick?"":Z,e.default.createElement("div",p({ref:O.listRefHandler},ge),e.default.createElement(o.Track,p({ref:O.trackRefHandler},L),O.props.children)),O.props.unslick?"":ae,O.props.unslick?"":G)}),O.list=null,O.track=null,O.state=w(w({},r.default),{},{currentSlide:O.props.initialSlide,targetSlide:O.props.initialSlide?O.props.initialSlide:0,slideCount:e.default.Children.count(O.props.children)}),O.callbackTimers=[],O.clickable=!0,O.debouncedResize=null;var re=O.ssrInit();return O.state=w(w({},O.state),re),O}return k(H,[{key:"didPropsChange",value:function(O){for(var re=!1,Y=0,P=Object.keys(this.props);Y<P.length;Y++){var L=P[Y];if(!O.hasOwnProperty(L)){re=!0;break}if(!(f(O[L])==="object"||typeof O[L]=="function"||isNaN(O[L]))&&O[L]!==this.props[L]){re=!0;break}}return re||e.default.Children.count(this.props.children)!==e.default.Children.count(O.children)}}]),H}(e.default.Component),cp}var q1,Dk;function kY(){if(Dk)return q1;Dk=1;var e=function(r){return r.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).toLowerCase()};return q1=e,q1}var H1,Lk;function CY(){if(Lk)return H1;Lk=1;var e=kY(),r=function(s){var o=/[height|width]$/;return o.test(s)},n=function(s){var o="",l=Object.keys(s);return l.forEach(function(c,u){var d=s[c];c=e(c),r(c)&&typeof d=="number"&&(d=d+"px"),d===!0?o+=c:d===!1?o+="not "+c:o+="("+c+": "+d+")",u<l.length-1&&(o+=" and ")}),o},a=function(s){var o="";return typeof s=="string"?s:s instanceof Array?(s.forEach(function(l,c){o+=n(l),c<s.length-1&&(o+=", ")}),o):n(s)};return H1=a,H1}var Ok;function PY(){return Ok||(Ok=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=l(jo()),n=SY(),a=l(CY()),s=l(AT()),o=D0();function l(V){return V&&V.__esModule?V:{default:V}}function c(V){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},c(V)}function u(){return u=Object.assign?Object.assign.bind():function(V){for(var B=1;B<arguments.length;B++){var K=arguments[B];for(var T in K)({}).hasOwnProperty.call(K,T)&&(V[T]=K[T])}return V},u.apply(null,arguments)}function d(V,B){var K=Object.keys(V);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(V);B&&(T=T.filter(function(M){return Object.getOwnPropertyDescriptor(V,M).enumerable})),K.push.apply(K,T)}return K}function f(V){for(var B=1;B<arguments.length;B++){var K=arguments[B]!=null?arguments[B]:{};B%2?d(Object(K),!0).forEach(function(T){z(V,T,K[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(K)):d(Object(K)).forEach(function(T){Object.defineProperty(V,T,Object.getOwnPropertyDescriptor(K,T))})}return V}function p(V,B){if(!(V instanceof B))throw new TypeError("Cannot call a class as a function")}function x(V,B){for(var K=0;K<B.length;K++){var T=B[K];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(V,$(T.key),T)}}function g(V,B,K){return B&&x(V.prototype,B),Object.defineProperty(V,"prototype",{writable:!1}),V}function y(V,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");V.prototype=Object.create(B&&B.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),Object.defineProperty(V,"prototype",{writable:!1}),B&&w(V,B)}function w(V,B){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,T){return K.__proto__=T,K},w(V,B)}function v(V){var B=j();return function(){var K,T=C(V);if(B){var M=C(this).constructor;K=Reflect.construct(T,arguments,M)}else K=T.apply(this,arguments);return S(this,K)}}function S(V,B){if(B&&(c(B)=="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(V)}function k(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}function j(){try{var V=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j=function(){return!!V})()}function C(V){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},C(V)}function z(V,B,K){return(B=$(B))in V?Object.defineProperty(V,B,{value:K,enumerable:!0,configurable:!0,writable:!0}):V[B]=K,V}function $(V){var B=F(V,"string");return c(B)=="symbol"?B:B+""}function F(V,B){if(c(V)!="object"||!V)return V;var K=V[Symbol.toPrimitive];if(K!==void 0){var T=K.call(V,B);if(c(T)!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(V)}e.default=function(V){y(K,V);var B=v(K);function K(T){var M;return p(this,K),M=B.call(this,T),z(k(M),"innerSliderRefHandler",function(I){return M.innerSlider=I}),z(k(M),"slickPrev",function(){return M.innerSlider.slickPrev()}),z(k(M),"slickNext",function(){return M.innerSlider.slickNext()}),z(k(M),"slickGoTo",function(I){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return M.innerSlider.slickGoTo(I,q)}),z(k(M),"slickPause",function(){return M.innerSlider.pause("paused")}),z(k(M),"slickPlay",function(){return M.innerSlider.autoPlay("play")}),M.state={breakpoint:null},M._responsiveMediaHandlers=[],M}return g(K,[{key:"media",value:function(M,I){var q=window.matchMedia(M),H=function(O){var re=O.matches;re&&I()};q.addListener(H),this._responsiveMediaHandlers.push({mql:q,query:M,listener:H})}},{key:"componentDidMount",value:function(){var M=this;if(this.props.responsive){var I=this.props.responsive.map(function(H){return H.breakpoint});I.sort(function(H,te){return H-te}),I.forEach(function(H,te){var O;te===0?O=(0,a.default)({minWidth:0,maxWidth:H}):O=(0,a.default)({minWidth:I[te-1]+1,maxWidth:H}),(0,o.canUseDOM)()&&M.media(O,function(){M.setState({breakpoint:H})})});var q=(0,a.default)({minWidth:I.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(q,function(){M.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(M){M.mql.removeListener(M.listener)})}},{key:"render",value:function(){var M=this,I,q;this.state.breakpoint?(q=this.props.responsive.filter(function(X){return X.breakpoint===M.state.breakpoint}),I=q[0].settings==="unslick"?"unslick":f(f(f({},s.default),this.props),q[0].settings)):I=f(f({},s.default),this.props),I.centerMode&&(I.slidesToScroll>1,I.slidesToScroll=1),I.fade&&(I.slidesToShow>1,I.slidesToScroll>1,I.slidesToShow=1,I.slidesToScroll=1);var H=r.default.Children.toArray(this.props.children);H=H.filter(function(X){return typeof X=="string"?!!X.trim():!!X}),I.variableWidth&&(I.rows>1||I.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),I.variableWidth=!1);for(var te=[],O=null,re=0;re<H.length;re+=I.rows*I.slidesPerRow){for(var Y=[],P=re;P<re+I.rows*I.slidesPerRow;P+=I.slidesPerRow){for(var L=[],R=P;R<P+I.slidesPerRow&&(I.variableWidth&&H[R].props.style&&(O=H[R].props.style.width),!(R>=H.length));R+=1)L.push(r.default.cloneElement(H[R],{key:100*re+10*P+R,tabIndex:-1,style:{width:"".concat(100/I.slidesPerRow,"%"),display:"inline-block"}}));Y.push(r.default.createElement("div",{key:10*re+P},L))}I.variableWidth?te.push(r.default.createElement("div",{key:re,style:{width:O}},Y)):te.push(r.default.createElement("div",{key:re},Y))}if(I==="unslick"){var G="regular slider "+(this.props.className||"");return r.default.createElement("div",{className:G},H)}else te.length<=I.slidesToShow&&(I.unslick=!0);return r.default.createElement(n.InnerSlider,u({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(I)),te)}}]),K}(r.default.Component)}(z1)),z1}var Tk;function EY(){return Tk||(Tk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(PY());function n(a){return a&&a.__esModule?a:{default:a}}e.default=r.default}(R1)),R1}var AY=EY();const IT=Qo(AY);function DY(e){return _o({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 19H15V21H2V19H3V4C3 3.44772 3.44772 3 4 3H13C13.5523 3 14 3.44772 14 4V12H16C17.1046 12 18 12.8954 18 14V18C18 18.5523 18.4477 19 19 19C19.5523 19 20 18.5523 20 18V11H18C17.4477 11 17 10.5523 17 10V6.41421L15.3431 4.75736L16.7574 3.34315L21.7071 8.29289C21.9024 8.48816 22 8.74408 22 9V18C22 19.6569 20.6569 21 19 21C17.3431 21 16 19.6569 16 18V14H14V19ZM5 19H12V13H5V19ZM5 5V11H12V5H5Z"},child:[]}]})(e)}function L0(e){return _o({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 6.59375 6 C 5.257813 6 4.023438 6.667969 3.28125 7.78125 L 0.5 11.9375 C 0.171875 12.429688 0 13 0 13.59375 L 0 20.21875 C 0 21.132813 0.613281 21.933594 1.5 22.15625 L 4.09375 22.8125 C 4.46875 24.628906 6.078125 26 8 26 C 9.851563 26 11.398438 24.71875 11.84375 23 L 21.15625 23 C 21.601563 24.71875 23.148438 26 25 26 C 26.851563 26 28.398438 24.71875 28.84375 23 L 30 23 C 31.09375 23 32 22.09375 32 21 L 32 17.34375 C 32 15.511719 30.746094 13.910156 28.96875 13.46875 L 23.5625 12.09375 L 19.65625 7.4375 C 18.894531 6.527344 17.78125 6 16.59375 6 Z M 6.59375 8 L 11 8 L 11 12 L 2.875 12 L 4.9375 8.90625 L 4.9375 8.875 C 5.308594 8.316406 5.921875 8 6.59375 8 Z M 13 8 L 16.59375 8 C 17.1875 8 17.746094 8.261719 18.125 8.71875 L 20.875 12 L 13 12 Z M 2 14 L 22.875 14 L 28.5 15.40625 C 29.394531 15.628906 30 16.421875 30 17.34375 L 30 21 L 28.84375 21 C 28.398438 19.28125 26.851563 18 25 18 C 23.148438 18 21.601563 19.28125 21.15625 21 L 11.84375 21 C 11.398438 19.28125 9.851563 18 8 18 C 6.226563 18 4.738281 19.171875 4.21875 20.78125 L 2 20.21875 Z M 8 20 C 9.117188 20 10 20.882813 10 22 C 10 23.117188 9.117188 24 8 24 C 6.882813 24 6 23.117188 6 22 C 6 20.882813 6.882813 20 8 20 Z M 25 20 C 26.117188 20 27 20.882813 27 22 C 27 23.117188 26.117188 24 25 24 C 23.882813 24 23 23.117188 23 22 C 23 20.882813 23.882813 20 25 20 Z"},child:[]}]})(e)}const LY=3,OY=()=>{const e=Pn(),[r,n]=N.useState([]);async function a(){try{const s=await Ey(LY);n(s)}catch(s){console.error("Error fetching cars:",s)}}return N.useEffect(()=>{a()},[]),i.jsx(De.div,{id:"car-not-found",className:"min-h-screen flex items-center justify-center bg-gray-50 px-6 py-20",initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.4},role:"status","aria-live":"polite",children:i.jsx("div",{className:"max-w-4xl w-full",children:i.jsxs("div",{className:"relative bg-white/80 backdrop-blur-md rounded-3xl shadow-xl border border-white/20 overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-theme-50/50 via-white/50 to-theme-100/50"}),i.jsxs("div",{className:"relative z-10 p-8 md:p-12 text-center",children:[i.jsxs("div",{className:"mx-auto w-24 h-24 mb-8 relative",children:[i.jsx("div",{className:"w-full h-full rounded-full bg-gradient-to-r from-theme-500 to-theme-600 flex items-center justify-center shadow-lg",children:i.jsx(I4,{className:"w-10 h-10 text-white"})}),i.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-theme-400 rounded-full animate-pulse"}),i.jsx("div",{className:"absolute -bottom-1 -left-1 w-4 h-4 bg-theme-300 rounded-full animate-pulse delay-150"})]}),i.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Maina nu a fost gsit"}),i.jsx("p",{className:"text-gray-600 text-lg mb-8 leading-relaxed max-w-lg mx-auto",children:"Ne pare ru  nu am gsit o main cu acel ID. Poi reveni la lista complet de maini sau ncerca una din sugestiile de mai jos."}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-8",children:[i.jsxs(Go,{to:"/cars",className:"px-8 py-4 bg-gradient-to-r from-theme-500 to-theme-600 hover:from-theme-600 hover:to-theme-700 text-white font-semibold rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2",children:[i.jsx(I4,{className:"w-5 h-5"}),"Vezi toate mainile"]}),i.jsx("button",{onClick:()=>e(-1),className:"px-8 py-4 border-2 border-theme-500 text-theme-500 hover:bg-theme-500 hover:text-white font-semibold rounded-2xl transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105",children:"napoi"}),i.jsx(Go,{to:"/contact",className:"px-8 py-4 border-2 border-gray-300 text-gray-700 hover:bg-gray-100 hover:border-gray-400 font-semibold rounded-2xl transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105",children:"Contacteaz-ne"})]}),r&&r.length>0&&i.jsxs("div",{className:"mt-8",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Poate te intereseaz"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:r.map(s=>i.jsx(De.div,{whileHover:{scale:1.02},transition:{type:"spring",stiffness:300,damping:20},children:i.jsxs(Go,{to:`/cars/${s.id}`,className:"flex flex-col sm:flex-row items-center sm:items-start gap-4 p-4 rounded-2xl border border-gray-200 hover:shadow-xl hover:border-theme-300 transition-all duration-300 bg-white/60 backdrop-blur-sm",children:[i.jsx("div",{className:"relative",children:i.jsx("img",{src:s.image_url||"",alt:s.make+" "+s.model,className:"w-20 h-16 object-cover rounded-xl flex-shrink-0 shadow-sm"})}),i.jsxs("div",{className:"text-left sm:flex-1",children:[i.jsx("div",{className:"text-sm font-semibold text-gray-900 truncate mb-1",children:s.make+" "+s.model}),i.jsx("div",{className:"text-xs text-gray-500 mb-2",children:s.year}),i.jsx("div",{className:"text-sm text-theme-600 font-bold",children:s.price_per_day?`${s.price_per_day}  / zi`:"Contacteaz-ne"})]})]})},s.id))})]})]})]})})})};function wm(e,r){let n=0;return e>=2&&e<=4?n=r.price_2_4_days||0:e>=5&&e<=15?n=r.price_5_15_days||0:e>=16&&e<=30?n=r.price_16_30_days||0:e>30&&(n=r.price_over_30_days||0),n.toString()}const TY=(e,r,n,a,s,o)=>{if(!n||!a||!s)return 0;let l=r*e,c=0;const u=r;o.unlimitedKm&&(c+=u*e*.5),o.speedLimitIncrease&&(c+=u*e*.2),o.tireInsurance&&(c+=u*e*.2),o.personalDriver&&(c+=800*e),o.priorityService&&(c+=1e3*e),o.childSeat&&(c+=100*e),o.simCard&&(c+=100*e),o.roadsideAssistance&&(c+=500*e);const d=l+c;return Math.round(d*100)/100};function MN(e,r,n){if(!e||!r.start_date||!r.end_date)return null;const a=sm(r.start_date,r.start_time||"09:00",r.end_date,r.end_time||"09:00"),{days:s,hours:o,totalHours:l}=a;if(isNaN(s)||s<0||isNaN(o)||o<0)return null;const c=wm(s,e);let u=parseFloat(c);if(isNaN(u))return null;const d=e.discount_percentage||e.discount||0;d>0&&(u=u*(1-d/100));const f=l/24;let p=u*s;if(o>0){const w=o/24*u;p+=w}let x=0;const g=u;n.unlimitedKm&&(x+=g*f*.5),n.speedLimitIncrease&&(x+=g*f*.2),n.tireInsurance&&(x+=g*f*.2),n.personalDriver&&(x+=800*f),n.priorityService&&(x+=1e3*f),n.childSeat&&(x+=100*f),n.simCard&&(x+=100*f),n.roadsideAssistance&&(x+=500*f);const y=p+x;return{pricePerDay:u,rentalDays:s,rentalHours:o,totalHours:l,basePrice:p,additionalCosts:x,totalPrice:y,baseCarPrice:g}}async function _d(){const{data:{user:e},error:r}=await Rt.auth.getUser();if(r||!e||!e.id)throw console.error("Auth error or no logged-in user",r),r;const{data:n,error:a}=await Rt.from("Profiles").select().eq("id",e.id).single();if(a)throw a;return n}async function MY(){try{const e=await _d();if(!e)return console.error("No logged-in user found"),null;const{data:r,error:n}=await Rt.from("Profiles").select("*").eq("id",e.id).single();return n?(console.error("Error fetching profile:",n),null):r}catch(e){return console.error("Unexpected error fetching profile:",e),null}}async function IY(e){try{const r={};return e.first_name&&(r.first_name=e.first_name),e.last_name&&(r.last_name=e.last_name),e.phone_number&&(r.phone_number=e.phone_number),error?(console.error("Error updating profile:",error),{success:!1,error:error.message}):{success:!0,data}}catch(r){return console.error("Unexpected error updating user profile:",r),{success:!1,error:"Unexpected error occurred"}}}async function RT(e){try{if(e.length===0)return[];const{data:r,error:n}=await Rt.from("Profiles").select("*").in("id",e);return n?(console.error("Error fetching user profiles:",n),[]):r||[]}catch(r){return console.error("Unexpected error fetching user profiles:",r),[]}}async function RY(){const e=await _d();let r=Rt.from("BorrowRequest").select("*");e!=null&&e.id&&(e!=null&&e.email)?r=r.or(`user_id.eq.${e.id},customer_email.eq.${e.email}`):e!=null&&e.id?r=r.eq("user_id",e.id):e!=null&&e.email&&(r=r.eq("customer_email",e.email));const{data:n}=await r.order("requested_at",{ascending:!1});if(!n||n.length===0)return[];const a=new Set;n.forEach(l=>{if(l.car_id){const c=typeof l.car_id=="number"?l.car_id:parseInt(l.car_id);a.add(c)}});let s=[];if(a.size>0)try{const{data:l,error:c}=await Rt.from("Cars").select("*").in("id",Array.from(a));!c&&l&&(s=l)}catch(l){console.error("Error fetching cars for borrow requests:",l)}return await Promise.all(n.map(async l=>{const c=typeof l.car_id=="number"?l.car_id:parseInt(l.car_id);let u=s.find(f=>f.id===c),d=null;try{const{data:f,error:p}=await Rt.from("Rentals").select("id, price_per_day, total_amount, contract_url").eq("request_id",l.id).single();!p&&f&&(d=f)}catch{console.debug("No linked rental found for request",l.id)}if(u)try{const f=[u.name,`${u.make} ${u.model}`,u.model,`${u.make}-${u.model}`.toLowerCase()].filter(Boolean);let p=null,x=[];for(const g of f)try{const y=await ia(g);if(y.mainImage){p=y.mainImage,x=y.photoGallery;break}}catch{}u={...u,image_url:p||u.image_url||"/placeholder-car.jpg",photo_gallery:x||[]}}catch(f){console.error(" Error fetching storage images for",u.make,u.model,":",f),u={...u,image_url:u.image_url||"/placeholder-car.jpg"}}return{...l,car:u||null,linkedRental:d,price_per_day:(d==null?void 0:d.price_per_day)||void 0,total_amount:(d==null?void 0:d.total_amount)||void 0,contract_url:(d==null?void 0:d.contract_url)||l.contract_url}}))}async function zY(){const r=(()=>{try{const a=localStorage.getItem("carFavorites");return a?JSON.parse(a):[]}catch{return[]}})();if(r.length===0)return[];const n=[];for(const a of r)try{const s=await Cy(a.toString());s&&n.push({car:s,lastRental:null,borrowCount:null})}catch(s){console.error(`Error fetching car ${a}:`,s)}return n}function fv(e,r,n){const a=(r+1).toString().padStart(2,"0"),s=n.toString().padStart(2,"0");return`${e}-${a}-${s} 00:00:00`}async function zT(){try{const{data:e,error:r}=await Rt.from("BorrowRequest").select("*").order("requested_at",{ascending:!1});return r?(console.error("Error fetching borrow requests:",r),[]):e}catch(e){return console.error("Error in fetchBorrowRequests:",e),[]}}async function Mk(e){var r;try{const{data:n,error:a}=await Rt.from("BorrowRequest").select("*").eq("id",parseInt(e)).single();if(a)return console.error("Error fetching borrow request by ID:",a),null;if(!n)return null;const s=await Cy(n.car_id);return s?{id:n.id.toString(),car_id:n.car_id.toString(),start_date:n.start_date,start_time:n.start_time,end_date:n.end_date,end_time:n.end_time,customer_name:n.customer_name,customer_first_name:n.customer_first_name,customer_last_name:n.customer_last_name,customer_email:n.customer_email,customer_phone:n.customer_phone,comment:n.comment,options:n.options,status:n.status,requested_at:n.requested_at,updated_at:n.updated_at,price_per_day:((r=n.price_per_day)==null?void 0:r.toString())||"0",total_amount:n.total_amount||0,contract_url:n.contract_url,car:s}:(console.error("Car not found for request:",n.car_id),null)}catch(n){return console.error("Error in fetchBorrowRequestById:",n),null}}async function FT(e=1,r=10,n){var a;try{const s=(e-1)*r,o=s+r-1;let l=Rt.from("BorrowRequest").select("*",{count:"exact"});if((a=n==null?void 0:n.searchQuery)!=null&&a.trim()){const p=await kT(n.searchQuery);if(!p.length)return{data:[],total:0};l=l.in("car_id",p)}n!=null&&n.status&&(l=l.eq("status",n.status)),n!=null&&n.sortBy?l=l.order("total_amount",{ascending:(n==null?void 0:n.sortOrder)??!1}):l=l.order("start_date",{ascending:!1}),l=l.range(s,o);const{data:c,count:u,error:d}=await l;return d?(console.error("Error fetching requests:",d),{data:[],total:0}):{data:await Promise.all(c.map(async p=>{const x=await Cy(p.car_id);return IN(p,x)})),total:u||0}}catch(s){return console.error("Unexpected error fetching requests:",s),{data:[],total:0}}}async function FY(e){try{const{data:r,error:n}=await Rt.from("BorrowRequest").select("*").eq("id",e).eq("status","PENDING").single();if(n||!r)return{success:!1,error:"Request not found or not pending"};const{error:a}=await Rt.from("BorrowRequest").update({status:"APPROVED"}).eq("id",e);return a?{success:!1,error:a.message||"Failed to update borrow request"}:{success:!0}}catch(r){return console.error("Error accepting borrow request:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async function $Y(e,r){try{const n={status:"REJECTED",updated_at:new Date().toISOString()};r!=null&&r.trim()!==""&&(n.reason=r.trim());const{error:a}=await Rt.from("BorrowRequest").update(n).eq("id",e);return a?{success:!1,error:a.message}:{success:!0}}catch(n){return console.error("Error rejecting borrow request:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async function BY(e){try{const{error:r}=await Rt.from("BorrowRequest").update({status:"PENDING",updated_at:new Date().toISOString()}).eq("id",e);return r?{success:!1,error:r.message}:{success:!0}}catch(r){return console.error("Error undoing reject borrow request:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async function Rf(e,r){try{const n={updated_at:new Date().toISOString()};r.car_id!==void 0&&(n.car_id=r.car_id),r.start_date!==void 0&&(n.start_date=r.start_date),r.start_time!==void 0&&(n.start_time=r.start_time),r.end_date!==void 0&&(n.end_date=r.end_date),r.end_time!==void 0&&(n.end_time=r.end_time),r.customer_name!==void 0&&(n.customer_name=r.customer_name),r.customer_email!==void 0&&(n.customer_email=r.customer_email),r.customer_phone!==void 0&&(n.customer_phone=r.customer_phone),r.comment!==void 0&&(n.comment=r.comment),r.options!==void 0&&(n.options=typeof r.options=="string"?r.options:JSON.stringify(r.options)),r.status!==void 0&&(n.status=r.status),r.contract_url!==void 0&&(n.contract_url=r.contract_url),r.total_amount!==void 0&&(n.total_amount=r.total_amount);const{error:a}=await Rt.from("BorrowRequest").update(n).eq("id",e);return a?{success:!1,error:a.message}:{success:!0}}catch(n){return console.error("Error updating borrow request:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async function UY(e,r,n,a,s,o,l,c,u,d,f,p,x,g){try{const w={user_id:`admin-${Date.now()}`,car_id:e,start_date:r,start_time:n,end_date:a,end_time:s,status:"APPROVED",customer_name:o,customer_first_name:l,customer_last_name:c,customer_email:u,customer_phone:d,requested_at:new Date().toISOString(),updated_at:new Date().toISOString()};f&&(w.customer_age=f),p&&(w.comment=p),x&&(w.options=typeof x=="string"?x:JSON.stringify(x)),g!==void 0&&(w.total_amount=g);const{data:v,error:S}=await Rt.from("BorrowRequest").insert(w).select().single();return S?{success:!1,error:S.message}:{success:!0,requestId:v.id.toString()}}catch(y){return console.error("Error creating borrow request:",y),{success:!1,error:y instanceof Error?y.message:"Unknown error"}}}async function $T(e){try{if(!e.customer_email||!e.customer_first_name||!e.customer_last_name)throw new Error("Missing required customer information for booking");const r=S=>S.trim().substring(0,100);if(e.customer_email=e.customer_email.toLowerCase().trim(),e.customer_first_name=r(e.customer_first_name),e.customer_last_name=r(e.customer_last_name),e.customer_phone&&(e.customer_phone=e.customer_phone.trim().substring(0,20)),e.comment&&(e.comment=r(e.comment)),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.customer_email))throw new Error("Invalid email format");if(!/^[a-zA-Z\s\-']{2,50}$/.test(e.customer_first_name)||!/^[a-zA-Z\s\-']{2,50}$/.test(e.customer_last_name))throw new Error("Invalid name format");const n=new Date(e.start_date),a=new Date(e.end_date),s=new Date,o=new Date;if(o.setMonth(o.getMonth()+6),n<new Date(s.getFullYear(),s.getMonth(),s.getDate())||n>o)throw new Error("Invalid booking dates - must be today or within 6 months");if(a<=n)throw new Error("End date must be after start date");const l=new Date(Date.now()-60*60*1e3),c=await Rt.from("BorrowRequest").select("id, customer_email, created_at").eq("customer_email",e.customer_email).gte("created_at",l.toISOString());if(c.data&&c.data.length>=3)throw console.warn("Rate limit exceeded:",{email:e.customer_email,recentRequests:c.data.length,timeWindow:"1 hour"}),new Error("Too many booking requests. Please wait before submitting another request.");const u=[/<script/i,/javascript:/i,/on\w+\s*=/i,/(\.\.|\/etc|passwd|shadow)/i,/([';]+|union.*select|drop.*table)/i],d=[e.customer_email,e.customer_first_name,e.customer_last_name,e.comment].filter(S=>S&&u.some(k=>k.test(S)));if(d.length>0)throw console.warn("Suspicious booking request detected:",{email:e.customer_email,timestamp:new Date().toISOString(),suspiciousFields:d.length}),new Error("Invalid request data. Please check your input.");if(e.customer_phone&&!/^[\d\s\-\+\(\)]{7,20}$/.test(e.customer_phone.replace(/\s/g,"")))throw new Error("Invalid phone number format");let f=null;try{const S=await _d();S!==null&&(f=S.id)}catch{}const p=await A0(e.car_id);if(!p)throw new Error("Car not found!");const g=sm(e.start_date,e.start_time||"09:00",e.end_date,e.end_time||"17:00").days,y=wm(g,p),w=parseFloat(y),v={user_id:f,car_id:e.car_id,start_date:e.start_date,start_time:e.start_time,end_date:e.end_date,end_time:e.end_time,price_per_day:w,status:"PENDING",customer_name:e.customer_name,customer_first_name:e.customer_first_name,customer_last_name:e.customer_last_name,customer_email:e.customer_email,customer_phone:e.customer_phone,requested_at:new Date().toISOString(),updated_at:new Date().toISOString(),total_amount:e.total_amount,comment:e.comment,options:e.options};try{const{data:S,error:k}=await Rt.from("BorrowRequest").insert(v).select().single();return k?(console.error("Error creating user borrow request:",k),{success:!1,error:k.message}):{success:!0,requestId:S.id.toString()}}catch(S){return console.error("Error creating user borrow request:",S),{success:!1,error:S instanceof Error?S.message:"Unknown error"}}}catch(r){return console.error("Error in createUserBorrowRequest:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async function qY(e,r,n,a,s,o,l,c,u){try{const d=c.find(z=>z.id.toString()===r);if(!d)return{success:!1,error:"Car not found"};const p=sm(n,a,s,o).days,x=wm(p,d),g=parseFloat(x)||0,y=(u==null?void 0:u.subtotal)||g*p,w=(u==null?void 0:u.taxesFees)||y*.1,v=(u==null?void 0:u.additionalTaxes)||0,S=y+w+v,k=l>0?l:S,{data:j,error:C}=await Rt.from("Rentals").insert({user_id:e,car_id:parseInt(r),start_date:n,start_time:a||"09:00",end_date:s,end_time:o||"17:00",price_per_day:g,subtotal:y,taxes_fees:w,additional_taxes:v,total_amount:k,rental_status:(u==null?void 0:u.rentalStatus)||"ACTIVE",payment_status:(u==null?void 0:u.paymentStatus)||"PENDING",payment_method:(u==null?void 0:u.paymentMethod)||null,notes:(u==null?void 0:u.notes)||null,special_requests:(u==null?void 0:u.specialRequests)||null,options:(u==null?void 0:u.options)||null,request_id:u!=null&&u.requestId?typeof u.requestId=="string"?parseInt(u.requestId):u.requestId:null,contract_url:(u==null?void 0:u.contractUrl)||null}).select().single();return C?{success:!1,error:C.message}:{success:!0,rentalId:j.id}}catch(d){return console.error("Error creating rental manually:",d),{success:!1,error:d instanceof Error?d.message:"Unknown error"}}}async function HY(e,r){const n=`${e} 00:00:00`,a=`${e} 23:59:59`,{data:s,error:o}=await Rt.from("Rentals").select("id").eq("car_id",r).eq("rental_status","ACTIVE").lte("start_date",a).gte("end_date",n);return o?(console.error("Error checking date:",o),!1):s.length>0}async function VY(e,r,n){const a=await _d();if(!a)return[];let s=Rt.from("BorrowRequest").select("*").eq("user_id",a.id);if(r){const c=r.getFullYear(),u=r.getMonth(),d=fv(c,u,1),f=new Date(c,u+1,1),p=fv(f.getFullYear(),f.getMonth(),1);s=s.lt("start_date",p).gte("end_date",d)}e?s=s.eq("car_id",e):s=s.eq("user_id",a.id);const{data:o,error:l}=await s;return l?(console.error("Error fetching rentals calendar:",l),[]):Promise.all((o??[]).map(c=>IN(c,c.car_id)))}async function WY(e,r,n){if(!await _d())return[];let s=Rt.from("BorrowRequest").select("*");if(r){const c=r.getFullYear(),u=r.getMonth(),d=fv(c,u,1),f=new Date(c,u+1,1),p=fv(f.getFullYear(),f.getMonth(),1);s=s.lt("start_date",p).gte("end_date",d)}e&&(s=s.eq("car_id",Number(e)));const{data:o,error:l}=await s;return l?(console.error("Error fetching borrow requests for admin calendar:",l),[]):Promise.all((o??[]).map(c=>IN(c)))}async function IN(e){if(!e.id)throw new Error("BorrowRequest must have an id to convert to DTO");const r=await A0(e.car_id);return{...e,id:e.id,car_id:e.car_id.toString(),price_per_day:e.price_per_day.toString(),car:r}}const RN=e=>{let r;if(e.category)try{const n=JSON.parse(e.category);Array.isArray(n),r=n}catch{r=e.category}return{id:e.id,make:e.make,model:e.model,name:e.name||void 0,year:e.year||new Date().getFullYear(),price_per_day:e.price_per_day||e.price_2_4_days||void 0,price_2_4_days:e.price_2_4_days||void 0,price_5_15_days:e.price_5_15_days||void 0,price_16_30_days:e.price_16_30_days||void 0,price_over_30_days:e.price_over_30_days||void 0,discount_percentage:e.discount||void 0,category:r,image_url:e.image_url||void 0,photo_gallery:e.photo_gallery||void 0,seats:e.seats||void 0,transmission:e.transmission||void 0,body:e.body||void 0,fuel_type:e.fuel_type||void 0,features:e.features||void 0,rating:e.rating||void 0,reviews:e.reviews||void 0,status:e.status||void 0,drivetrain:e.drivetrain||void 0,mileage:e.kilometers||void 0,color:e.color||void 0,license:e.license||void 0,kilometers:e.kilometers||void 0}},xo=async()=>{try{const{data:e,error:r}=await Rt.from("Cars").select("*").or("status.is.null,status.neq.deleted").order("id",{ascending:!0});if(r)throw console.error("Error fetching cars:",r),r;return e?e.map(RN):[]}catch(e){throw console.error("Error in fetchCars:",e),e}},r0=async e=>{try{const{data:r,error:n}=await Rt.from("Cars").select("*").eq("id",e).single();return n?(console.error("Error fetching car:",n),null):r?RN(r):null}catch(r){return console.error("Error in fetchCarById:",r),null}},KY=async e=>{try{let r=null;e.category&&(Array.isArray(e.category)?r=JSON.stringify(e.category):r=e.category);const n={make:e.make||"",model:e.model||"",name:e.name||null,year:e.year||new Date().getFullYear(),price_2_4_days:e.price_2_4_days||null,price_5_15_days:e.price_5_15_days||null,price_16_30_days:e.price_16_30_days||null,price_over_30_days:e.price_over_30_days||null,discount:e.discount_percentage!==void 0?e.discount_percentage:null,status:e.status||"available",body:e.body||null,transmission:e.transmission||null,drivetrain:e.drivetrain||null,seats:e.seats||null,category:r,image_url:e.image_url||null,photo_gallery:e.photo_gallery||[],fuel_type:e.fuel_type||null,features:e.features||[],rating:e.rating||0,reviews:e.reviews||0},{data:a,error:s}=await Dl.from("Cars").insert(n).select().single();if(s)throw console.error("Error creating car:",s),s;return a?RN(a):null}catch(r){throw console.error("Error in createCar:",r),r}},V1=async(e,r)=>{try{const n={};if(r.make!==void 0&&(n.make=r.make),r.model!==void 0&&(n.model=r.model),r.name!==void 0&&(n.name=r.name),r.year!==void 0&&(n.year=r.year),r.price_2_4_days!==void 0&&(n.price_2_4_days=r.price_2_4_days),r.price_5_15_days!==void 0&&(n.price_5_15_days=r.price_5_15_days),r.price_16_30_days!==void 0&&(n.price_16_30_days=r.price_16_30_days),r.price_over_30_days!==void 0&&(n.price_over_30_days=r.price_over_30_days),r.discount_percentage!==void 0&&(n.discount=r.discount_percentage),r.status!==void 0&&(n.status=r.status),r.body!==void 0&&(n.body=r.body),r.transmission!==void 0&&(n.transmission=r.transmission),r.drivetrain!==void 0&&(n.drivetrain=r.drivetrain),r.seats!==void 0&&(n.seats=r.seats),r.category!==void 0&&(Array.isArray(r.category)?n.category=JSON.stringify(r.category):n.category=r.category),(r.image!==void 0||r.image_url!==void 0)&&(n.image_url=r.image||r.image_url),(r.photoGallery!==void 0||r.photo_gallery!==void 0)&&(n.photo_gallery=r.photoGallery||r.photo_gallery),r.fuel_type!==void 0&&(n.fuel_type=r.fuel_type),r.features!==void 0&&(n.features=r.features),r.rating!==void 0&&(n.rating=r.rating),r.reviews!==void 0&&(n.reviews=r.reviews),Object.keys(n).length===0)return console.warn("No fields to update"),await r0(e);const{error:a}=await Dl.from("Cars").update(n).eq("id",e);if(a)throw console.error("Error updating car:",a),a;const s=await r0(e);if(!s)throw new Error("Car not found after update");return s}catch(n){throw console.error("Error in updateCar:",n),n}};class O0{constructor(r=0,n="Network Error"){this.status=r,this.text=n}}const GY=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,r)=>Promise.resolve(localStorage.setItem(e,r)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},Oi={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:GY()},zN=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},YY=(e,r="https://api.emailjs.com")=>{if(!e)return;const n=zN(e);Oi.publicKey=n.publicKey,Oi.blockHeadless=n.blockHeadless,Oi.storageProvider=n.storageProvider,Oi.blockList=n.blockList,Oi.limitRate=n.limitRate,Oi.origin=n.origin||r},BT=async(e,r,n={})=>{const a=await fetch(Oi.origin+e,{method:"POST",headers:n,body:r}),s=await a.text(),o=new O0(a.status,s);if(a.ok)return o;throw o},UT=(e,r,n)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!r||typeof r!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},XY=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},qT=e=>e.webdriver||!e.languages||e.languages.length===0,HT=()=>new O0(451,"Unavailable For Headless Browser"),JY=(e,r)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof r!="string")throw"The BlockList watchVariable has to be a string"},ZY=e=>{var r;return!((r=e.list)!=null&&r.length)||!e.watchVariable},QY=(e,r)=>e instanceof FormData?e.get(r):e[r],VT=(e,r)=>{if(ZY(e))return!1;JY(e.list,e.watchVariable);const n=QY(r,e.watchVariable);return typeof n!="string"?!1:e.list.includes(n)},WT=()=>new O0(403,"Forbidden"),eX=(e,r)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(r&&typeof r!="string")throw"The LimitRate ID has to be a non-empty string"},tX=async(e,r,n)=>{const a=Number(await n.get(e)||0);return r-Date.now()+a},KT=async(e,r,n)=>{if(!r.throttle||!n)return!1;eX(r.throttle,r.id);const a=r.id||e;return await tX(a,r.throttle,n)>0?!0:(await n.set(a,Date.now().toString()),!1)},GT=()=>new O0(429,"Too Many Requests"),rX=async(e,r,n,a)=>{const s=zN(a),o=s.publicKey||Oi.publicKey,l=s.blockHeadless||Oi.blockHeadless,c=s.storageProvider||Oi.storageProvider,u={...Oi.blockList,...s.blockList},d={...Oi.limitRate,...s.limitRate};return l&&qT(navigator)?Promise.reject(HT()):(UT(o,e,r),XY(n),n&&VT(u,n)?Promise.reject(WT()):await KT(location.pathname,d,c)?Promise.reject(GT()):BT("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:o,service_id:e,template_id:r,template_params:n}),{"Content-type":"application/json"}))},nX=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},aX=e=>typeof e=="string"?document.querySelector(e):e,iX=async(e,r,n,a)=>{const s=zN(a),o=s.publicKey||Oi.publicKey,l=s.blockHeadless||Oi.blockHeadless,c=Oi.storageProvider||s.storageProvider,u={...Oi.blockList,...s.blockList},d={...Oi.limitRate,...s.limitRate};if(l&&qT(navigator))return Promise.reject(HT());const f=aX(n);UT(o,e,r),nX(f);const p=new FormData(f);return VT(u,p)?Promise.reject(WT()):await KT(location.pathname,d,c)?Promise.reject(GT()):(p.append("lib_version","4.4.1"),p.append("service_id",e),p.append("template_id",r),p.append("user_id",o),BT("/api/v1.0/email/send-form",p))},md={init:YY,send:rX,sendForm:iX,EmailJSResponseStatus:O0},sX=async e=>{try{const r="puJkkInKNSBXdiXYJ";if(r&&md&&md.init(r),!md)throw new Error("EmailJS not loaded");const n=e.options.length>0?e.options.map(l=>`<div style="margin-bottom: 8px;"><strong>${l.label}:</strong> ${l.value}</div>`).join(""):"<div>Niciun serviciu suplimentar selectat</div>",a={car_name:e.carName,durata:e.duration,data_preluare:e.pickupDate,ora_preluare:e.pickupTime,data_returnare:e.returnDate,ora_returnare:e.returnTime,prenume:e.firstName,nume:e.lastName,varsta:e.age,telefon:e.phone,email:e.email,optiuni_text:n,comentariu:e.comment||"Nu a fost adugat niciun comentariu.",pret_zi:e.pricePerDay,total:e.totalPrice};await md.send("service_ku8aes8","template_wh4bg9s",a)}catch(r){console.error("Error sending rental request email:",r),console.error("Error details:",{message:r==null?void 0:r.message,text:r==null?void 0:r.text,status:r==null?void 0:r.status,response:r==null?void 0:r.response})}},oX=({isOpen:e,onClose:r,car:n,pickupDate:a,returnDate:s,pickupTime:o,returnTime:l,rentalCalculation:c,approvedBorrowRequests:u=[],carRentalsForCalendar:d=[]})=>{const f=[{code:"+373",flag:"",country:"Moldova"},{code:"+40",flag:"",country:"Romania"},{code:"+380",flag:"",country:"Ukraine"},{code:"+7",flag:"",country:"Russia"},{code:"+1",flag:"",country:"USA"},{code:"+44",flag:"",country:"UK"},{code:"+49",flag:"",country:"Germany"},{code:"+33",flag:"",country:"France"},{code:"+39",flag:"",country:"Italy"},{code:"+34",flag:"",country:"Spain"},{code:"+32",flag:"",country:"Belgium"},{code:"+31",flag:"",country:"Netherlands"},{code:"+41",flag:"",country:"Switzerland"},{code:"+43",flag:"",country:"Austria"},{code:"+48",flag:"",country:"Poland"},{code:"+420",flag:"",country:"Czech Republic"},{code:"+36",flag:"",country:"Hungary"},{code:"+359",flag:"",country:"Bulgaria"},{code:"+30",flag:"",country:"Greece"},{code:"+90",flag:"",country:"Turkey"}],p=Ce=>Ce,x=()=>"MDL",[g,y]=N.useState({firstName:"",lastName:"",age:"",phone:"",email:"",comment:""}),[w,v]=N.useState(f[0]),[S,k]=N.useState(!1),[j,C]=N.useState(!1),[z,$]=N.useState("terms"),[F,V]=N.useState(!1),[B,K]=N.useState(null),[T,M]=N.useState(!1),[I,q]=N.useState(null),[H,te]=N.useState({}),[O,re]=N.useState(!1),{t:Y}=mr(),{user:P}=yc();Pn();const[L,R]=N.useState({unlimitedKm:!1,personalDriver:!1,priorityService:!1,childSeat:!1,simCard:!1,roadsideAssistance:!1,airportDelivery:!1}),G=(c==null?void 0:c.days)||0,X=(c==null?void 0:c.hours)||0,D=G+X/24;let Z=0;const ae=I||n,le=(c==null?void 0:c.days)||0;let Q=0;le>=2&&le<=4?Q=ae.price_2_4_days||0:le>=5&&le<=15?Q=ae.price_5_15_days||0:le>=16&&le<=30?Q=ae.price_16_30_days||0:le>30&&(Q=ae.price_over_30_days||0);const oe=ae.discount_percentage||0,ve=oe>0?Q*(1-oe/100):Q;L.unlimitedKm&&(Z+=ve*D*.5),L.personalDriver&&(Z+=800*D),L.priorityService&&(Z+=1e3*D),L.childSeat&&(Z+=100*D),L.simCard&&(Z+=100*D),L.roadsideAssistance&&(Z+=500*D);const ue=Ce=>{const He=new Date(Ce),Ve=String(He.getDate()).padStart(2,"0"),at=String(He.getMonth()+1).padStart(2,"0"),Qe=He.getFullYear();return`${Ve}.${at}.${Qe}`},ge=()=>{if(!c)return 0;const Ce=I||n,He=c.days;let Ve=0;He>=2&&He<=4?Ve=Ce.price_2_4_days||0:He>=5&&He<=15?Ve=Ce.price_5_15_days||0:He>=16&&He<=30?Ve=Ce.price_16_30_days||0:He>30&&(Ve=Ce.price_over_30_days||0);const at=Ce.discount_percentage||0,Qe=at>0?Ve*(1-at/100):Ve;let ut=Qe*He;return c.hours>0&&(ut+=c.hours/24*Qe),Math.round(ut)},ie=()=>{if(!c)return 0;const Ce=ge();return Math.round(Ce+Z)},se=ge(),_e=ie(),Te=Math.round(ve),Xe=Ce=>Ce.trim()?Ce.trim().length<2?"Numele trebuie s aib minim 2 caractere.":Ce.trim().length>50?"Numele nu poate depi 50 de caractere.":/^[a-zA-Z\s\-']+$/.test(Ce.trim())?null:"Numele poate conine doar litere, spaii i cratime.":"Acest cmp este obligatoriu.",Me=Ce=>{if(!Ce.trim())return"V rugm s introducei vrsta.";const He=parseInt(Ce,10);return isNaN(He)?"V rugm s introducei un numr valid.":He<18?"Vrsta minim este de 18 ani.":He>100?"V rugm s introducei o vrst valid (maximum 100 ani).":null},Re=Ce=>{if(P){if(Ce.trim()){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Ce.trim()))return"V rugm s introducei o adres de e-mail valid.";if(Ce.trim().length>255)return"Adresa de e-mail nu poate depi 255 de caractere."}return null}return Ce.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Ce.trim())?Ce.trim().length>255?"Adresa de e-mail nu poate depi 255 de caractere.":null:"V rugm s introducei o adres de e-mail valid.":"Adresa de e-mail este obligatorie."},xe=Ce=>{if(!Ce.trim())return"Numrul de telefon este obligatoriu.";const He=Ce.replace(/[\s\-\(\)]/g,"");return/^\d+$/.test(He)?He.length<6?"Numrul de telefon trebuie s aib minim 6 cifre.":He.length>15?"Numrul de telefon nu poate depi 15 cifre.":null:"Numrul de telefon poate conine doar cifre, spaii i cratime."},Pe=Ce=>Ce.length>1e3?"Comentariul nu poate depi 1000 de caractere.":null,be=(Ce,He)=>{let Ve=He;if(Ce==="firstName"||Ce==="lastName")Ve=He.replace(/[^a-zA-Z\s\-']/g,""),Ve.length>50&&(Ve=Ve.substring(0,50));else if(Ce==="age")Ve=He.replace(/\D/g,""),Ve.length>3&&(Ve=Ve.substring(0,3));else if(Ce==="email")Ve.length>255&&(Ve=Ve.substring(0,255));else if(Ce==="phone"){Ve=He.replace(/[^\d\s\-\(\)]/g,"");const at=Ve.replace(/\D/g,"");at.length>15&&(Ve=Ve.substring(0,Ve.length-(at.length-15)))}else Ce==="comment"&&Ve.length>1e3&&(Ve=Ve.substring(0,1e3));if(y(at=>({...at,[Ce]:Ve})),O){let at=null;Ce==="firstName"||Ce==="lastName"?at=Xe(Ve):Ce==="age"?at=Me(Ve):Ce==="email"?at=Re(Ve):Ce==="phone"?at=xe(Ve):Ce==="comment"&&(at=Pe(Ve)),te(Qe=>({...Qe,[Ce]:at||void 0}))}B&&K(null)},Ae=(Ce,He)=>{R(Ve=>({...Ve,[Ce]:He}))},Ie=async Ce=>{Ce.preventDefault(),re(!0);const He={},Ve=Xe(g.firstName);Ve&&(He.firstName=Ve);const at=Xe(g.lastName);at&&(He.lastName=at);const Qe=Me(g.age);Qe&&(He.age=Qe);const ut=Re(g.email);ut&&(He.email=ut);const Ft=xe(g.phone);Ft&&(He.phone=Ft);const he=Pe(g.comment);if(he&&(He.comment=he),te(He),Object.keys(He).length>0){const wt=Object.keys(He)[0];setTimeout(()=>{const gt=document.querySelector(`[data-field="${wt}"]`);if(gt){gt.scrollIntoView({behavior:"smooth",block:"center"});const xt=gt.querySelector("input, textarea");xt&&xt.focus()}},100),K("V rugm s corectai erorile din formular.");return}const vt=(()=>{const wt=new Date(`${a}T${o}`),gt=new Date(`${s}T${l}`),xt=[...d.map(rt=>({start_date:rt.start_date,end_date:rt.end_date,start_time:rt.start_time||"09:00",end_time:rt.end_time||"17:00",status:rt.rental_status||"ACTIVE"})),...u.map(rt=>({start_date:rt.start_date,end_date:rt.end_date,start_time:rt.start_time||"09:00",end_time:rt.end_time||"17:00",status:rt.status||"APPROVED"}))];for(const rt of xt){if(!rt.start_date||!rt.end_date)continue;const It=rt.start_date.includes("T")?rt.start_date.split("T")[0]:rt.start_date.split(" ")[0],Bt=rt.end_date.includes("T")?rt.end_date.split("T")[0]:rt.end_date.split(" ")[0],zt=$r=>$r?$r.match(/^\d{2}:\d{2}$/)?$r:$r.match(/^\d{2}:\d{2}:\d{2}$/)?$r.substring(0,5):"09:00":"09:00",yt=zt(rt.start_time||"09:00"),ht=zt(rt.end_time||"17:00"),ur=new Date(`${It}T${yt}`),Jt=new Date(`${Bt}T${ht}`);if(wt<Jt&&gt>ur){const $r=Dt=>new Date(Dt).toLocaleDateString("ro-RO",{day:"numeric",month:"long",year:"numeric"});return`Maina este deja rezervat n perioada ${$r(It)} - ${$r(Bt)}. V rugm s selectai o alt perioad.`}}return null})();if(vt){K(vt),V(!1);return}K(null),M(!1),V(!0);try{const wt=`${w.code} ${g.phone.trim()}`,gt=ht=>ht,xt=ht=>{if(ht.includes(":")){const ur=ht.split(":");if(ur.length===2)return`${ur[0]}:${ur[1]}:00`}return ht},rt={};L.unlimitedKm&&(rt.unlimitedKm=!0),L.personalDriver&&(rt.personalDriver=!0),L.priorityService&&(rt.priorityService=!0),L.childSeat&&(rt.childSeat=!0),L.simCard&&(rt.simCard=!0),L.roadsideAssistance&&(rt.roadsideAssistance=!0),L.airportDelivery&&(rt.airportDelivery=!0);const It=(P==null?void 0:P.email)||g.email,Bt=It,zt={car_id:n.id.toString(),start_date:gt(a),start_time:xt(o),end_date:gt(s),end_time:xt(l),customer_first_name:g.firstName,customer_last_name:g.lastName,customer_name:`${g.firstName} ${g.lastName}`,customer_email:It,customer_phone:wt,customer_age:g.age?parseInt(g.age,10):void 0,total_amount:_e,price_per_day:0,options:Object.keys(rt).length>0?rt:null,status:"PENDING",requested_at:new Date().toISOString(),updated_at:new Date().toISOString(),comment:g.comment||void 0,user_id:Bt},yt=await $T(zt);if(yt.success){M(!0);try{const ht=I||n,ur=ht.name||`${ht.make} ${ht.model}`,Jt=en=>new Date(en).toLocaleDateString("ro-RO",{day:"numeric",month:"long",year:"numeric"}),Tr=c?`${c.days} ${c.days===1?"zi":"zile"}${c.hours>0?`, ${c.hours} ${c.hours===1?"or":"ore"}`:""}`:"",$r=L.unlimitedKm?Math.round(ve*D*.5):0,Dt=L.personalDriver?Math.round(800*D):0,Wr=L.priorityService?Math.round(1e3*D):0,Nr=L.childSeat?Math.round(100*D):0,Lt=L.simCard?Math.round(100*D):0,_r=L.roadsideAssistance?Math.round(500*D):0,gr=[];if(L.unlimitedKm){const en=$r.toLocaleString("ro-RO").replace(/\./g,",");gr.push({label:"Kilometraj",value:`${en} MDL (+50%)`})}if(L.personalDriver){const en=Dt.toLocaleString("ro-RO").replace(/\./g,",");gr.push({label:"ofer personal",value:`${en} MDL`})}if(L.priorityService){const en=Wr.toLocaleString("ro-RO").replace(/\./g,",");gr.push({label:"Priority Service",value:`${en} MDL`})}if(L.childSeat){const en=Nr.toLocaleString("ro-RO").replace(/\./g,",");gr.push({label:"Scaun copil",value:`${en} MDL`})}if(L.simCard){const en=Lt.toLocaleString("ro-RO").replace(/\./g,",");gr.push({label:"Cartel SIM",value:`${en} MDL`})}if(L.roadsideAssistance){const en=_r.toLocaleString("ro-RO").replace(/\./g,",");gr.push({label:"Asisten rutier",value:`${en} MDL`})}L.airportDelivery&&gr.push({label:"Livrare",value:"Gratuit"});const Sr=`${Te.toLocaleString("ro-RO").replace(/\./g,",")} MDL`,hn=`${Math.round(_e).toLocaleString("ro-RO").replace(/\./g,",")} MDL`;await sX({carName:ur,pickupDate:Jt(a),pickupTime:o,returnDate:Jt(s),returnTime:l,duration:Tr,firstName:g.firstName,lastName:g.lastName,age:g.age||"N/A",phone:wt,email:It,options:gr,comment:g.comment||"",pricePerDay:Sr,totalPrice:hn})}catch(ht){console.error("Failed to send email notification:",ht)}}else K(yt.error||"A aprut o eroare la trimiterea cererii. V rugm s ncercai din nou.")}catch(wt){console.error("Error submitting rental request:",wt),K("A aprut o eroare neateptat. V rugm s ncercai din nou.")}finally{V(!1)}};return N.useEffect(()=>{const Ce=He=>{He.target.closest(".country-code-dropdown-container")||k(!1)};return S?document.addEventListener("mousedown",Ce):document.removeEventListener("mousedown",Ce),()=>{document.removeEventListener("mousedown",Ce)}},[S]),N.useEffect(()=>{e&&(P!=null&&P.email)&&y(Ce=>({...Ce,email:P.email||""}))},[e,P]),N.useEffect(()=>{e||(y({firstName:"",lastName:"",age:"",phone:"",email:"",comment:""}),te({}),re(!1),R({unlimitedKm:!1,personalDriver:!1,priorityService:!1,childSeat:!1,simCard:!1,roadsideAssistance:!1,airportDelivery:!1}),K(null),M(!1))},[e]),N.useEffect(()=>{(async()=>{if(e&&(n!=null&&n.id))try{const He=await r0(typeof n.id=="string"?parseInt(n.id):n.id);He&&q(He)}catch(He){console.error("Error fetching fresh car data:",He),q(n)}})()},[e,n==null?void 0:n.id]),c?i.jsxs(hr,{children:[e&&i.jsxs(tt.Fragment,{children:[i.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9998]",onClick:r},"backdrop"),i.jsx(De.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.3,ease:"easeOut"},className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 overflow-y-auto",onClick:Ce=>Ce.stopPropagation(),children:i.jsxs("div",{className:"bg-white rounded-2xl border border-gray-300 shadow-2xl max-w-5xl w-full max-h-[95vh] md:max-h-[92vh] overflow-hidden md:my-4",children:[i.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-300 px-6 md:px-8 py-6 flex items-center justify-between rounded-t-2xl z-10",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 leading-tight",children:"Cerere de nchiriere"}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:(I||n).make+" "+(I||n).model})]}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-xl transition-all flex-shrink-0",children:i.jsx(kn,{className:"w-5 h-5 text-gray-500"})})]}),i.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-200px)] md:max-h-[calc(92vh-200px)]",children:T?i.jsxs("div",{className:"px-4 md:px-8 py-4 md:py-8",children:[i.jsx("div",{className:"bg-white rounded-2xl border border-gray-300 shadow-sm p-4 md:p-8",children:i.jsxs("div",{className:"flex items-start gap-3 md:gap-4",children:[i.jsx("div",{className:"w-10 h-10 md:w-14 md:h-14 rounded-full flex items-center justify-center shadow-lg bg-gradient-to-b from-red-500 to-red-600 flex-shrink-0",children:i.jsx(xd,{className:"w-5 h-5 md:w-7 md:h-7 text-white",strokeWidth:2.5})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"mb-1 md:mb-2",children:i.jsx("span",{className:"text-xs font-semibold tracking-wider text-red-500 uppercase",children:"Confirmare"})}),i.jsx("h2",{className:"text-lg md:text-3xl font-bold text-gray-800 leading-tight mb-1 md:mb-3",children:"Cererea a fost trimis cu succes!"}),i.jsx("p",{className:"text-gray-600 text-sm md:text-base leading-relaxed",children:"n scurt timp v vom contacta pentru confirmare."})]})]})}),!1]}):i.jsxs("form",{onSubmit:Ie,className:"px-4 md:px-8 py-6 md:py-8 space-y-6 md:space-y-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl border border-gray-300 p-4 md:p-6 shadow-sm",children:[i.jsx("div",{className:"mb-3 md:mb-4",children:i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:i.jsx($n,{className:"w-5 h-5 text-white"})}),i.jsx("h3",{className:"text-base md:text-lg font-bold text-gray-800",children:"Perioada nchirierii"})]})}),i.jsxs("div",{className:"space-y-2 md:space-y-3",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("span",{className:"text-gray-600 text-sm md:text-base",children:[c.days," ",c.days===1?"zi":"zile",c.hours>0&&`, ${c.hours} ${c.hours===1?"or":"ore"}`]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4 pt-2 md:pt-3 border-t border-gray-300",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Data prelurii"}),i.jsx("p",{className:"text-gray-900 font-semibold text-sm md:text-base",children:ue(a)}),i.jsxs("p",{className:"text-gray-500 text-xs md:text-sm",children:["ora ",o]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Data returnrii"}),i.jsx("p",{className:"text-gray-900 font-semibold text-sm md:text-base",children:ue(s)}),i.jsxs("p",{className:"text-gray-500 text-xs md:text-sm",children:["ora ",l]})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-gray-300 p-4 md:p-6 shadow-sm",children:[i.jsx("div",{className:"mb-3 md:mb-4",children:i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:i.jsx(tv,{className:"w-5 h-5 text-white"})}),i.jsx("h3",{className:"text-base md:text-lg font-bold text-gray-800",children:"Date de contact"})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4 mb-4",children:[i.jsxs("div",{"data-field":"firstName",children:[i.jsxs("label",{className:"block text-xs text-gray-500 uppercase tracking-wide mb-1",children:["Prenume ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:g.firstName,onChange:Ce=>be("firstName",Ce.target.value),className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-1 transition-colors text-sm md:text-base ${O&&H.firstName?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-gray-900 focus:border-gray-900 hover:border-gray-400"}`,required:!0,maxLength:50}),O&&H.firstName&&i.jsx("p",{className:"mt-1 text-xs text-red-500",children:H.firstName})]}),i.jsxs("div",{"data-field":"lastName",children:[i.jsxs("label",{className:"block text-xs text-gray-500 uppercase tracking-wide mb-1",children:["Nume ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:g.lastName,onChange:Ce=>be("lastName",Ce.target.value),className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-1 transition-colors text-sm md:text-base ${O&&H.lastName?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-gray-900 focus:border-gray-900 hover:border-gray-400"}`,required:!0,maxLength:50}),O&&H.lastName&&i.jsx("p",{className:"mt-1 text-xs text-red-500",children:H.lastName})]})]}),i.jsxs("div",{className:"mb-4","data-field":"age",children:[i.jsxs("label",{className:"block text-xs text-gray-500 uppercase tracking-wide mb-1",children:["Vrst ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",value:g.age,onChange:Ce=>be("age",Ce.target.value),placeholder:"18",min:"18",max:"100",className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-1 transition-colors text-sm md:text-base ${O&&H.age?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-gray-900 focus:border-gray-900 hover:border-gray-400"}`,required:!0}),O&&H.age&&i.jsx("p",{className:"mt-1 text-xs text-red-500",children:H.age})]}),!P&&i.jsxs("div",{className:"mb-4","data-field":"email",children:[i.jsxs("label",{className:"block text-xs text-gray-500 uppercase tracking-wide mb-1",children:["E-mail ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"email",value:g.email,onChange:Ce=>be("email",Ce.target.value),placeholder:"email@mail.com",className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-1 transition-colors text-sm md:text-base ${O&&H.email?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-gray-900 focus:border-gray-900 hover:border-gray-400"}`,required:!0,maxLength:255}),O&&H.email&&i.jsx("p",{className:"mt-1 text-xs text-red-500",children:H.email})]}),i.jsxs("div",{"data-field":"phone",children:[i.jsxs("label",{className:"block text-xs text-gray-500 uppercase tracking-wide mb-1",children:["Telefon ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 country-code-dropdown-container",children:[i.jsxs("button",{type:"button",onClick:()=>k(!S),className:"flex items-center gap-1.5 text-gray-600 hover:text-gray-900 text-sm font-medium px-2 py-1 rounded hover:bg-gray-100 transition-colors",children:[i.jsx("span",{children:w.flag}),i.jsx("span",{children:w.code}),i.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),S&&i.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto z-50 min-w-[200px]",children:f.map(Ce=>i.jsxs("button",{type:"button",onClick:()=>{v(Ce),k(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[i.jsx("span",{children:Ce.flag}),i.jsx("span",{className:"flex-1 text-left",children:Ce.country}),i.jsx("span",{className:"text-gray-500",children:Ce.code})]},Ce.code))})]}),i.jsx("input",{type:"tel",value:g.phone,onChange:Ce=>be("phone",Ce.target.value),placeholder:"000 00 000",className:`w-full pl-28 pr-4 py-2.5 border rounded-lg focus:outline-none focus:ring-1 transition-colors ${O&&H.phone?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-gray-900 focus:border-gray-900 hover:border-gray-400"}`,required:!0,maxLength:20})]}),O&&H.phone&&i.jsx("p",{className:"mt-1 text-xs text-red-500",children:H.phone})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-gray-300 p-4 md:p-6 shadow-sm",children:[i.jsx("div",{className:"mb-3 md:mb-4",children:i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:i.jsx(Za,{className:"w-5 h-5 text-white"})}),i.jsx("h3",{className:"text-base md:text-lg font-bold text-gray-800",children:"Opiuni de nchiriere"})]})}),i.jsxs("div",{className:"mb-5 md:mb-6",children:[i.jsx("h4",{className:"text-xs md:text-sm font-semibold text-gray-900 mb-2 md:mb-3",children:"Limite"}),i.jsx("div",{className:"space-y-2",children:i.jsxs("label",{className:"flex items-center justify-between p-3 md:p-4 rounded-xl bg-white border border-gray-300 hover:shadow-md cursor-pointer transition-all duration-200 group",children:[i.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("input",{type:"checkbox",checked:L.unlimitedKm,onChange:Ce=>Ae("unlimitedKm",Ce.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${L.unlimitedKm?"bg-red-500 border-red-500":"border-gray-300 bg-white group-hover:border-red-400"}`,children:i.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${L.unlimitedKm?"opacity-100":"opacity-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),i.jsx("span",{className:"font-medium text-gray-900 text-xs md:text-sm",children:"Kilometraj nelimitat"})]}),i.jsx("span",{className:"text-xs md:text-sm font-bold text-red-600 bg-red-50 px-2 md:px-3 py-1 rounded-lg",children:"+50%"})]})})]}),i.jsxs("div",{className:"mb-5 md:mb-6",children:[i.jsx("h4",{className:"text-xs md:text-sm font-semibold text-gray-900 mb-2 md:mb-3",children:"Servicii VIP"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center justify-between p-3 md:p-4 rounded-xl bg-white border border-gray-300 hover:shadow-md cursor-pointer transition-all duration-200 group",children:[i.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("input",{type:"checkbox",checked:L.personalDriver,onChange:Ce=>Ae("personalDriver",Ce.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${L.personalDriver?"bg-red-500 border-red-500":"border-gray-300 bg-white group-hover:border-red-400"}`,children:i.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${L.personalDriver?"opacity-100":"opacity-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),i.jsx("span",{className:"font-medium text-gray-900 text-xs md:text-sm",children:"ofer personal"})]}),i.jsx("span",{className:"text-xs md:text-sm font-bold text-gray-900 bg-gray-100 px-2 md:px-3 py-1 rounded-lg whitespace-nowrap",children:"800 MDL/zi"})]}),i.jsxs("label",{className:"flex items-center justify-between p-3 md:p-4 rounded-xl bg-white border border-gray-300 hover:shadow-md cursor-pointer transition-all duration-200 group",children:[i.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("input",{type:"checkbox",checked:L.priorityService,onChange:Ce=>Ae("priorityService",Ce.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${L.priorityService?"bg-red-500 border-red-500":"border-gray-300 bg-white group-hover:border-red-400"}`,children:i.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${L.priorityService?"opacity-100":"opacity-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),i.jsx("span",{className:"font-medium text-gray-900 text-xs md:text-sm",children:"Priority Service"})]}),i.jsx("span",{className:"text-xs md:text-sm font-bold text-gray-900 bg-gray-100 px-2 md:px-3 py-1 rounded-lg whitespace-nowrap",children:"1 000 MDL/zi"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-xs md:text-sm font-semibold text-gray-900 mb-2 md:mb-3",children:"Suplimentar"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center justify-between p-3 md:p-4 rounded-xl bg-white border border-gray-300 hover:shadow-md cursor-pointer transition-all duration-200 group",children:[i.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("input",{type:"checkbox",checked:L.childSeat,onChange:Ce=>Ae("childSeat",Ce.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${L.childSeat?"bg-red-500 border-red-500":"border-gray-300 bg-white group-hover:border-red-400"}`,children:i.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${L.childSeat?"opacity-100":"opacity-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),i.jsx("span",{className:"font-medium text-gray-900 text-xs md:text-sm",children:"Scaun auto pentru copii"})]}),i.jsx("span",{className:"text-xs md:text-sm font-bold text-gray-900 bg-gray-100 px-2 md:px-3 py-1 rounded-lg whitespace-nowrap",children:"100 MDL/zi"})]}),i.jsxs("label",{className:"flex items-center justify-between p-3 md:p-4 rounded-xl bg-white border border-gray-300 hover:shadow-md cursor-pointer transition-all duration-200 group",children:[i.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("input",{type:"checkbox",checked:L.simCard,onChange:Ce=>Ae("simCard",Ce.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${L.simCard?"bg-red-500 border-red-500":"border-gray-300 bg-white group-hover:border-red-400"}`,children:i.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${L.simCard?"opacity-100":"opacity-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),i.jsx("span",{className:"font-medium text-gray-900 text-xs md:text-sm",children:"Cartel SIM cu internet"})]}),i.jsx("span",{className:"text-xs md:text-sm font-bold text-gray-900 bg-gray-100 px-2 md:px-3 py-1 rounded-lg whitespace-nowrap",children:"100 MDL/zi"})]}),i.jsxs("label",{className:"flex items-center justify-between p-3 md:p-4 rounded-xl bg-white border border-gray-300 hover:shadow-md cursor-pointer transition-all duration-200 group",children:[i.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("input",{type:"checkbox",checked:L.roadsideAssistance,onChange:Ce=>Ae("roadsideAssistance",Ce.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${L.roadsideAssistance?"bg-red-500 border-red-500":"border-gray-300 bg-white group-hover:border-red-400"}`,children:i.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${L.roadsideAssistance?"opacity-100":"opacity-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),i.jsx("span",{className:"font-medium text-gray-900 text-xs md:text-sm",children:"Asisten rutier"})]}),i.jsx("span",{className:"text-xs md:text-sm font-bold text-gray-900 bg-gray-100 px-2 md:px-3 py-1 rounded-lg whitespace-nowrap",children:"500 MDL/zi"})]})]})]}),i.jsxs("div",{className:"mb-5 md:mb-6",children:[i.jsx("h4",{className:"text-xs md:text-sm font-semibold text-gray-900 mb-2 mt-4 md:mb-3",children:"Livrare"}),i.jsx("div",{className:"space-y-2",children:i.jsxs("label",{className:"flex items-center justify-between p-3 md:p-4 rounded-xl bg-white border border-gray-300 hover:shadow-md cursor-pointer transition-all duration-200 group",children:[i.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("input",{type:"checkbox",checked:L.airportDelivery,onChange:Ce=>Ae("airportDelivery",Ce.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${L.airportDelivery?"bg-red-500 border-red-500":"border-gray-300 bg-white group-hover:border-red-400"}`,children:i.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${L.airportDelivery?"opacity-100":"opacity-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),i.jsx("span",{className:"font-medium text-gray-900 text-xs md:text-sm",children:"Livrare aeroport"})]}),i.jsx("span",{className:"text-xs md:text-sm font-bold text-green-600 bg-green-50 px-2 md:px-3 py-1 rounded-lg whitespace-nowrap",children:"Gratuit"})]})})]})]}),i.jsxs("div",{"data-field":"comment",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Comentariu ",i.jsx("span",{className:"text-gray-400 font-normal",children:"(opional)"})]}),i.jsx("textarea",{value:g.comment,onChange:Ce=>be("comment",Ce.target.value),rows:3,className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-1 resize-none transition-colors ${O&&H.comment?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-gray-900 focus:border-gray-900 hover:border-gray-400"}`,placeholder:"Adugai un comentariu (opional)",maxLength:1e3}),O&&H.comment&&i.jsx("p",{className:"mt-1 text-xs text-red-500",children:H.comment}),g.comment.length>0&&i.jsxs("p",{className:"mt-1 text-xs text-gray-500 text-right",children:[g.comment.length,"/1000 caractere"]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-gray-300 p-4 md:p-6 shadow-sm mt-6",children:[i.jsx("div",{className:"mb-3 md:mb-4",children:i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center shadow-lg bg-gradient-to-b from-red-500 to-red-600",children:i.jsx(C0,{className:"w-5 h-5 text-white"})}),i.jsx("h3",{className:"text-base md:text-lg font-bold text-gray-800",children:"Detalii pre"})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm md:text-base",children:[i.jsx("span",{className:"text-gray-600",children:"Pre pe zi"}),i.jsxs("span",{className:"text-gray-900 font-medium",children:[p(c.pricePerDay).toLocaleString("ro-RO")," ",x()]})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm md:text-base",children:[i.jsx("span",{className:"text-gray-600",children:"Perioad"}),i.jsxs("span",{className:"text-gray-900 font-medium",children:[c.days," ",c.days===1?"zi":"zile",c.hours>0&&`, ${c.hours} ${c.hours===1?"or":"ore"}`]})]}),i.jsx("div",{className:"pt-2 border-t border-gray-300",children:i.jsxs("div",{className:"flex items-center justify-between text-sm md:text-base",children:[i.jsx("span",{className:"text-gray-900 font-medium",children:"Pre de baz"}),i.jsxs("span",{className:"text-gray-900 font-medium",children:[p(Math.round(se)).toLocaleString("ro-RO")," ",x()]})]})}),Z>0&&i.jsx(i.Fragment,{children:i.jsxs("div",{className:"pt-3 border-t border-gray-300",children:[i.jsx("h4",{className:"text-sm md:text-base font-bold text-gray-900 mb-3",children:"Servicii suplimentare"}),i.jsxs("div",{className:"space-y-2 text-sm md:text-base",children:[L.unlimitedKm&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Kilometraj nelimitat"}),i.jsxs("span",{className:"text-gray-900 font-medium",children:[p(Math.round(ve*D*.5)).toLocaleString("ro-RO")," ",x()]})]}),L.personalDriver&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"ofer personal"}),i.jsxs("span",{className:"text-gray-900 font-medium",children:[Math.round(800*D)," MDL"]})]}),L.priorityService&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Priority Service"}),i.jsxs("span",{className:"text-gray-900 font-medium",children:[Math.round(1e3*D)," MDL"]})]}),L.childSeat&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Scaun auto pentru copii"}),i.jsxs("span",{className:"text-gray-900 font-medium",children:[Math.round(100*D)," MDL"]})]}),L.simCard&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Cartel SIM cu internet"}),i.jsxs("span",{className:"text-gray-900 font-medium",children:[Math.round(100*D)," MDL"]})]}),L.roadsideAssistance&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Asisten rutier"}),i.jsxs("span",{className:"text-gray-900 font-medium",children:[Math.round(500*D)," MDL"]})]}),i.jsx("div",{className:"pt-2 border-t border-gray-300",children:i.jsxs("div",{className:"flex justify-between font-medium text-sm md:text-base",children:[i.jsx("span",{className:"text-gray-900",children:"Total servicii"}),i.jsxs("span",{className:"text-gray-900",children:[p(Math.round(Z)).toLocaleString("ro-RO")," ",x()]})]})})]})]})}),i.jsxs("div",{className:"pt-3 border-t border-gray-300 flex items-center justify-between",children:[i.jsx("span",{className:"text-gray-900 font-bold text-base md:text-lg",children:"Total"}),i.jsxs("span",{className:"text-gray-900 font-bold text-lg md:text-xl",children:[p(_e).toLocaleString("ro-RO")," ",x()]})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-2 mt-6",children:[B&&i.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-xl",children:i.jsx("p",{className:"text-sm text-red-800 font-medium text-center",children:B})}),i.jsx("button",{type:"submit",onClick:Ie,disabled:F||T,className:"w-full font-semibold text-sm md:text-base py-3.5 px-6 rounded-xl transition-all bg-red-600 hover:bg-red-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:F?"Se trimite...":T?"Trimis cu succes!":"Trimite cererea"}),i.jsxs("p",{className:"text-[10px] md:text-xs text-center text-gray-500 leading-relaxed",children:["Fcnd clic pe butonul Trimite cererea, suntei de acord cu"," ",i.jsx("button",{type:"button",onClick:()=>{$("terms"),C(!0)},className:"text-red-600 hover:text-red-700 underline",children:"termenii de utilizare"})," ","i"," ",i.jsx("button",{type:"button",onClick:()=>{$("privacy"),C(!0)},className:"text-red-600 hover:text-red-700 underline",children:"politica de confidenialitate"})]})]})]})})]})},"modal")]},"modal-container"),i.jsx(hr,{children:j&&i.jsxs(tt.Fragment,{children:[i.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[10000]",onClick:()=>C(!1)},"terms-backdrop"),i.jsx(De.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},className:"fixed inset-0 z-[10001] flex items-center justify-center p-4",onClick:Ce=>Ce.stopPropagation(),children:i.jsxs("div",{className:"bg-white rounded-2xl border border-gray-300 shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[i.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-300 px-6 md:px-8 py-4 flex items-center justify-between rounded-t-2xl z-10",children:[i.jsx("div",{children:i.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800",children:z==="terms"?"Termeni i condiii":"Politica de confidenialitate"})}),i.jsx("button",{onClick:()=>C(!1),className:"p-2 hover:bg-gray-100 rounded-xl transition-all flex-shrink-0",children:i.jsx(kn,{className:"w-5 h-5 text-gray-500"})})]}),i.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-100px)] px-6 md:px-8 py-6",children:z==="terms"?i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 md:p-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-b from-red-500 to-red-600 flex items-center justify-center flex-shrink-0",children:i.jsx(nu,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-3",children:Y("pages.terms.sections.intro.title")}),i.jsx("p",{className:"text-gray-600 leading-relaxed text-sm md:text-base",children:Y("pages.terms.sections.intro.description")})]})]})}),i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 md:p-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-b from-red-500 to-red-600 flex items-center justify-center flex-shrink-0",children:i.jsx(DO,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-3",children:Y("pages.terms.sections.cookies.title")}),i.jsx("ul",{className:"space-y-2",children:[1,2,3,4].map(Ce=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500 mt-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-600 leading-relaxed text-sm md:text-base",children:Y(`pages.terms.sections.cookies.bullet${Ce}`)})]},Ce))})]})]})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 md:p-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-b from-red-500 to-red-600 flex items-center justify-center flex-shrink-0",children:i.jsx(fd,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-3",children:Y("pages.terms.sections.personal-data.title")}),i.jsx("ul",{className:"space-y-2",children:[1,2,3,4].map(Ce=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500 mt-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-600 leading-relaxed text-sm md:text-base",children:Y(`pages.terms.sections.personal-data.bullet${Ce}`)})]},Ce))})]})]})}),i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 md:p-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-b from-red-500 to-red-600 flex items-center justify-center flex-shrink-0",children:i.jsx(AO,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-3",children:Y("pages.terms.sections.notifications.title")}),i.jsx("ul",{className:"space-y-2",children:[1,2,3,4].map(Ce=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500 mt-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-600 leading-relaxed text-sm md:text-base",children:Y(`pages.terms.sections.notifications.bullet${Ce}`)})]},Ce))})]})]})})]})})]})},"terms-modal")]},"terms-container")})]}):null};async function YT(e){try{const r=typeof e=="number"?e:parseInt(e.toString(),10),{data:n,error:a}=await Rt.from("Rentals").select("id").eq("car_id",r).eq("rental_status","ACTIVE");if(a){console.error("Error checking active rentals for car:",a);return}const s=n&&n.length>0?"booked":"available",{error:o}=await Dl.from("Cars").update({status:s,updated_at:new Date().toISOString()}).eq("id",r);o&&console.error("Error updating car status:",o)}catch(r){console.error("Error in updateCarStatusBasedOnRentals:",r)}}async function Ly(){try{const{data:e,error:r}=await Rt.from("Rentals").select("*").order("created_at",{ascending:!1});return r?(console.error("Error fetching rentals:",r),[]):(e||[]).map(n=>({...n,status:n.rental_status||n.status,user:{id:n.user_id,email:"",user_metadata:{}}}))}catch(e){return console.error("Error in fetchRentals:",e),[]}}async function XT(e){try{const r=await Ly(),n=new Set;r.forEach(c=>{c.user_id&&n.add(c.user_id)});const a=await RT(Array.from(n)),s=new Map;a.forEach(c=>{c.id&&s.set(c.id,c)});const o=[],l=await Promise.all(r.map(async c=>{var $;const u=typeof c.car_id=="number"?c.car_id:parseInt(c.car_id);let d=e.find(F=>{var V;return F.id===u||F.id.toString()===((V=c.car_id)==null?void 0:V.toString())});if(!d&&c.car_id)try{const{data:F,error:V}=await Rt.from("Cars").select("*").eq("id",u).single();if(!V&&F&&(d={id:F.id,make:F.make,model:F.model,name:F.name||void 0,year:F.year||new Date().getFullYear(),price_per_day:F.price_per_day,discount_percentage:F.discount_percentage||void 0,category:F.category||void 0,image_url:F.image_url||void 0,photo_gallery:F.photo_gallery||void 0,seats:F.seats||void 0,transmission:F.transmission||void 0,body:F.body||void 0,fuel_type:F.fuel_type||void 0,features:F.features||void 0,rating:F.rating||void 0,reviews:F.reviews||void 0,status:F.status||void 0,drivetrain:F.drivetrain||void 0},d)){const B=d.name||`${d.make} ${d.model}`,{mainImage:K,photoGallery:T}=await ia(B);d.image_url=K||d.image_url,d.photo_gallery=T.length>0?T:d.photo_gallery}}catch(F){console.error(`Error fetching car ${u} from database:`,F)}const f=c.user_id?s.get(c.user_id):null,p=(f==null?void 0:f.email)||(($=c.user)==null?void 0:$.email)||"",x=(f==null?void 0:f.first_name)||"",g=(f==null?void 0:f.last_name)||"",y=(f==null?void 0:f.phone_number)||"",w=x&&g?`${x} ${g}`:x||g?`${x}${g}`:(p?p.split("@")[0]:"")||(c.user_id?`User ${c.user_id.slice(0,8)}`:"Guest User"),v=new Date(c.start_date||new Date),S=new Date(c.end_date||new Date),k=Math.ceil((S.getTime()-v.getTime())/(1e3*60*60*24))||1,j=c.total_amount||(d?((d==null?void 0:d.pricePerDay)||d.price_per_day||0)*k:0),C=c.price_per_day||(d==null?void 0:d.price_per_day)||0;let z=c.options;if(!z&&c.request_id)try{const{data:F}=await Rt.from("BorrowRequest").select("options").eq("id",c.request_id).single();F!=null&&F.options&&(z=F.options)}catch(F){console.debug("Could not fetch options from linked request:",F)}return{id:c.id,type:"rental",customerName:w,customerEmail:p,customerPhone:y,carName:(d==null?void 0:d.name)||`${(d==null?void 0:d.make)||""} ${(d==null?void 0:d.model)||""}`.trim()||"Unknown Car",avatar:(d==null?void 0:d.image_url)||(d==null?void 0:d.image)||"",pickupDate:c.start_date,pickupTime:c.start_time,returnDate:c.end_date,returnTime:c.end_time,status:c.rental_status||c.rental_status,total_amount:j.toString(),amount:j,createdAt:c.created_at,carId:c.car_id,userId:c.user_id,price_per_day:C,options:z,request_id:c.request_id,contract_url:c.contract_url||void 0}}));return o.push(...l),o.sort((c,u)=>{const d=c.createdAt?new Date(c.createdAt).getTime():0;return(u.createdAt?new Date(u.createdAt).getTime():0)-d})}catch(r){return console.error("Error in fetchRentalsForCalendarPageByMonth:",r),[]}}async function Px(e){try{const[r,n]=await Promise.all([zT(),Ly()]),a=new Set;r.forEach(d=>{d.user_id&&a.add(d.user_id)}),n.forEach(d=>{d.user_id&&a.add(d.user_id)});const s=await RT(Array.from(a)),o=new Map;s.forEach(d=>{d.id&&o.set(d.id,d)});const l=[],c=await Promise.all(r.map(async d=>{var k;const f=typeof d.car_id=="number"?d.car_id:parseInt(d.car_id.toString(),10);let p=e.find(j=>{var C;return j.id===f||j.id.toString()===((C=d.car_id)==null?void 0:C.toString())});if(!p&&d.car_id)try{const{data:j,error:C}=await Rt.from("Cars").select("*").eq("id",f).single();if(!C&&j&&(p={id:j.id,make:j.make,model:j.model,name:j.name||void 0,year:j.year||new Date().getFullYear(),price_per_day:j.price_per_day,discount_percentage:j.discount_percentage||void 0,category:j.category||void 0,image_url:j.image_url||void 0,photo_gallery:j.photo_gallery||void 0,seats:j.seats||void 0,transmission:j.transmission||void 0,body:j.body||void 0,fuel_type:j.fuel_type||void 0,features:j.features||void 0,rating:j.rating||void 0,reviews:j.reviews||void 0,status:j.status||void 0,drivetrain:j.drivetrain||void 0},p)){const z=p.name||`${p.make} ${p.model}`,{mainImage:$,photoGallery:F}=await ia(z);p.image_url=$||p.image_url,p.photo_gallery=F.length>0?F:p.photo_gallery}}catch(j){console.error(`Error fetching car ${f} from database:`,j)}const x=o.get(d.user_id),g=(x==null?void 0:x.email)||((k=d.user)==null?void 0:k.email)||"",y=(x==null?void 0:x.first_name)||"",w=(x==null?void 0:x.last_name)||"",v=(x==null?void 0:x.phone_number)||"",S=y&&w?`${y} ${w}`:y||w?`${y}${w}`:(g?g.split("@")[0]:"")||`User ${d.user_id.slice(0,8)}`;return{id:d.id,type:"request",customerName:S,customerEmail:g,customerPhone:v,carName:(p==null?void 0:p.name)||`${(p==null?void 0:p.make)||""} ${(p==null?void 0:p.model)||""}`.trim()||"Unknown Car",avatar:(p==null?void 0:p.image_url)||(p==null?void 0:p.image)||"",pickupDate:d.start_date.includes(" ")?d.start_date.split(" ")[0]:d.start_date.split("T")[0],pickupTime:d.start_time||(d.start_date.includes(" ")?d.start_date.split(" ")[1]:d.start_time),returnDate:d.end_date.includes(" ")?d.end_date.split(" ")[0]:d.end_date.split("T")[0],returnTime:d.end_time||(d.end_date.includes(" ")?d.end_date.split(" ")[1]:d.end_time),status:d.status,total_amount:"0",amount:0,createdAt:d.created_at,carId:d.car_id,userId:d.user_id,contract_url:d.contract_url||void 0}}));l.push(...c);const u=await Promise.all(n.map(async d=>{var V;const f=typeof d.car_id=="number"?d.car_id:parseInt(d.car_id);let p=e.find(B=>{var K;return B.id===f||B.id.toString()===((K=d.car_id)==null?void 0:K.toString())});if(!p&&d.car_id)try{const{data:B,error:K}=await Rt.from("Cars").select("*").eq("id",f).single();if(!K&&B&&(p={id:B.id,make:B.make,model:B.model,name:B.name||void 0,year:B.year||new Date().getFullYear(),price_per_day:B.price_per_day,discount_percentage:B.discount_percentage||void 0,category:B.category||void 0,image_url:B.image_url||void 0,photo_gallery:B.photo_gallery||void 0,seats:B.seats||void 0,transmission:B.transmission||void 0,body:B.body||void 0,fuel_type:B.fuel_type||void 0,features:B.features||void 0,rating:B.rating||void 0,reviews:B.reviews||void 0,status:B.status||void 0,drivetrain:B.drivetrain||void 0},p)){const T=p.name||`${p.make} ${p.model}`,{mainImage:M,photoGallery:I}=await ia(T);p.image_url=M||p.image_url,p.photo_gallery=I.length>0?I:p.photo_gallery}}catch(B){console.error(`Error fetching car ${f} from database:`,B)}const x=d.user_id?o.get(d.user_id):null,g=(x==null?void 0:x.email)||((V=d.user)==null?void 0:V.email)||"",y=(x==null?void 0:x.first_name)||"",w=(x==null?void 0:x.last_name)||"",v=(x==null?void 0:x.phone_number)||"",S=y&&w?`${y} ${w}`:y||w?`${y}${w}`:(g?g.split("@")[0]:"")||(d.user_id?`User ${d.user_id.slice(0,8)}`:"Guest User"),k=new Date(d.start_date||new Date),j=new Date(d.end_date||new Date),C=Math.ceil((j.getTime()-k.getTime())/(1e3*60*60*24))||1,z=d.total_amount||(p?((p==null?void 0:p.pricePerDay)||p.price_per_day||0)*C:0),$=d.price_per_day||(p==null?void 0:p.price_per_day)||0;let F=d.options;if(!F&&d.request_id)try{const{data:B}=await Rt.from("BorrowRequest").select("options").eq("id",d.request_id).single();B!=null&&B.options&&(F=B.options)}catch(B){console.debug("Could not fetch options from linked request:",B)}return{id:d.id,type:"rental",customerName:S,customerEmail:g,customerPhone:v,carName:(p==null?void 0:p.name)||`${(p==null?void 0:p.make)||""} ${(p==null?void 0:p.model)||""}`.trim()||"Unknown Car",avatar:(p==null?void 0:p.image_url)||(p==null?void 0:p.image)||"",pickupDate:d.start_date,pickupTime:d.start_time,returnDate:d.end_date,returnTime:d.end_time,status:d.rental_status||d.rental_status,total_amount:z.toString(),amount:z,createdAt:d.created_at,carId:d.car_id,userId:d.user_id,price_per_day:$,options:F,request_id:d.request_id,contract_url:d.contract_url||void 0}}));return l.push(...u),l.sort((d,f)=>{const p=d.createdAt?new Date(d.createdAt).getTime():0;return(f.createdAt?new Date(f.createdAt).getTime():0)-p})}catch(r){return console.error("Error in fetchAllOrders:",r),[]}}async function Oy(e){try{const{data:r,error:n}=await Rt.from("Rentals").select("car_id, request_id").eq("id",e).single();if(n||!r)return{success:!1,error:"Rental not found"};const{error:a}=await Rt.from("Rentals").update({rental_status:"CANCELLED",updated_at:new Date().toISOString()}).eq("id",e);if(a)return{success:!1,error:a.message};if(await YT(r.car_id),r.request_id){const{error:s}=await Rt.from("BorrowRequest").update({status:"PENDING",updated_at:new Date().toISOString()}).eq("id",r.request_id);s&&console.error("Error updating borrow request status:",s)}return{success:!0}}catch(r){return console.error("Error cancelling rental order:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async function Ty(e){try{const{error:r}=await Rt.from("Rentals").update({rental_status:"CONTRACT",updated_at:new Date().toISOString()}).eq("id",e);return r?{success:!1,error:r.message}:{success:!0}}catch(r){return console.error("Error redoing rental order:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}const My=Object.freeze(Object.defineProperty({__proto__:null,cancelRentalOrder:Oy,fetchAllOrders:Px,fetchRentals:Ly,fetchRentalsForCalendarPageByMonth:XT,redoRentalOrder:Ty,updateCarStatusBasedOnRentals:YT},Symbol.toStringTag,{value:"Module"}));function Li(e){if(!e)return"0 MDL";const r=typeof e=="string"?parseFloat(e):e;return`${Math.floor(r).toLocaleString()} MDL`}const ic=(e,r,n,a)=>isNaN(e)?"":new Intl.NumberFormat(n,{style:"currency",currency:r,minimumFractionDigits:0,maximumFractionDigits:0,...a}).format(e),lX=()=>{const{carId:e}=Qz(),r=Pn(),{eur:n,usd:a,selectedCurrency:s,setSelectedCurrency:o}=ON(),{t:l,i18n:c}=mr(),[u,d]=N.useState(c.language),f=()=>u==="ru"?" ":u==="en"?"Pickup Date":"Data prelurii",p=()=>u==="ru"?" ":u==="en"?"Return Date":"Data returnrii";N.useEffect(()=>{const pe=Ee=>{d(Ee)};return c.on("languageChanged",pe),()=>{c.off("languageChanged",pe)}},[c]);const[x,g]=N.useState(null),[y,w]=N.useState(!0),[v,S]=N.useState(),[k,j]=N.useState(!1),[C,z]=N.useState(""),[$,F]=N.useState(""),[V,B]=N.useState(""),[K,T]=N.useState(""),[M,I]=N.useState(!1),[q,H]=N.useState(!1),[te,O]=N.useState(!1),[re,Y]=N.useState(!1),[P,L]=N.useState(()=>{const pe=new Date,Ee=new Date(pe);return Ee.setDate(Ee.getDate()+1),{pickup:pe,return:Ee}}),[R,G]=N.useState(!1),[X,D]=N.useState(!1),[Z,ae]=N.useState(0),[le,Q]=N.useState(null),[oe,ve]=N.useState([]),[ue,ge]=N.useState([]),[ie,se]=N.useState(""),[_e,Te]=N.useState(!1),[Xe,Me]=N.useState(!1),[Re,xe]=N.useState(!1),[Pe,be]=N.useState([]),[Ae,Ie]=N.useState(!1),[Ce,He]=N.useState(0),[Ve,at]=N.useState(!1),Qe=pe=>Math.round(s==="MDL"?pe:s==="EUR"?pe/n:s==="USD"?pe/a:pe),ut=pe=>{switch(pe){case"EUR":return"";case"USD":return"$";case"MDL":return"MDL";default:return pe}},Ft=N.useRef(null),he=N.useRef(null),pt=N.useRef(null),vt=N.useRef(null),wt=N.useRef(null),gt=N.useRef(null),xt=N.useRef(null),rt=()=>{try{const pe=localStorage.getItem("carFavorites");return pe?JSON.parse(pe):[]}catch{return[]}},It=(pe,Ee)=>{const ze=rt();if(Ee)ze.includes(pe)||ze.push(pe);else{const Ke=ze.indexOf(pe);Ke>-1&&ze.splice(Ke,1)}localStorage.setItem("carFavorites",JSON.stringify(ze))},Bt=()=>{if(!x)return;const pe=!k;j(pe),It(Number(x.id),pe)},zt=()=>{at(!0),xt.current&&clearTimeout(xt.current),xt.current=setTimeout(()=>{at(!1),xt.current=null},5e3)},yt=pe=>{const Ee=new Date(pe),ze=String(Ee.getDate()).padStart(2,"0"),Ke=String(Ee.getMonth()+1).padStart(2,"0"),ft=Ee.getFullYear();return`${ze}.${Ke}.${ft}`},ht=pe=>{const Ee=pe.getFullYear(),ze=String(pe.getMonth()+1).padStart(2,"0"),Ke=String(pe.getDate()).padStart(2,"0");return`${Ee}-${ze}-${Ke}`},ur=pe=>{const Ee=pe.getFullYear(),ze=pe.getMonth(),Ke=new Date(Ee,ze,1),ft=new Date(Ke);ft.setDate(ft.getDate()-Ke.getDay());const bt=[],_t=new Date(ft);for(let $t=0;$t<42;$t++)_t.getMonth()===ze?bt.push(_t.toISOString().split("T")[0]):bt.push(null),_t.setDate(_t.getDate()+1);return bt},Jt=pe=>{const Ee=[],ze=pe!==void 0?pe:0;for(let Ke=ze;Ke<24;Ke++)Ee.push(`${String(Ke).padStart(2,"0")}:00`);return Ee},Tr=(pe,Ee)=>ue.length===0?!1:ue.some(ze=>{if(!ze.end_date||!ze.end_time)return!1;const Ke=ze.end_date.includes("T")?ze.end_date.split("T")[0]:ze.end_date.split(" ")[0],ft=new Date(Ke),[bt,_t]=ze.end_time.split(":").map(Number);ft.setHours(bt||17,_t||0,0,0);const $t=new Date(ft);if($t.setHours($t.getHours()+12),Ee){const[Qt,nr]=Ee.split(":").map(Number),vr=new Date(pe);return vr.setHours(Qt||0,nr||0,0,0),vr>=ft&&vr<$t}else{const Qt=new Date(pe);Qt.setHours(0,0,0,0);const nr=new Date(pe);return nr.setHours(23,59,59,999),$t>Qt&&ft<nr}}),$r=()=>{const pe=new Date;pe.setHours(0,0,0,0);let Ee=null;return oe.forEach(ze=>{if(!ze.start_date)return;const Ke=ze.start_date.includes("T")?ze.start_date.split("T")[0]:ze.start_date.split(" ")[0],ft=new Date(Ke+"T00:00:00");ft.setHours(0,0,0,0),ft>pe&&(!Ee||ft<Ee)&&(Ee=ft)}),ue.forEach(ze=>{if(!ze.start_date)return;const Ke=ze.start_date.includes("T")?ze.start_date.split("T")[0]:ze.start_date.split(" ")[0],ft=new Date(Ke+"T00:00:00");ft.setHours(0,0,0,0),ft>pe&&(!Ee||ft<Ee)&&(Ee=ft)}),Ee?ht(Ee):null},Dt=pe=>{const Ee=pe.split("T")[0],ze=new Date(Ee+"T00:00:00");ze.setHours(0,0,0,0);const Ke=new Date;return Ke.setHours(0,0,0,0),ze<Ke?!1:Tr(ze)||oe.length>0&&oe.some(bt=>{if(!bt.start_date||!bt.end_date)return!1;const _t=bt.start_date.includes("T")?bt.start_date.split("T")[0]:bt.start_date.split(" ")[0],$t=new Date(_t+"T00:00:00");$t.setHours(0,0,0,0);const Qt=bt.end_date.includes("T")?bt.end_date.split("T")[0]:bt.end_date.split(" ")[0],nr=new Date(Qt+"T23:59:59");return nr.setHours(23,59,59,999),nr>=Ke&&ze>=$t&&ze<=nr})?!0:ue.length>0?ue.some(bt=>{if(!bt.start_date||!bt.end_date)return!1;const _t=bt.start_date.includes("T")?bt.start_date.split("T")[0]:bt.start_date.split(" ")[0],$t=new Date(_t+"T00:00:00");$t.setHours(0,0,0,0);const Qt=bt.end_date.includes("T")?bt.end_date.split("T")[0]:bt.end_date.split(" ")[0],nr=new Date(Qt+"T23:59:59");return nr.setHours(23,59,59,999),nr>=Ke&&ze>=$t&&ze<=nr}):!1},Wr=pe=>{const Ee=$r();return Ee!==null&&pe>=Ee},Nr=pe=>Dt(pe)||Wr(pe);N.useEffect(()=>{X&&wt.current&&wt.current.slickGoTo(Z)},[X,Z]),N.useEffect(()=>{if(!e){w(!1);return}(async()=>{w(!0);try{const Ee=await r0(Number(e));if(!Ee){w(!1);return}let ze=Ee.name;(!ze||ze.trim()==="")&&(ze=`${Ee.make} ${Ee.model}`);const{mainImage:Ke,photoGallery:ft}=await ia(ze),bt={...Ee,image_url:Ke||Ee.image_url,photo_gallery:ft.length>0?ft:Ee.photo_gallery};g(bt)}catch(Ee){console.error("Error fetching car:",Ee)}finally{w(!1)}})()},[e,r]),N.useEffect(()=>{if(x){const pe=rt();j(pe.includes(Number(x.id))),S(x.image_url||"")}},[x]),N.useEffect(()=>{(async()=>{if(!(!x||!e))try{const Ee=await Ly(),ze=new Date,Ke=Ee.filter(ft=>{var $t;const bt=typeof ft.car_id=="number"?ft.car_id:parseInt((($t=ft.car_id)==null?void 0:$t.toString())||"0",10),_t=ft.status||ft.rental_status||"";if(bt!==Number(x.id))return!1;if(_t==="ACTIVE"||_t==="CONTRACT")return!0;if(ft.end_date){const Qt=new Date(ft.end_date);if(ft.end_time){const[nr,vr]=ft.end_time.split(":").map(Number);Qt.setHours(nr||17,vr||0,0,0)}else Qt.setHours(23,59,59,999);return Qt>=ze}return!1});ge(Ke)}catch(Ee){console.error("Error fetching car availability:",Ee)}})()},[x,e]),N.useEffect(()=>{(async()=>{if(!(!x||!e))try{const Ee=typeof x.id=="number"?x.id:parseInt(String(x.id),10),ze=await Rt.from("Rentals").select("*").eq("car_id",Ee).order("created_at",{ascending:!1}),Ke=new Date,ft=(ze.data||[]).filter(Ut=>{if(!Ut.end_date)return!1;const At=Ut.end_date.includes("T")?Ut.end_date.split("T")[0]:Ut.end_date.split(" ")[0],Wt=new Date(At);if(Ut.end_time){const[fr,Ir]=Ut.end_time.split(":").map(Number);Wt.setHours(fr||17,Ir||0,0,0)}else Wt.setHours(23,59,59,999);return Wt>=Ke});let bt=[];try{const Ut=await Rt.from("BorrowRequest").select("*").eq("car_id",Ee).in("status",["APPROVED"]).order("requested_at",{ascending:!1});Ut.data&&Ut.data.length>0&&(bt=Ut.data)}catch{}const _t=ft.map(Ut=>({id:Ut.id.toString(),user_id:Ut.user_id,car_id:Ut.car_id.toString(),start_date:Ut.start_date,start_time:Ut.start_time||"09:00:00",end_date:Ut.end_date,end_time:Ut.end_time||"17:00:00",status:"APPROVED",created_at:Ut.created_at,updated_at:Ut.updated_at})),$t=bt.map(Ut=>({id:Ut.id.toString(),user_id:Ut.user_id,car_id:Ut.car_id.toString(),start_date:Ut.start_date,start_time:Ut.start_time||"09:00:00",end_date:Ut.end_date,end_time:Ut.end_time||"17:00:00",status:"APPROVED",created_at:Ut.requested_at||Ut.created_at,updated_at:Ut.updated_at})),nr=[..._t,...$t].filter(Ut=>Ut.start_date&&Ut.end_date);ve(nr);const vr=new Date;let Kr=null;if(nr.length>0){const Ut=[...nr].sort((At,Wt)=>{const fr=new Date(At.start_date||0),Ir=new Date(Wt.start_date||0);return fr.getTime()-Ir.getTime()});for(let At=0;At<Ut.length;At++){const Wt=Ut[At];if(!Wt.start_date||!Wt.end_date)continue;const fr=Wt.start_date.includes("T")?Wt.start_date.split("T")[0]:Wt.start_date.split(" ")[0],Ir=new Date(fr);if(Wt.start_time){const[Gr,_n]=Wt.start_time.split(":").map(Number);Ir.setHours(Gr||9,_n||0,0,0)}else Ir.setHours(9,0,0,0);const kr=Wt.end_date.includes("T")?Wt.end_date.split("T")[0]:Wt.end_date.split(" ")[0],Er=new Date(kr);if(Wt.end_time){const[Gr,_n]=Wt.end_time.split(":").map(Number);Er.setHours(Gr||17,_n||0,0,0)}else Er.setHours(17,0,0,0);if(Er.setHours(Er.getHours()+12),Er>vr)if(At<Ut.length-1){const Gr=Ut[At+1];if(Gr.start_date){const _n=Gr.start_date.includes("T")?Gr.start_date.split("T")[0]:Gr.start_date.split(" ")[0],Ii=new Date(_n);if(Gr.start_time){const[tn,Ys]=Gr.start_time.split(":").map(Number);Ii.setHours(tn||9,Ys||0,0,0)}else Ii.setHours(9,0,0,0);if((Ii.getTime()-Er.getTime())/(1e3*60*60*24)>=2){Kr=Er;break}}else{Kr=Er;break}}else{Kr=Er;break}else Er>vr&&(!Kr||Er<Kr)&&(Kr=Er)}if(!Kr){let At=null;for(let Wt=0;Wt<Ut.length;Wt++){const fr=Ut[Wt];if(!fr.end_date)continue;const Ir=fr.end_date.includes("T")?fr.end_date.split("T")[0]:fr.end_date.split(" ")[0],kr=new Date(Ir);if(fr.end_time){const[Er,Xr]=fr.end_time.split(":").map(Number);kr.setHours(Er||17,Xr||0,0,0)}else kr.setHours(17,0,0,0);if(kr.setHours(kr.getHours()+12),Wt===0)At=kr;else{const Er=Ut[Wt-1];if(Er.end_date){const Xr=Er.end_date.includes("T")?Er.end_date.split("T")[0]:Er.end_date.split(" ")[0],Gr=new Date(Xr);if(Er.end_time){const[tn,Ys]=Er.end_time.split(":").map(Number);Gr.setHours(tn||17,Ys||0,0,0)}else Gr.setHours(17,0,0,0);Gr.setHours(Gr.getHours()+12);const _n=fr.start_date.includes("T")?fr.start_date.split("T")[0]:fr.start_date.split(" ")[0],Ii=new Date(_n);if(fr.start_time){const[tn,Ys]=fr.start_time.split(":").map(Number);Ii.setHours(tn||9,Ys||0,0,0)}else Ii.setHours(9,0,0,0);const Br=Ii.getTime()-Gr.getTime(),En=24*60*60*1e3;if(Br>=0&&Br<=En+36e5)At=kr;else{if(At&&At>vr){Kr=At;break}At=kr}}}}At&&At>vr&&(Kr=At)}}Q(Kr)}catch(Ee){console.error("Error fetching approved borrow requests:",Ee)}})()},[x,e]),N.useEffect(()=>{(async()=>{if(x){Ie(!0);try{const Ee={make:x.make,limit:6},Ke=(await uv(Ee)).filter($t=>$t.id!==x.id);let ft=[...Ke];if(Ke.length<5){const nr=(await uv({limit:15})).filter(vr=>vr.id!==x.id&&!Ke.some(Kr=>Kr.id===vr.id));ft=[...Ke,...nr]}const _t=ft.sort(()=>Math.random()-.5).slice(0,5);be(_t)}catch(Ee){console.error("Error fetching recommended cars:",Ee)}finally{Ie(!1)}}})()},[x]),N.useEffect(()=>()=>{xt.current&&(clearTimeout(xt.current),xt.current=null)},[x]),N.useEffect(()=>{if(Pe.length<=1||Ve)return;const pe=setInterval(()=>{He(Ee=>(Ee+1)%Math.ceil(Pe.length/1))},4e3);return()=>clearInterval(pe)},[Pe.length,Ve]),N.useEffect(()=>{if(gt.current){const Ee=Ce*336;gt.current.scrollTo({left:Ee,behavior:"smooth"})}},[Ce]),N.useEffect(()=>{const pe=()=>{xt.current&&clearTimeout(xt.current),at(!0),xt.current=setTimeout(()=>{at(!1),xt.current=null},5e3)},Ee=gt.current;if(Ee)return Ee.addEventListener("scroll",pe,{passive:!0}),()=>{Ee.removeEventListener("scroll",pe),xt.current&&(clearTimeout(xt.current),xt.current=null)}},[Pe.length]),N.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[e,x==null?void 0:x.image_url]);const Lt=((x==null?void 0:x.photo_gallery)??[x==null?void 0:x.image_url]).filter(pe=>typeof pe=="string"&&pe.length>0);N.useEffect(()=>{if(!X||Lt.length===0)return;const pe=Ee=>{Ee.key==="Escape"?D(!1):Ee.key==="ArrowLeft"&&Lt.length>1?ae(ze=>ze>0?ze-1:Lt.length-1):Ee.key==="ArrowRight"&&Lt.length>1&&ae(ze=>ze<Lt.length-1?ze+1:0)};return window.addEventListener("keydown",pe),()=>window.removeEventListener("keydown",pe)},[X,Lt.length]);const _r=(pe,Ee=!1)=>{const ze=ur(pe),Ke=new Date;Ke.setHours(0,0,0,0);const ft=ze.filter(_t=>_t!==null);return ft.every(_t=>{const $t=ht(Ke),Qt=_t<$t,nr=le?(()=>{const Ut=new Date;Ut.setHours(0,0,0,0);const At=new Date(le);At.setHours(0,0,0,0);const Wt=new Date(_t);return Wt.setHours(0,0,0,0),At<=Ut&&Wt<At})():!1,vr=Nr(_t),Kr=Ee&&C&&_t<=C;return Qt||nr||vr||Kr})&&ft.length>0};if(N.useEffect(()=>{C&&L(pe=>({...pe,pickup:new Date(C)}))},[C]),N.useEffect(()=>{if($)L(pe=>({...pe,return:new Date($)}));else if(C){const pe=new Date(C);L(Ee=>({...Ee,return:new Date(pe)}))}},[$,C]),N.useEffect(()=>{if(M&&!Xe){if(_r(P.pickup,!1)){const pe=new Date(P.pickup);pe.setMonth(pe.getMonth()+1),L(Ee=>({...Ee,pickup:pe}))}Me(!0)}else M||Me(!1)},[M,P.pickup,le,oe,Xe]),N.useEffect(()=>{if(q&&!Re){if(_r(P.return,!0)){const pe=new Date(P.return);pe.setMonth(pe.getMonth()+1),L(Ee=>({...Ee,return:pe}))}xe(!0)}else q||xe(!1)},[q,P.return,le,oe,C,Re]),N.useEffect(()=>{const pe=Ee=>{if(_e)return;const ze=Ee.target;ze.closest("button[data-calendar-toggle]")||(M&&Ft.current&&!Ft.current.contains(ze)&&I(!1),q&&he.current&&!he.current.contains(ze)&&H(!1),te&&pt.current&&!pt.current.contains(ze)&&O(!1),re&&vt.current&&!vt.current.contains(ze)&&Y(!1))};return document.addEventListener("mousedown",pe),document.addEventListener("touchstart",pe),()=>{document.removeEventListener("mousedown",pe),document.removeEventListener("touchstart",pe)}},[M,q,te,re,_e]),!e||x===null&&!y)return i.jsx(OY,{});if(y)return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-6 py-20",children:i.jsx(De.div,{className:"text-center py-16 px-4",initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.5},children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-r from-theme-500 to-theme-600 flex items-center justify-center shadow-lg",children:i.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin"})}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Se ncarc maina..."}),i.jsx("p",{className:"text-gray-600",children:"Te rugm s atepi n timp ce pregtim detaliile mainii"})]})})});const Sr=(()=>{if(!x||!C||!$||!V||!K)return null;const pe=new Date(`${C}T${V}`),ze=new Date(`${$}T${K}`).getTime()-pe.getTime(),Ke=Math.floor(ze/(1e3*60*60)),ft=Math.floor(Ke/24),bt=Ke%24;if(ft<2)return null;const _t=ft,$t=ft+bt/24;let Qt=0;_t>=2&&_t<=4?Qt=x.price_2_4_days||0:_t>=5&&_t<=15?Qt=x.price_5_15_days||0:_t>=16&&_t<=30?Qt=x.price_16_30_days||0:_t>30&&(Qt=x.price_over_30_days||0);const nr=x.discount_percentage||x.discount_percentage||0,vr=nr>0?Math.round(Qt*(1-nr/100)):Qt;let Kr=vr*_t;bt>0&&(Kr+=bt/24*vr);const Ut=Math.round(Kr),At=$t>0?Math.round(Ut/$t):vr;return{days:ft,hours:bt,pricePerDay:At,totalPrice:Ut}})(),hn=C&&$&&V&&K,en=()=>{hn&&G(!0)};return x?i.jsxs("div",{id:"individual-car-page",className:"min-h-screen bg-gray-50",children:[i.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-12 mt-20",children:[i.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-[1fr_460px] gap-12",children:[i.jsxs("div",{className:"lg:col-start-1",children:[i.jsxs("div",{className:"mb-8 lg:hidden",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:x.make+" "+x.model}),i.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(C0,{className:"w-4 h-4 text-gray-400 fill-current"}),i.jsx("span",{className:"font-semibold text-gray-900",children:x.rating})]}),i.jsx("span",{className:"text-gray-400",children:""}),i.jsxs("span",{className:"text-gray-600",children:[x.reviews," recenzii"]})]})]}),i.jsx("div",{className:"relative rounded-lg overflow-hidden bg-white shadow-sm mb-6 border border-gray-200",children:Lt.length>0?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"relative w-full h-[450px] md:h-[600px] overflow-hidden",onTouchStart:pe=>{if(Lt.length>1){const Ee=pe.touches[0],ze=pe.currentTarget,Ke=ze.getBoundingClientRect(),ft=Ee.clientX-Ke.left,bt=Ke.width,_t=Math.floor(ft/bt*Lt.length),$t=Math.max(0,Math.min(_t,Lt.length-1));ae($t),S(Lt[$t]||"");const Qt=ze.querySelector(".photo-gallery");if(Qt){const nr=-($t*100);Qt.style.transform=`translateX(${nr}%)`}}},onTouchMove:pe=>{if(Lt.length>1){const Ee=pe.touches[0],ze=pe.currentTarget,Ke=ze.getBoundingClientRect(),ft=Ee.clientX-Ke.left,bt=Ke.width,_t=Math.floor(ft/bt*Lt.length),$t=Math.max(0,Math.min(_t,Lt.length-1));ae($t),S(Lt[$t]||"");const Qt=ze.querySelector(".photo-gallery");if(Qt){const nr=-($t*100);Qt.style.transform=`translateX(${nr}%)`}}},onMouseMove:pe=>{if(Lt.length>1){const Ee=pe.currentTarget,ze=Ee.getBoundingClientRect(),Ke=pe.clientX-ze.left,ft=ze.width,bt=Math.floor(Ke/ft*Lt.length),_t=Math.max(0,Math.min(bt,Lt.length-1));ae(_t),S(Lt[_t]||"");const $t=Ee.querySelector(".photo-gallery");if($t){const Qt=-(_t*100);$t.style.transform=`translateX(${Qt}%)`}}},onClick:()=>{const pe=Lt.findIndex(Ee=>Ee===v);ae(pe>=0?pe:0),D(!0)},children:[i.jsx("div",{className:"flex transition-transform duration-300 ease-out photo-gallery h-full",children:Lt.map((pe,Ee)=>i.jsx("div",{className:"relative w-full h-full flex-shrink-0",style:{minWidth:"100%"},children:i.jsx("img",{src:pe,alt:`${x.make} ${x.model} - Photo ${Ee+1}`,className:"w-full h-full object-cover cursor-pointer select-none",draggable:!1})},Ee))}),i.jsx("div",{className:"absolute bottom-4 right-4 bg-black/60 hover:bg-black/80 backdrop-blur-md text-white rounded-full p-3 shadow-lg transition-all duration-300 hover:scale-110 cursor-pointer z-10",onClick:pe=>{pe.stopPropagation();const Ee=Lt.findIndex(ze=>ze===v);ae(Ee>=0?Ee:0),D(!0)},title:"View fullscreen",children:i.jsx(BH,{className:"w-5 h-5"})})]}),(()=>{const pe=()=>{const _t=new Date;_t.setHours(0,0,0,0);const $t=ht(_t);let Qt=new Date(_t);for(let nr=0;nr<60;nr++){const vr=ht(Qt),Kr=vr<$t,Ut=le?(()=>{const Wt=new Date(le);Wt.setHours(0,0,0,0);const fr=new Date(vr);return fr.setHours(0,0,0,0),Wt<=_t&&fr<Wt})():!1,At=Dt(vr);if(!Kr&&!Ut&&!At)return Qt;Qt.setDate(Qt.getDate()+1)}return null},Ee=_t=>{const $t=_t.getDate(),nr=["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"][_t.getMonth()];return`Liber de pe ${$t} ${nr}`},ze=pe(),Ke=new Date;Ke.setHours(0,0,0,0);const ft=ze&&ht(ze)===ht(Ke),bt=ze?ft?l("car.available"):Ee(ze):x.status==="available"||x.status==="Available"?l("car.available"):x.status||"";return bt?i.jsxs("div",{className:"absolute top-3 left-3 bg-black/60 backdrop-blur-md text-white rounded-xl px-3 py-1.5 text-xs font-normal shadow-sm flex items-center gap-1.5",children:[i.jsx("svg",{className:"w-3 h-3 flex-shrink-0 opacity-80",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("span",{className:"whitespace-nowrap",children:bt})]}):null})()]}):i.jsx(PT,{})}),Lt.length>1&&i.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 mb-10",children:Lt.map((pe,Ee)=>i.jsx("button",{onClick:()=>{S(pe||""),ae(Ee);const ze=document.querySelector(".photo-gallery");if(ze){const Ke=-(Ee*100);ze.style.transform=`translateX(${Ke}%)`}},className:`rounded-lg overflow-hidden border-2 transition-all cursor-pointer ${v===pe?"border-theme-500 ring-2 ring-theme-100":"border-gray-200 hover:border-gray-300"}`,children:i.jsx("img",{src:pe||"",alt:`${x.make} ${x.model}-${Ee}`,className:"w-full h-20 object-cover"})},Ee))}),i.jsx("div",{className:"lg:hidden mb-6",children:i.jsxs("div",{className:"bg-white rounded-2xl border border-gray-300 shadow-sm p-6",children:[i.jsx("div",{className:"mb-4",children:(()=>{const pe=x.price_over_30_days||0,Ee=x.discount_percentage||x.discount_percentage||0,ze=Ee>0?pe*(1-Ee/100):pe;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900",children:[ic(Qe(ze),s,c.language),i.jsxs("span",{className:"text-sm sm:text-base md:text-lg font-normal text-gray-600",children:[" ",l("car.perDay")]})]}),i.jsxs("div",{className:"relative ml-4",children:[i.jsxs("select",{value:s,onChange:Ke=>o(Ke.target.value),className:"appearance-none bg-white border border-gray-200 rounded-full px-4 py-2 pr-8 text-sm font-medium text-gray-900 shadow-sm hover:border-red-300 focus:border-red-500 focus:ring-2 focus:ring-red-200 focus:outline-none transition-all duration-200 cursor-pointer",children:[i.jsx("option",{value:"MDL",children:"MDL"}),i.jsx("option",{value:"EUR",children:" EUR"}),i.jsx("option",{value:"USD",children:"$ USD"})]}),i.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:i.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),Ee>0&&i.jsxs("div",{className:"text-sm text-gray-400 line-through mb-1",children:[ut(s),Qe(pe).toLocaleString(l("config.date"))]})]})})()}),i.jsxs("a",{href:"tel:+37362000112",className:"flex items-center justify-center gap-3 w-full bg-gray-100 hover:bg-gray-200 text-gray-900 font-medium py-3.5 px-6 rounded-xl mb-3 transition-colors",children:[i.jsx(Ah,{className:"w-5 h-5"}),i.jsx("span",{children:"+373 (62) 000-112"})]}),i.jsxs("a",{href:"https://t.me/Level_Auto_Rental",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-3 w-full border-2 border-gray-300 hover:border-gray-400 text-gray-900 font-medium py-3.5 px-6 rounded-xl mb-3 transition-colors",children:[i.jsx(x5,{className:"w-5 h-5"}),i.jsx("span",{children:l("car.writeOnTelegram")})]}),i.jsx("p",{className:"text-center text-base text-gray-500 mb-4",children:l("car.contactHelpText")}),i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-[7fr_3fr] gap-3 mb-3",children:[i.jsxs("div",{className:"relative",ref:Ft,children:[i.jsxs("button",{"data-calendar-toggle":"pickup",onClick:pe=>{pe.stopPropagation(),pe.preventDefault(),I(Ee=>!Ee),H(!1),O(!1),Y(!1)},onMouseDown:pe=>{pe.stopPropagation(),pe.preventDefault()},className:`w-full flex items-center justify-center gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${C?"border-gray-300 text-gray-900 hover:border-gray-400":"border-gray-300 text-gray-400 hover:border-gray-400"}`,children:[i.jsx($n,{className:"w-4 h-4"}),i.jsx("span",{children:C?yt(C):"Data nchirierii"})]}),i.jsx(hr,{children:M&&i.jsxs(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-3 w-[120%]",onClick:pe=>pe.stopPropagation(),onMouseDown:pe=>pe.stopPropagation(),onTouchStart:pe=>pe.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("button",{onClick:pe=>{pe.stopPropagation();const Ee=new Date(P.pickup);Ee.setMonth(Ee.getMonth()-1),L(ze=>({...ze,pickup:Ee}))},className:"p-1 hover:bg-gray-100 rounded transition-colors",children:i.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsx("div",{className:"text-sm font-medium text-gray-700",children:P.pickup.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),i.jsx("button",{onClick:pe=>{pe.stopPropagation();const Ee=new Date(P.pickup);Ee.setMonth(Ee.getMonth()+1),L(ze=>({...ze,pickup:Ee}))},className:"p-1 hover:bg-gray-100 rounded transition-colors",children:i.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),i.jsx("div",{className:"mb-3 px-2 py-1.5 bg-gray-50 rounded-xl border border-gray-100",children:i.jsx("p",{className:"text-xs text-gray-600",children:C?"Clic pentru a schimba data de nceput":"Selecteaz data de nceput"})}),i.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Du","Lu","Ma","Mi","Jo","Vi","S"].map(pe=>i.jsx("div",{className:"text-gray-500 font-medium",children:pe},pe))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:ur(P.pickup).map((pe,Ee)=>{if(!pe)return i.jsx("div",{},Ee);const ze=new Date(pe),Ke=pe,ft=new Date;ft.setHours(0,0,0,0);const bt=ht(ft),_t=Ke<bt,$t=le?(()=>{const Wt=new Date;Wt.setHours(0,0,0,0);const fr=new Date(le);fr.setHours(0,0,0,0);const Ir=new Date(Ke);return Ir.setHours(0,0,0,0),fr<=Wt&&Ir<fr})():!1,Qt=Dt(Ke),nr=_t||$t||Qt,vr=Ke===C,Kr=$&&Ke===$,Ut=C&&$&&Ke>C&&Ke<$,At=()=>"Aceast dat nu este disponibil.";return i.jsxs("div",{className:`w-8 h-8 flex items-center justify-center text-xs rounded transition-colors relative ${nr?"text-gray-300 cursor-not-allowed":"text-gray-700 cursor-pointer"} ${vr||Kr?"bg-theme-500 text-white hover:bg-theme-600 font-medium":Ut?"bg-gray-100 text-gray-900 hover:bg-gray-200":nr?"":"hover:bg-gray-100"}`,onClick:()=>{if(nr)alert(At());else{const Wt=C&&C!==pe;if(Wt&&(F(""),B(""),T("")),z(pe),!Wt&&$&&pe>=$){const fr=new Date($),Ir=new Date(pe),kr=fr.getTime()-Ir.getTime();Math.floor(kr/(1e3*60*60*24))<2&&F("")}Te(!0),setTimeout(()=>{I(!1),Te(!1),V||O(!0)},300)}},title:nr?At():"",children:[i.jsx("span",{className:"relative z-0",children:ze.getDate()}),Qt&&i.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-red-600 font-bold text-base z-10 pointer-events-none",style:{fontSize:"14px"},children:""})]},Ee)})})]})})]}),i.jsxs("div",{className:"relative",ref:pt,children:[i.jsxs("button",{onClick:pe=>{pe.stopPropagation(),pe.preventDefault(),C&&(O(Ee=>!Ee),Y(!1),I(!1),H(!1))},onMouseDown:pe=>{pe.stopPropagation(),pe.preventDefault()},onTouchStart:pe=>{pe.stopPropagation()},disabled:!C,title:C?"":"Selecteaz mai nti data de nceput",className:`w-full flex items-center justify-center gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${C?V?"border-gray-300 text-gray-900 hover:border-gray-400":"border-gray-300 text-gray-400 hover:border-gray-400":"border-gray-300 text-gray-400 cursor-not-allowed"}`,children:[i.jsx(Aa,{className:"w-4 h-4"}),i.jsx("span",{children:V||"__ : __"})]}),i.jsx(hr,{children:te&&i.jsx(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-2 max-h-[300px] overflow-y-auto w-full",onClick:pe=>pe.stopPropagation(),onMouseDown:pe=>pe.stopPropagation(),onTouchStart:pe=>pe.stopPropagation(),children:i.jsx("div",{className:"flex flex-col gap-1",children:(()=>{let pe;if(C){const ze=new Date;ze.setHours(0,0,0,0);const Ke=ht(ze);if(C===Ke){let _t=new Date().getHours()+2;_t>=24&&(_t=23),pe=_t}else if(le){const ft=le.toISOString().split("T")[0];if(C===ft){const bt=le.getHours();pe=le.getMinutes()>0?bt+1:bt}}}return Jt(pe).filter(ze=>{if(C){const Ke=new Date(C);if(Tr(Ke,V||"09:00"))return!1}if(C&&V&&$){const Ke=new Date(`${C}T${V}`),bt=new Date(`${$}T${ze}`).getTime()-Ke.getTime(),_t=Math.floor(bt/(1e3*60*60));if(Math.floor(_t/24)<2)return!1}return!0}).map(ze=>i.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),B(ze),Te(!0),setTimeout(()=>{O(!1),Te(!1),$||H(!0)},300)},onMouseDown:Ke=>Ke.stopPropagation(),className:`w-full px-3 py-2 text-sm rounded transition-colors text-center ${V===ze?"bg-theme-500 text-white font-medium":"text-gray-700 hover:bg-gray-100"}`,children:ze},ze))})()})})})]})]}),i.jsxs("div",{className:"grid grid-cols-[7fr_3fr] gap-3 mb-4",children:[i.jsxs("div",{className:"relative",ref:he,children:[i.jsxs("button",{"data-calendar-toggle":"return",onClick:pe=>{pe.stopPropagation(),pe.preventDefault(),!(!C||!V)&&(H(Ee=>!Ee),I(!1),O(!1),Y(!1))},onMouseDown:pe=>{pe.stopPropagation(),pe.preventDefault()},disabled:!C||!V,title:!C||!V?C?"Selecteaz mai nti ora de nceput":"Selecteaz mai nti data de nceput":"",className:`w-full flex items-center justify-center gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${!C||!V?"border-gray-300 text-gray-400 cursor-not-allowed":$?"border-gray-300 text-gray-900 hover:border-gray-400":"border-gray-300 text-gray-400 hover:border-gray-400"}`,children:[i.jsx($n,{className:"w-4 h-4"}),i.jsx("span",{children:$?yt($):p()})]}),i.jsx(hr,{children:q&&i.jsxs(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-3 w-[120%]",onClick:pe=>pe.stopPropagation(),onMouseDown:pe=>pe.stopPropagation(),onTouchStart:pe=>pe.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("button",{onClick:pe=>{pe.stopPropagation();const Ee=new Date(P.return);Ee.setMonth(Ee.getMonth()-1),L(ze=>({...ze,return:Ee}))},className:"p-1 hover:bg-gray-100 rounded transition-colors",children:i.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsx("div",{className:"text-sm font-medium text-gray-700",children:P.return.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),i.jsx("button",{onClick:pe=>{pe.stopPropagation();const Ee=new Date(P.return);Ee.setMonth(Ee.getMonth()+1),L(ze=>({...ze,return:Ee}))},className:"p-1 hover:bg-gray-100 rounded transition-colors",children:i.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),i.jsx("div",{className:"mb-3 px-2 py-1.5 bg-gray-50 rounded-xl border border-gray-100",children:i.jsx("p",{className:"text-xs text-gray-600",children:C?$?"Clic pentru a schimba data de returnare":"Selecteaz data de returnare":"Selecteaz mai nti data de nceput"})}),i.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Du","Lu","Ma","Mi","Jo","Vi","S"].map(pe=>i.jsx("div",{className:"text-gray-500 font-medium",children:pe},pe))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:ur(P.return).map((pe,Ee)=>{if(!pe)return i.jsx("div",{},Ee);const ze=new Date(pe),Ke=pe,ft=new Date;ft.setHours(0,0,0,0);const bt=ht(ft),_t=Ke<bt,$t=le?(()=>{const kr=new Date;kr.setHours(0,0,0,0);const Er=new Date(le);Er.setHours(0,0,0,0);const Xr=new Date(Ke);return Xr.setHours(0,0,0,0),Er<=kr&&Xr<Er})():!1,Qt=C&&Ke<=C,nr=C&&V&&(()=>{const kr=new Date(`${C}T${V}`),Xr=new Date(`${Ke}T${V}`).getTime()-kr.getTime(),Gr=Math.floor(Xr/(1e3*60*60));return Math.floor(Gr/24)<2})(),vr=Dt(Ke),Kr=C?(()=>{const kr=$r();if(!kr)return!1;const Er=new Date(C);Er.setHours(0,0,0,0);const Xr=new Date(kr);Xr.setHours(0,0,0,0);const Gr=new Date(Ke);return Gr.setHours(0,0,0,0),Er>=Xr?!1:Gr>=Xr})():Wr(Ke),Ut=_t||$t||Qt||vr||Kr,At=Ke===$,Wt=C&&Ke===C,fr=C&&$&&Ke>C&&Ke<$,Ir=()=>{if(Kr){const kr=$r();if(kr)return`Nu putei selecta aceast dat. Maina este deja rezervat ncepnd cu ${new Date(kr).toLocaleDateString("ro-RO",{day:"numeric",month:"long",year:"numeric"})}.`}return"Aceast dat nu este disponibil."};return i.jsxs("div",{className:`w-8 h-8 flex items-center justify-center text-xs rounded transition-colors relative ${nr?"text-black opacity-50 cursor-not-allowed":Ut?"text-gray-300 cursor-not-allowed":"text-gray-700 cursor-pointer"} ${At||Wt?"bg-theme-500 text-white hover:bg-theme-600 font-medium":fr?"bg-gray-100 text-gray-900 hover:bg-gray-200":!Ut&&!nr?"hover:bg-gray-100":""}`,onClick:()=>{if(nr){se("Perioada minim de nchiriere este de 2 zile (48 ore)"),setTimeout(()=>se(""),3e3);return}Ut?alert(Ir()):(F(pe),Te(!0),setTimeout(()=>{H(!1),Te(!1),K||Y(!0)},300))},title:Ut?Ir():"",children:[i.jsx("span",{className:"relative z-0",children:ze.getDate()}),vr&&i.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-red-600 font-bold text-base z-10 pointer-events-none",style:{fontSize:"14px"},children:""})]},Ee)})}),ie&&i.jsx("div",{className:"mt-3 px-2 py-1.5 bg-blue-50 rounded-xl border border-blue-100",children:i.jsx("p",{className:"text-xs text-blue-700",children:ie})})]})})]}),i.jsxs("div",{className:"relative",ref:vt,children:[i.jsxs("button",{onClick:pe=>{pe.stopPropagation(),pe.preventDefault(),!(!C||!V||!$)&&(Y(Ee=>!Ee),O(!1),I(!1),H(!1))},onMouseDown:pe=>{pe.stopPropagation(),pe.preventDefault()},onTouchStart:pe=>{pe.stopPropagation()},disabled:!C||!V||!$,title:!C||!V||!$?C?V?"Selecteaz mai nti data de returnare":"Selecteaz mai nti ora de nceput":"Selecteaz mai nti data de nceput":"",className:`w-full flex items-center justify-center gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${!C||!V||!$?"border-gray-300 text-gray-400 cursor-not-allowed":K?"border-gray-300 text-gray-900 hover:border-gray-400":"border-gray-300 text-gray-400 hover:border-gray-400"}`,children:[i.jsx(Aa,{className:"w-4 h-4"}),i.jsx("span",{children:K||"__ : __"})]}),i.jsx(hr,{children:re&&i.jsx(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-2 max-h-[300px] overflow-y-auto w-full",onClick:pe=>pe.stopPropagation(),onMouseDown:pe=>pe.stopPropagation(),onTouchStart:pe=>pe.stopPropagation(),children:i.jsx("div",{className:"flex flex-col gap-1",children:(()=>{let pe=Jt();if(C&&V&&$){const Ee=new Date(`${C}T${V}`),ze=new Date(Ee.getTime()+48*60*60*1e3),Ke=ze.toISOString().split("T")[0],ft=ze.getHours();Ke===$&&(pe=pe.filter(bt=>parseInt(bt.split(":")[0])>=ft))}return pe.map(Ee=>i.jsx("button",{onClick:ze=>{ze.stopPropagation(),T(Ee),Te(!0),setTimeout(()=>{Y(!1),Te(!1)},300)},onMouseDown:ze=>ze.stopPropagation(),className:`w-full px-3 py-2 text-sm rounded transition-colors text-center ${K===Ee?"bg-theme-500 text-white font-medium":"text-gray-700 hover:bg-gray-100"}`,children:Ee},Ee))})()})})})]})]})]}),i.jsx("div",{className:"mb-4",children:hn?i.jsx("button",{onClick:en,className:"w-full font-semibold py-3 px-4 rounded-xl transition-colors bg-red-600 hover:bg-red-700 text-white cursor-pointer text-sm",children:"nchiriaz"}):i.jsx("button",{disabled:!0,className:"w-full font-semibold py-3 px-4 rounded-xl transition-colors bg-gray-200 text-gray-400 cursor-not-allowed text-sm",children:l("car.chooseDates")})}),i.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-lg md:text-2xl font-bold text-gray-900",children:l("car.rentalCost")}),x.discount_percentage&&x.discount_percentage>0&&i.jsxs("div",{className:"px-2 py-1 md:px-3 md:py-1.5 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-full text-xs font-semibold shadow-sm md:shadow-md",children:[x.discount_percentage,"% ",l("car.discount")]})]}),i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx("div",{className:"relative group",children:i.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 shadow-sm hover:shadow-lg transition-all duration-300 hover:scale-105",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-red-500 rounded-full shadow-sm",children:i.jsx("span",{className:"text-white font-semibold text-xs",children:"2-4"})}),i.jsx("span",{className:"text-xs font-semibold text-red-600 uppercase tracking-wide",children:l("car.days")})]}),i.jsx("div",{className:"flex items-center gap-3",children:(()=>{const pe=x.price_2_4_days||0,Ee=x.discount_percentage||0,ze=Ee>0?Math.round(pe*(1-Ee/100)):pe;return i.jsxs(i.Fragment,{children:[Ee>0&&i.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[ut(s),Qe(pe).toLocaleString("ro-RO")]}),i.jsx("span",{className:"text-lg font-bold text-gray-900",children:ic(Qe(ze),s,c.language)})]})})()})]})})}),i.jsx("div",{className:"relative group",children:i.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 shadow-sm hover:shadow-lg transition-all duration-300 hover:scale-105",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-red-500 rounded-full shadow-sm",children:i.jsx("span",{className:"text-white font-semibold text-xs",children:"5-15"})}),i.jsx("span",{className:"text-xs font-semibold text-red-600 uppercase tracking-wide",children:l("car.days")})]}),i.jsx("div",{className:"flex items-center gap-3",children:(()=>{const pe=x.price_5_15_days||0,Ee=x.discount_percentage||0,ze=Ee>0?Math.round(pe*(1-Ee/100)):pe;return i.jsxs(i.Fragment,{children:[Ee>0&&i.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[ut(s),Qe(pe).toLocaleString("ro-RO")]}),i.jsx("span",{className:"text-lg font-bold text-gray-900",children:ic(Qe(ze),s,c.language)})]})})()})]})})}),i.jsx("div",{className:"relative group",children:i.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 shadow-sm hover:shadow-lg transition-all duration-300 hover:scale-105",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-red-500 rounded-full shadow-sm",children:i.jsx("span",{className:"text-white font-semibold text-xs",children:"16-30"})}),i.jsx("span",{className:"text-xs font-semibold text-red-600 uppercase tracking-wide",children:l("car.days")})]}),i.jsx("div",{className:"flex items-center gap-3",children:(()=>{const pe=x.price_16_30_days||0,Ee=x.discount_percentage||0,ze=Ee>0?Math.round(pe*(1-Ee/100)):pe;return i.jsxs(i.Fragment,{children:[Ee>0&&i.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[ut(s),Qe(pe).toLocaleString("ro-RO")]}),i.jsx("span",{className:"text-lg font-bold text-gray-900",children:ic(Qe(ze),s,c.language)})]})})()})]})})}),i.jsx("div",{className:"relative group",children:i.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 shadow-sm hover:shadow-lg transition-all duration-300 hover:scale-105",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-red-500 rounded-full shadow-sm",children:i.jsx("span",{className:"text-white font-semibold text-xs",children:"30+"})}),i.jsx("span",{className:"text-xs font-semibold text-red-600 uppercase tracking-wide",children:l("car.days")})]}),i.jsx("div",{className:"flex items-center gap-3",children:(()=>{const pe=x.price_over_30_days||0,Ee=x.discount_percentage||0,ze=Ee>0?Math.round(pe*(1-Ee/100)):pe;return i.jsxs(i.Fragment,{children:[Ee>0&&i.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[ut(s),Qe(pe).toLocaleString("ro-RO")]}),i.jsx("span",{className:"text-lg font-bold text-gray-900",children:ic(Qe(ze),s,c.language)})]})})()})]})})})]})]})]})}),i.jsxs("div",{className:"bg-white rounded-2xl border border-gray-300 shadow-sm p-6 md:p-8 mb-6",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("span",{className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:l("car.specifications")}),i.jsx("h2",{className:"mt-3 text-2xl md:text-3xl font-bold text-gray-800 leading-tight",children:l("car.characteristics")})]}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[i.jsxs("div",{className:"flex items-center gap-1.5 md:gap-3 p-1.5 md:p-3 bg-white rounded-lg border border-gray-300 hover:shadow-md transition-all",children:[i.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-lg flex items-center justify-center flex-shrink-0 shadow-md bg-gradient-to-b from-red-500 to-red-600",children:i.jsx(im,{className:"w-3.5 h-3.5 md:w-5 md:h-5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-0.5",children:l("car.seats")}),i.jsx("div",{className:"text-sm font-bold text-gray-800",children:x.seats})]})]}),i.jsxs("div",{className:"flex items-center gap-1.5 md:gap-3 p-1.5 md:p-3 bg-white rounded-lg border border-gray-300 hover:shadow-md transition-all",children:[i.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-lg flex items-center justify-center flex-shrink-0 shadow-md bg-gradient-to-b from-red-500 to-red-600",children:(()=>{var Ke;const pe=((Ke=x.transmission)==null?void 0:Ke.trim())||"",ze=pe.toLowerCase()==="manual"||pe==="Manual"?E0:uu;return tt.createElement(ze,{className:"w-5 h-5 text-white"})})()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-0.5",children:l("car.transmissionLabel")}),i.jsx("div",{className:"text-sm font-bold text-gray-800",children:(()=>{var Ee;const pe=((Ee=x.transmission)==null?void 0:Ee.trim())||"";return pe.toLowerCase()==="automatic"||pe==="Automatic"?l("car.transmission.automatic"):pe.toLowerCase()==="manual"||pe==="Manual"?l("car.transmission.manual"):pe||l("car.transmission.automatic")})()})]})]}),i.jsxs("div",{className:"flex items-center gap-1.5 md:gap-3 p-1.5 md:p-3 bg-white rounded-lg border border-gray-300 hover:shadow-md transition-all",children:[i.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-lg flex items-center justify-center flex-shrink-0 shadow-md bg-gradient-to-b from-red-500 to-red-600",children:tt.createElement(DY,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-0.5",children:l("car.fuelLabel")}),i.jsx("div",{className:"text-sm font-bold text-gray-800",children:x.fuel_type==="gasoline"?l("car.fuel.gasoline"):x.fuel_type==="diesel"?l("car.fuel.diesel"):x.fuel_type==="petrol"?l("car.fuel.benzina"):x.fuel_type==="hybrid"?l("car.fuel.hybrid"):x.fuel_type==="electric"?l("car.fuel.electric"):x.fuel_type})]})]}),i.jsxs("div",{className:"flex items-center gap-1.5 md:gap-3 p-1.5 md:p-3 bg-white rounded-lg border border-gray-300 hover:shadow-md transition-all",children:[i.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-lg flex items-center justify-center flex-shrink-0 shadow-md bg-gradient-to-b from-red-500 to-red-600",children:tt.createElement(L0,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-0.5",children:l("car.bodyType")}),i.jsx("div",{className:"text-sm font-bold text-gray-800",children:x.body})]})]})]}),(x.power||x.acceleration||x.fuel_consumption)&&i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-4 uppercase tracking-wide flex items-center gap-2",children:[i.jsx(Zx,{className:"w-4 h-4 text-gray-500"}),l("car.technicalSpecs")]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[x.power&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 md:p-4 border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-1 md:gap-2 mb-2",children:[i.jsx(XH,{className:"w-2.5 h-2.5 md:w-4 md:h-4 text-theme-600"}),i.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Putere"})]}),i.jsx("div",{className:"text-lg font-bold text-gray-900",children:x.power})]}),x.acceleration&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 md:p-4 border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-1 md:gap-2 mb-2",children:[i.jsx(Zx,{className:"w-2.5 h-2.5 md:w-4 md:h-4 text-theme-600"}),i.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Acceleraie"})]}),i.jsx("div",{className:"text-lg font-bold text-gray-900",children:x.acceleration})]}),x.fuel_consumption&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 md:p-4 border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-1 md:gap-2 mb-2",children:[i.jsx(yN,{className:"w-1.5 h-1.5 md:w-4 md:h-4 text-theme-600"}),i.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Consum"})]}),i.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[x.fuel_consumption," L/100km"]})]})]})]})]}),x.features&&x.features.length>0&&i.jsxs("div",{className:"bg-white rounded-2xl border border-gray-300 shadow-sm p-6 md:p-8 mb-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("span",{className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:l("car.equipment")}),i.jsx("h2",{className:"mt-3 text-2xl md:text-3xl font-bold text-gray-800 leading-tight",children:l("car.equipmentIncluded")})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:x.features.map((pe,Ee)=>i.jsxs("div",{className:"flex items-center gap-3 bg-white rounded-xl p-4 border border-gray-300 hover:shadow-md transition-all group",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 flex-shrink-0 group-hover:scale-125 transition-transform"}),i.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900 transition-colors",children:pe})]},Ee))})]}),i.jsx(ET,{}),i.jsx(TN,{})]}),i.jsx("aside",{className:"hidden lg:block lg:col-start-2",children:i.jsx("div",{className:"sticky",style:{top:"calc(6rem + env(safe-area-inset-top))"},children:i.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:[i.jsx("div",{className:"mb-4",children:(()=>{const pe=x.price_over_30_days||0,Ee=x.discount_percentage||x.discount_percentage||0,ze=Ee>0?pe*(1-Ee/100):pe;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"text-4xl font-bold text-gray-900",children:[ic(Qe(ze),s,c.language),i.jsxs("span",{className:"text-lg font-normal text-gray-600",children:[" ",l("car.perDay")]})]}),i.jsxs("div",{className:"relative ml-4",children:[i.jsxs("select",{value:s,onChange:Ke=>o(Ke.target.value),className:"appearance-none bg-white border border-gray-200 rounded-full px-4 py-2 pr-8 text-sm font-medium text-gray-900 shadow-sm hover:border-red-300 focus:border-red-500 focus:ring-2 focus:ring-red-200 focus:outline-none transition-all duration-200 cursor-pointer",children:[i.jsx("option",{value:"MDL",children:"MDL"}),i.jsx("option",{value:"EUR",children:" EUR"}),i.jsx("option",{value:"USD",children:"$ USD"})]}),i.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:i.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),Ee>0&&i.jsxs("div",{className:"text-sm text-gray-400 line-through mb-1",children:[ut(s),Qe(pe).toLocaleString("ro-RO")]})]})})()}),i.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:[l("car.rental")," ",x.make," ",x.model,", ",x.year," ",l("car.year")]}),i.jsxs("a",{href:"tel:+37362000112",className:"flex items-center justify-center gap-3 w-full bg-gray-100 hover:bg-gray-200 text-gray-900 font-medium py-3.5 px-6 rounded-xl mb-3 transition-colors",children:[i.jsx(Ah,{className:"w-5 h-5"}),i.jsx("span",{children:"+373 (62) 000-112"})]}),i.jsxs("a",{href:"https://t.me/Level_Auto_Rental",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-3 w-full border-2 border-gray-300 hover:border-gray-400 text-gray-900 font-medium py-3.5 px-6 rounded-xl mb-3 transition-colors",children:[i.jsx(x5,{className:"w-5 h-5"}),i.jsx("span",{children:l("car.writeOnTelegram")})]}),i.jsx("p",{className:"text-center text-base text-gray-500 mb-6",children:l("car.contactHelpText")}),i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-[7fr_3fr] gap-3 mb-3",children:[i.jsxs("div",{className:"relative",ref:Ft,children:[i.jsxs("button",{"data-calendar-toggle":"pickup",onClick:pe=>{pe.stopPropagation(),pe.preventDefault(),I(Ee=>!Ee),H(!1),O(!1),Y(!1)},onMouseDown:pe=>{pe.stopPropagation(),pe.preventDefault()},className:`w-full flex items-center justify-center gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${C?"border-gray-300 text-gray-900 hover:border-gray-400":"border-gray-300 text-gray-400 hover:border-gray-400"}`,children:[i.jsx($n,{className:"w-4 h-4"}),i.jsx("span",{children:C?yt(C):f()})]}),i.jsx(hr,{children:M&&i.jsxs(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-3 w-full",onClick:pe=>pe.stopPropagation(),onMouseDown:pe=>pe.stopPropagation(),onTouchStart:pe=>pe.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("button",{onClick:pe=>{pe.stopPropagation();const Ee=new Date(P.pickup);Ee.setMonth(Ee.getMonth()-1),L(ze=>({...ze,pickup:Ee}))},className:"p-1 hover:bg-gray-100 rounded transition-colors",children:i.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsx("div",{className:"text-sm font-medium text-gray-700",children:P.pickup.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),i.jsx("button",{onClick:pe=>{pe.stopPropagation();const Ee=new Date(P.pickup);Ee.setMonth(Ee.getMonth()+1),L(ze=>({...ze,pickup:Ee}))},className:"p-1 hover:bg-gray-100 rounded transition-colors",children:i.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),i.jsx("div",{className:"mb-3 px-2 py-1.5 bg-gray-50 rounded-xl border border-gray-100",children:i.jsx("p",{className:"text-xs text-gray-600",children:C?"Clic pentru a schimba data de nceput":"Selecteaz data de nceput"})}),i.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Du","Lu","Ma","Mi","Jo","Vi","S"].map(pe=>i.jsx("div",{className:"text-gray-500 font-medium",children:pe},pe))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:ur(P.pickup).map((pe,Ee)=>{if(!pe)return i.jsx("div",{},Ee);const ze=new Date(pe),Ke=pe,ft=new Date;ft.setHours(0,0,0,0);const bt=ht(ft),_t=Ke<bt,$t=le?(()=>{const At=new Date;At.setHours(0,0,0,0);const Wt=new Date(le);Wt.setHours(0,0,0,0);const fr=new Date(Ke);return fr.setHours(0,0,0,0),Wt<=At&&fr<Wt})():!1,Qt=Dt(Ke),nr=_t||$t||Qt,vr=Ke===C,Kr=$&&Ke===$,Ut=C&&$&&Ke>C&&Ke<$;return i.jsxs("div",{className:`w-8 h-8 flex items-center justify-center text-xs cursor-pointer rounded transition-colors relative ${nr?"text-gray-300 cursor-not-allowed":"text-gray-700"} ${vr||Kr?"bg-theme-500 text-white hover:bg-theme-600 font-medium":Ut?"bg-gray-100 text-gray-900 hover:bg-gray-200":nr?"":"hover:bg-gray-100"}`,onClick:()=>{if(!nr){const At=C&&C!==pe;if(z(pe),At)F(""),B(""),T("");else if($&&pe>=$){const Wt=new Date($),fr=new Date(pe),Ir=Wt.getTime()-fr.getTime();Math.floor(Ir/(1e3*60*60*24))<2&&F("")}Te(!0),setTimeout(()=>{I(!1),Te(!1),V||O(!0)},300)}},children:[i.jsx("span",{className:"relative z-0",children:ze.getDate()}),Qt&&i.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-red-600 font-bold text-base z-10 pointer-events-none",style:{fontSize:"14px"},children:""})]},Ee)})})]})})]}),i.jsxs("div",{className:"relative",ref:pt,children:[i.jsxs("button",{onClick:pe=>{pe.stopPropagation(),pe.preventDefault(),C&&(O(Ee=>!Ee),Y(!1),I(!1),H(!1))},onMouseDown:pe=>{pe.stopPropagation(),pe.preventDefault()},onTouchStart:pe=>{pe.stopPropagation()},disabled:!C,title:C?"":"Selecteaz mai nti data de nceput",className:`w-full flex items-center justify-center gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${C?V?"border-gray-300 text-gray-900 hover:border-gray-400":"border-gray-300 text-gray-400 hover:border-gray-400":"border-gray-300 text-gray-400 cursor-not-allowed"}`,children:[i.jsx(Aa,{className:"w-4 h-4"}),i.jsx("span",{children:V||"__ : __"})]}),i.jsx(hr,{children:te&&i.jsx(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-2 max-h-[300px] overflow-y-auto w-full",onClick:pe=>pe.stopPropagation(),onMouseDown:pe=>pe.stopPropagation(),onTouchStart:pe=>pe.stopPropagation(),children:i.jsx("div",{className:"flex flex-col gap-1",children:(()=>{let pe;if(C){const ze=new Date;ze.setHours(0,0,0,0);const Ke=ht(ze);if(C===Ke){let _t=new Date().getHours()+2;_t>=24&&(_t=23),pe=_t}else if(le){const ft=le.toISOString().split("T")[0];if(C===ft){const bt=le.getHours();pe=le.getMinutes()>0?bt+1:bt}}}return Jt(pe).filter(ze=>{if(C){const Ke=new Date(C);if(Tr(Ke,V||"09:00"))return!1}if(C&&V&&$){const Ke=new Date(`${C}T${V}`),bt=new Date(`${$}T${ze}`).getTime()-Ke.getTime(),_t=Math.floor(bt/(1e3*60*60));if(Math.floor(_t/24)<2)return!1}return!0}).map(ze=>i.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),B(ze),Te(!0),setTimeout(()=>{O(!1),Te(!1),$||H(!0)},300)},onMouseDown:Ke=>Ke.stopPropagation(),className:`w-full px-3 py-2 text-sm rounded transition-colors text-center ${V===ze?"bg-theme-500 text-white font-medium":"text-gray-700 hover:bg-gray-100"}`,children:ze},ze))})()})})})]})]}),i.jsxs("div",{className:"grid grid-cols-[7fr_3fr] gap-3 mb-4",children:[i.jsxs("div",{className:"relative",ref:he,children:[i.jsxs("button",{onClick:pe=>{pe.stopPropagation(),!(!C||!V)&&(H(!q),I(!1),O(!1),Y(!1))},onMouseDown:pe=>pe.stopPropagation(),disabled:!C||!V,title:!C||!V?C?"Selecteaz mai nti ora de nceput":"Selecteaz mai nti data de nceput":"",className:`w-full flex items-center justify-center gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${!C||!V?"border-gray-300 text-gray-400 cursor-not-allowed":$?"border-gray-300 text-gray-900 hover:border-gray-400":"border-gray-300 text-gray-400 hover:border-gray-400"}`,children:[i.jsx($n,{className:"w-4 h-4"}),i.jsx("span",{children:$?yt($):p()})]}),i.jsx(hr,{children:q&&i.jsxs(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-3 w-full",onClick:pe=>pe.stopPropagation(),onMouseDown:pe=>pe.stopPropagation(),onTouchStart:pe=>pe.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("button",{onClick:pe=>{pe.stopPropagation();const Ee=new Date(P.return);Ee.setMonth(Ee.getMonth()-1),L(ze=>({...ze,return:Ee}))},className:"p-1 hover:bg-gray-100 rounded transition-colors",children:i.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsx("div",{className:"text-sm font-medium text-gray-700",children:P.return.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),i.jsx("button",{onClick:pe=>{pe.stopPropagation();const Ee=new Date(P.return);Ee.setMonth(Ee.getMonth()+1),L(ze=>({...ze,return:Ee}))},className:"p-1 hover:bg-gray-100 rounded transition-colors",children:i.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),i.jsx("div",{className:"mb-3 px-2 py-1.5 bg-gray-50 rounded-xl border border-gray-100",children:i.jsx("p",{className:"text-xs text-gray-600",children:C?$?"Clic pentru a schimba data de returnare":"Selecteaz data de returnare":"Selecteaz mai nti data de nceput"})}),i.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Du","Lu","Ma","Mi","Jo","Vi","S"].map(pe=>i.jsx("div",{className:"text-gray-500 font-medium",children:pe},pe))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:ur(P.return).map((pe,Ee)=>{if(!pe)return i.jsx("div",{},Ee);const ze=new Date(pe),Ke=pe,ft=new Date;ft.setHours(0,0,0,0);const bt=ht(ft),_t=Ke<bt,$t=le?(()=>{const kr=new Date;kr.setHours(0,0,0,0);const Er=new Date(le);Er.setHours(0,0,0,0);const Xr=new Date(Ke);return Xr.setHours(0,0,0,0),Er<=kr&&Xr<Er})():!1,Qt=C&&Ke<=C,nr=C&&V&&(()=>{const kr=new Date(`${C}T${V}`),Xr=new Date(`${Ke}T${V}`).getTime()-kr.getTime(),Gr=Math.floor(Xr/(1e3*60*60));return Math.floor(Gr/24)<2})(),vr=Dt(Ke),Kr=C?(()=>{const kr=$r();if(!kr)return!1;const Er=new Date(C);Er.setHours(0,0,0,0);const Xr=new Date(kr);Xr.setHours(0,0,0,0);const Gr=new Date(Ke);return Gr.setHours(0,0,0,0),Er>=Xr?!1:Gr>=Xr})():Wr(Ke),Ut=_t||$t||Qt||vr||Kr,At=Ke===$,Wt=C&&Ke===C,fr=C&&$&&Ke>C&&Ke<$,Ir=()=>{if(Kr){const kr=$r();if(kr)return`Nu putei selecta aceast dat. Maina este deja rezervat ncepnd cu ${new Date(kr).toLocaleDateString("ro-RO",{day:"numeric",month:"long",year:"numeric"})}.`}return"Aceast dat nu este disponibil."};return i.jsxs("div",{className:`w-8 h-8 flex items-center justify-center text-xs rounded transition-colors relative ${nr?"text-black opacity-50 cursor-not-allowed":Ut?"text-gray-300 cursor-not-allowed":"text-gray-700 cursor-pointer"} ${At||Wt?"bg-theme-500 text-white hover:bg-theme-600 font-medium":fr?"bg-gray-100 text-gray-900 hover:bg-gray-200":!Ut&&!nr?"hover:bg-gray-100":""}`,onClick:()=>{if(nr){se("Perioada minim de nchiriere este de 2 zile (48 ore)"),setTimeout(()=>se(""),3e3);return}Ut?alert(Ir()):(F(pe),Te(!0),setTimeout(()=>{H(!1),Te(!1),K||Y(!0)},300))},title:Ut?Ir():"",children:[i.jsx("span",{className:"relative z-0",children:ze.getDate()}),vr&&i.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-red-600 font-bold text-base z-10 pointer-events-none",style:{fontSize:"14px"},children:""})]},Ee)})}),ie&&i.jsx("div",{className:"mt-3 px-2 py-1.5 bg-blue-50 rounded-xl border border-blue-100",children:i.jsx("p",{className:"text-xs text-blue-700",children:ie})})]})})]}),i.jsxs("div",{className:"relative",ref:vt,children:[i.jsxs("button",{onClick:pe=>{pe.stopPropagation(),pe.preventDefault(),!(!C||!V||!$)&&(Y(Ee=>!Ee),O(!1),I(!1),H(!1))},onMouseDown:pe=>{pe.stopPropagation(),pe.preventDefault()},onTouchStart:pe=>{pe.stopPropagation()},disabled:!C||!V||!$,title:!C||!V||!$?C?V?"Selecteaz mai nti data de returnare":"Selecteaz mai nti ora de nceput":"Selecteaz mai nti data de nceput":"",className:`w-full flex items-center justify-center gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${!C||!V||!$?"border-gray-300 text-gray-400 cursor-not-allowed":K?"border-gray-300 text-gray-900 hover:border-gray-400":"border-gray-300 text-gray-400 hover:border-gray-400"}`,children:[i.jsx(Aa,{className:"w-4 h-4"}),i.jsx("span",{children:K||"__ : __"})]}),i.jsx(hr,{children:re&&i.jsx(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-2 max-h-[300px] overflow-y-auto w-full",onClick:pe=>pe.stopPropagation(),onMouseDown:pe=>pe.stopPropagation(),onTouchStart:pe=>pe.stopPropagation(),children:i.jsx("div",{className:"flex flex-col gap-1",children:(()=>{let pe=Jt();if(C&&V&&$){const Ee=new Date(`${C}T${V}`),ze=new Date(Ee.getTime()+48*60*60*1e3),Ke=ze.toISOString().split("T")[0],ft=ze.getHours();Ke===$&&(pe=pe.filter(bt=>parseInt(bt.split(":")[0])>=ft))}return pe.map(Ee=>i.jsx("button",{onClick:ze=>{ze.stopPropagation(),T(Ee),Te(!0),setTimeout(()=>{Y(!1),Te(!1)},300)},onMouseDown:ze=>ze.stopPropagation(),className:`w-full px-3 py-2 text-sm rounded transition-colors text-center ${K===Ee?"bg-theme-500 text-white font-medium":"text-gray-700 hover:bg-gray-100"}`,children:Ee},Ee))})()})})})]})]})]}),Sr&&i.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-xl border border-gray-200",children:[i.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Pre pentru ",Sr.days," ",Sr.days===1?"zi":"zile",Sr.hours>0&&`, ${Sr.hours} ${Sr.hours===1?"or":"ore"}`]}),i.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[ut(s),Qe(Sr.totalPrice).toLocaleString("ro-RO")]}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total"}),i.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[ut(s),Qe(Sr.totalPrice).toLocaleString("ro-RO")]})]})]}),i.jsxs("div",{className:"flex gap-3 mb-6",children:[hn?i.jsx("button",{onClick:en,className:"flex-1 font-semibold py-3.5 px-6 rounded-xl transition-colors bg-red-600 hover:bg-red-700 text-white cursor-pointer",children:"nchiriaz"}):i.jsx("button",{disabled:!0,className:"flex-1 font-semibold py-3.5 px-6 rounded-xl transition-colors bg-gray-200 text-gray-400 cursor-not-allowed",children:l("car.chooseDates")}),i.jsx("button",{onClick:Bt,className:"w-14 h-14 flex items-center justify-center border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors",children:tt.createElement(lv,{className:`w-6 h-6 transition-all duration-300 ${k?"text-red-500":"text-gray-600 hover:text-red-500"}`})})]}),i.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-lg md:text-2xl font-bold text-gray-900",children:l("car.rentalCost")}),x.discount_percentage&&x.discount_percentage>0&&i.jsxs("div",{className:"px-2 py-1 md:px-3 md:py-1.5 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-full text-xs font-semibold shadow-sm md:shadow-md",children:[x.discount_percentage,"% ",l("car.discount")]})]}),i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx("div",{className:"relative group",children:i.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 shadow-sm hover:shadow-lg transition-all duration-300 hover:scale-105",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-red-500 rounded-full shadow-sm",children:i.jsx("span",{className:"text-white font-semibold text-xs",children:"2-4"})}),i.jsx("span",{className:"text-xs font-semibold text-red-600 uppercase tracking-wide",children:l("car.days")})]}),i.jsx("div",{className:"flex items-center gap-3",children:(()=>{const pe=x.price_2_4_days||0,Ee=x.discount_percentage||0,ze=Ee>0?Math.round(pe*(1-Ee/100)):pe;return i.jsxs(i.Fragment,{children:[Ee>0&&i.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[ut(s),Qe(pe).toLocaleString("ro-RO")]}),i.jsx("span",{className:"text-lg font-bold text-gray-900",children:ic(Qe(ze),s,c.language)})]})})()})]})})}),i.jsx("div",{className:"relative group",children:i.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 shadow-sm hover:shadow-lg transition-all duration-300 hover:scale-105",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-red-500 rounded-full shadow-sm",children:i.jsx("span",{className:"text-white font-semibold text-xs",children:"5-15"})}),i.jsx("span",{className:"text-xs font-semibold text-red-600 uppercase tracking-wide",children:l("car.days")})]}),i.jsx("div",{className:"flex items-center gap-3",children:(()=>{const pe=x.price_5_15_days||0,Ee=x.discount_percentage||0,ze=Ee>0?Math.round(pe*(1-Ee/100)):pe;return i.jsxs(i.Fragment,{children:[Ee>0&&i.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[ut(s),Qe(pe).toLocaleString("ro-RO")]}),i.jsx("span",{className:"text-lg font-bold text-gray-900",children:ic(Qe(ze),s,c.language)})]})})()})]})})}),i.jsx("div",{className:"relative group",children:i.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 shadow-sm hover:shadow-lg transition-all duration-300 hover:scale-105",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-red-500 rounded-full shadow-sm",children:i.jsx("span",{className:"text-white font-semibold text-xs",children:"16-30"})}),i.jsx("span",{className:"text-xs font-semibold text-red-600 uppercase tracking-wide",children:l("car.days")})]}),i.jsx("div",{className:"flex items-center gap-3",children:(()=>{const pe=x.price_16_30_days||0,Ee=x.discount_percentage||0,ze=Ee>0?Math.round(pe*(1-Ee/100)):pe;return i.jsxs(i.Fragment,{children:[Ee>0&&i.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[ut(s),Qe(pe).toLocaleString("ro-RO")]}),i.jsx("span",{className:"text-lg font-bold text-gray-900",children:ic(Qe(ze),s,c.language)})]})})()})]})})}),i.jsx("div",{className:"relative group",children:i.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 shadow-sm hover:shadow-lg transition-all duration-300 hover:scale-105",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"inline-flex items-center justify-center px-2 py-1 bg-red-500 rounded-full shadow-sm",children:i.jsx("span",{className:"text-white font-semibold text-xs",children:"30+"})}),i.jsx("span",{className:"text-xs font-semibold text-red-600 uppercase tracking-wide",children:l("car.days")})]}),i.jsx("div",{className:"flex items-center gap-3",children:(()=>{const pe=x.price_over_30_days||0,Ee=x.discount_percentage||0,ze=Ee>0?Math.round(pe*(1-Ee/100)):pe;return i.jsxs(i.Fragment,{children:[Ee>0&&i.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[ut(s),Qe(pe).toLocaleString("ro-RO")]}),i.jsx("span",{className:"text-lg font-bold text-gray-900",children:ic(Qe(ze),s,c.language)})]})})()})]})})})]})]})]})})})]}),i.jsxs("div",{className:"mt-12",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-2",children:l("car.recommendedCars","Maini Recomandate")}),i.jsx("p",{className:"text-gray-600",children:l("car.recommendedDescription","Descoper alte maini care s-ar putea s i plac")})]}),Ae?i.jsx("div",{className:"flex justify-center py-12",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-bounce"}),i.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),i.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})}):Pe.length>0?i.jsxs("div",{className:"relative",children:[i.jsx("style",{children:`
                                .recommended-slider::-webkit-scrollbar {
                                    display: none;
                                }
                            `}),i.jsx("div",{ref:gt,className:"overflow-x-auto pb-4 recommended-slider",style:{scrollBehavior:"smooth",scrollbarWidth:"none",msOverflowStyle:"none"},children:i.jsx("div",{className:"flex gap-6 min-w-max py-4",children:Pe.map((pe,Ee)=>i.jsx("div",{className:"w-[340px] sm:w-[360px] md:w-80 flex-shrink-0",children:i.jsx(cv,{car:pe,index:Ee})},pe.id))})}),Pe.length>1&&i.jsx("div",{className:"flex justify-center mt-4 space-x-2",children:Array.from({length:Math.ceil(Pe.length/1)}).map((pe,Ee)=>i.jsx("button",{onClick:()=>{He(Ee),zt()},className:`w-2 h-2 rounded-full transition-colors ${Ee===Ce?"bg-red-500":"bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to slide ${Ee+1}`},Ee))})]}):null]})]}),x&&i.jsx(oX,{isOpen:R,onClose:()=>G(!1),car:x,pickupDate:C,returnDate:$,pickupTime:V,returnTime:K,rentalCalculation:Sr,approvedBorrowRequests:oe,carRentalsForCalendar:ue}),X&&ei.createPortal(i.jsx(hr,{children:X&&i.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black z-[99999] flex items-center justify-center",style:{top:0,left:0,right:0,bottom:0,position:"fixed"},onClick:()=>D(!1),onKeyDown:pe=>{var Ee,ze;if(pe.key==="Escape")D(!1);else if(pe.key==="ArrowLeft"&&Lt.length>1){const Ke=Z>0?Z-1:Lt.length-1;ae(Ke),(Ee=wt.current)==null||Ee.slickGoTo(Ke)}else if(pe.key==="ArrowRight"&&Lt.length>1){const Ke=Z<Lt.length-1?Z+1:0;ae(Ke),(ze=wt.current)==null||ze.slickGoTo(Ke)}},tabIndex:0,children:i.jsxs(De.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},onClick:pe=>pe.stopPropagation(),className:"relative w-full h-full flex flex-col md:items-center md:justify-center",onKeyDown:pe=>pe.stopPropagation(),children:[i.jsxs("div",{className:"absolute top-0 left-0 right-0 z-20 flex items-center justify-between px-6 py-3",children:[i.jsx("div",{className:"flex items-center gap-3",children:Lt.length>1&&i.jsxs("span",{className:"text-white/70 text-sm font-medium",children:[Z+1," of ",Lt.length]})}),i.jsx("button",{onClick:()=>D(!1),className:"p-2 hover:bg-white/10 text-white/80 hover:text-white rounded-lg transition-colors",children:i.jsx(kn,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-6 md:p-2 relative",children:Lt.length>0&&i.jsxs("div",{className:"w-full h-full max-w-full max-h-[75vh] flex items-center justify-center md:max-w-6xl md:mx-auto",children:[i.jsx("style",{children:`
                                                .image-viewer-slider .slick-list {
                                                    height: 100%;
                                                    overflow: visible;
                                                }
                                                .image-viewer-slider .slick-track {
                                                    height: 100%;
                                                    display: flex;
                                                    align-items: center;
                                                    transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                                                }
                                                .image-viewer-slider .slick-slide {
                                                    height: auto;
                                                    transition: opacity 0.3s ease;
                                                    padding: 0 10px;
                                                }
                                                @media (min-width: 768px) {
                                                    .image-viewer-slider .slick-slide {
                                                        padding: 0 5px;
                                                    }
                                                }
                                                .image-viewer-slider .slick-slide > div {
                                                    height: 100%;
                                                    display: flex;
                                                    align-items: center;
                                                    justify-content: center;
                                                    width: 100%;
                                                }
                                                .image-viewer-slider .slick-arrow {
                                                    display: none !important;
                                                }
                                                @media (min-width: 768px) {
                                                    .image-viewer-slider .slick-slide > div {
                                                        justify-content: center !important;
                                                    }
                                                }
                                            `}),i.jsx(IT,{ref:wt,initialSlide:Z,afterChange:pe=>ae(pe),infinite:Lt.length>1,speed:400,slidesToShow:1,slidesToScroll:1,swipeToSlide:!0,touchMove:!0,draggable:!0,fade:!1,arrows:!1,cssEase:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",useCSS:!0,useTransform:!0,className:"image-viewer-slider w-full h-full md:w-full",children:Lt.filter(pe=>typeof pe=="string"&&pe.length>0).map((pe,Ee)=>i.jsx("div",{className:"flex items-center justify-center h-full w-full",children:i.jsx("img",{src:pe,alt:`${x.make} ${x.model} - Image ${Ee+1}`,className:"max-w-full max-h-[75vh] object-contain rounded-xl select-none md:max-w-[90vw]",style:{margin:"0 auto"},draggable:!1})},Ee))})]})}),Lt.length>1&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 border-t border-white/10 bg-black/40 backdrop-blur-md",children:i.jsx("div",{className:"px-6 py-4 md:px-3 md:py-2",children:i.jsx("div",{className:"grid grid-cols-6 gap-3 md:gap-1.5 max-w-4xl mx-auto",children:Lt.map((pe,Ee)=>i.jsx("button",{onClick:()=>ae(Ee),className:`relative transition-all ${Z===Ee?"opacity-100":"opacity-50 hover:opacity-80"}`,children:i.jsx("img",{src:pe,alt:`Thumbnail ${Ee+1}`,className:`w-full h-20 object-cover rounded-lg transition-all ${Z===Ee?"border-2 border-white":"border border-white/20"}`})},Ee))})})})]})})}),document.body)]}):i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 border-4 border-theme-500 border-t-transparent rounded-full animate-spin"}),i.jsx("p",{className:"text-gray-600",children:"Se ncarc maina..."})]})})},Yg=[{id:"1",userName:"Artur Sincarenco",userInitial:"A",userInitialColor:"bg-green-500",rating:5,date:"6 februarie 2025",category:"nchiriere",comment:"Am avut experien cu mai multe servicii de nchiriere, iar acesta este, probabil, unul dintre cele mai rapide i de ncredere. Mainile ngrijite, contractul este transparent i bine detaliat, fr condiii speciale sau plat n plus pentru plecri peste hotare, loiali. Dac ar trebui s recomand un parc de nchirieri, cu siguran ar fi acesta.",hasProfilePicture:!0,profilePicture:"https://images.pexels.com/photos/13866229/pexels-photo-13866229.jpeg"},{id:"2",userName:"Drago",userInitial:"D",userInitialColor:"bg-blue-500",rating:5,date:"1 martie 2025",category:"nchiriere",comment:"Totul super  service la nivel, masini fain, personal de nota 10. "},{id:"3",userName:"Vasile Moraru",userInitial:"V",userInitialColor:"bg-purple-500",rating:5,date:"30 ianuarie 2025",category:"Splare",comment:"Bieii ofer ntr-adevr un serviciu de calitate, cea mai bun spltorie auto din Chiinu, o gam larg de servicii, folosesc produse chimice de calitate i respect procesul de curare, pleci mereu cu bun dispoziie ntr-o main cu adevrat curat.",isTranslated:!0,originalLanguage:"rus"},{id:"4",userName:"Alexandr",userInitial:"A",userInitialColor:"bg-green-500",rating:5,date:"19 ianuarie 2025",category:"nchiriere",comment:"Evaluare fr recenzie"},{id:"5",userName:"Gheorghe Luca",userInitial:"G",userInitialColor:"bg-green-500",rating:5,date:"28 ianuarie 2025",category:"nchiriere",comment:"Serviciu excelent, gam larg de maini, posibilitatea de a prelungi contractul de nchiriere la distan! Biei extraordinari. ",isTranslated:!0,originalLanguage:"rus",hasProfilePicture:!0,profilePicture:"https://images.pexels.com/photos/7401381/pexels-photo-7401381.jpeg"},{id:"6",userName:"Stefan",userInitial:"S",userInitialColor:"bg-purple-500",rating:5,date:"19 ianuarie 2025",category:"nchiriere",comment:"Am gsit maina de nchiriat pe care o cutam.",isTranslated:!0,originalLanguage:"rus"},{id:"7",userName:"Dumitru Ciobanu",userInitial:"D",userInitialColor:"bg-green-500",rating:5,date:"19 ianuarie 2025",category:"nchiriere",comment:"Serviciu excelent. Sunt multe maini. Procesul de nchiriere este foarte rapid. Ofer maini i strinilor. Recomand!",isTranslated:!0,originalLanguage:"rus",hasProfilePicture:!0,profilePicture:"https://images.pexels.com/photos/2797720/pexels-photo-2797720.jpeg"},{id:"8",userName:"Iulian Iulian",userInitial:"I",userInitialColor:"bg-pink-500",rating:4,date:"19 ianuarie 2025",category:"Vnzare",comment:"Au i maini de vnzare. Am vrut s vedem una. n primul rnd, nu rspundeau. A doua oar au rspuns. Au spus c vor reveni cu un apel. Nu au sunat napoi. S-a dovedit c anunul nu era actualizat.",isTranslated:!0,originalLanguage:"rus"},{id:"9",userName:"Alexandr",userInitial:"A",userInitialColor:"bg-green-500",rating:5,date:"20 decembrie 2024",category:"Detailing auto",comment:"Evaluare fr recenzie"},{id:"10",userName:"Iura",userInitial:"I",userInitialColor:"bg-blue-600",rating:5,date:"15 decembrie 2024",category:"nchiriere",comment:"Serviciu foarte bun! Maina era curat i n stare perfect. Procesul de rezervare a fost simplu i rapid. Voi folosi din nou cu siguran serviciile acestea.",hasProfilePicture:!0,profilePicture:"https://images.pexels.com/photos/839011/pexels-photo-839011.jpeg"},{id:"11",userName:"Maxim Popovici",userInitial:"M",userInitialColor:"bg-green-500",rating:5,date:"10 decembrie 2024",category:"nchiriere",comment:"Cea mai bun experien de nchiriere auto! Preuri excelente, serviciu clieni extraordinar, iar maina a depit ateptrile mele. Recomand cu ncredere!"},{id:"12",userName:"Ion",userInitial:"I",userInitialColor:"bg-blue-600",rating:5,date:"5 decembrie 2024",category:"Splare",comment:"Serviciu de splare auto de calitate superioar! Maina a ieit ca nou. Personalul este foarte atent la detalii i folosete produse de calitate. Voi reveni sigur!"},{id:"13",userName:"Cristian Popescu",userInitial:"C",userInitialColor:"bg-red-500",rating:5,date:"15 februarie 2025",category:"nchiriere",comment:"Experien fantastic! Am nchiriat un Mercedes i totul a fost perfect. Echipa este profesionist, am fost reprezentai imediat i procesul a fost foarte simplu. Maina era n stare impecabil!"},{id:"14",userName:"Ana Maria",userInitial:"A",userInitialColor:"bg-pink-500",rating:5,date:"20 februarie 2025",category:"nchiriere",comment:"Recomand cu toat ncrederea! Serviciu rapid, maini noi i preuri corecte. Am folosit serviciile de dou ori deja i de fiecare dat am fost foarte mulumit."},{id:"15",userName:"Vladimir Bulat",userInitial:"V",userInitialColor:"bg-indigo-500",rating:5,date:"25 februarie 2025",category:"nchiriere",comment:"Excelent serviciu pentru nchirieri auto n Chiinu. Ofer i livrare la domiciliu, ceea ce este foarte convenabil. Mainile sunt ngrijite i preurile sunt mai bune dect la concuren."},{id:"16",userName:"Elena Radu",userInitial:"E",userInitialColor:"bg-yellow-500",rating:5,date:"3 martie 2025",category:"nchiriere",comment:"Am nchiriat pentru weekend i am fost foarte impresionat de calitatea serviciului. Personal foarte amabil i rspunde prompt la ntrebri. Maina a fost curat i n stare perfect de funcionare."},{id:"17",userName:"Petru",userInitial:"P",userInitialColor:"bg-orange-500",rating:5,date:"10 martie 2025",category:"nchiriere",comment:"Serviciu profesionist i de ncredere. Contractul este clar, fr surprize. Am nchiriat de mai multe ori i de fiecare dat totul a mers perfect. Recomand!"},{id:"18",userName:"Diana",userInitial:"D",userInitialColor:"bg-teal-500",rating:5,date:"18 martie 2025",category:"nchiriere",comment:"Cea mai bun companie de nchirieri auto din Moldova! Preuri fair, maini calitative i echipa super de ajutor. Will definitely use again!"},{id:"19",userName:"Sergiu Marian",userInitial:"S",userInitialColor:"bg-slate-500",rating:5,date:"22 martie 2025",category:"nchiriere",comment:"Fast service, good cars, fair prices. What more can you ask for? Highly recommend for anyone needing a rental car in Chisinau."},{id:"20",userName:"Alin",userInitial:"A",userInitialColor:"bg-cyan-500",rating:5,date:"28 martie 2025",category:"nchiriere",comment:"Am fost foarte mulumit de serviciul oferit. Preuri competitive, maini bune i personal prietenos. Voi reveni cu siguran pentru urmtoarea nchiriere!"},{id:"21",userName:"Vasile Popescu",userInitial:"V",userInitialColor:"bg-blue-500",rating:5,date:"5 aprilie 2025",category:"nchiriere",comment:"Amazing service! The car was clean, reliable, and the booking process was incredibly simple. I will definitely use it again!",isTranslated:!0,originalLanguage:"englez"},{id:"22",userName:"Ion Grosu",userInitial:"I",userInitialColor:"bg-red-500",rating:5,date:"8 aprilie 2025",category:"nchiriere",comment:" !     ,    .  ,  !",isTranslated:!0,originalLanguage:"rus"},{id:"23",userName:"Petru Rotaru",userInitial:"P",userInitialColor:"bg-green-500",rating:4,date:"12 aprilie 2025",category:"nchiriere",comment:"Very satisfied with the service! The car matched the description, staff was professional. Will definitely use again.",isTranslated:!0,originalLanguage:"englez",product:{name:"Hyundai Santa Fe"}}],cX=({review:e,index:r})=>{const{t:n}=mr();return i.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:r*.05},className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-200 hover:border-red-300 hover:shadow-md transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-md flex-shrink-0 ${e.userInitialColor}`,children:e.userInitial}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-1 truncate",children:e.userName}),i.jsx("div",{className:"text-sm text-gray-500",children:e.date})]})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5},(a,s)=>i.jsx(C0,{className:`w-5 h-5 ${s<e.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},`star-${e.id}-${s}`))}),i.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:[e.rating,".0"]}),e.category&&!["Splare","Detailing auto","Vnzare"].includes(e.category)&&i.jsx("span",{className:"ml-auto px-3 py-1 rounded-full text-xs font-semibold bg-red-50 text-red-600",children:n(`pages.reviews.categories.${e.category}`,{defaultValue:e.category})})]}),e.comment&&e.comment!=="Evaluare fr recenzie"&&i.jsx("div",{className:"pt-4 border-t border-gray-100",children:i.jsx("p",{className:"text-gray-700 text-[15px] leading-relaxed",children:n(`pages.reviews.comments.${e.id}`,{defaultValue:e.comment})})})]})},uX=()=>{var c;const{t:e}=mr(),[r,n]=N.useState(((c=globalThis.window)==null?void 0:c.matchMedia("(min-width: 640px)").matches)??!1),a=Pn();N.useEffect(()=>{if(globalThis.window===void 0)return;const u=globalThis.window.matchMedia("(min-width: 640px)"),d=f=>n(f.matches);return n(u.matches),u.addEventListener("change",d),()=>u.removeEventListener("change",d)},[]);const s=Yg.length,o=s?(Yg.reduce((u,d)=>u+(d.rating??0),0)/s).toFixed(1):"0.0",l=s?Math.round(Yg.filter(u=>(u.rating??0)>=4).length/s*100):0;return i.jsxs("div",{className:"min-h-screen font-montserrat",children:[i.jsxs("section",{className:"relative h-[500px] bg-fixed bg-cover bg-center bg-no-repeat pt-36 font-sans text-white overflow-hidden",style:{backgroundImage:r?"url(/lvl_bg.png)":"url(/backgrounds/bg4-mobile.jpeg)",backgroundPosition:r?"center -420px":"center -300px",backgroundSize:r?"115%":"cover"},children:[i.jsx("div",{className:"absolute inset-0 bg-black/70"}),i.jsx("div",{className:`absolute bottom-0 left-0 w-full h-40 
            bg-[linear-gradient(to_top,rgba(15,15,15,1),rgba(15,15,15,0))] 
            z-10 pointer-events-none`}),i.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 overflow-visible relative z-10",children:i.jsx("div",{className:"flex items-center justify-center h-full pt-16",children:i.jsx("div",{className:"text-center space-y-10 max-w-4xl",children:i.jsx("div",{className:"space-y-8",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("p",{className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:e("pages.reviews.hero.label")}),i.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-white leading-tight drop-shadow-lg",children:e("pages.reviews.hero.title")})]})})})})})]}),i.jsxs("section",{className:"py-20 bg-gradient-to-br from-gray-50 to-white relative overflow-hidden font-montserrat",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx(De.div,{animate:{scale:[1,1.1,1],opacity:[.1,.2,.1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute -top-20 -right-20 w-80 h-80 bg-red-100 rounded-full blur-3xl"}),i.jsx(De.div,{animate:{scale:[1,1.2,1],opacity:[.05,.15,.05]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute -bottom-20 -left-20 w-96 h-96 bg-red-200 rounded-full blur-3xl"})]}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[i.jsxs(De.div,{variants:Ra,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"mt-0 grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[i.jsxs(De.div,{variants:jr,className:"bg-gray-100 rounded-2xl p-5 flex flex-row items-center gap-5",children:[i.jsx(Ip,{className:"w-12 h-12 text-gray-600 flex-shrink-0"}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("div",{className:"text-3xl font-bold text-gray-900",children:s}),i.jsx("div",{className:"text-xs text-gray-600",children:e("pages.reviews.stats.totalReviews")})]})]}),i.jsxs(De.div,{variants:jr,className:"bg-gray-100 rounded-2xl p-5 flex flex-row items-center gap-5",children:[i.jsx(C0,{className:"w-12 h-12 text-gray-600 flex-shrink-0"}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("div",{className:"text-3xl font-bold text-gray-900",children:o}),i.jsx("div",{className:"text-xs text-gray-600",children:e("pages.reviews.stats.averageRating")})]})]}),i.jsxs(De.div,{variants:jr,className:"bg-gray-100 rounded-2xl p-5 flex flex-row items-center gap-5",children:[i.jsx(KH,{className:"w-12 h-12 text-gray-600 flex-shrink-0"}),i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[l,"%"]}),i.jsx("div",{className:"text-xs text-gray-600",children:e("pages.reviews.stats.satisfaction")})]})]})]}),i.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-6",children:Yg.map((u,d)=>i.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:d*.05,ease:"easeOut"},whileHover:{y:-12,scale:1.03,transition:{duration:.4,ease:[.25,.46,.45,.94]}},className:"w-full break-inside-avoid mb-6",children:i.jsx(cX,{review:u,index:d})},u.id))}),i.jsxs(De.div,{variants:jr,className:"mt-16 mb-10 text-center max-w-3xl mx-auto",children:[i.jsx("h3",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:e("pages.reviews.cta.title")}),i.jsx("p",{className:"text-lg text-gray-600 mb-8",children:e("pages.reviews.cta.description")}),i.jsx(De.button,{className:"bg-red-600 hover:bg-red-700 text-white px-10 py-4 rounded-xl font-semibold shadow-md hover:shadow-lg transition-all duration-300",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>a("/cars"),children:e("pages.reviews.cta.button")})]})]})]})]})},dX=({className:e})=>i.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})}),hX=()=>{const{t:e}=mr(),[r,n]=N.useState(!1);N.useEffect(()=>{if(typeof window>"u")return;const g=window.matchMedia("(min-width: 768px)"),y=v=>n(v.matches);return n(g.matches),g.addEventListener("change",y),md&&md.init("puJkkInKNSBXdiXYJ"),()=>g.removeEventListener("change",y)},[]);const a=[{icon:Ah,text:"+373 62 000 112",href:"tel:+37362000112",label:"Phone"},{icon:jd,text:"info@levelautorental.com",href:"mailto:info@levelautorental.com",label:"Email"},{icon:am,text:"Chisinau, Moldova",href:"#",label:"Location"}],s=[{icon:dX,href:"https://www.tiktok.com/@level.auto.rental.md",label:e("footer.social.tiktok")},{icon:av,href:"https://www.facebook.com/levelautorental",label:e("footer.social.facebook")},{icon:FO,href:"https://www.instagram.com/level_auto_rental",label:e("footer.social.instagram")}],[o,l]=N.useState({firstName:"",lastName:"",email:"",phone:"",message:""}),[c,u]=N.useState(!1),[d,f]=N.useState({type:null,message:""}),p=(g,y)=>{l(w=>({...w,[g]:y}))},x=async g=>{var y,w,v,S,k,j;g.preventDefault(),u(!0),f({type:null,message:""});try{if(!md)throw new Error("EmailJS not loaded");const C={prenume:o.firstName,nume:o.lastName,email:o.email,telefon:o.phone,mesaj:o.message};await md.send("service_ku8aes8","template_9cyhfh4",C),f({type:"success",message:"Mesajul dumneavoastr a fost trimis cu succes! V vom contacta n curnd."}),l({firstName:"",lastName:"",email:"",phone:"",message:""})}catch(C){let z="A aprut o eroare la trimiterea mesajului. V rugm s ncercai din nou.";(y=C==null?void 0:C.text)!=null&&y.includes("Invalid service ID")?z="Eroare de configurare: Service ID invalid.":(w=C==null?void 0:C.text)!=null&&w.includes("Invalid template ID")?z="Eroare de configurare: Template ID invalid.":(v=C==null?void 0:C.text)!=null&&v.includes("Invalid public key")?z="Eroare de configurare: Cheie public invalid.":(S=C==null?void 0:C.text)!=null&&S.includes("rate limit")?z="Prea multe ncercri. V rugm s ateptai cteva minute.":(k=C==null?void 0:C.text)!=null&&k.includes("Template not found")?z="Eroare: Template-ul nu a fost gsit. Verificai configuraia.":(j=C==null?void 0:C.text)!=null&&j.includes("Service not found")&&(z="Eroare: Serviciul nu a fost gsit. Verificai configuraia."),f({type:"error",message:z})}finally{u(!1)}};return i.jsxs("div",{className:"min-h-screen",children:[i.jsxs("section",{className:"relative h-[500px] bg-fixed bg-cover bg-center bg-no-repeat pt-36 font-sans text-white",style:{backgroundImage:r?"url(/lvl_bg.png)":"url(/backgrounds/bg10-mobile.jpeg)",backgroundPosition:r?"center -400px":"center center",backgroundSize:r?"115%":"cover"},children:[i.jsx("div",{className:"absolute inset-0 bg-black/70"}),i.jsx("div",{className:`absolute bottom-0 left-0 w-full h-40 
              bg-[linear-gradient(to_top,rgba(15,15,15,1),rgba(15,15,15,0))] 
              z-10 pointer-events-none`}),i.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 overflow-visible relative z-10",children:i.jsx("div",{className:"flex items-center justify-center h-full pt-16",children:i.jsx("div",{className:"text-center space-y-10 max-w-4xl",children:i.jsx("div",{className:"space-y-8",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("p",{className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:e("pages.contact.hero.label")}),i.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-white leading-tight drop-shadow-lg",children:e("pages.contact.hero.title")})]})})})})})]}),i.jsx("section",{className:"py-20 bg-gradient-to-b from-gray-50 to-white",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[i.jsxs(De.div,{variants:Ra,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"space-y-8",children:[i.jsxs(De.div,{variants:jr,children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:e("pages.contact.contact-info")}),i.jsx("p",{className:"text-gray-600 mb-8",children:e("pages.contact.contact-description")})]}),i.jsx("div",{className:"space-y-4",children:a.map((g,y)=>i.jsxs(De.a,{href:g.href,variants:jr,className:"flex items-center p-6 bg-white rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300 group",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-b from-red-500 to-red-600 flex items-center justify-center mr-4 group-hover:scale-110 transition-transform duration-300",children:i.jsx(g.icon,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-900",children:g.text}),i.jsx("p",{className:"text-sm text-gray-500",children:g.label})]})]},y))}),i.jsxs(De.div,{variants:jr,className:"pt-6",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:e("footer.social.follow-us")}),i.jsx("div",{className:"flex space-x-3",children:s.map(g=>i.jsx(De.a,{href:g.href,target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 rounded-xl bg-white shadow-sm hover:shadow-lg flex items-center justify-center text-gray-600 hover:text-red-600 transition-all duration-300 hover:scale-110 border border-gray-100","aria-label":g.label,whileHover:{y:-2},whileTap:{scale:.95},children:i.jsx(g.icon,{className:g.icon===av?"w-5 h-5":"w-6 h-6"})},g.label))})]})]}),i.jsxs(De.div,{variants:Ra,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"bg-white rounded-3xl shadow-lg border border-gray-100 p-8",children:[i.jsxs(De.div,{variants:jr,children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:e("pages.contact.send-message")}),i.jsx("p",{className:"text-gray-600 mb-8",children:e("pages.contact.form-description")})]}),i.jsxs(De.form,{onSubmit:x,variants:Ra,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"space-y-6",children:[i.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[i.jsx(De.div,{variants:jr,children:i.jsxs("label",{className:"block",children:[i.jsxs("span",{className:"text-sm font-medium text-gray-700 mb-3 block",children:[e("pages.contact.form.first-name")," *"]}),i.jsx("input",{type:"text",placeholder:e("pages.contact.form.first-name"),value:o.firstName,onChange:g=>p("firstName",g.target.value),required:!0,className:"w-full px-4 py-4 rounded-2xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-300 hover:border-gray-300"})]})}),i.jsx(De.div,{variants:jr,children:i.jsxs("label",{className:"block",children:[i.jsxs("span",{className:"text-sm font-medium text-gray-700 mb-3 block",children:[e("pages.contact.form.last-name")," *"]}),i.jsx("input",{type:"text",placeholder:e("pages.contact.form.last-name"),value:o.lastName,onChange:g=>p("lastName",g.target.value),required:!0,className:"w-full px-4 py-4 rounded-2xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-300 hover:border-gray-300"})]})})]}),i.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[i.jsx(De.div,{variants:jr,children:i.jsxs("label",{className:"block",children:[i.jsxs("span",{className:"text-sm font-medium text-gray-700 mb-3 block",children:[e("pages.contact.form.email")," *"]}),i.jsx("input",{type:"email",placeholder:e("pages.contact.form.email-example"),value:o.email,onChange:g=>p("email",g.target.value),required:!0,className:"w-full px-4 py-4 rounded-2xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-300 hover:border-gray-300"})]})}),i.jsx(De.div,{variants:jr,children:i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700 mb-3 block",children:e("pages.contact.form.phone-number")}),i.jsx("input",{type:"tel",placeholder:"+373 (555) 000-000",value:o.phone,onChange:g=>p("phone",g.target.value),className:"w-full px-4 py-4 rounded-2xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-300 hover:border-gray-300"})]})})]}),i.jsx(De.div,{variants:jr,children:i.jsxs("label",{className:"block",children:[i.jsxs("span",{className:"text-sm font-medium text-gray-700 mb-3 block",children:[e("pages.contact.form.message")," *"]}),i.jsx("textarea",{rows:3,placeholder:e("pages.contact.form.message-cta"),value:o.message,onChange:g=>p("message",g.target.value),className:"w-full px-4 py-4 rounded-2xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-300 resize-none hover:border-gray-300",required:!0})]})}),i.jsx(De.button,{type:"submit",variants:jr,disabled:c,className:"w-full py-4 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 disabled:from-gray-400 disabled:to-gray-500 text-white rounded-2xl font-semibold transition-all duration-300 flex items-center justify-center gap-3 shadow-lg hover:shadow-xl disabled:shadow-none transform hover:scale-[1.02] disabled:hover:scale-100 disabled:cursor-not-allowed",whileHover:{scale:c?1:1.02},whileTap:{scale:c?1:.98},children:c?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Se trimite..."]}):i.jsxs(i.Fragment,{children:[i.jsx(x5,{className:"w-5 h-5"}),e("pages.contact.form.start")]})}),d.type&&i.jsx(De.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`mt-4 p-4 rounded-2xl text-center ${d.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:d.message})]})]})]})})})]})},fX=4,mX=()=>{const e=Pn(),{t:r}=mr(),[n,a]=N.useState("all"),{ref:s,isInView:o}=ym(),l=tt.useRef(!1),[c,u]=N.useState([]);async function d(){try{const f=await Ey(fX);u(f)}catch(f){console.error("Error fetching cars:",f)}}return N.useEffect(()=>{l.current||(l.current=!0,d())},[]),i.jsx("section",{className:"py-16 pb-32 https://sevenluxurycarrental.com/wp-content/uploads/2024/08/benefits-of-renting-an-exotic-car-in-dubai.jpg",children:i.jsxs("div",{className:"max-w-[1500px] mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs(De.div,{ref:s,variants:Ra,initial:"initial",animate:o?"animate":"initial",className:"text-center mb-16",children:[i.jsx(De.span,{variants:jr,className:"text-sm font-semibold tracking-wider text-transparent bg-gradient-to-r from-red-500 to-red-600 bg-clip-text uppercase",id:"popular-cars",children:r("popularCars.sectionLabel")}),i.jsx(De.h2,{variants:jr,className:"mt-3 text-3xl md:text-5xl font-bold text-gray-800 leading-tight max-w-3xl mx-auto",children:r("popularCars.sectionTitle")})]}),i.jsx(De.div,{variants:Ra,initial:"initial",animate:o?"animate":"initial",className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4 lg:gap-5",children:c.map((f,p)=>i.jsx(cv,{car:f,index:p},f.id))}),i.jsx("div",{className:"text-center mt-16",children:i.jsxs(Kf,{variant:"outline",size:"lg",className:"inline-flex items-center gap-2 rounded-2xl border-red-500 text-red-500 hover:bg-red-500 hover:text-white transition-all duration-300",onClick:()=>e("/cars"),children:[r("popularCars.viewAll"),i.jsx(ss,{className:"w-4 h-4"})]})})]})})};function pX({title:e,titleId:r,...n},a){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},n),e?N.createElement("title",{id:r},e):null,N.createElement("path",{d:"M12 7.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z"}),N.createElement("path",{fillRule:"evenodd",d:"M1.5 4.875C1.5 3.839 2.34 3 3.375 3h17.25c1.035 0 1.875.84 1.875 1.875v9.75c0 1.036-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 14.625v-9.75ZM8.25 9.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM18.75 9a.75.75 0 0 0-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 0 0 .75-.75V9.75a.75.75 0 0 0-.75-.75h-.008ZM4.5 9.75A.75.75 0 0 1 5.25 9h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H5.25a.75.75 0 0 1-.75-.75V9.75Z",clipRule:"evenodd"}),N.createElement("path",{d:"M2.25 18a.75.75 0 0 0 0 1.5c5.4 0 10.63.722 15.6 2.075 1.19.324 2.4-.558 2.4-1.82V18.75a.75.75 0 0 0-.75-.75H2.25Z"}))}const gX=N.forwardRef(pX),xX=()=>{const{t:e}=mr(),{ref:r,isInView:n}=ym(),a=[{icon:gX,title:e("features.bestPrices.title"),description:e("features.bestPrices.description")},{icon:FH,title:e("features.support.title"),description:e("features.support.description")},{icon:Aa,title:e("features.easyBooking.title"),description:e("features.easyBooking.description")},{icon:Ip,title:e("features.wideSelection.title"),description:e("features.wideSelection.description")}];return i.jsx("section",{className:"py-40 mt-0",children:i.jsxs("div",{className:"max-w-7xl mx-auto ",children:[i.jsxs(De.div,{ref:r,variants:Ra,initial:"initial",animate:n?"animate":"initial",className:"text-center mb-16",children:[i.jsx(De.span,{variants:jr,className:"text-sm font-semibold tracking-wider text-red-500 uppercase bg-gradient-to-r from-red-500 to-red-600 bg-clip-text",id:"why-choose-us",children:e("features.sectionLabel")}),i.jsx(De.h2,{variants:jr,className:"mt-3 text-3xl md:text-5xl font-bold text-gray-800 leading-tight max-w-3xl mx-auto",children:e("features.sectionTitle")})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:a.map((s,o)=>i.jsxs(De.div,{variants:jr,className:"text-center relative",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl mx-auto mb-4 shadow-lg flex items-center justify-center bg-gradient-to-b from-red-500 to-red-600",children:i.jsx(s.icon,{className:"w-8 h-8 text-white"})}),i.jsx("div",{className:"text-xl font-bold text-gray-800 mb-3",children:s.title}),i.jsx("div",{className:"text-gray-500 text-sm leading-relaxed max-w-xs mx-auto",children:s.description})]},s.title))})]})})},vX=()=>{const{t:e}=mr(),r=Pn(),n=new Date().toISOString().split("T")[0],[a,s]=N.useState([]);N.useEffect(()=>{(async()=>{try{const q=await Py();s(q)}catch(q){console.error("Error fetching cars:",q)}})()},[]);const[o,l]=N.useState({make:"",model:"",location:"",dateRange:{startDate:"",endDate:""}}),[c,u]=N.useState(!1),[d,f]=N.useState(!1),[p,x]=N.useState(!1),[g,y]=N.useState(!1),w=N.useMemo(()=>{const I=a.map(H=>{const te=H.make||"";return(te.includes("-")?te.split("-")[0]:te).trim().toLowerCase()});return Array.from(new Set(I)).filter(Boolean).map(H=>H.charAt(0).toUpperCase()+H.slice(1).toLowerCase())},[a]),v=N.useMemo(()=>{const I={};return a.forEach(q=>{const H=q.make||"",te=q.model||"",re=(H.includes("-")?H.split("-")[0]:H).trim().toLowerCase();re&&(I[re]||(I[re]=[]),te&&!I[re].includes(te)&&I[re].push(te))}),I},[a]),S=N.useMemo(()=>{if(!o.make)return[];const I=o.make.trim().toLowerCase();return v[I]||[]},[o.make,v]),k=I=>{const q=I.toLowerCase();return{mercedes:"/logos/merc.svg","mercedes-benz":"/logos/merc.svg",bmw:"/logos/bmw.webp",audi:"/logos/audi.png",hyundai:"/logos/hyundai.png",maserati:"/logos/maserati.png",volkswagen:"/logos/volkswagen-1-logo-black-and-white.png",vw:"/logos/volkswagen-1-logo-black-and-white.png",lincoln:"/logos/lincoln.png",porsche:"/logos/porsche.png"}[q]||null},j=I=>{const q=I.toLowerCase();return q==="audi"||q==="maserati"||q==="lincoln"||q==="porsche"?"w-6 h-6":"w-4 h-4"},C=()=>{u(!1),f(!1),x(!1),y(!1)},z=I=>{if(I==="location"&&c||I==="date"&&d||I==="make"&&p||I==="model"&&g){C();return}C(),I==="location"?u(!0):I==="date"?f(!0):I==="make"?x(!0):I==="model"&&y(!0)};tt.useEffect(()=>{const I=q=>{q.target.closest(".dropdown-container")||C()};return(c||d||p||g)&&document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[c,d,p,g]);const $=(I,q)=>{l(H=>{const te={...H,[I]:q};if(I==="make"){const O=q;if(O&&H.model){const re=O.trim().toLowerCase();(v[re]||[]).some(L=>L.toLowerCase()===H.model.toLowerCase())||(te.model="")}else O||(te.model="")}return te})},F=I=>{const{startDate:q,endDate:H}=o.dateRange;if(!q){$("dateRange",{startDate:I,endDate:""});return}H?I<q?$("dateRange",{startDate:I,endDate:""}):($("dateRange",{startDate:q,endDate:I}),setTimeout(()=>C(),200)):I<q?$("dateRange",{startDate:I,endDate:""}):I>=q&&($("dateRange",{startDate:q,endDate:I}),setTimeout(()=>C(),200))},V=()=>{const I=new URLSearchParams;o.make&&I.set("make",o.make),o.model&&I.set("model",o.model),o.location&&I.set("location",o.location),o.dateRange.startDate&&I.set("startDate",o.dateRange.startDate),o.dateRange.endDate&&I.set("endDate",o.dateRange.endDate);const q=I.toString();r(`/cars${q?`?${q}`:""}`)};return i.jsxs("section",{className:"relative h-[725px] pt-36 font-sans bg-white",children:[i.jsx("div",{className:"hidden lg:block absolute inset-0 overflow-hidden",style:{zIndex:0},children:i.jsx("img",{src:"/lvl_bg.png",alt:"Background",className:"w-full h-full object-cover",style:{position:"absolute",top:"-300px",left:0,width:"100%",height:"calc(100% + 300px)",objectFit:"cover",objectPosition:"center center",zIndex:0}})}),i.jsx("div",{className:"hidden md:block lg:hidden absolute inset-0 overflow-hidden",style:{zIndex:0},children:i.jsx("img",{src:"/lvl_bg.png",alt:"Background",className:"w-full h-full object-cover",style:{position:"absolute",top:"25px",left:0,width:"100%",height:"100%",objectFit:"cover",objectPosition:"center center",zIndex:0}})}),i.jsx("div",{className:"md:hidden absolute inset-0 overflow-hidden",style:{zIndex:0},children:i.jsx("img",{src:"/backgrounds/bg10-mobile.jpeg",alt:"Background",className:"w-full h-full object-cover",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0}})}),i.jsx("div",{className:"absolute inset-0 bg-black/60",style:{zIndex:1}}),i.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 overflow-visible relative z-10",children:i.jsx("div",{className:"flex items-center justify-center h-full lg:pt-24",children:i.jsx("div",{className:"text-center space-y-10 max-w-4xl",children:i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"space-y-6 ",children:[i.jsx("p",{className:"text-lg md:text-xl text-theme-500 font-semibold drop-shadow-md uppercase tracking-wide"}),i.jsx("h1",{className:"text-4xl md:text-4xl lg:text-5xl font-bold text-white leading-tight drop-shadow-lg",children:"Level Auto Rental"}),i.jsxs("p",{className:"text-lg md:text-xl text-white max-w-2xl mx-auto leading-relaxed drop-shadow-md",children:[e("hero.label"),i.jsxs("span",{className:"text-theme-500 font-medium block",children:[" ",e("hero.smallLabel")]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[i.jsxs("div",{className:"relative",children:[i.jsx(De.div,{className:"absolute inset-0 rounded-2xl border-2 border-red-400",animate:{scale:[1,1.05,1],opacity:[.8,0,.8]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),i.jsx("div",{className:"relative",children:i.jsxs(De.button,{className:"relative px-8 py-4 bg-theme-500 hover:bg-theme-600 text-white font-semibold rounded-2xl transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-2 overflow-hidden",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.open("tel:+37362000112","_self"),animate:{boxShadow:["0 4px 15px rgba(239, 68, 68, 0.3)","0 8px 25px rgba(239, 68, 68, 0.6)","0 4px 15px rgba(239, 68, 68, 0.3)"]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:[i.jsx(De.div,{animate:{rotate:[0,5,-5,0]},transition:{duration:1.2,repeat:1/0,ease:"easeInOut"},children:T5({className:"w-6 h-6"})}),e("hero.start")]})})]}),i.jsx("button",{className:"px-10 py-4 border-2 border-white hover:border-theme-500 text-white hover:text-theme-500 font-semibold rounded-2xl transition-all duration-300 transform hover:scale-105 bg-white/10 backdrop-blur-sm",onClick:()=>r("/cars"),children:e("hero.seeCars")})]})]})})})}),i.jsx("div",{className:"py-[0px] top-[140px] lg:top-[305px] -mt-10 md:-mt-28 relative z-20",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"bg-white backdrop-blur-sm rounded-3xl shadow-lg border border-white/20 dropdown-container",children:[i.jsxs("div",{className:"flex flex-col md:hidden space-y-4 p-4",children:[i.jsxs("div",{className:"w-full dropdown-container overflow-visible",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700 uppercase mb-2 tracking-wide",children:e("hero.make")}),i.jsxs("div",{className:"relative overflow-visible",children:[i.jsxs("div",{className:"w-full text-sm font-medium text-gray-900 bg-transparent border border-gray-200 rounded-xl py-3 px-4 cursor-pointer flex items-center gap-2",onClick:()=>z("make"),children:[o.make&&(()=>{const I=k(o.make.toLowerCase()),q=o.make.toLowerCase()==="porsche";return I?i.jsx("img",{src:I,alt:o.make,className:`${j(o.make)} object-contain ${q?"-ml-0.5":""}`,onError:H=>{H.target.style.display="none"}}):null})(),i.jsx("span",{className:"flex-1",children:o.make||e("hero.selectMake")}),i.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i.jsx(hr,{children:p&&i.jsx(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-2xl shadow-lg z-[100] min-w-[200px]",onClick:I=>I.stopPropagation(),children:i.jsx("div",{className:"py-1",children:w.map((I,q)=>{const H=k(I.toLowerCase()),te=q===0,O=q===w.length-1;return i.jsxs("div",{className:`px-4 py-2 text-sm cursor-pointer select-none border-b border-gray-100 last:border-b-0 transition-colors flex items-center gap-2 ${te?"rounded-t-2xl":""} ${O?"rounded-b-2xl":""} ${o.make===I?"text-gray-900 font-medium":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>{$("make",I),C()},children:[i.jsx("div",{className:"w-6 flex items-center justify-start flex-shrink-0",children:H&&i.jsx("img",{src:H,alt:I,className:`${j(I)} object-contain ${I.toLowerCase()==="porsche"?"-ml-0.5":""}`,onError:re=>{re.target.style.display="none"}})}),i.jsx("span",{children:I})]},I)})})})})]})]}),i.jsxs("div",{className:"w-full dropdown-container overflow-visible",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700 uppercase mb-2 tracking-wide",children:e("hero.model")}),i.jsxs("div",{className:"relative overflow-visible",children:[i.jsxs("div",{className:`w-full text-sm font-medium text-gray-900 bg-transparent border border-gray-200 rounded-xl py-3 px-4 cursor-pointer flex items-center gap-2 ${o.make?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>o.make&&z("model"),children:[i.jsx("span",{className:"flex-1",children:o.make?o.model||e("hero.selectModel"):e("hero.selectMake")}),i.jsx("svg",{className:`w-4 h-4 text-gray-400 ${o.make?"":"opacity-30"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i.jsx(hr,{children:g&&o.make&&i.jsx(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-2xl shadow-lg z-[100] min-w-[200px]",onClick:I=>I.stopPropagation(),children:i.jsx("div",{className:"py-1",children:S.length>0?S.map((I,q)=>{const H=q===0,te=q===S.length-1;return i.jsx("div",{className:`px-4 py-2 text-sm cursor-pointer select-none border-b border-gray-100 last:border-b-0 transition-colors ${H?"rounded-t-2xl":""} ${te?"rounded-b-2xl":""} ${o.model===I?"text-gray-900 font-medium":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>{$("model",I),C()},children:I},I)}):i.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"Nu sunt modele disponibile"})})})})]})]}),i.jsxs("div",{className:"w-full",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700 uppercase mb-2 tracking-wide",children:e("hero.location")}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 cursor-pointer hover:text-gray-700 transition-colors border border-gray-200 rounded-xl py-3 px-4",onClick:()=>z("location"),children:o.location||e("hero.searchLocation")}),i.jsx(hr,{children:c&&i.jsx(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-2xl shadow-lg z-[100] min-w-[200px]",onClick:I=>I.stopPropagation(),children:i.jsxs("div",{className:"py-1",children:[i.jsx("div",{className:"px-4 py-2 text-sm text-gray-700 cursor-pointer select-none border-b border-gray-100 last:border-b-0 hover:bg-gray-100 transition-colors rounded-t-2xl",onClick:()=>{$("location","Chisinau Airport"),C()},children:"Chisinau Airport"}),i.jsx("div",{className:"px-4 py-2 text-sm text-gray-700 cursor-pointer select-none border-b border-gray-100 last:border-b-0 hover:bg-gray-100 transition-colors rounded-b-2xl",onClick:()=>{$("location","Chisinau"),C()},children:"Chisinau"})]})})})]})]}),i.jsxs("div",{className:"w-full hidden",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700 uppercase mb-2 tracking-wide",children:"Perioad"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 cursor-pointer hover:text-gray-700 transition-colors border border-gray-200 rounded-xl py-3 px-4",onClick:()=>z("date"),children:K(o.dateRange)||"Selecteaz perioada"}),i.jsx(hr,{children:d&&i.jsxs(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-2xl shadow-lg z-50 p-3 min-w-[280px]",onClick:I=>I.stopPropagation(),children:[i.jsx("div",{className:"mb-3 px-2 py-1.5 bg-gray-50 rounded-xl border border-gray-100",children:i.jsx("p",{className:"text-xs text-gray-600",children:o.dateRange.startDate?o.dateRange.endDate?"Clic pentru a schimba perioada":"Selecteaz data de sfrit":"Selecteaz data de nceput"})}),i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("button",{onClick:()=>{const I=o.dateRange.startDate||n,q=new Date(I);q.setMonth(q.getMonth()-1),l(H=>({...H,dateRange:{...H.dateRange,startDate:q.toISOString().split("T")[0]}}))},className:"p-1 hover:bg-gray-100 rounded-xl transition-colors",children:i.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsx("div",{className:"text-sm font-medium text-gray-700",children:new Date(o.dateRange.startDate||n).toLocaleDateString("en-US",{month:"long",year:"numeric"})}),i.jsx("button",{onClick:()=>{const I=o.dateRange.startDate||n,q=new Date(I);q.setMonth(q.getMonth()+1),l(H=>({...H,dateRange:{...H.dateRange,startDate:q.toISOString().split("T")[0]}}))},className:"p-1 hover:bg-gray-100 rounded-xl transition-colors",children:i.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),i.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(I=>i.jsx("div",{className:"text-gray-500 font-medium",children:I},I))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:T(new Date(o.dateRange.startDate||n)).map((I,q)=>{if(!I)return i.jsx("div",{},q);const H=new Date(I),te=I,O=o.dateRange.startDate&&M(H,new Date(o.dateRange.startDate)),re=o.dateRange.endDate&&M(H,new Date(o.dateRange.endDate)),Y=o.dateRange.startDate&&o.dateRange.endDate&&te>=o.dateRange.startDate&&te<=o.dateRange.endDate,P=O||re;return i.jsx("div",{className:`w-8 h-8 flex items-center justify-center text-xs cursor-pointer rounded-xl transition-colors ${I?"text-gray-700":"text-gray-300"} ${P?"bg-theme-500 text-white hover:bg-theme-600 font-medium":Y?"bg-gray-100 text-gray-900 hover:bg-gray-200":"hover:bg-gray-100"}`,onClick:()=>{F(I)},children:new Date(I).getDate()},q)})})]})})]})]}),i.jsx("div",{className:"w-full",children:i.jsxs(Kf,{onClick:V,className:"w-full bg-theme-500 hover:bg-theme-600 text-white py-5 px-8 rounded-2xl text-base font-semibold flex items-center justify-center gap-2",children:[i.jsx(pc,{className:"w-4 h-4 stroke-2"}),e("hero.search")]})})]}),i.jsxs("div",{className:"hidden md:flex",children:[i.jsxs("div",{className:"flex-1 px-6 py-5 dropdown-container overflow-visible",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700 uppercase mb-2 tracking-wide",children:e("hero.make")}),i.jsxs("div",{className:"relative overflow-visible",children:[i.jsxs("div",{className:"w-full text-sm text-gray-500 bg-transparent border-none outline-none cursor-pointer hover:text-gray-700 transition-colors pr-8 flex items-center gap-2",onClick:()=>z("make"),children:[o.make&&(()=>{const I=k(o.make.toLowerCase()),q=o.make.toLowerCase()==="porsche";return I?i.jsx("img",{src:I,alt:o.make,className:`${j(o.make)} object-contain ${q?"-ml-0.5":""}`,onError:H=>{H.target.style.display="none"}}):null})(),i.jsx("span",{className:"flex-1",children:o.make||e("hero.selectMake")})]}),i.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),i.jsx(hr,{children:p&&i.jsx(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-2xl shadow-lg z-[100] min-w-[200px]",onClick:I=>I.stopPropagation(),children:i.jsx("div",{className:"py-1",children:w.map((I,q)=>{const H=k(I.toLowerCase()),te=q===0,O=q===w.length-1;return i.jsxs("div",{className:`px-4 py-2 text-sm cursor-pointer select-none border-b border-gray-100 last:border-b-0 transition-colors flex items-center gap-2 ${te?"rounded-t-2xl":""} ${O?"rounded-b-2xl":""} ${o.make===I?"text-gray-900 font-medium":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>{$("make",I),C()},children:[i.jsx("div",{className:"w-6 flex items-center justify-start flex-shrink-0",children:H&&i.jsx("img",{src:H,alt:I,className:`${j(I)} object-contain ${I.toLowerCase()==="porsche"?"-ml-0.5":""}`,onError:re=>{re.target.style.display="none"}})}),i.jsx("span",{children:I})]},I)})})})})]})]}),i.jsx("div",{className:"w-px bg-gray-200 my-4"}),i.jsxs("div",{className:"flex-1 px-6 py-5 dropdown-container overflow-visible",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700 uppercase mb-2 tracking-wide",children:e("hero.model")}),i.jsxs("div",{className:"relative overflow-visible",children:[i.jsx("div",{className:`w-full text-sm text-gray-500 bg-transparent border-none outline-none cursor-pointer hover:text-gray-700 transition-colors pr-8 flex items-center gap-2 ${o.make?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>o.make&&z("model"),children:i.jsx("span",{className:"flex-1",children:o.make?o.model||e("hero.selectModel"):e("hero.selectMake")})}),i.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",children:i.jsx("svg",{className:`w-4 h-4 ${o.make?"":"opacity-30"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),i.jsx(hr,{children:g&&o.make&&i.jsx(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-2xl shadow-lg z-[100] min-w-[200px]",onClick:I=>I.stopPropagation(),children:i.jsx("div",{className:"py-1",children:S.length>0?S.map((I,q)=>{const H=q===0,te=q===S.length-1;return i.jsx("div",{className:`px-4 py-2 text-sm cursor-pointer select-none border-b border-gray-100 last:border-b-0 transition-colors ${H?"rounded-t-2xl":""} ${te?"rounded-b-2xl":""} ${o.model===I?"text-gray-900 font-medium":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>{$("model",I),C()},children:I},I)}):i.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"Nu sunt modele disponibile"})})})})]})]}),i.jsx("div",{className:"w-px bg-gray-200 my-4"}),i.jsxs("div",{className:"flex-1 px-6 py-5 dropdown-container overflow-visible",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700 uppercase mb-2 tracking-wide",children:"Locaie"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"text-sm text-gray-500 cursor-pointer hover:text-gray-700 transition-colors pr-8",onClick:()=>z("location"),children:o.location||e("hero.searchLocation")}),i.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),i.jsx(hr,{children:c&&i.jsx(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-2xl shadow-lg z-[100] min-w-[200px]",onClick:I=>I.stopPropagation(),children:i.jsxs("div",{className:"py-1",children:[i.jsx("div",{className:"px-4 py-2 text-sm text-gray-700 cursor-pointer select-none border-b border-gray-100 last:border-b-0 hover:bg-gray-100 transition-colors rounded-t-2xl",onClick:()=>{$("location","Chisinau Airport"),C()},children:"Chisinau Airport"}),i.jsx("div",{className:"px-4 py-2 text-sm text-gray-700 cursor-pointer select-none border-b border-gray-100 last:border-b-0 hover:bg-gray-100 transition-colors rounded-b-2xl",onClick:()=>{$("location","Chisinau"),C()},children:"Chisinau"})]})})})]})]}),i.jsx("div",{className:"w-px bg-gray-200 my-4"}),i.jsx("div",{className:"flex-1 px-6 py-5 flex items-center",children:i.jsxs(Kf,{onClick:V,className:"w-full h-full bg-theme-500 hover:bg-theme-600 text-white py-3 px-6 rounded-2xl font-medium flex items-center justify-center gap-2",children:[i.jsx(pc,{className:"w-3.5 h-3.5 stroke-2"}),e("hero.search")]})})]})]})})})]});function B(I){if(!I)return"";const q=new Date(I),H=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],te=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return`${H[q.getDay()]} ${q.getDate()} ${te[q.getMonth()]}`}function K(I){return!I.startDate&&!I.endDate?"":I.endDate?I.startDate?`${B(I.startDate)} - ${B(I.endDate)}`:B(I.endDate):B(I.startDate)}function T(I){const q=I.getFullYear(),H=I.getMonth(),te=new Date(q,H,1),O=new Date(te);O.setDate(O.getDate()-te.getDay());const re=[],Y=new Date(O);for(let P=0;P<42;P++)Y.getMonth()===H?re.push(Y.toISOString().split("T")[0]):re.push(null),Y.setDate(Y.getDate()+1);return re}function M(I,q){return I.getFullYear()===q.getFullYear()&&I.getMonth()===q.getMonth()&&I.getDate()===q.getDate()}},yX=[{id:"1",name:"Vasile Popescu",userName:"Vasile Popescu",rating:5,comment:"pages.reviews.home-page.1",location:"Chiinu, Moldova",product:{name:"Mercedes-AMG C43",images:[]}},{id:"2",name:"Mihai Cernat",userName:"MC",rating:5,comment:"pages.reviews.home-page.2",location:"Bli, Moldova",product:{name:"Mercedes GLE",images:[]}},{id:"3",name:"Emil Dusu",userName:"Emil Dusu",rating:4,comment:"pages.reviews.home-page.3",location:"Tiraspol, Moldova",product:{name:"Mercedes CLS",images:[]}},{id:"4",name:"David Munteanu",userName:"David Munteanu",rating:5,comment:"pages.reviews.home-page.4",location:"Orhei, Moldova",product:{name:"Maserati Ghibli",images:[]}},{id:"5",name:"Ion Grosu",userName:"Ion Grosu",rating:5,comment:"pages.reviews.home-page.5",location:", ",product:{name:"Audi Q7",images:[]}},{id:"6",name:"Petru Rotaru",userName:"Petru Rotaru",rating:4,comment:"pages.reviews.home-page.6",location:"Tiraspol, Moldova",product:{name:"Hyundai Santa Fe",images:[]}}],bX=()=>i.jsx("style",{dangerouslySetInnerHTML:{__html:`
    .slick-slider {
      position: relative;
      display: block;
      box-sizing: border-box;
      user-select: none;
      touch-action: pan-y;
    }
    
    .slick-list {
      position: relative;
      display: block;
      overflow: hidden;
      margin: 0;
      padding: 0;
    }
    
    .slick-track {
      position: relative;
      top: 0;
      left: 0;
      display: flex;
      margin-left: auto;
      margin-right: auto;
    }
    
    .slick-slide {
      display: none;
      height: 100%;
      min-height: 1px;
    }
    
    .slick-slide.slick-active {
      display: block;
    }
    
    .slick-initialized .slick-slide {
      display: block;
    }
    
    .slick-slide > div {
      transition: transform 0.5s ease-in-out;
      position: relative;
      z-index: 1;
    }
    
    .slick-slide > div > div {
      position: relative;
      z-index: 1;
    }
    
    .slick-center > div {
      transform: translateY(-32px);
      z-index: 10;
    }
    
    .slick-active > div {
      z-index: 5;
    }
    
    @media (max-width: 768px) {
      .slick-center > div {
        transform: translateY(0);
      }
      .slick-slide {
        width: 100% !important;
        flex: 0 0 100% !important;
      }
      .slick-track {
        width: 100% !important;
        display: flex !important;
      }
      .slick-list {
        overflow: hidden !important;
      }
    }
  `}}),wX=({review:e})=>{var o,l;const{t:r}=mr(),n=N.useRef(null),[a,s]=N.useState(((l=(o=e.product.images)==null?void 0:o[0])==null?void 0:l.url)||"");return N.useEffect(()=>{(async()=>{if(e.product.name)try{const{mainImage:u}=await ia(e.product.name);u&&s(u)}catch(u){console.error("Error fetching testimonial car image:",u)}})()},[e.product.name]),N.useEffect(()=>{const c=n.current;if(!c)return;const u=f=>{const p=c.getBoundingClientRect(),x=f.clientX-p.left,g=f.clientY-p.top,y=p.width/2,w=p.height/2,v=(g-w)/15,S=(y-x)/15;c.style.transform=`
        perspective(1000px) 
        rotateX(${v}deg) 
        rotateY(${S}deg) 
        translateY(-10px)
      `},d=()=>{c.style.transform="perspective(1000px) rotateX(0) rotateY(0) translateY(0)"};return c.addEventListener("mousemove",u),c.addEventListener("mouseleave",d),()=>{c.removeEventListener("mousemove",u),c.removeEventListener("mouseleave",d)}},[]),i.jsxs("div",{ref:n,className:"relative w-full h-[450px] cursor-pointer rounded-[20px] shadow-md transition-all duration-500 overflow-hidden border border-red-500/10 hover:border-red-500/20 my-14",style:{transformStyle:"preserve-3d",transition:"all 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundImage:`url(${a})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",zIndex:10,isolation:"isolate"},children:[i.jsx("div",{className:"absolute inset-0 bg-black/80 z-0"}),i.jsx("div",{className:"absolute top-6 right-6 opacity-5 group-hover:opacity-15 transition-opacity duration-300",children:i.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h4v10h-10z"})})}),i.jsxs("div",{className:"relative z-50 p-8 flex flex-col h-full",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:a,alt:e.product.name,className:"w-16 h-16 object-cover rounded-xl border-2 shadow-sm"}),i.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-red-500 rounded-full border-2 flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:""})})]}),i.jsx("div",{className:"flex-grow",children:i.jsx("div",{className:"text-sm font-bold transition-colors duration-200 truncate cursor-pointer text-white",children:e.product.name})})]})}),i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((c,u)=>i.jsx("svg",{className:`w-5 h-5 ${u<e.rating?"text-yellow-400":"text-gray-200"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},u))}),i.jsxs("span",{className:"ml-3 text-sm font-medium text-white",children:["(",e.rating,".0)"]})]}),i.jsx("div",{className:"flex-grow mb-6",children:i.jsx("p",{className:"text-base leading-relaxed font-medium text-white",children:r(e.comment)})}),i.jsxs("div",{className:"flex items-center pt-4 border-t",children:[i.jsxs("div",{className:"relative mr-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center border bg-gradient-to-br from-gray-100 to-gray-200 border-gray-200",children:i.jsx("span",{className:"font-bold text-sm text-gray-600",children:e.userName.split(" ").map(c=>c[0]).join("")})}),i.jsx("div",{className:"absolute -bottom-[-1px] -right-[-1px] w-3 h-3 bg-red-500 rounded-full border border-white"})]}),i.jsxs("div",{className:"flex-grow",children:[i.jsx("h4",{className:"font-bold text-base mb-1 text-white",children:e.userName}),i.jsx("p",{className:"text-sm font-medium text-white",children:r("testimonials.verifiedClient")})]})]})]})]})},jX=({testimonials:e,showArrows:r=!0,autoplay:n=!1,autoplaySpeed:a=4e3})=>{const s=N.useRef(null),[o,l]=tt.useState(!1);N.useEffect(()=>{const u=()=>{l(window.innerWidth<=768)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),N.useEffect(()=>{s.current&&s.current.slickGoTo(0)},[o]);const c={dots:!1,arrows:!1,infinite:!0,speed:700,slidesToShow:o?1:3,slidesToScroll:1,autoplay:n,autoplaySpeed:a,pauseOnHover:!0,centerMode:o?!1:!n,centerPadding:"0px",cssEase:"ease-out",useCSS:!0,useTransform:!0,swipeToSlide:!0,touchMove:!0};return i.jsxs("div",{className:"relative",children:[i.jsx(bX,{}),i.jsx(IT,{ref:s,...c,children:e.map(u=>i.jsx("div",{className:"px-3",children:i.jsx(wX,{review:u})},u.id))},o?"mobile":"desktop"),r&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>{var u;return(u=s.current)==null?void 0:u.slickPrev()},className:"hidden md:block absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-32 z-10 w-14 h-14 rounded-full shadow-sm transition-all duration-300 bg-white border-2 border-gray-200 hover:border-red-500 hover:bg-red-500 text-gray-600 hover:text-white group",children:i.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:"mx-auto transition-transform duration-300 group-hover:-translate-x-0.5",children:i.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),i.jsx("button",{onClick:()=>{var u;return(u=s.current)==null?void 0:u.slickNext()},className:"hidden md:block absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-32 z-10 w-14 h-14 rounded-full shadow-sm transition-all duration-300 bg-white border-2 border-gray-200 hover:border-red-500 hover:bg-red-500 text-gray-600 hover:text-white group",children:i.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:"mx-auto transition-transform duration-300 group-hover:translate-x-0.5",children:i.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})})})]})]})},NX=()=>{const{t:e}=mr();return i.jsx("section",{className:"relative py-0 mt-10 bg-gray-50",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("span",{className:"text-sm font-semibold tracking-wider text-red-500 uppercase bg-gradient-to-r from-red-500 to-red-600 bg-clip-text",children:e("testimonials.sectionLabel")}),i.jsx("h2",{className:"mt-3 text-3xl md:text-5xl font-bold text-gray-800 leading-tight max-w-3xl mx-auto",children:e("testimonials.sectionTitle")}),i.jsx("p",{className:"mt-4 text-lg text-gray-600 max-w-2xl mx-auto",children:e("testimonials.sectionDescription")})]}),i.jsx(jX,{testimonials:yX,showArrows:!0,autoplay:!0,autoplaySpeed:4e3})]})})},_X=()=>{const e=Pn(),r=[{src:"/logos/audi.png",alt:"Audi",filter:"Audi"},{src:"/logos/bmw.webp",alt:"BMW",filter:"BMW"},{src:"/logos/hyundai.png",alt:"Hyundai",filter:"Hyundai"},{src:"/logos/maserati.png",alt:"Maserati",filter:"Maserati"},{src:"/logos/merc.svg",alt:"Mercedes-Benz",filter:"Mercedes"},{src:"/logos/lincoln.png",alt:"Lincoln",filter:"Lincoln"},{src:"/logos/volkswagen-1-logo-black-and-white.png",alt:"Volkswagen",filter:"Volkswagen"},{src:"/logos/porsche.png",alt:"Porsche",filter:"Porsche"}],n=s=>{const o=s.toLowerCase();return o==="audi"?"h-[67px] md:h-[53px]":o==="hyundai"?"h-[41px] md:h-[54px]":o==="volkswagen"||o==="lincoln"?"h-[63px] md:h-[84px]":o==="mercedes-benz"||o==="mercedes"?"h-[61px] md:h-[91px]":"h-16 md:h-24"},a=s=>{e(`/cars?make=${s}`)};return i.jsx("section",{className:"lg:py-16 py-0 mt-[280px] lg:mt-20 w-full",children:i.jsx("div",{className:"w-full",children:i.jsxs("div",{className:"marquee",children:[i.jsx("ul",{className:"marquee__content",children:r.map((s,o)=>i.jsx("li",{className:"mx-8 md:mx-12 lg:mx-4",children:i.jsx("img",{src:s.src,alt:s.alt,onClick:()=>a(s.filter),className:`${n(s.alt)} w-auto object-contain grayscale hover:grayscale-0 transition-all duration-300 cursor-pointer`})},o))}),i.jsx("ul",{className:"marquee__content","aria-hidden":"true",children:r.map((s,o)=>i.jsx("li",{className:"mx-8 md:mx-12 lg:mx-4",children:i.jsx("img",{src:s.src,alt:s.alt,onClick:()=>a(s.filter),className:`${n(s.alt)} w-auto object-contain grayscale hover:grayscale-0 transition-all duration-300 cursor-pointer`})},`duplicate-${o}`))})]})})})};function JT(e){return _o({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M285.628 42.475c-39.602 0-73 28.513-73 65 0 18.43 8.528 34.82 22.066 46.533l8.473-16.67c-7.876-8.202-12.54-18.667-12.54-29.863 0-25.37 23.91-47 55-47s55 21.63 55 47c0 17.403-11.253 33.046-28.356 41.154l-7.482 21.556c1.9-.462 3.774-.986 5.613-1.58l9.158 16.013c-10.326 7.263-20.32 16.266-31.034 27.472l81.35 179.392c50.265 2.318 98.764-24.335 123.754-68.01L385.8 158.635c-20.166 4.027-36.39 9.054-50.875 16.598l-8.09-14.144c19.057-11.615 31.793-31.09 31.793-53.613 0-36.487-33.398-65-73-65zm-122.666 5.947c-2.66.03-5.454.47-8.152 1.348-6.17 2.004-11.39 6.134-13.66 10.59l-.288.57-64.904 92.297c-2.135 4.452-2.382 10.947-.457 16.97 1.97 6.157 6.045 11.305 10.202 13.422l143.682 73.16c4.072 2.075 10.59 2.405 16.648.427 5.945-1.94 10.996-5.885 13.403-10.492l25.36-74.26c.05 0 .1.003.15.004l6.327-18.23c-.086.008-.175.01-.26.018l4.905-14.365.29-.568c2.27-4.456 2.54-11.12.55-17.282-1.99-6.162-6.1-11.355-10.434-13.562l-32.078-16.333c-6.543 8.178-8.55 19.868-.346 30.87l2.11 3.532 10.288 5.4-8.256 16.214-.146-.07-8.118 15.97c.045.023.09.043.135.065l-6.303 12.376-101.59-51.728 18.606-36.538 4.082-8.02 30.854 15.712c1.556-9.81 4.922-19.248 10.335-28.404L172.103 50.31c-2.514-1.28-5.72-1.925-9.14-1.888zm217.928 131.38l24.082 43.82-71.864 39.49-19.748-35.93-4.334-7.887 71.864-39.492zm-7.106 24.444L333.472 226.4l6.742 12.27 40.312-22.154-6.742-12.27zM114.5 218.482L93.63 259.475l69.508 35.392 20.873-40.992-69.51-35.393zm297.214 17.41l24.08 43.817-71.863 39.49-19.745-35.93-4.334-7.887 71.864-39.492zm-7.106 24.442l-40.314 22.154 6.744 12.27 40.313-22.154-6.742-12.27zM99.72 282.774h-.002L18.372 442.53l6.123 18.83 77.264-151.737 16.038 8.168-77.262 151.735 22.375-7.275 12.968-4.217-6.986-21.556 21.496-6.97L83.392 408l21.52-6.998-5.37-16.504 41.17-80.852-40.992-20.873z"},child:[]}]})(e)}const SX=({icon:e,className:r})=>tt.createElement(e,{className:r}),kX=()=>{const e=Pn(),{t:r}=mr(),n=[{id:"reservation",icon:JT,title:r("howToRent.journey.reservation.title"),description:r("howToRent.journey.reservation.description"),highlight:!0},{id:"airport",icon:MO,title:r("howToRent.journey.airport.title"),description:r("howToRent.journey.airport.description"),highlight:!1},{id:"handover",icon:L0,title:r("howToRent.journey.handover.title"),description:r("howToRent.journey.handover.description"),highlight:!1},{id:"departure",icon:yN,title:r("howToRent.journey.departure.title"),description:r("howToRent.journey.departure.description"),highlight:!1}];return i.jsxs("section",{className:"relative py-20 mb-40",children:[i.jsx("div",{className:"hidden lg:block absolute inset-0",style:{backgroundImage:"url('/backgrounds/bg5-desktop.jpeg')",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",zIndex:0}}),i.jsx("div",{className:"hidden md:block lg:hidden absolute inset-0",style:{backgroundImage:"url('/lvl_bg.png')",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",zIndex:0}}),i.jsx("div",{className:"md:hidden absolute inset-0 overflow-hidden",style:{zIndex:0},children:i.jsx("img",{src:"/backgrounds/bg6-mobile.jpeg",alt:"Background",className:"w-full h-full object-cover",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0}})}),i.jsx("div",{className:"absolute inset-0 bg-black/60"}),i.jsxs("div",{className:"relative max-w-[1600px] mx-auto",children:[i.jsxs(De.div,{variants:Ra,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"text-center mb-16",children:[i.jsx(De.span,{variants:jr,className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:r("howToRent.sectionLabel")}),i.jsx(De.h2,{variants:jr,className:"mt-4 text-3xl md:text-5xl font-bold text-white leading-tight max-w-4xl mx-auto drop-shadow-lg px-4 md:px-0",children:r("howToRent.pageTitle")})]}),i.jsxs(De.div,{variants:Ra,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"lg:max-w-9xl mx-[30px] lg:mx-auto",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"hidden lg:block absolute top-1/2 left-0 right-0 h-0.5 bg-gradient-to-r from-red-500/50 via-red-500 to-red-500/50 transform -translate-y-1/2 z-0"}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 lg:gap-[150px] relative z-10",children:n.map((a,s)=>i.jsxs(De.div,{variants:jr,className:"relative",children:[i.jsxs("div",{className:`bg-white/10 backdrop-blur-md rounded-3xl p-6 md:p-8 border border-white/20 hover:bg-white/20 transition-all duration-300 h-full lg:w-[140%] lg:-ml-[20%] cursor-pointer ${a.highlight?"ring-2 ring-red-500/50 shadow-2xl shadow-red-500/20":""}`,onClick:()=>e("/cars"),children:[i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx(De.div,{whileHover:{scale:1.1,rotate:5},transition:{duration:.2},className:`inline-flex h-16 w-16 items-center justify-center rounded-full ${a.highlight?"bg-red-500 shadow-lg shadow-red-500/50":"bg-white/20"}`,children:i.jsx(SX,{icon:a.icon,className:"w-8 h-8 text-white"})})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:`text-xl font-bold mb-4 leading-tight ${a.highlight,"text-white"}`,children:a.title}),i.jsx("p",{className:"text-gray-200 text-sm leading-relaxed",children:a.description})]})]}),s<n.length-1&&i.jsx("div",{className:"hidden lg:block absolute top-1/2 -right-[75px] transform -translate-y-1/2 z-20",children:i.jsx(De.div,{initial:{x:-10,opacity:0},whileInView:{x:0,opacity:1},transition:{delay:.5+s*.2},className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center shadow-lg",children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})})]},a.id))})]}),i.jsx(De.div,{variants:jr,className:"text-center mt-12 lg:mt-16",children:i.jsx("div",{className:"inline-flex items-center justify-center bg-gradient-to-r from-red-500 to-red-600 rounded-full px-4 py-3 md:px-8 md:py-4 shadow-2xl",children:i.jsx("span",{className:"text-white font-bold text-sm md:text-lg",children:r("howToRent.tagline")})})})]})]})]})},CX=()=>i.jsxs("div",{children:[i.jsx(vX,{}),i.jsx(_X,{}),i.jsx(mX,{}),i.jsx(kX,{}),i.jsx(NX,{}),i.jsx(xX,{})]}),PX=({icon:e,className:r})=>tt.createElement(e,{className:r}),EX=()=>{const e=Pn(),{t:r}=mr(),n=[{id:"reservation",icon:JT,title:r("howToRent.journey.reservation.title"),description:r("howToRent.journey.reservation.description"),highlight:!0},{id:"airport",icon:MO,title:r("howToRent.journey.airport.title"),description:r("howToRent.journey.airport.description"),highlight:!1},{id:"handover",icon:L0,title:r("howToRent.journey.handover.title"),description:r("howToRent.journey.handover.description"),highlight:!1},{id:"departure",icon:yN,title:r("howToRent.journey.departure.title"),description:r("howToRent.journey.departure.description"),highlight:!1}];return i.jsxs("div",{className:"relative min-h-screen",children:[i.jsx("div",{className:"hidden lg:block absolute inset-0",style:{backgroundImage:"url('/backgrounds/bg5-desktop.jpeg')",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",zIndex:0}}),i.jsx("div",{className:"hidden md:block lg:hidden absolute inset-0",style:{backgroundImage:"url('/lvl_bg.png')",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",zIndex:0}}),i.jsx("div",{className:"md:hidden absolute inset-0 overflow-hidden",style:{zIndex:0},children:i.jsx("img",{src:"/backgrounds/bg6-mobile.jpeg",alt:"Background",className:"w-full h-full object-cover",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0}})}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-black/65 to-black/75"}),i.jsxs("div",{className:"relative max-w-[1600px] mx-auto pt-[100px] pb-20",children:[i.jsxs(De.div,{variants:Ra,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"text-center mb-16",children:[i.jsx(De.span,{variants:jr,className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:r("howToRent.sectionLabel")}),i.jsx(De.h2,{variants:jr,className:"mt-4 text-3xl md:text-5xl font-bold text-white leading-tight max-w-4xl mx-auto drop-shadow-lg px-4 md:px-0",children:r("howToRent.pageTitle")})]}),i.jsxs(De.div,{variants:Ra,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"lg:max-w-9xl mx-[30px] lg:mx-auto mb-16",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"hidden lg:block absolute top-1/2 left-0 right-0 h-0.5 bg-gradient-to-r from-red-500/50 via-red-500 to-red-500/50 transform -translate-y-1/2 z-0"}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 lg:gap-[150px] relative z-10",children:n.map((a,s)=>i.jsxs(De.div,{variants:jr,className:"relative",children:[i.jsxs("div",{className:`bg-white/10 backdrop-blur-md rounded-3xl p-6 md:p-8 border border-white/20 hover:bg-white/20 transition-all duration-300 h-full lg:w-[140%] lg:-ml-[20%] cursor-pointer ${a.highlight?"ring-2 ring-red-500/50 shadow-2xl shadow-red-500/20":""}`,onClick:()=>e("/cars"),children:[i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx(De.div,{whileHover:{scale:1.1,rotate:5},transition:{duration:.2},className:`inline-flex h-16 w-16 items-center justify-center rounded-full ${a.highlight?"bg-red-500 shadow-lg shadow-red-500/50":"bg-white/20"}`,children:i.jsx(PX,{icon:a.icon,className:"w-8 h-8 text-white"})})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:`text-xl font-bold mb-4 leading-tight ${a.highlight,"text-white"}`,children:a.title}),i.jsx("p",{className:"text-gray-200 text-sm leading-relaxed",children:a.description})]})]}),s<n.length-1&&i.jsx("div",{className:"hidden lg:block absolute top-1/2 -right-[75px] transform -translate-y-1/2 z-20",children:i.jsx(De.div,{initial:{x:-10,opacity:0},whileInView:{x:0,opacity:1},transition:{delay:.5+s*.2},className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center shadow-lg",children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})})]},a.id))})]}),i.jsx(De.div,{variants:jr,className:"text-center mt-12 lg:mt-16",children:i.jsx("div",{className:"inline-flex items-center justify-center bg-gradient-to-r from-red-500 to-red-600 rounded-full px-4 py-3 md:px-8 md:py-4 shadow-2xl",children:i.jsx("span",{className:"text-white font-bold text-sm md:text-lg",children:r("howToRent.tagline")})})})]}),i.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8",children:i.jsx(TN,{transparent:!0})})]}),i.jsx("div",{className:"absolute bottom-0 left-0 w-full h-40 bg-[linear-gradient(to_top,rgba(15,15,15,1),rgba(15,15,15,0))] z-20 pointer-events-none"})]})},AX=()=>{const{t:e}=mr(),[r,n]=N.useState(!1);N.useEffect(()=>{const o=()=>{n(window.innerWidth>=768)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const a=o=>{const l=o!=="intro";return{icon:o==="intro"?nu:o==="cookies"?DO:o==="personal-data"?fd:o==="location"?am:o==="payment"?LO:AO,title:e(`pages.terms.sections.${o}.title`),description:l?null:e(`pages.terms.sections.${o}.description`),bullets:l?[e(`pages.terms.sections.${o}.bullet1`),e(`pages.terms.sections.${o}.bullet2`),e(`pages.terms.sections.${o}.bullet3`),e(`pages.terms.sections.${o}.bullet4`)].filter(Boolean):null,key:o}},s=["intro","cookies","personal-data","notifications"].map(a);return i.jsxs("div",{className:"min-h-screen",children:[i.jsxs("section",{className:"relative h-[500px] bg-fixed bg-cover bg-center bg-no-repeat pt-36 font-sans text-white",style:{backgroundImage:r?"url(/lvl_bg.png)":"url(/backgrounds/bg10-mobile.jpeg)",backgroundPosition:r?"center -400px":"center center",backgroundSize:r?"115%":"cover"},children:[i.jsx("div",{className:"absolute inset-0 bg-black/70"}),i.jsx("div",{className:`absolute bottom-0 left-0 w-full h-40 
                    bg-[linear-gradient(to_top,rgba(15,15,15,1),rgba(15,15,15,0))] 
                    z-10 pointer-events-none`}),i.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 overflow-visible relative z-10",children:i.jsx("div",{className:"flex items-center justify-center h-full pt-16",children:i.jsx("div",{className:"text-center space-y-10 max-w-4xl",children:i.jsx("div",{className:"space-y-8",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("p",{className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:e("pages.terms.hero.label")}),i.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-white leading-tight drop-shadow-lg",children:e("pages.terms.hero.title")})]})})})})})]}),i.jsx("section",{className:"py-20 bg-gradient-to-b from-gray-50 to-white",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsx(De.div,{variants:Ra,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"space-y-8",children:s.map(o=>i.jsx(De.div,{variants:jr,className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 md:p-8 hover:shadow-lg transition-all duration-300",children:i.jsxs("div",{className:"flex items-start gap-3 md:gap-6",children:[i.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-b from-red-500 to-red-600 flex items-center justify-center flex-shrink-0",children:i.jsx(o.icon,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-3 break-words",children:o.title}),o.description?i.jsx("p",{className:"text-gray-600 leading-relaxed text-sm md:text-base break-words hyphens-auto",children:o.description}):o.bullets?i.jsx("ul",{className:"space-y-3",children:o.bullets.map((l,c)=>i.jsxs("li",{className:"flex items-start gap-2 md:gap-3",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500 mt-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-600 leading-relaxed text-sm md:text-base break-words hyphens-auto flex-1 min-w-0",children:l})]},c))}):null]})]})},o.key))})})})]})},DX=()=>{const[e,r]=N.useState(null),{ref:n,isInView:a}=ym(),{t:s}=mr(),o=Pn(),l=[{id:1,title:s("pages.faq.sections.booking.title"),items:[{id:"booking-1",question:s("pages.faq.sections.booking.questions.how-to-book"),answer:s("pages.faq.sections.booking.answers.how-to-book")},{id:"booking-2",question:s("pages.faq.sections.booking.questions.modify-cancel"),answer:s("pages.faq.sections.booking.answers.modify-cancel")},{id:"booking-3",question:s("pages.faq.sections.booking.questions.account-required"),answer:s("pages.faq.sections.booking.answers.account-required")},{id:"booking-4",question:s("pages.faq.sections.booking.questions.advance-booking"),answer:s("pages.faq.sections.booking.answers.advance-booking")}]},{id:2,title:s("pages.faq.sections.requirements.title"),items:[{id:"policy-1",question:s("pages.faq.sections.requirements.questions.documents"),answer:s("pages.faq.sections.requirements.answers.documents")},{id:"policy-2",question:s("pages.faq.sections.requirements.questions.age-requirement"),answer:s("pages.faq.sections.requirements.answers.age-requirement")},{id:"policy-3",question:s("pages.faq.sections.requirements.questions.insurance"),answer:s("pages.faq.sections.requirements.answers.insurance")},{id:"policy-4",question:s("pages.faq.sections.requirements.questions.additional-driver"),answer:s("pages.faq.sections.requirements.answers.additional-driver")}]},{id:3,title:s("pages.faq.sections.payment.title"),items:[{id:"payment-1",question:s("pages.faq.sections.payment.questions.payment-methods"),answer:s("pages.faq.sections.payment.answers.payment-methods")},{id:"payment-2",question:s("pages.faq.sections.payment.questions.deposit"),answer:s("pages.faq.sections.payment.answers.deposit")},{id:"payment-3",question:s("pages.faq.sections.payment.questions.additional-fees"),answer:s("pages.faq.sections.payment.answers.additional-fees")},{id:"payment-4",question:s("pages.faq.sections.payment.questions.discounts"),answer:s("pages.faq.sections.payment.answers.discounts")}]},{id:4,title:s("pages.faq.sections.pickup.title"),items:[{id:"pickup-1",question:s("pages.faq.sections.pickup.questions.pickup-location"),answer:s("pages.faq.sections.pickup.answers.pickup-location")},{id:"pickup-2",question:s("pages.faq.sections.pickup.questions.different-return"),answer:s("pages.faq.sections.pickup.answers.different-return")},{id:"pickup-3",question:s("pages.faq.sections.pickup.questions.late-return"),answer:s("pages.faq.sections.pickup.answers.late-return")},{id:"pickup-4",question:s("pages.faq.sections.pickup.questions.refuel"),answer:s("pages.faq.sections.pickup.answers.refuel")}]}],c=u=>{r(e===u?null:u)};return i.jsx("section",{className:"py-20 bg-gradient-to-b from-gray-50 to-white",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsx(De.div,{ref:n,variants:Ra,initial:"initial",animate:a?"animate":"initial",className:"space-y-20",children:l.map(u=>i.jsxs(De.div,{variants:jr,className:"space-y-8",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 mb-4",children:u.title}),i.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-red-500 to-red-600 mx-auto rounded-full"})]}),i.jsx("div",{className:"grid gap-6",children:u.items.map(d=>i.jsxs(De.div,{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-lg transition-all duration-300 group",whileHover:{y:-2},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[i.jsxs("div",{className:"p-6 cursor-pointer flex items-center justify-between group",onClick:()=>c(d.id),children:[i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 group-hover:text-red-600 transition-colors duration-200 pr-4",children:d.question}),i.jsx("div",{className:"flex-shrink-0",children:i.jsx(De.div,{className:`w-10 h-10 rounded-full bg-gray-100 group-hover:bg-red-100 flex items-center justify-center transition-all duration-300 ${e===d.id?"bg-red-100":""}`,whileHover:{scale:1.1},whileTap:{scale:.95},children:i.jsx(by,{className:`w-5 h-5 text-gray-600 group-hover:text-red-600 transition-all duration-300 ${e===d.id?"rotate-180 text-red-600":""}`})})})]}),i.jsx(hr,{children:e===d.id&&i.jsx(De.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:i.jsx("div",{className:"px-6 pb-6",children:i.jsx("div",{className:"pt-4 border-t border-gray-100",children:i.jsx("div",{className:"text-gray-700 leading-relaxed text-base sm:text-lg prose prose-gray max-w-none",children:d.answer.includes("")?i.jsx("div",{className:"space-y-3",children:d.answer.split("").filter(f=>f.trim()).map((f,p)=>i.jsxs("div",{className:"flex items-start",children:[i.jsx("span",{className:"text-red-500 font-bold mr-3 flex-shrink-0 -mt-0.5",children:""}),i.jsx("div",{className:"flex-1",children:f.trim().split("\\n").map((x,g)=>i.jsx("div",{className:"mb-1",children:x.includes("**")?i.jsx("span",{dangerouslySetInnerHTML:{__html:x.replace(/\*\*(.*?)\*\*/g,'<strong class="font-semibold text-gray-900">$1</strong>')}}):i.jsx("span",{children:x})},g))})]},p))}):i.jsx("p",{children:d.answer})})})})})})]},d.id))})]},u.id))}),i.jsx(De.div,{variants:jr,className:"mt-20 flex justify-center",children:i.jsxs(De.div,{className:"bg-white rounded-3xl p-8 sm:p-12 shadow-xl border border-gray-100 max-w-4xl w-full relative overflow-hidden",whileHover:{y:-5,boxShadow:"0 25px 50px rgba(0,0,0,0.15)"},transition:{type:"spring",stiffness:300},children:[i.jsx("div",{className:"absolute inset-0 opacity-5"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-b from-red-500 to-red-600 shadow-lg",children:T5({className:"w-8 h-8 text-white"})})}),i.jsx("h3",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold mb-4 text-center text-gray-900",children:s("pages.faq.contact.title")}),i.jsx("p",{className:"text-gray-600 mb-8 text-base sm:text-lg lg:text-xl max-w-2xl mx-auto text-center leading-relaxed",children:s("pages.faq.contact.description")}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsxs(De.button,{className:"bg-red-600 hover:bg-red-700 text-white px-8 py-4 rounded-xl font-semibold shadow-lg transition-all duration-300 flex items-center justify-center gap-3 group",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o("/contact"),children:[i.jsx(jd,{className:"w-5 h-5 group-hover:animate-pulse"}),s("pages.faq.contact.contact-support")]}),i.jsxs(De.button,{className:"bg-gray-100 hover:bg-gray-200 text-gray-800 px-8 py-4 rounded-xl font-semibold border border-gray-200 transition-all duration-300 flex items-center justify-center gap-3 group",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.open("tel:+37362000112","_self"),children:[T5({className:"w-5 h-5 group-hover:animate-pulse"}),s("pages.faq.contact.call-us")]})]})]})]})})]})})},LX=()=>{const{t:e}=mr(),[r,n]=N.useState(typeof window<"u"&&window.matchMedia("(min-width: 768px)").matches);return N.useEffect(()=>{if(typeof window>"u")return;const a=window.matchMedia("(min-width: 768px)"),s=o=>n(o.matches);return n(a.matches),a.addEventListener("change",s),()=>a.removeEventListener("change",s)},[]),i.jsxs("section",{className:"relative h-[500px] bg-fixed bg-cover bg-center bg-no-repeat pt-36 font-sans text-white",style:{backgroundImage:r?"url(/lvl_bg.png)":"url(/backgrounds/bg10-mobile.jpeg)",backgroundPosition:r?"center -400px":"center center",backgroundSize:r?"115%":"cover"},children:[i.jsx("div",{className:"absolute inset-0 bg-black/70"}),i.jsx("div",{className:`absolute bottom-0 left-0 w-full h-40
              bg-[linear-gradient(to_top,rgba(15,15,15,1),rgba(15,15,15,0))]
              z-10 pointer-events-none`}),i.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 overflow-visible relative z-10",children:i.jsx("div",{className:"flex items-center justify-center h-full pt-16",children:i.jsx("div",{className:"text-center space-y-10 max-w-4xl",children:i.jsx("div",{className:"space-y-8",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("p",{className:"text-sm font-semibold tracking-wider text-red-500 uppercase",children:e("pages.faq.hero.label")}),i.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-white leading-tight drop-shadow-lg",children:e("pages.faq.hero.title")})]})})})})})]})},OX=()=>i.jsxs("div",{children:[i.jsx(LX,{}),i.jsx(DX,{})]}),TX=()=>{const[e,r]=N.useState(""),[n,a]=N.useState(""),[s,o]=N.useState(!1),[l,c]=N.useState(""),[u,d]=N.useState(!1),[f,p]=N.useState(!1),x=N.useRef(null),g=N.useRef(!1),{t:y}=mr(),{signIn:w,isAuthenticated:v,loading:S,isAdmin:k,roleLoaded:j}=yc(),C=Pn();if(N.useEffect(()=>{!S&&v&&j&&(k?C("/admin",{replace:!0}):C("/dashboard",{replace:!0}))},[v,S,k,j,C]),N.useEffect(()=>{f&&v&&j&&(x.current&&(clearTimeout(x.current),x.current=null),g.current=!1,k?C("/admin",{replace:!0}):C("/dashboard",{replace:!0}),d(!1),p(!1))},[f,v,j,k,C]),N.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]),S)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});if(v&&j)return k?i.jsx(Bf,{to:"/admin",replace:!0}):i.jsx(Bf,{to:"/dashboard",replace:!0});const z=async $=>{$.preventDefault(),c(""),d(!0);try{const{error:F}=await w(e,n);if(F){c(F.message||"Invalid email or password"),d(!1);return}p(!0),g.current=!0,x.current=setTimeout(()=>{g.current&&(C("/dashboard"),d(!1),p(!1),g.current=!1),x.current=null},3e3)}catch{c("An unexpected error occurred. Please try again."),d(!1),p(!1),g.current=!1,x.current&&(clearTimeout(x.current),x.current=null)}};return i.jsxs("section",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 md:px-10 lg:px-16 py-8 sm:py-10 md:py-12 relative",children:[i.jsx("div",{className:"absolute inset-0 md:hidden",style:{backgroundImage:"url('/bg-hero.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),i.jsx("div",{className:"hidden md:block absolute inset-0",style:{backgroundImage:"url('/bg-hero.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),i.jsx("div",{className:"hidden md:block absolute inset-0",style:{background:"radial-gradient(ellipse at center, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.85))"}}),i.jsx("div",{className:"absolute inset-0 md:hidden",style:{background:"radial-gradient(ellipse at center, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.85))"}}),i.jsxs(De.div,{variants:jr,initial:"initial",animate:"animate",className:"w-full max-w-6xl bg-white rounded-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2 relative z-10",style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 0.1)"},children:[i.jsxs("div",{className:"relative hidden md:block bg-cover bg-center min-h-[600px]",style:{backgroundImage:"url('/backgrounds/bg5-desktop.jpeg')",minHeight:"560px"},children:[i.jsx("div",{className:"absolute inset-0 bg-black/70"}),i.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(315deg, rgba(220, 38, 38, 0.3), rgba(0, 0, 0, 0.4))"}}),i.jsxs("div",{className:"relative z-10 h-full flex flex-col items-start justify-center p-10 text-white",children:[i.jsx("h3",{className:"text-sm font-semibold tracking-wider text-red-600 uppercase",children:y("auth.login.left-part.smallLabel")}),i.jsx("h2",{className:"mt-4 text-3xl md:text-4xl font-bold leading-tight drop-shadow",children:y("auth.login.left-part.label")}),i.jsx("p",{className:"mt-4 text-gray-200 max-w-sm",children:y("auth.login.left-part.description")}),i.jsx("div",{className:"mt-8 flex items-center gap-3"})]})]}),i.jsx("div",{className:"p-6 md:p-16 flex items-center justify-center min-h-[600px]",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-red-600",children:y("auth.login.right-part.label")}),i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:y("auth.login.right-part.description")})]}),i.jsxs("form",{onSubmit:z,className:"space-y-5",children:[l&&i.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700 text-sm",children:[i.jsx(If,{className:"w-4 h-4 flex-shrink-0"}),i.jsx("span",{children:l})]}),i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"text-xs font-medium text-gray-700",children:y("auth.login.right-part.email")}),i.jsxs("div",{className:"mt-2 relative",children:[i.jsx(jd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"email",value:e,onChange:$=>r($.target.value),required:!0,disabled:u,className:"pl-10 pr-3 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400 transition disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:y("auth.login.right-part.email-example")})]})]}),i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"text-xs font-medium text-gray-700",children:y("auth.login.right-part.password")}),i.jsxs("div",{className:"mt-2 relative",children:[i.jsx(bN,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"password",value:n,onChange:$=>a($.target.value),required:!0,disabled:u,className:"pl-10 pr-3 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400 transition disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:y("auth.login.right-part.enter-password")})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("label",{className:"inline-flex items-center gap-3 text-sm text-gray-600 cursor-pointer group",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"checkbox",checked:s,onChange:$=>o($.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${s?"bg-red-600 border-red-600":"border-gray-300 group-hover:border-red-400"}`,children:i.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${s?"opacity-100":"opacity-0 group-hover:opacity-100"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),y("auth.login.right-part.remember-me")]}),i.jsx(Go,{to:"/auth/forgot",className:"text-sm text-red-600 hover:underline",children:y("auth.login.right-part.forgot-password")})]}),i.jsx("button",{type:"submit",disabled:u,className:"w-full py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-shadow shadow-sm hover:shadow-md disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:u?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),i.jsx("span",{children:"Signing in..."})]}):y("auth.login.right-part.login")})]}),i.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[i.jsx("div",{className:"flex-1 h-px bg-gray-200"}),i.jsx("div",{className:"text-xs text-gray-400 uppercase",children:y("auth.login.right-part.or")}),i.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx(Go,{to:"/auth/signup",className:"inline-block px-6 py-2 border-2 border-red-600 text-red-600 rounded-lg bg-white transition transform duration-200 ease-out hover:bg-red-600 hover:text-white hover:scale-105 hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-red-200",children:y("auth.login.right-part.create-account")})})]})})]})]})},MX="https://yourproductiondomain.com/update-password";async function IX(e){try{const{id:r,first_name:n,last_name:a,email:s,phone_number:o,role:l}=e,{data:c,error:u}=await Dl.from("Profiles").insert({id:r,first_name:n,last_name:a,email:s,phone_number:o,role:l}).select();return{data:c,error:u}}catch(r){return console.error("Unexpected error in while creating a new user:",r),{data:null,error:r}}}async function RX(e,r){const n=await _d(),a=n&&n.email&&n.email!==null?n==null?void 0:n.email:"",{error:s}=await Rt.auth.signInWithPassword({email:a,password:e});if(s)return{succes:!1,error:s.message};const{error:o}=await ZT(r);return o?{succes:!1,error:o.message}:{success:!0}}async function ZT(e){const{error:r}=await Rt.auth.updateUser({password:e});return r?{success:!1,error:r}:{success:!0}}async function zX(e){const{data:r,error:n}=await Rt.auth.resetPasswordForEmail(e,{redirectTo:MX});return n?{succes:!1,error:n.message}:{success:!0,data:r}}const FX=()=>{const[e,r]=N.useState(""),[n,a]=N.useState(""),[s,o]=N.useState(""),[l,c]=N.useState(""),[u,d]=N.useState(""),[f,p]=N.useState(!1),[x,g]=N.useState(""),[y,w]=N.useState(!1),{t:v}=mr(),{signUp:S,isAuthenticated:k,loading:j}=yc(),C=Pn();if(N.useEffect(()=>{!j&&k&&C("/dashboard",{replace:!0})},[k,j,C]),j)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});const z=async $=>{var F;$.preventDefault(),g(""),w(!0);try{const{data:V,error:B}=await S(s,l);if(B||!((F=V==null?void 0:V.user)!=null&&F.id)){g((B==null?void 0:B.message)||"Failed to create account"),w(!1);return}const K=V.user.id,{data:T,error:M}=await IX({id:K,first_name:e,last_name:n,phone_number:u,email:s,role:"USER"});if(M||!T){console.error("Profile creation error:",M),g("Failed to create profile. Please try again later."),w(!1);return}C("/dashboard")}catch{g("An unexpected error occurred. Please contact the administrator.")}finally{w(!1)}};return i.jsxs("section",{className:"min-h-[calc(100vh+150px)] md:min-h-screen flex items-center justify-center px-4 sm:px-6 md:px-10 lg:px-16 py-8 sm:py-10 md:py-12 relative",children:[i.jsx("div",{className:"absolute inset-0 md:hidden",style:{backgroundImage:"url('/bg-hero.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),i.jsx("div",{className:"hidden md:block absolute inset-0",style:{backgroundImage:"url('/bg-hero.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),i.jsx("div",{className:"hidden md:block absolute inset-0",style:{background:"radial-gradient(ellipse at center, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.85))"}}),i.jsx("div",{className:"absolute inset-0 md:hidden",style:{background:"radial-gradient(ellipse at center, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.85))"}}),i.jsxs(De.div,{variants:jr,initial:"initial",animate:"animate",className:"w-full max-w-6xl bg-white rounded-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2 relative z-10",style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 0.1)"},children:[i.jsxs("div",{className:"relative hidden md:block bg-cover bg-center min-h-[600px]",style:{backgroundImage:"url('/lvl_bg.png')",minHeight:"560px"},children:[i.jsx("div",{className:"absolute inset-0 bg-black/70"}),i.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(315deg, rgba(220, 38, 38, 0.3), rgba(0, 0, 0, 0.4))"}}),i.jsxs("div",{className:"relative z-10 h-full flex flex-col items-start justify-center p-10 text-white",children:[i.jsx("h3",{className:"text-sm font-semibold tracking-wider text-red-600 uppercase",children:v("auth.register.left-part.smallLabel")}),i.jsx("h2",{className:"mt-4 text-3xl md:text-4xl font-bold leading-tight drop-shadow",children:v("auth.register.left-part.label")}),i.jsx("p",{className:"mt-4 text-gray-200 max-w-sm",children:v("auth.register.left-part.description")})]})]}),i.jsx("div",{className:"p-6 md:p-16 flex items-center justify-center min-h-[600px]",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-red-600",children:v("auth.register.right-part.label")}),i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:v("auth.register.right-part.description")})]}),i.jsxs("form",{onSubmit:z,className:"space-y-5",children:[x&&i.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700 text-sm",children:[i.jsx(If,{className:"w-4 h-4 flex-shrink-0"}),i.jsx("span",{children:x})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"text-xs font-medium text-gray-700",children:v("auth.register.right-part.first-name")}),i.jsxs("div",{className:"mt-2 relative",children:[i.jsx(tv,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"text",value:e,onChange:$=>r($.target.value),required:!0,className:"pl-10 pr-3 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400 transition",placeholder:v("auth.register.right-part.first-name-placeholder")})]})]}),i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"text-xs font-medium text-gray-700",children:v("auth.register.right-part.last-name")}),i.jsxs("div",{className:"mt-2 relative",children:[i.jsx(tv,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"text",value:n,onChange:$=>a($.target.value),required:!0,className:"pl-10 pr-3 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400 transition",placeholder:v("auth.register.right-part.last-name-placeholder")})]})]})]}),i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"text-xs font-medium text-gray-700",children:v("auth.register.right-part.email")}),i.jsxs("div",{className:"mt-2 relative",children:[i.jsx(jd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"email",value:s,onChange:$=>o($.target.value),required:!0,className:"pl-10 pr-3 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400 transition",placeholder:v("auth.register.right-part.email-placeholder")})]})]}),i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"text-xs font-medium text-gray-700",children:v("auth.register.right-part.phone")}),i.jsx("div",{className:"mt-2 relative",children:i.jsx("input",{type:"tel",value:u,onChange:$=>{let F=$.target.value.replace(/[^0-9+]/g,"");F.includes("+")&&F.indexOf("+")!==0&&(F=F.replace(/\+/g,"")),F.length>13&&(F=F.slice(0,13)),d(F)},required:!0,className:"pl-3 pr-3 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400 transition",placeholder:"+373 62 000 112"})})]}),i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"text-xs font-medium text-gray-700",children:v("auth.register.right-part.password")}),i.jsxs("div",{className:"mt-2 relative",children:[i.jsx(bN,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:f?"text":"password",value:l,onChange:$=>c($.target.value),required:!0,className:"pl-10 pr-10 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400 transition",placeholder:v("auth.register.right-part.enter-password")}),i.jsx("button",{type:"button",onClick:()=>p($=>!$),"aria-label":f?"Hide password":"Show password",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-red-600 p-1 rounded",children:f?i.jsx(zH,{className:"w-4 h-4"}):i.jsx(OO,{className:"w-4 h-4"})})]})]}),i.jsx("button",{type:"submit",disabled:y,className:"w-full py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-shadow shadow-sm hover:shadow-md disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:y?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),i.jsx("span",{children:"Creating account..."})]}):v("auth.register.right-part.join-us")})]}),i.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[i.jsx("div",{className:"flex-1 h-px bg-gray-200"}),i.jsx("div",{className:"text-xs text-gray-400 uppercase",children:v("auth.register.right-part.or")}),i.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx(Go,{to:"/auth/login",className:"inline-block px-6 py-2 border-2 border-red-600 text-red-600 rounded-lg bg-white transition transform duration-200 ease-out hover:bg-red-600 hover:text-white hover:scale-105 hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-red-200",children:v("auth.register.right-part.already-have-account")})})]})})]})]})},$X=()=>{const[e,r]=N.useState(""),[n,a]=N.useState(!1),{t:s}=mr(),o=l=>{l.preventDefault(),zX(e),a(!0)};return i.jsxs("section",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 md:px-10 lg:px-16 py-8 sm:py-10 md:py-12 relative",children:[i.jsx("div",{className:"absolute inset-0 md:hidden",style:{backgroundImage:"url('/bg-hero.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),i.jsx("div",{className:"hidden md:block absolute inset-0",style:{backgroundImage:"url('/bg-hero.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),i.jsx("div",{className:"hidden md:block absolute inset-0",style:{background:"radial-gradient(ellipse at center, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.85))"}}),i.jsx("div",{className:"absolute inset-0 md:hidden",style:{background:"radial-gradient(ellipse at center, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.85))"}}),i.jsxs(De.div,{variants:jr,initial:"initial",animate:"animate",className:"w-full max-w-6xl bg-white rounded-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2 relative z-10",style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 0.1)"},children:[i.jsxs("div",{className:"relative hidden md:block bg-cover bg-center min-h-[400px] md:min-h-[600px]",style:{backgroundImage:"url('/backgrounds/bg5-desktop.jpeg')",minHeight:"560px"},children:[i.jsx("div",{className:"absolute inset-0 bg-black/70"}),i.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(315deg, rgba(220, 38, 38, 0.3), rgba(0, 0, 0, 0.4))"}}),i.jsxs("div",{className:"relative z-10 h-full flex flex-col items-start justify-center p-10 text-white",children:[i.jsx("h3",{className:"text-sm font-semibold tracking-wider text-red-600 uppercase",children:s("auth.forgot.left-part.smallLabel")}),i.jsx("h2",{className:"mt-4 text-3xl md:text-4xl font-bold leading-tight drop-shadow",children:s("auth.forgot.left-part.label")}),i.jsx("p",{className:"mt-4 text-gray-200 max-w-sm",children:s("auth.forgot.left-part.description")})]})]}),i.jsx("div",{className:"p-6 md:p-16 flex items-center justify-center min-h-[400px] md:min-h-[600px]",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-red-600",children:s("auth.forgot.right-part.label")}),i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:s("auth.forgot.right-part.description")})]}),n?i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:i.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s("auth.forgot.success.title")}),i.jsx("p",{className:"text-sm text-gray-600",children:s("auth.forgot.success.description")})]}):i.jsxs("form",{onSubmit:o,className:"space-y-5",children:[i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"text-xs font-medium text-gray-700",children:s("auth.forgot.right-part.email")}),i.jsxs("div",{className:"mt-2 relative",children:[i.jsx(jd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"email",value:e,onChange:l=>r(l.target.value),required:!0,className:"pl-10 pr-3 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400 transition",placeholder:s("auth.forgot.right-part.email-placeholder")})]})]}),i.jsx("button",{type:"submit",className:"w-full py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-shadow shadow-sm hover:shadow-md",children:s("auth.forgot.right-part.send-reset")})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs(Go,{to:"/auth/login",className:"inline-flex items-center gap-2 text-sm text-red-600 hover:text-red-700 transition-colors",children:[i.jsx(Il,{className:"w-4 h-4"}),s("auth.forgot.right-part.back-to-login")]})})]})})]})]})},BX=e=>{switch(e.toLowerCase()){case"automatic":return tt.createElement(uu,{className:"w-4 h-4 text-gray-400"});case"manual":return tt.createElement(E0,{className:"w-4 h-4 text-gray-400"});default:return tt.createElement(uu,{className:"w-4 h-4 text-gray-400"})}},UX=({car:e,isSelected:r,onSelect:n})=>i.jsxs(De.div,{onClick:n,className:`bg-gradient-to-br rounded-3xl border overflow-hidden transition-all duration-300 group cursor-pointer hover:-translate-y-2 hover:shadow-2xl relative ${r?"from-theme-500/20 to-theme-500/10 border-theme-500 shadow-lg shadow-theme-500/20":"from-white/5 to-white/10 border-white/20 hover:-translate-y-1 hover:shadow-xl"}`,whileHover:{y:-4},transition:{type:"spring",stiffness:300,damping:20},children:[r&&i.jsx("div",{className:"absolute top-4 right-4 z-10",children:i.jsx("div",{className:"bg-theme-500 rounded-full p-2",children:i.jsx(xd,{className:"w-5 h-5 text-white"})})}),i.jsxs("div",{className:"relative overflow-hidden",children:[e.image_url?i.jsx("img",{src:e.image_url,alt:`${e.make} ${e.model}`,className:"w-full h-56 object-cover object-center bg-black/10 transition-transform duration-300 group-hover:scale-105"}):i.jsxs("div",{className:"w-full h-56 bg-black/10 flex flex-col items-center justify-center text-gray-300 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"radial-gradient(circle at 2px 2px, black 1px, transparent 0)",backgroundSize:"16px 16px"}}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/10 flex items-center justify-center mb-3 shadow-sm border border-white/10",children:i.jsx(Za,{className:"w-8 h-8 text-gray-300"})}),i.jsx("span",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Fr fotografii"})]})]}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),i.jsxs("div",{className:"p-5 flex flex-col justify-between flex-1",children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-lg font-bold text-white group-hover:text-gray-300 transition-colors duration-300",children:[e.make," ",e.model]}),i.jsx("span",{className:"text-lg font-bold text-gray-300",children:e.year})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[i.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:i.jsx(im,{className:"w-4 h-4 text-gray-300"})}),i.jsxs("span",{className:"text-sm font-medium",children:[e.seats," locuri"]})]}),i.jsxs("div",{className:"flex items-center justify-end gap-2 text-gray-300",children:[i.jsx("span",{className:"text-sm font-medium",children:(()=>{var s;const a=((s=e.transmission)==null?void 0:s.trim())||"";return a.toLowerCase()==="automatic"||a==="Automatic"?"Automat":a.toLowerCase()==="manual"||a==="Manual"?"Manual":a||"Automat"})()}),i.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:BX(e.transmission||"Automatic")})]}),i.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[i.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:i.jsx(Sy,{className:"w-4 h-4 text-gray-300"})}),i.jsx("span",{className:"text-sm font-medium",children:e.fuel_type==="gasoline"?"Benzin":e.fuel_type==="diesel"?"Diesel":e.fuel_type==="petrol"?t("car.fuel.benzina"):e.fuel_type==="hybrid"?"Hibrid":e.fuel_type==="electric"?"Electric":e.fuel_type})]}),i.jsxs("div",{className:"flex items-center justify-end gap-2 text-gray-300",children:[i.jsx("span",{className:"text-sm font-medium capitalize",children:e.body}),i.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:i.jsx(ky,{className:"w-4 h-4 text-gray-300"})})]})]}),i.jsx("div",{className:"flex items-center justify-center pt-4 border-t border-white/20",children:i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsxs("span",{className:"text-xl font-bold text-white",children:[(e.price_over_30_days||0).toFixed(0)," MDL"]}),i.jsx("span",{className:"text-gray-400 text-sm",children:"/zi"})]})})]})]}),qX=({car:e,selectedCar:r,handleSetSelectedCar:n})=>{const[a,s]=N.useState([]),[o,l]=N.useState(!0);return N.useEffect(()=>{(async()=>{try{const u=await Ey();s(u)}catch(u){console.error("Error fetching cars:",u)}finally{l(!1)}})()},[]),N.useEffect(()=>{e&&!r&&n(e)},[e,r,n]),o?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsxs("div",{className:"inline-flex items-center gap-2 text-white/70",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white/70 rounded-full animate-spin"}),"Se ncarc mainile..."]})}):i.jsxs("div",{className:"space-y-6",children:[r&&i.jsx("div",{className:"bg-white/5 border border-white/20 rounded-xl p-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-lg flex items-center justify-center",children:i.jsx(Za,{className:"w-8 h-8 text-gray-300"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("h4",{className:"text-lg font-bold text-white",children:[r.make," ",r.model," (",r.year,")"]}),i.jsxs("p",{className:"text-gray-400 text-sm",children:[r.price_over_30_days||0," MDL/zi  ",r.seats," locuri"]})]}),i.jsx("div",{className:"text-right",children:i.jsx("button",{onClick:()=>onCarSelect(null),className:"px-4 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-lg transition-all text-sm font-medium",children:"Schimb"})})]})}),i.jsx(hr,{children:!r&&i.jsxs(De.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"bg-white/5 border border-white/20 rounded-xl p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Selectai maina"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Alegei vehiculul dorit pentru calcularea preului"})]}),a.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(c=>i.jsx(UX,{car:c,isSelected:(r==null?void 0:r.id)===c.id,onSelect:()=>n(c)},c.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Za,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-400",children:"Nu sunt disponibile maini n acest moment"})]})]})})]})},HX=()=>{const{t:e,i18n:r}=mr(),{eur:n,usd:a}=ON(),[s,o]=N.useState(!1),[l,c]=N.useState([]),[u,d]=N.useState(!0),[f,p]=N.useState(null),[x,g]=N.useState(null),[y,w]=N.useState(""),[v,S]=N.useState(""),[k,j]=N.useState(!1),[C,z]=N.useState("pickup"),[$,F]=N.useState(()=>({pickup:new Date,return:new Date}));N.useEffect(()=>{const ge=()=>{o(window.innerWidth>=768)};return ge(),window.addEventListener("resize",ge),()=>window.removeEventListener("resize",ge)},[]),N.useEffect(()=>{(async()=>{try{d(!0);const ie=await Ey();c(ie),ie.length>0&&!f&&(p(ie[0].id),g(ie[0]))}catch(ie){console.error("Error fetching cars for calculator:",ie)}finally{d(!1)}})()},[]),N.useEffect(()=>{y&&F(ge=>({...ge,pickup:new Date(y)}))},[y]),N.useEffect(()=>{if(v)F(ge=>({...ge,return:new Date(v)}));else if(y){const ge=new Date(y);F(ie=>({...ie,return:new Date(ge)}))}},[v,y]);const[V,B]=N.useState(!1),[K,T]=N.useState(!1),[M,I]=N.useState(!1),[q,H]=N.useState(!1),[te,O]=N.useState(!1),[re,Y]=N.useState(!1),[P,L]=N.useState(!1),R=ge=>x?ge>=2&&ge<=4?x.price_2_4_days||0:ge>=5&&ge<=15?x.price_5_15_days||x.price_2_4_days||0:ge>=16&&ge<=30?x.price_16_30_days||x.price_5_15_days||x.price_2_4_days||0:ge>30?x.price_over_30_days||x.price_16_30_days||x.price_5_15_days||x.price_2_4_days||0:x.price_2_4_days||0:0,G=N.useMemo(()=>{if(!y||!v)return 1;const ge=new Date(y),se=new Date(v).getTime()-ge.getTime(),_e=Math.ceil(se/(1e3*60*60*24));return Math.max(1,_e)},[y,v]),X=N.useMemo(()=>x?R(G)*G:0,[x,G,R]),D=N.useMemo(()=>{if(!x)return null;let ge="",ie=0,se="";return G>=2&&G<=4?(ge=`${G} ${e(G===1?"calculator.day":"calculator.days")}`,ie=x.price_2_4_days||0,se="2-4"):G>=5&&G<=15?(ge=`${G} ${e(G===1?"calculator.day":"calculator.days")}`,ie=x.price_5_15_days||x.price_2_4_days||0,se="5-15"):G>=16&&G<=30?(ge=`${G} ${e(G===1?"calculator.day":"calculator.days")}`,ie=x.price_16_30_days||x.price_5_15_days||x.price_2_4_days||0,se="16-30"):G>30?(ge=`${G} ${e(G===1?"calculator.day":"calculator.days")}`,ie=x.price_over_30_days||x.price_16_30_days||x.price_5_15_days||x.price_2_4_days||0,se="30+"):(ge=`${G} ${e(G===1?"calculator.day":"calculator.days")}`,ie=x.price_2_4_days||0,se="2-4"),{tier:ge,price:ie,tierKey:se}},[x,G,e]),Z=ge=>ge?new Date(ge).toLocaleDateString("ro-RO",{day:"2-digit",month:"short",year:"numeric"}):"",ae=ge=>{const ie=new Date(ge),se=ie.getFullYear(),_e=String(ie.getMonth()+1).padStart(2,"0"),Te=String(ie.getDate()).padStart(2,"0");return`${se}-${_e}-${Te}`},le=ge=>{const ie=ge.getFullYear(),se=ge.getMonth(),_e=new Date(ie,se,1),Xe=new Date(ie,se+1,0).getDate(),Me=_e.getDay(),Re=[];for(let xe=0;xe<Me;xe++)Re.push(null);for(let xe=1;xe<=Xe;xe++){const Pe=ae(new Date(ie,se,xe));Re.push(Pe)}return Re},Q=N.useMemo(()=>{let ge=0;const ie=R(G);return V&&(ge+=ie*G*.5),M&&(ge+=800*G),q&&(ge+=1e3*G),te&&(ge+=100*G),re&&(ge+=100*G),P&&(ge+=500*G),ge},[V,M,q,te,re,P,x,G,K,R]),oe=u?0:X+Q,ve=u?"0.00":(oe/n).toFixed(2),ue=u?"0.00":(oe/a).toFixed(2);return i.jsxs(tt.Fragment,{children:[i.jsxs("section",{className:"relative py-60 bg-cover bg-center bg-no-repeat bg-fixed",style:{backgroundImage:s?"url(/lvl_bg.png)":"url(/backgrounds/bg10-mobile.jpeg)",backgroundPosition:s?"center -150px":"center center",backgroundSize:s?"115%":"cover"},children:[i.jsx("div",{className:"absolute inset-0 bg-black/60"}),i.jsx("div",{className:`absolute bottom-0 left-0 w-full h-40 
                bg-[linear-gradient(to_top,rgba(15,15,15,1),rgba(15,15,15,0))] 
                z-50 pointer-events-none`}),i.jsx("div",{className:"relative max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"grid lg:grid-cols-[1fr_420px] gap-8",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-8 shadow-xl hover:bg-white/15 transition-all duration-300",children:[i.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:i.jsx(Za,{className:"w-5 h-5 text-theme-500"})}),e("calculator.selectVehicle")]}),i.jsx(qX,{selectedCar:x,handleSetSelectedCar:ge=>{g(ge),p(ge?ge.id:null)}})]}),i.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-8 shadow-xl hover:bg-white/15 transition-all duration-300",children:[i.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:i.jsx($n,{className:"w-5 h-5 text-theme-500"})}),e("calculator.rentalPeriod")]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-white mb-3",children:[e("calculator.pickupDate","Pickup Date")," *"]}),i.jsxs("button",{onClick:()=>{z("pickup"),j(!0)},className:`w-full flex items-center justify-center gap-2 border rounded-xl py-3.5 px-4 transition-colors text-sm font-medium ${y?"border-white/30 text-white hover:bg-white/10":"border-white/20 text-white/70 hover:bg-white/5"} bg-white/5 backdrop-blur-md`,children:[i.jsx($n,{className:"w-4 h-4"}),i.jsx("span",{children:y?Z(y):e("calculator.selectPickupDate","Select pickup date")})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-white mb-3",children:[e("calculator.returnDate","Return Date")," *"]}),i.jsxs("button",{onClick:()=>{y&&(z("return"),j(!0))},disabled:!y,className:`w-full flex items-center justify-center gap-2 border rounded-xl py-3.5 px-4 transition-colors text-sm font-medium ${v?"border-white/30 text-white hover:bg-white/10":"border-white/20 text-white/70 hover:bg-white/5"} bg-white/5 backdrop-blur-md ${y?"":"opacity-50 cursor-not-allowed"}`,children:[i.jsx($n,{className:"w-4 h-4"}),i.jsx("span",{children:v?Z(v):e("calculator.selectReturnDate","Select return date")})]})]})]}),y&&v&&i.jsx("div",{className:"mt-4 p-3 bg-theme-500/20 border border-theme-500/30 rounded-xl",children:i.jsxs("div",{className:"text-sm text-white text-center",children:[i.jsx("span",{className:"font-semibold",children:"Total zile:"})," ",G," ",G===1?"zi":"zile"]})}),(!y||!v)&&i.jsx("div",{className:"mt-4 p-3 bg-white/10 border border-white/20 rounded-xl",children:i.jsx("div",{className:"text-sm text-white/70 text-center",children:"Selectai perioada de nchiriere"})})]}),x&&!u&&i.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-8 shadow-xl hover:bg-white/15 transition-all duration-300",children:[i.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:i.jsx(z4,{className:"w-5 h-5 text-theme-500"})}),e("calculator.pricingTiers","Pricing Tiers")]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:`p-4 rounded-xl border-2 transition-all duration-300 ${(D==null?void 0:D.tierKey)==="2-4"?"border-theme-500 bg-theme-500/20":"border-white/20 bg-white/5"}`,children:[i.jsxs("div",{className:"text-xs font-semibold text-white/70 uppercase mb-2",children:["2-4 ",e("calculator.days","days")]}),i.jsxs("div",{className:"text-lg font-bold text-white",children:[x.price_2_4_days||0," MDL"]}),i.jsx("div",{className:"text-xs text-white/60",children:e("calculator.perDay")})]}),i.jsxs("div",{className:`p-4 rounded-xl border-2 transition-all duration-300 ${(D==null?void 0:D.tierKey)==="5-15"?"border-theme-500 bg-theme-500/20":"border-white/20 bg-white/5"}`,children:[i.jsxs("div",{className:"text-xs font-semibold text-white/70 uppercase mb-2",children:["5-15 ",e("calculator.days","days")]}),i.jsxs("div",{className:"text-lg font-bold text-white",children:[x.price_5_15_days||x.price_2_4_days||0," MDL"]}),i.jsx("div",{className:"text-xs text-white/60",children:e("calculator.perDay")})]}),i.jsxs("div",{className:`p-4 rounded-xl border-2 transition-all duration-300 ${(D==null?void 0:D.tierKey)==="16-30"?"border-theme-500 bg-theme-500/20":"border-white/20 bg-white/5"}`,children:[i.jsxs("div",{className:"text-xs font-semibold text-white/70 uppercase mb-2",children:["16-30 ",e("calculator.days","days")]}),i.jsxs("div",{className:"text-lg font-bold text-white",children:[x.price_16_30_days||x.price_5_15_days||x.price_2_4_days||0," MDL"]}),i.jsx("div",{className:"text-xs text-white/60",children:e("calculator.perDay")})]}),i.jsxs("div",{className:`p-4 rounded-xl border-2 transition-all duration-300 ${(D==null?void 0:D.tierKey)==="30+"?"border-theme-500 bg-theme-500/20":"border-white/20 bg-white/5"}`,children:[i.jsxs("div",{className:"text-xs font-semibold text-white/70 uppercase mb-2",children:["30+ ",e("calculator.days","days")]}),i.jsxs("div",{className:"text-lg font-bold text-white",children:[x.price_over_30_days||x.price_16_30_days||x.price_5_15_days||x.price_2_4_days||0," MDL"]}),i.jsx("div",{className:"text-xs text-white/60",children:e("calculator.perDay")})]})]}),D&&i.jsx("div",{className:"mt-4 p-3 bg-theme-500/20 border border-theme-500/30 rounded-xl",children:i.jsxs("div",{className:"text-sm text-white text-center",children:[i.jsx("span",{className:"font-semibold",children:e("calculator.currentTier","Current:")})," ",D.tier," - ",D.price," MDL/",e("calculator.perDay")]})})]}),i.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-8 shadow-xl hover:bg-white/15 transition-all duration-300",children:[i.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:i.jsx(z4,{className:"w-5 h-5 text-theme-500"})}),e("calculator.additionalOptions")]}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-white/90 font-bold mb-4 ml-1 text-lg",children:e("calculator.limits","Limite")}),i.jsx("div",{className:"space-y-3",children:i.jsxs("label",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 cursor-pointer transition-all duration-200 group",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"checkbox",checked:V,onChange:ge=>B(ge.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${V?"bg-theme-500 border-theme-500":"border-white/30 bg-white/10 group-hover:border-theme-400"}`,children:i.jsx(kl,{className:`w-3 h-3 text-white transition-opacity duration-200 ${V?"opacity-100":"opacity-0 group-hover:opacity-100"}`})})]}),i.jsx("span",{className:"font-medium text-white group-hover:text-gray-100",children:e("calculator.unlimitedMileage")})]}),i.jsx("span",{className:"text-sm font-bold text-theme-500 bg-theme-500/20 px-3 py-1 rounded-lg",children:"+50%"})]})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white/90 font-bold mb-4 ml-1 text-lg",children:e("calculator.vipServices","Servicii VIP")}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 cursor-pointer transition-all duration-200 group",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"checkbox",checked:M,onChange:ge=>I(ge.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${M?"bg-theme-500 border-theme-500":"border-white/30 bg-white/10 group-hover:border-theme-400"}`,children:i.jsx(kl,{className:`w-3 h-3 text-white transition-opacity duration-200 ${M?"opacity-100":"opacity-0 group-hover:opacity-100"}`})})]}),i.jsx("span",{className:"font-medium text-white group-hover:text-gray-100",children:e("calculator.personalDriver")})]}),i.jsxs("span",{className:"text-sm font-bold text-white bg-white/10 px-3 py-1 rounded-lg",children:["800 MDL",e("calculator.perDay")]})]}),i.jsxs("label",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 cursor-pointer transition-all duration-200 group",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"checkbox",checked:q,onChange:ge=>H(ge.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${q?"bg-theme-500 border-theme-500":"border-white/30 bg-white/10 group-hover:border-theme-400"}`,children:i.jsx(kl,{className:`w-3 h-3 text-white transition-opacity duration-200 ${q?"opacity-100":"opacity-0 group-hover:opacity-100"}`})})]}),i.jsx("span",{className:"font-medium text-white group-hover:text-gray-100",children:e("calculator.priorityService")})]}),i.jsxs("span",{className:"text-sm font-bold text-white bg-white/10 px-3 py-1 rounded-lg",children:["1000 MDL",e("calculator.perDay")]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white/90 font-bold mb-4 ml-1 text-lg",children:e("calculator.extra","Suplimentar")}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 cursor-pointer transition-all duration-200 group",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"checkbox",checked:te,onChange:ge=>O(ge.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${te?"bg-theme-500 border-theme-500":"border-white/30 bg-white/10 group-hover:border-theme-400"}`,children:i.jsx(kl,{className:`w-3 h-3 text-white transition-opacity duration-200 ${te?"opacity-100":"opacity-0 group-hover:opacity-100"}`})})]}),i.jsx("span",{className:"font-medium text-white group-hover:text-gray-100",children:e("calculator.childCarSeat")})]}),i.jsxs("span",{className:"text-sm font-bold text-white bg-white/10 px-3 py-1 rounded-lg",children:["100 MDL",e("calculator.perDay")]})]}),i.jsxs("label",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 cursor-pointer transition-all duration-200 group",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"checkbox",checked:re,onChange:ge=>Y(ge.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${re?"bg-theme-500 border-theme-500":"border-white/30 bg-white/10 group-hover:border-theme-400"}`,children:i.jsx(kl,{className:`w-3 h-3 text-white transition-opacity duration-200 ${re?"opacity-100":"opacity-0 group-hover:opacity-100"}`})})]}),i.jsx("span",{className:"font-medium text-white group-hover:text-gray-100",children:e("calculator.simWithInternet")})]}),i.jsxs("span",{className:"text-sm font-bold text-white bg-white/10 px-3 py-1 rounded-lg",children:["100 MDL",e("calculator.perDay")]})]}),i.jsxs("label",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 cursor-pointer transition-all duration-200 group",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"checkbox",checked:P,onChange:ge=>L(ge.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${P?"bg-theme-500 border-theme-500":"border-white/30 bg-white/10 group-hover:border-theme-400"}`,children:i.jsx(kl,{className:`w-3 h-3 text-white transition-opacity duration-200 ${P?"opacity-100":"opacity-0 group-hover:opacity-100"}`})})]}),i.jsx("span",{className:"font-medium text-white group-hover:text-gray-100",children:e("calculator.roadsideAssistance")})]}),i.jsxs("span",{className:"text-sm font-bold text-white bg-white/10 px-3 py-1 rounded-lg",children:["500 MDL",e("calculator.perDay")]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white/90 font-bold mb-4 ml-1 text-lg",children:e("calculator.delivery","Livrare")}),i.jsx("div",{className:"space-y-3",children:i.jsx("label",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 cursor-pointer transition-all duration-200 group",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"checkbox",checked:K,onChange:ge=>T(ge.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${K?"bg-theme-500 border-theme-500":"border-white/30 bg-white/10 group-hover:border-theme-400"}`,children:i.jsx(kl,{className:`w-3 h-3 text-white transition-opacity duration-200 ${K?"opacity-100":"opacity-0 group-hover:opacity-100"}`})})]}),i.jsx("span",{className:"font-medium text-white group-hover:text-gray-100",children:e("calculator.airportDelivery","Livrare aeroport")})]})})})]})]})]})]}),i.jsx(De.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:i.jsxs("div",{className:"sticky top-24",children:[i.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 shadow-2xl overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-br from-theme-500 to-theme-600 text-white p-8",children:[i.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider opacity-90 mb-3",children:e("calculator.totalCost")}),i.jsxs("div",{className:"text-5xl font-bold mb-3",children:[u?"...":oe.toFixed(0)," ",i.jsx("span",{className:"text-2xl font-semibold",children:"MDL"})]}),i.jsx("div",{className:"text-sm opacity-95 font-medium",children:u?"... EUR / ... USD":`${ve} EUR / ${ue} USD`})]}),i.jsxs("div",{className:"p-6 space-y-5 bg-white/5",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-white mb-4 text-lg",children:e("calculator.priceDetails")}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-200",children:e("calculator.selectedVehicle")}),i.jsx("span",{className:"font-medium text-white",children:u?"Loading...":x?`${x.make} ${x.model}`:"No car selected"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-200",children:e("calculator.pricePerDay")}),i.jsx("span",{className:"font-medium text-white",children:u?"...":D?`${D.price} MDL (${D.tier})`:"N/A"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-200",children:e("calculator.rentalPeriod")}),i.jsx("span",{className:"font-medium text-white",children:y&&v?`${y} - ${v}`:"Select dates"})]}),i.jsx("div",{className:"pt-2 border-t border-white/20",children:i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{className:"text-white",children:e("calculator.basePrice")}),i.jsxs("span",{className:"text-white",children:[u?"...":X.toFixed(0)," MDL"]})]})})]})]}),Q>0&&i.jsxs("div",{className:"pt-5 border-t border-white/20",children:[i.jsx("h4",{className:"font-bold text-white mb-4 text-lg",children:e("calculator.additionalServices")}),i.jsxs("div",{className:"space-y-2 text-sm",children:[V&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-200",children:e("calculator.unlimitedMileage")}),i.jsxs("span",{className:"font-medium text-white",children:[(((x==null?void 0:x.price_2_4_days)||(x==null?void 0:x.price_over_30_days)||0)*G*.5).toFixed(0)," MDL"]})]}),M&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-200",children:e("calculator.personalDriver")}),i.jsxs("span",{className:"font-medium text-white",children:[800*G," MDL"]})]}),q&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-200",children:e("calculator.priorityService")}),i.jsxs("span",{className:"font-medium text-white",children:[1e3*G," MDL"]})]}),te&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-200",children:e("calculator.childSeat")}),i.jsxs("span",{className:"font-medium text-white",children:[100*G," MDL"]})]}),re&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-200",children:e("calculator.simInternet")}),i.jsxs("span",{className:"font-medium text-white",children:[100*G," MDL"]})]}),P&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-200",children:e("calculator.assistance")}),i.jsxs("span",{className:"font-medium text-white",children:[500*G," MDL"]})]}),K&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-200",children:e("calculator.airportDelivery","Livrare aeroport")}),i.jsx("span",{className:"font-medium text-white",children:"0 MDL"})]}),i.jsx("div",{className:"pt-2 border-t border-white/20",children:i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{className:"text-white",children:e("calculator.services")}),i.jsxs("span",{className:"text-white",children:[u?"...":Q.toFixed(0)," MDL"]})]})})]})]}),i.jsxs("div",{className:"pt-5 border-t border-white/20",children:[i.jsx("a",{href:"tel:+37362000112",className:"block w-full bg-theme-500 hover:bg-theme-600 text-white font-bold py-4 px-6 rounded-xl text-center transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:e("calculator.bookNow")}),i.jsx("a",{href:"https://t.me/Level_Auto_Rental",target:"_blank",rel:"noopener noreferrer",className:"block w-full mt-3 border-2 border-white/30 hover:border-white/50 hover:bg-white/10 text-white font-semibold py-4 px-6 rounded-xl text-center transition-all duration-200",children:e("calculator.contactUs")})]})]})]}),i.jsx("div",{className:"mt-6 bg-white/10 backdrop-blur-md border border-white/20 rounded-xl p-4",children:i.jsxs("div",{className:"flex gap-3 items-start",children:[i.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-bold",children:"i"})}),i.jsxs("div",{className:"flex-1 text-white",children:[i.jsx("p",{className:"font-bold text-sm mb-1",children:e("calculator.pricesAreIndicative")}),i.jsx("p",{className:"text-white/90 text-xs leading-relaxed",children:e("calculator.pricesDescription")})]})]})})]})})]})})]},r.language),i.jsx(hr,{children:k&&i.jsxs(tt.Fragment,{children:[i.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9998]",onClick:()=>j(!1)},"calendar-backdrop"),i.jsx(De.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.3,ease:"easeOut"},className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 overflow-y-auto",onClick:ge=>ge.stopPropagation(),children:i.jsxs("div",{className:"bg-white rounded-2xl border border-gray-300 shadow-2xl max-w-md w-full max-h-[95vh] overflow-hidden",children:[i.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-300 px-6 py-6 flex items-center justify-between rounded-t-2xl z-10",children:[i.jsx("div",{children:i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:C==="pickup"?e("calculator.selectPickupDate","Select Pickup Date"):e("calculator.selectReturnDate","Select Return Date")})}),i.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(kn,{className:"w-5 h-5 text-gray-600"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("button",{onClick:()=>{const ge=C==="pickup"?$.pickup:$.return,ie=new Date(ge);ie.setMonth(ie.getMonth()-1),F(se=>({...se,[C]:ie}))},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsx("div",{className:"text-lg font-semibold text-gray-800",children:(C==="pickup"?$.pickup:$.return).toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),i.jsx("button",{onClick:()=>{const ge=C==="pickup"?$.pickup:$.return,ie=new Date(ge);ie.setMonth(ie.getMonth()+1),F(se=>({...se,[C]:ie}))},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),i.jsx("div",{className:"mb-4 px-3 py-2 bg-gray-50 rounded-xl border border-gray-100",children:i.jsx("p",{className:"text-sm text-gray-600 text-center",children:C==="pickup"?y?e("calculator.changePickupInstruction","Click to change pickup date"):e("calculator.selectPickupInstruction","Select pickup date"):v?e("calculator.changeReturnInstruction","Click to change return date"):"Selectai data returnrii (minim 2 zile)"})}),i.jsx("div",{className:"grid grid-cols-7 gap-1 text-sm text-center mb-3",children:["Du","Lu","Ma","Mi","Jo","Vi","S"].map(ge=>i.jsx("div",{className:"text-gray-500 font-medium py-2",children:ge},ge))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:le(C==="pickup"?$.pickup:$.return).map((ge,ie)=>{if(!ge)return i.jsx("div",{className:"h-10"},ie);const se=new Date(ge),_e=ge,Te=new Date;Te.setHours(0,0,0,0);const Xe=ae(Te),Me=_e<Xe,Re=C==="return"&&y&&_e<=y,xe=C==="return"&&y&&(()=>{const Ce=new Date(y),Ve=new Date(_e).getTime()-Ce.getTime();return Math.ceil(Ve/(1e3*60*60*24))<2})(),Pe=_e===(C==="pickup"?y:v),be=C==="return"&&y&&_e===y,Ae=C==="pickup"&&v&&_e===v,Ie=y&&v&&_e>y&&_e<v;return i.jsx("button",{className:`h-10 w-10 flex items-center justify-center text-sm rounded-lg transition-colors relative ${Me||Re||xe?"text-gray-300 cursor-not-allowed hover:bg-gray-50":"text-gray-700 cursor-pointer hover:bg-gray-100"} ${Pe||be||Ae?"bg-red-500 text-white hover:bg-red-600 font-medium":Ie?"bg-red-100 text-gray-900 hover:bg-red-200":Me||Re||xe?"":"hover:bg-gray-100"}`,onClick:()=>{Me||Re||xe||(C==="pickup"?(y&&y!==ge&&S(""),w(ge)):S(ge),j(!1))},disabled:Me||Re||xe,title:Me?e("calculator.dateUnavailable","Date unavailable"):Re?e("calculator.beforePickup","Cannot be before pickup date"):xe?"Perioada minim de nchiriere este de 2 zile":"",children:se.getDate()},ie)})})]})]})},"calendar-modal")]},"calendar-modal-container")})]})},Ik=()=>{const e=Pn(),{t:r}=mr();return i.jsxs("section",{id:"not-found-page",className:"relative bg-cover bg-no-repeat bg-fixed bg-center flex items-center justify-center py-32",style:{backgroundImage:window.innerWidth<768?"url('/backgrounds/bg10-mobile.jpeg')":"url('/backgrounds/bg2-desktop.jpeg')",backgroundPosition:"center center",backgroundSize:"cover",minHeight:"calc(100vh - 80px)"},children:[i.jsx("div",{className:"absolute inset-0 bg-black/70"}),i.jsx("div",{className:`absolute bottom-0 left-0 w-full h-40 
            bg-[linear-gradient(to_top,rgba(15,15,15,1),rgba(15,15,15,0))] 
            z-50 pointer-events-none`}),i.jsx("div",{className:"relative z-30 w-full flex items-center justify-center px-4 sm:px-6 lg:px-8 py-20",children:i.jsxs(De.div,{variants:jr,initial:"initial",animate:"animate",className:"max-w-2xl w-full text-center",children:[i.jsx(De.h1,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-[100px] md:text-[150px] font-extrabold text-white/20 leading-none mb-6",children:"404"}),i.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:r("notFound.title")}),i.jsx("p",{className:"text-lg text-gray-300 mb-10 max-w-xl mx-auto",children:r("notFound.description")}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[i.jsxs(De.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("/"),className:"px-8 py-4 bg-theme-500 hover:bg-theme-600 text-white font-semibold rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:[i.jsx(jy,{className:"w-5 h-5"}),r("notFound.goBackHome")]}),i.jsxs(De.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(-1),className:"px-8 py-4 border-2 border-white/30 hover:border-white/50 text-white font-semibold rounded-2xl transition-all duration-300 bg-white/10 backdrop-blur-sm flex items-center justify-center gap-2",children:[i.jsx(Il,{className:"w-5 h-5"}),r("notFound.goBack")]})]})]})})]})},VX=()=>{const{pathname:e}=No();return N.useEffect(()=>{window.scrollTo(0,0)},[e]),null};function WX({children:e,value:r,index:n}){return r===n?i.jsx("div",{className:"mt-6",children:e}):null}const KX=({onBackToSite:e,onLogout:r})=>{const{t:n}=mr(),{userProfile:a,user:s}=yc(),[o,l]=N.useState(!1),[c,u]=N.useState("profile"),[d,f]=N.useState(!1),[p,x]=N.useState(null),[g,y]=N.useState(""),[w,v]=N.useState(""),[S,k]=N.useState(""),[j,C]=N.useState(""),[z,$]=N.useState(""),[F,V]=N.useState("");N.useEffect(()=>{a?(y(a.first_name||""),v(a.last_name||""),k(a.email||(s==null?void 0:s.email)||""),C(a.phone_number||"")):s!=null&&s.email&&k(s.email)},[a,s]);const[B,K]=N.useState(null),[T,M]=N.useState(null);N.useEffect(()=>{if(!B){M(null);return}const H=URL.createObjectURL(B);return M(H),()=>URL.revokeObjectURL(H)},[B]),N.useEffect(()=>{const H="montserrat-font";if(!document.getElementById(H)){const te=document.createElement("link");te.id=H,te.rel="stylesheet",te.href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap",document.head.appendChild(te)}},[]);const I=[{key:"profile",label:n("admin.settings.profile")}],q=async()=>{if(!(a!=null&&a.id)&&!(s!=null&&s.id)){x({type:"error",text:n("admin.settings.userNotFound")});return}f(!0),x(null);try{const H=(a==null?void 0:a.id)||(s==null?void 0:s.id);if(!H)throw new Error(n("admin.settings.userIdNotFound"));const{error:te}=await Rt.from("Profiles").update({first_name:g,last_name:w,email:S,phone_number:j||null}).eq("id",H);if(te)throw te;x({type:"success",text:n("admin.settings.profileUpdatedSuccess")}),setTimeout(()=>{x(null)},3e3)}catch(H){console.error("Error updating profile:",H),x({type:"error",text:(H==null?void 0:H.message)||n("admin.settings.profileUpdateFailed")}),setTimeout(()=>{x(null)},5e3)}finally{f(!1)}};return o?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("button",{onClick:()=>l(!1),className:"flex items-center gap-2 text-gray-300 hover:text-white transition-colors mb-4",children:[i.jsx(Il,{className:"w-4 h-4"}),i.jsx("span",{children:"napoi"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:I.map(H=>i.jsx("button",{onClick:()=>u(H.key),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${c===H.key?"bg-red-500/20 border border-red-500/50 text-white":"bg-white/5 border border-white/10 text-gray-300 hover:bg-white/10"}`,children:H.label},H.key))}),i.jsxs(WX,{value:c,index:"profile",children:[p&&i.jsx("div",{className:`mb-4 p-4 rounded-lg border ${p.type==="success"?"bg-green-500/20 border-green-500/50 text-green-300":"bg-red-500/20 border-red-500/50 text-red-300"}`,children:p.text}),i.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[i.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[i.jsx(Ll,{className:"w-5 h-5"}),n("admin.settings.profileInformation")]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("admin.settings.firstName")}),i.jsx("input",{type:"text",value:g,onChange:H=>y(H.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("admin.settings.lastName")}),i.jsx("input",{type:"text",value:w,onChange:H=>v(H.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("admin.settings.email")}),i.jsx("input",{type:"email",value:S,onChange:H=>k(H.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("admin.settings.phone")}),i.jsx("input",{type:"tel",value:j,onChange:H=>C(H.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50"})]})]})]}),i.jsx("div",{className:"pt-4 border-t border-white/10",children:i.jsxs("button",{type:"button",onClick:q,disabled:d,className:"w-full px-6 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 hover:text-red-200 font-semibold rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(Bh,{className:`w-4 h-4 ${d?"animate-spin":""}`}),n(d?"admin.settings.saving":"admin.settings.saveChanges")]})})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("button",{onClick:()=>l(!0),className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-white/5 border border-white/10 text-gray-200 text-sm font-medium rounded-lg hover:bg-white/10 hover:border-white/20 hover:text-white transition-all duration-200",children:[i.jsx(Ll,{className:"w-4 h-4"}),i.jsx("span",{children:n("admin.settings.profile")})]}),e&&i.jsxs("button",{onClick:e,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-white/5 border border-white/10 text-gray-200 text-sm font-medium rounded-lg hover:bg-white/10 hover:border-white/20 hover:text-white transition-all duration-200",children:[i.jsx(jy,{className:"w-4 h-4"}),i.jsx("span",{children:n("admin.common.backToSite")})]}),r&&i.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-red-500/20 border border-red-500/50 text-red-300 text-sm font-medium rounded-lg hover:bg-red-500/30 hover:border-red-500/60 hover:text-red-200 transition-all duration-200",children:[i.jsx(ph,{className:"w-4 h-4"}),i.jsx("span",{children:n("admin.common.signOut")})]})]})},GX=({...e})=>i.jsxs(i.Fragment,{children:[i.jsx("style",{children:`
        [data-sonner-toaster] [data-sonner-toast] {
          background: rgba(255, 255, 255, 0.1) !important;
          backdrop-filter: blur(24px) !important;
          -webkit-backdrop-filter: blur(24px) !important;
          border: 1px solid rgba(255, 255, 255, 0.2) !important;
          border-radius: 0.75rem !important;
        }
        [data-sonner-toaster] [data-sonner-toast][data-type="success"] {
          background: rgba(255, 255, 255, 0.1) !important;
          backdrop-filter: blur(24px) !important;
          -webkit-backdrop-filter: blur(24px) !important;
          border-color: rgba(52, 211, 153, 0.3) !important;
          color: rgb(110, 231, 183) !important;
        }
        [data-sonner-toaster] [data-sonner-toast][data-type="error"] {
          background: rgba(255, 255, 255, 0.1) !important;
          backdrop-filter: blur(24px) !important;
          -webkit-backdrop-filter: blur(24px) !important;
          border-color: rgba(248, 113, 113, 0.3) !important;
          color: rgb(252, 165, 165) !important;
        }
        [data-sonner-toaster] [data-sonner-toast][data-type="info"] {
          background: rgba(255, 255, 255, 0.1) !important;
          backdrop-filter: blur(24px) !important;
          -webkit-backdrop-filter: blur(24px) !important;
          border-color: rgba(96, 165, 250, 0.3) !important;
          color: rgb(147, 197, 253) !important;
        }
        [data-sonner-toaster] [data-sonner-toast][data-type="warning"] {
          background: rgba(255, 255, 255, 0.1) !important;
          backdrop-filter: blur(24px) !important;
          -webkit-backdrop-filter: blur(24px) !important;
          border-color: rgba(251, 191, 36, 0.3) !important;
          color: rgb(253, 224, 71) !important;
        }
      `}),i.jsx(xT,{theme:"dark",className:"toaster group",position:"bottom-right",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-white/10 group-[.toaster]:backdrop-blur-xl group-[.toaster]:border group-[.toaster]:border-white/20 group-[.toaster]:text-white group-[.toaster]:shadow-lg group-[.toaster]:rounded-xl",description:"group-[.toast]:text-white/70",actionButton:"group-[.toast]:bg-red-500/20 group-[.toast]:text-white group-[.toast]:border group-[.toast]:border-red-500/50 group-[.toast]:rounded-lg group-[.toast]:px-4 group-[.toast]:py-2 group-[.toast]:font-medium group-[.toast]:transition-all group-[.toast]:hover:bg-red-500/30",cancelButton:"group-[.toast]:bg-white/10 group-[.toast]:text-white/70 group-[.toast]:rounded-lg group-[.toast]:px-4 group-[.toast]:py-2 group-[.toast]:font-medium group-[.toast]:transition-all group-[.toast]:hover:bg-white/20",success:"group-[.toaster]:bg-white/10 group-[.toaster]:backdrop-blur-xl group-[.toaster]:border-emerald-400/30 group-[.toaster]:text-emerald-300",error:"group-[.toaster]:bg-white/10 group-[.toaster]:backdrop-blur-xl group-[.toaster]:border-red-400/30 group-[.toaster]:text-red-300",info:"group-[.toaster]:bg-white/10 group-[.toaster]:backdrop-blur-xl group-[.toaster]:border-blue-400/30 group-[.toaster]:text-blue-300",warning:"group-[.toaster]:bg-white/10 group-[.toaster]:backdrop-blur-xl group-[.toaster]:border-yellow-400/30 group-[.toaster]:text-yellow-300"}},...e})]}),Sd=()=>({showSuccess:(s,o)=>{Kg.success(s,{description:o,duration:4e3})},showError:(s,o)=>{Kg.error(s,{description:o,duration:5e3})},showInfo:(s,o)=>{Kg.info(s,{description:o,duration:4e3})},showWarning:(s,o)=>{Kg.warning(s,{description:o,duration:4e3})}});var YX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function FN(e){if(typeof e!="string")return!1;var r=YX;return r.includes(e)}var XX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function QT(e){if(typeof e!="string")return!1;var r=XX;return r.includes(e)}function e8(e){return typeof e=="string"&&e.startsWith("data-")}function du(e){var r=Object.entries(e).filter(n=>{var[a]=n;return QT(a)||e8(a)});return Object.fromEntries(r)}function Iy(e){if(e==null)return null;if(N.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var r=e.props;return du(r)}return typeof e=="object"&&!Array.isArray(e)?du(e):null}function Ss(e){var r=Object.entries(e).filter(n=>{var[a]=n;return QT(a)||e8(a)||FN(a)});return Object.fromEntries(r)}function JX(e){return e==null?null:N.isValidElement(e)?Ss(e.props):typeof e=="object"&&!Array.isArray(e)?Ss(e):null}var ZX=["children","width","height","viewBox","className","style","title","desc"];function R5(){return R5=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},R5.apply(null,arguments)}function QX(e,r){if(e==null)return{};var n,a,s=eJ(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function eJ(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var t8=N.forwardRef((e,r)=>{var{children:n,width:a,height:s,viewBox:o,className:l,style:c,title:u,desc:d}=e,f=QX(e,ZX),p=o||{width:a,height:s,x:0,y:0},x=Cn("recharts-surface",l);return N.createElement("svg",R5({},Ss(f),{className:x,width:a,height:s,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:r}),N.createElement("title",null,u),N.createElement("desc",null,d),n)}),tJ=["children","className"];function z5(){return z5=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},z5.apply(null,arguments)}function rJ(e,r){if(e==null)return{};var n,a,s=nJ(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function nJ(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var vd=N.forwardRef((e,r)=>{var{children:n,className:a}=e,s=rJ(e,tJ),o=Cn("recharts-layer",a);return N.createElement("g",z5({className:o},Ss(s),{ref:r}),n)}),aJ=N.createContext(null);function zn(e){return function(){return e}}const r8=Math.cos,mv=Math.sin,Rl=Math.sqrt,pv=Math.PI,Ry=2*pv,F5=Math.PI,$5=2*F5,ih=1e-6,iJ=$5-ih;function n8(e){this._+=e[0];for(let r=1,n=e.length;r<n;++r)this._+=arguments[r]+e[r]}function sJ(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return n8;const n=10**r;return function(a){this._+=a[0];for(let s=1,o=a.length;s<o;++s)this._+=Math.round(arguments[s]*n)/n+a[s]}}class oJ{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?n8:sJ(r)}moveTo(r,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,n){this._append`L${this._x1=+r},${this._y1=+n}`}quadraticCurveTo(r,n,a,s){this._append`Q${+r},${+n},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(r,n,a,s,o,l){this._append`C${+r},${+n},${+a},${+s},${this._x1=+o},${this._y1=+l}`}arcTo(r,n,a,s,o){if(r=+r,n=+n,a=+a,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,u=a-r,d=s-n,f=l-r,p=c-n,x=f*f+p*p;if(this._x1===null)this._append`M${this._x1=r},${this._y1=n}`;else if(x>ih)if(!(Math.abs(p*u-d*f)>ih)||!o)this._append`L${this._x1=r},${this._y1=n}`;else{let g=a-l,y=s-c,w=u*u+d*d,v=g*g+y*y,S=Math.sqrt(w),k=Math.sqrt(x),j=o*Math.tan((F5-Math.acos((w+x-v)/(2*S*k)))/2),C=j/k,z=j/S;Math.abs(C-1)>ih&&this._append`L${r+C*f},${n+C*p}`,this._append`A${o},${o},0,0,${+(p*g>f*y)},${this._x1=r+z*u},${this._y1=n+z*d}`}}arc(r,n,a,s,o,l){if(r=+r,n=+n,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let c=a*Math.cos(s),u=a*Math.sin(s),d=r+c,f=n+u,p=1^l,x=l?s-o:o-s;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>ih||Math.abs(this._y1-f)>ih)&&this._append`L${d},${f}`,a&&(x<0&&(x=x%$5+$5),x>iJ?this._append`A${a},${a},0,1,${p},${r-c},${n-u}A${a},${a},0,1,${p},${this._x1=d},${this._y1=f}`:x>ih&&this._append`A${a},${a},0,${+(x>=F5)},${p},${this._x1=r+a*Math.cos(o)},${this._y1=n+a*Math.sin(o)}`)}rect(r,n,a,s){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function $N(e){let r=3;return e.digits=function(n){if(!arguments.length)return r;if(n==null)r=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);r=a}return e},()=>new oJ(r)}function BN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function a8(e){this._context=e}a8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r);break}}};function zy(e){return new a8(e)}function i8(e){return e[0]}function s8(e){return e[1]}function o8(e,r){var n=zn(!0),a=null,s=zy,o=null,l=$N(c);e=typeof e=="function"?e:e===void 0?i8:zn(e),r=typeof r=="function"?r:r===void 0?s8:zn(r);function c(u){var d,f=(u=BN(u)).length,p,x=!1,g;for(a==null&&(o=s(g=l())),d=0;d<=f;++d)!(d<f&&n(p=u[d],d,u))===x&&((x=!x)?o.lineStart():o.lineEnd()),x&&o.point(+e(p,d,u),+r(p,d,u));if(g)return o=null,g+""||null}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:zn(+u),c):e},c.y=function(u){return arguments.length?(r=typeof u=="function"?u:zn(+u),c):r},c.defined=function(u){return arguments.length?(n=typeof u=="function"?u:zn(!!u),c):n},c.curve=function(u){return arguments.length?(s=u,a!=null&&(o=s(a)),c):s},c.context=function(u){return arguments.length?(u==null?a=o=null:o=s(a=u),c):a},c}function Xg(e,r,n){var a=null,s=zn(!0),o=null,l=zy,c=null,u=$N(d);e=typeof e=="function"?e:e===void 0?i8:zn(+e),r=typeof r=="function"?r:zn(r===void 0?0:+r),n=typeof n=="function"?n:n===void 0?s8:zn(+n);function d(p){var x,g,y,w=(p=BN(p)).length,v,S=!1,k,j=new Array(w),C=new Array(w);for(o==null&&(c=l(k=u())),x=0;x<=w;++x){if(!(x<w&&s(v=p[x],x,p))===S)if(S=!S)g=x,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),y=x-1;y>=g;--y)c.point(j[y],C[y]);c.lineEnd(),c.areaEnd()}S&&(j[x]=+e(v,x,p),C[x]=+r(v,x,p),c.point(a?+a(v,x,p):j[x],n?+n(v,x,p):C[x]))}if(k)return c=null,k+""||null}function f(){return o8().defined(s).curve(l).context(o)}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:zn(+p),a=null,d):e},d.x0=function(p){return arguments.length?(e=typeof p=="function"?p:zn(+p),d):e},d.x1=function(p){return arguments.length?(a=p==null?null:typeof p=="function"?p:zn(+p),d):a},d.y=function(p){return arguments.length?(r=typeof p=="function"?p:zn(+p),n=null,d):r},d.y0=function(p){return arguments.length?(r=typeof p=="function"?p:zn(+p),d):r},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:zn(+p),d):n},d.lineX0=d.lineY0=function(){return f().x(e).y(r)},d.lineY1=function(){return f().x(e).y(n)},d.lineX1=function(){return f().x(a).y(r)},d.defined=function(p){return arguments.length?(s=typeof p=="function"?p:zn(!!p),d):s},d.curve=function(p){return arguments.length?(l=p,o!=null&&(c=l(o)),d):l},d.context=function(p){return arguments.length?(p==null?o=c=null:c=l(o=p),d):o},d}class l8{constructor(r,n){this._context=r,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,n){switch(r=+r,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,n,r,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,r,this._y0,r,n);break}}this._x0=r,this._y0=n}}function lJ(e){return new l8(e,!0)}function cJ(e){return new l8(e,!1)}const UN={draw(e,r){const n=Rl(r/pv);e.moveTo(n,0),e.arc(0,0,n,0,Ry)}},uJ={draw(e,r){const n=Rl(r/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},c8=Rl(1/3),dJ=c8*2,hJ={draw(e,r){const n=Rl(r/dJ),a=n*c8;e.moveTo(0,-n),e.lineTo(a,0),e.lineTo(0,n),e.lineTo(-a,0),e.closePath()}},fJ={draw(e,r){const n=Rl(r),a=-n/2;e.rect(a,a,n,n)}},mJ=.8908130915292852,u8=mv(pv/10)/mv(7*pv/10),pJ=mv(Ry/10)*u8,gJ=-r8(Ry/10)*u8,xJ={draw(e,r){const n=Rl(r*mJ),a=pJ*n,s=gJ*n;e.moveTo(0,-n),e.lineTo(a,s);for(let o=1;o<5;++o){const l=Ry*o/5,c=r8(l),u=mv(l);e.lineTo(u*n,-c*n),e.lineTo(c*a-u*s,u*a+c*s)}e.closePath()}},W1=Rl(3),vJ={draw(e,r){const n=-Rl(r/(W1*3));e.moveTo(0,n*2),e.lineTo(-W1*n,-n),e.lineTo(W1*n,-n),e.closePath()}},qo=-.5,Ho=Rl(3)/2,B5=1/Rl(12),yJ=(B5/2+1)*3,bJ={draw(e,r){const n=Rl(r/yJ),a=n/2,s=n*B5,o=a,l=n*B5+n,c=-o,u=l;e.moveTo(a,s),e.lineTo(o,l),e.lineTo(c,u),e.lineTo(qo*a-Ho*s,Ho*a+qo*s),e.lineTo(qo*o-Ho*l,Ho*o+qo*l),e.lineTo(qo*c-Ho*u,Ho*c+qo*u),e.lineTo(qo*a+Ho*s,qo*s-Ho*a),e.lineTo(qo*o+Ho*l,qo*l-Ho*o),e.lineTo(qo*c+Ho*u,qo*u-Ho*c),e.closePath()}};function wJ(e,r){let n=null,a=$N(s);e=typeof e=="function"?e:zn(e||UN),r=typeof r=="function"?r:zn(r===void 0?64:+r);function s(){let o;if(n||(n=o=a()),e.apply(this,arguments).draw(n,+r.apply(this,arguments)),o)return n=null,o+""||null}return s.type=function(o){return arguments.length?(e=typeof o=="function"?o:zn(o),s):e},s.size=function(o){return arguments.length?(r=typeof o=="function"?o:zn(+o),s):r},s.context=function(o){return arguments.length?(n=o??null,s):n},s}function gv(){}function xv(e,r,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+n)/6)}function d8(e){this._context=e}d8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xv(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function jJ(e){return new d8(e)}function h8(e){this._context=e}h8.prototype={areaStart:gv,areaEnd:gv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x2=e,this._y2=r;break;case 1:this._point=2,this._x3=e,this._y3=r;break;case 2:this._point=3,this._x4=e,this._y4=r,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+r)/6);break;default:xv(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function NJ(e){return new h8(e)}function f8(e){this._context=e}f8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:xv(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function _J(e){return new f8(e)}function m8(e){this._context=e}m8.prototype={areaStart:gv,areaEnd:gv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,r){e=+e,r=+r,this._point?this._context.lineTo(e,r):(this._point=1,this._context.moveTo(e,r))}};function SJ(e){return new m8(e)}function Rk(e){return e<0?-1:1}function zk(e,r,n){var a=e._x1-e._x0,s=r-e._x1,o=(e._y1-e._y0)/(a||s<0&&-0),l=(n-e._y1)/(s||a<0&&-0),c=(o*s+l*a)/(a+s);return(Rk(o)+Rk(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(c))||0}function Fk(e,r){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-r)/2:r}function K1(e,r,n){var a=e._x0,s=e._y0,o=e._x1,l=e._y1,c=(o-a)/3;e._context.bezierCurveTo(a+c,s+c*r,o-c,l-c*n,o,l)}function vv(e){this._context=e}vv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:K1(this,this._t0,Fk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var n=NaN;if(e=+e,r=+r,!(e===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,K1(this,Fk(this,n=zk(this,e,r)),n);break;default:K1(this,this._t0,n=zk(this,e,r));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=n}}};function p8(e){this._context=new g8(e)}(p8.prototype=Object.create(vv.prototype)).point=function(e,r){vv.prototype.point.call(this,r,e)};function g8(e){this._context=e}g8.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,n,a,s,o){this._context.bezierCurveTo(r,e,a,n,o,s)}};function kJ(e){return new vv(e)}function CJ(e){return new p8(e)}function x8(e){this._context=e}x8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),n===2)this._context.lineTo(e[1],r[1]);else for(var a=$k(e),s=$k(r),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(a[0][o],s[0][o],a[1][o],s[1][o],e[l],r[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}};function $k(e){var r,n=e.length-1,a,s=new Array(n),o=new Array(n),l=new Array(n);for(s[0]=0,o[0]=2,l[0]=e[0]+2*e[1],r=1;r<n-1;++r)s[r]=1,o[r]=4,l[r]=4*e[r]+2*e[r+1];for(s[n-1]=2,o[n-1]=7,l[n-1]=8*e[n-1]+e[n],r=1;r<n;++r)a=s[r]/o[r-1],o[r]-=a,l[r]-=a*l[r-1];for(s[n-1]=l[n-1]/o[n-1],r=n-2;r>=0;--r)s[r]=(l[r]-s[r+1])/o[r];for(o[n-1]=(e[n]+s[n-1])/2,r=0;r<n-1;++r)o[r]=2*e[r+1]-s[r+1];return[s,o]}function PJ(e){return new x8(e)}function Fy(e,r){this._context=e,this._t=r}Fy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,r)}break}}this._x=e,this._y=r}};function EJ(e){return new Fy(e,.5)}function AJ(e){return new Fy(e,0)}function DJ(e){return new Fy(e,1)}function lm(e,r){if((l=e.length)>1)for(var n=1,a,s,o=e[r[0]],l,c=o.length;n<l;++n)for(s=o,o=e[r[n]],a=0;a<c;++a)o[a][1]+=o[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function U5(e){for(var r=e.length,n=new Array(r);--r>=0;)n[r]=r;return n}function LJ(e,r){return e[r]}function OJ(e){const r=[];return r.key=e,r}function TJ(){var e=zn([]),r=U5,n=lm,a=LJ;function s(o){var l=Array.from(e.apply(this,arguments),OJ),c,u=l.length,d=-1,f;for(const p of o)for(c=0,++d;c<u;++c)(l[c][d]=[0,+a(p,l[c].key,d,o)]).data=p;for(c=0,f=BN(r(l));c<u;++c)l[f[c]].index=c;return n(l,f),l}return s.keys=function(o){return arguments.length?(e=typeof o=="function"?o:zn(Array.from(o)),s):e},s.value=function(o){return arguments.length?(a=typeof o=="function"?o:zn(+o),s):a},s.order=function(o){return arguments.length?(r=o==null?U5:typeof o=="function"?o:zn(Array.from(o)),s):r},s.offset=function(o){return arguments.length?(n=o??lm,s):n},s}function MJ(e,r){if((a=e.length)>0){for(var n,a,s=0,o=e[0].length,l;s<o;++s){for(l=n=0;n<a;++n)l+=e[n][s][1]||0;if(l)for(n=0;n<a;++n)e[n][s][1]/=l}lm(e,r)}}function IJ(e,r){if((s=e.length)>0){for(var n=0,a=e[r[0]],s,o=a.length;n<o;++n){for(var l=0,c=0;l<s;++l)c+=e[l][n][1]||0;a[n][1]+=a[n][0]=-c/2}lm(e,r)}}function RJ(e,r){if(!(!((l=e.length)>0)||!((o=(s=e[r[0]]).length)>0))){for(var n=0,a=1,s,o,l;a<o;++a){for(var c=0,u=0,d=0;c<l;++c){for(var f=e[r[c]],p=f[a][1]||0,x=f[a-1][1]||0,g=(p-x)/2,y=0;y<c;++y){var w=e[r[y]],v=w[a][1]||0,S=w[a-1][1]||0;g+=v-S}u+=p,d+=g*p}s[a-1][1]+=s[a-1][0]=n,u&&(n-=d/u)}s[a-1][1]+=s[a-1][0]=n,lm(e,r)}}var G1={},Y1={},Bk;function zJ(){return Bk||(Bk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return n==="__proto__"}e.isUnsafeProperty=r}(Y1)),Y1}var X1={},Uk;function v8(){return Uk||(Uk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=r}(X1)),X1}var J1={},qk;function qN(){return qk||(qk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){var a;return typeof n=="string"||typeof n=="symbol"?n:Object.is((a=n==null?void 0:n.valueOf)==null?void 0:a.call(n),-0)?"-0":String(n)}e.toKey=r}(J1)),J1}var Z1={},Q1={},Hk;function FJ(){return Hk||(Hk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(r).join(",");const a=String(n);return a==="0"&&Object.is(Number(n),-0)?"-0":a}e.toString=r}(Q1)),Q1}var Vk;function HN(){return Vk||(Vk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=FJ(),n=qN();function a(s){if(Array.isArray(s))return s.map(n.toKey);if(typeof s=="symbol")return[s];s=r.toString(s);const o=[],l=s.length;if(l===0)return o;let c=0,u="",d="",f=!1;for(s.charCodeAt(0)===46&&(o.push(""),c++);c<l;){const p=s[c];d?p==="\\"&&c+1<l?(c++,u+=s[c]):p===d?d="":u+=p:f?p==='"'||p==="'"?d=p:p==="]"?(f=!1,o.push(u),u=""):u+=p:p==="["?(f=!0,u&&(o.push(u),u="")):p==="."?u&&(o.push(u),u=""):u+=p,c++}return u&&o.push(u),o}e.toPath=a}(Z1)),Z1}var Wk;function VN(){return Wk||(Wk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=zJ(),n=v8(),a=qN(),s=HN();function o(c,u,d){if(c==null)return d;switch(typeof u){case"string":{if(r.isUnsafeProperty(u))return d;const f=c[u];return f===void 0?n.isDeepKey(u)?o(c,s.toPath(u),d):d:f}case"number":case"symbol":{typeof u=="number"&&(u=a.toKey(u));const f=c[u];return f===void 0?d:f}default:{if(Array.isArray(u))return l(c,u,d);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),r.isUnsafeProperty(u))return d;const f=c[u];return f===void 0?d:f}}}function l(c,u,d){if(u.length===0)return d;let f=c;for(let p=0;p<u.length;p++){if(f==null||r.isUnsafeProperty(u[p]))return d;f=f[u[p]]}return f===void 0?d:f}e.get=o}(G1)),G1}var ew,Kk;function $J(){return Kk||(Kk=1,ew=VN().get),ew}var BJ=$J();const $y=Qo(BJ);var El=e=>e===0?0:e>0?1:-1,hu=e=>typeof e=="number"&&e!=+e,fu=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Dr=e=>(typeof e=="number"||e instanceof Number)&&!hu(e),gc=e=>Dr(e)||typeof e=="string",UJ=0,n0=e=>{var r=++UJ;return"".concat(e||"").concat(r)},yd=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Dr(r)&&typeof r!="string")return a;var o;if(fu(r)){if(n==null)return a;var l=r.indexOf("%");o=n*parseFloat(r.slice(0,l))/100}else o=+r;return hu(o)&&(o=a),s&&n!=null&&o>n&&(o=n),o},y8=e=>{if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1};function Hs(e,r,n){return Dr(e)&&Dr(r)?e+n*(r-e):r}function b8(e,r,n){if(!(!e||!e.length))return e.find(a=>a&&(typeof r=="function"?r(a):$y(a,r))===n)}var mi=e=>e===null||typeof e>"u",T0=e=>mi(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function qJ(e){return e!=null}function jm(){}var HJ=["type","size","sizeType"];function q5(){return q5=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},q5.apply(null,arguments)}function Gk(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Yk(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Gk(Object(n),!0).forEach(function(a){VJ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function VJ(e,r,n){return(r=WJ(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function WJ(e){var r=KJ(e,"string");return typeof r=="symbol"?r:r+""}function KJ(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function GJ(e,r){if(e==null)return{};var n,a,s=YJ(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function YJ(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var w8={symbolCircle:UN,symbolCross:uJ,symbolDiamond:hJ,symbolSquare:fJ,symbolStar:xJ,symbolTriangle:vJ,symbolWye:bJ},XJ=Math.PI/180,JJ=e=>{var r="symbol".concat(T0(e));return w8[r]||UN},ZJ=(e,r,n)=>{if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*XJ;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},QJ=(e,r)=>{w8["symbol".concat(T0(e))]=r},j8=e=>{var{type:r="circle",size:n=64,sizeType:a="area"}=e,s=GJ(e,HJ),o=Yk(Yk({},s),{},{type:r,size:n,sizeType:a}),l="circle";typeof r=="string"&&(l=r);var c=()=>{var x=JJ(l),g=wJ().type(x).size(ZJ(n,a,l)),y=g();if(y!==null)return y},{className:u,cx:d,cy:f}=o,p=Ss(o);return Dr(d)&&Dr(f)&&Dr(n)?N.createElement("path",q5({},p,{className:Cn("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(f,")"),d:c()})):null};j8.registerSymbol=QJ;var N8=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,WN=(e,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(N.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(s=>{FN(s)&&(a[s]=o=>n[s](n,o))}),a},eZ=(e,r,n)=>a=>(e(r,n,a),null),tZ=(e,r,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(s=>{var o=e[s];FN(s)&&typeof o=="function"&&(a||(a={}),a[s]=eZ(o,r,n))}),a};function Xk(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function rZ(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Xk(Object(n),!0).forEach(function(a){nZ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function nZ(e,r,n){return(r=aZ(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function aZ(e){var r=iZ(e,"string");return typeof r=="symbol"?r:r+""}function iZ(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function So(e,r){var n=rZ({},e),a=r,s=Object.keys(r),o=s.reduce((l,c)=>(l[c]===void 0&&a[c]!==void 0&&(l[c]=a[c]),l),n);return o}var tw={},rw={},Jk;function sZ(){return Jk||(Jk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n,a){const s=new Map;for(let o=0;o<n.length;o++){const l=n[o],c=a(l);s.has(c)||s.set(c,l)}return Array.from(s.values())}e.uniqBy=r}(rw)),rw}var nw={},Zk;function _8(){return Zk||(Zk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return n}e.identity=r}(nw)),nw}var aw={},iw={},sw={},Qk;function oZ(){return Qk||(Qk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=r}(sw)),sw}var eC;function KN(){return eC||(eC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=oZ();function n(a){return a!=null&&typeof a!="function"&&r.isLength(a.length)}e.isArrayLike=n}(iw)),iw}var ow={},tC;function lZ(){return tC||(tC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return typeof n=="object"&&n!==null}e.isObjectLike=r}(ow)),ow}var rC;function cZ(){return rC||(rC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=KN(),n=lZ();function a(s){return n.isObjectLike(s)&&r.isArrayLike(s)}e.isArrayLikeObject=a}(aw)),aw}var lw={},cw={},nC;function uZ(){return nC||(nC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=VN();function n(a){return function(s){return r.get(s,a)}}e.property=n}(cw)),cw}var uw={},dw={},hw={},fw={},aC;function S8(){return aC||(aC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=r}(fw)),fw}var mw={},iC;function k8(){return iC||(iC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=r}(mw)),mw}var pw={},sC;function C8(){return sC||(sC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n,a){return n===a||Number.isNaN(n)&&Number.isNaN(a)}e.eq=r}(pw)),pw}var oC;function dZ(){return oC||(oC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=S8(),n=k8(),a=C8();function s(f,p,x){return typeof x!="function"?s(f,p,()=>{}):o(f,p,function g(y,w,v,S,k,j){const C=x(y,w,v,S,k,j);return C!==void 0?!!C:o(y,w,g,j)},new Map)}function o(f,p,x,g){if(p===f)return!0;switch(typeof p){case"object":return l(f,p,x,g);case"function":return Object.keys(p).length>0?o(f,{...p},x,g):a.eq(f,p);default:return r.isObject(f)?typeof p=="string"?p==="":!0:a.eq(f,p)}}function l(f,p,x,g){if(p==null)return!0;if(Array.isArray(p))return u(f,p,x,g);if(p instanceof Map)return c(f,p,x,g);if(p instanceof Set)return d(f,p,x,g);const y=Object.keys(p);if(f==null)return y.length===0;if(y.length===0)return!0;if(g!=null&&g.has(p))return g.get(p)===f;g==null||g.set(p,f);try{for(let w=0;w<y.length;w++){const v=y[w];if(!n.isPrimitive(f)&&!(v in f)||p[v]===void 0&&f[v]!==void 0||p[v]===null&&f[v]!==null||!x(f[v],p[v],v,f,p,g))return!1}return!0}finally{g==null||g.delete(p)}}function c(f,p,x,g){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[y,w]of p.entries()){const v=f.get(y);if(x(v,w,y,f,p,g)===!1)return!1}return!0}function u(f,p,x,g){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const y=new Set;for(let w=0;w<p.length;w++){const v=p[w];let S=!1;for(let k=0;k<f.length;k++){if(y.has(k))continue;const j=f[k];let C=!1;if(x(j,v,w,f,p,g)&&(C=!0),C){y.add(k),S=!0;break}}if(!S)return!1}return!0}function d(f,p,x,g){return p.size===0?!0:f instanceof Set?u([...f],[...p],x,g):!1}e.isMatchWith=s,e.isSetMatch=d}(hw)),hw}var lC;function P8(){return lC||(lC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=dZ();function n(a,s){return r.isMatchWith(a,s,()=>{})}e.isMatch=n}(dw)),dw}var gw={},xw={},vw={},cC;function hZ(){return cC||(cC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return Object.getOwnPropertySymbols(n).filter(a=>Object.prototype.propertyIsEnumerable.call(n,a))}e.getSymbols=r}(vw)),vw}var yw={},uC;function E8(){return uC||(uC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=r}(yw)),yw}var bw={},dC;function A8(){return dC||(dC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r="[object RegExp]",n="[object String]",a="[object Number]",s="[object Boolean]",o="[object Arguments]",l="[object Symbol]",c="[object Date]",u="[object Map]",d="[object Set]",f="[object Array]",p="[object Function]",x="[object ArrayBuffer]",g="[object Object]",y="[object Error]",w="[object DataView]",v="[object Uint8Array]",S="[object Uint8ClampedArray]",k="[object Uint16Array]",j="[object Uint32Array]",C="[object BigUint64Array]",z="[object Int8Array]",$="[object Int16Array]",F="[object Int32Array]",V="[object BigInt64Array]",B="[object Float32Array]",K="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=x,e.arrayTag=f,e.bigInt64ArrayTag=V,e.bigUint64ArrayTag=C,e.booleanTag=s,e.dataViewTag=w,e.dateTag=c,e.errorTag=y,e.float32ArrayTag=B,e.float64ArrayTag=K,e.functionTag=p,e.int16ArrayTag=$,e.int32ArrayTag=F,e.int8ArrayTag=z,e.mapTag=u,e.numberTag=a,e.objectTag=g,e.regexpTag=r,e.setTag=d,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=k,e.uint32ArrayTag=j,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=S}(bw)),bw}var ww={},hC;function fZ(){return hC||(hC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=r}(ww)),ww}var fC;function D8(){return fC||(fC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=hZ(),n=E8(),a=A8(),s=k8(),o=fZ();function l(f,p){return c(f,void 0,f,new Map,p)}function c(f,p,x,g=new Map,y=void 0){const w=y==null?void 0:y(f,p,x,g);if(w!==void 0)return w;if(s.isPrimitive(f))return f;if(g.has(f))return g.get(f);if(Array.isArray(f)){const v=new Array(f.length);g.set(f,v);for(let S=0;S<f.length;S++)v[S]=c(f[S],S,x,g,y);return Object.hasOwn(f,"index")&&(v.index=f.index),Object.hasOwn(f,"input")&&(v.input=f.input),v}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const v=new RegExp(f.source,f.flags);return v.lastIndex=f.lastIndex,v}if(f instanceof Map){const v=new Map;g.set(f,v);for(const[S,k]of f)v.set(S,c(k,S,x,g,y));return v}if(f instanceof Set){const v=new Set;g.set(f,v);for(const S of f)v.add(c(S,void 0,x,g,y));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(o.isTypedArray(f)){const v=new(Object.getPrototypeOf(f)).constructor(f.length);g.set(f,v);for(let S=0;S<f.length;S++)v[S]=c(f[S],S,x,g,y);return v}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const v=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return g.set(f,v),u(v,f,x,g,y),v}if(typeof File<"u"&&f instanceof File){const v=new File([f],f.name,{type:f.type});return g.set(f,v),u(v,f,x,g,y),v}if(typeof Blob<"u"&&f instanceof Blob){const v=new Blob([f],{type:f.type});return g.set(f,v),u(v,f,x,g,y),v}if(f instanceof Error){const v=new f.constructor;return g.set(f,v),v.message=f.message,v.name=f.name,v.stack=f.stack,v.cause=f.cause,u(v,f,x,g,y),v}if(f instanceof Boolean){const v=new Boolean(f.valueOf());return g.set(f,v),u(v,f,x,g,y),v}if(f instanceof Number){const v=new Number(f.valueOf());return g.set(f,v),u(v,f,x,g,y),v}if(f instanceof String){const v=new String(f.valueOf());return g.set(f,v),u(v,f,x,g,y),v}if(typeof f=="object"&&d(f)){const v=Object.create(Object.getPrototypeOf(f));return g.set(f,v),u(v,f,x,g,y),v}return f}function u(f,p,x=f,g,y){const w=[...Object.keys(p),...r.getSymbols(p)];for(let v=0;v<w.length;v++){const S=w[v],k=Object.getOwnPropertyDescriptor(f,S);(k==null||k.writable)&&(f[S]=c(p[S],S,x,g,y))}}function d(f){switch(n.getTag(f)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=c,e.copyProperties=u}(xw)),xw}var mC;function mZ(){return mC||(mC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=D8();function n(a){return r.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=n}(gw)),gw}var pC;function pZ(){return pC||(pC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=P8(),n=mZ();function a(s){return s=n.cloneDeep(s),o=>r.isMatch(o,s)}e.matches=a}(uw)),uw}var jw={},Nw={},_w={},gC;function gZ(){return gC||(gC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=D8(),n=A8();function a(s,o){return r.cloneDeepWith(s,(l,c,u,d)=>{const f=o==null?void 0:o(l,c,u,d);if(f!==void 0)return f;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new s.constructor(s==null?void 0:s.valueOf());return r.copyProperties(p,s),p}case n.argumentsTag:{const p={};return r.copyProperties(p,s),p.length=s.length,p[Symbol.iterator]=s[Symbol.iterator],p}default:return}})}e.cloneDeepWith=a}(_w)),_w}var xC;function xZ(){return xC||(xC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=gZ();function n(a){return r.cloneDeepWith(a)}e.cloneDeep=n}(Nw)),Nw}var Sw={},kw={},vC;function L8(){return vC||(vC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;function n(a,s=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<s;case"symbol":return!1;case"string":return r.test(a)}}e.isIndex=n}(kw)),kw}var Cw={},yC;function vZ(){return yC||(yC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=E8();function n(a){return a!==null&&typeof a=="object"&&r.getTag(a)==="[object Arguments]"}e.isArguments=n}(Cw)),Cw}var bC;function yZ(){return bC||(bC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=v8(),n=L8(),a=vZ(),s=HN();function o(l,c){let u;if(Array.isArray(c)?u=c:typeof c=="string"&&r.isDeepKey(c)&&(l==null?void 0:l[c])==null?u=s.toPath(c):u=[c],u.length===0)return!1;let d=l;for(let f=0;f<u.length;f++){const p=u[f];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||a.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}e.has=o}(Sw)),Sw}var wC;function bZ(){return wC||(wC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=P8(),n=qN(),a=xZ(),s=VN(),o=yZ();function l(c,u){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return u=a.cloneDeep(u),function(d){const f=s.get(d,c);return f===void 0?o.has(d,c):u===void 0?f===void 0:r.isMatch(f,u)}}e.matchesProperty=l}(jw)),jw}var jC;function wZ(){return jC||(jC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=_8(),n=uZ(),a=pZ(),s=bZ();function o(l){if(l==null)return r.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?s.matchesProperty(l[0],l[1]):a.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=o}(lw)),lw}var NC;function jZ(){return NC||(NC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=sZ(),n=_8(),a=cZ(),s=wZ();function o(l,c=n.identity){return a.isArrayLikeObject(l)?r.uniqBy(Array.from(l),s.iteratee(c)):[]}e.uniqBy=o}(tw)),tw}var Pw,_C;function NZ(){return _C||(_C=1,Pw=jZ().uniqBy),Pw}var _Z=NZ();const SC=Qo(_Z);function SZ(e,r,n){return r===!0?SC(e,n):typeof r=="function"?SC(e,r):e}var Ew={exports:{}},Aw={},Dw={exports:{}},Lw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kC;function kZ(){if(kC)return Lw;kC=1;var e=jo();function r(p,x){return p===x&&(p!==0||1/p===1/x)||p!==p&&x!==x}var n=typeof Object.is=="function"?Object.is:r,a=e.useState,s=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function c(p,x){var g=x(),y=a({inst:{value:g,getSnapshot:x}}),w=y[0].inst,v=y[1];return o(function(){w.value=g,w.getSnapshot=x,u(w)&&v({inst:w})},[p,g,x]),s(function(){return u(w)&&v({inst:w}),p(function(){u(w)&&v({inst:w})})},[p]),l(g),g}function u(p){var x=p.getSnapshot;p=p.value;try{var g=x();return!n(p,g)}catch{return!0}}function d(p,x){return x()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return Lw.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Lw}var CC;function CZ(){return CC||(CC=1,Dw.exports=kZ()),Dw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PC;function PZ(){if(PC)return Aw;PC=1;var e=jo(),r=CZ();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var a=typeof Object.is=="function"?Object.is:n,s=r.useSyncExternalStore,o=e.useRef,l=e.useEffect,c=e.useMemo,u=e.useDebugValue;return Aw.useSyncExternalStoreWithSelector=function(d,f,p,x,g){var y=o(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=c(function(){function S($){if(!k){if(k=!0,j=$,$=x($),g!==void 0&&w.hasValue){var F=w.value;if(g(F,$))return C=F}return C=$}if(F=C,a(j,$))return F;var V=x($);return g!==void 0&&g(F,V)?(j=$,F):(j=$,C=V)}var k=!1,j,C,z=p===void 0?null:p;return[function(){return S(f())},z===null?void 0:function(){return S(z())}]},[f,p,x,g]);var v=s(d,y[0],y[1]);return l(function(){w.hasValue=!0,w.value=v},[v]),u(v),v},Aw}var EC;function EZ(){return EC||(EC=1,Ew.exports=PZ()),Ew.exports}var AZ=EZ(),GN=N.createContext(null),DZ=e=>e,vi=()=>{var e=N.useContext(GN);return e?e.store.dispatch:DZ},Ex=()=>{},LZ=()=>Ex,OZ=(e,r)=>e===r;function wr(e){var r=N.useContext(GN);return AZ.useSyncExternalStoreWithSelector(r?r.subscription.addNestedSub:LZ,r?r.store.getState:Ex,r?r.store.getState:Ex,r?e:Ex,OZ)}function TZ(e,r=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(r)}function MZ(e,r=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(r)}function IZ(e,r="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${r}[${n}]`)}}var AC=e=>Array.isArray(e)?e:[e];function RZ(e){const r=Array.isArray(e[0])?e[0]:e;return IZ(r,"createSelector expects all input-selectors to be functions, but received the following types: "),r}function zZ(e,r){const n=[],{length:a}=e;for(let s=0;s<a;s++)n.push(e[s].apply(null,r));return n}var FZ=class{constructor(e){this.value=e}deref(){return this.value}},$Z=typeof WeakRef<"u"?WeakRef:FZ,BZ=0,DC=1;function Jg(){return{s:BZ,v:void 0,o:null,p:null}}function O8(e,r={}){let n=Jg();const{resultEqualityCheck:a}=r;let s,o=0;function l(){var p;let c=n;const{length:u}=arguments;for(let x=0,g=u;x<g;x++){const y=arguments[x];if(typeof y=="function"||typeof y=="object"&&y!==null){let w=c.o;w===null&&(c.o=w=new WeakMap);const v=w.get(y);v===void 0?(c=Jg(),w.set(y,c)):c=v}else{let w=c.p;w===null&&(c.p=w=new Map);const v=w.get(y);v===void 0?(c=Jg(),w.set(y,c)):c=v}}const d=c;let f;if(c.s===DC)f=c.v;else if(f=e.apply(null,arguments),o++,a){const x=((p=s==null?void 0:s.deref)==null?void 0:p.call(s))??s;x!=null&&a(x,f)&&(f=x,o!==0&&o--),s=typeof f=="object"&&f!==null||typeof f=="function"?new $Z(f):f}return d.s=DC,d.v=f,f}return l.clearCache=()=>{n=Jg(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function UZ(e,...r){const n=typeof e=="function"?{memoize:e,memoizeOptions:r}:e,a=(...s)=>{let o=0,l=0,c,u={},d=s.pop();typeof d=="object"&&(u=d,d=s.pop()),TZ(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...u},{memoize:p,memoizeOptions:x=[],argsMemoize:g=O8,argsMemoizeOptions:y=[]}=f,w=AC(x),v=AC(y),S=RZ(s),k=p(function(){return o++,d.apply(null,arguments)},...w),j=g(function(){l++;const z=zZ(S,arguments);return c=k.apply(null,z),c},...v);return Object.assign(j,{resultFunc:d,memoizedResultFunc:k,dependencies:S,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:p,argsMemoize:g})};return Object.assign(a,{withTypes:()=>a}),a}var ot=UZ(O8),qZ=Object.assign((e,r=ot)=>{MZ(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),a=n.map(o=>e[o]);return r(a,(...o)=>o.reduce((l,c,u)=>(l[n[u]]=c,l),{}))},{withTypes:()=>qZ}),Ow={},Tw={},Mw={},LC;function HZ(){return LC||(LC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const n=(a,s,o)=>{if(a!==s){const l=r(a),c=r(s);if(l===c&&l===0){if(a<s)return o==="desc"?1:-1;if(a>s)return o==="desc"?-1:1}return o==="desc"?c-l:l-c}return 0};e.compareValues=n}(Mw)),Mw}var Iw={},Rw={},OC;function T8(){return OC||(OC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=r}(Rw)),Rw}var TC;function VZ(){return TC||(TC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=T8(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||r.isSymbol(o)?!0:typeof o=="string"&&(a.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}e.isKey=s}(Iw)),Iw}var MC;function WZ(){return MC||(MC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=HZ(),n=VZ(),a=HN();function s(o,l,c,u){if(o==null)return[];c=u?void 0:c,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(g=>String(g));const d=(g,y)=>{let w=g;for(let v=0;v<y.length&&w!=null;++v)w=w[y[v]];return w},f=(g,y)=>y==null||g==null?y:typeof g=="object"&&"key"in g?Object.hasOwn(y,g.key)?y[g.key]:d(y,g.path):typeof g=="function"?g(y):Array.isArray(g)?d(y,g):typeof y=="object"?y[g]:y,p=l.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||n.isKey(g)?g:{key:g,path:a.toPath(g)}));return o.map(g=>({original:g,criteria:p.map(y=>f(y,g))})).slice().sort((g,y)=>{for(let w=0;w<p.length;w++){const v=r.compareValues(g.criteria[w],y.criteria[w],c[w]);if(v!==0)return v}return 0}).map(g=>g.original)}e.orderBy=s}(Tw)),Tw}var zw={},IC;function KZ(){return IC||(IC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n,a=1){const s=[],o=Math.floor(a),l=(c,u)=>{for(let d=0;d<c.length;d++){const f=c[d];Array.isArray(f)&&u<o?l(f,u+1):s.push(f)}};return l(n,0),s}e.flatten=r}(zw)),zw}var Fw={},RC;function M8(){return RC||(RC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=L8(),n=KN(),a=S8(),s=C8();function o(l,c,u){return a.isObject(u)&&(typeof c=="number"&&n.isArrayLike(u)&&r.isIndex(c)&&c<u.length||typeof c=="string"&&c in u)?s.eq(u[c],l):!1}e.isIterateeCall=o}(Fw)),Fw}var zC;function GZ(){return zC||(zC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=WZ(),n=KZ(),a=M8();function s(o,...l){const c=l.length;return c>1&&a.isIterateeCall(o,l[0],l[1])?l=[]:c>2&&a.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),r.orderBy(o,n.flatten(l),["asc"])}e.sortBy=s}(Ow)),Ow}var $w,FC;function YZ(){return FC||(FC=1,$w=GZ().sortBy),$w}var XZ=YZ();const By=Qo(XZ);var I8=e=>e.legend.settings,JZ=e=>e.legend.size,ZZ=e=>e.legend.payload;ot([ZZ,I8],(e,r)=>{var{itemSorter:n}=r,a=e.flat(1);return n?By(a,n):a});var Zg=1;function QZ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[r,n]=N.useState({height:0,left:0,top:0,width:0}),a=N.useCallback(s=>{if(s!=null){var o=s.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-r.height)>Zg||Math.abs(l.left-r.left)>Zg||Math.abs(l.top-r.top)>Zg||Math.abs(l.width-r.width)>Zg)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[r.width,r.height,r.top,r.left,...e]);return[r,a]}function Di(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var eQ=typeof Symbol=="function"&&Symbol.observable||"@@observable",$C=eQ,Bw=()=>Math.random().toString(36).substring(7).split("").join("."),tQ={INIT:`@@redux/INIT${Bw()}`,REPLACE:`@@redux/REPLACE${Bw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Bw()}`},yv=tQ;function YN(e){if(typeof e!="object"||e===null)return!1;let r=e;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r||Object.getPrototypeOf(e)===null}function R8(e,r,n){if(typeof e!="function")throw new Error(Di(2));if(typeof r=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Di(0));if(typeof r=="function"&&typeof n>"u"&&(n=r,r=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Di(1));return n(R8)(e,r)}let a=e,s=r,o=new Map,l=o,c=0,u=!1;function d(){l===o&&(l=new Map,o.forEach((v,S)=>{l.set(S,v)}))}function f(){if(u)throw new Error(Di(3));return s}function p(v){if(typeof v!="function")throw new Error(Di(4));if(u)throw new Error(Di(5));let S=!0;d();const k=c++;return l.set(k,v),function(){if(S){if(u)throw new Error(Di(6));S=!1,d(),l.delete(k),o=null}}}function x(v){if(!YN(v))throw new Error(Di(7));if(typeof v.type>"u")throw new Error(Di(8));if(typeof v.type!="string")throw new Error(Di(17));if(u)throw new Error(Di(9));try{u=!0,s=a(s,v)}finally{u=!1}return(o=l).forEach(k=>{k()}),v}function g(v){if(typeof v!="function")throw new Error(Di(10));a=v,x({type:yv.REPLACE})}function y(){const v=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(Di(11));function k(){const C=S;C.next&&C.next(f())}return k(),{unsubscribe:v(k)}},[$C](){return this}}}return x({type:yv.INIT}),{dispatch:x,subscribe:p,getState:f,replaceReducer:g,[$C]:y}}function rQ(e){Object.keys(e).forEach(r=>{const n=e[r];if(typeof n(void 0,{type:yv.INIT})>"u")throw new Error(Di(12));if(typeof n(void 0,{type:yv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Di(13))})}function z8(e){const r=Object.keys(e),n={};for(let o=0;o<r.length;o++){const l=r[o];typeof e[l]=="function"&&(n[l]=e[l])}const a=Object.keys(n);let s;try{rQ(n)}catch(o){s=o}return function(l={},c){if(s)throw s;let u=!1;const d={};for(let f=0;f<a.length;f++){const p=a[f],x=n[p],g=l[p],y=x(g,c);if(typeof y>"u")throw c&&c.type,new Error(Di(14));d[p]=y,u=u||y!==g}return u=u||a.length!==Object.keys(l).length,u?d:l}}function bv(...e){return e.length===0?r=>r:e.length===1?e[0]:e.reduce((r,n)=>(...a)=>r(n(...a)))}function nQ(...e){return r=>(n,a)=>{const s=r(n,a);let o=()=>{throw new Error(Di(15))};const l={getState:s.getState,dispatch:(u,...d)=>o(u,...d)},c=e.map(u=>u(l));return o=bv(...c)(s.dispatch),{...s,dispatch:o}}}function F8(e){return YN(e)&&"type"in e&&typeof e.type=="string"}var $8=Symbol.for("immer-nothing"),BC=Symbol.for("immer-draftable"),wo=Symbol.for("immer-state");function Cl(e,...r){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var a0=Object.getPrototypeOf;function Dh(e){return!!e&&!!e[wo]}function mu(e){var r;return e?B8(e)||Array.isArray(e)||!!e[BC]||!!((r=e.constructor)!=null&&r[BC])||M0(e)||qy(e):!1}var aQ=Object.prototype.constructor.toString(),UC=new WeakMap;function B8(e){if(!e||typeof e!="object")return!1;const r=Object.getPrototypeOf(e);if(r===null||r===Object.prototype)return!0;const n=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let a=UC.get(n);return a===void 0&&(a=Function.toString.call(n),UC.set(n,a)),a===aQ}function wv(e,r,n=!0){Uy(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{r(s,e[s],e)}):e.forEach((a,s)=>r(s,a,e))}function Uy(e){const r=e[wo];return r?r.type_:Array.isArray(e)?1:M0(e)?2:qy(e)?3:0}function H5(e,r){return Uy(e)===2?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function U8(e,r,n){const a=Uy(e);a===2?e.set(r,n):a===3?e.add(n):e[r]=n}function iQ(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function M0(e){return e instanceof Map}function qy(e){return e instanceof Set}function sh(e){return e.copy_||e.base_}function V5(e,r){if(M0(e))return new Map(e);if(qy(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=B8(e);if(r===!0||r==="class_only"&&!n){const a=Object.getOwnPropertyDescriptors(e);delete a[wo];let s=Reflect.ownKeys(a);for(let o=0;o<s.length;o++){const l=s[o],c=a[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(a[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[l]})}return Object.create(a0(e),a)}else{const a=a0(e);if(a!==null&&n)return{...e};const s=Object.create(a);return Object.assign(s,e)}}function XN(e,r=!1){return Hy(e)||Dh(e)||!mu(e)||(Uy(e)>1&&Object.defineProperties(e,{set:Qg,add:Qg,clear:Qg,delete:Qg}),Object.freeze(e),r&&Object.values(e).forEach(n=>XN(n,!0))),e}function sQ(){Cl(2)}var Qg={value:sQ};function Hy(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var oQ={};function Lh(e){const r=oQ[e];return r||Cl(0,e),r}var i0;function q8(){return i0}function lQ(e,r){return{drafts_:[],parent_:e,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function qC(e,r){r&&(Lh("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=r)}function W5(e){K5(e),e.drafts_.forEach(cQ),e.drafts_=null}function K5(e){e===i0&&(i0=e.parent_)}function HC(e){return i0=lQ(i0,e)}function cQ(e){const r=e[wo];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function VC(e,r){r.unfinalizedDrafts_=r.drafts_.length;const n=r.drafts_[0];return e!==void 0&&e!==n?(n[wo].modified_&&(W5(r),Cl(4)),mu(e)&&(e=jv(r,e),r.parent_||Nv(r,e)),r.patches_&&Lh("Patches").generateReplacementPatches_(n[wo].base_,e,r.patches_,r.inversePatches_)):e=jv(r,n,[]),W5(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),e!==$8?e:void 0}function jv(e,r,n){if(Hy(r))return r;const a=e.immer_.shouldUseStrictIteration(),s=r[wo];if(!s)return wv(r,(o,l)=>WC(e,s,r,o,l,n),a),r;if(s.scope_!==e)return r;if(!s.modified_)return Nv(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let l=o,c=!1;s.type_===3&&(l=new Set(o),o.clear(),c=!0),wv(l,(u,d)=>WC(e,s,o,u,d,n,c),a),Nv(e,o,!1),n&&e.patches_&&Lh("Patches").generatePatches_(s,n,e.patches_,e.inversePatches_)}return s.copy_}function WC(e,r,n,a,s,o,l){if(s==null||typeof s!="object"&&!l)return;const c=Hy(s);if(!(c&&!l)){if(Dh(s)){const u=o&&r&&r.type_!==3&&!H5(r.assigned_,a)?o.concat(a):void 0,d=jv(e,s,u);if(U8(n,a,d),Dh(d))e.canAutoFreeze_=!1;else return}else l&&n.add(s);if(mu(s)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||r&&r.base_&&r.base_[a]===s&&c)return;jv(e,s),(!r||!r.scope_.parent_)&&typeof a!="symbol"&&(M0(n)?n.has(a):Object.prototype.propertyIsEnumerable.call(n,a))&&Nv(e,s)}}}function Nv(e,r,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&XN(r,n)}function uQ(e,r){const n=Array.isArray(e),a={type_:n?1:0,scope_:r?r.scope_:q8(),modified_:!1,finalized_:!1,assigned_:{},parent_:r,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=a,o=JN;n&&(s=[a],o=s0);const{revoke:l,proxy:c}=Proxy.revocable(s,o);return a.draft_=c,a.revoke_=l,c}var JN={get(e,r){if(r===wo)return e;const n=sh(e);if(!H5(n,r))return dQ(e,n,r);const a=n[r];return e.finalized_||!mu(a)?a:a===Uw(e.base_,r)?(qw(e),e.copy_[r]=Y5(a,e)):a},has(e,r){return r in sh(e)},ownKeys(e){return Reflect.ownKeys(sh(e))},set(e,r,n){const a=H8(sh(e),r);if(a!=null&&a.set)return a.set.call(e.draft_,n),!0;if(!e.modified_){const s=Uw(sh(e),r),o=s==null?void 0:s[wo];if(o&&o.base_===n)return e.copy_[r]=n,e.assigned_[r]=!1,!0;if(iQ(n,s)&&(n!==void 0||H5(e.base_,r)))return!0;qw(e),G5(e)}return e.copy_[r]===n&&(n!==void 0||r in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[r])||(e.copy_[r]=n,e.assigned_[r]=!0),!0},deleteProperty(e,r){return Uw(e.base_,r)!==void 0||r in e.base_?(e.assigned_[r]=!1,qw(e),G5(e)):delete e.assigned_[r],e.copy_&&delete e.copy_[r],!0},getOwnPropertyDescriptor(e,r){const n=sh(e),a=Reflect.getOwnPropertyDescriptor(n,r);return a&&{writable:!0,configurable:e.type_!==1||r!=="length",enumerable:a.enumerable,value:n[r]}},defineProperty(){Cl(11)},getPrototypeOf(e){return a0(e.base_)},setPrototypeOf(){Cl(12)}},s0={};wv(JN,(e,r)=>{s0[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}});s0.deleteProperty=function(e,r){return s0.set.call(this,e,r,void 0)};s0.set=function(e,r,n){return JN.set.call(this,e[0],r,n,e[0])};function Uw(e,r){const n=e[wo];return(n?sh(n):e)[r]}function dQ(e,r,n){var s;const a=H8(r,n);return a?"value"in a?a.value:(s=a.get)==null?void 0:s.call(e.draft_):void 0}function H8(e,r){if(!(r in e))return;let n=a0(e);for(;n;){const a=Object.getOwnPropertyDescriptor(n,r);if(a)return a;n=a0(n)}}function G5(e){e.modified_||(e.modified_=!0,e.parent_&&G5(e.parent_))}function qw(e){e.copy_||(e.copy_=V5(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var hQ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(r,n,a)=>{if(typeof r=="function"&&typeof n!="function"){const o=n;n=r;const l=this;return function(u=o,...d){return l.produce(u,f=>n.call(this,f,...d))}}typeof n!="function"&&Cl(6),a!==void 0&&typeof a!="function"&&Cl(7);let s;if(mu(r)){const o=HC(this),l=Y5(r,void 0);let c=!0;try{s=n(l),c=!1}finally{c?W5(o):K5(o)}return qC(o,a),VC(s,o)}else if(!r||typeof r!="object"){if(s=n(r),s===void 0&&(s=r),s===$8&&(s=void 0),this.autoFreeze_&&XN(s,!0),a){const o=[],l=[];Lh("Patches").generateReplacementPatches_(r,s,o,l),a(o,l)}return s}else Cl(1,r)},this.produceWithPatches=(r,n)=>{if(typeof r=="function")return(l,...c)=>this.produceWithPatches(l,u=>r(u,...c));let a,s;return[this.produce(r,n,(l,c)=>{a=l,s=c}),a,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){mu(e)||Cl(8),Dh(e)&&(e=au(e));const r=HC(this),n=Y5(e,void 0);return n[wo].isManual_=!0,K5(r),n}finishDraft(e,r){const n=e&&e[wo];(!n||!n.isManual_)&&Cl(9);const{scope_:a}=n;return qC(a,r),VC(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(r=r.slice(n+1));const a=Lh("Patches").applyPatches_;return Dh(e)?a(e,r):this.produce(e,s=>a(s,r))}};function Y5(e,r){const n=M0(e)?Lh("MapSet").proxyMap_(e,r):qy(e)?Lh("MapSet").proxySet_(e,r):uQ(e,r);return(r?r.scope_:q8()).drafts_.push(n),n}function au(e){return Dh(e)||Cl(10,e),V8(e)}function V8(e){if(!mu(e)||Hy(e))return e;const r=e[wo];let n,a=!0;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,n=V5(e,r.scope_.immer_.useStrictShallowCopy_),a=r.scope_.immer_.shouldUseStrictIteration()}else n=V5(e,!0);return wv(n,(s,o)=>{U8(n,s,V8(o))},a),r&&(r.finalized_=!1),n}var X5=new hQ,W8=X5.produce,fQ=X5.setUseStrictIteration.bind(X5);function K8(e){return({dispatch:n,getState:a})=>s=>o=>typeof o=="function"?o(n,a,e):s(o)}var mQ=K8(),pQ=K8,gQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?bv:bv.apply(null,arguments)};function Xo(e,r){function n(...a){if(r){let s=r(...a);if(!s)throw new Error(bo(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:a[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=a=>F8(a)&&a.type===e,n}var G8=class Cp extends Array{constructor(...r){super(...r),Object.setPrototypeOf(this,Cp.prototype)}static get[Symbol.species](){return Cp}concat(...r){return super.concat.apply(this,r)}prepend(...r){return r.length===1&&Array.isArray(r[0])?new Cp(...r[0].concat(this)):new Cp(...r.concat(this))}};function KC(e){return mu(e)?W8(e,()=>{}):e}function ex(e,r,n){return e.has(r)?e.get(r):e.set(r,n(r)).get(r)}function xQ(e){return typeof e=="boolean"}var vQ=()=>function(r){const{thunk:n=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=r??{};let l=new G8;return n&&(xQ(n)?l.push(mQ):l.push(pQ(n.extraArgument))),l},Y8="RTK_autoBatch",Ja=()=>e=>({payload:e,meta:{[Y8]:!0}}),GC=e=>r=>{setTimeout(r,e)},X8=(e={type:"raf"})=>r=>(...n)=>{const a=r(...n);let s=!0,o=!1,l=!1;const c=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:GC(10):e.type==="callback"?e.queueNotification:GC(e.timeout),d=()=>{l=!1,o&&(o=!1,c.forEach(f=>f()))};return Object.assign({},a,{subscribe(f){const p=()=>s&&f(),x=a.subscribe(p);return c.add(f),()=>{x(),c.delete(f)}},dispatch(f){var p;try{return s=!((p=f==null?void 0:f.meta)!=null&&p[Y8]),o=!s,o&&(l||(l=!0,u(d))),a.dispatch(f)}finally{s=!0}}})},yQ=e=>function(n){const{autoBatch:a=!0}=n??{};let s=new G8(e);return a&&s.push(X8(typeof a=="object"?a:void 0)),s};function bQ(e){const r=vQ(),{reducer:n=void 0,middleware:a,devTools:s=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(YN(n))c=z8(n);else throw new Error(bo(1));let u;typeof a=="function"?u=a(r):u=r();let d=bv;s&&(d=gQ({trace:!1,...typeof s=="object"&&s}));const f=nQ(...u),p=yQ(f);let x=typeof l=="function"?l(p):p();const g=d(...x);return R8(c,o,g)}function J8(e){const r={},n=[];let a;const s={addCase(o,l){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(bo(28));if(c in r)throw new Error(bo(29));return r[c]=l,s},addAsyncThunk(o,l){return l.pending&&(r[o.pending.type]=l.pending),l.rejected&&(r[o.rejected.type]=l.rejected),l.fulfilled&&(r[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),s},addMatcher(o,l){return n.push({matcher:o,reducer:l}),s},addDefaultCase(o){return a=o,s}};return e(s),[r,n,a]}fQ(!1);function wQ(e){return typeof e=="function"}function jQ(e,r){let[n,a,s]=J8(r),o;if(wQ(e))o=()=>KC(e());else{const c=KC(e);o=()=>c}function l(c=o(),u){let d=[n[u.type],...a.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[s]),d.reduce((f,p)=>{if(p)if(Dh(f)){const g=p(f,u);return g===void 0?f:g}else{if(mu(f))return W8(f,x=>p(x,u));{const x=p(f,u);if(x===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return f},c)}return l.getInitialState=o,l}var NQ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",_Q=(e=21)=>{let r="",n=e;for(;n--;)r+=NQ[Math.random()*64|0];return r},SQ=Symbol.for("rtk-slice-createasyncthunk");function kQ(e,r){return`${e}/${r}`}function CQ({creators:e}={}){var n;const r=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[SQ];return function(s){const{name:o,reducerPath:l=o}=s;if(!o)throw new Error(bo(11));const c=(typeof s.reducers=="function"?s.reducers(EQ()):s.reducers)||{},u=Object.keys(c),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(C,z){const $=typeof C=="string"?C:C.type;if(!$)throw new Error(bo(12));if($ in d.sliceCaseReducersByType)throw new Error(bo(13));return d.sliceCaseReducersByType[$]=z,f},addMatcher(C,z){return d.sliceMatchers.push({matcher:C,reducer:z}),f},exposeAction(C,z){return d.actionCreators[C]=z,f},exposeCaseReducer(C,z){return d.sliceCaseReducersByName[C]=z,f}};u.forEach(C=>{const z=c[C],$={reducerName:C,type:kQ(o,C),createNotation:typeof s.reducers=="function"};DQ(z)?OQ($,z,f,r):AQ($,z,f)});function p(){const[C={},z=[],$=void 0]=typeof s.extraReducers=="function"?J8(s.extraReducers):[s.extraReducers],F={...C,...d.sliceCaseReducersByType};return jQ(s.initialState,V=>{for(let B in F)V.addCase(B,F[B]);for(let B of d.sliceMatchers)V.addMatcher(B.matcher,B.reducer);for(let B of z)V.addMatcher(B.matcher,B.reducer);$&&V.addDefaultCase($)})}const x=C=>C,g=new Map,y=new WeakMap;let w;function v(C,z){return w||(w=p()),w(C,z)}function S(){return w||(w=p()),w.getInitialState()}function k(C,z=!1){function $(V){let B=V[C];return typeof B>"u"&&z&&(B=ex(y,$,S)),B}function F(V=x){const B=ex(g,z,()=>new WeakMap);return ex(B,V,()=>{const K={};for(const[T,M]of Object.entries(s.selectors??{}))K[T]=PQ(M,V,()=>ex(y,V,S),z);return K})}return{reducerPath:C,getSelectors:F,get selectors(){return F($)},selectSlice:$}}const j={name:o,reducer:v,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:S,...k(l),injectInto(C,{reducerPath:z,...$}={}){const F=z??l;return C.inject({reducerPath:F,reducer:v},$),{...j,...k(F,!0)}}};return j}}function PQ(e,r,n,a){function s(o,...l){let c=r(o);return typeof c>"u"&&a&&(c=n()),e(c,...l)}return s.unwrapped=e,s}var Ks=CQ();function EQ(){function e(r,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:r,...n}}return e.withTypes=()=>e,{reducer(r){return Object.assign({[r.name](...n){return r(...n)}}[r.name],{_reducerDefinitionType:"reducer"})},preparedReducer(r,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:r,reducer:n}},asyncThunk:e}}function AQ({type:e,reducerName:r,createNotation:n},a,s){let o,l;if("reducer"in a){if(n&&!LQ(a))throw new Error(bo(17));o=a.reducer,l=a.prepare}else o=a;s.addCase(e,o).exposeCaseReducer(r,o).exposeAction(r,l?Xo(e,l):Xo(e))}function DQ(e){return e._reducerDefinitionType==="asyncThunk"}function LQ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function OQ({type:e,reducerName:r},n,a,s){if(!s)throw new Error(bo(18));const{payloadCreator:o,fulfilled:l,pending:c,rejected:u,settled:d,options:f}=n,p=s(e,o,f);a.exposeAction(r,p),l&&a.addCase(p.fulfilled,l),c&&a.addCase(p.pending,c),u&&a.addCase(p.rejected,u),d&&a.addMatcher(p.settled,d),a.exposeCaseReducer(r,{fulfilled:l||tx,pending:c||tx,rejected:u||tx,settled:d||tx})}function tx(){}var TQ="task",Z8="listener",Q8="completed",ZN="cancelled",MQ=`task-${ZN}`,IQ=`task-${Q8}`,J5=`${Z8}-${ZN}`,RQ=`${Z8}-${Q8}`,Vy=class{constructor(e){dn(this,"name","TaskAbortError");dn(this,"message");this.code=e,this.message=`${TQ} ${ZN} (reason: ${e})`}},QN=(e,r)=>{if(typeof e!="function")throw new TypeError(bo(32))},_v=()=>{},eM=(e,r=_v)=>(e.catch(r),e),tM=(e,r)=>(e.addEventListener("abort",r,{once:!0}),()=>e.removeEventListener("abort",r)),_h=(e,r)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:r,configurable:!0,writable:!0}),e.abort(r))},Sh=e=>{if(e.aborted){const{reason:r}=e;throw new Vy(r)}};function rM(e,r){let n=_v;return new Promise((a,s)=>{const o=()=>s(new Vy(e.reason));if(e.aborted){o();return}n=tM(e,o),r.finally(()=>n()).then(a,s)}).finally(()=>{n=_v})}var zQ=async(e,r)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Vy?"cancelled":"rejected",error:n}}finally{r==null||r()}},Sv=e=>r=>eM(rM(e,r).then(n=>(Sh(e),n))),nM=e=>{const r=Sv(e);return n=>r(new Promise(a=>setTimeout(a,n)))},{assign:Gf}=Object,YC={},Wy="listenerMiddleware",FQ=(e,r)=>{const n=a=>tM(e,()=>_h(a,e.reason));return(a,s)=>{QN(a);const o=new AbortController;n(o);const l=zQ(async()=>{Sh(e),Sh(o.signal);const c=await a({pause:Sv(o.signal),delay:nM(o.signal),signal:o.signal});return Sh(o.signal),c},()=>_h(o,IQ));return s!=null&&s.autoJoin&&r.push(l.catch(_v)),{result:Sv(e)(l),cancel(){_h(o,MQ)}}}},$Q=(e,r)=>{const n=async(a,s)=>{Sh(r);let o=()=>{};const c=[new Promise((u,d)=>{let f=e({predicate:a,effect:(p,x)=>{x.unsubscribe(),u([p,x.getState(),x.getOriginalState()])}});o=()=>{f(),d()}})];s!=null&&c.push(new Promise(u=>setTimeout(u,s,null)));try{const u=await rM(r,Promise.race(c));return Sh(r),u}finally{o()}};return(a,s)=>eM(n(a,s))},aM=e=>{let{type:r,actionCreator:n,matcher:a,predicate:s,effect:o}=e;if(r)s=Xo(r).match;else if(n)r=n.type,s=n.match;else if(a)s=a;else if(!s)throw new Error(bo(21));return QN(o),{predicate:s,type:r,effect:o}},iM=Gf(e=>{const{type:r,predicate:n,effect:a}=aM(e);return{id:_Q(),effect:a,type:r,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(bo(22))}}},{withTypes:()=>iM}),XC=(e,r)=>{const{type:n,effect:a,predicate:s}=aM(r);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===s)&&o.effect===a)},Z5=e=>{e.pending.forEach(r=>{_h(r,J5)})},BQ=(e,r)=>()=>{for(const n of r.keys())Z5(n);e.clear()},JC=(e,r,n)=>{try{e(r,n)}catch(a){setTimeout(()=>{throw a},0)}},sM=Gf(Xo(`${Wy}/add`),{withTypes:()=>sM}),UQ=Xo(`${Wy}/removeAll`),oM=Gf(Xo(`${Wy}/remove`),{withTypes:()=>oM}),qQ=(...e)=>{console.error(`${Wy}/error`,...e)},I0=(e={})=>{const r=new Map,n=new Map,a=g=>{const y=n.get(g)??0;n.set(g,y+1)},s=g=>{const y=n.get(g)??1;y===1?n.delete(g):n.set(g,y-1)},{extra:o,onError:l=qQ}=e;QN(l);const c=g=>(g.unsubscribe=()=>r.delete(g.id),r.set(g.id,g),y=>{g.unsubscribe(),y!=null&&y.cancelActive&&Z5(g)}),u=g=>{const y=XC(r,g)??iM(g);return c(y)};Gf(u,{withTypes:()=>u});const d=g=>{const y=XC(r,g);return y&&(y.unsubscribe(),g.cancelActive&&Z5(y)),!!y};Gf(d,{withTypes:()=>d});const f=async(g,y,w,v)=>{const S=new AbortController,k=$Q(u,S.signal),j=[];try{g.pending.add(S),a(g),await Promise.resolve(g.effect(y,Gf({},w,{getOriginalState:v,condition:(C,z)=>k(C,z).then(Boolean),take:k,delay:nM(S.signal),pause:Sv(S.signal),extra:o,signal:S.signal,fork:FQ(S.signal,j),unsubscribe:g.unsubscribe,subscribe:()=>{r.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((C,z,$)=>{C!==S&&(_h(C,J5),$.delete(C))})},cancel:()=>{_h(S,J5),g.pending.delete(S)},throwIfCancelled:()=>{Sh(S.signal)}})))}catch(C){C instanceof Vy||JC(l,C,{raisedBy:"effect"})}finally{await Promise.all(j),_h(S,RQ),s(g),g.pending.delete(S)}},p=BQ(r,n);return{middleware:g=>y=>w=>{if(!F8(w))return y(w);if(sM.match(w))return u(w.payload);if(UQ.match(w)){p();return}if(oM.match(w))return d(w.payload);let v=g.getState();const S=()=>{if(v===YC)throw new Error(bo(23));return v};let k;try{if(k=y(w),r.size>0){const j=g.getState(),C=Array.from(r.values());for(const z of C){let $=!1;try{$=z.predicate(w,j,v)}catch(F){$=!1,JC(l,F,{raisedBy:"predicate"})}$&&f(z,w,g,S)}}}finally{v=YC}return k},startListening:u,stopListening:d,clearListeners:p}};function bo(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var HQ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},lM=Ks({name:"chartLayout",initialState:HQ,reducers:{setLayout(e,r){e.layoutType=r.payload},setChartSize(e,r){e.width=r.payload.width,e.height=r.payload.height},setMargin(e,r){var n,a,s,o;e.margin.top=(n=r.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(a=r.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(s=r.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(o=r.payload.left)!==null&&o!==void 0?o:0},setScale(e,r){e.scale=r.payload}}}),{setMargin:VQ,setLayout:WQ,setChartSize:KQ,setScale:GQ}=lM.actions,YQ=lM.reducer;function cM(e,r,n){return Array.isArray(e)&&e&&r+n!==0?e.slice(r,n+1):e}function ZC(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function zf(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?ZC(Object(n),!0).forEach(function(a){XQ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function XQ(e,r,n){return(r=JQ(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function JQ(e){var r=ZQ(e,"string");return typeof r=="symbol"?r:r+""}function ZQ(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function _s(e,r,n){return mi(e)||mi(r)?n:gc(r)?$y(e,r,n):typeof r=="function"?r(e):n}var QQ=(e,r,n)=>{if(r&&n){var{width:a,height:s}=n,{align:o,verticalAlign:l,layout:c}=r;if((c==="vertical"||c==="horizontal"&&l==="middle")&&o!=="center"&&Dr(e[o]))return zf(zf({},e),{},{[o]:e[o]+(a||0)});if((c==="horizontal"||c==="vertical"&&o==="center")&&l!=="middle"&&Dr(e[l]))return zf(zf({},e),{},{[l]:e[l]+(s||0)})}return e},kd=(e,r)=>e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis",QC=1e-4,eee=e=>{var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),s=Math.min(a[0],a[1])-QC,o=Math.max(a[0],a[1])+QC,l=e(r[0]),c=e(r[n-1]);(l<s||l>o||c<s||c>o)&&e.domain([r[0],r[n-1]])}},tee=e=>{var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=hu(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},ree=e=>{var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=hu(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},nee={sign:tee,expand:MJ,none:lm,silhouette:IJ,wiggle:RJ,positive:ree},aee=(e,r,n)=>{var a=nee[n],s=TJ().keys(r).value((o,l)=>Number(_s(o,l,0))).order(U5).offset(a);return s(e)};function eP(e){var{axis:r,ticks:n,bandSize:a,entry:s,index:o,dataKey:l}=e;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!mi(s[r.dataKey])){var c=b8(n,"value",s[r.dataKey]);if(c)return c.coordinate+a/2}return n[o]?n[o].coordinate+a/2:null}var u=_s(s,mi(l)?r.dataKey:l);return mi(u)?null:r.scale(u)}var iee=e=>{var r=e.flat(2).filter(Dr);return[Math.min(...r),Math.max(...r)]},see=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],oee=(e,r,n)=>{if(e!=null)return see(Object.keys(e).reduce((a,s)=>{var o=e[s],{stackedData:l}=o,c=l.reduce((u,d)=>{var f=cM(d,r,n),p=iee(f);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]))},tP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kv=(e,r,n)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var s=By(r,f=>f.coordinate),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function nP(e){var{tooltipEntrySettings:r,dataKey:n,payload:a,value:s,name:o}=e;return zf(zf({},r),{},{dataKey:n,payload:a,value:s,name:o})}function uM(e,r){if(e)return String(e);if(typeof r=="string")return r}var lee=(e,r)=>{if(r==="horizontal")return e.chartX;if(r==="vertical")return e.chartY},cee=(e,r)=>r==="centric"?e.angle:e.radius,bu=e=>e.layout.width,wu=e=>e.layout.height,uee=e=>e.layout.scale,dM=e=>e.layout.margin,Ky=ot(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Gy=ot(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),dee="data-recharts-item-index",hee="data-recharts-item-data-key",R0=60;function aP(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function rx(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?aP(Object(n),!0).forEach(function(a){fee(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function fee(e,r,n){return(r=mee(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function mee(e){var r=pee(e,"string");return typeof r=="symbol"?r:r+""}function pee(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var gee=e=>e.brush.height;function xee(e){var r=Gy(e);return r.reduce((n,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:R0;return n+s}return n},0)}function vee(e){var r=Gy(e);return r.reduce((n,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:R0;return n+s}return n},0)}function yee(e){var r=Ky(e);return r.reduce((n,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?n+a.height:n,0)}function bee(e){var r=Ky(e);return r.reduce((n,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?n+a.height:n,0)}var Mi=ot([bu,wu,dM,gee,xee,vee,yee,bee,I8,JZ],(e,r,n,a,s,o,l,c,u,d)=>{var f={left:(n.left||0)+s,right:(n.right||0)+o},p={top:(n.top||0)+l,bottom:(n.bottom||0)+c},x=rx(rx({},p),f),g=x.bottom;x.bottom+=a,x=QQ(x,u,d);var y=e-x.left-x.right,w=r-x.top-x.bottom;return rx(rx({brushBottom:g},x),{},{width:Math.max(y,0),height:Math.max(w,0)})}),wee=ot(Mi,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),hM=ot(bu,wu,(e,r)=>({x:0,y:0,width:e,height:r})),jee=N.createContext(null),ko=()=>N.useContext(jee)!=null,Yy=e=>e.brush,Xy=ot([Yy,Mi,dM],(e,r,n)=>({height:e.height,x:Dr(e.x)?e.x:r.left,y:Dr(e.y)?e.y:r.top+r.height+r.brushBottom-((n==null?void 0:n.bottom)||0),width:Dr(e.width)?e.width:r.width})),Hw={},Vw={},Ww={},iP;function Nee(){return iP||(iP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n,a,{signal:s,edges:o}={}){let l,c=null;const u=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),f=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},p=()=>{d&&f(),w()};let x=null;const g=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,p()},a)},y=()=>{x!==null&&(clearTimeout(x),x=null)},w=()=>{y(),l=void 0,c=null},v=()=>{f()},S=function(...k){if(s!=null&&s.aborted)return;l=this,c=k;const j=x==null;g(),u&&j&&f()};return S.schedule=g,S.cancel=w,S.flush=v,s==null||s.addEventListener("abort",w,{once:!0}),S}e.debounce=r}(Ww)),Ww}var sP;function _ee(){return sP||(sP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Nee();function n(a,s=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:c=!0,maxWait:u}=o,d=Array(2);l&&(d[0]="leading"),c&&(d[1]="trailing");let f,p=null;const x=r.debounce(function(...w){f=a.apply(this,w),p=null},s,{edges:d}),g=function(...w){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(f=a.apply(this,w),p=Date.now(),x.cancel(),x.schedule(),f):(x.apply(this,w),f)},y=()=>(x.flush(),f);return g.cancel=x.cancel,g.flush=y,g}e.debounce=n}(Vw)),Vw}var oP;function See(){return oP||(oP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=_ee();function n(a,s=0,o={}){const{leading:l=!0,trailing:c=!0}=o;return r.debounce(a,s,{leading:l,maxWait:s,trailing:c})}e.throttle=n}(Hw)),Hw}var Kw,lP;function kee(){return lP||(lP=1,Kw=See().throttle),Kw}var Cee=kee();const Pee=Qo(Cee);var cP=function(r,n){for(var a=arguments.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o]},fM=(e,r,n)=>{var{width:a="100%",height:s="100%",aspect:o,maxHeight:l}=n,c=fu(a)?e:Number(a),u=fu(s)?r:Number(s);return o&&o>0&&(c?u=c/o:u&&(c=u*o),l&&u!=null&&u>l&&(u=l)),{calculatedWidth:c,calculatedHeight:u}},Eee={width:0,height:0,overflow:"visible"},Aee={width:0,overflowX:"visible"},Dee={height:0,overflowY:"visible"},Lee={},Oee=e=>{var{width:r,height:n}=e,a=fu(r),s=fu(n);return a&&s?Eee:a?Aee:s?Dee:Lee};function Tee(e){var{width:r,height:n,aspect:a}=e,s=r,o=n;return s===void 0&&o===void 0?(s="100%",o="100%"):s===void 0?s=a&&a>0?void 0:"100%":o===void 0&&(o=a&&a>0?void 0:"100%"),{width:s,height:o}}function pi(e){return Number.isFinite(e)}function bd(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Q5(){return Q5=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Q5.apply(null,arguments)}function uP(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function dP(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?uP(Object(n),!0).forEach(function(a){Mee(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Mee(e,r,n){return(r=Iee(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Iee(e){var r=Ree(e,"string");return typeof r=="symbol"?r:r+""}function Ree(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var mM=N.createContext({width:-1,height:-1});function zee(e){return bd(e.width)&&bd(e.height)}function pM(e){var{children:r,width:n,height:a}=e,s=N.useMemo(()=>({width:n,height:a}),[n,a]);return zee(s)?N.createElement(mM.Provider,{value:s},r):null}var e3=()=>N.useContext(mM),Fee=N.forwardRef((e,r)=>{var{aspect:n,initialDimension:a={width:-1,height:-1},width:s,height:o,minWidth:l=0,minHeight:c,maxHeight:u,children:d,debounce:f=0,id:p,className:x,onResize:g,style:y={}}=e,w=N.useRef(null),v=N.useRef();v.current=g,N.useImperativeHandle(r,()=>w.current);var[S,k]=N.useState({containerWidth:a.width,containerHeight:a.height}),j=N.useCallback((V,B)=>{k(K=>{var T=Math.round(V),M=Math.round(B);return K.containerWidth===T&&K.containerHeight===M?K:{containerWidth:T,containerHeight:M}})},[]);N.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return jm;var V=M=>{var I,{width:q,height:H}=M[0].contentRect;j(q,H),(I=v.current)===null||I===void 0||I.call(v,q,H)};f>0&&(V=Pee(V,f,{trailing:!0,leading:!1}));var B=new ResizeObserver(V),{width:K,height:T}=w.current.getBoundingClientRect();return j(K,T),B.observe(w.current),()=>{B.disconnect()}},[j,f]);var{containerWidth:C,containerHeight:z}=S;cP(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:$,calculatedHeight:F}=fM(C,z,{width:s,height:o,aspect:n,maxHeight:u});return cP($!=null&&$>0||F!=null&&F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,F,s,o,l,c,n),N.createElement("div",{id:p?"".concat(p):void 0,className:Cn("recharts-responsive-container",x),style:dP(dP({},y),{},{width:s,height:o,minWidth:l,minHeight:c,maxHeight:u}),ref:w},N.createElement("div",{style:Oee({width:s,height:o})},N.createElement(pM,{width:$,height:F},d)))}),Ax=N.forwardRef((e,r)=>{var n=e3();if(bd(n.width)&&bd(n.height))return e.children;var{width:a,height:s}=Tee({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:l}=fM(void 0,void 0,{width:a,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Dr(o)&&Dr(l)?N.createElement(pM,{width:o,height:l},e.children):N.createElement(Fee,Q5({},e,{width:a,height:s,ref:r}))});function gM(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Jy=()=>{var e,r=ko(),n=wr(wee),a=wr(Xy),s=(e=wr(Yy))===null||e===void 0?void 0:e.padding;return!r||!a||!s?n:{width:a.width-s.left-s.right,height:a.height-s.top-s.bottom,x:s.left,y:s.top}},$ee={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Bee=()=>{var e;return(e=wr(Mi))!==null&&e!==void 0?e:$ee},Uee=()=>wr(bu),qee=()=>wr(wu),Kn=e=>e.layout.layoutType,Zy=()=>wr(Kn),Hee=()=>{var e=Zy();return e!==void 0},Qy=e=>{var r=vi(),n=ko(),{width:a,height:s}=e,o=e3(),l=a,c=s;return o&&(l=o.width>0?o.width:a,c=o.height>0?o.height:s),N.useEffect(()=>{!n&&bd(l)&&bd(c)&&r(KQ({width:l,height:c}))},[r,n,l,c]),null},Vee={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},xM=Ks({name:"legend",initialState:Vee,reducers:{setLegendSize(e,r){e.size.width=r.payload.width,e.size.height=r.payload.height},setLegendSettings(e,r){e.settings.align=r.payload.align,e.settings.layout=r.payload.layout,e.settings.verticalAlign=r.payload.verticalAlign,e.settings.itemSorter=r.payload.itemSorter},addLegendPayload:{reducer(e,r){e.payload.push(r.payload)},prepare:Ja()},removeLegendPayload:{reducer(e,r){var n=au(e).payload.indexOf(r.payload);n>-1&&e.payload.splice(n,1)},prepare:Ja()}}}),{setLegendSize:Hve,setLegendSettings:Vve,addLegendPayload:Wee,removeLegendPayload:Kee}=xM.actions,Gee=xM.reducer;function ej(){return ej=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ej.apply(null,arguments)}function hP(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Gw(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?hP(Object(n),!0).forEach(function(a){Yee(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Yee(e,r,n){return(r=Xee(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Xee(e){var r=Jee(e,"string");return typeof r=="symbol"?r:r+""}function Jee(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Zee(e){return Array.isArray(e)&&gc(e[0])&&gc(e[1])?e.join(" ~ "):e}var Qee=e=>{var{separator:r=" : ",contentStyle:n={},itemStyle:a={},labelStyle:s={},payload:o,formatter:l,itemSorter:c,wrapperClassName:u,labelClassName:d,label:f,labelFormatter:p,accessibilityLayer:x=!1}=e,g=()=>{if(o&&o.length){var z={padding:0,margin:0},$=(c?By(o,c):o).map((F,V)=>{if(F.type==="none")return null;var B=F.formatter||l||Zee,{value:K,name:T}=F,M=K,I=T;if(B){var q=B(K,T,F,V,o);if(Array.isArray(q))[M,I]=q;else if(q!=null)M=q;else return null}var H=Gw({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},a);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:H},gc(I)?N.createElement("span",{className:"recharts-tooltip-item-name"},I):null,gc(I)?N.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,N.createElement("span",{className:"recharts-tooltip-item-value"},M),N.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:z},$)}return null},y=Gw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=Gw({margin:0},s),v=!mi(f),S=v?f:"",k=Cn("recharts-default-tooltip",u),j=Cn("recharts-tooltip-label",d);v&&p&&o!==void 0&&o!==null&&(S=p(f,o));var C=x?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",ej({className:k,style:y},C),N.createElement("p",{className:j,style:w},N.isValidElement(S)?S:"".concat(S)),g())},hp="recharts-tooltip-wrapper",ete={visibility:"hidden"};function tte(e){var{coordinate:r,translateX:n,translateY:a}=e;return Cn(hp,{["".concat(hp,"-right")]:Dr(n)&&r&&Dr(r.x)&&n>=r.x,["".concat(hp,"-left")]:Dr(n)&&r&&Dr(r.x)&&n<r.x,["".concat(hp,"-bottom")]:Dr(a)&&r&&Dr(r.y)&&a>=r.y,["".concat(hp,"-top")]:Dr(a)&&r&&Dr(r.y)&&a<r.y})}function fP(e){var{allowEscapeViewBox:r,coordinate:n,key:a,offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c,viewBox:u,viewBoxDimension:d}=e;if(o&&Dr(o[a]))return o[a];var f=n[a]-c-(s>0?s:0),p=n[a]+s;if(r[a])return l[a]?f:p;var x=u[a];if(x==null)return 0;if(l[a]){var g=f,y=x;return g<y?Math.max(p,x):Math.max(f,x)}if(d==null)return 0;var w=p+c,v=x+d;return w>v?Math.max(f,x):Math.max(p,x)}function rte(e){var{translateX:r,translateY:n,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(r,"px, ").concat(n,"px, 0)"):"translate(".concat(r,"px, ").concat(n,"px)")}}function nte(e){var{allowEscapeViewBox:r,coordinate:n,offsetTopLeft:a,position:s,reverseDirection:o,tooltipBox:l,useTranslate3d:c,viewBox:u}=e,d,f,p;return l.height>0&&l.width>0&&n?(f=fP({allowEscapeViewBox:r,coordinate:n,key:"x",offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),p=fP({allowEscapeViewBox:r,coordinate:n,key:"y",offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),d=rte({translateX:f,translateY:p,useTranslate3d:c})):d=ete,{cssProperties:d,cssClasses:tte({translateX:f,translateY:p,coordinate:n})}}function mP(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function nx(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?mP(Object(n),!0).forEach(function(a){tj(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function tj(e,r,n){return(r=ate(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function ate(e){var r=ite(e,"string");return typeof r=="symbol"?r:r+""}function ite(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class ste extends N.PureComponent{constructor(){super(...arguments),tj(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),tj(this,"handleKeyDown",r=>{if(r.key==="Escape"){var n,a,s,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&n!==void 0?n:0,y:(s=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var r,n;this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:s,children:o,coordinate:l,hasPayload:c,isAnimationActive:u,offset:d,position:f,reverseDirection:p,useTranslate3d:x,viewBox:g,wrapperStyle:y,lastBoundingBox:w,innerRef:v,hasPortalFromProps:S}=this.props,{cssClasses:k,cssProperties:j}=nte({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:f,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:x,viewBox:g}),C=S?{}:nx(nx({transition:u&&r?"transform ".concat(a,"ms ").concat(s):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0}),z=nx(nx({},C),{},{visibility:!this.state.dismissed&&r&&c?"visible":"hidden"},y);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:z,ref:v},o)}}var ote=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Nm={devToolsEnabled:!1,isSsr:ote()},vM=()=>{var e;return(e=wr(r=>r.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function rj(){return rj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},rj.apply(null,arguments)}function pP(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function gP(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?pP(Object(n),!0).forEach(function(a){lte(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function lte(e,r,n){return(r=cte(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function cte(e){var r=ute(e,"string");return typeof r=="symbol"?r:r+""}function ute(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var xP={curveBasisClosed:NJ,curveBasisOpen:_J,curveBasis:jJ,curveBumpX:lJ,curveBumpY:cJ,curveLinearClosed:SJ,curveLinear:zy,curveMonotoneX:kJ,curveMonotoneY:CJ,curveNatural:PJ,curveStep:EJ,curveStepAfter:DJ,curveStepBefore:AJ},Cv=e=>pi(e.x)&&pi(e.y),vP=e=>e.base!=null&&Cv(e.base)&&Cv(e),fp=e=>e.x,mp=e=>e.y,dte=(e,r)=>{if(typeof e=="function")return e;var n="curve".concat(T0(e));return(n==="curveMonotone"||n==="curveBump")&&r?xP["".concat(n).concat(r==="vertical"?"Y":"X")]:xP[n]||zy},hte=e=>{var{type:r="linear",points:n=[],baseLine:a,layout:s,connectNulls:o=!1}=e,l=dte(r,s),c=o?n.filter(Cv):n,u;if(Array.isArray(a)){var d=n.map((g,y)=>gP(gP({},g),{},{base:a[y]}));s==="vertical"?u=Xg().y(mp).x1(fp).x0(g=>g.base.x):u=Xg().x(fp).y1(mp).y0(g=>g.base.y);var f=u.defined(vP).curve(l),p=o?d.filter(vP):d;return f(p)}s==="vertical"&&Dr(a)?u=Xg().y(mp).x1(fp).x0(a):Dr(a)?u=Xg().x(fp).y1(mp).y0(a):u=o8().x(fp).y(mp);var x=u.defined(Cv).curve(l);return x(c)},yM=e=>{var{className:r,points:n,path:a,pathRef:s}=e;if((!n||!n.length)&&!a)return null;var o=n&&n.length?hte(e):a;return N.createElement("path",rj({},du(e),WN(e),{className:Cn("recharts-curve",r),d:o===null?void 0:o,ref:s}))},fte=["x","y","top","left","width","height","className"];function nj(){return nj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},nj.apply(null,arguments)}function yP(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function mte(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?yP(Object(n),!0).forEach(function(a){pte(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function pte(e,r,n){return(r=gte(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function gte(e){var r=xte(e,"string");return typeof r=="symbol"?r:r+""}function xte(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function vte(e,r){if(e==null)return{};var n,a,s=yte(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function yte(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var bte=(e,r,n,a,s,o)=>"M".concat(e,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n),wte=e=>{var{x:r=0,y:n=0,top:a=0,left:s=0,width:o=0,height:l=0,className:c}=e,u=vte(e,fte),d=mte({x:r,y:n,top:a,left:s,width:o,height:l},u);return!Dr(r)||!Dr(n)||!Dr(o)||!Dr(l)||!Dr(a)||!Dr(s)?null:N.createElement("path",nj({},Ss(d),{className:Cn("recharts-cross",c),d:bte(r,n,o,l,a,s)}))};function jte(e,r,n,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?r.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:r.y-s,width:e==="horizontal"?a:n.width-1,height:e==="horizontal"?n.height-1:a}}function bP(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function wP(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?bP(Object(n),!0).forEach(function(a){Nte(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Nte(e,r,n){return(r=_te(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function _te(e){var r=Ste(e,"string");return typeof r=="symbol"?r:r+""}function Ste(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var kte=e=>e.replace(/([A-Z])/g,r=>"-".concat(r.toLowerCase())),bM=(e,r,n)=>e.map(a=>"".concat(kte(a)," ").concat(r,"ms ").concat(n)).join(","),Cte=(e,r)=>[Object.keys(e),Object.keys(r)].reduce((n,a)=>n.filter(s=>a.includes(s))),o0=(e,r)=>Object.keys(r).reduce((n,a)=>wP(wP({},n),{},{[a]:e(a,r[a])}),{});function jP(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ya(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?jP(Object(n),!0).forEach(function(a){Pte(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Pte(e,r,n){return(r=Ete(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Ete(e){var r=Ate(e,"string");return typeof r=="symbol"?r:r+""}function Ate(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Pv=(e,r,n)=>e+(r-e)*n,aj=e=>{var{from:r,to:n}=e;return r!==n},wM=(e,r,n)=>{var a=o0((s,o)=>{if(aj(o)){var[l,c]=e(o.from,o.to,o.velocity);return Ya(Ya({},o),{},{from:l,velocity:c})}return o},r);return n<1?o0((s,o)=>aj(o)?Ya(Ya({},o),{},{velocity:Pv(o.velocity,a[s].velocity,n),from:Pv(o.from,a[s].from,n)}):o,r):wM(e,a,n-1)};function Dte(e,r,n,a,s,o){var l,c=a.reduce((x,g)=>Ya(Ya({},x),{},{[g]:{from:e[g],velocity:0,to:r[g]}}),{}),u=()=>o0((x,g)=>g.from,c),d=()=>!Object.values(c).filter(aj).length,f=null,p=x=>{l||(l=x);var g=x-l,y=g/n.dt;c=wM(n,c,y),s(Ya(Ya(Ya({},e),r),u())),l=x,d()||(f=o.setTimeout(p))};return()=>(f=o.setTimeout(p),()=>{var x;(x=f)===null||x===void 0||x()})}function Lte(e,r,n,a,s,o,l){var c=null,u=s.reduce((p,x)=>Ya(Ya({},p),{},{[x]:[e[x],r[x]]}),{}),d,f=p=>{d||(d=p);var x=(p-d)/a,g=o0((w,v)=>Pv(...v,n(x)),u);if(o(Ya(Ya(Ya({},e),r),g)),x<1)c=l.setTimeout(f);else{var y=o0((w,v)=>Pv(...v,n(1)),u);o(Ya(Ya(Ya({},e),r),y))}};return()=>(c=l.setTimeout(f),()=>{var p;(p=c)===null||p===void 0||p()})}const Ote=(e,r,n,a,s,o)=>{var l=Cte(e,r);return n==null?()=>(s(Ya(Ya({},e),r)),()=>{}):n.isStepper===!0?Dte(e,r,n,l,s,o):Lte(e,r,n,a,l,s,o)};var Ev=1e-4,jM=(e,r)=>[0,3*e,3*r-6*e,3*e-3*r+1],NM=(e,r)=>e.map((n,a)=>n*r**a).reduce((n,a)=>n+a),NP=(e,r)=>n=>{var a=jM(e,r);return NM(a,n)},Tte=(e,r)=>n=>{var a=jM(e,r),s=[...a.map((o,l)=>o*l).slice(1),0];return NM(s,n)},Mte=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s,o=n[0].split("(");if(o[0]==="cubic-bezier"&&((s=o[1])===null||s===void 0?void 0:s.split(")")[0].split(",").length)===4){var l=o[1].split(")")[0].split(",").map(c=>parseFloat(c));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},Ite=(e,r,n,a)=>{var s=NP(e,n),o=NP(r,a),l=Tte(e,n),c=d=>d>1?1:d<0?0:d,u=d=>{for(var f=d>1?1:d,p=f,x=0;x<8;++x){var g=s(p)-f,y=l(p);if(Math.abs(g-f)<Ev||y<Ev)return o(p);p=c(p-g/y)}return o(p)};return u.isStepper=!1,u},_P=function(){return Ite(...Mte(...arguments))},Rte=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:a=8,dt:s=17}=r,o=(l,c,u)=>{var d=-(l-c)*n,f=u*a,p=u+(d-f)*s/1e3,x=u*s/1e3+l;return Math.abs(x-c)<Ev&&Math.abs(p)<Ev?[c,0]:[x,p]};return o.isStepper=!0,o.dt=s,o},zte=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _P(e);case"spring":return Rte();default:if(e.split("(")[0]==="cubic-bezier")return _P(e)}return typeof e=="function"?e:null};function Fte(e){var r,n=()=>null,a=!1,s=null,o=l=>{if(!a){if(Array.isArray(l)){if(!l.length)return;var c=l,[u,...d]=c;if(typeof u=="number"){s=e.setTimeout(o.bind(null,d),u);return}o(u),s=e.setTimeout(o.bind(null,d));return}typeof l=="string"&&(r=l,n(r)),typeof l=="object"&&(r=l,n(r)),typeof l=="function"&&l()}};return{stop:()=>{a=!0},start:l=>{a=!1,s&&(s(),s=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class $te{setTimeout(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),s=null,o=l=>{l-a>=n?r(l):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(o))};return s=requestAnimationFrame(o),()=>{s!=null&&cancelAnimationFrame(s)}}}function Bte(){return Fte(new $te)}var Ute=N.createContext(Bte);function qte(e,r){var n=N.useContext(Ute);return N.useMemo(()=>r??n(e),[e,r,n])}var Hte={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},SP={t:0},Yw={t:1};function t3(e){var r=So(e,Hte),{isActive:n,canBegin:a,duration:s,easing:o,begin:l,onAnimationEnd:c,onAnimationStart:u,children:d}=r,f=qte(r.animationId,r.animationManager),[p,x]=N.useState(n?SP:Yw),g=N.useRef(null);return N.useEffect(()=>{n||x(Yw)},[n]),N.useEffect(()=>{if(!n||!a)return jm;var y=Ote(SP,Yw,zte(o),s,x,f.getTimeoutController()),w=()=>{g.current=y()};return f.start([u,l,w,s,c]),()=>{f.stop(),g.current&&g.current(),c()}},[n,a,s,o,l,u,c,f]),d(p.t)}function r3(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=N.useRef(n0(r)),a=N.useRef(e);return a.current!==e&&(n.current=n0(r),a.current=e),n.current}var Vte=["radius"],Wte=["radius"];function kP(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function CP(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?kP(Object(n),!0).forEach(function(a){Kte(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Kte(e,r,n){return(r=Gte(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Gte(e){var r=Yte(e,"string");return typeof r=="symbol"?r:r+""}function Yte(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Av.apply(null,arguments)}function PP(e,r){if(e==null)return{};var n,a,s=Xte(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Xte(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var EP=(e,r,n,a,s)=>{var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],p=0,x=4;p<x;p++)f[p]=s[p]>o?o:s[p];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+a)),d+="L ".concat(e+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var g=Math.min(o,s);d="M ".concat(e,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+c*g,",").concat(r,`
            L `).concat(e+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*g,`
            L `).concat(e+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n-c*g,",").concat(r+a,`
            L `).concat(e+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*g," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},AP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_M=e=>{var r=So(e,AP),n=N.useRef(null),[a,s]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&s(O)}catch{}},[]);var{x:o,y:l,width:c,height:u,radius:d,className:f}=r,{animationEasing:p,animationDuration:x,animationBegin:g,isAnimationActive:y,isUpdateAnimationActive:w}=r,v=N.useRef(c),S=N.useRef(u),k=N.useRef(o),j=N.useRef(l),C=N.useMemo(()=>({x:o,y:l,width:c,height:u,radius:d}),[o,l,c,u,d]),z=r3(C,"rectangle-");if(o!==+o||l!==+l||c!==+c||u!==+u||c===0||u===0)return null;var $=Cn("recharts-rectangle",f);if(!w){var F=Ss(r),{radius:V}=F,B=PP(F,Vte);return N.createElement("path",Av({},B,{radius:typeof d=="number"?d:void 0,className:$,d:EP(o,l,c,u,d)}))}var K=v.current,T=S.current,M=k.current,I=j.current,q="0px ".concat(a===-1?1:a,"px"),H="".concat(a,"px 0px"),te=bM(["strokeDasharray"],x,typeof p=="string"?p:AP.animationEasing);return N.createElement(t3,{animationId:z,key:z,canBegin:a>0,duration:x,easing:p,isActive:w,begin:g},O=>{var re=Hs(K,c,O),Y=Hs(T,u,O),P=Hs(M,o,O),L=Hs(I,l,O);n.current&&(v.current=re,S.current=Y,k.current=P,j.current=L);var R;y?O>0?R={transition:te,strokeDasharray:H}:R={strokeDasharray:q}:R={strokeDasharray:H};var G=Ss(r),{radius:X}=G,D=PP(G,Wte);return N.createElement("path",Av({},D,{radius:typeof d=="number"?d:void 0,className:$,d:EP(P,L,re,Y,d),ref:n,style:CP(CP({},R),r.style)}))})};function DP(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function LP(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?DP(Object(n),!0).forEach(function(a){Jte(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Jte(e,r,n){return(r=Zte(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Zte(e){var r=Qte(e,"string");return typeof r=="symbol"?r:r+""}function Qte(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Dv=Math.PI/180,ere=e=>e*180/Math.PI,Ti=(e,r,n,a)=>({x:e+Math.cos(-Dv*a)*n,y:r+Math.sin(-Dv*a)*n}),tre=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},rre=(e,r)=>{var{x:n,y:a}=e,{x:s,y:o}=r;return Math.sqrt((n-s)**2+(a-o)**2)},nre=(e,r)=>{var{x:n,y:a}=e,{cx:s,cy:o}=r,l=rre({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l,angle:0};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:ere(u),angleInRadian:u}},are=e=>{var{startAngle:r,endAngle:n}=e,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},ire=(e,r)=>{var{startAngle:n,endAngle:a}=r,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return e+l*360},sre=(e,r)=>{var{chartX:n,chartY:a}=e,{radius:s,angle:o}=nre({x:n,y:a},r),{innerRadius:l,outerRadius:c}=r;if(s<l||s>c||s===0)return null;var{startAngle:u,endAngle:d}=are(r),f=o,p;if(u<=d){for(;f>d;)f-=360;for(;f<u;)f+=360;p=f>=u&&f<=d}else{for(;f>u;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=u}return p?LP(LP({},r),{},{radius:s,angle:ire(f,r)}):null};function SM(e){var{cx:r,cy:n,radius:a,startAngle:s,endAngle:o}=e,l=Ti(r,n,a,s),c=Ti(r,n,a,o);return{points:[l,c],cx:r,cy:n,radius:a,startAngle:s,endAngle:o}}function ij(){return ij=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ij.apply(null,arguments)}var ore=(e,r)=>{var n=El(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},ax=e=>{var{cx:r,cy:n,radius:a,angle:s,sign:o,isExternal:l,cornerRadius:c,cornerIsExternal:u}=e,d=c*(l?1:-1)+a,f=Math.asin(c/d)/Dv,p=u?s:s+o*f,x=Ti(r,n,d,p),g=Ti(r,n,a,p),y=u?s-o*f:s,w=Ti(r,n,d*Math.cos(f*Dv),y);return{center:x,circleTangency:g,lineTangency:w,theta:f}},kM=e=>{var{cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,c=ore(o,l),u=o+c,d=Ti(r,n,s,o),f=Ti(r,n,s,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var x=Ti(r,n,a,o),g=Ti(r,n,a,u);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(x.x,",").concat(x.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},lre=e=>{var{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}=e,f=El(d-u),{circleTangency:p,lineTangency:x,theta:g}=ax({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),{circleTangency:y,lineTangency:w,theta:v}=ax({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),S=c?Math.abs(u-d):Math.abs(u-d)-g-v;if(S<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):kM({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var k="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var{circleTangency:j,lineTangency:C,theta:z}=ax({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),{circleTangency:$,lineTangency:F,theta:V}=ax({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),B=c?Math.abs(u-d):Math.abs(u-d)-z-V;if(B<0&&o===0)return"".concat(k,"L").concat(r,",").concat(n,"Z");k+="L".concat(F.x,",").concat(F.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(B>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else k+="L".concat(r,",").concat(n,"Z");return k},cre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},CM=e=>{var r=So(e,cre),{cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f,className:p}=r;if(o<s||d===f)return null;var x=Cn("recharts-sector",p),g=o-s,y=yd(l,g,0,!0),w;return y>0&&Math.abs(d-f)<360?w=lre({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(y,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):w=kM({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),N.createElement("path",ij({},Ss(r),{className:x,d:w}))};function ure(e,r,n){if(e==="horizontal")return[{x:r.x,y:n.top},{x:r.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:r.y},{x:n.left+n.width,y:r.y}];if(N8(r)){if(e==="centric"){var{cx:a,cy:s,innerRadius:o,outerRadius:l,angle:c}=r,u=Ti(a,s,o,c),d=Ti(a,s,l,c);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return SM(r)}}var Xw={},Jw={},Zw={},OP;function dre(){return OP||(OP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=T8();function n(a){return r.isSymbol(a)?NaN:Number(a)}e.toNumber=n}(Zw)),Zw}var TP;function hre(){return TP||(TP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=dre();function n(a){return a?(a=r.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=n}(Jw)),Jw}var MP;function fre(){return MP||(MP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=M8(),n=hre();function a(s,o,l){l&&typeof l!="number"&&r.isIterateeCall(s,o,l)&&(o=l=void 0),s=n.toFinite(s),o===void 0?(o=s,s=0):o=n.toFinite(o),l=l===void 0?s<o?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((o-s)/(l||1)),0),u=new Array(c);for(let d=0;d<c;d++)u[d]=s,s+=l;return u}e.range=a}(Xw)),Xw}var Qw,IP;function mre(){return IP||(IP=1,Qw=fre().range),Qw}var pre=mre();const PM=Qo(pre);function gd(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function gre(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function n3(e){let r,n,a;e.length!==2?(r=gd,n=(c,u)=>gd(e(c),u),a=(c,u)=>e(c)-u):(r=e===gd||e===gre?e:xre,n=e,a=e);function s(c,u,d=0,f=c.length){if(d<f){if(r(u,u)!==0)return f;do{const p=d+f>>>1;n(c[p],u)<0?d=p+1:f=p}while(d<f)}return d}function o(c,u,d=0,f=c.length){if(d<f){if(r(u,u)!==0)return f;do{const p=d+f>>>1;n(c[p],u)<=0?d=p+1:f=p}while(d<f)}return d}function l(c,u,d=0,f=c.length){const p=s(c,u,d,f-1);return p>d&&a(c[p-1],u)>-a(c[p],u)?p-1:p}return{left:s,center:l,right:o}}function xre(){return 0}function EM(e){return e===null?NaN:+e}function*vre(e,r){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const yre=n3(gd),z0=yre.right;n3(EM).center;class RP extends Map{constructor(r,n=jre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),r!=null)for(const[a,s]of r)this.set(a,s)}get(r){return super.get(zP(this,r))}has(r){return super.has(zP(this,r))}set(r,n){return super.set(bre(this,r),n)}delete(r){return super.delete(wre(this,r))}}function zP({_intern:e,_key:r},n){const a=r(n);return e.has(a)?e.get(a):n}function bre({_intern:e,_key:r},n){const a=r(n);return e.has(a)?e.get(a):(e.set(a,n),n)}function wre({_intern:e,_key:r},n){const a=r(n);return e.has(a)&&(n=e.get(a),e.delete(a)),n}function jre(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Nre(e=gd){if(e===gd)return AM;if(typeof e!="function")throw new TypeError("compare is not a function");return(r,n)=>{const a=e(r,n);return a||a===0?a:(e(n,n)===0)-(e(r,r)===0)}}function AM(e,r){return(e==null||!(e>=e))-(r==null||!(r>=r))||(e<r?-1:e>r?1:0)}const _re=Math.sqrt(50),Sre=Math.sqrt(10),kre=Math.sqrt(2);function Lv(e,r,n){const a=(r-e)/Math.max(0,n),s=Math.floor(Math.log10(a)),o=a/Math.pow(10,s),l=o>=_re?10:o>=Sre?5:o>=kre?2:1;let c,u,d;return s<0?(d=Math.pow(10,-s)/l,c=Math.round(e*d),u=Math.round(r*d),c/d<e&&++c,u/d>r&&--u,d=-d):(d=Math.pow(10,s)*l,c=Math.round(e/d),u=Math.round(r/d),c*d<e&&++c,u*d>r&&--u),u<c&&.5<=n&&n<2?Lv(e,r,n*2):[c,u,d]}function sj(e,r,n){if(r=+r,e=+e,n=+n,!(n>0))return[];if(e===r)return[e];const a=r<e,[s,o,l]=a?Lv(r,e,n):Lv(e,r,n);if(!(o>=s))return[];const c=o-s+1,u=new Array(c);if(a)if(l<0)for(let d=0;d<c;++d)u[d]=(o-d)/-l;else for(let d=0;d<c;++d)u[d]=(o-d)*l;else if(l<0)for(let d=0;d<c;++d)u[d]=(s+d)/-l;else for(let d=0;d<c;++d)u[d]=(s+d)*l;return u}function oj(e,r,n){return r=+r,e=+e,n=+n,Lv(e,r,n)[2]}function lj(e,r,n){r=+r,e=+e,n=+n;const a=r<e,s=a?oj(r,e,n):oj(e,r,n);return(a?-1:1)*(s<0?1/-s:s)}function FP(e,r){let n;for(const a of e)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function $P(e,r){let n;for(const a of e)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function DM(e,r,n=0,a=1/0,s){if(r=Math.floor(r),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(e.length-1,a)),!(n<=r&&r<=a))return e;for(s=s===void 0?AM:Nre(s);a>n;){if(a-n>600){const u=a-n+1,d=r-n+1,f=Math.log(u),p=.5*Math.exp(2*f/3),x=.5*Math.sqrt(f*p*(u-p)/u)*(d-u/2<0?-1:1),g=Math.max(n,Math.floor(r-d*p/u+x)),y=Math.min(a,Math.floor(r+(u-d)*p/u+x));DM(e,r,g,y,s)}const o=e[r];let l=n,c=a;for(pp(e,n,r),s(e[a],o)>0&&pp(e,n,a);l<c;){for(pp(e,l,c),++l,--c;s(e[l],o)<0;)++l;for(;s(e[c],o)>0;)--c}s(e[n],o)===0?pp(e,n,c):(++c,pp(e,c,a)),c<=r&&(n=c+1),r<=c&&(a=c-1)}return e}function pp(e,r,n){const a=e[r];e[r]=e[n],e[n]=a}function Cre(e,r,n){if(e=Float64Array.from(vre(e)),!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return $P(e);if(r>=1)return FP(e);var a,s=(a-1)*r,o=Math.floor(s),l=FP(DM(e,o).subarray(0,o+1)),c=$P(e.subarray(o+1));return l+(c-l)*(s-o)}}function Pre(e,r,n=EM){if(!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return+n(e[0],0,e);if(r>=1)return+n(e[a-1],a-1,e);var a,s=(a-1)*r,o=Math.floor(s),l=+n(e[o],o,e),c=+n(e[o+1],o+1,e);return l+(c-l)*(s-o)}}function Ere(e,r,n){e=+e,r=+r,n=(s=arguments.length)<2?(r=e,e=0,1):s<3?1:+n;for(var a=-1,s=Math.max(0,Math.ceil((r-e)/n))|0,o=new Array(s);++a<s;)o[a]=e+a*n;return o}function el(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function ju(e,r){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const cj=Symbol("implicit");function a3(){var e=new RP,r=[],n=[],a=cj;function s(o){let l=e.get(o);if(l===void 0){if(a!==cj)return a;e.set(o,l=r.push(o)-1)}return n[l%n.length]}return s.domain=function(o){if(!arguments.length)return r.slice();r=[],e=new RP;for(const l of o)e.has(l)||e.set(l,r.push(l)-1);return s},s.range=function(o){return arguments.length?(n=Array.from(o),s):n.slice()},s.unknown=function(o){return arguments.length?(a=o,s):a},s.copy=function(){return a3(r,n).unknown(a)},el.apply(s,arguments),s}function i3(){var e=a3().unknown(void 0),r=e.domain,n=e.range,a=0,s=1,o,l,c=!1,u=0,d=0,f=.5;delete e.unknown;function p(){var x=r().length,g=s<a,y=g?s:a,w=g?a:s;o=(w-y)/Math.max(1,x-u+d*2),c&&(o=Math.floor(o)),y+=(w-y-o*(x-u))*f,l=o*(1-u),c&&(y=Math.round(y),l=Math.round(l));var v=Ere(x).map(function(S){return y+o*S});return n(g?v.reverse():v)}return e.domain=function(x){return arguments.length?(r(x),p()):r()},e.range=function(x){return arguments.length?([a,s]=x,a=+a,s=+s,p()):[a,s]},e.rangeRound=function(x){return[a,s]=x,a=+a,s=+s,c=!0,p()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(x){return arguments.length?(c=!!x,p()):c},e.padding=function(x){return arguments.length?(u=Math.min(1,d=+x),p()):u},e.paddingInner=function(x){return arguments.length?(u=Math.min(1,x),p()):u},e.paddingOuter=function(x){return arguments.length?(d=+x,p()):d},e.align=function(x){return arguments.length?(f=Math.max(0,Math.min(1,x)),p()):f},e.copy=function(){return i3(r(),[a,s]).round(c).paddingInner(u).paddingOuter(d).align(f)},el.apply(p(),arguments)}function LM(e){var r=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return LM(r())},e}function Are(){return LM(i3.apply(null,arguments).paddingInner(1))}function s3(e,r,n){e.prototype=r.prototype=n,n.constructor=e}function OM(e,r){var n=Object.create(e.prototype);for(var a in r)n[a]=r[a];return n}function F0(){}var l0=.7,Ov=1/l0,Yf="\\s*([+-]?\\d+)\\s*",c0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Dre=/^#([0-9a-f]{3,8})$/,Lre=new RegExp(`^rgb\\(${Yf},${Yf},${Yf}\\)$`),Ore=new RegExp(`^rgb\\(${mc},${mc},${mc}\\)$`),Tre=new RegExp(`^rgba\\(${Yf},${Yf},${Yf},${c0}\\)$`),Mre=new RegExp(`^rgba\\(${mc},${mc},${mc},${c0}\\)$`),Ire=new RegExp(`^hsl\\(${c0},${mc},${mc}\\)$`),Rre=new RegExp(`^hsla\\(${c0},${mc},${mc},${c0}\\)$`),BP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};s3(F0,u0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:UP,formatHex:UP,formatHex8:zre,formatHsl:Fre,formatRgb:qP,toString:qP});function UP(){return this.rgb().formatHex()}function zre(){return this.rgb().formatHex8()}function Fre(){return TM(this).formatHsl()}function qP(){return this.rgb().formatRgb()}function u0(e){var r,n;return e=(e+"").trim().toLowerCase(),(r=Dre.exec(e))?(n=r[1].length,r=parseInt(r[1],16),n===6?HP(r):n===3?new Vs(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?ix(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?ix(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Lre.exec(e))?new Vs(r[1],r[2],r[3],1):(r=Ore.exec(e))?new Vs(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=Tre.exec(e))?ix(r[1],r[2],r[3],r[4]):(r=Mre.exec(e))?ix(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=Ire.exec(e))?KP(r[1],r[2]/100,r[3]/100,1):(r=Rre.exec(e))?KP(r[1],r[2]/100,r[3]/100,r[4]):BP.hasOwnProperty(e)?HP(BP[e]):e==="transparent"?new Vs(NaN,NaN,NaN,0):null}function HP(e){return new Vs(e>>16&255,e>>8&255,e&255,1)}function ix(e,r,n,a){return a<=0&&(e=r=n=NaN),new Vs(e,r,n,a)}function $re(e){return e instanceof F0||(e=u0(e)),e?(e=e.rgb(),new Vs(e.r,e.g,e.b,e.opacity)):new Vs}function uj(e,r,n,a){return arguments.length===1?$re(e):new Vs(e,r,n,a??1)}function Vs(e,r,n,a){this.r=+e,this.g=+r,this.b=+n,this.opacity=+a}s3(Vs,uj,OM(F0,{brighter(e){return e=e==null?Ov:Math.pow(Ov,e),new Vs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?l0:Math.pow(l0,e),new Vs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Vs(kh(this.r),kh(this.g),kh(this.b),Tv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VP,formatHex:VP,formatHex8:Bre,formatRgb:WP,toString:WP}));function VP(){return`#${yh(this.r)}${yh(this.g)}${yh(this.b)}`}function Bre(){return`#${yh(this.r)}${yh(this.g)}${yh(this.b)}${yh((isNaN(this.opacity)?1:this.opacity)*255)}`}function WP(){const e=Tv(this.opacity);return`${e===1?"rgb(":"rgba("}${kh(this.r)}, ${kh(this.g)}, ${kh(this.b)}${e===1?")":`, ${e})`}`}function Tv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function kh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yh(e){return e=kh(e),(e<16?"0":"")+e.toString(16)}function KP(e,r,n,a){return a<=0?e=r=n=NaN:n<=0||n>=1?e=r=NaN:r<=0&&(e=NaN),new Pl(e,r,n,a)}function TM(e){if(e instanceof Pl)return new Pl(e.h,e.s,e.l,e.opacity);if(e instanceof F0||(e=u0(e)),!e)return new Pl;if(e instanceof Pl)return e;e=e.rgb();var r=e.r/255,n=e.g/255,a=e.b/255,s=Math.min(r,n,a),o=Math.max(r,n,a),l=NaN,c=o-s,u=(o+s)/2;return c?(r===o?l=(n-a)/c+(n<a)*6:n===o?l=(a-r)/c+2:l=(r-n)/c+4,c/=u<.5?o+s:2-o-s,l*=60):c=u>0&&u<1?0:l,new Pl(l,c,u,e.opacity)}function Ure(e,r,n,a){return arguments.length===1?TM(e):new Pl(e,r,n,a??1)}function Pl(e,r,n,a){this.h=+e,this.s=+r,this.l=+n,this.opacity=+a}s3(Pl,Ure,OM(F0,{brighter(e){return e=e==null?Ov:Math.pow(Ov,e),new Pl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?l0:Math.pow(l0,e),new Pl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*r,s=2*n-a;return new Vs(e2(e>=240?e-240:e+120,s,a),e2(e,s,a),e2(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new Pl(GP(this.h),sx(this.s),sx(this.l),Tv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Tv(this.opacity);return`${e===1?"hsl(":"hsla("}${GP(this.h)}, ${sx(this.s)*100}%, ${sx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function GP(e){return e=(e||0)%360,e<0?e+360:e}function sx(e){return Math.max(0,Math.min(1,e||0))}function e2(e,r,n){return(e<60?r+(n-r)*e/60:e<180?n:e<240?r+(n-r)*(240-e)/60:r)*255}const o3=e=>()=>e;function qre(e,r){return function(n){return e+n*r}}function Hre(e,r,n){return e=Math.pow(e,n),r=Math.pow(r,n)-e,n=1/n,function(a){return Math.pow(e+a*r,n)}}function Vre(e){return(e=+e)==1?MM:function(r,n){return n-r?Hre(r,n,e):o3(isNaN(r)?n:r)}}function MM(e,r){var n=r-e;return n?qre(e,n):o3(isNaN(e)?r:e)}const YP=function e(r){var n=Vre(r);function a(s,o){var l=n((s=uj(s)).r,(o=uj(o)).r),c=n(s.g,o.g),u=n(s.b,o.b),d=MM(s.opacity,o.opacity);return function(f){return s.r=l(f),s.g=c(f),s.b=u(f),s.opacity=d(f),s+""}}return a.gamma=e,a}(1);function Wre(e,r){r||(r=[]);var n=e?Math.min(r.length,e.length):0,a=r.slice(),s;return function(o){for(s=0;s<n;++s)a[s]=e[s]*(1-o)+r[s]*o;return a}}function Kre(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Gre(e,r){var n=r?r.length:0,a=e?Math.min(n,e.length):0,s=new Array(a),o=new Array(n),l;for(l=0;l<a;++l)s[l]=_m(e[l],r[l]);for(;l<n;++l)o[l]=r[l];return function(c){for(l=0;l<a;++l)o[l]=s[l](c);return o}}function Yre(e,r){var n=new Date;return e=+e,r=+r,function(a){return n.setTime(e*(1-a)+r*a),n}}function Mv(e,r){return e=+e,r=+r,function(n){return e*(1-n)+r*n}}function Xre(e,r){var n={},a={},s;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(s in r)s in e?n[s]=_m(e[s],r[s]):a[s]=r[s];return function(o){for(s in n)a[s]=n[s](o);return a}}var dj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,t2=new RegExp(dj.source,"g");function Jre(e){return function(){return e}}function Zre(e){return function(r){return e(r)+""}}function Qre(e,r){var n=dj.lastIndex=t2.lastIndex=0,a,s,o,l=-1,c=[],u=[];for(e=e+"",r=r+"";(a=dj.exec(e))&&(s=t2.exec(r));)(o=s.index)>n&&(o=r.slice(n,o),c[l]?c[l]+=o:c[++l]=o),(a=a[0])===(s=s[0])?c[l]?c[l]+=s:c[++l]=s:(c[++l]=null,u.push({i:l,x:Mv(a,s)})),n=t2.lastIndex;return n<r.length&&(o=r.slice(n),c[l]?c[l]+=o:c[++l]=o),c.length<2?u[0]?Zre(u[0].x):Jre(r):(r=u.length,function(d){for(var f=0,p;f<r;++f)c[(p=u[f]).i]=p.x(d);return c.join("")})}function _m(e,r){var n=typeof r,a;return r==null||n==="boolean"?o3(r):(n==="number"?Mv:n==="string"?(a=u0(r))?(r=a,YP):Qre:r instanceof u0?YP:r instanceof Date?Yre:Kre(r)?Wre:Array.isArray(r)?Gre:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?Xre:Mv)(e,r)}function l3(e,r){return e=+e,r=+r,function(n){return Math.round(e*(1-n)+r*n)}}function ene(e,r){r===void 0&&(r=e,e=_m);for(var n=0,a=r.length-1,s=r[0],o=new Array(a<0?0:a);n<a;)o[n]=e(s,s=r[++n]);return function(l){var c=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return o[c](l-c)}}function tne(e){return function(){return e}}function Iv(e){return+e}var XP=[0,1];function js(e){return e}function hj(e,r){return(r-=e=+e)?function(n){return(n-e)/r}:tne(isNaN(r)?NaN:.5)}function rne(e,r){var n;return e>r&&(n=e,e=r,r=n),function(a){return Math.max(e,Math.min(r,a))}}function nne(e,r,n){var a=e[0],s=e[1],o=r[0],l=r[1];return s<a?(a=hj(s,a),o=n(l,o)):(a=hj(a,s),o=n(o,l)),function(c){return o(a(c))}}function ane(e,r,n){var a=Math.min(e.length,r.length)-1,s=new Array(a),o=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++l<a;)s[l]=hj(e[l],e[l+1]),o[l]=n(r[l],r[l+1]);return function(c){var u=z0(e,c,1,a)-1;return o[u](s[u](c))}}function $0(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function eb(){var e=XP,r=XP,n=_m,a,s,o,l=js,c,u,d;function f(){var x=Math.min(e.length,r.length);return l!==js&&(l=rne(e[0],e[x-1])),c=x>2?ane:nne,u=d=null,p}function p(x){return x==null||isNaN(x=+x)?o:(u||(u=c(e.map(a),r,n)))(a(l(x)))}return p.invert=function(x){return l(s((d||(d=c(r,e.map(a),Mv)))(x)))},p.domain=function(x){return arguments.length?(e=Array.from(x,Iv),f()):e.slice()},p.range=function(x){return arguments.length?(r=Array.from(x),f()):r.slice()},p.rangeRound=function(x){return r=Array.from(x),n=l3,f()},p.clamp=function(x){return arguments.length?(l=x?!0:js,f()):l!==js},p.interpolate=function(x){return arguments.length?(n=x,f()):n},p.unknown=function(x){return arguments.length?(o=x,p):o},function(x,g){return a=x,s=g,f()}}function c3(){return eb()(js,js)}function ine(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Rv(e,r){if((n=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function cm(e){return e=Rv(Math.abs(e)),e?e[1]:NaN}function sne(e,r){return function(n,a){for(var s=n.length,o=[],l=0,c=e[0],u=0;s>0&&c>0&&(u+c+1>a&&(c=Math.max(1,a-u)),o.push(n.substring(s-=c,s+c)),!((u+=c+1)>a));)c=e[l=(l+1)%e.length];return o.reverse().join(r)}}function one(e){return function(r){return r.replace(/[0-9]/g,function(n){return e[+n]})}}var lne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function d0(e){if(!(r=lne.exec(e)))throw new Error("invalid format: "+e);var r;return new u3({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}d0.prototype=u3.prototype;function u3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}u3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cne(e){e:for(var r=e.length,n=1,a=-1,s;n<r;++n)switch(e[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;default:if(!+e[n])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var IM;function une(e,r){var n=Rv(e,r);if(!n)return e+"";var a=n[0],s=n[1],o=s-(IM=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=a.length;return o===l?a:o>l?a+new Array(o-l+1).join("0"):o>0?a.slice(0,o)+"."+a.slice(o):"0."+new Array(1-o).join("0")+Rv(e,Math.max(0,r+o-1))[0]}function JP(e,r){var n=Rv(e,r);if(!n)return e+"";var a=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const ZP={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ine,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>JP(e*100,r),r:JP,s:une,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function QP(e){return e}var e6=Array.prototype.map,t6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function dne(e){var r=e.grouping===void 0||e.thousands===void 0?QP:sne(e6.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?QP:one(e6.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(p){p=d0(p);var x=p.fill,g=p.align,y=p.sign,w=p.symbol,v=p.zero,S=p.width,k=p.comma,j=p.precision,C=p.trim,z=p.type;z==="n"?(k=!0,z="g"):ZP[z]||(j===void 0&&(j=12),C=!0,z="g"),(v||x==="0"&&g==="=")&&(v=!0,x="0",g="=");var $=w==="$"?n:w==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():"",F=w==="$"?a:/[%p]/.test(z)?l:"",V=ZP[z],B=/[defgprs%]/.test(z);j=j===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function K(T){var M=$,I=F,q,H,te;if(z==="c")I=V(T)+I,T="";else{T=+T;var O=T<0||1/T<0;if(T=isNaN(T)?u:V(Math.abs(T),j),C&&(T=cne(T)),O&&+T==0&&y!=="+"&&(O=!1),M=(O?y==="("?y:c:y==="-"||y==="("?"":y)+M,I=(z==="s"?t6[8+IM/3]:"")+I+(O&&y==="("?")":""),B){for(q=-1,H=T.length;++q<H;)if(te=T.charCodeAt(q),48>te||te>57){I=(te===46?s+T.slice(q+1):T.slice(q))+I,T=T.slice(0,q);break}}}k&&!v&&(T=r(T,1/0));var re=M.length+T.length+I.length,Y=re<S?new Array(S-re+1).join(x):"";switch(k&&v&&(T=r(Y+T,Y.length?S-I.length:1/0),Y=""),g){case"<":T=M+T+I+Y;break;case"=":T=M+Y+T+I;break;case"^":T=Y.slice(0,re=Y.length>>1)+M+T+I+Y.slice(re);break;default:T=Y+M+T+I;break}return o(T)}return K.toString=function(){return p+""},K}function f(p,x){var g=d((p=d0(p),p.type="f",p)),y=Math.max(-8,Math.min(8,Math.floor(cm(x)/3)))*3,w=Math.pow(10,-y),v=t6[8+y/3];return function(S){return g(w*S)+v}}return{format:d,formatPrefix:f}}var ox,d3,RM;hne({thousands:",",grouping:[3],currency:["$",""]});function hne(e){return ox=dne(e),d3=ox.format,RM=ox.formatPrefix,ox}function fne(e){return Math.max(0,-cm(Math.abs(e)))}function mne(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cm(r)/3)))*3-cm(Math.abs(e)))}function pne(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,cm(r)-cm(e))+1}function zM(e,r,n,a){var s=lj(e,r,n),o;switch(a=d0(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(r));return a.precision==null&&!isNaN(o=mne(s,l))&&(a.precision=o),RM(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(o=pne(s,Math.max(Math.abs(e),Math.abs(r))))&&(a.precision=o-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(o=fne(s))&&(a.precision=o-(a.type==="%")*2);break}}return d3(a)}function Cd(e){var r=e.domain;return e.ticks=function(n){var a=r();return sj(a[0],a[a.length-1],n??10)},e.tickFormat=function(n,a){var s=r();return zM(s[0],s[s.length-1],n??10,a)},e.nice=function(n){n==null&&(n=10);var a=r(),s=0,o=a.length-1,l=a[s],c=a[o],u,d,f=10;for(c<l&&(d=l,l=c,c=d,d=s,s=o,o=d);f-- >0;){if(d=oj(l,c,n),d===u)return a[s]=l,a[o]=c,r(a);if(d>0)l=Math.floor(l/d)*d,c=Math.ceil(c/d)*d;else if(d<0)l=Math.ceil(l*d)/d,c=Math.floor(c*d)/d;else break;u=d}return e},e}function FM(){var e=c3();return e.copy=function(){return $0(e,FM())},el.apply(e,arguments),Cd(e)}function $M(e){var r;function n(a){return a==null||isNaN(a=+a)?r:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(e=Array.from(a,Iv),n):e.slice()},n.unknown=function(a){return arguments.length?(r=a,n):r},n.copy=function(){return $M(e).unknown(r)},e=arguments.length?Array.from(e,Iv):[0,1],Cd(n)}function BM(e,r){e=e.slice();var n=0,a=e.length-1,s=e[n],o=e[a],l;return o<s&&(l=n,n=a,a=l,l=s,s=o,o=l),e[n]=r.floor(s),e[a]=r.ceil(o),e}function r6(e){return Math.log(e)}function n6(e){return Math.exp(e)}function gne(e){return-Math.log(-e)}function xne(e){return-Math.exp(-e)}function vne(e){return isFinite(e)?+("1e"+e):e<0?0:e}function yne(e){return e===10?vne:e===Math.E?Math.exp:r=>Math.pow(e,r)}function bne(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),r=>Math.log(r)/e)}function a6(e){return(r,n)=>-e(-r,n)}function h3(e){const r=e(r6,n6),n=r.domain;let a=10,s,o;function l(){return s=bne(a),o=yne(a),n()[0]<0?(s=a6(s),o=a6(o),e(gne,xne)):e(r6,n6),r}return r.base=function(c){return arguments.length?(a=+c,l()):a},r.domain=function(c){return arguments.length?(n(c),l()):n()},r.ticks=c=>{const u=n();let d=u[0],f=u[u.length-1];const p=f<d;p&&([d,f]=[f,d]);let x=s(d),g=s(f),y,w;const v=c==null?10:+c;let S=[];if(!(a%1)&&g-x<v){if(x=Math.floor(x),g=Math.ceil(g),d>0){for(;x<=g;++x)for(y=1;y<a;++y)if(w=x<0?y/o(-x):y*o(x),!(w<d)){if(w>f)break;S.push(w)}}else for(;x<=g;++x)for(y=a-1;y>=1;--y)if(w=x>0?y/o(-x):y*o(x),!(w<d)){if(w>f)break;S.push(w)}S.length*2<v&&(S=sj(d,f,v))}else S=sj(x,g,Math.min(g-x,v)).map(o);return p?S.reverse():S},r.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=d0(u)).precision==null&&(u.trim=!0),u=d3(u)),c===1/0)return u;const d=Math.max(1,a*c/r.ticks().length);return f=>{let p=f/o(Math.round(s(f)));return p*a<a-.5&&(p*=a),p<=d?u(f):""}},r.nice=()=>n(BM(n(),{floor:c=>o(Math.floor(s(c))),ceil:c=>o(Math.ceil(s(c)))})),r}function UM(){const e=h3(eb()).domain([1,10]);return e.copy=()=>$0(e,UM()).base(e.base()),el.apply(e,arguments),e}function i6(e){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/e))}}function s6(e){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*e}}function f3(e){var r=1,n=e(i6(r),s6(r));return n.constant=function(a){return arguments.length?e(i6(r=+a),s6(r)):r},Cd(n)}function qM(){var e=f3(eb());return e.copy=function(){return $0(e,qM()).constant(e.constant())},el.apply(e,arguments)}function o6(e){return function(r){return r<0?-Math.pow(-r,e):Math.pow(r,e)}}function wne(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function jne(e){return e<0?-e*e:e*e}function m3(e){var r=e(js,js),n=1;function a(){return n===1?e(js,js):n===.5?e(wne,jne):e(o6(n),o6(1/n))}return r.exponent=function(s){return arguments.length?(n=+s,a()):n},Cd(r)}function p3(){var e=m3(eb());return e.copy=function(){return $0(e,p3()).exponent(e.exponent())},el.apply(e,arguments),e}function Nne(){return p3.apply(null,arguments).exponent(.5)}function l6(e){return Math.sign(e)*e*e}function _ne(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function HM(){var e=c3(),r=[0,1],n=!1,a;function s(o){var l=_ne(e(o));return isNaN(l)?a:n?Math.round(l):l}return s.invert=function(o){return e.invert(l6(o))},s.domain=function(o){return arguments.length?(e.domain(o),s):e.domain()},s.range=function(o){return arguments.length?(e.range((r=Array.from(o,Iv)).map(l6)),s):r.slice()},s.rangeRound=function(o){return s.range(o).round(!0)},s.round=function(o){return arguments.length?(n=!!o,s):n},s.clamp=function(o){return arguments.length?(e.clamp(o),s):e.clamp()},s.unknown=function(o){return arguments.length?(a=o,s):a},s.copy=function(){return HM(e.domain(),r).round(n).clamp(e.clamp()).unknown(a)},el.apply(s,arguments),Cd(s)}function VM(){var e=[],r=[],n=[],a;function s(){var l=0,c=Math.max(1,r.length);for(n=new Array(c-1);++l<c;)n[l-1]=Pre(e,l/c);return o}function o(l){return l==null||isNaN(l=+l)?a:r[z0(n,l)]}return o.invertExtent=function(l){var c=r.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let c of l)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(gd),s()},o.range=function(l){return arguments.length?(r=Array.from(l),s()):r.slice()},o.unknown=function(l){return arguments.length?(a=l,o):a},o.quantiles=function(){return n.slice()},o.copy=function(){return VM().domain(e).range(r).unknown(a)},el.apply(o,arguments)}function WM(){var e=0,r=1,n=1,a=[.5],s=[0,1],o;function l(u){return u!=null&&u<=u?s[z0(a,u,0,n)]:o}function c(){var u=-1;for(a=new Array(n);++u<n;)a[u]=((u+1)*r-(u-n)*e)/(n+1);return l}return l.domain=function(u){return arguments.length?([e,r]=u,e=+e,r=+r,c()):[e,r]},l.range=function(u){return arguments.length?(n=(s=Array.from(u)).length-1,c()):s.slice()},l.invertExtent=function(u){var d=s.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,a[0]]:d>=n?[a[n-1],r]:[a[d-1],a[d]]},l.unknown=function(u){return arguments.length&&(o=u),l},l.thresholds=function(){return a.slice()},l.copy=function(){return WM().domain([e,r]).range(s).unknown(o)},el.apply(Cd(l),arguments)}function KM(){var e=[.5],r=[0,1],n,a=1;function s(o){return o!=null&&o<=o?r[z0(e,o,0,a)]:n}return s.domain=function(o){return arguments.length?(e=Array.from(o),a=Math.min(e.length,r.length-1),s):e.slice()},s.range=function(o){return arguments.length?(r=Array.from(o),a=Math.min(e.length,r.length-1),s):r.slice()},s.invertExtent=function(o){var l=r.indexOf(o);return[e[l-1],e[l]]},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return KM().domain(e).range(r).unknown(n)},el.apply(s,arguments)}const r2=new Date,n2=new Date;function ti(e,r,n,a){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),r(o,1),e(o),o),s.round=o=>{const l=s(o),c=s.ceil(o);return o-l<c-o?l:c},s.offset=(o,l)=>(r(o=new Date(+o),l==null?1:Math.floor(l)),o),s.range=(o,l,c)=>{const u=[];if(o=s.ceil(o),c=c==null?1:Math.floor(c),!(o<l)||!(c>0))return u;let d;do u.push(d=new Date(+o)),r(o,c),e(o);while(d<o&&o<l);return u},s.filter=o=>ti(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;r(l,-1),!o(l););else for(;--c>=0;)for(;r(l,1),!o(l););}),n&&(s.count=(o,l)=>(r2.setTime(+o),n2.setTime(+l),e(r2),e(n2),Math.floor(n(r2,n2))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(a?l=>a(l)%o===0:l=>s.count(0,l)%o===0):s)),s}const zv=ti(()=>{},(e,r)=>{e.setTime(+e+r)},(e,r)=>r-e);zv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ti(r=>{r.setTime(Math.floor(r/e)*e)},(r,n)=>{r.setTime(+r+n*e)},(r,n)=>(n-r)/e):zv);zv.range;const eu=1e3,Ko=eu*60,tu=Ko*60,pu=tu*24,g3=pu*7,c6=pu*30,a2=pu*365,bh=ti(e=>{e.setTime(e-e.getMilliseconds())},(e,r)=>{e.setTime(+e+r*eu)},(e,r)=>(r-e)/eu,e=>e.getUTCSeconds());bh.range;const x3=ti(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*eu)},(e,r)=>{e.setTime(+e+r*Ko)},(e,r)=>(r-e)/Ko,e=>e.getMinutes());x3.range;const v3=ti(e=>{e.setUTCSeconds(0,0)},(e,r)=>{e.setTime(+e+r*Ko)},(e,r)=>(r-e)/Ko,e=>e.getUTCMinutes());v3.range;const y3=ti(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*eu-e.getMinutes()*Ko)},(e,r)=>{e.setTime(+e+r*tu)},(e,r)=>(r-e)/tu,e=>e.getHours());y3.range;const b3=ti(e=>{e.setUTCMinutes(0,0,0)},(e,r)=>{e.setTime(+e+r*tu)},(e,r)=>(r-e)/tu,e=>e.getUTCHours());b3.range;const B0=ti(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Ko)/pu,e=>e.getDate()-1);B0.range;const tb=ti(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/pu,e=>e.getUTCDate()-1);tb.range;const GM=ti(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/pu,e=>Math.floor(e/pu));GM.range;function Uh(e){return ti(r=>{r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},(r,n)=>{r.setDate(r.getDate()+n*7)},(r,n)=>(n-r-(n.getTimezoneOffset()-r.getTimezoneOffset())*Ko)/g3)}const rb=Uh(0),Fv=Uh(1),Sne=Uh(2),kne=Uh(3),um=Uh(4),Cne=Uh(5),Pne=Uh(6);rb.range;Fv.range;Sne.range;kne.range;um.range;Cne.range;Pne.range;function qh(e){return ti(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCDate(r.getUTCDate()+n*7)},(r,n)=>(n-r)/g3)}const nb=qh(0),$v=qh(1),Ene=qh(2),Ane=qh(3),dm=qh(4),Dne=qh(5),Lne=qh(6);nb.range;$v.range;Ene.range;Ane.range;dm.range;Dne.range;Lne.range;const w3=ti(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,r)=>{e.setMonth(e.getMonth()+r)},(e,r)=>r.getMonth()-e.getMonth()+(r.getFullYear()-e.getFullYear())*12,e=>e.getMonth());w3.range;const j3=ti(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCMonth(e.getUTCMonth()+r)},(e,r)=>r.getUTCMonth()-e.getUTCMonth()+(r.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());j3.range;const gu=ti(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r)},(e,r)=>r.getFullYear()-e.getFullYear(),e=>e.getFullYear());gu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ti(r=>{r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,n)=>{r.setFullYear(r.getFullYear()+n*e)});gu.range;const xu=ti(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r)},(e,r)=>r.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ti(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCFullYear(r.getUTCFullYear()+n*e)});xu.range;function YM(e,r,n,a,s,o){const l=[[bh,1,eu],[bh,5,5*eu],[bh,15,15*eu],[bh,30,30*eu],[o,1,Ko],[o,5,5*Ko],[o,15,15*Ko],[o,30,30*Ko],[s,1,tu],[s,3,3*tu],[s,6,6*tu],[s,12,12*tu],[a,1,pu],[a,2,2*pu],[n,1,g3],[r,1,c6],[r,3,3*c6],[e,1,a2]];function c(d,f,p){const x=f<d;x&&([d,f]=[f,d]);const g=p&&typeof p.range=="function"?p:u(d,f,p),y=g?g.range(d,+f+1):[];return x?y.reverse():y}function u(d,f,p){const x=Math.abs(f-d)/p,g=n3(([,,v])=>v).right(l,x);if(g===l.length)return e.every(lj(d/a2,f/a2,p));if(g===0)return zv.every(Math.max(lj(d,f,p),1));const[y,w]=l[x/l[g-1][2]<l[g][2]/x?g-1:g];return y.every(w)}return[c,u]}const[One,Tne]=YM(xu,j3,nb,GM,b3,v3),[Mne,Ine]=YM(gu,w3,rb,B0,y3,x3);function i2(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function s2(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function gp(e,r,n){return{y:e,m:r,d:n,H:0,M:0,S:0,L:0}}function Rne(e){var r=e.dateTime,n=e.date,a=e.time,s=e.periods,o=e.days,l=e.shortDays,c=e.months,u=e.shortMonths,d=xp(s),f=vp(s),p=xp(o),x=vp(o),g=xp(l),y=vp(l),w=xp(c),v=vp(c),S=xp(u),k=vp(u),j={a:O,A:re,b:Y,B:P,c:null,d:p6,e:p6,f:sae,g:gae,G:vae,H:nae,I:aae,j:iae,L:XM,m:oae,M:lae,p:L,q:R,Q:v6,s:y6,S:cae,u:uae,U:dae,V:hae,w:fae,W:mae,x:null,X:null,y:pae,Y:xae,Z:yae,"%":x6},C={a:G,A:X,b:D,B:Z,c:null,d:g6,e:g6,f:Nae,g:Oae,G:Mae,H:bae,I:wae,j:jae,L:ZM,m:_ae,M:Sae,p:ae,q:le,Q:v6,s:y6,S:kae,u:Cae,U:Pae,V:Eae,w:Aae,W:Dae,x:null,X:null,y:Lae,Y:Tae,Z:Iae,"%":x6},z={a:K,A:T,b:M,B:I,c:q,d:f6,e:f6,f:Qne,g:h6,G:d6,H:m6,I:m6,j:Yne,L:Zne,m:Gne,M:Xne,p:B,q:Kne,Q:tae,s:rae,S:Jne,u:Une,U:qne,V:Hne,w:Bne,W:Vne,x:H,X:te,y:h6,Y:d6,Z:Wne,"%":eae};j.x=$(n,j),j.X=$(a,j),j.c=$(r,j),C.x=$(n,C),C.X=$(a,C),C.c=$(r,C);function $(Q,oe){return function(ve){var ue=[],ge=-1,ie=0,se=Q.length,_e,Te,Xe;for(ve instanceof Date||(ve=new Date(+ve));++ge<se;)Q.charCodeAt(ge)===37&&(ue.push(Q.slice(ie,ge)),(Te=u6[_e=Q.charAt(++ge)])!=null?_e=Q.charAt(++ge):Te=_e==="e"?" ":"0",(Xe=oe[_e])&&(_e=Xe(ve,Te)),ue.push(_e),ie=ge+1);return ue.push(Q.slice(ie,ge)),ue.join("")}}function F(Q,oe){return function(ve){var ue=gp(1900,void 0,1),ge=V(ue,Q,ve+="",0),ie,se;if(ge!=ve.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(oe&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(ie=s2(gp(ue.y,0,1)),se=ie.getUTCDay(),ie=se>4||se===0?$v.ceil(ie):$v(ie),ie=tb.offset(ie,(ue.V-1)*7),ue.y=ie.getUTCFullYear(),ue.m=ie.getUTCMonth(),ue.d=ie.getUTCDate()+(ue.w+6)%7):(ie=i2(gp(ue.y,0,1)),se=ie.getDay(),ie=se>4||se===0?Fv.ceil(ie):Fv(ie),ie=B0.offset(ie,(ue.V-1)*7),ue.y=ie.getFullYear(),ue.m=ie.getMonth(),ue.d=ie.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),se="Z"in ue?s2(gp(ue.y,0,1)).getUTCDay():i2(gp(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(se+5)%7:ue.w+ue.U*7-(se+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,s2(ue)):i2(ue)}}function V(Q,oe,ve,ue){for(var ge=0,ie=oe.length,se=ve.length,_e,Te;ge<ie;){if(ue>=se)return-1;if(_e=oe.charCodeAt(ge++),_e===37){if(_e=oe.charAt(ge++),Te=z[_e in u6?oe.charAt(ge++):_e],!Te||(ue=Te(Q,ve,ue))<0)return-1}else if(_e!=ve.charCodeAt(ue++))return-1}return ue}function B(Q,oe,ve){var ue=d.exec(oe.slice(ve));return ue?(Q.p=f.get(ue[0].toLowerCase()),ve+ue[0].length):-1}function K(Q,oe,ve){var ue=g.exec(oe.slice(ve));return ue?(Q.w=y.get(ue[0].toLowerCase()),ve+ue[0].length):-1}function T(Q,oe,ve){var ue=p.exec(oe.slice(ve));return ue?(Q.w=x.get(ue[0].toLowerCase()),ve+ue[0].length):-1}function M(Q,oe,ve){var ue=S.exec(oe.slice(ve));return ue?(Q.m=k.get(ue[0].toLowerCase()),ve+ue[0].length):-1}function I(Q,oe,ve){var ue=w.exec(oe.slice(ve));return ue?(Q.m=v.get(ue[0].toLowerCase()),ve+ue[0].length):-1}function q(Q,oe,ve){return V(Q,r,oe,ve)}function H(Q,oe,ve){return V(Q,n,oe,ve)}function te(Q,oe,ve){return V(Q,a,oe,ve)}function O(Q){return l[Q.getDay()]}function re(Q){return o[Q.getDay()]}function Y(Q){return u[Q.getMonth()]}function P(Q){return c[Q.getMonth()]}function L(Q){return s[+(Q.getHours()>=12)]}function R(Q){return 1+~~(Q.getMonth()/3)}function G(Q){return l[Q.getUTCDay()]}function X(Q){return o[Q.getUTCDay()]}function D(Q){return u[Q.getUTCMonth()]}function Z(Q){return c[Q.getUTCMonth()]}function ae(Q){return s[+(Q.getUTCHours()>=12)]}function le(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var oe=$(Q+="",j);return oe.toString=function(){return Q},oe},parse:function(Q){var oe=F(Q+="",!1);return oe.toString=function(){return Q},oe},utcFormat:function(Q){var oe=$(Q+="",C);return oe.toString=function(){return Q},oe},utcParse:function(Q){var oe=F(Q+="",!0);return oe.toString=function(){return Q},oe}}}var u6={"-":"",_:" ",0:"0"},yi=/^\s*\d+/,zne=/^%/,Fne=/[\\^$*+?|[\]().{}]/g;function cn(e,r,n){var a=e<0?"-":"",s=(a?-e:e)+"",o=s.length;return a+(o<n?new Array(n-o+1).join(r)+s:s)}function $ne(e){return e.replace(Fne,"\\$&")}function xp(e){return new RegExp("^(?:"+e.map($ne).join("|")+")","i")}function vp(e){return new Map(e.map((r,n)=>[r.toLowerCase(),n]))}function Bne(e,r,n){var a=yi.exec(r.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function Une(e,r,n){var a=yi.exec(r.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function qne(e,r,n){var a=yi.exec(r.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function Hne(e,r,n){var a=yi.exec(r.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function Vne(e,r,n){var a=yi.exec(r.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function d6(e,r,n){var a=yi.exec(r.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function h6(e,r,n){var a=yi.exec(r.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function Wne(e,r,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function Kne(e,r,n){var a=yi.exec(r.slice(n,n+1));return a?(e.q=a[0]*3-3,n+a[0].length):-1}function Gne(e,r,n){var a=yi.exec(r.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function f6(e,r,n){var a=yi.exec(r.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function Yne(e,r,n){var a=yi.exec(r.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function m6(e,r,n){var a=yi.exec(r.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function Xne(e,r,n){var a=yi.exec(r.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function Jne(e,r,n){var a=yi.exec(r.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function Zne(e,r,n){var a=yi.exec(r.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function Qne(e,r,n){var a=yi.exec(r.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function eae(e,r,n){var a=zne.exec(r.slice(n,n+1));return a?n+a[0].length:-1}function tae(e,r,n){var a=yi.exec(r.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function rae(e,r,n){var a=yi.exec(r.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function p6(e,r){return cn(e.getDate(),r,2)}function nae(e,r){return cn(e.getHours(),r,2)}function aae(e,r){return cn(e.getHours()%12||12,r,2)}function iae(e,r){return cn(1+B0.count(gu(e),e),r,3)}function XM(e,r){return cn(e.getMilliseconds(),r,3)}function sae(e,r){return XM(e,r)+"000"}function oae(e,r){return cn(e.getMonth()+1,r,2)}function lae(e,r){return cn(e.getMinutes(),r,2)}function cae(e,r){return cn(e.getSeconds(),r,2)}function uae(e){var r=e.getDay();return r===0?7:r}function dae(e,r){return cn(rb.count(gu(e)-1,e),r,2)}function JM(e){var r=e.getDay();return r>=4||r===0?um(e):um.ceil(e)}function hae(e,r){return e=JM(e),cn(um.count(gu(e),e)+(gu(e).getDay()===4),r,2)}function fae(e){return e.getDay()}function mae(e,r){return cn(Fv.count(gu(e)-1,e),r,2)}function pae(e,r){return cn(e.getFullYear()%100,r,2)}function gae(e,r){return e=JM(e),cn(e.getFullYear()%100,r,2)}function xae(e,r){return cn(e.getFullYear()%1e4,r,4)}function vae(e,r){var n=e.getDay();return e=n>=4||n===0?um(e):um.ceil(e),cn(e.getFullYear()%1e4,r,4)}function yae(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+cn(r/60|0,"0",2)+cn(r%60,"0",2)}function g6(e,r){return cn(e.getUTCDate(),r,2)}function bae(e,r){return cn(e.getUTCHours(),r,2)}function wae(e,r){return cn(e.getUTCHours()%12||12,r,2)}function jae(e,r){return cn(1+tb.count(xu(e),e),r,3)}function ZM(e,r){return cn(e.getUTCMilliseconds(),r,3)}function Nae(e,r){return ZM(e,r)+"000"}function _ae(e,r){return cn(e.getUTCMonth()+1,r,2)}function Sae(e,r){return cn(e.getUTCMinutes(),r,2)}function kae(e,r){return cn(e.getUTCSeconds(),r,2)}function Cae(e){var r=e.getUTCDay();return r===0?7:r}function Pae(e,r){return cn(nb.count(xu(e)-1,e),r,2)}function QM(e){var r=e.getUTCDay();return r>=4||r===0?dm(e):dm.ceil(e)}function Eae(e,r){return e=QM(e),cn(dm.count(xu(e),e)+(xu(e).getUTCDay()===4),r,2)}function Aae(e){return e.getUTCDay()}function Dae(e,r){return cn($v.count(xu(e)-1,e),r,2)}function Lae(e,r){return cn(e.getUTCFullYear()%100,r,2)}function Oae(e,r){return e=QM(e),cn(e.getUTCFullYear()%100,r,2)}function Tae(e,r){return cn(e.getUTCFullYear()%1e4,r,4)}function Mae(e,r){var n=e.getUTCDay();return e=n>=4||n===0?dm(e):dm.ceil(e),cn(e.getUTCFullYear()%1e4,r,4)}function Iae(){return"+0000"}function x6(){return"%"}function v6(e){return+e}function y6(e){return Math.floor(+e/1e3)}var wf,eI,tI;Rae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Rae(e){return wf=Rne(e),eI=wf.format,wf.parse,tI=wf.utcFormat,wf.utcParse,wf}function zae(e){return new Date(e)}function Fae(e){return e instanceof Date?+e:+new Date(+e)}function N3(e,r,n,a,s,o,l,c,u,d){var f=c3(),p=f.invert,x=f.domain,g=d(".%L"),y=d(":%S"),w=d("%I:%M"),v=d("%I %p"),S=d("%a %d"),k=d("%b %d"),j=d("%B"),C=d("%Y");function z($){return(u($)<$?g:c($)<$?y:l($)<$?w:o($)<$?v:a($)<$?s($)<$?S:k:n($)<$?j:C)($)}return f.invert=function($){return new Date(p($))},f.domain=function($){return arguments.length?x(Array.from($,Fae)):x().map(zae)},f.ticks=function($){var F=x();return e(F[0],F[F.length-1],$??10)},f.tickFormat=function($,F){return F==null?z:d(F)},f.nice=function($){var F=x();return(!$||typeof $.range!="function")&&($=r(F[0],F[F.length-1],$??10)),$?x(BM(F,$)):f},f.copy=function(){return $0(f,N3(e,r,n,a,s,o,l,c,u,d))},f}function $ae(){return el.apply(N3(Mne,Ine,gu,w3,rb,B0,y3,x3,bh,eI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Bae(){return el.apply(N3(One,Tne,xu,j3,nb,tb,b3,v3,bh,tI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ab(){var e=0,r=1,n,a,s,o,l=js,c=!1,u;function d(p){return p==null||isNaN(p=+p)?u:l(s===0?.5:(p=(o(p)-n)*s,c?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,r]=p,n=o(e=+e),a=o(r=+r),s=n===a?0:1/(a-n),d):[e,r]},d.clamp=function(p){return arguments.length?(c=!!p,d):c},d.interpolator=function(p){return arguments.length?(l=p,d):l};function f(p){return function(x){var g,y;return arguments.length?([g,y]=x,l=p(g,y),d):[l(0),l(1)]}}return d.range=f(_m),d.rangeRound=f(l3),d.unknown=function(p){return arguments.length?(u=p,d):u},function(p){return o=p,n=p(e),a=p(r),s=n===a?0:1/(a-n),d}}function Pd(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function rI(){var e=Cd(ab()(js));return e.copy=function(){return Pd(e,rI())},ju.apply(e,arguments)}function nI(){var e=h3(ab()).domain([1,10]);return e.copy=function(){return Pd(e,nI()).base(e.base())},ju.apply(e,arguments)}function aI(){var e=f3(ab());return e.copy=function(){return Pd(e,aI()).constant(e.constant())},ju.apply(e,arguments)}function _3(){var e=m3(ab());return e.copy=function(){return Pd(e,_3()).exponent(e.exponent())},ju.apply(e,arguments)}function Uae(){return _3.apply(null,arguments).exponent(.5)}function iI(){var e=[],r=js;function n(a){if(a!=null&&!isNaN(a=+a))return r((z0(e,a,1)-1)/(e.length-1))}return n.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(gd),n},n.interpolator=function(a){return arguments.length?(r=a,n):r},n.range=function(){return e.map((a,s)=>r(s/(e.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(s,o)=>Cre(e,o/a))},n.copy=function(){return iI(r).domain(e)},ju.apply(n,arguments)}function ib(){var e=0,r=.5,n=1,a=1,s,o,l,c,u,d=js,f,p=!1,x;function g(w){return isNaN(w=+w)?x:(w=.5+((w=+f(w))-o)*(a*w<a*o?c:u),d(p?Math.max(0,Math.min(1,w)):w))}g.domain=function(w){return arguments.length?([e,r,n]=w,s=f(e=+e),o=f(r=+r),l=f(n=+n),c=s===o?0:.5/(o-s),u=o===l?0:.5/(l-o),a=o<s?-1:1,g):[e,r,n]},g.clamp=function(w){return arguments.length?(p=!!w,g):p},g.interpolator=function(w){return arguments.length?(d=w,g):d};function y(w){return function(v){var S,k,j;return arguments.length?([S,k,j]=v,d=ene(w,[S,k,j]),g):[d(0),d(.5),d(1)]}}return g.range=y(_m),g.rangeRound=y(l3),g.unknown=function(w){return arguments.length?(x=w,g):x},function(w){return f=w,s=w(e),o=w(r),l=w(n),c=s===o?0:.5/(o-s),u=o===l?0:.5/(l-o),a=o<s?-1:1,g}}function sI(){var e=Cd(ib()(js));return e.copy=function(){return Pd(e,sI())},ju.apply(e,arguments)}function oI(){var e=h3(ib()).domain([.1,1,10]);return e.copy=function(){return Pd(e,oI()).base(e.base())},ju.apply(e,arguments)}function lI(){var e=f3(ib());return e.copy=function(){return Pd(e,lI()).constant(e.constant())},ju.apply(e,arguments)}function S3(){var e=m3(ib());return e.copy=function(){return Pd(e,S3()).exponent(e.exponent())},ju.apply(e,arguments)}function qae(){return S3.apply(null,arguments).exponent(.5)}const Pp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:i3,scaleDiverging:sI,scaleDivergingLog:oI,scaleDivergingPow:S3,scaleDivergingSqrt:qae,scaleDivergingSymlog:lI,scaleIdentity:$M,scaleImplicit:cj,scaleLinear:FM,scaleLog:UM,scaleOrdinal:a3,scalePoint:Are,scalePow:p3,scaleQuantile:VM,scaleQuantize:WM,scaleRadial:HM,scaleSequential:rI,scaleSequentialLog:nI,scaleSequentialPow:_3,scaleSequentialQuantile:iI,scaleSequentialSqrt:Uae,scaleSequentialSymlog:aI,scaleSqrt:Nne,scaleSymlog:qM,scaleThreshold:KM,scaleTime:$ae,scaleUtc:Bae,tickFormat:zM},Symbol.toStringTag,{value:"Module"}));var Ed=e=>e.chartData,Hae=ot([Ed],e=>{var r=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:r,dataStartIndex:0}}),k3=(e,r,n,a)=>a?Hae(e):Ed(e);function Oh(e){if(Array.isArray(e)&&e.length===2){var[r,n]=e;if(pi(r)&&pi(n))return!0}return!1}function b6(e,r,n){return n?e:[Math.min(e[0],r[0]),Math.max(e[1],r[1])]}function cI(e,r){if(r&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,a]=e,s,o;if(pi(n))s=n;else if(typeof n=="function")return;if(pi(a))o=a;else if(typeof a=="function")return;var l=[s,o];if(Oh(l))return l}}function Vae(e,r,n){if(!(!n&&r==null)){if(typeof e=="function"&&r!=null)try{var a=e(r,n);if(Oh(a))return b6(a,r,n)}catch{}if(Array.isArray(e)&&e.length===2){var[s,o]=e,l,c;if(s==="auto")r!=null&&(l=Math.min(...r));else if(Dr(s))l=s;else if(typeof s=="function")try{r!=null&&(l=s(r==null?void 0:r[0]))}catch{}else if(typeof s=="string"&&tP.test(s)){var u=tP.exec(s);if(u==null||r==null)l=void 0;else{var d=+u[1];l=r[0]-d}}else l=r==null?void 0:r[0];if(o==="auto")r!=null&&(c=Math.max(...r));else if(Dr(o))c=o;else if(typeof o=="function")try{r!=null&&(c=o(r==null?void 0:r[1]))}catch{}else if(typeof o=="string"&&rP.test(o)){var f=rP.exec(o);if(f==null||r==null)c=void 0;else{var p=+f[1];c=r[1]+p}}else c=r==null?void 0:r[1];var x=[l,c];if(Oh(x))return r==null?x:b6(x,r,n)}}}var Sm=1e9,Wae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},P3,na=!0,Jo="[DecimalError] ",Ch=Jo+"Invalid argument: ",C3=Jo+"Exponent out of range: ",km=Math.floor,oh=Math.pow,Kae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,go,hi=1e7,Hn=7,uI=9007199254740991,Bv=km(uI/Hn),Xt={};Xt.absoluteValue=Xt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Xt.comparedTo=Xt.cmp=function(e){var r,n,a,s,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(a=o.d.length,s=e.d.length,r=0,n=a<s?a:s;r<n;++r)if(o.d[r]!==e.d[r])return o.d[r]>e.d[r]^o.s<0?1:-1;return a===s?0:a>s^o.s<0?1:-1};Xt.decimalPlaces=Xt.dp=function(){var e=this,r=e.d.length-1,n=(r-e.e)*Hn;if(r=e.d[r],r)for(;r%10==0;r/=10)n--;return n<0?0:n};Xt.dividedBy=Xt.div=function(e){return iu(this,new this.constructor(e))};Xt.dividedToIntegerBy=Xt.idiv=function(e){var r=this,n=r.constructor;return On(iu(r,new n(e),0,1),n.precision)};Xt.equals=Xt.eq=function(e){return!this.cmp(e)};Xt.exponent=function(){return za(this)};Xt.greaterThan=Xt.gt=function(e){return this.cmp(e)>0};Xt.greaterThanOrEqualTo=Xt.gte=function(e){return this.cmp(e)>=0};Xt.isInteger=Xt.isint=function(){return this.e>this.d.length-2};Xt.isNegative=Xt.isneg=function(){return this.s<0};Xt.isPositive=Xt.ispos=function(){return this.s>0};Xt.isZero=function(){return this.s===0};Xt.lessThan=Xt.lt=function(e){return this.cmp(e)<0};Xt.lessThanOrEqualTo=Xt.lte=function(e){return this.cmp(e)<1};Xt.logarithm=Xt.log=function(e){var r,n=this,a=n.constructor,s=a.precision,o=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(go))throw Error(Jo+"NaN");if(n.s<1)throw Error(Jo+(n.s?"NaN":"-Infinity"));return n.eq(go)?new a(0):(na=!1,r=iu(h0(n,o),h0(e,o),o),na=!0,On(r,s))};Xt.minus=Xt.sub=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?fI(r,e):dI(r,(e.s=-e.s,e))};Xt.modulo=Xt.mod=function(e){var r,n=this,a=n.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(Jo+"NaN");return n.s?(na=!1,r=iu(n,e,0,1).times(e),na=!0,n.minus(r)):On(new a(n),s)};Xt.naturalExponential=Xt.exp=function(){return hI(this)};Xt.naturalLogarithm=Xt.ln=function(){return h0(this)};Xt.negated=Xt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Xt.plus=Xt.add=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?dI(r,e):fI(r,(e.s=-e.s,e))};Xt.precision=Xt.sd=function(e){var r,n,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ch+e);if(r=za(s)+1,a=s.d.length-1,n=a*Hn+1,a=s.d[a],a){for(;a%10==0;a/=10)n--;for(a=s.d[0];a>=10;a/=10)n++}return e&&r>n?r:n};Xt.squareRoot=Xt.sqrt=function(){var e,r,n,a,s,o,l,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(Jo+"NaN")}for(e=za(c),na=!1,s=Math.sqrt(+c),s==0||s==1/0?(r=uc(c.d),(r.length+e)%2==0&&(r+="0"),s=Math.sqrt(r),e=km((e+1)/2)-(e<0||e%2),s==1/0?r="5e"+e:(r=s.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),a=new u(r)):a=new u(s.toString()),n=u.precision,s=l=n+3;;)if(o=a,a=o.plus(iu(c,o,l+2)).times(.5),uc(o.d).slice(0,l)===(r=uc(a.d)).slice(0,l)){if(r=r.slice(l-3,l+1),s==l&&r=="4999"){if(On(o,n+1,0),o.times(o).eq(c)){a=o;break}}else if(r!="9999")break;l+=4}return na=!0,On(a,n)};Xt.times=Xt.mul=function(e){var r,n,a,s,o,l,c,u,d,f=this,p=f.constructor,x=f.d,g=(e=new p(e)).d;if(!f.s||!e.s)return new p(0);for(e.s*=f.s,n=f.e+e.e,u=x.length,d=g.length,u<d&&(o=x,x=g,g=o,l=u,u=d,d=l),o=[],l=u+d,a=l;a--;)o.push(0);for(a=d;--a>=0;){for(r=0,s=u+a;s>a;)c=o[s]+g[a]*x[s-a-1]+r,o[s--]=c%hi|0,r=c/hi|0;o[s]=(o[s]+r)%hi|0}for(;!o[--l];)o.pop();return r?++n:o.shift(),e.d=o,e.e=n,na?On(e,p.precision):e};Xt.toDecimalPlaces=Xt.todp=function(e,r){var n=this,a=n.constructor;return n=new a(n),e===void 0?n:(xc(e,0,Sm),r===void 0?r=a.rounding:xc(r,0,8),On(n,e+za(n)+1,r))};Xt.toExponential=function(e,r){var n,a=this,s=a.constructor;return e===void 0?n=Th(a,!0):(xc(e,0,Sm),r===void 0?r=s.rounding:xc(r,0,8),a=On(new s(a),e+1,r),n=Th(a,!0,e+1)),n};Xt.toFixed=function(e,r){var n,a,s=this,o=s.constructor;return e===void 0?Th(s):(xc(e,0,Sm),r===void 0?r=o.rounding:xc(r,0,8),a=On(new o(s),e+za(s)+1,r),n=Th(a.abs(),!1,e+za(a)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Xt.toInteger=Xt.toint=function(){var e=this,r=e.constructor;return On(new r(e),za(e)+1,r.rounding)};Xt.toNumber=function(){return+this};Xt.toPower=Xt.pow=function(e){var r,n,a,s,o,l,c=this,u=c.constructor,d=12,f=+(e=new u(e));if(!e.s)return new u(go);if(c=new u(c),!c.s){if(e.s<1)throw Error(Jo+"Infinity");return c}if(c.eq(go))return c;if(a=u.precision,e.eq(go))return On(c,a);if(r=e.e,n=e.d.length-1,l=r>=n,o=c.s,l){if((n=f<0?-f:f)<=uI){for(s=new u(go),r=Math.ceil(a/Hn+4),na=!1;n%2&&(s=s.times(c),j6(s.d,r)),n=km(n/2),n!==0;)c=c.times(c),j6(c.d,r);return na=!0,e.s<0?new u(go).div(s):On(s,a)}}else if(o<0)throw Error(Jo+"NaN");return o=o<0&&e.d[Math.max(r,n)]&1?-1:1,c.s=1,na=!1,s=e.times(h0(c,a+d)),na=!0,s=hI(s),s.s=o,s};Xt.toPrecision=function(e,r){var n,a,s=this,o=s.constructor;return e===void 0?(n=za(s),a=Th(s,n<=o.toExpNeg||n>=o.toExpPos)):(xc(e,1,Sm),r===void 0?r=o.rounding:xc(r,0,8),s=On(new o(s),e,r),n=za(s),a=Th(s,e<=n||n<=o.toExpNeg,e)),a};Xt.toSignificantDigits=Xt.tosd=function(e,r){var n=this,a=n.constructor;return e===void 0?(e=a.precision,r=a.rounding):(xc(e,1,Sm),r===void 0?r=a.rounding:xc(r,0,8)),On(new a(n),e,r)};Xt.toString=Xt.valueOf=Xt.val=Xt.toJSON=Xt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,r=za(e),n=e.constructor;return Th(e,r<=n.toExpNeg||r>=n.toExpPos)};function dI(e,r){var n,a,s,o,l,c,u,d,f=e.constructor,p=f.precision;if(!e.s||!r.s)return r.s||(r=new f(e)),na?On(r,p):r;if(u=e.d,d=r.d,l=e.e,s=r.e,u=u.slice(),o=l-s,o){for(o<0?(a=u,o=-o,c=d.length):(a=d,s=l,c=u.length),l=Math.ceil(p/Hn),c=l>c?l+1:c+1,o>c&&(o=c,a.length=1),a.reverse();o--;)a.push(0);a.reverse()}for(c=u.length,o=d.length,c-o<0&&(o=c,a=d,d=u,u=a),n=0;o;)n=(u[--o]=u[o]+d[o]+n)/hi|0,u[o]%=hi;for(n&&(u.unshift(n),++s),c=u.length;u[--c]==0;)u.pop();return r.d=u,r.e=s,na?On(r,p):r}function xc(e,r,n){if(e!==~~e||e<r||e>n)throw Error(Ch+e)}function uc(e){var r,n,a,s=e.length-1,o="",l=e[0];if(s>0){for(o+=l,r=1;r<s;r++)a=e[r]+"",n=Hn-a.length,n&&(o+=od(n)),o+=a;l=e[r],a=l+"",n=Hn-a.length,n&&(o+=od(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var iu=function(){function e(a,s){var o,l=0,c=a.length;for(a=a.slice();c--;)o=a[c]*s+l,a[c]=o%hi|0,l=o/hi|0;return l&&a.unshift(l),a}function r(a,s,o,l){var c,u;if(o!=l)u=o>l?1:-1;else for(c=u=0;c<o;c++)if(a[c]!=s[c]){u=a[c]>s[c]?1:-1;break}return u}function n(a,s,o){for(var l=0;o--;)a[o]-=l,l=a[o]<s[o]?1:0,a[o]=l*hi+a[o]-s[o];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,o,l){var c,u,d,f,p,x,g,y,w,v,S,k,j,C,z,$,F,V,B=a.constructor,K=a.s==s.s?1:-1,T=a.d,M=s.d;if(!a.s)return new B(a);if(!s.s)throw Error(Jo+"Division by zero");for(u=a.e-s.e,F=M.length,z=T.length,g=new B(K),y=g.d=[],d=0;M[d]==(T[d]||0);)++d;if(M[d]>(T[d]||0)&&--u,o==null?k=o=B.precision:l?k=o+(za(a)-za(s))+1:k=o,k<0)return new B(0);if(k=k/Hn+2|0,d=0,F==1)for(f=0,M=M[0],k++;(d<z||f)&&k--;d++)j=f*hi+(T[d]||0),y[d]=j/M|0,f=j%M|0;else{for(f=hi/(M[0]+1)|0,f>1&&(M=e(M,f),T=e(T,f),F=M.length,z=T.length),C=F,w=T.slice(0,F),v=w.length;v<F;)w[v++]=0;V=M.slice(),V.unshift(0),$=M[0],M[1]>=hi/2&&++$;do f=0,c=r(M,w,F,v),c<0?(S=w[0],F!=v&&(S=S*hi+(w[1]||0)),f=S/$|0,f>1?(f>=hi&&(f=hi-1),p=e(M,f),x=p.length,v=w.length,c=r(p,w,x,v),c==1&&(f--,n(p,F<x?V:M,x))):(f==0&&(c=f=1),p=M.slice()),x=p.length,x<v&&p.unshift(0),n(w,p,v),c==-1&&(v=w.length,c=r(M,w,F,v),c<1&&(f++,n(w,F<v?V:M,v))),v=w.length):c===0&&(f++,w=[0]),y[d++]=f,c&&w[0]?w[v++]=T[C]||0:(w=[T[C]],v=1);while((C++<z||w[0]!==void 0)&&k--)}return y[0]||y.shift(),g.e=u,On(g,l?o+za(g)+1:o)}}();function hI(e,r){var n,a,s,o,l,c,u=0,d=0,f=e.constructor,p=f.precision;if(za(e)>16)throw Error(C3+za(e));if(!e.s)return new f(go);for(na=!1,c=p,l=new f(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(a=Math.log(oh(2,d))/Math.LN10*2+5|0,c+=a,n=s=o=new f(go),f.precision=c;;){if(s=On(s.times(e),c),n=n.times(++u),l=o.plus(iu(s,n,c)),uc(l.d).slice(0,c)===uc(o.d).slice(0,c)){for(;d--;)o=On(o.times(o),c);return f.precision=p,r==null?(na=!0,On(o,p)):o}o=l}}function za(e){for(var r=e.e*Hn,n=e.d[0];n>=10;n/=10)r++;return r}function o2(e,r,n){if(r>e.LN10.sd())throw na=!0,n&&(e.precision=n),Error(Jo+"LN10 precision limit exceeded");return On(new e(e.LN10),r)}function od(e){for(var r="";e--;)r+="0";return r}function h0(e,r){var n,a,s,o,l,c,u,d,f,p=1,x=10,g=e,y=g.d,w=g.constructor,v=w.precision;if(g.s<1)throw Error(Jo+(g.s?"NaN":"-Infinity"));if(g.eq(go))return new w(0);if(r==null?(na=!1,d=v):d=r,g.eq(10))return r==null&&(na=!0),o2(w,d);if(d+=x,w.precision=d,n=uc(y),a=n.charAt(0),o=za(g),Math.abs(o)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)g=g.times(e),n=uc(g.d),a=n.charAt(0),p++;o=za(g),a>1?(g=new w("0."+n),o++):g=new w(a+"."+n.slice(1))}else return u=o2(w,d+2,v).times(o+""),g=h0(new w(a+"."+n.slice(1)),d-x).plus(u),w.precision=v,r==null?(na=!0,On(g,v)):g;for(c=l=g=iu(g.minus(go),g.plus(go),d),f=On(g.times(g),d),s=3;;){if(l=On(l.times(f),d),u=c.plus(iu(l,new w(s),d)),uc(u.d).slice(0,d)===uc(c.d).slice(0,d))return c=c.times(2),o!==0&&(c=c.plus(o2(w,d+2,v).times(o+""))),c=iu(c,new w(p),d),w.precision=v,r==null?(na=!0,On(c,v)):c;c=u,s+=2}}function w6(e,r){var n,a,s;for((n=r.indexOf("."))>-1&&(r=r.replace(".","")),(a=r.search(/e/i))>0?(n<0&&(n=a),n+=+r.slice(a+1),r=r.substring(0,a)):n<0&&(n=r.length),a=0;r.charCodeAt(a)===48;)++a;for(s=r.length;r.charCodeAt(s-1)===48;)--s;if(r=r.slice(a,s),r){if(s-=a,n=n-a-1,e.e=km(n/Hn),e.d=[],a=(n+1)%Hn,n<0&&(a+=Hn),a<s){for(a&&e.d.push(+r.slice(0,a)),s-=Hn;a<s;)e.d.push(+r.slice(a,a+=Hn));r=r.slice(a),a=Hn-r.length}else a-=s;for(;a--;)r+="0";if(e.d.push(+r),na&&(e.e>Bv||e.e<-Bv))throw Error(C3+n)}else e.s=0,e.e=0,e.d=[0];return e}function On(e,r,n){var a,s,o,l,c,u,d,f,p=e.d;for(l=1,o=p[0];o>=10;o/=10)l++;if(a=r-l,a<0)a+=Hn,s=r,d=p[f=0];else{if(f=Math.ceil((a+1)/Hn),o=p.length,f>=o)return e;for(d=o=p[f],l=1;o>=10;o/=10)l++;a%=Hn,s=a-Hn+l}if(n!==void 0&&(o=oh(10,l-s-1),c=d/o%10|0,u=r<0||p[f+1]!==void 0||d%o,u=n<4?(c||u)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||u||n==6&&(a>0?s>0?d/oh(10,l-s):0:p[f-1])%10&1||n==(e.s<0?8:7))),r<1||!p[0])return u?(o=za(e),p.length=1,r=r-o-1,p[0]=oh(10,(Hn-r%Hn)%Hn),e.e=km(-r/Hn)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(a==0?(p.length=f,o=1,f--):(p.length=f+1,o=oh(10,Hn-a),p[f]=s>0?(d/oh(10,l-s)%oh(10,s)|0)*o:0),u)for(;;)if(f==0){(p[0]+=o)==hi&&(p[0]=1,++e.e);break}else{if(p[f]+=o,p[f]!=hi)break;p[f--]=0,o=1}for(a=p.length;p[--a]===0;)p.pop();if(na&&(e.e>Bv||e.e<-Bv))throw Error(C3+za(e));return e}function fI(e,r){var n,a,s,o,l,c,u,d,f,p,x=e.constructor,g=x.precision;if(!e.s||!r.s)return r.s?r.s=-r.s:r=new x(e),na?On(r,g):r;if(u=e.d,p=r.d,a=r.e,d=e.e,u=u.slice(),l=d-a,l){for(f=l<0,f?(n=u,l=-l,c=p.length):(n=p,a=d,c=u.length),s=Math.max(Math.ceil(g/Hn),c)+2,l>s&&(l=s,n.length=1),n.reverse(),s=l;s--;)n.push(0);n.reverse()}else{for(s=u.length,c=p.length,f=s<c,f&&(c=s),s=0;s<c;s++)if(u[s]!=p[s]){f=u[s]<p[s];break}l=0}for(f&&(n=u,u=p,p=n,r.s=-r.s),c=u.length,s=p.length-c;s>0;--s)u[c++]=0;for(s=p.length;s>l;){if(u[--s]<p[s]){for(o=s;o&&u[--o]===0;)u[o]=hi-1;--u[o],u[s]+=hi}u[s]-=p[s]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(r.d=u,r.e=a,na?On(r,g):r):new x(0)}function Th(e,r,n){var a,s=za(e),o=uc(e.d),l=o.length;return r?(n&&(a=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+od(a):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(s<0?"e":"e+")+s):s<0?(o="0."+od(-s-1)+o,n&&(a=n-l)>0&&(o+=od(a))):s>=l?(o+=od(s+1-l),n&&(a=n-s-1)>0&&(o=o+"."+od(a))):((a=s+1)<l&&(o=o.slice(0,a)+"."+o.slice(a)),n&&(a=n-l)>0&&(s+1===l&&(o+="."),o+=od(a))),e.s<0?"-"+o:o}function j6(e,r){if(e.length>r)return e.length=r,!0}function mI(e){var r,n,a;function s(o){var l=this;if(!(l instanceof s))return new s(o);if(l.constructor=s,o instanceof s){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ch+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return w6(l,o.toString())}else if(typeof o!="string")throw Error(Ch+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,Kae.test(o))w6(l,o);else throw Error(Ch+o)}if(s.prototype=Xt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=mI,s.config=s.set=Gae,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)e.hasOwnProperty(n=a[r++])||(e[n]=this[n]);return s.config(e),s}function Gae(e){if(!e||typeof e!="object")throw Error(Jo+"Object expected");var r,n,a,s=["precision",1,Sm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<s.length;r+=3)if((a=e[n=s[r]])!==void 0)if(km(a)===a&&a>=s[r+1]&&a<=s[r+2])this[n]=a;else throw Error(Ch+n+": "+a);if((a=e[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(Ch+n+": "+a);return this}var P3=mI(Wae);go=new P3(1);const jn=P3;var Yae=e=>e,pI={},gI=e=>e===pI,N6=e=>function r(){return arguments.length===0||arguments.length===1&&gI(arguments.length<=0?void 0:arguments[0])?r:e(...arguments)},xI=(e,r)=>e===1?r:N6(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(l=>l!==pI).length;return o>=e?r(...a):xI(e-o,N6(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(f=>gI(f)?c.shift():f);return r(...d,...c)}))}),sb=e=>xI(e.length,e),fj=(e,r)=>{for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},Xae=sb((e,r)=>Array.isArray(r)?r.map(e):Object.keys(r).map(n=>r[n]).map(e)),Jae=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];if(!n.length)return Yae;var s=n.reverse(),o=s[0],l=s.slice(1);return function(){return l.reduce((c,u)=>u(c),o(...arguments))}},mj=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),vI=e=>{var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every((l,c)=>{var u;return l===((u=r)===null||u===void 0?void 0:u[c])})||(r=s,n=e(...s)),n}};function yI(e){var r;return e===0?r=1:r=Math.floor(new jn(e).abs().log(10).toNumber())+1,r}function bI(e,r,n){for(var a=new jn(e),s=0,o=[];a.lt(r)&&s<1e5;)o.push(a.toNumber()),a=a.add(n),s++;return o}sb((e,r,n)=>{var a=+e,s=+r;return a+n*(s-a)});sb((e,r,n)=>{var a=r-+e;return a=a||1/0,(n-e)/a});sb((e,r,n)=>{var a=r-+e;return a=a||1/0,Math.max(0,Math.min(1,(n-e)/a))});var wI=e=>{var[r,n]=e,[a,s]=[r,n];return r>n&&([a,s]=[n,r]),[a,s]},jI=(e,r,n)=>{if(e.lte(0))return new jn(0);var a=yI(e.toNumber()),s=new jn(10).pow(a),o=e.div(s),l=a!==1?.05:.1,c=new jn(Math.ceil(o.div(l).toNumber())).add(n).mul(l),u=c.mul(s);return r?new jn(u.toNumber()):new jn(Math.ceil(u.toNumber()))},Zae=(e,r,n)=>{var a=new jn(1),s=new jn(e);if(!s.isint()&&n){var o=Math.abs(e);o<1?(a=new jn(10).pow(yI(e)-1),s=new jn(Math.floor(s.div(a).toNumber())).mul(a)):o>1&&(s=new jn(Math.floor(e)))}else e===0?s=new jn(Math.floor((r-1)/2)):n||(s=new jn(Math.floor(e)));var l=Math.floor((r-1)/2),c=Jae(Xae(u=>s.add(new jn(u-l).mul(a)).toNumber()),fj);return c(0,r)},NI=function(r,n,a,s){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-r)/(a-1)))return{step:new jn(0),tickMin:new jn(0),tickMax:new jn(0)};var l=jI(new jn(n).sub(r).div(a-1),s,o),c;r<=0&&n>=0?c=new jn(0):(c=new jn(r).add(n).div(2),c=c.sub(new jn(c).mod(l)));var u=Math.ceil(c.sub(r).div(l).toNumber()),d=Math.ceil(new jn(n).sub(c).div(l).toNumber()),f=u+d+1;return f>a?NI(r,n,a,s,o+1):(f<a&&(d=n>0?d+(a-f):d,u=n>0?u:u+(a-f)),{step:l,tickMin:c.sub(new jn(u).mul(l)),tickMax:c.add(new jn(d).mul(l))})};function Qae(e){var[r,n]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[l,c]=wI([r,n]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...fj(0,a-1).map(()=>1/0)]:[...fj(0,a-1).map(()=>-1/0),c];return r>n?mj(u):u}if(l===c)return Zae(l,a,s);var{step:d,tickMin:f,tickMax:p}=NI(l,c,o,s,0),x=bI(f,p.add(new jn(.1).mul(d)),d);return r>n?mj(x):x}function eie(e,r){var[n,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=wI([n,a]);if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var c=Math.max(r,2),u=jI(new jn(l).sub(o).div(c-1),s,0),d=[...bI(new jn(o),new jn(l),u),l];return s===!1&&(d=d.map(f=>Math.round(f))),n>a?mj(d):d}var tie=vI(Qae),rie=vI(eie),nie=e=>e.rootProps.barCategoryGap,ob=e=>e.rootProps.stackOffset,E3=e=>e.options.chartName,A3=e=>e.rootProps.syncId,_I=e=>e.rootProps.syncMethod,D3=e=>e.options.eventEmitter,Ws={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Zc={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ho={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},lb=(e,r)=>{if(!(!e||!r))return e!=null&&e.reversed?[r[1],r[0]]:r},aie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Zc.angleAxisId,includeHidden:!1,name:void 0,reversed:Zc.reversed,scale:Zc.scale,tick:Zc.tick,tickCount:void 0,ticks:void 0,type:Zc.type,unit:void 0},iie={allowDataOverflow:ho.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ho.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ho.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ho.scale,tick:ho.tick,tickCount:ho.tickCount,ticks:void 0,type:ho.type,unit:void 0},sie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Zc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zc.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zc.scale,tick:Zc.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},oie={allowDataOverflow:ho.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ho.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ho.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ho.scale,tick:ho.tick,tickCount:ho.tickCount,ticks:void 0,type:"category",unit:void 0},L3=(e,r)=>e.polarAxis.angleAxis[r]!=null?e.polarAxis.angleAxis[r]:e.layout.layoutType==="radial"?sie:aie,O3=(e,r)=>e.polarAxis.radiusAxis[r]!=null?e.polarAxis.radiusAxis[r]:e.layout.layoutType==="radial"?oie:iie,cb=e=>e.polarOptions,T3=ot([bu,wu,Mi],tre),SI=ot([cb,T3],(e,r)=>{if(e!=null)return yd(e.innerRadius,r,0)}),kI=ot([cb,T3],(e,r)=>{if(e!=null)return yd(e.outerRadius,r,r*.8)}),lie=e=>{if(e==null)return[0,0];var{startAngle:r,endAngle:n}=e;return[r,n]},CI=ot([cb],lie);ot([L3,CI],lb);var PI=ot([T3,SI,kI],(e,r,n)=>{if(!(e==null||r==null||n==null))return[r,n]});ot([O3,PI],lb);var EI=ot([Kn,cb,SI,kI,bu,wu],(e,r,n,a,s,o)=>{if(!(e!=="centric"&&e!=="radial"||r==null||n==null||a==null)){var{cx:l,cy:c,startAngle:u,endAngle:d}=r;return{cx:yd(l,s,s/2),cy:yd(c,o,o/2),innerRadius:n,outerRadius:a,startAngle:u,endAngle:d,clockWise:!1}}}),ri=(e,r)=>r,ub=(e,r,n)=>n;function AI(e){return e==null?void 0:e.id}function DI(e,r,n){var{chartData:a=[]}=r,{allowDuplicatedCategory:s,dataKey:o}=n,l=new Map;return e.forEach(c=>{var u,d=(u=c.data)!==null&&u!==void 0?u:a;if(!(d==null||d.length===0)){var f=AI(c);d.forEach((p,x)=>{var g=o==null||s?x:String(_s(p,o,null)),y=_s(p,c.dataKey,0),w;l.has(g)?w=l.get(g):w={},Object.assign(w,{[f]:y}),l.set(g,w)})}}),Array.from(l.values())}function M3(e){return e.stackId!=null&&e.dataKey!=null}var db=(e,r)=>e===r?!0:e==null||r==null?!1:e[0]===r[0]&&e[1]===r[1];function hb(e,r){return Array.isArray(e)&&Array.isArray(r)&&e.length===0&&r.length===0?!0:e===r}function cie(e,r){if(e.length===r.length){for(var n=0;n<e.length;n++)if(e[n]!==r[n])return!1;return!0}return!1}var ni=e=>{var r=Kn(e);return r==="horizontal"?"xAxis":r==="vertical"?"yAxis":r==="centric"?"angleAxis":"radiusAxis"},Cm=e=>e.tooltip.settings.axisId;function _6(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Uv(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?_6(Object(n),!0).forEach(function(a){uie(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function uie(e,r,n){return(r=die(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function die(e){var r=hie(e,"string");return typeof r=="symbol"?r:r+""}function hie(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var pj=[0,"auto"],co={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},LI=(e,r)=>e.cartesianAxis.xAxis[r],Nu=(e,r)=>{var n=LI(e,r);return n??co},uo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:pj,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:R0},OI=(e,r)=>e.cartesianAxis.yAxis[r],_u=(e,r)=>{var n=OI(e,r);return n??uo},fie={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},I3=(e,r)=>{var n=e.cartesianAxis.zAxis[r];return n??fie},ks=(e,r,n)=>{switch(r){case"xAxis":return Nu(e,n);case"yAxis":return _u(e,n);case"zAxis":return I3(e,n);case"angleAxis":return L3(e,n);case"radiusAxis":return O3(e,n);default:throw new Error("Unexpected axis type: ".concat(r))}},mie=(e,r,n)=>{switch(r){case"xAxis":return Nu(e,n);case"yAxis":return _u(e,n);default:throw new Error("Unexpected axis type: ".concat(r))}},U0=(e,r,n)=>{switch(r){case"xAxis":return Nu(e,n);case"yAxis":return _u(e,n);case"angleAxis":return L3(e,n);case"radiusAxis":return O3(e,n);default:throw new Error("Unexpected axis type: ".concat(r))}},TI=e=>e.graphicalItems.cartesianItems.some(r=>r.type==="bar")||e.graphicalItems.polarItems.some(r=>r.type==="radialBar");function MI(e,r){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===r;case"yAxis":return"yAxisId"in n&&n.yAxisId===r;case"zAxis":return"zAxisId"in n&&n.zAxisId===r;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===r;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===r;default:return!1}}}var II=e=>e.graphicalItems.cartesianItems,pie=ot([ri,ub],MI),RI=(e,r,n)=>e.filter(n).filter(a=>(r==null?void 0:r.includeHidden)===!0?!0:!a.hide),q0=ot([II,ks,pie],RI,{memoizeOptions:{resultEqualityCheck:hb}}),zI=ot([q0],e=>e.filter(r=>r.type==="area"||r.type==="bar").filter(M3)),FI=e=>e.filter(r=>!("stackId"in r)||r.stackId===void 0),gie=ot([q0],FI),$I=e=>e.map(r=>r.data).filter(Boolean).flat(1),xie=ot([q0],$I,{memoizeOptions:{resultEqualityCheck:hb}}),BI=(e,r)=>{var{chartData:n=[],dataStartIndex:a,dataEndIndex:s}=r;return e.length>0?e:n.slice(a,s+1)},R3=ot([xie,k3],BI),UI=(e,r,n)=>(r==null?void 0:r.dataKey)!=null?e.map(a=>({value:_s(a,r.dataKey)})):n.length>0?n.map(a=>a.dataKey).flatMap(a=>e.map(s=>({value:_s(s,a)}))):e.map(a=>({value:a})),fb=ot([R3,ks,q0],UI);function qI(e,r){switch(e){case"xAxis":return r.direction==="x";case"yAxis":return r.direction==="y";default:return!1}}function Dx(e){if(gc(e)||e instanceof Date){var r=Number(e);if(pi(r))return r}}function S6(e){if(Array.isArray(e)){var r=[Dx(e[0]),Dx(e[1])];return Oh(r)?r:void 0}var n=Dx(e);if(n!=null)return[n,n]}function vu(e){return e.map(Dx).filter(qJ)}function vie(e,r,n){return!n||typeof r!="number"||hu(r)?[]:n.length?vu(n.flatMap(a=>{var s=_s(e,a.dataKey),o,l;if(Array.isArray(s)?[o,l]=s:o=l=s,!(!pi(o)||!pi(l)))return[r-o,r+l]})):[]}var ai=e=>{var r=ni(e),n=Cm(e);return U0(e,r,n)},HI=ot([ai],e=>e==null?void 0:e.dataKey),yie=ot([zI,k3,ai],DI),VI=(e,r,n)=>{var a={},s=r.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),a);return Object.fromEntries(Object.entries(s).map(o=>{var[l,c]=o,u=c.map(AI);return[l,{stackedData:aee(e,u,n),graphicalItems:c}]}))},bie=ot([yie,zI,ob],VI),WI=(e,r,n,a)=>{var{dataStartIndex:s,dataEndIndex:o}=r;if(a==null&&n!=="zAxis"){var l=oee(e,s,o);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},wie=ot([ks],e=>e.allowDataOverflow),z3=e=>{var r;if(e==null||!("domain"in e))return pj;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=vu(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(r=e==null?void 0:e.domain)!==null&&r!==void 0?r:pj},KI=ot([ks],z3),GI=ot([KI,wie],cI),jie=ot([bie,Ed,ri,GI],WI,{memoizeOptions:{resultEqualityCheck:db}}),F3=e=>e.errorBars,Nie=(e,r,n)=>e.flatMap(a=>r[a.id]).filter(Boolean).filter(a=>qI(n,a)),qv=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(Boolean);if(s.length!==0){var o=s.flat(),l=Math.min(...o),c=Math.max(...o);return[l,c]}},YI=(e,r,n,a,s)=>{var o,l;if(n.length>0&&e.forEach(c=>{n.forEach(u=>{var d,f,p=(d=a[u.id])===null||d===void 0?void 0:d.filter(S=>qI(s,S)),x=_s(c,(f=r.dataKey)!==null&&f!==void 0?f:u.dataKey),g=vie(c,x,p);if(g.length>=2){var y=Math.min(...g),w=Math.max(...g);(o==null||y<o)&&(o=y),(l==null||w>l)&&(l=w)}var v=S6(x);v!=null&&(o=o==null?v[0]:Math.min(o,v[0]),l=l==null?v[1]:Math.max(l,v[1]))})}),(r==null?void 0:r.dataKey)!=null&&e.forEach(c=>{var u=S6(_s(c,r.dataKey));u!=null&&(o=o==null?u[0]:Math.min(o,u[0]),l=l==null?u[1]:Math.max(l,u[1]))}),pi(o)&&pi(l))return[o,l]},_ie=ot([R3,ks,gie,F3,ri],YI,{memoizeOptions:{resultEqualityCheck:db}});function Sie(e){var{value:r}=e;if(gc(r)||r instanceof Date)return r}var kie=(e,r,n)=>{var a=e.map(Sie).filter(s=>s!=null);return n&&(r.dataKey==null||r.allowDuplicatedCategory&&y8(a))?PM(0,e.length):r.allowDuplicatedCategory?a:Array.from(new Set(a))},XI=e=>e.referenceElements.dots,Pm=(e,r,n)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>r==="xAxis"?a.xAxisId===n:a.yAxisId===n),Cie=ot([XI,ri,ub],Pm),JI=e=>e.referenceElements.areas,Pie=ot([JI,ri,ub],Pm),ZI=e=>e.referenceElements.lines,Eie=ot([ZI,ri,ub],Pm),QI=(e,r)=>{var n=vu(e.map(a=>r==="xAxis"?a.x:a.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Aie=ot(Cie,ri,QI),eR=(e,r)=>{var n=vu(e.flatMap(a=>[r==="xAxis"?a.x1:a.y1,r==="xAxis"?a.x2:a.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Die=ot([Pie,ri],eR);function Lie(e){var r;if(e.x!=null)return vu([e.x]);var n=(r=e.segment)===null||r===void 0?void 0:r.map(a=>a.x);return n==null||n.length===0?[]:vu(n)}function Oie(e){var r;if(e.y!=null)return vu([e.y]);var n=(r=e.segment)===null||r===void 0?void 0:r.map(a=>a.y);return n==null||n.length===0?[]:vu(n)}var tR=(e,r)=>{var n=e.flatMap(a=>r==="xAxis"?Lie(a):Oie(a));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Tie=ot([Eie,ri],tR),Mie=ot(Aie,Tie,Die,(e,r,n)=>qv(e,n,r)),rR=(e,r,n,a,s,o,l,c)=>{if(n!=null)return n;var u=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",d=u?qv(a,o,s):qv(o,s);return Vae(r,d,e.allowDataOverflow)},Iie=ot([ks,KI,GI,jie,_ie,Mie,Kn,ri],rR,{memoizeOptions:{resultEqualityCheck:db}}),Rie=[0,1],nR=(e,r,n,a,s,o,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:u}=e,d=kd(r,o);if(d&&c==null){var f;return PM(0,(f=n==null?void 0:n.length)!==null&&f!==void 0?f:0)}return u==="category"?kie(a,e,d):s==="expand"?Rie:l}},$3=ot([ks,Kn,R3,fb,ob,ri,Iie],nR),aR=(e,r,n,a,s)=>{if(e!=null){var{scale:o,type:l}=e;if(o==="auto")return r==="radial"&&s==="radiusAxis"?"band":r==="radial"&&s==="angleAxis"?"linear":l==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var c="scale".concat(T0(o));return c in Pp?c:"point"}}},H0=ot([ks,Kn,TI,E3,ri],aR);function zie(e){if(e!=null){if(e in Pp)return Pp[e]();var r="scale".concat(T0(e));if(r in Pp)return Pp[r]()}}function B3(e,r,n,a){if(!(n==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(a);var s=zie(r);if(s!=null){var o=s.domain(n).range(a);return eee(o),o}}}var iR=(e,r,n)=>{var a=z3(r);if(!(n!=="auto"&&n!=="linear")){if(r!=null&&r.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&Oh(e))return tie(e,r.tickCount,r.allowDecimals);if(r!=null&&r.tickCount&&r.type==="number"&&Oh(e))return rie(e,r.tickCount,r.allowDecimals)}},U3=ot([$3,U0,H0],iR),sR=(e,r,n,a)=>{if(a!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Oh(r)&&Array.isArray(n)&&n.length>0){var s=r[0],o=n[0],l=r[1],c=n[n.length-1];return[Math.min(s,o),Math.max(l,c)]}return r},Fie=ot([ks,$3,U3,ri],sR),$ie=ot(fb,ks,(e,r)=>{if(!(!r||r.type!=="number")){var n=1/0,a=Array.from(vu(e.map(c=>c.value))).sort((c,u)=>c-u);if(a.length<2)return 1/0;var s=a[a.length-1]-a[0];if(s===0)return 1/0;for(var o=0;o<a.length-1;o++){var l=a[o+1]-a[o];n=Math.min(n,l)}return n/s}}),oR=ot($ie,Kn,nie,Mi,(e,r,n,a)=>a,(e,r,n,a,s)=>{if(!pi(e))return 0;var o=r==="vertical"?a.height:a.width;if(s==="gap")return e*o/2;if(s==="no-gap"){var l=yd(n,e*o),c=e*o/2;return c-l-(c-l)/o*l}return 0}),Bie=(e,r)=>{var n=Nu(e,r);return n==null||typeof n.padding!="string"?0:oR(e,"xAxis",r,n.padding)},Uie=(e,r)=>{var n=_u(e,r);return n==null||typeof n.padding!="string"?0:oR(e,"yAxis",r,n.padding)},qie=ot(Nu,Bie,(e,r)=>{var n,a;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:r,right:r}:{left:((n=s.left)!==null&&n!==void 0?n:0)+r,right:((a=s.right)!==null&&a!==void 0?a:0)+r}}),Hie=ot(_u,Uie,(e,r)=>{var n,a;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:r,bottom:r}:{top:((n=s.top)!==null&&n!==void 0?n:0)+r,bottom:((a=s.bottom)!==null&&a!==void 0?a:0)+r}}),Vie=ot([Mi,qie,Xy,Yy,(e,r,n)=>n],(e,r,n,a,s)=>{var{padding:o}=a;return s?[o.left,n.width-o.right]:[e.left+r.left,e.left+e.width-r.right]}),Wie=ot([Mi,Kn,Hie,Xy,Yy,(e,r,n)=>n],(e,r,n,a,s,o)=>{var{padding:l}=s;return o?[a.height-l.bottom,l.top]:r==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),V0=(e,r,n,a)=>{var s;switch(r){case"xAxis":return Vie(e,n,a);case"yAxis":return Wie(e,n,a);case"zAxis":return(s=I3(e,n))===null||s===void 0?void 0:s.range;case"angleAxis":return CI(e);case"radiusAxis":return PI(e,n);default:return}},lR=ot([ks,V0],lb),Em=ot([ks,H0,Fie,lR],B3);ot([q0,F3,ri],Nie);function cR(e,r){return e.id<r.id?-1:e.id>r.id?1:0}var mb=(e,r)=>r,pb=(e,r,n)=>n,Kie=ot(Ky,mb,pb,(e,r,n)=>e.filter(a=>a.orientation===r).filter(a=>a.mirror===n).sort(cR)),Gie=ot(Gy,mb,pb,(e,r,n)=>e.filter(a=>a.orientation===r).filter(a=>a.mirror===n).sort(cR)),uR=(e,r)=>({width:e.width,height:r.height}),Yie=(e,r)=>{var n=typeof r.width=="number"?r.width:R0;return{width:n,height:e.height}},Xie=ot(Mi,Nu,uR),Jie=(e,r,n)=>{switch(r){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Zie=(e,r,n)=>{switch(r){case"left":return e.left;case"right":return n-e.right;default:return 0}},Qie=ot(wu,Mi,Kie,mb,pb,(e,r,n,a,s)=>{var o={},l;return n.forEach(c=>{var u=uR(r,c);l==null&&(l=Jie(r,a,e));var d=a==="top"&&!s||a==="bottom"&&s;o[c.id]=l-Number(d)*u.height,l+=(d?-1:1)*u.height}),o}),ese=ot(bu,Mi,Gie,mb,pb,(e,r,n,a,s)=>{var o={},l;return n.forEach(c=>{var u=Yie(r,c);l==null&&(l=Zie(r,a,e));var d=a==="left"&&!s||a==="right"&&s;o[c.id]=l-Number(d)*u.width,l+=(d?-1:1)*u.width}),o}),tse=(e,r)=>{var n=Nu(e,r);if(n!=null)return Qie(e,n.orientation,n.mirror)},rse=ot([Mi,Nu,tse,(e,r)=>r],(e,r,n,a)=>{if(r!=null){var s=n==null?void 0:n[a];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),nse=(e,r)=>{var n=_u(e,r);if(n!=null)return ese(e,n.orientation,n.mirror)},ase=ot([Mi,_u,nse,(e,r)=>r],(e,r,n,a)=>{if(r!=null){var s=n==null?void 0:n[a];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),ise=ot(Mi,_u,(e,r)=>{var n=typeof r.width=="number"?r.width:R0;return{width:n,height:e.height}}),dR=(e,r,n,a)=>{if(n!=null){var{allowDuplicatedCategory:s,type:o,dataKey:l}=n,c=kd(e,a),u=r.map(d=>d.value);if(l&&c&&o==="category"&&s&&y8(u))return u}},q3=ot([Kn,fb,ks,ri],dR),hR=(e,r,n,a)=>{if(!(n==null||n.dataKey==null)){var{type:s,scale:o}=n,l=kd(e,a);if(l&&(s==="number"||o!=="auto"))return r.map(c=>c.value)}},H3=ot([Kn,fb,U0,ri],hR);ot([Kn,mie,H0,Em,q3,H3,V0,U3,ri],(e,r,n,a,s,o,l,c,u)=>{if(r!=null){var d=kd(e,u);return{angle:r.angle,interval:r.interval,minTickGap:r.minTickGap,orientation:r.orientation,tick:r.tick,tickCount:r.tickCount,tickFormatter:r.tickFormatter,ticks:r.ticks,type:r.type,unit:r.unit,axisType:u,categoricalDomain:o,duplicateDomain:s,isCategorical:d,niceTicks:c,range:l,realScaleType:n,scale:a}}});var sse=(e,r,n,a,s,o,l,c,u)=>{if(!(r==null||a==null)){var d=kd(e,u),{type:f,ticks:p,tickCount:x}=r,g=n==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,y=f==="category"&&a.bandwidth?a.bandwidth()/g:0;y=u==="angleAxis"&&o!=null&&o.length>=2?El(o[0]-o[1])*2*y:y;var w=p||s;if(w){var v=w.map((S,k)=>{var j=l?l.indexOf(S):S;return{index:k,coordinate:a(j)+y,value:S,offset:y}});return v.filter(S=>pi(S.coordinate))}return d&&c?c.map((S,k)=>({coordinate:a(S)+y,value:S,index:k,offset:y})).filter(S=>pi(S.coordinate)):a.ticks?a.ticks(x).map(S=>({coordinate:a(S)+y,value:S,offset:y})):a.domain().map((S,k)=>({coordinate:a(S)+y,value:l?l[S]:S,index:k,offset:y}))}},fR=ot([Kn,U0,H0,Em,U3,V0,q3,H3,ri],sse),ose=(e,r,n,a,s,o,l)=>{if(!(r==null||n==null||a==null||a[0]===a[1])){var c=kd(e,l),{tickCount:u}=r,d=0;return d=l==="angleAxis"&&(a==null?void 0:a.length)>=2?El(a[0]-a[1])*2*d:d,c&&o?o.map((f,p)=>({coordinate:n(f)+d,value:f,index:p,offset:d})):n.ticks?n.ticks(u).map(f=>({coordinate:n(f)+d,value:f,offset:d})):n.domain().map((f,p)=>({coordinate:n(f)+d,value:s?s[f]:f,index:p,offset:d}))}},mR=ot([Kn,U0,Em,V0,q3,H3,ri],ose),pR=ot(ks,Em,(e,r)=>{if(!(e==null||r==null))return Uv(Uv({},e),{},{scale:r})}),lse=ot([ks,H0,$3,lR],B3);ot((e,r,n)=>I3(e,n),lse,(e,r)=>{if(!(e==null||r==null))return Uv(Uv({},e),{},{scale:r})});var cse=ot([Kn,Ky,Gy],(e,r,n)=>{switch(e){case"horizontal":return r.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),gR=e=>e.options.defaultTooltipEventType,xR=e=>e.options.validateTooltipEventTypes;function vR(e,r,n){if(e==null)return r;var a=e?"axis":"item";return n==null?r:n.includes(a)?a:r}function V3(e,r){var n=gR(e),a=xR(e);return vR(r,n,a)}function use(e){return wr(r=>V3(r,e))}var yR=(e,r)=>{var n,a=Number(r);if(!(hu(a)||r==null))return a>=0?e==null||(n=e[a])===null||n===void 0?void 0:n.value:void 0},dse=e=>e.tooltip.settings,ud={active:!1,index:null,dataKey:void 0,coordinate:void 0},hse={itemInteraction:{click:ud,hover:ud},axisInteraction:{click:ud,hover:ud},keyboardInteraction:ud,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},bR=Ks({name:"tooltip",initialState:hse,reducers:{addTooltipEntrySettings:{reducer(e,r){e.tooltipItemPayloads.push(r.payload)},prepare:Ja()},removeTooltipEntrySettings:{reducer(e,r){var n=au(e).tooltipItemPayloads.indexOf(r.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Ja()},setTooltipSettingsState(e,r){e.settings=r.payload},setActiveMouseOverItemIndex(e,r){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=r.payload.activeIndex,e.itemInteraction.hover.dataKey=r.payload.activeDataKey,e.itemInteraction.hover.coordinate=r.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,r){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=r.payload.activeIndex,e.itemInteraction.click.dataKey=r.payload.activeDataKey,e.itemInteraction.click.coordinate=r.payload.activeCoordinate},setMouseOverAxisIndex(e,r){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=r.payload.activeIndex,e.axisInteraction.hover.dataKey=r.payload.activeDataKey,e.axisInteraction.hover.coordinate=r.payload.activeCoordinate},setMouseClickAxisIndex(e,r){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=r.payload.activeIndex,e.axisInteraction.click.dataKey=r.payload.activeDataKey,e.axisInteraction.click.coordinate=r.payload.activeCoordinate},setSyncInteraction(e,r){e.syncInteraction=r.payload},setKeyboardInteraction(e,r){e.keyboardInteraction.active=r.payload.active,e.keyboardInteraction.index=r.payload.activeIndex,e.keyboardInteraction.coordinate=r.payload.activeCoordinate,e.keyboardInteraction.dataKey=r.payload.activeDataKey}}}),{addTooltipEntrySettings:fse,removeTooltipEntrySettings:mse,setTooltipSettingsState:pse,setActiveMouseOverItemIndex:gse,mouseLeaveItem:Wve,mouseLeaveChart:wR,setActiveClickItemIndex:Kve,setMouseOverAxisIndex:jR,setMouseClickAxisIndex:xse,setSyncInteraction:gj,setKeyboardInteraction:xj}=bR.actions,vse=bR.reducer;function k6(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function lx(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?k6(Object(n),!0).forEach(function(a){yse(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function yse(e,r,n){return(r=bse(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function bse(e){var r=wse(e,"string");return typeof r=="symbol"?r:r+""}function wse(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function jse(e,r,n){return r==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Nse(e){return e.index!=null}var NR=(e,r,n,a)=>{if(r==null)return ud;var s=jse(e,r,n);if(s==null)return ud;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(Nse(s)){if(o)return lx(lx({},s),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return lx(lx({},ud),{},{coordinate:s.coordinate})},W3=(e,r)=>{var n=e==null?void 0:e.index;if(n==null)return null;var a=Number(n);if(!pi(a))return n;var s=0,o=1/0;return r.length>0&&(o=r.length-1),String(Math.max(s,Math.min(a,o)))},_R=(e,r,n,a,s,o,l,c)=>{if(!(o==null||c==null)){var u=l[0],d=u==null?void 0:c(u.positions,o);if(d!=null)return d;var f=s==null?void 0:s[Number(o)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(a.top+r)/2};default:return{x:(a.left+e)/2,y:f.coordinate}}}},SR=(e,r,n,a)=>{if(r==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return n==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===s})},W0=e=>e.options.tooltipPayloadSearcher,Am=e=>e.tooltip;function C6(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function P6(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?C6(Object(n),!0).forEach(function(a){_se(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function _se(e,r,n){return(r=Sse(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Sse(e){var r=kse(e,"string");return typeof r=="symbol"?r:r+""}function kse(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Cse(e,r){return e??r}var kR=(e,r,n,a,s,o,l)=>{if(!(r==null||o==null)){var{chartData:c,computedData:u,dataStartIndex:d,dataEndIndex:f}=n,p=[];return e.reduce((x,g)=>{var y,{dataDefinedOnItem:w,settings:v}=g,S=Cse(w,c),k=Array.isArray(S)?cM(S,d,f):S,j=(y=v==null?void 0:v.dataKey)!==null&&y!==void 0?y:a,C=v==null?void 0:v.nameKey,z;if(a&&Array.isArray(k)&&!Array.isArray(k[0])&&l==="axis"?z=b8(k,a,s):z=o(k,r,u,C),Array.isArray(z))z.forEach(F=>{var V=P6(P6({},v),{},{name:F.name,unit:F.unit,color:void 0,fill:void 0});x.push(nP({tooltipEntrySettings:V,dataKey:F.dataKey,payload:F.payload,value:_s(F.payload,F.dataKey),name:F.name}))});else{var $;x.push(nP({tooltipEntrySettings:v,dataKey:j,payload:z,value:_s(z,j),name:($=_s(z,C))!==null&&$!==void 0?$:v==null?void 0:v.name}))}return x},p)}},K3=ot([ai,Kn,TI,E3,ni],aR),Pse=ot([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,r)=>[...e,...r]),Ese=ot([ni,Cm],MI),K0=ot([Pse,ai,Ese],RI,{memoizeOptions:{resultEqualityCheck:hb}}),Ase=ot([K0],e=>e.filter(M3)),Dse=ot([K0],$I,{memoizeOptions:{resultEqualityCheck:hb}}),Dm=ot([Dse,Ed],BI),Lse=ot([Ase,Ed,ai],DI),G3=ot([Dm,ai,K0],UI),CR=ot([ai],z3),Ose=ot([ai],e=>e.allowDataOverflow),PR=ot([CR,Ose],cI),Tse=ot([K0],e=>e.filter(M3)),Mse=ot([Lse,Tse,ob],VI),Ise=ot([Mse,Ed,ni,PR],WI),Rse=ot([K0],FI),zse=ot([Dm,ai,Rse,F3,ni],YI,{memoizeOptions:{resultEqualityCheck:db}}),Fse=ot([XI,ni,Cm],Pm),$se=ot([Fse,ni],QI),Bse=ot([JI,ni,Cm],Pm),Use=ot([Bse,ni],eR),qse=ot([ZI,ni,Cm],Pm),Hse=ot([qse,ni],tR),Vse=ot([$se,Hse,Use],qv),Wse=ot([ai,CR,PR,Ise,zse,Vse,Kn,ni],rR),ER=ot([ai,Kn,Dm,G3,ob,ni,Wse],nR),Kse=ot([ER,ai,K3],iR),Gse=ot([ai,ER,Kse,ni],sR),AR=e=>{var r=ni(e),n=Cm(e),a=!1;return V0(e,r,n,a)},DR=ot([ai,AR],lb),LR=ot([ai,K3,Gse,DR],B3),Yse=ot([Kn,G3,ai,ni],dR),Xse=ot([Kn,G3,ai,ni],hR),Jse=(e,r,n,a,s,o,l,c)=>{if(r){var{type:u}=r,d=kd(e,c);if(a){var f=n==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,p=u==="category"&&a.bandwidth?a.bandwidth()/f:0;return p=c==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?El(s[0]-s[1])*2*p:p,d&&l?l.map((x,g)=>({coordinate:a(x)+p,value:x,index:g,offset:p})):a.domain().map((x,g)=>({coordinate:a(x)+p,value:o?o[x]:x,index:g,offset:p}))}}},Su=ot([Kn,ai,K3,LR,AR,Yse,Xse,ni],Jse),Y3=ot([gR,xR,dse],(e,r,n)=>vR(n.shared,e,r)),OR=e=>e.tooltip.settings.trigger,X3=e=>e.tooltip.settings.defaultIndex,gb=ot([Am,Y3,OR,X3],NR),f0=ot([gb,Dm],W3),TR=ot([Su,f0],yR),Zse=ot([gb],e=>{if(e)return e.dataKey}),MR=ot([Am,Y3,OR,X3],SR),Qse=ot([bu,wu,Kn,Mi,Su,X3,MR,W0],_R),eoe=ot([gb,Qse],(e,r)=>e!=null&&e.coordinate?e.coordinate:r),toe=ot([gb],e=>e.active),roe=ot([MR,f0,Ed,HI,TR,W0,Y3],kR),noe=ot([roe],e=>{if(e!=null){var r=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(r))}});function E6(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function A6(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?E6(Object(n),!0).forEach(function(a){aoe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function aoe(e,r,n){return(r=ioe(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function ioe(e){var r=soe(e,"string");return typeof r=="symbol"?r:r+""}function soe(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ooe=()=>wr(ai),loe=()=>{var e=ooe(),r=wr(Su),n=wr(LR);return kv(!e||!n?void 0:A6(A6({},e),{},{scale:n}),r)};function D6(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function jf(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?D6(Object(n),!0).forEach(function(a){coe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function coe(e,r,n){return(r=uoe(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function uoe(e){var r=doe(e,"string");return typeof r=="symbol"?r:r+""}function doe(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var hoe=(e,r,n,a)=>{var s=r.find(o=>o&&o.index===n);if(s){if(e==="horizontal")return{x:s.coordinate,y:a.chartY};if(e==="vertical")return{x:a.chartX,y:s.coordinate}}return{x:0,y:0}},foe=(e,r,n,a)=>{var s=r.find(d=>d&&d.index===n);if(s){if(e==="centric"){var o=s.coordinate,{radius:l}=a;return jf(jf(jf({},a),Ti(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,{angle:u}=a;return jf(jf(jf({},a),Ti(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function moe(e,r){var{chartX:n,chartY:a}=e;return n>=r.left&&n<=r.left+r.width&&a>=r.top&&a<=r.top+r.height}var IR=(e,r,n,a,s)=>{var o,l=-1,c=(o=r==null?void 0:r.length)!==null&&o!==void 0?o:0;if(c<=1||e==null)return 0;if(a==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var u=0;u<c;u++){var d=u>0?n[u-1].coordinate:n[c-1].coordinate,f=n[u].coordinate,p=u>=c-1?n[0].coordinate:n[u+1].coordinate,x=void 0;if(El(f-d)!==El(p-f)){var g=[];if(El(p-f)===El(s[1]-s[0])){x=p;var y=f+s[1]-s[0];g[0]=Math.min(y,(y+d)/2),g[1]=Math.max(y,(y+d)/2)}else{x=d;var w=p+s[1]-s[0];g[0]=Math.min(f,(w+f)/2),g[1]=Math.max(f,(w+f)/2)}var v=[Math.min(f,(x+f)/2),Math.max(f,(x+f)/2)];if(e>v[0]&&e<=v[1]||e>=g[0]&&e<=g[1]){({index:l}=n[u]);break}}else{var S=Math.min(d,p),k=Math.max(d,p);if(e>(S+f)/2&&e<=(k+f)/2){({index:l}=n[u]);break}}}else if(r){for(var j=0;j<c;j++)if(j===0&&e<=(r[j].coordinate+r[j+1].coordinate)/2||j>0&&j<c-1&&e>(r[j].coordinate+r[j-1].coordinate)/2&&e<=(r[j].coordinate+r[j+1].coordinate)/2||j===c-1&&e>(r[j].coordinate+r[j-1].coordinate)/2){({index:l}=r[j]);break}}return l},poe=()=>wr(E3),J3=(e,r)=>r,RR=(e,r,n)=>n,Z3=(e,r,n,a)=>a,goe=ot(Su,e=>By(e,r=>r.coordinate)),Q3=ot([Am,J3,RR,Z3],NR),zR=ot([Q3,Dm],W3),xoe=(e,r,n)=>{if(r!=null){var a=Am(e);return r==="axis"?n==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:n==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},FR=ot([Am,J3,RR,Z3],SR),Hv=ot([bu,wu,Kn,Mi,Su,Z3,FR,W0],_R),voe=ot([Q3,Hv],(e,r)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:r}),$R=ot([Su,zR],yR),yoe=ot([FR,zR,Ed,HI,$R,W0,J3],kR),boe=ot([Q3],e=>({isActive:e.active,activeIndex:e.index})),woe=(e,r,n,a,s,o,l)=>{if(!(!e||!n||!a||!s)&&moe(e,l)){var c=lee(e,r),u=IR(c,o,s,n,a),d=hoe(r,s,u,e);return{activeIndex:String(u),activeCoordinate:d}}},joe=(e,r,n,a,s,o,l)=>{if(!(!e||!a||!s||!o||!n)){var c=sre(e,n);if(c){var u=cee(c,r),d=IR(u,l,o,a,s),f=foe(r,o,d,c);return{activeIndex:String(d),activeCoordinate:f}}}},Noe=(e,r,n,a,s,o,l,c)=>{if(!(!e||!r||!a||!s||!o))return r==="horizontal"||r==="vertical"?woe(e,r,a,s,o,l,c):joe(e,r,n,a,s,o,l)},_oe=ot(e=>e.zIndex.zIndexMap,(e,r)=>r,(e,r,n)=>n,(e,r,n)=>{if(r!=null){var a=e[r];if(a!=null)return n?a.panoramaElementId:a.elementId}}),Soe=ot(e=>e.zIndex.zIndexMap,e=>{var r=Object.keys(e).map(a=>parseInt(a,10)).concat(Object.values(Ws)),n=Array.from(new Set(r));return n.sort((a,s)=>a-s)},{memoizeOptions:{resultEqualityCheck:cie}});function L6(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function O6(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?L6(Object(n),!0).forEach(function(a){koe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function koe(e,r,n){return(r=Coe(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Coe(e){var r=Poe(e,"string");return typeof r=="symbol"?r:r+""}function Poe(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Eoe={},Aoe={zIndexMap:Object.values(Ws).reduce((e,r)=>O6(O6({},e),{},{[r]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Eoe)},Doe=new Set(Object.values(Ws));function Loe(e){return Doe.has(e)}var BR=Ks({name:"zIndex",initialState:Aoe,reducers:{registerZIndexPortal:{reducer:(e,r)=>{var{zIndex:n}=r.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ja()},unregisterZIndexPortal:{reducer:(e,r)=>{var{zIndex:n}=r.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Loe(n)&&delete e.zIndexMap[n])},prepare:Ja()},registerZIndexPortalId:{reducer:(e,r)=>{var{zIndex:n,elementId:a,isPanorama:s}=r.payload;e.zIndexMap[n]?s?e.zIndexMap[n].panoramaElementId=a:e.zIndexMap[n].elementId=a:e.zIndexMap[n]={consumers:0,elementId:s?void 0:a,panoramaElementId:s?a:void 0}},prepare:Ja()},unregisterZIndexPortalId:{reducer:(e,r)=>{var{zIndex:n}=r.payload;e.zIndexMap[n]&&(r.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:Ja()}}}),{registerZIndexPortal:Ooe,unregisterZIndexPortal:Toe,registerZIndexPortalId:Moe,unregisterZIndexPortalId:Ioe}=BR.actions,Roe=BR.reducer;function Ad(e){var{zIndex:r,children:n}=e,a=Hee(),s=a&&r!==void 0&&r!==0,o=ko(),l=vi();N.useLayoutEffect(()=>s?(l(Ooe({zIndex:r})),()=>{l(Toe({zIndex:r}))}):jm,[l,r,s]);var c=wr(d=>_oe(d,r,o));if(!s)return n;if(!c)return null;var u=document.getElementById(c);return u?ei.createPortal(n,u):null}function vj(){return vj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},vj.apply(null,arguments)}function T6(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function cx(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?T6(Object(n),!0).forEach(function(a){zoe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function zoe(e,r,n){return(r=Foe(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Foe(e){var r=$oe(e,"string");return typeof r=="symbol"?r:r+""}function $oe(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Boe(e){var{cursor:r,cursorComp:n,cursorProps:a}=e;return N.isValidElement(r)?N.cloneElement(r,a):N.createElement(n,a)}function Uoe(e){var r,{coordinate:n,payload:a,index:s,offset:o,tooltipAxisBandSize:l,layout:c,cursor:u,tooltipEventType:d,chartName:f}=e,p=n,x=a,g=s;if(!u||!p||f!=="ScatterChart"&&d!=="axis")return null;var y,w,v;if(f==="ScatterChart")y=p,w=wte,v=Ws.cursorLine;else if(f==="BarChart")y=jte(c,p,o,l),w=_M,v=Ws.cursorRectangle;else if(c==="radial"&&N8(p)){var{cx:S,cy:k,radius:j,startAngle:C,endAngle:z}=SM(p);y={cx:S,cy:k,startAngle:C,endAngle:z,innerRadius:j,outerRadius:j},w=CM,v=Ws.cursorLine}else y={points:ure(c,p,o)},w=yM,v=Ws.cursorLine;var $=typeof u=="object"&&"className"in u?u.className:void 0,F=cx(cx(cx(cx({stroke:"#ccc",pointerEvents:"none"},o),y),Iy(u)),{},{payload:x,payloadIndex:g,className:Cn("recharts-tooltip-cursor",$)});return N.createElement(Ad,{zIndex:(r=e.zIndex)!==null&&r!==void 0?r:v},N.createElement(Boe,{cursor:u,cursorComp:w,cursorProps:F}))}function qoe(e){var r=loe(),n=Bee(),a=Zy(),s=poe();return r==null||n==null||a==null||s==null?null:N.createElement(Uoe,vj({},e,{offset:n,layout:a,tooltipAxisBandSize:r,chartName:s}))}var UR=N.createContext(null),Hoe=()=>N.useContext(UR),l2={exports:{}},M6;function Voe(){return M6||(M6=1,function(e){var r=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function s(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function o(u,d,f,p,x){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new s(f,p||u,x),y=n?n+d:d;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],g]:u._events[y].push(g):(u._events[y]=g,u._eventsCount++),u}function l(u,d){--u._eventsCount===0?u._events=new a:delete u._events[d]}function c(){this._events=new a,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)r.call(f,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},c.prototype.listeners=function(d){var f=n?n+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var x=0,g=p.length,y=new Array(g);x<g;x++)y[x]=p[x].fn;return y},c.prototype.listenerCount=function(d){var f=n?n+d:d,p=this._events[f];return p?p.fn?1:p.length:0},c.prototype.emit=function(d,f,p,x,g,y){var w=n?n+d:d;if(!this._events[w])return!1;var v=this._events[w],S=arguments.length,k,j;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),S){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,p),!0;case 4:return v.fn.call(v.context,f,p,x),!0;case 5:return v.fn.call(v.context,f,p,x,g),!0;case 6:return v.fn.call(v.context,f,p,x,g,y),!0}for(j=1,k=new Array(S-1);j<S;j++)k[j-1]=arguments[j];v.fn.apply(v.context,k)}else{var C=v.length,z;for(j=0;j<C;j++)switch(v[j].once&&this.removeListener(d,v[j].fn,void 0,!0),S){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,f);break;case 3:v[j].fn.call(v[j].context,f,p);break;case 4:v[j].fn.call(v[j].context,f,p,x);break;default:if(!k)for(z=1,k=new Array(S-1);z<S;z++)k[z-1]=arguments[z];v[j].fn.apply(v[j].context,k)}}return!0},c.prototype.on=function(d,f,p){return o(this,d,f,p,!1)},c.prototype.once=function(d,f,p){return o(this,d,f,p,!0)},c.prototype.removeListener=function(d,f,p,x){var g=n?n+d:d;if(!this._events[g])return this;if(!f)return l(this,g),this;var y=this._events[g];if(y.fn)y.fn===f&&(!x||y.once)&&(!p||y.context===p)&&l(this,g);else{for(var w=0,v=[],S=y.length;w<S;w++)(y[w].fn!==f||x&&!y[w].once||p&&y[w].context!==p)&&v.push(y[w]);v.length?this._events[g]=v.length===1?v[0]:v:l(this,g)}return this},c.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&l(this,f)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c}(l2)),l2.exports}var Woe=Voe();const Koe=Qo(Woe);var m0=new Koe,yj="recharts.syncEvent.tooltip",I6="recharts.syncEvent.brush";function Goe(e,r){if(r){var n=Number.parseInt(r,10);if(!hu(n))return e==null?void 0:e[n]}}var Yoe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},qR=Ks({name:"options",initialState:Yoe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Xoe=qR.reducer,{createEventEmitter:Joe}=qR.actions;function Zoe(e){return e.tooltip.syncInteraction}var Qoe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},HR=Ks({name:"chartData",initialState:Qoe,reducers:{setChartData(e,r){if(e.chartData=r.payload,r.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}r.payload.length>0&&e.dataEndIndex!==r.payload.length-1&&(e.dataEndIndex=r.payload.length-1)},setComputedData(e,r){e.computedData=r.payload},setDataStartEndIndexes(e,r){var{startIndex:n,endIndex:a}=r.payload;n!=null&&(e.dataStartIndex=n),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:R6,setDataStartEndIndexes:ele,setComputedData:Gve}=HR.actions,tle=HR.reducer,rle=["x","y"];function z6(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Nf(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?z6(Object(n),!0).forEach(function(a){nle(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function nle(e,r,n){return(r=ale(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function ale(e){var r=ile(e,"string");return typeof r=="symbol"?r:r+""}function ile(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function sle(e,r){if(e==null)return{};var n,a,s=ole(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function ole(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function lle(){var e=wr(A3),r=wr(D3),n=vi(),a=wr(_I),s=wr(Su),o=Zy(),l=Jy(),c=wr(u=>u.rootProps.className);N.useEffect(()=>{if(e==null)return jm;var u=(d,f,p)=>{if(r!==p&&e===d){if(a==="index"){var x;if(l&&f!==null&&f!==void 0&&(x=f.payload)!==null&&x!==void 0&&x.coordinate&&f.payload.sourceViewBox){var g=f.payload.coordinate,{x:y,y:w}=g,v=sle(g,rle),{x:S,y:k,width:j,height:C}=f.payload.sourceViewBox,z=Nf(Nf({},v),{},{x:l.x+(j?(y-S)/j:0)*l.width,y:l.y+(C?(w-k)/C:0)*l.height});n(Nf(Nf({},f),{},{payload:Nf(Nf({},f.payload),{},{coordinate:z})}))}else n(f);return}if(s!=null){var $;if(typeof a=="function"){var F={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},V=a(s,F);$=s[V]}else a==="value"&&($=s.find(te=>String(te.value)===f.payload.label));var{coordinate:B}=f.payload;if($==null||f.payload.active===!1||B==null||l==null){n(gj({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:K,y:T}=B,M=Math.min(K,l.x+l.width),I=Math.min(T,l.y+l.height),q={x:o==="horizontal"?$.coordinate:M,y:o==="horizontal"?I:$.coordinate},H=gj({active:f.payload.active,coordinate:q,dataKey:f.payload.dataKey,index:String($.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox});n(H)}}};return m0.on(yj,u),()=>{m0.off(yj,u)}},[c,n,r,e,a,s,o,l])}function cle(){var e=wr(A3),r=wr(D3),n=vi();N.useEffect(()=>{if(e==null)return jm;var a=(s,o,l)=>{r!==l&&e===s&&n(ele(o))};return m0.on(I6,a),()=>{m0.off(I6,a)}},[n,r,e])}function ule(){var e=vi();N.useEffect(()=>{e(Joe())},[e]),lle(),cle()}function dle(e,r,n,a,s,o){var l=wr(g=>xoe(g,e,r)),c=wr(D3),u=wr(A3),d=wr(_I),f=wr(Zoe),p=f==null?void 0:f.active,x=Jy();N.useEffect(()=>{if(!p&&u!=null&&c!=null){var g=gj({active:o,coordinate:n,dataKey:l,index:s,label:typeof a=="number"?String(a):a,sourceViewBox:x});m0.emit(yj,u,g,c)}},[p,n,l,s,a,c,u,d,o,x])}function F6(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function $6(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?F6(Object(n),!0).forEach(function(a){hle(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function hle(e,r,n){return(r=fle(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function fle(e){var r=mle(e,"string");return typeof r=="symbol"?r:r+""}function mle(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function ple(e){return e.dataKey}function gle(e,r){return N.isValidElement(e)?N.cloneElement(e,r):typeof e=="function"?N.createElement(e,r):N.createElement(Qee,r)}var B6=[],xle={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Nm.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function vle(e){var r,n,a=So(e,xle),{active:s,allowEscapeViewBox:o,animationDuration:l,animationEasing:c,content:u,filterNull:d,isAnimationActive:f,offset:p,payloadUniqBy:x,position:g,reverseDirection:y,useTranslate3d:w,wrapperStyle:v,cursor:S,shared:k,trigger:j,defaultIndex:C,portal:z,axisId:$}=a,F=vi(),V=typeof C=="number"?String(C):C;N.useEffect(()=>{F(pse({shared:k,trigger:j,axisId:$,active:s,defaultIndex:V}))},[F,k,j,$,s,V]);var B=Jy(),K=vM(),T=use(k),{activeIndex:M,isActive:I}=(r=wr(ae=>boe(ae,T,j,V)))!==null&&r!==void 0?r:{},q=wr(ae=>yoe(ae,T,j,V)),H=wr(ae=>$R(ae,T,j,V)),te=wr(ae=>voe(ae,T,j,V)),O=q,re=Hoe(),Y=(n=s??I)!==null&&n!==void 0?n:!1,[P,L]=QZ([O,Y]),R=T==="axis"?H:void 0;dle(T,j,te,R,M,Y);var G=z??re;if(G==null||B==null||T==null)return null;var X=O??B6;Y||(X=B6),d&&X.length&&(X=SZ(X.filter(ae=>ae.value!=null&&(ae.hide!==!0||a.includeHidden)),x,ple));var D=X.length>0,Z=N.createElement(ste,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:Y,coordinate:te,hasPayload:D,offset:p,position:g,reverseDirection:y,useTranslate3d:w,viewBox:B,wrapperStyle:v,lastBoundingBox:P,innerRef:L,hasPortalFromProps:!!z},gle(u,$6($6({},a),{},{payload:X,label:R,active:Y,activeIndex:M,coordinate:te,accessibilityLayer:K})));return N.createElement(N.Fragment,null,ei.createPortal(Z,G),Y&&N.createElement(qoe,{cursor:S,tooltipEventType:T,coordinate:te,payload:X,index:M}))}function yle(e,r,n){return(r=ble(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function ble(e){var r=wle(e,"string");return typeof r=="symbol"?r:r+""}function wle(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class jle{constructor(r){yle(this,"cache",new Map),this.maxSize=r}get(r){var n=this.cache.get(r);return n!==void 0&&(this.cache.delete(r),this.cache.set(r,n)),n}set(r,n){if(this.cache.has(r))this.cache.delete(r);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(r,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function U6(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Nle(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?U6(Object(n),!0).forEach(function(a){_le(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function _le(e,r,n){return(r=Sle(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Sle(e){var r=kle(e,"string");return typeof r=="symbol"?r:r+""}function kle(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Cle={cacheSize:2e3,enableCache:!0},VR=Nle({},Cle),q6=new jle(VR.cacheSize),Ple={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},H6="recharts_measurement_span";function Ele(e,r){var n=r.fontSize||"",a=r.fontFamily||"",s=r.fontWeight||"",o=r.fontStyle||"",l=r.letterSpacing||"",c=r.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(o,"|").concat(l,"|").concat(c)}var V6=(e,r)=>{try{var n=document.getElementById(H6);n||(n=document.createElement("span"),n.setAttribute("id",H6),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Ple,r),n.textContent="".concat(e);var a=n.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},Fp=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||Nm.isSsr)return{width:0,height:0};if(!VR.enableCache)return V6(r,n);var a=Ele(r,n),s=q6.get(a);if(s)return s;var o=V6(r,n);return q6.set(a,o),o},W6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,K6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ale=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Dle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Lle=Object.keys(WR),Ff="NaN";function Ole(e,r){return e*WR[r]}class qs{static parse(r){var n,[,a,s]=(n=Dle.exec(r))!==null&&n!==void 0?n:[];return new qs(parseFloat(a),s??"")}constructor(r,n){this.num=r,this.unit=n,this.num=r,this.unit=n,hu(r)&&(this.unit=""),n!==""&&!Ale.test(n)&&(this.num=NaN,this.unit=""),Lle.includes(n)&&(this.num=Ole(r,n),this.unit="px")}add(r){return this.unit!==r.unit?new qs(NaN,""):new qs(this.num+r.num,this.unit)}subtract(r){return this.unit!==r.unit?new qs(NaN,""):new qs(this.num-r.num,this.unit)}multiply(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new qs(NaN,""):new qs(this.num*r.num,this.unit||r.unit)}divide(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new qs(NaN,""):new qs(this.num/r.num,this.unit||r.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return hu(this.num)}}function KR(e){if(e.includes(Ff))return Ff;for(var r=e;r.includes("*")||r.includes("/");){var n,[,a,s,o]=(n=W6.exec(r))!==null&&n!==void 0?n:[],l=qs.parse(a??""),c=qs.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Ff;r=r.replace(W6,u.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var d,[,f,p,x]=(d=K6.exec(r))!==null&&d!==void 0?d:[],g=qs.parse(f??""),y=qs.parse(x??""),w=p==="+"?g.add(y):g.subtract(y);if(w.isNaN())return Ff;r=r.replace(K6,w.toString())}return r}var G6=/\(([^()]*)\)/;function Tle(e){for(var r=e,n;(n=G6.exec(r))!=null;){var[,a]=n;r=r.replace(G6,KR(a))}return r}function Mle(e){var r=e.replace(/\s+/g,"");return r=Tle(r),r=KR(r),r}function Ile(e){try{return Mle(e)}catch{return Ff}}function c2(e){var r=Ile(e.slice(5,-1));return r===Ff?"":r}var Rle=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],zle=["dx","dy","angle","className","breakAll"];function bj(){return bj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},bj.apply(null,arguments)}function Y6(e,r){if(e==null)return{};var n,a,s=Fle(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Fle(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var GR=/[ \f\n\r\t\v\u2028\u2029]+/,YR=e=>{var{children:r,breakAll:n,style:a}=e;try{var s=[];mi(r)||(n?s=r.toString().split(""):s=r.toString().split(GR));var o=s.map(c=>({word:c,width:Fp(c,a).width})),l=n?0:Fp("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}};function $le(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var XR=(e,r,n,a)=>e.reduce((s,o)=>{var{word:l,width:c}=o,u=s[s.length-1];if(u&&c!=null&&(r==null||a||u.width+c+n<Number(r)))u.words.push(l),u.width+=c+n;else{var d={words:[l],width:c};s.push(d)}return s},[]),JR=e=>e.reduce((r,n)=>r.width>n.width?r:n),Ble="",X6=(e,r,n,a,s,o,l,c)=>{var u=e.slice(0,r),d=YR({breakAll:n,style:a,children:u+Ble});if(!d)return[!1,[]];var f=XR(d.wordsWithComputedWidth,o,l,c),p=f.length>s||JR(f).width>Number(o);return[p,f]},Ule=(e,r,n,a,s)=>{var{maxLines:o,children:l,style:c,breakAll:u}=e,d=Dr(o),f=String(l),p=XR(r,a,n,s);if(!d||s)return p;var x=p.length>o||JR(p).width>Number(a);if(!x)return p;for(var g=0,y=f.length-1,w=0,v;g<=y&&w<=f.length-1;){var S=Math.floor((g+y)/2),k=S-1,[j,C]=X6(f,k,u,c,o,a,n,s),[z]=X6(f,S,u,c,o,a,n,s);if(!j&&!z&&(g=S+1),j&&z&&(y=S-1),!j&&z){v=C;break}w++}return v||p},J6=e=>{var r=mi(e)?[]:e.toString().split(GR);return[{words:r,width:void 0}]},qle=e=>{var{width:r,scaleToFit:n,children:a,style:s,breakAll:o,maxLines:l}=e;if((r||n)&&!Nm.isSsr){var c,u,d=YR({breakAll:o,children:a,style:s});if(d){var{wordsWithComputedWidth:f,spaceWidth:p}=d;c=f,u=p}else return J6(a);return Ule({breakAll:o,children:a,maxLines:l,style:s},c,u,r,!!n)}return J6(a)},ZR="#808080",Hle={breakAll:!1,capHeight:"0.71em",fill:ZR,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},e_=N.forwardRef((e,r)=>{var n=So(e,Hle),{x:a,y:s,lineHeight:o,capHeight:l,fill:c,scaleToFit:u,textAnchor:d,verticalAnchor:f}=n,p=Y6(n,Rle),x=N.useMemo(()=>qle({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:g,dy:y,angle:w,className:v,breakAll:S}=p,k=Y6(p,zle);if(!gc(a)||!gc(s)||x.length===0)return null;var j=Number(a)+(Dr(g)?g:0),C=Number(s)+(Dr(y)?y:0);if(!pi(j)||!pi(C))return null;var z;switch(f){case"start":z=c2("calc(".concat(l,")"));break;case"middle":z=c2("calc(".concat((x.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:z=c2("calc(".concat(x.length-1," * -").concat(o,")"));break}var $=[];if(u){var F=x[0].width,{width:V}=p;$.push("scale(".concat(Dr(V)&&Dr(F)?V/F:1,")"))}return w&&$.push("rotate(".concat(w,", ").concat(j,", ").concat(C,")")),$.length&&(k.transform=$.join(" ")),N.createElement("text",bj({},Ss(k),{ref:r,x:j,y:C,className:Cn("recharts-text",v),textAnchor:d,fill:c.includes("url")?ZR:c}),x.map((B,K)=>{var T=B.words.join(S?"":" ");return N.createElement("tspan",{x:j,dy:K===0?z:o,key:"".concat(T,"-").concat(K)},T)}))});e_.displayName="Text";var Vle=["labelRef"];function Wle(e,r){if(e==null)return{};var n,a,s=Kle(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Kle(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function Z6(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ka(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Z6(Object(n),!0).forEach(function(a){Gle(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Gle(e,r,n){return(r=Yle(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Yle(e){var r=Xle(e,"string");return typeof r=="symbol"?r:r+""}function Xle(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Qc(){return Qc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Qc.apply(null,arguments)}var QR=N.createContext(null),Jle=e=>{var{x:r,y:n,upperWidth:a,lowerWidth:s,width:o,height:l,children:c}=e,u=N.useMemo(()=>({x:r,y:n,upperWidth:a,lowerWidth:s,width:o,height:l}),[r,n,a,s,o,l]);return N.createElement(QR.Provider,{value:u},c)},e7=()=>{var e=N.useContext(QR),r=Jy();return e||gM(r)},Zle=N.createContext(null),Qle=()=>{var e=N.useContext(Zle),r=wr(EI);return e||r},ece=e=>{var{value:r,formatter:n}=e,a=mi(e.children)?r:e.children;return typeof n=="function"?n(a):a},t_=e=>e!=null&&typeof e=="function",tce=(e,r)=>{var n=El(r-e),a=Math.min(Math.abs(r-e),360);return n*a},rce=(e,r,n,a,s)=>{var{offset:o,className:l}=e,{cx:c,cy:u,innerRadius:d,outerRadius:f,startAngle:p,endAngle:x,clockWise:g}=s,y=(d+f)/2,w=tce(p,x),v=w>=0?1:-1,S,k;switch(r){case"insideStart":S=p+v*o,k=g;break;case"insideEnd":S=x-v*o,k=!g;break;case"end":S=x+v*o,k=g;break;default:throw new Error("Unsupported position ".concat(r))}k=w<=0?k:!k;var j=Ti(c,u,y,S),C=Ti(c,u,y,S+(k?1:-1)*359),z="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(k?0:1,`,
    `).concat(C.x,",").concat(C.y),$=mi(e.id)?n0("recharts-radial-line-"):e.id;return N.createElement("text",Qc({},a,{dominantBaseline:"central",className:Cn("recharts-radial-bar-label",l)}),N.createElement("defs",null,N.createElement("path",{id:$,d:z})),N.createElement("textPath",{xlinkHref:"#".concat($)},n))},nce=(e,r,n)=>{var{cx:a,cy:s,innerRadius:o,outerRadius:l,startAngle:c,endAngle:u}=e,d=(c+u)/2;if(n==="outside"){var{x:f,y:p}=Ti(a,s,l+r,d);return{x:f,y:p,textAnchor:f>=a?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(o+l)/2,{x:g,y}=Ti(a,s,x,d);return{x:g,y,textAnchor:"middle",verticalAnchor:"middle"}},wj=e=>"cx"in e&&Dr(e.cx),ace=(e,r)=>{var{parentViewBox:n,offset:a,position:s}=e,o;n!=null&&!wj(n)&&(o=n);var{x:l,y:c,upperWidth:u,lowerWidth:d,height:f}=r,p=l,x=l+(u-d)/2,g=(p+x)/2,y=(u+d)/2,w=p+u/2,v=f>=0?1:-1,S=v*a,k=v>0?"end":"start",j=v>0?"start":"end",C=u>=0?1:-1,z=C*a,$=C>0?"end":"start",F=C>0?"start":"end";if(s==="top"){var V={x:p+u/2,y:c-S,textAnchor:"middle",verticalAnchor:k};return ka(ka({},V),o?{height:Math.max(c-o.y,0),width:u}:{})}if(s==="bottom"){var B={x:x+d/2,y:c+f+S,textAnchor:"middle",verticalAnchor:j};return ka(ka({},B),o?{height:Math.max(o.y+o.height-(c+f),0),width:d}:{})}if(s==="left"){var K={x:g-z,y:c+f/2,textAnchor:$,verticalAnchor:"middle"};return ka(ka({},K),o?{width:Math.max(K.x-o.x,0),height:f}:{})}if(s==="right"){var T={x:g+y+z,y:c+f/2,textAnchor:F,verticalAnchor:"middle"};return ka(ka({},T),o?{width:Math.max(o.x+o.width-T.x,0),height:f}:{})}var M=o?{width:y,height:f}:{};return s==="insideLeft"?ka({x:g+z,y:c+f/2,textAnchor:F,verticalAnchor:"middle"},M):s==="insideRight"?ka({x:g+y-z,y:c+f/2,textAnchor:$,verticalAnchor:"middle"},M):s==="insideTop"?ka({x:p+u/2,y:c+S,textAnchor:"middle",verticalAnchor:j},M):s==="insideBottom"?ka({x:x+d/2,y:c+f-S,textAnchor:"middle",verticalAnchor:k},M):s==="insideTopLeft"?ka({x:p+z,y:c+S,textAnchor:F,verticalAnchor:j},M):s==="insideTopRight"?ka({x:p+u-z,y:c+S,textAnchor:$,verticalAnchor:j},M):s==="insideBottomLeft"?ka({x:x+z,y:c+f-S,textAnchor:F,verticalAnchor:k},M):s==="insideBottomRight"?ka({x:x+d-z,y:c+f-S,textAnchor:$,verticalAnchor:k},M):s&&typeof s=="object"&&(Dr(s.x)||fu(s.x))&&(Dr(s.y)||fu(s.y))?ka({x:l+yd(s.x,y),y:c+yd(s.y,f),textAnchor:"end",verticalAnchor:"end"},M):ka({x:w,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},M)},ice={offset:5,zIndex:Ws.label};function ld(e){var r=So(e,ice),{viewBox:n,position:a,value:s,children:o,content:l,className:c="",textBreakAll:u,labelRef:d}=r,f=Qle(),p=e7(),x=a==="center"?p:f??p,g,y,w;if(n==null?g=x:wj(n)?g=n:g=gM(n),!g||mi(s)&&mi(o)&&!N.isValidElement(l)&&typeof l!="function")return null;var v=ka(ka({},r),{},{viewBox:g});if(N.isValidElement(l)){var{labelRef:S}=v,k=Wle(v,Vle);return N.cloneElement(l,k)}if(typeof l=="function"){if(y=N.createElement(l,v),N.isValidElement(y))return y}else y=ece(r);var j=Ss(r);if(wj(g)){if(a==="insideStart"||a==="insideEnd"||a==="end")return rce(r,a,y,j,g);w=nce(g,r.offset,r.position)}else w=ace(r,g);return N.createElement(Ad,{zIndex:r.zIndex},N.createElement(e_,Qc({ref:d,className:Cn("recharts-label",c)},j,w,{textAnchor:$le(j.textAnchor)?j.textAnchor:w.textAnchor,breakAll:u}),y))}ld.displayName="Label";var sce=(e,r,n)=>{if(!e)return null;var a={viewBox:r,labelRef:n};return e===!0?N.createElement(ld,Qc({key:"label-implicit"},a)):gc(e)?N.createElement(ld,Qc({key:"label-implicit",value:e},a)):N.isValidElement(e)?e.type===ld?N.cloneElement(e,ka({key:"label-implicit"},a)):N.createElement(ld,Qc({key:"label-implicit",content:e},a)):t_(e)?N.createElement(ld,Qc({key:"label-implicit",content:e},a)):e&&typeof e=="object"?N.createElement(ld,Qc({},e,{key:"label-implicit"},a)):null};function oce(e){var{label:r,labelRef:n}=e,a=e7();return sce(r,a,n)||null}var u2={},d2={},Q6;function lce(){return Q6||(Q6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return n[n.length-1]}e.last=r}(d2)),d2}var h2={},eE;function cce(){return eE||(eE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=r}(h2)),h2}var tE;function uce(){return tE||(tE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=lce(),n=cce(),a=KN();function s(o){if(a.isArrayLike(o))return r.last(n.toArray(o))}e.last=s}(u2)),u2}var f2,rE;function dce(){return rE||(rE=1,f2=uce().last),f2}var hce=dce();const fce=Qo(hce);var mce=["valueAccessor"],pce=["dataKey","clockWise","id","textBreakAll","zIndex"];function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Vv.apply(null,arguments)}function nE(e,r){if(e==null)return{};var n,a,s=gce(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function gce(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var xce=e=>Array.isArray(e.value)?fce(e.value):e.value,t7=N.createContext(void 0),vce=t7.Provider,r7=N.createContext(void 0);r7.Provider;function yce(){return N.useContext(t7)}function bce(){return N.useContext(r7)}function Lx(e){var{valueAccessor:r=xce}=e,n=nE(e,mce),{dataKey:a,clockWise:s,id:o,textBreakAll:l,zIndex:c}=n,u=nE(n,pce),d=yce(),f=bce(),p=d||f;return!p||!p.length?null:N.createElement(Ad,{zIndex:c??Ws.label},N.createElement(vd,{className:"recharts-label-list"},p.map((x,g)=>{var y,w=mi(a)?r(x,g):_s(x&&x.payload,a),v=mi(o)?{}:{id:"".concat(o,"-").concat(g)};return N.createElement(ld,Vv({key:"label-".concat(g)},Ss(x),u,v,{fill:(y=n.fill)!==null&&y!==void 0?y:x.fill,parentViewBox:x.parentViewBox,value:w,textBreakAll:l,viewBox:x.viewBox,index:g,zIndex:0}))})))}Lx.displayName="LabelList";function wce(e){var{label:r}=e;return r?r===!0?N.createElement(Lx,{key:"labelList-implicit"}):N.isValidElement(r)||t_(r)?N.createElement(Lx,{key:"labelList-implicit",content:r}):typeof r=="object"?N.createElement(Lx,Vv({key:"labelList-implicit"},r,{type:String(r.type)})):null:null}function jj(){return jj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},jj.apply(null,arguments)}var n7=e=>{var{cx:r,cy:n,r:a,className:s}=e,o=Cn("recharts-dot",s);return Dr(r)&&Dr(n)&&Dr(a)?N.createElement("circle",jj({},du(e),WN(e),{className:o,cx:r,cy:n,r:a})):null},jce={radiusAxis:{},angleAxis:{}},a7=Ks({name:"polarAxis",initialState:jce,reducers:{addRadiusAxis(e,r){e.radiusAxis[r.payload.id]=r.payload},removeRadiusAxis(e,r){delete e.radiusAxis[r.payload.id]},addAngleAxis(e,r){e.angleAxis[r.payload.id]=r.payload},removeAngleAxis(e,r){delete e.angleAxis[r.payload.id]}}}),{addRadiusAxis:Yve,removeRadiusAxis:Xve,addAngleAxis:Jve,removeAngleAxis:Zve}=a7.actions,Nce=a7.reducer,i7=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,m2={},aE;function _ce(){return aE||(aE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){var s;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((s=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&s.writable)?!1:n.toString()===`[object ${o}]`}let a=n;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(n)===a}e.isPlainObject=r}(m2)),m2}var p2,iE;function Sce(){return iE||(iE=1,p2=_ce().isPlainObject),p2}var kce=Sce();const Cce=Qo(kce);function sE(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function oE(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?sE(Object(n),!0).forEach(function(a){Pce(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Pce(e,r,n){return(r=Ece(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Ece(e){var r=Ace(e,"string");return typeof r=="symbol"?r:r+""}function Ace(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wv.apply(null,arguments)}var lE=(e,r,n,a,s)=>{var o=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+s),l+="L ".concat(e+n-o/2-a,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},Dce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lce=e=>{var r=So(e,Dce),{x:n,y:a,upperWidth:s,lowerWidth:o,height:l,className:c}=r,{animationEasing:u,animationDuration:d,animationBegin:f,isUpdateAnimationActive:p}=r,x=N.useRef(null),[g,y]=N.useState(-1),w=N.useRef(s),v=N.useRef(o),S=N.useRef(l),k=N.useRef(n),j=N.useRef(a),C=r3(e,"trapezoid-");if(N.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var q=x.current.getTotalLength();q&&y(q)}catch{}},[]),n!==+n||a!==+a||s!==+s||o!==+o||l!==+l||s===0&&o===0||l===0)return null;var z=Cn("recharts-trapezoid",c);if(!p)return N.createElement("g",null,N.createElement("path",Wv({},Ss(r),{className:z,d:lE(n,a,s,o,l)})));var $=w.current,F=v.current,V=S.current,B=k.current,K=j.current,T="0px ".concat(g===-1?1:g,"px"),M="".concat(g,"px 0px"),I=bM(["strokeDasharray"],d,u);return N.createElement(t3,{animationId:C,key:C,canBegin:g>0,duration:d,easing:u,isActive:p,begin:f},q=>{var H=Hs($,s,q),te=Hs(F,o,q),O=Hs(V,l,q),re=Hs(B,n,q),Y=Hs(K,a,q);x.current&&(w.current=H,v.current=te,S.current=O,k.current=re,j.current=Y);var P=q>0?{transition:I,strokeDasharray:M}:{strokeDasharray:T};return N.createElement("path",Wv({},Ss(r),{className:z,d:lE(re,Y,H,te,O),ref:x,style:oE(oE({},P),r.style)}))})},Oce=["option","shapeType","propTransformer","activeClassName","isActive"];function Tce(e,r){if(e==null)return{};var n,a,s=Mce(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Mce(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function cE(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Kv(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?cE(Object(n),!0).forEach(function(a){Ice(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ice(e,r,n){return(r=Rce(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Rce(e){var r=zce(e,"string");return typeof r=="symbol"?r:r+""}function zce(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Fce(e,r){return Kv(Kv({},r),e)}function $ce(e,r){return e==="symbols"}function uE(e){var{shapeType:r,elementProps:n}=e;switch(r){case"rectangle":return N.createElement(_M,n);case"trapezoid":return N.createElement(Lce,n);case"sector":return N.createElement(CM,n);case"symbols":if($ce(r))return N.createElement(j8,n);break;case"curve":return N.createElement(yM,n);default:return null}}function Bce(e){return N.isValidElement(e)?e.props:e}function Uce(e){var{option:r,shapeType:n,propTransformer:a=Fce,activeClassName:s="recharts-active-shape",isActive:o}=e,l=Tce(e,Oce),c;if(N.isValidElement(r))c=N.cloneElement(r,Kv(Kv({},l),Bce(r)));else if(typeof r=="function")c=r(l);else if(Cce(r)&&typeof r!="boolean"){var u=a(r,l);c=N.createElement(uE,{shapeType:n,elementProps:u})}else{var d=l;c=N.createElement(uE,{shapeType:n,elementProps:d})}return o?N.createElement(vd,{className:s},c):c}function qce(e){var{fn:r,args:n}=e,a=vi(),s=ko();return N.useLayoutEffect(()=>{if(!s){var o=r(n);return a(fse(o)),()=>{a(mse(o))}}},[r,n,a,s]),null}function Hce(e){var{legendPayload:r}=e,n=vi(),a=ko();return N.useLayoutEffect(()=>a?jm:(n(Wee(r)),()=>{n(Kee(r))}),[n,a,r]),null}var g2,Vce=()=>{var[e]=N.useState(()=>n0("uid-"));return e},Wce=(g2=vz.useId)!==null&&g2!==void 0?g2:Vce;function s7(e,r){var n=Wce();return r||(e?"".concat(e,"-").concat(n):n)}var Kce=N.createContext(void 0),Gce=e=>{var{id:r,type:n,children:a}=e,s=s7("recharts-".concat(n),r);return N.createElement(Kce.Provider,{value:s},a(s))},Yce={cartesianItems:[],polarItems:[]},o7=Ks({name:"graphicalItems",initialState:Yce,reducers:{addCartesianGraphicalItem:{reducer(e,r){e.cartesianItems.push(r.payload)},prepare:Ja()},replaceCartesianGraphicalItem:{reducer(e,r){var{prev:n,next:a}=r.payload,s=au(e).cartesianItems.indexOf(n);s>-1&&(e.cartesianItems[s]=a)},prepare:Ja()},removeCartesianGraphicalItem:{reducer(e,r){var n=au(e).cartesianItems.indexOf(r.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Ja()},addPolarGraphicalItem:{reducer(e,r){e.polarItems.push(r.payload)},prepare:Ja()},removePolarGraphicalItem:{reducer(e,r){var n=au(e).polarItems.indexOf(r.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Ja()}}}),{addCartesianGraphicalItem:Xce,replaceCartesianGraphicalItem:Jce,removeCartesianGraphicalItem:Zce,addPolarGraphicalItem:Qve,removePolarGraphicalItem:eye}=o7.actions,Qce=o7.reducer;function eue(e){var r=vi(),n=N.useRef(null);return N.useLayoutEffect(()=>{n.current===null?r(Xce(e)):n.current!==e&&r(Jce({prev:n.current,next:e})),n.current=e},[r,e]),N.useLayoutEffect(()=>()=>{n.current&&(r(Zce(n.current)),n.current=null)},[r]),null}var tue=["points"];function dE(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function x2(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?dE(Object(n),!0).forEach(function(a){rue(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function rue(e,r,n){return(r=nue(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function nue(e){var r=aue(e,"string");return typeof r=="symbol"?r:r+""}function aue(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Gv.apply(null,arguments)}function iue(e,r){if(e==null)return{};var n,a,s=sue(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function sue(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function oue(e){var{option:r,dotProps:n,className:a}=e;if(N.isValidElement(r))return N.cloneElement(r,n);if(typeof r=="function")return r(n);var s=Cn(a,typeof r!="boolean"?r.className:""),o=n??{},{points:l}=o,c=iue(o,tue);return N.createElement(n7,Gv({},c,{className:s}))}function lue(e,r){return e==null?!1:r?!0:e.length===1}function cue(e){var{points:r,dot:n,className:a,dotClassName:s,dataKey:o,baseProps:l,needClip:c,clipPathId:u,zIndex:d=Ws.scatter}=e;if(!lue(r,n))return null;var f=i7(n),p=JX(n),x=r.map((y,w)=>{var v,S,k=x2(x2(x2({r:3},l),p),{},{index:w,cx:(v=y.x)!==null&&v!==void 0?v:void 0,cy:(S=y.y)!==null&&S!==void 0?S:void 0,dataKey:o,value:y.value,payload:y.payload,points:r});return N.createElement(oue,{key:"dot-".concat(w),option:n,dotProps:k,className:s})}),g={};return c&&u!=null&&(g.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),N.createElement(Ad,{zIndex:d},N.createElement(vd,Gv({className:a},g),x))}function hE(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function fE(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?hE(Object(n),!0).forEach(function(a){uue(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function uue(e,r,n){return(r=due(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function due(e){var r=hue(e,"string");return typeof r=="symbol"?r:r+""}function hue(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var fue={xAxis:{},yAxis:{},zAxis:{}},l7=Ks({name:"cartesianAxis",initialState:fue,reducers:{addXAxis:{reducer(e,r){e.xAxis[r.payload.id]=r.payload},prepare:Ja()},removeXAxis:{reducer(e,r){delete e.xAxis[r.payload.id]},prepare:Ja()},addYAxis:{reducer(e,r){e.yAxis[r.payload.id]=r.payload},prepare:Ja()},removeYAxis:{reducer(e,r){delete e.yAxis[r.payload.id]},prepare:Ja()},addZAxis:{reducer(e,r){e.zAxis[r.payload.id]=r.payload},prepare:Ja()},removeZAxis:{reducer(e,r){delete e.zAxis[r.payload.id]},prepare:Ja()},updateYAxisWidth(e,r){var{id:n,width:a}=r.payload,s=e.yAxis[n];if(s){var o=s.widthHistory||[];if(o.length===3&&o[0]===o[2]&&a===o[1]&&a!==s.width&&Math.abs(a-o[0])<=1)return;var l=[...o,a].slice(-3);e.yAxis[n]=fE(fE({},e.yAxis[n]),{},{width:a,widthHistory:l})}}}}),{addXAxis:mue,removeXAxis:pue,addYAxis:gue,removeYAxis:xue,addZAxis:tye,removeZAxis:rye,updateYAxisWidth:vue}=l7.actions,yue=l7.reducer,bue=ot([Mi],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),wue=ot([bue,bu,wu],(e,r,n)=>{if(!(!e||r==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,r-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),r_=()=>wr(wue),jue=()=>wr(noe);function mE(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function v2(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?mE(Object(n),!0).forEach(function(a){Nue(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Nue(e,r,n){return(r=_ue(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function _ue(e){var r=Sue(e,"string");return typeof r=="symbol"?r:r+""}function Sue(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var kue=e=>{var{point:r,childIndex:n,mainColor:a,activeDot:s,dataKey:o}=e;if(s===!1||r.x==null||r.y==null)return null;var l={index:n,dataKey:o,cx:r.x,cy:r.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},c=v2(v2(v2({},l),Iy(s)),WN(s)),u;return N.isValidElement(s)?u=N.cloneElement(s,c):typeof s=="function"?u=s(c):u=N.createElement(n7,c),N.createElement(vd,{className:"recharts-active-dot"},u)};function Cue(e){var{points:r,mainColor:n,activeDot:a,itemDataKey:s,zIndex:o=Ws.activeDot}=e,l=wr(f0),c=jue();if(r==null||c==null)return null;var u=r.find(d=>c.includes(d.payload));return mi(u)?null:N.createElement(Ad,{zIndex:o},N.createElement(kue,{point:u,childIndex:Number(l),mainColor:n,dataKey:s,activeDot:a}))}var Pue={},c7=Ks({name:"errorBars",initialState:Pue,reducers:{addErrorBar:(e,r)=>{var{itemId:n,errorBar:a}=r.payload;e[n]||(e[n]=[]),e[n].push(a)},replaceErrorBar:(e,r)=>{var{itemId:n,prev:a,next:s}=r.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===a.dataKey&&o.direction===a.direction?s:o))},removeErrorBar:(e,r)=>{var{itemId:n,errorBar:a}=r.payload;e[n]&&(e[n]=e[n].filter(s=>s.dataKey!==a.dataKey||s.direction!==a.direction))}}}),{addErrorBar:nye,replaceErrorBar:aye,removeErrorBar:iye}=c7.actions,Eue=c7.reducer,Aue=["children"];function Due(e,r){if(e==null)return{};var n,a,s=Lue(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Lue(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var Oue={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Tue=N.createContext(Oue);function Mue(e){var{children:r}=e,n=Due(e,Aue);return N.createElement(Tue.Provider,{value:n},r)}function u7(e,r){var n,a,s=wr(d=>Nu(d,e)),o=wr(d=>_u(d,r)),l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:co.allowDataOverflow,c=(a=o==null?void 0:o.allowDataOverflow)!==null&&a!==void 0?a:uo.allowDataOverflow,u=l||c;return{needClip:u,needClipX:l,needClipY:c}}function Iue(e){var{xAxisId:r,yAxisId:n,clipPathId:a}=e,s=r_(),{needClipX:o,needClipY:l,needClip:c}=u7(r,n);if(!c||!s)return null;var{x:u,y:d,width:f,height:p}=s;return N.createElement("clipPath",{id:"clipPath-".concat(a)},N.createElement("rect",{x:o?u:u-f/2,y:l?d:d-p/2,width:o?f:f*2,height:l?p:p*2}))}var Rue=e=>{var{chartData:r}=e,n=vi(),a=ko();return N.useEffect(()=>a?()=>{}:(n(R6(r)),()=>{n(R6(void 0))}),[r,n,a]),null},pE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},d7=Ks({name:"brush",initialState:pE,reducers:{setBrushSettings(e,r){return r.payload==null?pE:r.payload}}}),{setBrushSettings:sye}=d7.actions,zue=d7.reducer;function Fue(e,r,n){return(r=$ue(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function $ue(e){var r=Bue(e,"string");return typeof r=="symbol"?r:r+""}function Bue(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class n_{static create(r){return new n_(r)}constructor(r){this.scale=r}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}isInRange(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}Fue(n_,"EPS",1e-4);function Uue(e){return(e%180+180)%180}var que=function(r){var{width:n,height:a}=r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Uue(s),l=o*Math.PI/180,c=Math.atan(a/n),u=l>c&&l<Math.PI-c?a/Math.sin(l):n/Math.cos(l);return Math.abs(u)},Hue={dots:[],areas:[],lines:[]},h7=Ks({name:"referenceElements",initialState:Hue,reducers:{addDot:(e,r)=>{e.dots.push(r.payload)},removeDot:(e,r)=>{var n=au(e).dots.findIndex(a=>a===r.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,r)=>{e.areas.push(r.payload)},removeArea:(e,r)=>{var n=au(e).areas.findIndex(a=>a===r.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,r)=>{e.lines.push(r.payload)},removeLine:(e,r)=>{var n=au(e).lines.findIndex(a=>a===r.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:oye,removeDot:lye,addArea:cye,removeArea:uye,addLine:dye,removeLine:hye}=h7.actions,Vue=h7.reducer,Wue=N.createContext(void 0),Kue=e=>{var{children:r}=e,[n]=N.useState("".concat(n0("recharts"),"-clip")),a=r_();if(a==null)return null;var{x:s,y:o,width:l,height:c}=a;return N.createElement(Wue.Provider,{value:n},N.createElement("defs",null,N.createElement("clipPath",{id:n},N.createElement("rect",{x:s,y:o,height:c,width:l}))),r)};function hm(e,r){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(r,n)||e[n]!==r[n]))return!1;for(var a in r)if({}.hasOwnProperty.call(r,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function f7(e,r){if(r<1)return[];if(r===1)return e;for(var n=[],a=0;a<e.length;a+=r)n.push(e[a]);return n}function Gue(e,r,n){var a={width:e.width+r.width,height:e.height+r.height};return que(a,n)}function Yue(e,r,n){var a=n==="width",{x:s,y:o,width:l,height:c}=e;return r===1?{start:a?s:o,end:a?s+l:o+c}:{start:a?s+l:o+c,end:a?s:o}}function Yv(e,r,n,a,s){if(e*r<e*a||e*r>e*s)return!1;var o=n();return e*(r-e*o/2-a)>=0&&e*(r+e*o/2-s)<=0}function Xue(e,r){return f7(e,r+1)}function Jue(e,r,n,a,s){for(var o=(a||[]).slice(),{start:l,end:c}=r,u=0,d=1,f=l,p=function(){var y=a==null?void 0:a[u];if(y===void 0)return{v:f7(a,d)};var w=u,v,S=()=>(v===void 0&&(v=n(y,w)),v),k=y.coordinate,j=u===0||Yv(e,k,S,f,c);j||(u=0,f=l,d+=1),j&&(f=k+e*(S()/2+s),u+=d)},x;d<=o.length;)if(x=p(),x)return x.v;return[]}function gE(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function is(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?gE(Object(n),!0).forEach(function(a){Zue(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Zue(e,r,n){return(r=Que(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Que(e){var r=ede(e,"string");return typeof r=="symbol"?r:r+""}function ede(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function tde(e,r,n,a,s){for(var o=(a||[]).slice(),l=o.length,{start:c}=r,{end:u}=r,d=function(x){var g=o[x],y,w=()=>(y===void 0&&(y=n(g,x)),y);if(x===l-1){var v=e*(g.coordinate+e*w()/2-u);o[x]=g=is(is({},g),{},{tickCoord:v>0?g.coordinate-v*e:g.coordinate})}else o[x]=g=is(is({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var S=Yv(e,g.tickCoord,w,c,u);S&&(u=g.tickCoord-e*(w()/2+s),o[x]=is(is({},g),{},{isShow:!0}))}},f=l-1;f>=0;f--)d(f);return o}function rde(e,r,n,a,s,o){var l=(a||[]).slice(),c=l.length,{start:u,end:d}=r;if(o){var f=a[c-1],p=n(f,c-1),x=e*(f.coordinate+e*p/2-d);if(l[c-1]=f=is(is({},f),{},{tickCoord:x>0?f.coordinate-x*e:f.coordinate}),f.tickCoord!=null){var g=Yv(e,f.tickCoord,()=>p,u,d);g&&(d=f.tickCoord-e*(p/2+s),l[c-1]=is(is({},f),{},{isShow:!0}))}}for(var y=o?c-1:c,w=function(k){var j=l[k],C,z=()=>(C===void 0&&(C=n(j,k)),C);if(k===0){var $=e*(j.coordinate-e*z()/2-u);l[k]=j=is(is({},j),{},{tickCoord:$<0?j.coordinate-$*e:j.coordinate})}else l[k]=j=is(is({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var F=Yv(e,j.tickCoord,z,u,d);F&&(u=j.tickCoord+e*(z()/2+s),l[k]=is(is({},j),{},{isShow:!0}))}},v=0;v<y;v++)w(v);return l}function nde(e,r,n){var{tick:a,ticks:s,viewBox:o,minTickGap:l,orientation:c,interval:u,tickFormatter:d,unit:f,angle:p}=e;if(!s||!s.length||!a)return[];if(Dr(u)||Nm.isSsr){var x;return(x=Xue(s,Dr(u)?u:0))!==null&&x!==void 0?x:[]}var g=[],y=c==="top"||c==="bottom"?"width":"height",w=f&&y==="width"?Fp(f,{fontSize:r,letterSpacing:n}):{width:0,height:0},v=(j,C)=>{var z=typeof d=="function"?d(j.value,C):j.value;return y==="width"?Gue(Fp(z,{fontSize:r,letterSpacing:n}),w,p):Fp(z,{fontSize:r,letterSpacing:n})[y]},S=s.length>=2?El(s[1].coordinate-s[0].coordinate):1,k=Yue(o,S,y);return u==="equidistantPreserveStart"?Jue(S,k,v,s,l):(u==="preserveStart"||u==="preserveStartEnd"?g=rde(S,k,v,s,l,u==="preserveStartEnd"):g=tde(S,k,v,s,l),g.filter(j=>j.isShow))}var ade=e=>{var{ticks:r,label:n,labelGapWithTick:a=5,tickSize:s=0,tickMargin:o=0}=e,l=0;if(r){Array.from(r).forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>l&&(l=p.width)}});var c=n?n.getBoundingClientRect().width:0,u=s+o,d=l+u+c+(n?a:0);return Math.round(d)}return 0},ide=["axisLine","width","height","className","hide","ticks","axisType"],sde=["viewBox"],ode=["viewBox"];function Nj(e,r){if(e==null)return{};var n,a,s=lde(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function lde(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Mh.apply(null,arguments)}function xE(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ia(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?xE(Object(n),!0).forEach(function(a){cde(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function cde(e,r,n){return(r=ude(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function ude(e){var r=dde(e,"string");return typeof r=="symbol"?r:r+""}function dde(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var hde={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ws.axis};function fde(e){var{x:r,y:n,width:a,height:s,orientation:o,mirror:l,axisLine:c,otherSvgProps:u}=e;if(!c)return null;var d=Ia(Ia(Ia({},u),du(c)),{},{fill:"none"});if(o==="top"||o==="bottom"){var f=+(o==="top"&&!l||o==="bottom"&&l);d=Ia(Ia({},d),{},{x1:r,y1:n+f*s,x2:r+a,y2:n+f*s})}else{var p=+(o==="left"&&!l||o==="right"&&l);d=Ia(Ia({},d),{},{x1:r+p*a,y1:n,x2:r+p*a,y2:n+s})}return N.createElement("line",Mh({},d,{className:Cn("recharts-cartesian-axis-line",$y(c,"className"))}))}function mde(e,r,n,a,s,o,l,c,u){var d,f,p,x,g,y,w=c?-1:1,v=e.tickSize||l,S=Dr(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":d=f=e.coordinate,x=n+ +!c*s,p=x-w*v,y=p-w*u,g=S;break;case"left":p=x=e.coordinate,f=r+ +!c*a,d=f-w*v,g=d-w*u,y=S;break;case"right":p=x=e.coordinate,f=r+ +c*a,d=f+w*v,g=d+w*u,y=S;break;default:d=f=e.coordinate,x=n+ +c*s,p=x+w*v,y=p+w*u,g=S;break}return{line:{x1:d,y1:p,x2:f,y2:x},tick:{x:g,y}}}function pde(e,r){switch(e){case"left":return r?"start":"end";case"right":return r?"end":"start";default:return"middle"}}function gde(e,r){switch(e){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}function xde(e){var{option:r,tickProps:n,value:a}=e,s,o=Cn(n.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(r))s=N.cloneElement(r,Ia(Ia({},n),{},{className:o}));else if(typeof r=="function")s=r(Ia(Ia({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof r!="boolean"&&(l=Cn(l,r==null?void 0:r.className)),s=N.createElement(e_,Mh({},n,{className:l}),a)}return s}var vde=N.forwardRef((e,r)=>{var{ticks:n=[],tick:a,tickLine:s,stroke:o,tickFormatter:l,unit:c,padding:u,tickTextProps:d,orientation:f,mirror:p,x,y:g,width:y,height:w,tickSize:v,tickMargin:S,fontSize:k,letterSpacing:j,getTicksConfig:C,events:z,axisType:$}=e,F=nde(Ia(Ia({},C),{},{ticks:n}),k,j),V=pde(f,p),B=gde(f,p),K=du(C),T=Iy(a),M={};typeof s=="object"&&(M=s);var I=Ia(Ia({},K),{},{fill:"none"},M),q=F.map(O=>Ia({entry:O},mde(O,x,g,y,w,f,v,p,S))),H=q.map(O=>{var{entry:re,line:Y}=O;return N.createElement(vd,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},s&&N.createElement("line",Mh({},I,Y,{className:Cn("recharts-cartesian-axis-tick-line",$y(s,"className"))})))}),te=q.map((O,re)=>{var{entry:Y,tick:P}=O,L=Ia(Ia(Ia(Ia({textAnchor:V,verticalAnchor:B},K),{},{stroke:"none",fill:o},T),P),{},{index:re,payload:Y,visibleTicksCount:F.length,tickFormatter:l,padding:u},d);return N.createElement(vd,Mh({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},tZ(z,Y,re)),a&&N.createElement(xde,{option:a,tickProps:L,value:"".concat(typeof l=="function"?l(Y.value,re):Y.value).concat(c||"")}))});return N.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat($,"-ticks")},te.length>0&&N.createElement(Ad,{zIndex:Ws.label},N.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat($,"-tick-labels"),ref:r},te)),H.length>0&&N.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat($,"-tick-lines")},H))}),yde=N.forwardRef((e,r)=>{var{axisLine:n,width:a,height:s,className:o,hide:l,ticks:c,axisType:u}=e,d=Nj(e,ide),[f,p]=N.useState(""),[x,g]=N.useState(""),y=N.useRef(null);N.useImperativeHandle(r,()=>({getCalculatedWidth:()=>{var v;return ade({ticks:y.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=N.useCallback(v=>{if(v){var S=v.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=S;var k=S[0];if(k){var j=window.getComputedStyle(k),C=j.fontSize,z=j.letterSpacing;(C!==f||z!==x)&&(p(C),g(z))}}},[f,x]);return l||a!=null&&a<=0||s!=null&&s<=0?null:N.createElement(Ad,{zIndex:e.zIndex},N.createElement(vd,{className:Cn("recharts-cartesian-axis",o)},N.createElement(fde,{x:e.x,y:e.y,width:a,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:du(e)}),N.createElement(vde,{ref:w,axisType:u,events:d,fontSize:f,getTicksConfig:e,height:e.height,letterSpacing:x,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),N.createElement(Jle,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},N.createElement(oce,{label:e.label,labelRef:e.labelRef}),e.children)))}),bde=N.memo(yde,(e,r)=>{var{viewBox:n}=e,a=Nj(e,sde),{viewBox:s}=r,o=Nj(r,ode);return hm(n,s)&&hm(a,o)}),a_=N.forwardRef((e,r)=>{var n=So(e,hde);return N.createElement(bde,Mh({},n,{ref:r}))});a_.displayName="CartesianAxis";var m7=(e,r,n,a)=>pR(e,"xAxis",r,a),p7=(e,r,n,a)=>mR(e,"xAxis",r,a),g7=(e,r,n,a)=>pR(e,"yAxis",n,a),x7=(e,r,n,a)=>mR(e,"yAxis",n,a),wde=ot([Kn,m7,g7,p7,x7],(e,r,n,a,s)=>kd(e,"xAxis")?kv(r,a,!1):kv(n,s,!1)),jde=(e,r,n,a,s)=>s;function Nde(e){return e.type==="line"}var _de=ot([II,jde],(e,r)=>e.filter(Nde).find(n=>n.id===r)),Sde=ot([Kn,m7,g7,p7,x7,_de,wde,k3],(e,r,n,a,s,o,l,c)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=c;if(!(o==null||r==null||n==null||a==null||s==null||a.length===0||s.length===0||l==null)){var{dataKey:p,data:x}=o,g;if(x!=null&&x.length>0?g=x:g=u==null?void 0:u.slice(d,f+1),g!=null)return Wde({layout:e,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:p,bandSize:l,displayedData:g})}});function kde(e){var r=Iy(e),n=3,a=2;if(r!=null){var{r:s,strokeWidth:o}=r,l=Number(s),c=Number(o);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(c)||c<0)&&(c=a),{r:l,strokeWidth:c}}return{r:n,strokeWidth:a}}var Cde=["id"],Pde=["type","layout","connectNulls","needClip","shape"],Ede=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p0.apply(null,arguments)}function vE(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function cc(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?vE(Object(n),!0).forEach(function(a){Ade(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ade(e,r,n){return(r=Dde(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Dde(e){var r=Lde(e,"string");return typeof r=="symbol"?r:r+""}function Lde(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function i_(e,r){if(e==null)return{};var n,a,s=Ode(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Ode(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var Tde=e=>{var{dataKey:r,name:n,stroke:a,legendType:s,hide:o}=e;return[{inactive:o,dataKey:r,type:s,color:a,value:uM(n,r),payload:e}]};function Mde(e){var{dataKey:r,data:n,stroke:a,strokeWidth:s,fill:o,name:l,hide:c,unit:u}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:o,dataKey:r,nameKey:void 0,name:uM(l,r),hide:c,type:e.tooltipType,color:e.stroke,unit:u}}}var v7=(e,r)=>"".concat(r,"px ").concat(e-r,"px");function Ide(e,r){for(var n=e.length%2!==0?[...e,0]:e,a=[],s=0;s<r;++s)a=[...a,...n];return a}var Rde=(e,r,n)=>{var a=n.reduce((p,x)=>p+x);if(!a)return v7(r,e);for(var s=Math.floor(e/a),o=e%a,l=r-e,c=[],u=0,d=0;u<n.length;d+=n[u],++u)if(d+n[u]>o){c=[...n.slice(0,u),o-d];break}var f=c.length%2===0?[0,l]:[l];return[...Ide(n,s),...c,...f].map(p=>"".concat(p,"px")).join(", ")};function zde(e){var{clipPathId:r,points:n,props:a}=e,{dot:s,dataKey:o,needClip:l}=a,{id:c}=a,u=i_(a,Cde),d=du(u);return N.createElement(cue,{points:n,dot:s,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:d,needClip:l,clipPathId:r})}function Fde(e){var{showLabels:r,children:n,points:a}=e,s=N.useMemo(()=>a==null?void 0:a.map(o=>{var l,c,u={x:(l=o.x)!==null&&l!==void 0?l:0,y:(c=o.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return cc(cc({},u),{},{value:o.value,payload:o.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[a]);return N.createElement(vce,{value:r?s:void 0},n)}function yE(e){var{clipPathId:r,pathRef:n,points:a,strokeDasharray:s,props:o}=e,{type:l,layout:c,connectNulls:u,needClip:d,shape:f}=o,p=i_(o,Pde),x=cc(cc({},Ss(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(r,")"):void 0,points:a,type:l,layout:c,connectNulls:u,strokeDasharray:s??o.strokeDasharray});return N.createElement(N.Fragment,null,(a==null?void 0:a.length)>1&&N.createElement(Uce,p0({shapeType:"curve",option:f},x,{pathRef:n})),N.createElement(zde,{points:a,clipPathId:r,props:o}))}function $de(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Bde(e){var{clipPathId:r,props:n,pathRef:a,previousPointsRef:s,longestAnimatedLengthRef:o}=e,{points:l,strokeDasharray:c,isAnimationActive:u,animationBegin:d,animationDuration:f,animationEasing:p,animateNewValues:x,width:g,height:y,onAnimationEnd:w,onAnimationStart:v}=n,S=s.current,k=r3(n,"recharts-line-"),[j,C]=N.useState(!1),z=!j,$=N.useCallback(()=>{typeof w=="function"&&w(),C(!1)},[w]),F=N.useCallback(()=>{typeof v=="function"&&v(),C(!0)},[v]),V=$de(a.current),B=o.current;return N.createElement(Fde,{points:l,showLabels:z},n.children,N.createElement(t3,{animationId:k,begin:d,duration:f,isActive:u,easing:p,onAnimationEnd:$,onAnimationStart:F,key:k},K=>{var T=Hs(B,V+B,K),M=Math.min(T,V),I;if(u)if(c){var q="".concat(c).split(/[,\s]+/gim).map(O=>parseFloat(O));I=Rde(M,V,q)}else I=v7(V,M);else I=c==null?void 0:String(c);if(S){var H=S.length/l.length,te=K===1?l:l.map((O,re)=>{var Y=Math.floor(re*H);if(S[Y]){var P=S[Y];return cc(cc({},O),{},{x:Hs(P.x,O.x,K),y:Hs(P.y,O.y,K)})}return x?cc(cc({},O),{},{x:Hs(g*2,O.x,K),y:Hs(y/2,O.y,K)}):cc(cc({},O),{},{x:O.x,y:O.y})});return s.current=te,N.createElement(yE,{props:n,points:te,clipPathId:r,pathRef:a,strokeDasharray:I})}return K>0&&V>0&&(s.current=l,o.current=M),N.createElement(yE,{props:n,points:l,clipPathId:r,pathRef:a,strokeDasharray:I})}),N.createElement(wce,{label:n.label}))}function Ude(e){var{clipPathId:r,props:n}=e,a=N.useRef(null),s=N.useRef(0),o=N.useRef(null);return N.createElement(Bde,{props:n,clipPathId:r,previousPointsRef:a,longestAnimatedLengthRef:s,pathRef:o})}var qde=(e,r)=>{var n,a;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(a=e.y)!==null&&a!==void 0?a:void 0,value:e.value,errorVal:_s(e.payload,r)}};class Hde extends N.Component{render(){var{hide:r,dot:n,points:a,className:s,xAxisId:o,yAxisId:l,top:c,left:u,width:d,height:f,id:p,needClip:x,zIndex:g}=this.props;if(r)return null;var y=Cn("recharts-line",s),w=p,{r:v,strokeWidth:S}=kde(n),k=i7(n),j=v*2+S;return N.createElement(Ad,{zIndex:g},N.createElement(vd,{className:y},x&&N.createElement("defs",null,N.createElement(Iue,{clipPathId:w,xAxisId:o,yAxisId:l}),!k&&N.createElement("clipPath",{id:"clipPath-dots-".concat(w)},N.createElement("rect",{x:u-j/2,y:c-j/2,width:d+j,height:f+j}))),N.createElement(Mue,{xAxisId:o,yAxisId:l,data:a,dataPointFormatter:qde,errorBarOffset:0},N.createElement(Ude,{props:this.props,clipPathId:w}))),N.createElement(Cue,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var y7={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Nm.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Ws.line};function Vde(e){var r=So(e,y7),{activeDot:n,animateNewValues:a,animationBegin:s,animationDuration:o,animationEasing:l,connectNulls:c,dot:u,hide:d,isAnimationActive:f,label:p,legendType:x,xAxisId:g,yAxisId:y,id:w}=r,v=i_(r,Ede),{needClip:S}=u7(g,y),k=r_(),j=Zy(),C=ko(),z=wr(K=>Sde(K,g,y,C,w));if(j!=="horizontal"&&j!=="vertical"||z==null||k==null)return null;var{height:$,width:F,x:V,y:B}=k;return N.createElement(Hde,p0({},v,{id:w,connectNulls:c,dot:u,activeDot:n,animateNewValues:a,animationBegin:s,animationDuration:o,animationEasing:l,isAnimationActive:f,hide:d,label:p,legendType:x,xAxisId:g,yAxisId:y,points:z,layout:j,height:$,width:F,left:V,top:B,needClip:S}))}function Wde(e){var{layout:r,xAxis:n,yAxis:a,xAxisTicks:s,yAxisTicks:o,dataKey:l,bandSize:c,displayedData:u}=e;return u.map((d,f)=>{var p=_s(d,l);if(r==="horizontal"){var x=eP({axis:n,ticks:s,bandSize:c,entry:d,index:f}),g=mi(p)?null:a.scale(p);return{x,y:g,value:p,payload:d}}var y=mi(p)?null:n.scale(p),w=eP({axis:a,ticks:o,bandSize:c,entry:d,index:f});return y==null||w==null?null:{x:y,y:w,value:p,payload:d}}).filter(Boolean)}function Kde(e){var r=So(e,y7),n=ko();return N.createElement(Gce,{id:r.id,type:"line"},a=>N.createElement(N.Fragment,null,N.createElement(Hce,{legendPayload:Tde(r)}),N.createElement(qce,{fn:Mde,args:r}),N.createElement(eue,{type:"line",id:a,data:r.data,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,hide:r.hide,isPanorama:n}),N.createElement(Vde,p0({},r,{id:a}))))}var Xf=N.memo(Kde);Xf.displayName="Line";var Gde=["dangerouslySetInnerHTML","ticks"],Yde=["id"],Xde=["domain"],Jde=["domain"];function _j(){return _j=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_j.apply(null,arguments)}function Xv(e,r){if(e==null)return{};var n,a,s=Zde(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Zde(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function Qde(e){var r=vi();return N.useLayoutEffect(()=>(r(mue(e)),()=>{r(pue(e))}),[e,r]),null}var ehe=e=>{var{xAxisId:r,className:n}=e,a=wr(hM),s=ko(),o="xAxis",l=wr(v=>Em(v,o,r,s)),c=wr(v=>fR(v,o,r,s)),u=wr(v=>Xie(v,r)),d=wr(v=>rse(v,r)),f=wr(v=>LI(v,r));if(u==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:x}=e,g=Xv(e,Gde),{id:y}=f,w=Xv(f,Yde);return N.createElement(a_,_j({},g,w,{scale:l,x:d.x,y:d.y,width:u.width,height:u.height,className:Cn("recharts-".concat(o," ").concat(o),n),viewBox:a,ticks:c,axisType:o}))},the={allowDataOverflow:co.allowDataOverflow,allowDecimals:co.allowDecimals,allowDuplicatedCategory:co.allowDuplicatedCategory,height:co.height,hide:!1,mirror:co.mirror,orientation:co.orientation,padding:co.padding,reversed:co.reversed,scale:co.scale,tickCount:co.tickCount,type:co.type,xAxisId:0},rhe=e=>{var r,n,a,s,o,l=So(e,the);return N.createElement(N.Fragment,null,N.createElement(Qde,{interval:(r=l.interval)!==null&&r!==void 0?r:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(a=l.angle)!==null&&a!==void 0?a:0,minTickGap:(s=l.minTickGap)!==null&&s!==void 0?s:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),N.createElement(ehe,l))},nhe=(e,r)=>{var{domain:n}=e,a=Xv(e,Xde),{domain:s}=r,o=Xv(r,Jde);return hm(a,o)?Array.isArray(n)&&n.length===2&&Array.isArray(s)&&s.length===2?n[0]===s[0]&&n[1]===s[1]:hm({domain:n},{domain:s}):!1},b7=N.memo(rhe,nhe);b7.displayName="XAxis";var ahe=["dangerouslySetInnerHTML","ticks"],ihe=["id"],she=["domain"],ohe=["domain"];function Sj(){return Sj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Sj.apply(null,arguments)}function Jv(e,r){if(e==null)return{};var n,a,s=lhe(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function lhe(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function che(e){var r=vi();return N.useLayoutEffect(()=>(r(gue(e)),()=>{r(xue(e))}),[e,r]),null}var uhe=e=>{var{yAxisId:r,className:n,width:a,label:s}=e,o=N.useRef(null),l=N.useRef(null),c=wr(hM),u=ko(),d=vi(),f="yAxis",p=wr(z=>Em(z,f,r,u)),x=wr(z=>ise(z,r)),g=wr(z=>ase(z,r)),y=wr(z=>fR(z,f,r,u)),w=wr(z=>OI(z,r));if(N.useLayoutEffect(()=>{if(!(a!=="auto"||!x||t_(s)||N.isValidElement(s)||w==null)){var z=o.current;if(z){var $=z.getCalculatedWidth();Math.round(x.width)!==Math.round($)&&d(vue({id:r,width:$}))}}},[y,x,d,s,r,a,w]),x==null||g==null||w==null)return null;var{dangerouslySetInnerHTML:v,ticks:S}=e,k=Jv(e,ahe),{id:j}=w,C=Jv(w,ihe);return N.createElement(a_,Sj({},k,C,{ref:o,labelRef:l,scale:p,x:g.x,y:g.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:x.width,height:x.height,className:Cn("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:y,axisType:f}))},dhe={allowDataOverflow:uo.allowDataOverflow,allowDecimals:uo.allowDecimals,allowDuplicatedCategory:uo.allowDuplicatedCategory,hide:!1,mirror:uo.mirror,orientation:uo.orientation,padding:uo.padding,reversed:uo.reversed,scale:uo.scale,tickCount:uo.tickCount,type:uo.type,width:uo.width,yAxisId:0},hhe=e=>{var r,n,a,s,o,l=So(e,dhe);return N.createElement(N.Fragment,null,N.createElement(che,{interval:(r=l.interval)!==null&&r!==void 0?r:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(a=l.angle)!==null&&a!==void 0?a:0,minTickGap:(s=l.minTickGap)!==null&&s!==void 0?s:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),N.createElement(uhe,l))},fhe=(e,r)=>{var{domain:n}=e,a=Jv(e,she),{domain:s}=r,o=Jv(r,ohe);return hm(a,o)?Array.isArray(n)&&n.length===2&&Array.isArray(s)&&s.length===2?n[0]===s[0]&&n[1]===s[1]:hm({domain:n},{domain:s}):!1},w7=N.memo(hhe,fhe);w7.displayName="YAxis";var y2={exports:{}},b2={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function mhe(){if(bE)return b2;bE=1;var e=jo();function r(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:r,a=e.useSyncExternalStore,s=e.useRef,o=e.useEffect,l=e.useMemo,c=e.useDebugValue;return b2.useSyncExternalStoreWithSelector=function(u,d,f,p,x){var g=s(null);if(g.current===null){var y={hasValue:!1,value:null};g.current=y}else y=g.current;g=l(function(){function v(z){if(!S){if(S=!0,k=z,z=p(z),x!==void 0&&y.hasValue){var $=y.value;if(x($,z))return j=$}return j=z}if($=j,n(k,z))return $;var F=p(z);return x!==void 0&&x($,F)?(k=z,$):(k=z,j=F)}var S=!1,k,j,C=f===void 0?null:f;return[function(){return v(d())},C===null?void 0:function(){return v(C())}]},[d,f,p,x]);var w=a(u,g[0],g[1]);return o(function(){y.hasValue=!0,y.value=w},[w]),c(w),w},b2}var wE;function phe(){return wE||(wE=1,y2.exports=mhe()),y2.exports}phe();function ghe(e){e()}function xhe(){let e=null,r=null;return{clear(){e=null,r=null},notify(){ghe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let a=e;for(;a;)n.push(a),a=a.next;return n},subscribe(n){let a=!0;const s=r={callback:n,next:null,prev:r};return s.prev?s.prev.next=s:e=s,function(){!a||e===null||(a=!1,s.next?s.next.prev=s.prev:r=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var jE={notify(){},get:()=>[]};function vhe(e,r){let n,a=jE,s=0,o=!1;function l(w){f();const v=a.subscribe(w);let S=!1;return()=>{S||(S=!0,v(),p())}}function c(){a.notify()}function u(){y.onStateChange&&y.onStateChange()}function d(){return o}function f(){s++,n||(n=e.subscribe(u),a=xhe())}function p(){s--,n&&s===0&&(n(),n=void 0,a.clear(),a=jE)}function x(){o||(o=!0,f())}function g(){o&&(o=!1,p())}const y={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:d,trySubscribe:x,tryUnsubscribe:g,getListeners:()=>a};return y}var yhe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bhe=yhe(),whe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",jhe=whe(),Nhe=()=>bhe||jhe?N.useLayoutEffect:N.useEffect,_he=Nhe(),w2=Symbol.for("react-redux-context"),j2=typeof globalThis<"u"?globalThis:{};function She(){if(!N.createContext)return{};const e=j2[w2]??(j2[w2]=new Map);let r=e.get(N.createContext);return r||(r=N.createContext(null),e.set(N.createContext,r)),r}var khe=She();function Che(e){const{children:r,context:n,serverState:a,store:s}=e,o=N.useMemo(()=>{const u=vhe(s);return{store:s,subscription:u,getServerState:a?()=>a:void 0}},[s,a]),l=N.useMemo(()=>s.getState(),[s]);_he(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==s.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,l]);const c=n||khe;return N.createElement(c.Provider,{value:o},r)}var Phe=Che,Ehe=(e,r)=>r,s_=ot([Ehe,Kn,EI,ni,DR,Su,goe,Mi],Noe),o_=e=>{var r=e.currentTarget.getBoundingClientRect(),n=r.width/e.currentTarget.offsetWidth,a=r.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-r.left)/n),chartY:Math.round((e.clientY-r.top)/a)}},j7=Xo("mouseClick"),N7=I0();N7.startListening({actionCreator:j7,effect:(e,r)=>{var n=e.payload,a=s_(r.getState(),o_(n));(a==null?void 0:a.activeIndex)!=null&&r.dispatch(xse({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var kj=Xo("mouseMove"),_7=I0();_7.startListening({actionCreator:kj,effect:(e,r)=>{var n=e.payload,a=r.getState(),s=V3(a,a.tooltip.settings.shared),o=s_(a,o_(n));s==="axis"&&((o==null?void 0:o.activeIndex)!=null?r.dispatch(jR({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):r.dispatch(wR()))}});var NE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},S7=Ks({name:"rootProps",initialState:NE,reducers:{updateOptions:(e,r)=>{var n;e.accessibilityLayer=r.payload.accessibilityLayer,e.barCategoryGap=r.payload.barCategoryGap,e.barGap=(n=r.payload.barGap)!==null&&n!==void 0?n:NE.barGap,e.barSize=r.payload.barSize,e.maxBarSize=r.payload.maxBarSize,e.stackOffset=r.payload.stackOffset,e.syncId=r.payload.syncId,e.syncMethod=r.payload.syncMethod,e.className=r.payload.className,e.baseValue=r.payload.baseValue}}}),Ahe=S7.reducer,{updateOptions:Dhe}=S7.actions,k7=Ks({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,r)=>r.payload}}),{updatePolarOptions:fye}=k7.actions,Lhe=k7.reducer,C7=Xo("keyDown"),P7=Xo("focus"),l_=I0();l_.startListening({actionCreator:C7,effect:(e,r)=>{var n=r.getState(),a=n.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=Number(W3(s,Dm(n))),c=Su(n);if(o==="Enter"){var u=Hv(n,"axis","hover",String(s.index));r.dispatch(xj({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:u}));return}var d=cse(n),f=d==="left-to-right"?1:-1,p=o==="ArrowRight"?1:-1,x=l+p*f;if(!(c==null||x>=c.length||x<0)){var g=Hv(n,"axis","hover",String(x));r.dispatch(xj({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});l_.startListening({actionCreator:P7,effect:(e,r)=>{var n=r.getState(),a=n.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=n.tooltip;if(!s.active&&s.index==null){var o="0",l=Hv(n,"axis","hover",String(o));r.dispatch(xj({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var Vo=Xo("externalEvent"),E7=I0();E7.startListening({actionCreator:Vo,effect:(e,r)=>{if(e.payload.handler!=null){var n=r.getState(),a={activeCoordinate:eoe(n),activeDataKey:Zse(n),activeIndex:f0(n),activeLabel:TR(n),activeTooltipIndex:f0(n),isTooltipActive:toe(n)};e.payload.handler(a,e.payload.reactEvent)}}});var Ohe=ot([Am],e=>e.tooltipItemPayloads),The=ot([Ohe,W0,(e,r,n)=>r,(e,r,n)=>n],(e,r,n,a)=>{var s=e.find(c=>c.settings.dataKey===a);if(s!=null){var{positions:o}=s;if(o!=null){var l=r(o,n);return l}}}),A7=Xo("touchMove"),D7=I0();D7.startListening({actionCreator:A7,effect:(e,r)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var a=r.getState(),s=V3(a,a.tooltip.settings.shared);if(s==="axis"){var o=s_(a,o_({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&r.dispatch(jR({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(s==="item"){var l,c=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(dee),f=(l=u.getAttribute(hee))!==null&&l!==void 0?l:void 0,p=The(r.getState(),d,f);r.dispatch(gse({activeDataKey:f,activeIndex:d,activeCoordinate:p}))}}}});var Mhe=z8({brush:zue,cartesianAxis:yue,chartData:tle,errorBars:Eue,graphicalItems:Qce,layout:YQ,legend:Gee,options:Xoe,polarAxis:Nce,polarOptions:Lhe,referenceElements:Vue,rootProps:Ahe,tooltip:vse,zIndex:Roe}),Ihe=function(r){return bQ({reducer:Mhe,preloadedState:r,middleware:n=>n({serializableCheck:!1}).concat([N7.middleware,_7.middleware,l_.middleware,E7.middleware,D7.middleware]),enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(X8({type:"raf"}))},devTools:Nm.devToolsEnabled})};function Rhe(e){var{preloadedState:r,children:n,reduxStoreName:a}=e,s=ko(),o=N.useRef(null);if(s)return n;o.current==null&&(o.current=Ihe(r));var l=GN;return N.createElement(Phe,{context:l,store:o.current},n)}function zhe(e){var{layout:r,margin:n}=e,a=vi(),s=ko();return N.useEffect(()=>{s||(a(WQ(r)),a(VQ(n)))},[a,s,r,n]),null}function Fhe(e){var r=vi();return N.useEffect(()=>{r(Dhe(e))},[r,e]),null}function _E(e){var{zIndex:r,isPanorama:n}=e,a=n?"recharts-zindex-panorama-":"recharts-zindex-",s=s7("".concat(a).concat(r)),o=vi();return N.useLayoutEffect(()=>(o(Moe({zIndex:r,elementId:s,isPanorama:n})),()=>{o(Ioe({zIndex:r,isPanorama:n}))}),[o,r,s,n]),N.createElement("g",{id:s})}function SE(e){var{children:r,isPanorama:n}=e,a=wr(Soe);if(!a||a.length===0)return r;var s=a.filter(l=>l<0),o=a.filter(l=>l>0);return N.createElement(N.Fragment,null,s.map(l=>N.createElement(_E,{key:l,zIndex:l,isPanorama:n})),r,o.map(l=>N.createElement(_E,{key:l,zIndex:l,isPanorama:n})))}var $he=["children"];function Bhe(e,r){if(e==null)return{};var n,a,s=Uhe(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Uhe(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function Zv(){return Zv=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Zv.apply(null,arguments)}var qhe={width:"100%",height:"100%",display:"block"},Hhe=N.forwardRef((e,r)=>{var n=Uee(),a=qee(),s=vM();if(!bd(n)||!bd(a))return null;var{children:o,otherAttributes:l,title:c,desc:u}=e,d,f;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=s?0:void 0,typeof l.role=="string"?f=l.role:f=s?"application":void 0),N.createElement(t8,Zv({},l,{title:c,desc:u,role:f,tabIndex:d,width:n,height:a,style:qhe,ref:r}),o)}),Vhe=e=>{var{children:r}=e,n=wr(Xy);if(!n)return null;var{width:a,height:s,y:o,x:l}=n;return N.createElement(t8,{width:a,height:s,x:l,y:o},r)},kE=N.forwardRef((e,r)=>{var{children:n}=e,a=Bhe(e,$he),s=ko();return s?N.createElement(Vhe,null,N.createElement(SE,{isPanorama:!0},n)):N.createElement(Hhe,Zv({ref:r},a),N.createElement(SE,{isPanorama:!1},n))});function Whe(){var e=vi(),[r,n]=N.useState(null),a=wr(uee);return N.useEffect(()=>{if(r!=null){var s=r.getBoundingClientRect(),o=s.width/r.offsetWidth;pi(o)&&o!==a&&e(GQ(o))}},[r,e,a]),n}function CE(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Khe(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?CE(Object(n),!0).forEach(function(a){Ghe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ghe(e,r,n){return(r=Yhe(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Yhe(e){var r=Xhe(e,"string");return typeof r=="symbol"?r:r+""}function Xhe(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ih.apply(null,arguments)}var Jhe=()=>(ule(),null);function Qv(e){if(typeof e=="number")return e;if(typeof e=="string"){var r=parseFloat(e);if(!Number.isNaN(r))return r}return 0}var Zhe=N.forwardRef((e,r)=>{var n,a,s=N.useRef(null),[o,l]=N.useState({containerWidth:Qv((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Qv((a=e.style)===null||a===void 0?void 0:a.height)}),c=N.useCallback((d,f)=>{l(p=>{var x=Math.round(d),g=Math.round(f);return p.containerWidth===x&&p.containerHeight===g?p:{containerWidth:x,containerHeight:g}})},[]),u=N.useCallback(d=>{if(typeof r=="function"&&r(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:p}=d.getBoundingClientRect();c(f,p);var x=y=>{var{width:w,height:v}=y[0].contentRect;c(w,v)},g=new ResizeObserver(x);g.observe(d),s.current=g}},[r,c]);return N.useEffect(()=>()=>{var d=s.current;d!=null&&d.disconnect()},[c]),N.createElement(N.Fragment,null,N.createElement(Qy,{width:o.containerWidth,height:o.containerHeight}),N.createElement("div",Ih({ref:u},e)))}),Qhe=N.forwardRef((e,r)=>{var{width:n,height:a}=e,[s,o]=N.useState({containerWidth:Qv(n),containerHeight:Qv(a)}),l=N.useCallback((u,d)=>{o(f=>{var p=Math.round(u),x=Math.round(d);return f.containerWidth===p&&f.containerHeight===x?f:{containerWidth:p,containerHeight:x}})},[]),c=N.useCallback(u=>{if(typeof r=="function"&&r(u),u!=null){var{width:d,height:f}=u.getBoundingClientRect();l(d,f)}},[r,l]);return N.createElement(N.Fragment,null,N.createElement(Qy,{width:s.containerWidth,height:s.containerHeight}),N.createElement("div",Ih({ref:c},e)))}),efe=N.forwardRef((e,r)=>{var{width:n,height:a}=e;return N.createElement(N.Fragment,null,N.createElement(Qy,{width:n,height:a}),N.createElement("div",Ih({ref:r},e)))}),tfe=N.forwardRef((e,r)=>{var{width:n,height:a}=e;return fu(n)||fu(a)?N.createElement(Qhe,Ih({},e,{ref:r})):N.createElement(efe,Ih({},e,{ref:r}))});function rfe(e){return e===!0?Zhe:tfe}var nfe=N.forwardRef((e,r)=>{var{children:n,className:a,height:s,onClick:o,onContextMenu:l,onDoubleClick:c,onMouseDown:u,onMouseEnter:d,onMouseLeave:f,onMouseMove:p,onMouseUp:x,onTouchEnd:g,onTouchMove:y,onTouchStart:w,style:v,width:S,responsive:k,dispatchTouchEvents:j=!0}=e,C=N.useRef(null),z=vi(),[$,F]=N.useState(null),[V,B]=N.useState(null),K=Whe(),T=e3(),M=(T==null?void 0:T.width)>0?T.width:S,I=(T==null?void 0:T.height)>0?T.height:s,q=N.useCallback(Q=>{K(Q),typeof r=="function"&&r(Q),F(Q),B(Q),Q!=null&&(C.current=Q)},[K,r,F,B]),H=N.useCallback(Q=>{z(j7(Q)),z(Vo({handler:o,reactEvent:Q}))},[z,o]),te=N.useCallback(Q=>{z(kj(Q)),z(Vo({handler:d,reactEvent:Q}))},[z,d]),O=N.useCallback(Q=>{z(wR()),z(Vo({handler:f,reactEvent:Q}))},[z,f]),re=N.useCallback(Q=>{z(kj(Q)),z(Vo({handler:p,reactEvent:Q}))},[z,p]),Y=N.useCallback(()=>{z(P7())},[z]),P=N.useCallback(Q=>{z(C7(Q.key))},[z]),L=N.useCallback(Q=>{z(Vo({handler:l,reactEvent:Q}))},[z,l]),R=N.useCallback(Q=>{z(Vo({handler:c,reactEvent:Q}))},[z,c]),G=N.useCallback(Q=>{z(Vo({handler:u,reactEvent:Q}))},[z,u]),X=N.useCallback(Q=>{z(Vo({handler:x,reactEvent:Q}))},[z,x]),D=N.useCallback(Q=>{z(Vo({handler:w,reactEvent:Q}))},[z,w]),Z=N.useCallback(Q=>{j&&z(A7(Q)),z(Vo({handler:y,reactEvent:Q}))},[z,j,y]),ae=N.useCallback(Q=>{z(Vo({handler:g,reactEvent:Q}))},[z,g]),le=rfe(k);return N.createElement(UR.Provider,{value:$},N.createElement(aJ.Provider,{value:V},N.createElement(le,{width:M??(v==null?void 0:v.width),height:I??(v==null?void 0:v.height),className:Cn("recharts-wrapper",a),style:Khe({position:"relative",cursor:"default",width:M,height:I},v),onClick:H,onContextMenu:L,onDoubleClick:R,onFocus:Y,onKeyDown:P,onMouseDown:G,onMouseEnter:te,onMouseLeave:O,onMouseMove:re,onMouseUp:X,onTouchEnd:ae,onTouchMove:Z,onTouchStart:D,ref:q},N.createElement(Jhe,null),n)))}),afe=["width","height","responsive","children","className","style","compact","title","desc"];function ife(e,r){if(e==null)return{};var n,a,s=sfe(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function sfe(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var ofe=N.forwardRef((e,r)=>{var{width:n,height:a,responsive:s,children:o,className:l,style:c,compact:u,title:d,desc:f}=e,p=ife(e,afe),x=du(p);return u?N.createElement(N.Fragment,null,N.createElement(Qy,{width:n,height:a}),N.createElement(kE,{otherAttributes:x,title:d,desc:f},o)):N.createElement(nfe,{className:l,style:c,width:n,height:a,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},N.createElement(kE,{otherAttributes:x,title:d,desc:f,ref:r},N.createElement(Kue,null,o)))});function Cj(){return Cj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Cj.apply(null,arguments)}var lfe={top:5,right:5,bottom:5,left:5},cfe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:lfe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},ufe=N.forwardRef(function(r,n){var a,s=So(r.categoricalChartProps,cfe),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,categoricalChartProps:d}=r,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return N.createElement(Rhe,{preloadedState:{options:f},reduxStoreName:(a=d.id)!==null&&a!==void 0?a:o},N.createElement(Rue,{chartData:d.data}),N.createElement(zhe,{layout:s.layout,margin:s.margin}),N.createElement(Fhe,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),N.createElement(ofe,Cj({},s,{ref:n})))}),dfe=["axis"],Ox=N.forwardRef((e,r)=>N.createElement(ufe,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:dfe,tooltipPayloadSearcher:Goe,categoricalChartProps:e,ref:r}));const hfe=e=>{const n=a=>{const s=Math.sin(a*12345)*1e4;return s-Math.floor(s)};switch(e){case"24H":return Array.from({length:24}).map((a,s)=>{const o=s,c=o<6||o>22?20:120,u=Math.sin(s/6)*80,d=n(s)*60;return{day:s+1,sales:Math.round(c+u+d),baseline:Math.round(c*.7+u*.5)}});case"7D":return Array.from({length:7}).map((a,s)=>{const c=s>=5?2500:1800,u=Math.sin(s/2)*400,d=n(s)*300;return{day:s+1,sales:Math.round(c+u+d),baseline:Math.round(c*.75+u*.6)}});case"30D":return Array.from({length:30}).map((a,s)=>{const c=s%7>=5?3200:2200,u=Math.sin(s/5)*600,d=n(s)*400;return{day:s+1,sales:Math.round(c+u+d),baseline:Math.round(c*.7+u*.5)}});case"12M":return Array.from({length:12}).map((a,s)=>{const o=s,c=o>=4&&o<=7?65e3:45e3,u=Math.sin(s/3)*1e4,d=n(s)*8e3;return{day:s+1,sales:Math.round(c+u+d),baseline:Math.round(c*.75+u*.6)}});case"WEEKS":return Array.from({length:12}).map((a,s)=>{const o=s,c=o===0||o===11?2e4:15e3,u=Math.sin(s/2)*3e3,d=n(s)*2e3;return{day:s+1,sales:Math.round(c+u+d),baseline:Math.round(c*.7+u*.5)}});default:return Array.from({length:30}).map((a,s)=>({day:s+1,sales:Math.round(2200+Math.sin(s/5)*600),baseline:Math.round(1500+Math.cos(s/5)*400)}))}},ffe=e=>e.reduce((r,n)=>r+n.sales,0),mfe=(e,r)=>({"24H":r("admin.dashboard.chart.change.24H"),"7D":r("admin.dashboard.chart.change.7D"),"30D":r("admin.dashboard.chart.change.30D"),"12M":r("admin.dashboard.chart.change.12M"),WEEKS:r("admin.dashboard.chart.change.4W")})[e]||r("admin.dashboard.chart.change.default"),L7=({totalSales:e,change:r,data:n,allPeriodData:a,periodStats:s})=>{const{t:o}=mr(),[l,c]=N.useState("30D"),u=N.useMemo(()=>{if(a&&a[l])return a[l];if(n&&n.length>0&&l==="30D")return n;if(l==="WEEKS"&&n&&n.length>0){const g=[],w=Math.min(28,n.length),v=n.slice(-w);for(let S=0;S<4;S++){const k=S*7,j=Math.min(k+7,v.length),C=v.slice(k,j).reduce(($,F)=>$+F.sales,0),z=v.slice(k,j).reduce(($,F)=>$+F.baseline,0);g.push({day:S+1,sales:Math.round(C),baseline:Math.round(z)})}return g}return hfe(l)},[l,n,a]),d=N.useMemo(()=>s&&s[l]?s[l].sales:e!==void 0?typeof e=="number"?e:parseFloat(String(e).replace(/[^0-9.-]+/g,""))||0:ffe(u),[u,e,l,s]),f=N.useMemo(()=>{if(s&&s[l]){const g=s[l],y={"24H":"ultimele 24 ore","7D":"ultimele 7 zile","30D":"ultimele 30 zile",WEEKS:"ultimele 4 sptmni","12M":"ultimele 12 luni"};return`${g.isPositive?"":""} ${Math.abs(g.change).toFixed(1)}% fa de ${y[l]}`}return r||mfe(l,o)},[l,r,o,s]),p=(g,y)=>{const w=a||s||n&&n.length>0?"MDL":"$";return y==="12M"?`${w==="MDL"?"":w}${(g/1e3).toFixed(0)}K${w==="MDL"?" MDL":""}`:y==="WEEKS"?g>=1e3?`${w==="MDL"?"":w}${(g/1e3).toFixed(1)}K${w==="MDL"?" MDL":""}`:`${w==="MDL"?"":w}${g.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}${w==="MDL"?" MDL":""}`:y==="30D"||y==="7D"?g>=1e3?`${w==="MDL"?"":w}${(g/1e3).toFixed(1)}K${w==="MDL"?" MDL":""}`:`${w==="MDL"?"":w}${g.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}${w==="MDL"?" MDL":""}`:`${w==="MDL"?"":w}${g.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}${w==="MDL"?" MDL":""}`},x=g=>({"24H":o("admin.dashboard.chart.periods.24H"),"7D":o("admin.dashboard.chart.periods.7D"),"30D":o("admin.dashboard.chart.periods.30D"),WEEKS:o("admin.dashboard.chart.periods.4W"),"12M":o("admin.dashboard.chart.periods.12M")})[g];return i.jsxs("div",{children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold tracking-wider text-gray-400 uppercase mb-1",children:o("admin.dashboard.chart.sales")}),i.jsx("h3",{className:"text-3xl md:text-4xl font-bold text-white",children:p(d,l)}),i.jsx("p",{className:"mt-2 text-sm text-emerald-400 font-semibold",children:f})]}),i.jsx("div",{className:"flex items-center gap-2",children:["12M","WEEKS","30D","7D","24H"].map(g=>i.jsx("button",{onClick:()=>c(g),className:`px-3 py-1.5 rounded-lg text-xs font-semibold transition-all ${g===l?"bg-red-500/20 text-red-300 border border-red-500/50":"bg-white/5 text-gray-300 border border-white/10 hover:bg-white/10 hover:text-white"}`,children:x(g)},g))})]}),i.jsx("div",{style:{width:"100%",height:320},children:i.jsx(Ax,{children:i.jsxs(Ox,{data:u,children:[i.jsx(b7,{dataKey:"day",tick:{fontSize:12,fill:"#D1D5DB"},stroke:"#374151"}),i.jsx(w7,{tick:{fontSize:12,fill:"#D1D5DB"},stroke:"#374151"}),i.jsx(vle,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.3)"}}),i.jsx(Xf,{type:"monotone",dataKey:"sales",stroke:"#EF4444",strokeWidth:3,dot:!1}),i.jsx(Xf,{type:"monotone",dataKey:"baseline",stroke:"#6B7280",strokeWidth:2,dot:!1,strokeDasharray:"5 5"})]})})})]})},ux=({title:e,value:r,spark:n,subtitle:a,trend:s,trendValue:o,valueSize:l="lg"})=>{const c=()=>{switch(l){case"sm":return"text-xl";case"md":return"text-2xl";case"lg":default:return"text-3xl"}};return i.jsxs(De.div,{initial:{opacity:0,y:0},animate:{opacity:1,y:0},transition:{duration:.3},className:"relative group",children:[i.jsx("div",{className:"absolute inset-0 bg-red-500/10 rounded-xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsx("div",{className:"relative bg-white/10 backdrop-blur-xl border top-2 lg:top-0 border-white/20 hover:border-red-500/50 rounded-xl p-6 transition-all duration-300 shadow-lg",children:i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-gray-300 text-xs font-semibold uppercase tracking-wider mb-2",children:e}),i.jsx("h4",{className:`font-bold ${c()} text-white mb-2 whitespace-nowrap`,children:r}),o&&i.jsxs("div",{className:"flex items-center gap-1.5",children:[s==="up"?i.jsx(TH,{className:"w-4 h-4 text-emerald-400"}):i.jsx(OH,{className:"w-4 h-4 text-red-400"}),i.jsx("span",{className:`text-sm font-semibold ${s==="up"?"text-emerald-400":"text-red-400"}`,children:o})]}),a&&i.jsx("div",{className:"mt-1 text-gray-300 text-sm",children:a})]}),n&&i.jsx("div",{className:"w-28 h-16 flex items-center justify-end opacity-80",children:n})]})})]})},pfe="modulepreload",gfe=function(e){return"/"+e},PE={},Ns=function(r,n,a){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=gfe(u),u in PE)return;PE[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":pfe,d||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),d)return new Promise((x,g)=>{p.addEventListener("load",x),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return r().catch(o)})},c_=({isOpen:e,onClose:r,order:n,onCancel:a,onRedo:s,isProcessing:o,onOpenContractModal:l,showOrderNumber:c=!0,cars:u})=>{var P,L,R,G,X,D,Z,ae,le,Q;const{t:d}=mr(),[f,p]=N.useState(!1),[x,g]=N.useState(!1),[y,w]=N.useState(null),[v,S]=N.useState(n),k=v||n;N.useEffect(()=>{S(n),k&&!k.contract_url&&(k.rental_status==="ACTIVE"||k.status==="PROCESSED")&&j()},[n,e,k]);const j=async()=>{if(!(!n||!n.id))try{const{fetchRentalsForCalendarPageByMonth:oe}=await Ns(async()=>{const{fetchRentalsForCalendarPageByMonth:ie}=await Promise.resolve().then(()=>My);return{fetchRentalsForCalendarPageByMonth:ie}},[]),ve=await xo(),ge=(await oe(ve)).find(ie=>ie.id===n.id);ge&&S(ge)}catch(oe){console.error("Error refreshing order data:",oe)}},C=()=>{l?l():g(!0)},[z,$]=N.useState([]),[F,V]=N.useState(void 0);if(N.useEffect(()=>{(async()=>{if(e){if(u&&u.length>0){$(u);return}try{const ve=await xo();if(ve.length===0){$([]);return}const ue=await Promise.all(ve.map(async ge=>{let ie=ge.name;(!ie||ie.trim()==="")&&(ie=`${ge.make} ${ge.model}`);const{mainImage:se,photoGallery:_e}=await ia(ie);return{...ge,image_url:se||ge.image_url,photo_gallery:_e.length>0?_e:ge.photo_gallery}}));$(ue)}catch(ve){console.error("Error loading cars:",ve),$([])}}})()},[e,u]),N.useEffect(()=>{e&&n&&(async()=>{if(!k){w(null);return}const ve=k.request_id;if(!ve){try{const{supabase:ue}=await Ns(async()=>{const{supabase:se}=await Promise.resolve().then(()=>Nh);return{supabase:se}},void 0),{data:ge,error:ie}=await ue.from("BorrowRequest").select("id, options, user_id, car_id, start_date, end_date").eq("user_id",n.user_id).eq("car_id",n.car_id||n.carId).eq("start_date",B).eq("end_date",T).limit(1);if(!ie&&ge&&ge.length>0){const se=ge[0];if(se.options){let _e={};if(typeof se.options=="string")try{_e=JSON.parse(se.options)}catch{_e={}}else _e=se.options;if(_e&&typeof _e=="object"&&Object.keys(_e).length>0){w(_e);return}}}}catch(ue){console.error("OrderDetailsModal: Error searching for matching request:",ue)}w(null);return}try{const{supabase:ue}=await Ns(async()=>{const{supabase:se}=await Promise.resolve().then(()=>Nh);return{supabase:se}},void 0),{data:ge,error:ie}=await ue.from("BorrowRequest").select("options, id, status").eq("id",ve).single();if(ie){console.error("OrderDetailsModal: Error fetching request:",ie),w(null);return}if(ge&&ge.options){let se={};if(typeof ge.options=="string")try{se=JSON.parse(ge.options)}catch(_e){console.error("OrderDetailsModal: Error parsing options string:",_e),se={}}else se=ge.options;se&&typeof se=="object"&&Object.keys(se).length>0?w(se):w(null)}else w(null)}catch(ue){console.error("OrderDetailsModal: Error fetching request options:",ue),w(null)}})()},[e,n]),N.useEffect(()=>{if(!n){V(void 0);return}(async()=>{let ve=n.car;if(ve){n.price_per_day&&!ve.price_per_day&&(ve={...ve,price_per_day:n.price_per_day}),V(ve);return}const ue=n.car_id||n.carId;let ge=z.find(ie=>{if(!ue)return!1;const se=typeof ie.id=="number"?ie.id:parseInt(ie.id.toString(),10),_e=typeof ue=="number"?ue:parseInt(ue.toString(),10);if(!isNaN(se)&&!isNaN(_e)&&se===_e)return!0;const Te=ie.id.toString(),Xe=ue.toString();return Te===Xe});if(!ge&&ue)try{const{supabase:ie}=await Ns(async()=>{const{supabase:Xe}=await Promise.resolve().then(()=>Nh);return{supabase:Xe}},void 0),se=typeof ue=="number"?ue:parseInt(ue.toString(),10),{data:_e,error:Te}=await ie.from("Cars").select("*").eq("id",se).single();if(!Te&&_e&&(ge={id:_e.id,make:_e.make,model:_e.model,name:_e.name||void 0,year:_e.year||new Date().getFullYear(),price_per_day:_e.price_per_day,price_2_4_days:_e.price_2_4_days,price_5_15_days:_e.price_5_15_days,price_16_30_days:_e.price_16_30_days,price_over_30_days:_e.price_over_30_days,discount_percentage:_e.discount_percentage||void 0,category:_e.category||void 0,image_url:_e.image_url||void 0,photo_gallery:_e.photo_gallery||void 0,seats:_e.seats||void 0,transmission:_e.transmission||void 0,body:_e.body||void 0,fuel_type:_e.fuel_type||void 0,features:_e.features||void 0,rating:_e.rating||void 0,reviews:_e.reviews||void 0,status:_e.status||void 0,drivetrain:_e.drivetrain||void 0},ge)){const Xe=ge.name||`${ge.make} ${ge.model}`,{mainImage:Me,photoGallery:Re}=await ia(Xe);ge.image_url=Me||ge.image_url,ge.photo_gallery=Re.length>0?Re:ge.photo_gallery}}catch(ie){console.error(`OrderDetailsModal: Error fetching car ${ue} from database:`,ie)}V(ge)})()},[n,z,n==null?void 0:n.car_id]),!n)return null;const B=n.start_date||n.pickupDate,K=n.start_time||n.pickupTime,T=n.end_date||n.returnDate,M=n.end_time||n.returnTime,{days:I,hours:q,totalHours:H}=sm(B,K,T,M),te=I,O=I+q/24;if(F)te>=2&&te<=4?F.price_2_4_days:te>=5&&te<=15?F.price_5_15_days:te>=16&&te<=30?F.price_16_30_days:te>30&&F.price_over_30_days,F.discount_percentage||F.discount_percentage;else{const oe=n.car;oe&&(te>=2&&te<=4?oe.price_2_4_days:te>=5&&te<=15?oe.price_5_15_days:te>=16&&te<=30?oe.price_16_30_days:te>30&&oe.price_over_30_days,oe.discount_percentage)}const re=oe=>{try{return new Date(oe).toLocaleDateString("ro-RO",{day:"numeric",month:"short",year:"numeric"})}catch{return oe}},Y=oe=>{try{if(oe&&oe.includes(":")){const ve=oe.split(":");if(ve.length>=2)return`${ve[0]}:${ve[1]}`}return oe}catch{return oe}};return e?ei.createPortal(i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",style:{zIndex:1e4},onClick:r,children:i.jsxs("div",{onClick:oe=>oe.stopPropagation(),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto mx-2 sm:mx-4",children:[i.jsxs("div",{className:"sticky top-0 border-b border-white/20 px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between z-10",style:{backgroundColor:"#1C1C1C"},children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:d("admin.orders.orderDetails")}),c&&i.jsxs("p",{className:"text-gray-400 text-xs sm:text-sm mt-1",children:[d("admin.orders.orderNumber"),n.id?n.id.toString().padStart(4,"0"):"N/A"]})]}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-lg transition-colors flex-shrink-0",children:i.jsx(kn,{className:"w-5 h-5 text-white"})})]}),i.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0 mb-4",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-bold text-white flex items-center gap-2",children:[i.jsx($n,{className:"w-4 h-4 sm:w-5 sm:h-5"}),i.jsx("span",{className:"text-sm sm:text-base",children:d("admin.orders.rentalPeriod")})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[((F==null?void 0:F.image_url)||(F==null?void 0:F.image)||((P=n.car)==null?void 0:P.image_url))&&i.jsx("img",{src:(F==null?void 0:F.image_url)||(F==null?void 0:F.image)||((L=n.car)==null?void 0:L.image_url),alt:(F?`${F.make} ${F.model}`.trim():"")||((R=n.car)==null?void 0:R.make)+" "+((G=n.car)==null?void 0:G.model)||d("admin.orders.unknownCar"),className:"w-10 h-7 sm:w-12 sm:h-8 object-cover rounded-md border border-white/10"}),i.jsx("span",{className:"text-white font-semibold text-xs sm:text-sm",children:(F?`${F.make} ${F.model}`.trim():"")||(((X=n.car)==null?void 0:X.make)+" "+((D=n.car)==null?void 0:D.model)&&((Z=n.car)==null?void 0:Z.make)+" "+((ae=n.car)==null?void 0:ae.model)!="Unknown Car"?((le=n.car)==null?void 0:le.make)+" "+((Q=n.car)==null?void 0:Q.model):"")||d("admin.orders.unknownCar")})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[i.jsxs("div",{className:"bg-white/5 rounded-lg p-3 sm:p-4 border border-white/10",children:[i.jsx("p",{className:"text-gray-400 text-xs sm:text-sm mb-2",children:d("admin.orders.pickup")}),i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx($n,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-400 flex-shrink-0"}),i.jsx("span",{className:"text-white font-semibold text-sm sm:text-base",children:re(B)})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Aa,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-400 flex-shrink-0"}),i.jsx("span",{className:"text-gray-300 text-sm sm:text-base",children:Y(K)})]})]}),i.jsxs("div",{className:"bg-white/5 rounded-lg p-3 sm:p-4 border border-white/10",children:[i.jsx("p",{className:"text-gray-400 text-xs sm:text-sm mb-2",children:d("admin.orders.return")}),i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx($n,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-400 flex-shrink-0"}),i.jsx("span",{className:"text-white font-semibold text-sm sm:text-base",children:re(T)})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Aa,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-400 flex-shrink-0"}),i.jsx("span",{className:"text-gray-300 text-sm sm:text-base",children:Y(M)})]})]})]}),i.jsx("div",{className:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-white/10",children:i.jsxs("p",{className:"text-gray-400 text-xs sm:text-sm",children:[d("admin.orders.duration"),": ",i.jsxs("span",{className:"text-white font-semibold",children:[I," ",d("admin.orders.days"),q>0?`, ${q} ${d("admin.requestDetails.hours")||"ore"}`:""]})]})})]}),(()=>{var Ae;let oe={};if(y&&Object.keys(y).length>0)oe=y;else if(n.options&&Object.keys(n.options).length>0)if(typeof n.options=="string")try{oe=JSON.parse(n.options)}catch{oe={}}else oe=n.options;let ve=0;n.price_per_day?ve=n.price_per_day:(Ae=n.car)!=null&&Ae.price_per_day?ve=n.car.price_per_day:F!=null&&F.price_per_day&&(ve=F.price_per_day);const ue=typeof ve=="string"?parseFloat(ve):Number(ve);let ge=null;const ie=F||n.car;if(ie){const Ie={...ie,discount_percentage:ie.discount_percentage||ie.discount||void 0};ge=MN(Ie,{...n,start_date:n.start_date,end_date:n.end_date,start_time:n.start_time,end_time:n.end_time},oe)}let se=0,_e=0,Te=ue;if(!ge){const Ie=F||n.car,Ce=(Ie==null?void 0:Ie.discount_percentage)||(Ie==null?void 0:Ie.discount)||0;let He=ue;if(Ie){const Ve=wm(I,Ie),at=parseFloat(Ve);at>0&&(He=at)}Ce>0?Te=He*(1-Ce/100):Te=He,se=Te*I,q>0&&(se+=q/24*Te),oe.unlimitedKm&&(_e+=He*O*.5),oe.speedLimitIncrease&&(_e+=He*O*.2),oe.tireInsurance&&(_e+=He*O*.2),oe.personalDriver&&(_e+=800*O),oe.priorityService&&(_e+=1e3*O),oe.childSeat&&(_e+=100*O),oe.simCard&&(_e+=100*O),oe.roadsideAssistance&&(_e+=500*O)}const Xe=!!n.total_amount||!!n.amount,Me=n.total_amount||n.amount,Re=ge?ge.totalPrice:se+_e,xe=Xe&&Me>0?Me:Re,Pe=ge||{pricePerDay:Te,rentalDays:I,rentalHours:q,totalHours:H,basePrice:se,additionalCosts:_e,baseCarPrice:ue},be={unlimitedKm:"Kilometraj nelimitat",speedLimitIncrease:"Creterea limitei de vitez",personalDriver:"ofer personal",priorityService:"Priority Service",childSeat:"Scaun copil",simCard:"Cartel SIM cu internet",roadsideAssistance:"Asisten rutier"};return i.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4 flex items-center gap-2",children:[i.jsx(Za,{className:"w-4 h-4 sm:w-5 sm:h-5"}),i.jsx("span",{className:"text-sm sm:text-base",children:d("admin.requestDetails.priceDetails")})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-300 text-xs sm:text-sm",children:d("admin.requestDetails.pricePerDay")}),i.jsx("span",{className:"text-white font-semibold text-sm sm:text-base",children:Pe.pricePerDay>0?`${Math.round(Pe.pricePerDay)} MDL`:"N/A"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-300 text-xs sm:text-sm",children:d("admin.requestDetails.numberOfDays")}),i.jsxs("span",{className:"text-white font-semibold text-sm sm:text-base",children:[Pe.rentalDays," ",d("admin.requestDetails.days"),Pe.rentalHours>0?`, ${Pe.rentalHours} ${d("admin.requestDetails.hours")}`:""]})]}),i.jsx("div",{className:"pt-2 border-t border-white/10",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-white font-medium text-sm sm:text-base",children:d("admin.requestDetails.basePrice")}),i.jsx("span",{className:"text-white font-semibold text-sm sm:text-base",children:Li(Pe.basePrice)})]})}),(Pe.additionalCosts>0||Xe)&&i.jsxs("div",{className:"pt-3 border-t border-white/10",children:[i.jsx("h4",{className:"text-sm font-bold text-white mb-3",children:d("admin.requestDetails.additionalServices")}),i.jsx("div",{className:"space-y-2 text-sm",children:Object.keys(oe).length>0&&(oe.unlimitedKm||oe.speedLimitIncrease||oe.tireInsurance||oe.personalDriver||oe.priorityService||oe.childSeat||oe.simCard||oe.roadsideAssistance)?i.jsxs(i.Fragment,{children:[oe.unlimitedKm&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:be.unlimitedKm}),i.jsx("span",{className:"text-white font-medium",children:Li(Pe.baseCarPrice*(Pe.totalHours/24)*.5)})]}),oe.speedLimitIncrease&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:be.speedLimitIncrease}),i.jsx("span",{className:"text-white font-medium",children:Li(Pe.baseCarPrice*(Pe.totalHours/24)*.2)})]}),oe.tireInsurance&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:be.tireInsurance}),i.jsx("span",{className:"text-white font-medium",children:Li(Pe.baseCarPrice*(Pe.totalHours/24)*.2)})]}),oe.personalDriver&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:be.personalDriver}),i.jsx("span",{className:"text-white font-medium",children:Li(800*(Pe.totalHours/24))})]}),oe.priorityService&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:be.priorityService}),i.jsx("span",{className:"text-white font-medium",children:Li(1e3*(Pe.totalHours/24))})]}),oe.childSeat&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:be.childSeat}),i.jsx("span",{className:"text-white font-medium",children:Li(100*(Pe.totalHours/24))})]}),oe.simCard&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:be.simCard}),i.jsx("span",{className:"text-white font-medium",children:Li(100*(Pe.totalHours/24))})]}),oe.roadsideAssistance&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:be.roadsideAssistance}),i.jsx("span",{className:"text-white font-medium",children:Li(500*(Pe.totalHours/24))})]})]}):null}),i.jsx("div",{className:"pt-2 border-t border-white/10 mt-2",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-300 text-sm",children:d("admin.requestDetails.totalServices")}),i.jsx("span",{className:"text-white font-semibold text-sm",children:Li(Pe.additionalCosts)})]})})]}),i.jsx("div",{className:"pt-2 border-t border-white/10",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-white font-semibold text-base sm:text-lg",children:d("admin.requestDetails.total")}),i.jsx("span",{className:"text-emerald-400 font-bold text-lg sm:text-xl",children:Li(xe)})]})})]})]})})(),(k==null?void 0:k.contract_url)&&i.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10 mb-4",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4 flex items-center gap-2",children:[i.jsx(nu,{className:"w-4 h-4 sm:w-5 sm:h-5"}),i.jsx("span",{className:"text-sm sm:text-base",children:d("admin.orders.contract")})]}),i.jsxs("a",{href:k.contract_url,target:"_blank",rel:"noopener noreferrer",className:"w-full px-4 py-2.5 sm:py-3 bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/50 text-emerald-300 rounded-lg transition-all flex items-center justify-center gap-2 text-xs sm:text-sm font-semibold",children:[i.jsx(vN,{className:"w-4 h-4"}),i.jsx("span",{children:d("admin.orders.downloadContractPDF")})]}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 mt-2 text-center",children:"Descarc contractul de nchiriere"})]}),c&&(k==null?void 0:k.status)!=="COMPLETED"&&i.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4 flex items-center gap-2",children:[i.jsx(nu,{className:"w-4 h-4 sm:w-5 sm:h-5"}),i.jsx("span",{className:"text-sm sm:text-base",children:"Aciuni"})]}),i.jsxs("div",{className:"space-y-3",children:[(k==null?void 0:k.status)==="CONTRACT"&&i.jsxs("button",{onClick:C,className:"w-full px-4 py-2.5 sm:py-3 bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/50 text-emerald-300 rounded-lg transition-all flex items-center justify-center gap-2 text-xs sm:text-sm font-semibold disabled:opacity-50",disabled:f,children:[f?i.jsx(Qa,{className:"w-4 h-4 animate-spin"}):i.jsx(nu,{className:"w-4 h-4"}),i.jsx("span",{children:"Creeaz Contract"})]}),((k==null?void 0:k.status)==="ACTIVE"||(k==null?void 0:k.status)==="CONTRACT")&&a&&i.jsxs("button",{onClick:()=>{window.confirm("Eti sigur c vrei s anulezi aceast comand? Aceast aciune va anula i cererea corespunztoare.")&&a(k)},className:"w-full px-4 py-2.5 sm:py-3 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 rounded-lg transition-all flex items-center justify-center gap-2 text-xs sm:text-sm font-semibold",children:[i.jsx(IO,{className:"w-4 h-4"}),i.jsx("span",{children:"Anuleaz Comanda"})]})]})]})]})]})}),document.body):null},EE=()=>{const{t:e}=mr(),{showSuccess:r,showError:n}=Sd(),[a,s]=N.useState([]),[o,l]=N.useState([]),[c,u]=N.useState([]),[d,f]=N.useState(!0),[p,x]=N.useState(!1),[g,y]=N.useState(null),[w,v]=N.useState(null);N.useEffect(()=>{(async()=>{try{const V=await xo(),B=await Promise.all(V.map(async M=>{let I=M.name;(!I||I.trim()==="")&&(I=`${M.make} ${M.model}`);const{mainImage:q,photoGallery:H}=await ia(I);return{...M,image_url:q||M.image_url,photo_gallery:H.length>0?H:M.photo_gallery}}));if(s(B),B.length>0){const M=await Px(B);l(M)}const T=(await zT()).filter(M=>M.status==="APPROVED"||M.status==="PROCESSED");u(T)}catch(V){console.error("Error loading data:",V)}finally{f(!1)}})()},[]);const S=()=>{const F=a.filter(B=>{var H;const T=(((H=B.status)==null?void 0:H.trim())||"").toLowerCase(),M=o.some(te=>parseInt(te.carId)===parseInt(B.id,10)&&(te.status==="ACTIVE"||te.type==="rental")),I=c.some(te=>(typeof te.car_id=="number"?te.car_id:parseInt(te.car_id,10))===parseInt(B.id,10));return(T===""||T==="available"||T!=="ascuns"&&T!=="hidden"&&T!=="maintenance"&&T!=="deleted"&&T!=="nchiriat"&&T!=="rented"&&T!=="borrowed")&&!M&&!I}),V=a.filter(B=>{var q;const T=(((q=B.status)==null?void 0:q.trim())||"").toLowerCase(),M=o.some(H=>parseInt(H.carId)===parseInt(B.id,10)&&(H.status==="ACTIVE"||H.type==="rental")),I=c.some(H=>(typeof H.car_id=="number"?H.car_id:parseInt(H.car_id,10))===parseInt(B.id,10));return M||I||T==="nchiriat"||T==="rented"||T==="borrowed"});return{freeCars:F,rentedCars:V}},{freeCars:k,rentedCars:j}=S(),C=N.useMemo(()=>{const F=o.filter(B=>B.type==="rental"&&B.status==="COMPLETED"),V=B=>{const K=new Date,T=[];let M,I,q;switch(B){case"24H":M=new Date(K.getTime()-24*60*60*1e3),I=24,q=60*60*1e3;break;case"7D":M=new Date(K.getTime()-7*24*60*60*1e3),I=7,q=24*60*60*1e3;break;case"30D":M=new Date(K.getTime()-30*24*60*60*1e3),I=30,q=24*60*60*1e3;break;case"WEEKS":M=new Date(K.getTime()-28*24*60*60*1e3),I=4,q=7*24*60*60*1e3;break;case"12M":M=new Date(K.getTime()-365*24*60*60*1e3),I=12,q=30*24*60*60*1e3;break}for(let H=0;H<I;H++){const te=new Date(M.getTime()+H*q),O=new Date(M.getTime()+(H+1)*q),Y=F.filter(L=>{if(!L.createdAt)return!1;const R=new Date(L.createdAt);return R>=te&&R<O}).reduce((L,R)=>{const G=R.amount||parseFloat(R.total_amount)||0;return L+G},0),P=F.length>0?F.reduce((L,R)=>L+(R.amount||parseFloat(R.total_amount)||0),0)/F.length*.7:0;T.push({day:H+1,sales:Math.round(Y),baseline:Math.round(P)})}return T};return{"24H":V("24H"),"7D":V("7D"),"30D":V("30D"),WEEKS:V("WEEKS"),"12M":V("12M")}},[o]),z=N.useMemo(()=>{const F=o.filter(M=>M.type==="rental"&&M.status==="COMPLETED"),V=F.reduce((M,I)=>{const q=I.amount||parseFloat(I.total_amount)||0;return M+q},0),B=F.length,K=F.length>0?V/F.length:0,T=(M,I=2)=>M.toFixed(I).replace(/\B(?=(\d{3})+(?!\d))/g,",");return{totalSales:V,totalOrders:B,avgOrderPrice:K,formattedTotalSales:T(V),formattedAvgOrderPrice:T(K)}},[o]),$=N.useMemo(()=>{const F=o.filter(B=>B.type==="rental"&&B.status==="COMPLETED"),V=B=>{const K=new Date;let T,M,I;switch(B){case"24H":T=new Date(K.getTime()-24*60*60*1e3),M=new Date(K.getTime()-48*60*60*1e3),I=new Date(K.getTime()-24*60*60*1e3);break;case"7D":T=new Date(K.getTime()-7*24*60*60*1e3),M=new Date(K.getTime()-14*24*60*60*1e3),I=new Date(K.getTime()-7*24*60*60*1e3);break;case"30D":T=new Date(K.getTime()-30*24*60*60*1e3),M=new Date(K.getTime()-60*24*60*60*1e3),I=new Date(K.getTime()-30*24*60*60*1e3);break;case"WEEKS":T=new Date(K.getTime()-28*24*60*60*1e3),M=new Date(K.getTime()-56*24*60*60*1e3),I=new Date(K.getTime()-28*24*60*60*1e3);break;case"12M":T=new Date(K.getTime()-365*24*60*60*1e3),M=new Date(K.getTime()-730*24*60*60*1e3),I=new Date(K.getTime()-365*24*60*60*1e3);break}const q=F.filter(Y=>{if(!Y.createdAt)return!1;const P=new Date(Y.createdAt);return P>=T&&P<=K}),H=F.filter(Y=>{if(!Y.createdAt)return!1;const P=new Date(Y.createdAt);return P>=M&&P<I}),te=q.reduce((Y,P)=>{const L=P.amount||parseFloat(P.total_amount)||0;return Y+L},0),O=H.reduce((Y,P)=>{const L=P.amount||parseFloat(P.total_amount)||0;return Y+L},0),re=O>0?(te-O)/O*100:te>0?100:0;return{sales:te,change:re,isPositive:re>=0}};return{"24H":V("24H"),"7D":V("7D"),"30D":V("30D"),WEEKS:V("WEEKS"),"12M":V("12M")}},[o]);return d?i.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-center h-64",children:i.jsx(Qa,{className:"w-8 h-8 animate-spin text-white"})}):i.jsxs(De.div,{initial:{opacity:1},animate:{opacity:1},transition:{duration:.4},className:"space-y-8",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(ux,{title:e("admin.dashboard.totalSales"),value:`${z.formattedTotalSales} MDL`,trend:"up",trendValue:"2.4%",valueSize:"md",spark:i.jsx(Ax,{width:"65%",height:36,children:i.jsx(Ox,{data:k1,children:i.jsx(Xf,{dataKey:"y",stroke:"#EF4444",strokeWidth:2,dot:!1})})})}),i.jsx(ux,{title:e("admin.dashboard.totalOrders"),value:z.totalOrders,trend:"up",trendValue:"8.6%",valueSize:"md",spark:i.jsx(Ax,{width:"65%",height:36,children:i.jsx(Ox,{data:k1,children:i.jsx(Xf,{dataKey:"y",stroke:"#10B981",strokeWidth:2,dot:!1})})})}),i.jsx("div",{className:"hidden md:block",children:i.jsx(ux,{title:e("admin.dashboard.avgOrderValue"),value:`${z.formattedAvgOrderPrice} MDL`,trend:"up",trendValue:"6.0%",valueSize:"md",spark:i.jsx(Ax,{width:"65%",height:36,children:i.jsx(Ox,{data:k1,children:i.jsx(Xf,{dataKey:"y",stroke:"#9CA3AF",strokeWidth:2,dot:!1})})})})}),i.jsx(ux,{title:e("admin.dashboard.fleetStatus"),value:`${k.length}/${a.length}`,valueSize:"md",subtitle:i.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[i.jsxs("span",{className:"text-emerald-400",children:[k.length," ",e("admin.dashboard.available")]}),i.jsxs("span",{className:"text-red-400",children:[j.length," ",e("admin.dashboard.rented")]})]})})]}),i.jsxs(De.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.15},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-white/10",children:i.jsx("h3",{className:"text-lg font-semibold text-white",children:e("admin.dashboard.fleetStatus")})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold text-white mb-3",children:e("admin.dashboard.available")}),i.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:k.length>0?k.map(F=>i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-lg border border-white/10 hover:bg-white/10 transition-colors",children:[i.jsx("img",{src:F.image||F.image_url||"",alt:F.name||`${F.make} ${F.model}`,className:"w-12 h-12 object-cover rounded-md"}),i.jsx("p",{className:"text-sm font-medium text-white truncate flex-1",children:F.name||`${F.make} ${F.model}`}),i.jsx("button",{onClick:()=>{window.open(`/cars/${F.id}`,"_blank")},className:"px-3 py-1.5 bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/50 text-emerald-300 text-xs font-semibold rounded-lg transition-all flex-shrink-0",children:e("admin.dashboard.book")})]},F.id)):i.jsx("div",{className:"text-center py-6 text-gray-400 text-sm",children:""})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold text-white mb-3",children:e("admin.dashboard.rented")}),i.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:j.length>0?j.map(F=>{const V=o.find(K=>parseInt(K.carId)===parseInt(F.id,10)&&(K.status==="ACTIVE"||K.type==="rental")),B=c.find(K=>(typeof K.car_id=="number"?K.car_id:parseInt(K.car_id,10))===parseInt(F.id,10));return i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-lg border border-white/10 hover:bg-white/10 transition-colors",children:[i.jsx("img",{src:F.image||F.image_url||"",alt:F.name||`${F.make} ${F.model}`,className:"w-12 h-12 object-cover rounded-md"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-white truncate",children:F.name||`${F.make} ${F.model}`}),i.jsx("p",{className:"text-xs text-gray-400 truncate",children:(()=>{let K=null,T=null;if(V!=null&&V.returnDate)try{if(K=new Date(V.returnDate),T=V.returnTime,!T&&V.returnDate.includes("T")){const M=V.returnDate.match(/T(\d{2}:\d{2})/);M&&(T=M[1])}T=T||"17:00"}catch{K=null}if(!K&&B)try{B.end_date&&(K=new Date(B.end_date),T=B.end_time||"17:00")}catch{}return K?`Pn pe ${K.toLocaleDateString(e("config.date"),{day:"numeric",month:"short",year:"numeric"})}`:e("admin.dashboard.rented")})()})]})]},F.id)}):i.jsx("div",{className:"text-center py-6 text-gray-400 text-sm",children:""})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx(De.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg",children:i.jsx(L7,{allPeriodData:C,periodStats:$})}),i.jsx(De.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg",children:i.jsxs("div",{children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("p",{className:"text-xs font-semibold tracking-wider text-gray-400 uppercase mb-1",children:e("admin.dashboard.topPerformers")}),i.jsx("h3",{className:"text-3xl md:text-4xl font-bold text-white",children:e("admin.dashboard.mostRented")})]}),i.jsx("div",{className:"space-y-4",children:(()=>{const F=a.map(B=>{const K=o.filter(M=>parseInt(M.carId)===parseInt(B.id,10)&&M.type==="rental"&&M.status==="COMPLETED"),T=K.reduce((M,I)=>{const q=I.amount||parseFloat(I.total_amount||"0");return M+(typeof q=="number"?q:0)},0);return{...B,rentals:K.length,revenue:T}}).filter(B=>B.rentals>0).sort((B,K)=>K.revenue-B.revenue).slice(0,5);if(F.length===0)return i.jsx("div",{className:"text-center py-8 text-gray-400",children:i.jsx("p",{className:"text-sm",children:"Nu exist date disponibile"})});const V=Math.max(...F.map(B=>B.revenue),1);return F.map((B,K)=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i.jsx("span",{className:"text-sm font-bold text-gray-400 w-6",children:K+1}),i.jsx("img",{src:B.image||B.image_url||"",alt:B.name||`${B.make} ${B.model}`,className:"w-10 h-10 object-cover rounded-md"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-semibold text-white truncate",children:B.name||`${B.make} ${B.model}`}),i.jsxs("p",{className:"text-xs text-gray-400",children:[B.rentals," ",B.rentals>1?e("admin.dashboard.rentals"):e("admin.dashboard.rental")]})]})]}),i.jsxs("span",{className:"text-sm font-bold text-white",children:[B.revenue.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})," MDL"]})]}),i.jsx("div",{className:"relative h-2 bg-white/5 rounded-full overflow-hidden",children:i.jsx("div",{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-gray-400 to-gray-500 rounded-full",style:{width:`${B.revenue/V*100}%`}})})]},B.id))})()})]})})]}),i.jsx(c_,{isOpen:p,onClose:()=>{x(!1),y(null)},order:g,onCancel:async F=>{if(window.confirm(e("admin.orders.confirmCancelOrder"))){v(F.id.toString());try{const V=await Oy(F.id.toString());if(V.success){r(e("admin.orders.orderCancelled"));const B=await Px(a);l(B),x(!1),y(null)}else n(`${e("admin.orders.orderCancelFailed")} ${V.error}`)}catch(V){console.error("Error cancelling order:",V),n(e("admin.orders.orderCancelErrorOccurred"))}finally{v(null)}}},onRedo:async F=>{if(window.confirm(e("admin.orders.confirmRestoreOrder"))){v(F.id.toString());try{const V=await Ty(F.id.toString());if(V.success){r(e("admin.orders.orderRestored"));const B=await Px(a);l(B),x(!1),y(null)}else n(`${e("admin.orders.orderRestoreFailed")} ${V.error}`)}catch(V){console.error("Error restoring order:",V),n(e("admin.orders.orderRestoreErrorOccurred"))}finally{v(null)}}},isProcessing:w===(g==null?void 0:g.id.toString())})]})},Rh=[{id:3,name:"Mercedes CLS",category:"luxury",image:"",photoGallery:[],pricePerDay:380,year:2022,seats:4,body:"SUV",transmission:"Automatic",fuelType:"diesel",drivetrain:"AWD",features:["Motor 3.0 Diesel","Interior Luxos Premium","Confort Exclusiv"],rating:4.9,reviews:187},{id:6,name:"Mercedes CLS",category:"luxury",image:"",photoGallery:[],pricePerDay:400,year:2023,seats:5,body:"Sedan",transmission:"Automatic",fuelType:"diesel",drivetrain:"AWD",features:["Motor Diesel 3.0L","Interior Luxos Premium","Tehnologie Modern","Design Sportiv i Elegant","4MATIC AWD"],rating:4.9,reviews:162,availability:"Liber de 12 septembrie, 09:00"}];function gi(e){const r=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&r==="[object Date]"?new e.constructor(+e):typeof e=="number"||r==="[object Number]"||typeof e=="string"||r==="[object String]"?new Date(e):new Date(NaN)}function vc(e,r){return e instanceof Date?new e.constructor(r):new Date(r)}function xfe(e,r){const n=gi(e);return isNaN(r)?vc(e,NaN):(n.setDate(n.getDate()+r),n)}function u_(e,r){const n=gi(e);if(isNaN(r))return vc(e,NaN);if(!r)return n;const a=n.getDate(),s=vc(e,n.getTime());s.setMonth(n.getMonth()+r+1,0);const o=s.getDate();return a>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}const O7=6048e5,vfe=864e5;let yfe={};function xb(){return yfe}function fm(e,r){var c,u,d,f;const n=xb(),a=(r==null?void 0:r.weekStartsOn)??((u=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=gi(e),o=s.getDay(),l=(o<a?7:0)+o-a;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function ey(e){return fm(e,{weekStartsOn:1})}function T7(e){const r=gi(e),n=r.getFullYear(),a=vc(e,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=ey(a),o=vc(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=ey(o);return r.getTime()>=s.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function ty(e){const r=gi(e);return r.setHours(0,0,0,0),r}function AE(e){const r=gi(e),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+e-+n}function bfe(e,r){const n=ty(e),a=ty(r),s=+n-AE(n),o=+a-AE(a);return Math.round((s-o)/vfe)}function wfe(e){const r=T7(e),n=vc(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),ey(n)}function jfe(e,r){const n=ty(e),a=ty(r);return+n==+a}function Nfe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function _fe(e){if(!Nfe(e)&&typeof e!="number")return!1;const r=gi(e);return!isNaN(Number(r))}function Sfe(e){const r=gi(e),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function kfe(e){const r=gi(e);return r.setDate(1),r.setHours(0,0,0,0),r}function Cfe(e){const r=gi(e),n=vc(e,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Pfe(e,r){const n=r==null?void 0:r.weekStartsOn,a=gi(e),s=a.getDay(),o=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}const Efe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Afe=(e,r,n)=>{let a;const s=Efe[e];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function N2(e){return(r={})=>{const n=r.width?String(r.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Dfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Lfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ofe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Tfe={date:N2({formats:Dfe,defaultWidth:"full"}),time:N2({formats:Lfe,defaultWidth:"full"}),dateTime:N2({formats:Ofe,defaultWidth:"full"})},Mfe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ife=(e,r,n,a)=>Mfe[e];function yp(e){return(r,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):l;s=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}const o=e.argumentCallback?e.argumentCallback(r):r;return s[o]}}const Rfe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zfe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ffe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$fe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Bfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ufe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qfe=(e,r)=>{const n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Hfe={ordinalNumber:qfe,era:yp({values:Rfe,defaultWidth:"wide"}),quarter:yp({values:zfe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:yp({values:Ffe,defaultWidth:"wide"}),day:yp({values:$fe,defaultWidth:"wide"}),dayPeriod:yp({values:Bfe,defaultWidth:"wide",formattingValues:Ufe,defaultFormattingWidth:"wide"})};function bp(e){return(r,n={})=>{const a=n.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],o=r.match(s);if(!o)return null;const l=o[0],c=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(c)?Wfe(c,p=>p.test(l)):Vfe(c,p=>p.test(l));let d;d=e.valueCallback?e.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const f=r.slice(l.length);return{value:d,rest:f}}}function Vfe(e,r){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r(e[n]))return n}function Wfe(e,r){for(let n=0;n<e.length;n++)if(r(e[n]))return n}function Kfe(e){return(r,n={})=>{const a=r.match(e.matchPattern);if(!a)return null;const s=a[0],o=r.match(e.parsePattern);if(!o)return null;let l=e.valueCallback?e.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;const c=r.slice(s.length);return{value:l,rest:c}}}const Gfe=/^(\d+)(th|st|nd|rd)?/i,Yfe=/\d+/i,Xfe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Jfe={any:[/^b/i,/^(a|c)/i]},Zfe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Qfe={any:[/1/i,/2/i,/3/i,/4/i]},eme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tme={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rme={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nme={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ame={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ime={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sme={ordinalNumber:Kfe({matchPattern:Gfe,parsePattern:Yfe,valueCallback:e=>parseInt(e,10)}),era:bp({matchPatterns:Xfe,defaultMatchWidth:"wide",parsePatterns:Jfe,defaultParseWidth:"any"}),quarter:bp({matchPatterns:Zfe,defaultMatchWidth:"wide",parsePatterns:Qfe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:bp({matchPatterns:eme,defaultMatchWidth:"wide",parsePatterns:tme,defaultParseWidth:"any"}),day:bp({matchPatterns:rme,defaultMatchWidth:"wide",parsePatterns:nme,defaultParseWidth:"any"}),dayPeriod:bp({matchPatterns:ame,defaultMatchWidth:"any",parsePatterns:ime,defaultParseWidth:"any"})},ome={code:"en-US",formatDistance:Afe,formatLong:Tfe,formatRelative:Ife,localize:Hfe,match:sme,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lme(e){const r=gi(e);return bfe(r,Cfe(r))+1}function cme(e){const r=gi(e),n=+ey(r)-+wfe(r);return Math.round(n/O7)+1}function M7(e,r){var f,p,x,g;const n=gi(e),a=n.getFullYear(),s=xb(),o=(r==null?void 0:r.firstWeekContainsDate)??((p=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(x=s.locale)==null?void 0:x.options)==null?void 0:g.firstWeekContainsDate)??1,l=vc(e,0);l.setFullYear(a+1,0,o),l.setHours(0,0,0,0);const c=fm(l,r),u=vc(e,0);u.setFullYear(a,0,o),u.setHours(0,0,0,0);const d=fm(u,r);return n.getTime()>=c.getTime()?a+1:n.getTime()>=d.getTime()?a:a-1}function ume(e,r){var c,u,d,f;const n=xb(),a=(r==null?void 0:r.firstWeekContainsDate)??((u=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,s=M7(e,r),o=vc(e,0);return o.setFullYear(s,0,a),o.setHours(0,0,0,0),fm(o,r)}function dme(e,r){const n=gi(e),a=+fm(n,r)-+ume(n,r);return Math.round(a/O7)+1}function wn(e,r){const n=e<0?"-":"",a=Math.abs(e).toString().padStart(r,"0");return n+a}const ed={y(e,r){const n=e.getFullYear(),a=n>0?n:1-n;return wn(r==="yy"?a%100:a,r.length)},M(e,r){const n=e.getMonth();return r==="M"?String(n+1):wn(n+1,2)},d(e,r){return wn(e.getDate(),r.length)},a(e,r){const n=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,r){return wn(e.getHours()%12||12,r.length)},H(e,r){return wn(e.getHours(),r.length)},m(e,r){return wn(e.getMinutes(),r.length)},s(e,r){return wn(e.getSeconds(),r.length)},S(e,r){const n=r.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,n-3));return wn(s,r.length)}},_f={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},DE={G:function(e,r,n){const a=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:"year"})}return ed.y(e,r)},Y:function(e,r,n,a){const s=M7(e,a),o=s>0?s:1-s;if(r==="YY"){const l=o%100;return wn(l,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):wn(o,r.length)},R:function(e,r){const n=T7(e);return wn(n,r.length)},u:function(e,r){const n=e.getFullYear();return wn(n,r.length)},Q:function(e,r,n){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return wn(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,r,n){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return wn(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,n){const a=e.getMonth();switch(r){case"M":case"MM":return ed.M(e,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,r,n){const a=e.getMonth();switch(r){case"L":return String(a+1);case"LL":return wn(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,r,n,a){const s=dme(e,a);return r==="wo"?n.ordinalNumber(s,{unit:"week"}):wn(s,r.length)},I:function(e,r,n){const a=cme(e);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):wn(a,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ed.d(e,r)},D:function(e,r,n){const a=lme(e);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):wn(a,r.length)},E:function(e,r,n){const a=e.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,r,n,a){const s=e.getDay(),o=(s-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return wn(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,r,n,a){const s=e.getDay(),o=(s-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return wn(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,r,n){const a=e.getDay(),s=a===0?7:a;switch(r){case"i":return String(s);case"ii":return wn(s,r.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,r,n){const s=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,r,n){const a=e.getHours();let s;switch(a===12?s=_f.noon:a===0?s=_f.midnight:s=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,r,n){const a=e.getHours();let s;switch(a>=17?s=_f.evening:a>=12?s=_f.afternoon:a>=4?s=_f.morning:s=_f.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){let a=e.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return ed.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ed.H(e,r)},K:function(e,r,n){const a=e.getHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):wn(a,r.length)},k:function(e,r,n){let a=e.getHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):wn(a,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ed.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ed.s(e,r)},S:function(e,r){return ed.S(e,r)},X:function(e,r,n){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return OE(a);case"XXXX":case"XX":return lh(a);case"XXXXX":case"XXX":default:return lh(a,":")}},x:function(e,r,n){const a=e.getTimezoneOffset();switch(r){case"x":return OE(a);case"xxxx":case"xx":return lh(a);case"xxxxx":case"xxx":default:return lh(a,":")}},O:function(e,r,n){const a=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+LE(a,":");case"OOOO":default:return"GMT"+lh(a,":")}},z:function(e,r,n){const a=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+LE(a,":");case"zzzz":default:return"GMT"+lh(a,":")}},t:function(e,r,n){const a=Math.trunc(e.getTime()/1e3);return wn(a,r.length)},T:function(e,r,n){const a=e.getTime();return wn(a,r.length)}};function LE(e,r=""){const n=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),o=a%60;return o===0?n+String(s):n+String(s)+r+wn(o,2)}function OE(e,r){return e%60===0?(e>0?"-":"+")+wn(Math.abs(e)/60,2):lh(e,r)}function lh(e,r=""){const n=e>0?"-":"+",a=Math.abs(e),s=wn(Math.trunc(a/60),2),o=wn(a%60,2);return n+s+r+o}const TE=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},I7=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},hme=(e,r)=>{const n=e.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return TE(e,r);let o;switch(a){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",TE(a,r)).replace("{{time}}",I7(s,r))},fme={p:I7,P:hme},mme=/^D+$/,pme=/^Y+$/,gme=["D","DD","YY","YYYY"];function xme(e){return mme.test(e)}function vme(e){return pme.test(e)}function yme(e,r,n){const a=bme(e,r,n);if(console.warn(a),gme.includes(e))throw new RangeError(a)}function bme(e,r,n){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Nme=/^'([^]*?)'?$/,_me=/''/g,Sme=/[a-zA-Z]/;function fo(e,r,n){var f,p,x,g;const a=xb(),s=a.locale??ome,o=a.firstWeekContainsDate??((p=(f=a.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,l=a.weekStartsOn??((g=(x=a.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??0,c=gi(e);if(!_fe(c))throw new RangeError("Invalid time value");let u=r.match(jme).map(y=>{const w=y[0];if(w==="p"||w==="P"){const v=fme[w];return v(y,s.formatLong)}return y}).join("").match(wme).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:kme(y)};if(DE[w])return{isToken:!0,value:y};if(w.match(Sme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(u=s.localize.preprocessor(c,u));const d={firstWeekContainsDate:o,weekStartsOn:l,locale:s};return u.map(y=>{if(!y.isToken)return y.value;const w=y.value;(vme(w)||xme(w))&&yme(w,r,String(e));const v=DE[w[0]];return v(c,w,s.localize,d)}).join("")}function kme(e){const r=e.match(Nme);return r?r[1].replace(_me,"'"):e}function d_(e,r){const n=gi(e),a=gi(r);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function R7(e,r){return u_(e,-1)}const Cme=({title:e,orders:r,loading:n=!1,onOrderClick:a,onAddOrder:s,initialSearch:o,showCancelled:l=!1,onToggleShowCancelled:c,cars:u})=>{const{t:d}=mr(),[f,p]=N.useState(o||""),[x,g]=N.useState("status"),[y,w]=N.useState("asc"),[v,S]=N.useState(1),k=6,j=u||Rh,C=N.useCallback(H=>{if(H.amount&&H.amount>0)return H.amount;if(H.total_amount&&typeof H.total_amount=="string")return parseFloat(H.total_amount)||0;if(H.total_amount&&typeof H.total_amount=="number")return H.total_amount;const te=j.find(be=>be.id.toString()===H.carId);if(!te)return 0;const O=be=>{if(!be)return"00:00";if(be.includes("AM")||be.includes("PM")){const[Ae,Ie]=be.split(" "),[Ce,He]=Ae.split(":");let Ve=parseInt(Ce);return Ie==="PM"&&Ve!==12&&(Ve+=12),Ie==="AM"&&Ve===12&&(Ve=0),`${String(Ve).padStart(2,"0")}:${He||"00"}`}if(be.includes(":")){const[Ae,Ie]=be.split(":");return`${String(parseInt(Ae)).padStart(2,"0")}:${Ie||"00"}`}return"00:00"},re=new Date(H.pickupDate),Y=new Date(H.returnDate),P=O(H.pickupTime),L=O(H.returnTime),[R,G]=P.split(":").map(Number),[X,D]=L.split(":").map(Number),Z=new Date(re);Z.setHours(R,G,0,0);const ae=new Date(Y);X===0&&D===0?ae.setHours(23,59,59,999):ae.setHours(X,D,0,0);const le=ae.getTime()-Z.getTime(),Q=Math.floor(le/(1e3*60*60*24)),oe=Math.floor(le%(1e3*60*60*24)/(1e3*60*60)),ve=Q,ue=oe>=0?oe:0,ge=ve,ie=ve+ue/24;let se=0,_e=0;ge>=2&&ge<=4?_e=te.price_2_4_days||0:ge>=5&&ge<=15?_e=te.price_5_15_days||0:ge>=16&&ge<=30?_e=te.price_16_30_days||0:ge>30&&(_e=te.price_over_30_days||0);const Te=te.discount_percentage||te.discount_percentage||0;if(Te>0&&(_e=_e*(1-Te/100)),se=_e*ge,ue>0){const be=ue/24*_e;se+=be}const Xe=H.options||H.features;let Me={};if(Xe)if(typeof Xe=="string")try{Me=JSON.parse(Xe)}catch{Me={}}else Array.isArray(Xe)?(Me={},Xe.forEach(be=>{const Ae=be.toLowerCase();Ae.includes("unlimited")||Ae.includes("kilometraj")?Me.unlimitedKm=!0:Ae.includes("speed")||Ae.includes("vitez")?Me.speedLimitIncrease=!0:Ae.includes("tire")||Ae.includes("anvelope")||Ae.includes("parbriz")?Me.tireInsurance=!0:Ae.includes("driver")||Ae.includes("ofer")?Me.personalDriver=!0:Ae.includes("priority")?Me.priorityService=!0:Ae.includes("child")||Ae.includes("copil")||Ae.includes("scaun")?Me.childSeat=!0:Ae.includes("sim")||Ae.includes("card")?Me.simCard=!0:(Ae.includes("roadside")||Ae.includes("asisten")||Ae.includes("rutier"))&&(Me.roadsideAssistance=!0)})):Me=Xe;let Re=0;const xe=te.price_per_day;Me.unlimitedKm&&(Re+=xe*ie*.5),Me.speedLimitIncrease&&(Re+=xe*ie*.2),Me.tireInsurance&&(Re+=xe*ie*.2),Me.personalDriver&&(Re+=800*ge),Me.priorityService&&(Re+=1e3*ge),Me.childSeat&&(Re+=100*ge),Me.simCard&&(Re+=100*ge),Me.roadsideAssistance&&(Re+=500*ge);const Pe=se+Re;return Math.round(Pe)},[j]);N.useEffect(()=>{o!==void 0&&p(o)},[o]);const z=N.useMemo(()=>{let H=r.filter(te=>{var L,R;const O=f.toLowerCase(),re=typeof te.id=="string"?te.id:te.id.toString(),Y=te.customerName.toLowerCase().includes(O)||((L=te.customerPhone)==null?void 0:L.toLowerCase().includes(O))||((R=te.customerEmail)==null?void 0:R.toLowerCase().includes(O))||te.carName.toLowerCase().includes(O)||re.toLowerCase().includes(O),P=l?te.status==="CANCELLED":te.status!=="CANCELLED";return Y&&P});if(x)H.sort((te,O)=>{let re=0;if(x==="date")re=new Date(te.createdAt).getTime()-new Date(O.createdAt).getTime();else if(x==="customer")re=te.customerName.localeCompare(O.customerName);else if(x==="amount")re=C(te)-C(O);else if(x==="status"){const Y={CONTRACT:0,ACTIVE:1,COMPLETED:2,CANCELLED:3};re=(Y[te.status]||0)-(Y[O.status]||0)}return y==="asc"?re:-re});else{const te={CONTRACT:0,ACTIVE:1,COMPLETED:2,CANCELLED:3};H.sort((O,re)=>(te[O.status]||0)-(te[re.status]||0))}return H},[r,f,x,y,l,C]),$=Math.ceil(z.length/k),F=z.slice((v-1)*k,v*k),V=H=>{H<1||H>$||S(H)},B=H=>{x===H?w(te=>te==="asc"?"desc":"asc"):(g(H),w(H==="date"?"desc":"asc")),S(1)},K=H=>(typeof H.id=="number"?H.id:parseInt(H.id.toString(),10))||0,T=H=>{const te={CONTRACT:{bg:"bg-orange-500/20",text:"text-orange-300",border:"border-orange-500/50"},ACTIVE:{bg:"bg-blue-500/20",text:"text-blue-300",border:"border-blue-500/50"},COMPLETED:{bg:"bg-emerald-500/20",text:"text-emerald-300",border:"border-emerald-500/50"},CANCELLED:{bg:"bg-gray-500/20",text:"text-gray-300",border:"border-gray-500/50"}},O=te[H]||te.ACTIVE,Y={CONTRACT:d("admin.status.contract"),ACTIVE:d("admin.status.active"),COMPLETED:d("admin.status.completed"),CANCELLED:d("admin.status.cancelled")}[H]||H.charAt(0)+H.slice(1).toLowerCase();return i.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold border backdrop-blur-sm ${O.bg} ${O.text} ${O.border}`,children:Y})},M=H=>{try{return fo(new Date(H),"MMM dd, yyyy")}catch{return H}},I=H=>{if(a){const te=K(H);a(H,te)}},q=H=>{const te=H.trim().split(" ");return te.length>=2?`${te[0][0]}${te[te.length-1][0]}`.toUpperCase():H.substring(0,2).toUpperCase()};return n?i.jsx("div",{className:"flex items-center justify-center py-20",children:i.jsx(Qa,{className:"w-8 h-8 animate-spin text-white/50"})}):i.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"px-3 md:px-6 py-3 md:py-4 border-b border-white/10",children:i.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3 md:gap-4",children:[i.jsx("div",{children:i.jsx("h2",{className:"text-lg md:text-xl font-bold text-white",children:e})}),i.jsx("div",{className:"flex items-center gap-2 flex-wrap w-full md:w-auto",children:c&&i.jsx("button",{onClick:c,className:`flex items-center justify-center gap-1.5 px-3 md:px-4 py-2 text-xs md:text-sm font-semibold rounded-lg border transition-all whitespace-nowrap ${l?"bg-red-500/20 text-red-300 border-red-500/50 hover:bg-red-500/30 hover:border-red-500/60":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:d(l?"admin.orders.hideCancelled":"admin.orders.showCancelled")})})]}),i.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3 md:gap-4",children:[i.jsx("div",{className:"w-full md:flex-1 md:max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx(pc,{className:"absolute left-2.5 md:left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-3.5 h-3.5 md:w-4 md:h-4"}),i.jsx("input",{type:"text",placeholder:d("admin.placeholders.searchOrders"),value:f,onChange:H=>{p(H.target.value),S(1)},className:"w-full pl-9 md:pl-10 pr-3 md:pr-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/50 text-white text-xs md:text-sm placeholder-gray-400"})]})}),i.jsxs("div",{className:"w-full md:w-auto flex flex-col md:flex-row items-stretch md:items-center gap-2",children:[i.jsx("span",{className:"hidden md:inline text-xs font-semibold text-gray-400 uppercase tracking-wider",children:d("admin.orders.sortBy")}),i.jsx("span",{className:"md:hidden text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:d("admin.orders.sortBy")}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs("button",{onClick:()=>B("date"),className:`flex items-center gap-1 px-2.5 md:px-3 py-1.5 text-xs font-semibold rounded-lg border transition-all flex-1 sm:flex-initial min-w-0 ${x==="date"?"bg-red-500/20 text-red-300 border-red-500/50":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:[i.jsx("span",{className:"truncate",children:d("admin.orders.date")}),x==="date"&&(y==="asc"?i.jsx(ws,{className:"w-3 h-3 flex-shrink-0"}):i.jsx(ys,{className:"w-3 h-3 flex-shrink-0"})),x!=="date"&&i.jsx(bs,{className:"w-3 h-3 opacity-50 flex-shrink-0"})]}),i.jsxs("button",{onClick:()=>B("amount"),className:`flex items-center gap-1 px-2.5 md:px-3 py-1.5 text-xs font-semibold rounded-lg border transition-all flex-1 sm:flex-initial min-w-0 ${x==="amount"?"bg-red-500/20 text-red-300 border-red-500/50":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:[i.jsx("span",{className:"truncate",children:d("admin.orders.amount")}),x==="amount"&&(y==="asc"?i.jsx(ws,{className:"w-3 h-3 flex-shrink-0"}):i.jsx(ys,{className:"w-3 h-3 flex-shrink-0"})),x!=="amount"&&i.jsx(bs,{className:"w-3 h-3 opacity-50 flex-shrink-0"})]}),x&&x!=="status"&&i.jsx("button",{onClick:()=>{g("status"),w("asc")},className:"px-2.5 md:px-3 py-1.5 text-xs font-semibold text-gray-400 hover:text-white transition-colors whitespace-nowrap",children:d("admin.orders.clearSort")})]})]})]})]})}),i.jsx("div",{className:"block md:hidden p-4 space-y-4",children:F.length===0?i.jsx("div",{className:"px-4 py-12 text-center text-gray-400",children:d("admin.orders.noOrders")}):F.map(H=>{const te=H.carImage||H.avatar||"";return i.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:bg-white/10 transition cursor-pointer",onClick:()=>I(H),children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("span",{className:"text-white font-semibold text-sm",children:["#",K(H).toString().padStart(4,"0")]}),T(H.status)]}),i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-xs flex-shrink-0 shadow-md",children:q(H.customerName||"U")}),i.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[i.jsx("span",{className:"font-semibold text-white text-sm truncate",children:H.customerName||"Unknown"}),H.customerPhone&&i.jsx("span",{className:"text-gray-400 text-xs truncate",children:H.customerPhone})]})]}),i.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-white/10",children:[te?i.jsx("img",{src:te,alt:H.carName||"Car",className:"w-12 h-12 object-cover rounded-md border border-white/10 flex-shrink-0"}):i.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-md border border-white/10 flex items-center justify-center flex-shrink-0",children:i.jsx(Za,{className:"w-5 h-5 text-gray-400"})}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("p",{className:"text-white font-semibold text-sm truncate",children:H.carName||"Unknown Car"})})]}),(H.pickupDate||H.returnDate)&&i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[H.pickupDate&&i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-400 text-xs mb-1",children:d("admin.requests.pickup")||"Pickup"}),i.jsx("p",{className:"text-white text-sm font-medium",children:H.pickupDate?M(H.pickupDate):""}),H.pickupTime&&i.jsx("p",{className:"text-gray-400 text-xs",children:H.pickupTime.slice(0,5)})]}),H.returnDate&&i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-400 text-xs mb-1",children:d("admin.requests.return")||"Return"}),i.jsx("p",{className:"text-white text-sm font-medium",children:H.returnDate?M(H.returnDate):""}),H.returnTime&&i.jsx("p",{className:"text-gray-400 text-xs",children:H.returnTime.slice(0,5)})]})]}),i.jsxs("div",{className:"pt-4 border-t border-white/10",children:[i.jsx("p",{className:"text-gray-400 text-xs mb-1",children:d("admin.orders.amount")}),i.jsx("p",{className:"text-white font-semibold text-base",children:C(H)>0?Li(C(H)):i.jsx("span",{className:"text-gray-400",children:""})})]})]},H.id)})}),i.jsx("div",{className:"hidden md:block overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-white/10",children:[i.jsx("thead",{className:"bg-white/5",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:d("admin.orders.orderId")}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:d("admin.orders.customer")}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:d("admin.orders.vehicle")}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:d("admin.orders.status")}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:i.jsxs("button",{onClick:()=>B("amount"),className:"flex items-center gap-1.5 hover:text-white transition-colors",children:[d("admin.orders.amount"),x==="amount"?y==="asc"?i.jsx(ws,{className:"w-3 h-3"}):i.jsx(ys,{className:"w-3 h-3"}):i.jsx(bs,{className:"w-3 h-3 opacity-50"})]})})]})}),i.jsx("tbody",{className:"divide-y divide-white/10",children:F.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-400",children:d("admin.orders.noOrders")})}):F.map(H=>i.jsxs("tr",{className:"hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>I(H),children:[i.jsx("td",{className:"px-6 py-3",children:i.jsxs("span",{className:"text-white font-semibold text-sm",children:["#",K(H).toString().padStart(4,"0")]})}),i.jsx("td",{className:"px-6 py-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-xs flex-shrink-0 shadow-md",children:q(H.customerName)}),i.jsxs("div",{className:"flex flex-col min-w-0",children:[i.jsx("span",{className:"font-semibold text-white text-sm truncate",children:H.customerName}),i.jsx("span",{className:"text-gray-400 text-xs truncate",children:H.customerPhone||"N/A"})]})]})}),i.jsx("td",{className:"px-6 py-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[H.carImage||H.avatar?i.jsx("img",{src:H.carImage||H.avatar,alt:H.carName||"Car",className:"w-10 h-10 object-cover rounded-md border border-white/10 flex-shrink-0"}):i.jsx("div",{className:"w-10 h-10 bg-white/5 rounded-md border border-white/10 flex items-center justify-center flex-shrink-0",children:i.jsx(Za,{className:"w-4 h-4 text-gray-400"})}),i.jsx("div",{children:i.jsx("p",{className:"text-white font-semibold text-sm",children:H.carName||"Unknown Car"})})]})}),i.jsx("td",{className:"px-6 py-3",children:T(H.status)}),i.jsx("td",{className:"px-6 py-3 text-white font-semibold text-sm",children:C(H)>0?Li(C(H)):i.jsx("span",{className:"text-gray-400",children:""})})]},H.id))})]})}),i.jsxs("div",{className:"px-3 md:px-6 py-3 md:py-4 border-t border-white/10 flex flex-col sm:flex-row items-center justify-between gap-3",children:[i.jsxs("div",{className:"text-xs md:text-sm text-gray-300 text-center sm:text-left",children:[d("admin.orders.showing")," ",F.length>0?(v-1)*k+1:0," ",d("admin.orders.to")," ",Math.min(v*k,z.length)," ",d("admin.orders.of")," ",z.length," ",d("admin.orders.orders")]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>V(v-1),disabled:v===1,className:"flex items-center gap-1.5 md:gap-2 px-2.5 md:px-3 py-1.5 md:py-2 rounded-lg border border-white/20 bg-white/10 backdrop-blur-xl text-white disabled:opacity-50 hover:bg-white/20 transition-all text-xs md:text-sm",children:[i.jsx(Il,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),i.jsx("span",{className:"hidden sm:inline",children:d("admin.orders.previous")})]}),i.jsxs("div",{className:"text-xs md:text-sm text-gray-300 px-2",children:[d("admin.orders.page")," ",v," ",d("admin.orders.ofPage")," ",$||1]}),i.jsxs("button",{onClick:()=>V(v+1),disabled:v===$||$===0,className:"flex items-center gap-1.5 md:gap-2 px-2.5 md:px-3 py-1.5 md:py-2 rounded-lg border border-white/20 bg-white/10 backdrop-blur-xl text-white disabled:opacity-50 hover:bg-white/20 transition-all text-xs md:text-sm",children:[i.jsx("span",{className:"hidden sm:inline",children:d("admin.orders.next")}),i.jsx(ss,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})]})]})]})]})};function Nn(e){"@babel/helpers - typeof";return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Nn(e)}var Ol=Uint8Array,vo=Uint16Array,h_=Int32Array,f_=new Ol([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),m_=new Ol([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ME=new Ol([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),z7=function(e,r){for(var n=new vo(31),a=0;a<31;++a)n[a]=r+=1<<e[a-1];for(var s=new h_(n[30]),a=1;a<30;++a)for(var o=n[a];o<n[a+1];++o)s[o]=o-n[a]<<5|a;return{b:n,r:s}},F7=z7(f_,2),Pme=F7.b,Pj=F7.r;Pme[28]=258,Pj[258]=28;var Eme=z7(m_,0),IE=Eme.r,Ej=new vo(32768);for(var Vn=0;Vn<32768;++Vn){var td=(Vn&43690)>>1|(Vn&21845)<<1;td=(td&52428)>>2|(td&13107)<<2,td=(td&61680)>>4|(td&3855)<<4,Ej[Vn]=((td&65280)>>8|(td&255)<<8)>>1}var $p=function(e,r,n){for(var a=e.length,s=0,o=new vo(r);s<a;++s)e[s]&&++o[e[s]-1];var l=new vo(r);for(s=1;s<r;++s)l[s]=l[s-1]+o[s-1]<<1;var c;if(n){c=new vo(1<<r);var u=15-r;for(s=0;s<a;++s)if(e[s])for(var d=s<<4|e[s],f=r-e[s],p=l[e[s]-1]++<<f,x=p|(1<<f)-1;p<=x;++p)c[Ej[p]>>u]=d}else for(c=new vo(a),s=0;s<a;++s)e[s]&&(c[s]=Ej[l[e[s]-1]++]>>15-e[s]);return c},zh=new Ol(288);for(var Vn=0;Vn<144;++Vn)zh[Vn]=8;for(var Vn=144;Vn<256;++Vn)zh[Vn]=9;for(var Vn=256;Vn<280;++Vn)zh[Vn]=7;for(var Vn=280;Vn<288;++Vn)zh[Vn]=8;var ry=new Ol(32);for(var Vn=0;Vn<32;++Vn)ry[Vn]=5;var Ame=$p(zh,9,0),Dme=$p(ry,5,0),$7=function(e){return(e+7)/8|0},Lme=function(e,r,n){return(n==null||n>e.length)&&(n=e.length),new Ol(e.subarray(r,n))},Gc=function(e,r,n){n<<=r&7;var a=r/8|0;e[a]|=n,e[a+1]|=n>>8},wp=function(e,r,n){n<<=r&7;var a=r/8|0;e[a]|=n,e[a+1]|=n>>8,e[a+2]|=n>>16},_2=function(e,r){for(var n=[],a=0;a<e.length;++a)e[a]&&n.push({s:a,f:e[a]});var s=n.length,o=n.slice();if(!s)return{t:U7,l:0};if(s==1){var l=new Ol(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort(function(z,$){return z.f-$.f}),n.push({s:-1,f:25001});var c=n[0],u=n[1],d=0,f=1,p=2;for(n[0]={s:-1,f:c.f+u.f,l:c,r:u};f!=s-1;)c=n[n[d].f<n[p].f?d++:p++],u=n[d!=f&&n[d].f<n[p].f?d++:p++],n[f++]={s:-1,f:c.f+u.f,l:c,r:u};for(var x=o[0].s,a=1;a<s;++a)o[a].s>x&&(x=o[a].s);var g=new vo(x+1),y=Aj(n[f-1],g,0);if(y>r){var a=0,w=0,v=y-r,S=1<<v;for(o.sort(function($,F){return g[F.s]-g[$.s]||$.f-F.f});a<s;++a){var k=o[a].s;if(g[k]>r)w+=S-(1<<y-g[k]),g[k]=r;else break}for(w>>=v;w>0;){var j=o[a].s;g[j]<r?w-=1<<r-g[j]++-1:++a}for(;a>=0&&w;--a){var C=o[a].s;g[C]==r&&(--g[C],++w)}y=r}return{t:new Ol(g),l:y}},Aj=function(e,r,n){return e.s==-1?Math.max(Aj(e.l,r,n+1),Aj(e.r,r,n+1)):r[e.s]=n},RE=function(e){for(var r=e.length;r&&!e[--r];);for(var n=new vo(++r),a=0,s=e[0],o=1,l=function(u){n[a++]=u},c=1;c<=r;++c)if(e[c]==s&&c!=r)++o;else{if(!s&&o>2){for(;o>138;o-=138)l(32754);o>2&&(l(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(l(s),--o;o>6;o-=6)l(8304);o>2&&(l(o-3<<5|8208),o=0)}for(;o--;)l(s);o=1,s=e[c]}return{c:n.subarray(0,a),n:r}},jp=function(e,r){for(var n=0,a=0;a<r.length;++a)n+=e[a]*r[a];return n},B7=function(e,r,n){var a=n.length,s=$7(r+2);e[s]=a&255,e[s+1]=a>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var o=0;o<a;++o)e[s+o+4]=n[o];return(s+4+a)*8},zE=function(e,r,n,a,s,o,l,c,u,d,f){Gc(r,f++,n),++s[256];for(var p=_2(s,15),x=p.t,g=p.l,y=_2(o,15),w=y.t,v=y.l,S=RE(x),k=S.c,j=S.n,C=RE(w),z=C.c,$=C.n,F=new vo(19),V=0;V<k.length;++V)++F[k[V]&31];for(var V=0;V<z.length;++V)++F[z[V]&31];for(var B=_2(F,7),K=B.t,T=B.l,M=19;M>4&&!K[ME[M-1]];--M);var I=d+5<<3,q=jp(s,zh)+jp(o,ry)+l,H=jp(s,x)+jp(o,w)+l+14+3*M+jp(F,K)+2*F[16]+3*F[17]+7*F[18];if(u>=0&&I<=q&&I<=H)return B7(r,f,e.subarray(u,u+d));var te,O,re,Y;if(Gc(r,f,1+(H<q)),f+=2,H<q){te=$p(x,g,0),O=x,re=$p(w,v,0),Y=w;var P=$p(K,T,0);Gc(r,f,j-257),Gc(r,f+5,$-1),Gc(r,f+10,M-4),f+=14;for(var V=0;V<M;++V)Gc(r,f+3*V,K[ME[V]]);f+=3*M;for(var L=[k,z],R=0;R<2;++R)for(var G=L[R],V=0;V<G.length;++V){var X=G[V]&31;Gc(r,f,P[X]),f+=K[X],X>15&&(Gc(r,f,G[V]>>5&127),f+=G[V]>>12)}}else te=Ame,O=zh,re=Dme,Y=ry;for(var V=0;V<c;++V){var D=a[V];if(D>255){var X=D>>18&31;wp(r,f,te[X+257]),f+=O[X+257],X>7&&(Gc(r,f,D>>23&31),f+=f_[X]);var Z=D&31;wp(r,f,re[Z]),f+=Y[Z],Z>3&&(wp(r,f,D>>5&8191),f+=m_[Z])}else wp(r,f,te[D]),f+=O[D]}return wp(r,f,te[256]),f+O[256]},Ome=new h_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),U7=new Ol(0),Tme=function(e,r,n,a,s,o){var l=o.z||e.length,c=new Ol(a+l+5*(1+Math.ceil(l/7e3))+s),u=c.subarray(a,c.length-s),d=o.l,f=(o.r||0)&7;if(r){f&&(u[0]=o.r>>3);for(var p=Ome[r-1],x=p>>13,g=p&8191,y=(1<<n)-1,w=o.p||new vo(32768),v=o.h||new vo(y+1),S=Math.ceil(n/3),k=2*S,j=function(ie){return(e[ie]^e[ie+1]<<S^e[ie+2]<<k)&y},C=new h_(25e3),z=new vo(288),$=new vo(32),F=0,V=0,B=o.i||0,K=0,T=o.w||0,M=0;B+2<l;++B){var I=j(B),q=B&32767,H=v[I];if(w[q]=H,v[I]=q,T<=B){var te=l-B;if((F>7e3||K>24576)&&(te>423||!d)){f=zE(e,u,0,C,z,$,V,K,M,B-M,f),K=F=V=0,M=B;for(var O=0;O<286;++O)z[O]=0;for(var O=0;O<30;++O)$[O]=0}var re=2,Y=0,P=g,L=q-H&32767;if(te>2&&I==j(B-L))for(var R=Math.min(x,te)-1,G=Math.min(32767,B),X=Math.min(258,te);L<=G&&--P&&q!=H;){if(e[B+re]==e[B+re-L]){for(var D=0;D<X&&e[B+D]==e[B+D-L];++D);if(D>re){if(re=D,Y=L,D>R)break;for(var Z=Math.min(L,D-2),ae=0,O=0;O<Z;++O){var le=B-L+O&32767,Q=w[le],oe=le-Q&32767;oe>ae&&(ae=oe,H=le)}}}q=H,H=w[q],L+=q-H&32767}if(Y){C[K++]=268435456|Pj[re]<<18|IE[Y];var ve=Pj[re]&31,ue=IE[Y]&31;V+=f_[ve]+m_[ue],++z[257+ve],++$[ue],T=B+re,++F}else C[K++]=e[B],++z[e[B]]}}for(B=Math.max(B,T);B<l;++B)C[K++]=e[B],++z[e[B]];f=zE(e,u,d,C,z,$,V,K,M,B-M,f),d||(o.r=f&7|u[f/8|0]<<3,f-=7,o.h=v,o.p=w,o.i=B,o.w=T)}else{for(var B=o.w||0;B<l+d;B+=65535){var ge=B+65535;ge>=l&&(u[f/8|0]=d,ge=l),f=B7(u,f+1,e.subarray(B,ge))}o.i=l}return Lme(c,0,a+$7(f)+s)},q7=function(){var e=1,r=0;return{p:function(n){for(var a=e,s=r,o=n.length|0,l=0;l!=o;){for(var c=Math.min(l+2655,o);l<c;++l)s+=a+=n[l];a=(a&65535)+15*(a>>16),s=(s&65535)+15*(s>>16)}e=a,r=s},d:function(){return e%=65521,r%=65521,(e&255)<<24|(e&65280)<<8|(r&255)<<8|r>>8}}},Mme=function(e,r,n,a,s){if(!s&&(s={l:1},r.dictionary)){var o=r.dictionary.subarray(-32768),l=new Ol(o.length+e.length);l.set(o),l.set(e,o.length),e=l,s.w=o.length}return Tme(e,r.level==null?6:r.level,r.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+r.mem,n,a,s)},H7=function(e,r,n){for(;n;++r)e[r]=n,n>>>=8},Ime=function(e,r){var n=r.level,a=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=a<<6|(r.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,r.dictionary){var s=q7();s.p(r.dictionary),H7(e,2,s.d())}};function Dj(e,r){r||(r={});var n=q7();n.p(e);var a=Mme(e,r,r.dictionary?6:2,4);return Ime(a,r),H7(a,a.length-4,n.d()),a}var Rme=typeof TextDecoder<"u"&&new TextDecoder,zme=0;try{Rme.decode(U7,{stream:!0}),zme=1}catch{}function Fme(e){if(Array.isArray(e))return e}function $me(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,o,l,c=[],u=!0,d=!1;try{if(o=(n=n.call(e)).next,r!==0)for(;!(u=(a=o.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw s}}return c}}function FE(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=Array(r);n<r;n++)a[n]=e[n];return a}function Bme(e,r){if(e){if(typeof e=="string")return FE(e,r);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FE(e,r):void 0}}function Ume(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $E(e,r){return Fme(e)||$me(e,r)||Bme(e,r)||Ume()}function BE(e,r="utf8"){return new TextDecoder(r).decode(e)}const qme=new TextEncoder;function Hme(e){return qme.encode(e)}const Vme=1024*8,Wme=(()=>{const e=new Uint8Array(4),r=new Uint32Array(e.buffer);return!((r[0]=1)&e[0])})(),S2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class p_{constructor(r=Vme,n={}){dn(this,"buffer");dn(this,"byteLength");dn(this,"byteOffset");dn(this,"length");dn(this,"offset");dn(this,"lastWrittenByte");dn(this,"littleEndian");dn(this,"_data");dn(this,"_mark");dn(this,"_marks");let a=!1;typeof r=="number"?r=new ArrayBuffer(r):(a=!0,this.lastWrittenByte=r.byteLength);const s=n.offset?n.offset>>>0:0,o=r.byteLength-s;let l=s;(ArrayBuffer.isView(r)||r instanceof p_)&&(r.byteLength!==r.buffer.byteLength&&(l=r.byteOffset+s),r=r.buffer),a?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=r,this.length=o,this.byteLength=o,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,o),this._mark=0,this._marks=[]}available(r=1){return this.offset+r<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(r=1){return this.offset+=r,this}back(r=1){return this.offset-=r,this}seek(r){return this.offset=r,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const r=this._marks.pop();if(r===void 0)throw new Error("Mark stack empty");return this.seek(r),this}rewind(){return this.offset=0,this}ensureAvailable(r=1){if(!this.available(r)){const a=(this.offset+r)*2,s=new Uint8Array(a);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(r=1){return this.readArray(r,"uint8")}readArray(r,n){const a=S2[n].BYTES_PER_ELEMENT*r,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+a);if(this.littleEndian===Wme&&n!=="uint8"&&n!=="int8"){const c=new Uint8Array(this.buffer.slice(s,s+a));c.reverse();const u=new S2[n](c.buffer);return this.offset+=a,u.reverse(),u}const l=new S2[n](o);return this.offset+=a,l}readInt16(){const r=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,r}readUint16(){const r=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,r}readInt32(){const r=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,r}readUint32(){const r=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,r}readFloat32(){const r=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,r}readFloat64(){const r=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,r}readBigInt64(){const r=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,r}readBigUint64(){const r=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,r}readChar(){return String.fromCharCode(this.readInt8())}readChars(r=1){let n="";for(let a=0;a<r;a++)n+=this.readChar();return n}readUtf8(r=1){return BE(this.readBytes(r))}decodeText(r=1,n="utf8"){return BE(this.readBytes(r),n)}writeBoolean(r){return this.writeUint8(r?255:0),this}writeInt8(r){return this.ensureAvailable(1),this._data.setInt8(this.offset++,r),this._updateLastWrittenByte(),this}writeUint8(r){return this.ensureAvailable(1),this._data.setUint8(this.offset++,r),this._updateLastWrittenByte(),this}writeByte(r){return this.writeUint8(r)}writeBytes(r){this.ensureAvailable(r.length);for(let n=0;n<r.length;n++)this._data.setUint8(this.offset++,r[n]);return this._updateLastWrittenByte(),this}writeInt16(r){return this.ensureAvailable(2),this._data.setInt16(this.offset,r,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(r){return this.ensureAvailable(2),this._data.setUint16(this.offset,r,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(r){return this.ensureAvailable(4),this._data.setInt32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(r){return this.ensureAvailable(4),this._data.setUint32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(r){return this.ensureAvailable(4),this._data.setFloat32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(r){return this.ensureAvailable(8),this._data.setFloat64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(r){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(r){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(r){return this.writeUint8(r.charCodeAt(0))}writeChars(r){for(let n=0;n<r.length;n++)this.writeUint8(r.charCodeAt(n));return this}writeUtf8(r){return this.writeBytes(Hme(r))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Lm(e){let r=e.length;for(;--r>=0;)e[r]=0}const Kme=3,Gme=258,V7=29,Yme=256,Xme=Yme+1+V7,W7=30,Jme=512,Zme=new Array((Xme+2)*2);Lm(Zme);const Qme=new Array(W7*2);Lm(Qme);const epe=new Array(Jme);Lm(epe);const tpe=new Array(Gme-Kme+1);Lm(tpe);const rpe=new Array(V7);Lm(rpe);const npe=new Array(W7);Lm(npe);const ape=(e,r,n,a)=>{let s=e&65535|0,o=e>>>16&65535|0,l=0;for(;n!==0;){l=n>2e3?2e3:n,n-=l;do s=s+r[a++]|0,o=o+s|0;while(--l);s%=65521,o%=65521}return s|o<<16|0};var Lj=ape;const ipe=()=>{let e,r=[];for(var n=0;n<256;n++){e=n;for(var a=0;a<8;a++)e=e&1?3988292384^e>>>1:e>>>1;r[n]=e}return r},spe=new Uint32Array(ipe()),ope=(e,r,n,a)=>{const s=spe,o=a+n;e^=-1;for(let l=a;l<o;l++)e=e>>>8^s[(e^r[l])&255];return e^-1};var sc=ope,Oj={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},K7={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const lpe=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var cpe=function(e){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const n=r.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const a in n)lpe(n,a)&&(e[a]=n[a])}}return e},upe=e=>{let r=0;for(let a=0,s=e.length;a<s;a++)r+=e[a].length;const n=new Uint8Array(r);for(let a=0,s=0,o=e.length;a<o;a++){let l=e[a];n.set(l,s),s+=l.length}return n},G7={assign:cpe,flattenChunks:upe};let Y7=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Y7=!1}const g0=new Uint8Array(256);for(let e=0;e<256;e++)g0[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;g0[254]=g0[254]=1;var dpe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let r,n,a,s,o,l=e.length,c=0;for(s=0;s<l;s++)n=e.charCodeAt(s),(n&64512)===55296&&s+1<l&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),s++)),c+=n<128?1:n<2048?2:n<65536?3:4;for(r=new Uint8Array(c),o=0,s=0;o<c;s++)n=e.charCodeAt(s),(n&64512)===55296&&s+1<l&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),s++)),n<128?r[o++]=n:n<2048?(r[o++]=192|n>>>6,r[o++]=128|n&63):n<65536?(r[o++]=224|n>>>12,r[o++]=128|n>>>6&63,r[o++]=128|n&63):(r[o++]=240|n>>>18,r[o++]=128|n>>>12&63,r[o++]=128|n>>>6&63,r[o++]=128|n&63);return r};const hpe=(e,r)=>{if(r<65534&&e.subarray&&Y7)return String.fromCharCode.apply(null,e.length===r?e:e.subarray(0,r));let n="";for(let a=0;a<r;a++)n+=String.fromCharCode(e[a]);return n};var fpe=(e,r)=>{const n=r||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,r));let a,s;const o=new Array(n*2);for(s=0,a=0;a<n;){let l=e[a++];if(l<128){o[s++]=l;continue}let c=g0[l];if(c>4){o[s++]=65533,a+=c-1;continue}for(l&=c===2?31:c===3?15:7;c>1&&a<n;)l=l<<6|e[a++]&63,c--;if(c>1){o[s++]=65533;continue}l<65536?o[s++]=l:(l-=65536,o[s++]=55296|l>>10&1023,o[s++]=56320|l&1023)}return hpe(o,s)},mpe=(e,r)=>{r=r||e.length,r>e.length&&(r=e.length);let n=r-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?r:n+g0[e[n]]>r?n:r},Tj={string2buf:dpe,buf2string:fpe,utf8border:mpe};function ppe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var gpe=ppe;const dx=16209,xpe=16191;var vpe=function(r,n){let a,s,o,l,c,u,d,f,p,x,g,y,w,v,S,k,j,C,z,$,F,V,B,K;const T=r.state;a=r.next_in,B=r.input,s=a+(r.avail_in-5),o=r.next_out,K=r.output,l=o-(n-r.avail_out),c=o+(r.avail_out-257),u=T.dmax,d=T.wsize,f=T.whave,p=T.wnext,x=T.window,g=T.hold,y=T.bits,w=T.lencode,v=T.distcode,S=(1<<T.lenbits)-1,k=(1<<T.distbits)-1;e:do{y<15&&(g+=B[a++]<<y,y+=8,g+=B[a++]<<y,y+=8),j=w[g&S];t:for(;;){if(C=j>>>24,g>>>=C,y-=C,C=j>>>16&255,C===0)K[o++]=j&65535;else if(C&16){z=j&65535,C&=15,C&&(y<C&&(g+=B[a++]<<y,y+=8),z+=g&(1<<C)-1,g>>>=C,y-=C),y<15&&(g+=B[a++]<<y,y+=8,g+=B[a++]<<y,y+=8),j=v[g&k];r:for(;;){if(C=j>>>24,g>>>=C,y-=C,C=j>>>16&255,C&16){if($=j&65535,C&=15,y<C&&(g+=B[a++]<<y,y+=8,y<C&&(g+=B[a++]<<y,y+=8)),$+=g&(1<<C)-1,$>u){r.msg="invalid distance too far back",T.mode=dx;break e}if(g>>>=C,y-=C,C=o-l,$>C){if(C=$-C,C>f&&T.sane){r.msg="invalid distance too far back",T.mode=dx;break e}if(F=0,V=x,p===0){if(F+=d-C,C<z){z-=C;do K[o++]=x[F++];while(--C);F=o-$,V=K}}else if(p<C){if(F+=d+p-C,C-=p,C<z){z-=C;do K[o++]=x[F++];while(--C);if(F=0,p<z){C=p,z-=C;do K[o++]=x[F++];while(--C);F=o-$,V=K}}}else if(F+=p-C,C<z){z-=C;do K[o++]=x[F++];while(--C);F=o-$,V=K}for(;z>2;)K[o++]=V[F++],K[o++]=V[F++],K[o++]=V[F++],z-=3;z&&(K[o++]=V[F++],z>1&&(K[o++]=V[F++]))}else{F=o-$;do K[o++]=K[F++],K[o++]=K[F++],K[o++]=K[F++],z-=3;while(z>2);z&&(K[o++]=K[F++],z>1&&(K[o++]=K[F++]))}}else if(C&64){r.msg="invalid distance code",T.mode=dx;break e}else{j=v[(j&65535)+(g&(1<<C)-1)];continue r}break}}else if(C&64)if(C&32){T.mode=xpe;break e}else{r.msg="invalid literal/length code",T.mode=dx;break e}else{j=w[(j&65535)+(g&(1<<C)-1)];continue t}break}}while(a<s&&o<c);z=y>>3,a-=z,y-=z<<3,g&=(1<<y)-1,r.next_in=a,r.next_out=o,r.avail_in=a<s?5+(s-a):5-(a-s),r.avail_out=o<c?257+(c-o):257-(o-c),T.hold=g,T.bits=y};const Sf=15,UE=852,qE=592,HE=0,k2=1,VE=2,ype=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),bpe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),wpe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),jpe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Npe=(e,r,n,a,s,o,l,c)=>{const u=c.bits;let d=0,f=0,p=0,x=0,g=0,y=0,w=0,v=0,S=0,k=0,j,C,z,$,F,V=null,B;const K=new Uint16Array(Sf+1),T=new Uint16Array(Sf+1);let M=null,I,q,H;for(d=0;d<=Sf;d++)K[d]=0;for(f=0;f<a;f++)K[r[n+f]]++;for(g=u,x=Sf;x>=1&&K[x]===0;x--);if(g>x&&(g=x),x===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,c.bits=1,0;for(p=1;p<x&&K[p]===0;p++);for(g<p&&(g=p),v=1,d=1;d<=Sf;d++)if(v<<=1,v-=K[d],v<0)return-1;if(v>0&&(e===HE||x!==1))return-1;for(T[1]=0,d=1;d<Sf;d++)T[d+1]=T[d]+K[d];for(f=0;f<a;f++)r[n+f]!==0&&(l[T[r[n+f]]++]=f);if(e===HE?(V=M=l,B=20):e===k2?(V=ype,M=bpe,B=257):(V=wpe,M=jpe,B=0),k=0,f=0,d=p,F=o,y=g,w=0,z=-1,S=1<<g,$=S-1,e===k2&&S>UE||e===VE&&S>qE)return 1;for(;;){I=d-w,l[f]+1<B?(q=0,H=l[f]):l[f]>=B?(q=M[l[f]-B],H=V[l[f]-B]):(q=96,H=0),j=1<<d-w,C=1<<y,p=C;do C-=j,s[F+(k>>w)+C]=I<<24|q<<16|H|0;while(C!==0);for(j=1<<d-1;k&j;)j>>=1;if(j!==0?(k&=j-1,k+=j):k=0,f++,--K[d]===0){if(d===x)break;d=r[n+l[f]]}if(d>g&&(k&$)!==z){for(w===0&&(w=g),F+=p,y=d-w,v=1<<y;y+w<x&&(v-=K[y+w],!(v<=0));)y++,v<<=1;if(S+=1<<y,e===k2&&S>UE||e===VE&&S>qE)return 1;z=k&$,s[z]=g<<24|y<<16|F-o|0}}return k!==0&&(s[F+k]=d-w<<24|64<<16|0),c.bits=g,0};var Bp=Npe;const _pe=0,X7=1,J7=2,{Z_FINISH:WE,Z_BLOCK:Spe,Z_TREES:hx,Z_OK:Fh,Z_STREAM_END:kpe,Z_NEED_DICT:Cpe,Z_STREAM_ERROR:Zo,Z_DATA_ERROR:Z7,Z_MEM_ERROR:Q7,Z_BUF_ERROR:Ppe,Z_DEFLATED:KE}=K7,vb=16180,GE=16181,YE=16182,XE=16183,JE=16184,ZE=16185,QE=16186,eA=16187,tA=16188,rA=16189,ny=16190,Yc=16191,C2=16192,nA=16193,P2=16194,aA=16195,iA=16196,sA=16197,oA=16198,fx=16199,mx=16200,lA=16201,cA=16202,uA=16203,dA=16204,hA=16205,E2=16206,fA=16207,mA=16208,ra=16209,e9=16210,t9=16211,Epe=852,Ape=592,Dpe=15,Lpe=Dpe,pA=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Ope(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Hh=e=>{if(!e)return 1;const r=e.state;return!r||r.strm!==e||r.mode<vb||r.mode>t9?1:0},r9=e=>{if(Hh(e))return Zo;const r=e.state;return e.total_in=e.total_out=r.total=0,e.msg="",r.wrap&&(e.adler=r.wrap&1),r.mode=vb,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(Epe),r.distcode=r.distdyn=new Int32Array(Ape),r.sane=1,r.back=-1,Fh},n9=e=>{if(Hh(e))return Zo;const r=e.state;return r.wsize=0,r.whave=0,r.wnext=0,r9(e)},a9=(e,r)=>{let n;if(Hh(e))return Zo;const a=e.state;return r<0?(n=0,r=-r):(n=(r>>4)+5,r<48&&(r&=15)),r&&(r<8||r>15)?Zo:(a.window!==null&&a.wbits!==r&&(a.window=null),a.wrap=n,a.wbits=r,n9(e))},i9=(e,r)=>{if(!e)return Zo;const n=new Ope;e.state=n,n.strm=e,n.window=null,n.mode=vb;const a=a9(e,r);return a!==Fh&&(e.state=null),a},Tpe=e=>i9(e,Lpe);let gA=!0,A2,D2;const Mpe=e=>{if(gA){A2=new Int32Array(512),D2=new Int32Array(32);let r=0;for(;r<144;)e.lens[r++]=8;for(;r<256;)e.lens[r++]=9;for(;r<280;)e.lens[r++]=7;for(;r<288;)e.lens[r++]=8;for(Bp(X7,e.lens,0,288,A2,0,e.work,{bits:9}),r=0;r<32;)e.lens[r++]=5;Bp(J7,e.lens,0,32,D2,0,e.work,{bits:5}),gA=!1}e.lencode=A2,e.lenbits=9,e.distcode=D2,e.distbits=5},s9=(e,r,n,a)=>{let s;const o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),a>=o.wsize?(o.window.set(r.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>a&&(s=a),o.window.set(r.subarray(n-a,n-a+s),o.wnext),a-=s,a?(o.window.set(r.subarray(n-a,n),0),o.wnext=a,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},Ipe=(e,r)=>{let n,a,s,o,l,c,u,d,f,p,x,g,y,w,v=0,S,k,j,C,z,$,F,V;const B=new Uint8Array(4);let K,T;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Hh(e)||!e.output||!e.input&&e.avail_in!==0)return Zo;n=e.state,n.mode===Yc&&(n.mode=C2),l=e.next_out,s=e.output,u=e.avail_out,o=e.next_in,a=e.input,c=e.avail_in,d=n.hold,f=n.bits,p=c,x=u,V=Fh;e:for(;;)switch(n.mode){case vb:if(n.wrap===0){n.mode=C2;break}for(;f<16;){if(c===0)break e;c--,d+=a[o++]<<f,f+=8}if(n.wrap&2&&d===35615){n.wbits===0&&(n.wbits=15),n.check=0,B[0]=d&255,B[1]=d>>>8&255,n.check=sc(n.check,B,2,0),d=0,f=0,n.mode=GE;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",n.mode=ra;break}if((d&15)!==KE){e.msg="unknown compression method",n.mode=ra;break}if(d>>>=4,f-=4,F=(d&15)+8,n.wbits===0&&(n.wbits=F),F>15||F>n.wbits){e.msg="invalid window size",n.mode=ra;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=d&512?rA:Yc,d=0,f=0;break;case GE:for(;f<16;){if(c===0)break e;c--,d+=a[o++]<<f,f+=8}if(n.flags=d,(n.flags&255)!==KE){e.msg="unknown compression method",n.mode=ra;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=ra;break}n.head&&(n.head.text=d>>8&1),n.flags&512&&n.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,n.check=sc(n.check,B,2,0)),d=0,f=0,n.mode=YE;case YE:for(;f<32;){if(c===0)break e;c--,d+=a[o++]<<f,f+=8}n.head&&(n.head.time=d),n.flags&512&&n.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,B[2]=d>>>16&255,B[3]=d>>>24&255,n.check=sc(n.check,B,4,0)),d=0,f=0,n.mode=XE;case XE:for(;f<16;){if(c===0)break e;c--,d+=a[o++]<<f,f+=8}n.head&&(n.head.xflags=d&255,n.head.os=d>>8),n.flags&512&&n.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,n.check=sc(n.check,B,2,0)),d=0,f=0,n.mode=JE;case JE:if(n.flags&1024){for(;f<16;){if(c===0)break e;c--,d+=a[o++]<<f,f+=8}n.length=d,n.head&&(n.head.extra_len=d),n.flags&512&&n.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,n.check=sc(n.check,B,2,0)),d=0,f=0}else n.head&&(n.head.extra=null);n.mode=ZE;case ZE:if(n.flags&1024&&(g=n.length,g>c&&(g=c),g&&(n.head&&(F=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(a.subarray(o,o+g),F)),n.flags&512&&n.wrap&4&&(n.check=sc(n.check,a,g,o)),c-=g,o+=g,n.length-=g),n.length))break e;n.length=0,n.mode=QE;case QE:if(n.flags&2048){if(c===0)break e;g=0;do F=a[o+g++],n.head&&F&&n.length<65536&&(n.head.name+=String.fromCharCode(F));while(F&&g<c);if(n.flags&512&&n.wrap&4&&(n.check=sc(n.check,a,g,o)),c-=g,o+=g,F)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=eA;case eA:if(n.flags&4096){if(c===0)break e;g=0;do F=a[o+g++],n.head&&F&&n.length<65536&&(n.head.comment+=String.fromCharCode(F));while(F&&g<c);if(n.flags&512&&n.wrap&4&&(n.check=sc(n.check,a,g,o)),c-=g,o+=g,F)break e}else n.head&&(n.head.comment=null);n.mode=tA;case tA:if(n.flags&512){for(;f<16;){if(c===0)break e;c--,d+=a[o++]<<f,f+=8}if(n.wrap&4&&d!==(n.check&65535)){e.msg="header crc mismatch",n.mode=ra;break}d=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Yc;break;case rA:for(;f<32;){if(c===0)break e;c--,d+=a[o++]<<f,f+=8}e.adler=n.check=pA(d),d=0,f=0,n.mode=ny;case ny:if(n.havedict===0)return e.next_out=l,e.avail_out=u,e.next_in=o,e.avail_in=c,n.hold=d,n.bits=f,Cpe;e.adler=n.check=1,n.mode=Yc;case Yc:if(r===Spe||r===hx)break e;case C2:if(n.last){d>>>=f&7,f-=f&7,n.mode=E2;break}for(;f<3;){if(c===0)break e;c--,d+=a[o++]<<f,f+=8}switch(n.last=d&1,d>>>=1,f-=1,d&3){case 0:n.mode=nA;break;case 1:if(Mpe(n),n.mode=fx,r===hx){d>>>=2,f-=2;break e}break;case 2:n.mode=iA;break;case 3:e.msg="invalid block type",n.mode=ra}d>>>=2,f-=2;break;case nA:for(d>>>=f&7,f-=f&7;f<32;){if(c===0)break e;c--,d+=a[o++]<<f,f+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",n.mode=ra;break}if(n.length=d&65535,d=0,f=0,n.mode=P2,r===hx)break e;case P2:n.mode=aA;case aA:if(g=n.length,g){if(g>c&&(g=c),g>u&&(g=u),g===0)break e;s.set(a.subarray(o,o+g),l),c-=g,o+=g,u-=g,l+=g,n.length-=g;break}n.mode=Yc;break;case iA:for(;f<14;){if(c===0)break e;c--,d+=a[o++]<<f,f+=8}if(n.nlen=(d&31)+257,d>>>=5,f-=5,n.ndist=(d&31)+1,d>>>=5,f-=5,n.ncode=(d&15)+4,d>>>=4,f-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=ra;break}n.have=0,n.mode=sA;case sA:for(;n.have<n.ncode;){for(;f<3;){if(c===0)break e;c--,d+=a[o++]<<f,f+=8}n.lens[M[n.have++]]=d&7,d>>>=3,f-=3}for(;n.have<19;)n.lens[M[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,K={bits:n.lenbits},V=Bp(_pe,n.lens,0,19,n.lencode,0,n.work,K),n.lenbits=K.bits,V){e.msg="invalid code lengths set",n.mode=ra;break}n.have=0,n.mode=oA;case oA:for(;n.have<n.nlen+n.ndist;){for(;v=n.lencode[d&(1<<n.lenbits)-1],S=v>>>24,k=v>>>16&255,j=v&65535,!(S<=f);){if(c===0)break e;c--,d+=a[o++]<<f,f+=8}if(j<16)d>>>=S,f-=S,n.lens[n.have++]=j;else{if(j===16){for(T=S+2;f<T;){if(c===0)break e;c--,d+=a[o++]<<f,f+=8}if(d>>>=S,f-=S,n.have===0){e.msg="invalid bit length repeat",n.mode=ra;break}F=n.lens[n.have-1],g=3+(d&3),d>>>=2,f-=2}else if(j===17){for(T=S+3;f<T;){if(c===0)break e;c--,d+=a[o++]<<f,f+=8}d>>>=S,f-=S,F=0,g=3+(d&7),d>>>=3,f-=3}else{for(T=S+7;f<T;){if(c===0)break e;c--,d+=a[o++]<<f,f+=8}d>>>=S,f-=S,F=0,g=11+(d&127),d>>>=7,f-=7}if(n.have+g>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=ra;break}for(;g--;)n.lens[n.have++]=F}}if(n.mode===ra)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=ra;break}if(n.lenbits=9,K={bits:n.lenbits},V=Bp(X7,n.lens,0,n.nlen,n.lencode,0,n.work,K),n.lenbits=K.bits,V){e.msg="invalid literal/lengths set",n.mode=ra;break}if(n.distbits=6,n.distcode=n.distdyn,K={bits:n.distbits},V=Bp(J7,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,K),n.distbits=K.bits,V){e.msg="invalid distances set",n.mode=ra;break}if(n.mode=fx,r===hx)break e;case fx:n.mode=mx;case mx:if(c>=6&&u>=258){e.next_out=l,e.avail_out=u,e.next_in=o,e.avail_in=c,n.hold=d,n.bits=f,vpe(e,x),l=e.next_out,s=e.output,u=e.avail_out,o=e.next_in,a=e.input,c=e.avail_in,d=n.hold,f=n.bits,n.mode===Yc&&(n.back=-1);break}for(n.back=0;v=n.lencode[d&(1<<n.lenbits)-1],S=v>>>24,k=v>>>16&255,j=v&65535,!(S<=f);){if(c===0)break e;c--,d+=a[o++]<<f,f+=8}if(k&&!(k&240)){for(C=S,z=k,$=j;v=n.lencode[$+((d&(1<<C+z)-1)>>C)],S=v>>>24,k=v>>>16&255,j=v&65535,!(C+S<=f);){if(c===0)break e;c--,d+=a[o++]<<f,f+=8}d>>>=C,f-=C,n.back+=C}if(d>>>=S,f-=S,n.back+=S,n.length=j,k===0){n.mode=hA;break}if(k&32){n.back=-1,n.mode=Yc;break}if(k&64){e.msg="invalid literal/length code",n.mode=ra;break}n.extra=k&15,n.mode=lA;case lA:if(n.extra){for(T=n.extra;f<T;){if(c===0)break e;c--,d+=a[o++]<<f,f+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=cA;case cA:for(;v=n.distcode[d&(1<<n.distbits)-1],S=v>>>24,k=v>>>16&255,j=v&65535,!(S<=f);){if(c===0)break e;c--,d+=a[o++]<<f,f+=8}if(!(k&240)){for(C=S,z=k,$=j;v=n.distcode[$+((d&(1<<C+z)-1)>>C)],S=v>>>24,k=v>>>16&255,j=v&65535,!(C+S<=f);){if(c===0)break e;c--,d+=a[o++]<<f,f+=8}d>>>=C,f-=C,n.back+=C}if(d>>>=S,f-=S,n.back+=S,k&64){e.msg="invalid distance code",n.mode=ra;break}n.offset=j,n.extra=k&15,n.mode=uA;case uA:if(n.extra){for(T=n.extra;f<T;){if(c===0)break e;c--,d+=a[o++]<<f,f+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=ra;break}n.mode=dA;case dA:if(u===0)break e;if(g=x-u,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=ra;break}g>n.wnext?(g-=n.wnext,y=n.wsize-g):y=n.wnext-g,g>n.length&&(g=n.length),w=n.window}else w=s,y=l-n.offset,g=n.length;g>u&&(g=u),u-=g,n.length-=g;do s[l++]=w[y++];while(--g);n.length===0&&(n.mode=mx);break;case hA:if(u===0)break e;s[l++]=n.length,u--,n.mode=mx;break;case E2:if(n.wrap){for(;f<32;){if(c===0)break e;c--,d|=a[o++]<<f,f+=8}if(x-=u,e.total_out+=x,n.total+=x,n.wrap&4&&x&&(e.adler=n.check=n.flags?sc(n.check,s,x,l-x):Lj(n.check,s,x,l-x)),x=u,n.wrap&4&&(n.flags?d:pA(d))!==n.check){e.msg="incorrect data check",n.mode=ra;break}d=0,f=0}n.mode=fA;case fA:if(n.wrap&&n.flags){for(;f<32;){if(c===0)break e;c--,d+=a[o++]<<f,f+=8}if(n.wrap&4&&d!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=ra;break}d=0,f=0}n.mode=mA;case mA:V=kpe;break e;case ra:V=Z7;break e;case e9:return Q7;case t9:default:return Zo}return e.next_out=l,e.avail_out=u,e.next_in=o,e.avail_in=c,n.hold=d,n.bits=f,(n.wsize||x!==e.avail_out&&n.mode<ra&&(n.mode<E2||r!==WE))&&s9(e,e.output,e.next_out,x-e.avail_out),p-=e.avail_in,x-=e.avail_out,e.total_in+=p,e.total_out+=x,n.total+=x,n.wrap&4&&x&&(e.adler=n.check=n.flags?sc(n.check,s,x,e.next_out-x):Lj(n.check,s,x,e.next_out-x)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Yc?128:0)+(n.mode===fx||n.mode===P2?256:0),(p===0&&x===0||r===WE)&&V===Fh&&(V=Ppe),V},Rpe=e=>{if(Hh(e))return Zo;let r=e.state;return r.window&&(r.window=null),e.state=null,Fh},zpe=(e,r)=>{if(Hh(e))return Zo;const n=e.state;return n.wrap&2?(n.head=r,r.done=!1,Fh):Zo},Fpe=(e,r)=>{const n=r.length;let a,s,o;return Hh(e)||(a=e.state,a.wrap!==0&&a.mode!==ny)?Zo:a.mode===ny&&(s=1,s=Lj(s,r,n,0),s!==a.check)?Z7:(o=s9(e,r,n,n),o?(a.mode=e9,Q7):(a.havedict=1,Fh))};var $pe=n9,Bpe=a9,Upe=r9,qpe=Tpe,Hpe=i9,Vpe=Ipe,Wpe=Rpe,Kpe=zpe,Gpe=Fpe,Ype="pako inflate (from Nodeca project)",Jc={inflateReset:$pe,inflateReset2:Bpe,inflateResetKeep:Upe,inflateInit:qpe,inflateInit2:Hpe,inflate:Vpe,inflateEnd:Wpe,inflateGetHeader:Kpe,inflateSetDictionary:Gpe,inflateInfo:Ype};function Xpe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Jpe=Xpe;const o9=Object.prototype.toString,{Z_NO_FLUSH:Zpe,Z_FINISH:Qpe,Z_OK:x0,Z_STREAM_END:L2,Z_NEED_DICT:O2,Z_STREAM_ERROR:e0e,Z_DATA_ERROR:xA,Z_MEM_ERROR:t0e}=K7;function G0(e){this.options=G7.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(e&&e.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15||(r.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new gpe,this.strm.avail_out=0;let n=Jc.inflateInit2(this.strm,r.windowBits);if(n!==x0)throw new Error(Oj[n]);if(this.header=new Jpe,Jc.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=Tj.string2buf(r.dictionary):o9.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(n=Jc.inflateSetDictionary(this.strm,r.dictionary),n!==x0)))throw new Error(Oj[n])}G0.prototype.push=function(e,r){const n=this.strm,a=this.options.chunkSize,s=this.options.dictionary;let o,l,c;if(this.ended)return!1;for(r===~~r?l=r:l=r===!0?Qpe:Zpe,o9.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(a),n.next_out=0,n.avail_out=a),o=Jc.inflate(n,l),o===O2&&s&&(o=Jc.inflateSetDictionary(n,s),o===x0?o=Jc.inflate(n,l):o===xA&&(o=O2));n.avail_in>0&&o===L2&&n.state.wrap>0&&e[n.next_in]!==0;)Jc.inflateReset(n),o=Jc.inflate(n,l);switch(o){case e0e:case xA:case O2:case t0e:return this.onEnd(o),this.ended=!0,!1}if(c=n.avail_out,n.next_out&&(n.avail_out===0||o===L2))if(this.options.to==="string"){let u=Tj.utf8border(n.output,n.next_out),d=n.next_out-u,f=Tj.buf2string(n.output,u);n.next_out=d,n.avail_out=a-d,d&&n.output.set(n.output.subarray(u,u+d),0),this.onData(f)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===x0&&c===0)){if(o===L2)return o=Jc.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};G0.prototype.onData=function(e){this.chunks.push(e)};G0.prototype.onEnd=function(e){e===x0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=G7.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function r0e(e,r){const n=new G0(r);if(n.push(e),n.err)throw n.msg||Oj[n.err];return n.result}var n0e=G0,a0e=r0e,i0e={Inflate:n0e,inflate:a0e};const{Inflate:s0e,inflate:o0e}=i0e;var vA=s0e,l0e=o0e;const l9=[];for(let e=0;e<256;e++){let r=e;for(let n=0;n<8;n++)r&1?r=3988292384^r>>>1:r=r>>>1;l9[e]=r}const yA=4294967295;function c0e(e,r,n){let a=e;for(let s=0;s<n;s++)a=l9[(a^r[s])&255]^a>>>8;return a}function u0e(e,r){return(c0e(yA,e,r)^yA)>>>0}function bA(e,r,n){const a=e.readUint32(),s=u0e(new Uint8Array(e.buffer,e.byteOffset+e.offset-r-4,r),r);if(s!==a)throw new Error(`CRC mismatch for chunk ${n}. Expected ${a}, found ${s}`)}function c9(e,r,n){for(let a=0;a<n;a++)r[a]=e[a]}function u9(e,r,n,a){let s=0;for(;s<a;s++)r[s]=e[s];for(;s<n;s++)r[s]=e[s]+r[s-a]&255}function d9(e,r,n,a){let s=0;if(n.length===0)for(;s<a;s++)r[s]=e[s];else for(;s<a;s++)r[s]=e[s]+n[s]&255}function h9(e,r,n,a,s){let o=0;if(n.length===0){for(;o<s;o++)r[o]=e[o];for(;o<a;o++)r[o]=e[o]+(r[o-s]>>1)&255}else{for(;o<s;o++)r[o]=e[o]+(n[o]>>1)&255;for(;o<a;o++)r[o]=e[o]+(r[o-s]+n[o]>>1)&255}}function f9(e,r,n,a,s){let o=0;if(n.length===0){for(;o<s;o++)r[o]=e[o];for(;o<a;o++)r[o]=e[o]+r[o-s]&255}else{for(;o<s;o++)r[o]=e[o]+n[o]&255;for(;o<a;o++)r[o]=e[o]+d0e(r[o-s],n[o],n[o-s])&255}}function d0e(e,r,n){const a=e+r-n,s=Math.abs(a-e),o=Math.abs(a-r),l=Math.abs(a-n);return s<=o&&s<=l?e:o<=l?r:n}function h0e(e,r,n,a,s,o){switch(e){case 0:c9(r,n,s);break;case 1:u9(r,n,s,o);break;case 2:d9(r,n,a,s);break;case 3:h9(r,n,a,s,o);break;case 4:f9(r,n,a,s,o);break;default:throw new Error(`Unsupported filter: ${e}`)}}const f0e=new Uint16Array([255]),m0e=new Uint8Array(f0e.buffer),p0e=m0e[0]===255;function g0e(e){const{data:r,width:n,height:a,channels:s,depth:o}=e,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*s,u=new Uint8Array(a*n*c);let d=0;for(let f=0;f<7;f++){const p=l[f],x=Math.ceil((n-p.x)/p.xStep),g=Math.ceil((a-p.y)/p.yStep);if(x<=0||g<=0)continue;const y=x*c,w=new Uint8Array(y);for(let v=0;v<g;v++){const S=r[d++],k=r.subarray(d,d+y);d+=y;const j=new Uint8Array(y);h0e(S,k,j,w,y,c),w.set(j);for(let C=0;C<x;C++){const z=p.x+C*p.xStep,$=p.y+v*p.yStep;if(!(z>=n||$>=a))for(let F=0;F<c;F++)u[($*n+z)*c+F]=j[C*c+F]}}}if(o===16){const f=new Uint16Array(u.buffer);if(p0e)for(let p=0;p<f.length;p++)f[p]=x0e(f[p]);return f}else return u}function x0e(e){return(e&255)<<8|e>>8&255}const v0e=new Uint16Array([255]),y0e=new Uint8Array(v0e.buffer),b0e=y0e[0]===255,w0e=new Uint8Array(0);function wA(e){const{data:r,width:n,height:a,channels:s,depth:o}=e,l=Math.ceil(o/8)*s,c=Math.ceil(o/8*s*n),u=new Uint8Array(a*c);let d=w0e,f=0,p,x;for(let g=0;g<a;g++){switch(p=r.subarray(f+1,f+1+c),x=u.subarray(g*c,(g+1)*c),r[f]){case 0:c9(p,x,c);break;case 1:u9(p,x,c,l);break;case 2:d9(p,x,d,c);break;case 3:h9(p,x,d,c,l);break;case 4:f9(p,x,d,c,l);break;default:throw new Error(`Unsupported filter: ${r[f]}`)}d=x,f+=c+1}if(o===16){const g=new Uint16Array(u.buffer);if(b0e)for(let y=0;y<g.length;y++)g[y]=j0e(g[y]);return g}else return u}function j0e(e){return(e&255)<<8|e>>8&255}const Tx=Uint8Array.of(137,80,78,71,13,10,26,10);function jA(e){if(!N0e(e.readBytes(Tx.length)))throw new Error("wrong PNG signature")}function N0e(e){if(e.length<Tx.length)return!1;for(let r=0;r<Tx.length;r++)if(e[r]!==Tx[r])return!1;return!0}const _0e="tEXt",S0e=0,m9=new TextDecoder("latin1");function k0e(e){if(P0e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const C0e=/^[\u0000-\u00FF]*$/;function P0e(e){if(!C0e.test(e))throw new Error("invalid latin1 text")}function E0e(e,r,n){const a=p9(r);e[a]=A0e(r,n-a.length-1)}function p9(e){for(e.mark();e.readByte()!==S0e;);const r=e.offset;e.reset();const n=m9.decode(e.readBytes(r-e.offset-1));return e.skip(1),k0e(n),n}function A0e(e,r){return m9.decode(e.readBytes(r))}const lo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},T2={UNKNOWN:-1,DEFLATE:0},NA={UNKNOWN:-1,ADAPTIVE:0},M2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},px={NONE:0,BACKGROUND:1,PREVIOUS:2},I2={SOURCE:0,OVER:1};class D0e extends p_{constructor(n,a={}){super(n);dn(this,"_checkCrc");dn(this,"_inflator");dn(this,"_png");dn(this,"_apng");dn(this,"_end");dn(this,"_hasPalette");dn(this,"_palette");dn(this,"_hasTransparency");dn(this,"_transparency");dn(this,"_compressionMethod");dn(this,"_filterMethod");dn(this,"_interlaceMethod");dn(this,"_colorType");dn(this,"_isAnimated");dn(this,"_numberOfFrames");dn(this,"_numberOfPlays");dn(this,"_frames");dn(this,"_writingDataChunks");const{checkCrc:s=!1}=a;this._checkCrc=s,this._inflator=new vA,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=T2.UNKNOWN,this._filterMethod=NA.UNKNOWN,this._interlaceMethod=M2.UNKNOWN,this._colorType=lo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(jA(this);!this._end;){const n=this.readUint32(),a=this.readChars(4);this.decodeChunk(n,a)}return this.decodeImage(),this._png}decodeApng(){for(jA(this);!this._end;){const n=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(n,a)}return this.decodeApngImage(),this._apng}decodeChunk(n,a){const s=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case _0e:E0e(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?bA(this,n+4,a):this.skip(4)}decodeApngChunk(n,a){const s=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,a),this.offset=s+n;break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?bA(this,n+4,a):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=L0e(this.readUint8());const a=this.readUint8();this._colorType=a;let s;switch(a){case lo.GREYSCALE:s=1;break;case lo.TRUECOLOUR:s=3;break;case lo.INDEXED_COLOUR:s=1;break;case lo.GREYSCALE_ALPHA:s=2;break;case lo.TRUECOLOUR_ALPHA:s=4;break;case lo.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==T2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const a=n/3;this._hasPalette=!0;const s=[];this._palette=s;for(let o=0;o<a;o++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const a=n,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let a=n,s=this.offset+this.byteOffset;if(s+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case lo.GREYSCALE:case lo.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let a=0;a<n/2;a++)this._transparency[a]=this.readUint16();break}case lo.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let a=0;for(;a<n;a++){const s=this.readByte();this._palette[a].push(s)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case lo.UNKNOWN:case lo.GREYSCALE_ALPHA:case lo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const a=p9(this),s=this.readUint8();if(s!==T2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const o=this.readBytes(n-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:l0e(o)}}decodepHYs(){const n=this.readUint32(),a=this.readUint32(),s=this.readByte();this._png.resolution={x:n,y:a,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const a={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(n);if(s){if(s.data=wA({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)a.data=s.data;else{const o=this._apng.frames.at(n-1);this.disposeFrame(s,o,a),this.addFrameDataToCanvas(a,s)}this._apng.frames.push(a)}}return this._apng}disposeFrame(n,a,s){switch(n.disposeOp){case px.NONE:break;case px.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let l=0;l<this._png.width;l++){const c=(o*n.width+l)*this._png.channels;for(let u=0;u<this._png.channels;u++)s.data[c+u]=0}break;case px.PREVIOUS:s.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,a){const s=1<<this._png.depth,o=(l,c)=>{const u=((l+a.yOffset)*this._png.width+a.xOffset+c)*this._png.channels,d=(l*a.width+c)*this._png.channels;return{index:u,frameIndex:d}};switch(a.blendOp){case I2.SOURCE:for(let l=0;l<a.height;l++)for(let c=0;c<a.width;c++){const{index:u,frameIndex:d}=o(l,c);for(let f=0;f<this._png.channels;f++)n.data[u+f]=a.data[d+f]}break;case I2.OVER:for(let l=0;l<a.height;l++)for(let c=0;c<a.width;c++){const{index:u,frameIndex:d}=o(l,c);for(let f=0;f<this._png.channels;f++){const p=a.data[d+this._png.channels-1]/s,x=f%(this._png.channels-1)===0?1:a.data[d+f],g=Math.floor(p*x+(1-p)*n.data[u+f]);n.data[u+f]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var a;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((a=this._frames)==null?void 0:a.at(0)).data:this._inflator.result;if(this._filterMethod!==NA.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===M2.NO_INTERLACE)this._png.data=wA({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===M2.ADAM7)this._png.data=g0e({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,a=this._frames.at(-1);a?a.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:px.NONE,blendOp:I2.SOURCE,data:n}),this._inflator=new vA,this._writingDataChunks=!1}}function L0e(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var _A;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(_A||(_A={}));function O0e(e,r){return new D0e(e,r).decode()}var Or=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function R2(){Or.console&&typeof Or.console.log=="function"&&Or.console.log.apply(Or.console,arguments)}var Ln={log:R2,warn:function(e){Or.console&&(typeof Or.console.warn=="function"?Or.console.warn.apply(Or.console,arguments):R2.call(null,arguments))},error:function(e){Or.console&&(typeof Or.console.error=="function"?Or.console.error.apply(Or.console,arguments):R2(e))}};function z2(e,r,n){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){ch(a.response,r,n)},a.onerror=function(){Ln.error("could not download file")},a.send()}function SA(e){var r=new XMLHttpRequest;r.open("HEAD",e,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function gx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(r)}}var ch=Or.saveAs||((typeof window>"u"?"undefined":Nn(window))!=="object"||window!==Or?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,r,n){var a=Or.URL||Or.webkitURL,s=document.createElement("a");r=r||e.name||"download",s.download=r,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?SA(s.href)?z2(e,r,n):gx(s,s.target="_blank"):gx(s)):(s.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(s.href)},4e4),setTimeout(function(){gx(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,r,n){if(r=r||e.name||"download",typeof e=="string")if(SA(e))z2(e,r,n);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){gx(a)})}else navigator.msSaveOrOpenBlob(function(s,o){return o===void 0?o={autoBom:!1}:Nn(o)!=="object"&&(Ln.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,n),r)}:function(e,r,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return z2(e,r,n);var s=e.type==="application/octet-stream",o=/constructor/i.test(Or.HTMLElement)||Or.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&o)&&(typeof FileReader>"u"?"undefined":Nn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var f=c.result;f=l?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=f:location=f,a=null},c.readAsDataURL(e)}else{var u=Or.URL||Or.webkitURL,d=u.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function g9(e){var r;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],a=0;a<n.length;a++){var s=n[a].re,o=n[a].process,l=s.exec(e);l&&(r=o(l),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+c+u+d}}var Mx=Or.atob.bind(Or),kA=Or.btoa.bind(Or);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function F2(e,r){var n=e[0],a=e[1],s=e[2],o=e[3];n=Qi(n,a,s,o,r[0],7,-680876936),o=Qi(o,n,a,s,r[1],12,-389564586),s=Qi(s,o,n,a,r[2],17,606105819),a=Qi(a,s,o,n,r[3],22,-1044525330),n=Qi(n,a,s,o,r[4],7,-176418897),o=Qi(o,n,a,s,r[5],12,1200080426),s=Qi(s,o,n,a,r[6],17,-1473231341),a=Qi(a,s,o,n,r[7],22,-45705983),n=Qi(n,a,s,o,r[8],7,1770035416),o=Qi(o,n,a,s,r[9],12,-1958414417),s=Qi(s,o,n,a,r[10],17,-42063),a=Qi(a,s,o,n,r[11],22,-1990404162),n=Qi(n,a,s,o,r[12],7,1804603682),o=Qi(o,n,a,s,r[13],12,-40341101),s=Qi(s,o,n,a,r[14],17,-1502002290),n=es(n,a=Qi(a,s,o,n,r[15],22,1236535329),s,o,r[1],5,-165796510),o=es(o,n,a,s,r[6],9,-1069501632),s=es(s,o,n,a,r[11],14,643717713),a=es(a,s,o,n,r[0],20,-373897302),n=es(n,a,s,o,r[5],5,-701558691),o=es(o,n,a,s,r[10],9,38016083),s=es(s,o,n,a,r[15],14,-660478335),a=es(a,s,o,n,r[4],20,-405537848),n=es(n,a,s,o,r[9],5,568446438),o=es(o,n,a,s,r[14],9,-1019803690),s=es(s,o,n,a,r[3],14,-187363961),a=es(a,s,o,n,r[8],20,1163531501),n=es(n,a,s,o,r[13],5,-1444681467),o=es(o,n,a,s,r[2],9,-51403784),s=es(s,o,n,a,r[7],14,1735328473),n=ts(n,a=es(a,s,o,n,r[12],20,-1926607734),s,o,r[5],4,-378558),o=ts(o,n,a,s,r[8],11,-2022574463),s=ts(s,o,n,a,r[11],16,1839030562),a=ts(a,s,o,n,r[14],23,-35309556),n=ts(n,a,s,o,r[1],4,-1530992060),o=ts(o,n,a,s,r[4],11,1272893353),s=ts(s,o,n,a,r[7],16,-155497632),a=ts(a,s,o,n,r[10],23,-1094730640),n=ts(n,a,s,o,r[13],4,681279174),o=ts(o,n,a,s,r[0],11,-358537222),s=ts(s,o,n,a,r[3],16,-722521979),a=ts(a,s,o,n,r[6],23,76029189),n=ts(n,a,s,o,r[9],4,-640364487),o=ts(o,n,a,s,r[12],11,-421815835),s=ts(s,o,n,a,r[15],16,530742520),n=rs(n,a=ts(a,s,o,n,r[2],23,-995338651),s,o,r[0],6,-198630844),o=rs(o,n,a,s,r[7],10,1126891415),s=rs(s,o,n,a,r[14],15,-1416354905),a=rs(a,s,o,n,r[5],21,-57434055),n=rs(n,a,s,o,r[12],6,1700485571),o=rs(o,n,a,s,r[3],10,-1894986606),s=rs(s,o,n,a,r[10],15,-1051523),a=rs(a,s,o,n,r[1],21,-2054922799),n=rs(n,a,s,o,r[8],6,1873313359),o=rs(o,n,a,s,r[15],10,-30611744),s=rs(s,o,n,a,r[6],15,-1560198380),a=rs(a,s,o,n,r[13],21,1309151649),n=rs(n,a,s,o,r[4],6,-145523070),o=rs(o,n,a,s,r[11],10,-1120210379),s=rs(s,o,n,a,r[2],15,718787259),a=rs(a,s,o,n,r[9],21,-343485551),e[0]=pd(n,e[0]),e[1]=pd(a,e[1]),e[2]=pd(s,e[2]),e[3]=pd(o,e[3])}function yb(e,r,n,a,s,o){return r=pd(pd(r,e),pd(a,o)),pd(r<<s|r>>>32-s,n)}function Qi(e,r,n,a,s,o,l){return yb(r&n|~r&a,e,r,s,o,l)}function es(e,r,n,a,s,o,l){return yb(r&a|n&~a,e,r,s,o,l)}function ts(e,r,n,a,s,o,l){return yb(r^n^a,e,r,s,o,l)}function rs(e,r,n,a,s,o,l){return yb(n^(r|~a),e,r,s,o,l)}function x9(e){var r,n=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=e.length;r+=64)F2(a,T0e(e.substring(r-64,r)));e=e.substring(r-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<e.length;r++)s[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(s[r>>2]|=128<<(r%4<<3),r>55)for(F2(a,s),r=0;r<16;r++)s[r]=0;return s[14]=8*n,F2(a,s),a}function T0e(e){var r,n=[];for(r=0;r<64;r+=4)n[r>>2]=e.charCodeAt(r)+(e.charCodeAt(r+1)<<8)+(e.charCodeAt(r+2)<<16)+(e.charCodeAt(r+3)<<24);return n}var CA="0123456789abcdef".split("");function M0e(e){for(var r="",n=0;n<4;n++)r+=CA[e>>8*n+4&15]+CA[e>>8*n&15];return r}function I0e(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Mj(e){return x9(e).map(I0e).join("")}var R0e=function(e){for(var r=0;r<e.length;r++)e[r]=M0e(e[r]);return e.join("")}(x9("hello"))!="5d41402abc4b2a76b9719d911017c592";function pd(e,r){if(R0e){var n=(65535&e)+(65535&r);return(e>>16)+(r>>16)+(n>>16)<<16|65535&n}return e+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ij(e,r){var n,a,s,o;if(e!==n){for(var l=(s=e,o=1+(256/e.length|0),new Array(o+1).join(s)),c=[],u=0;u<256;u++)c[u]=u;var d=0;for(u=0;u<256;u++){var f=c[u];d=(d+f+l.charCodeAt(u))%256,c[u]=c[d],c[d]=f}n=e,a=c}else c=a;var p=r.length,x=0,g=0,y="";for(u=0;u<p;u++)g=(g+(f=c[x=(x+1)%256]))%256,c[x]=c[g],c[g]=f,l=c[(c[x]+c[g])%256],y+=String.fromCharCode(r.charCodeAt(u)^l);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var PA={print:4,modify:8,copy:16,"annot-forms":32};function Lf(e,r,n,a){this.v=1,this.r=2;var s=192;e.forEach(function(c){if(PA.perm!==void 0)throw new Error("Invalid permission: "+c);s+=PA[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(r+this.padding).substr(0,32),l=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,l),this.P=-(1+(255^s)),this.encryptionKey=Mj(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=Ij(this.encryptionKey,this.padding)}function Of(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var r="",n=e.length,a=0;a<n;a++){var s=e.charCodeAt(a);r+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[a]}return r}function EA(e){if(Nn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(n,a,s){if(s=s||!1,typeof n!="string"||typeof a!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(n)||(r[n]={});var o=Math.random().toString(35);return r[n][o]=[a,!!s],o},this.unsubscribe=function(n){for(var a in r)if(r[a][n])return delete r[a][n],Object.keys(r[a]).length===0&&delete r[a],!0;return!1},this.publish=function(n){if(r.hasOwnProperty(n)){var a=Array.prototype.slice.call(arguments,1),s=[];for(var o in r[n]){var l=r[n][o];try{l[0].apply(e,a)}catch(c){Or.console&&Ln.error("jsPDF PubSub Error",c.message,c)}l[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function ay(e){if(!(this instanceof ay))return new ay(e);var r="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&r.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function v9(e,r){this.gState=e,this.matrix=r,this.id="",this.objectNumber=-1}function fh(e,r,n,a,s){if(!(this instanceof fh))return new fh(e,r,n,a,s);this.type=e==="axial"?2:3,this.coords=r,this.colors=n,v9.call(this,a,s)}function $f(e,r,n,a,s){if(!(this instanceof $f))return new $f(e,r,n,a,s);this.boundingBox=e,this.xStep=r,this.yStep=n,this.stream="",this.cloneIndex=0,v9.call(this,a,s)}function dr(e){var r,n=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],s=arguments[2],o=arguments[3],l=[],c=1,u=16,d="S",f=null;Nn(e=e||{})==="object"&&(n=e.orientation,a=e.unit||a,s=e.format||s,o=e.compress||e.compressPdf||o,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),c=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(r=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),d=e.defaultPathOperation||"S"),l=e.filters||(o===!0?["FlateEncode"]:l),a=a||"mm",n=(""+(n||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,x={},g={internal:{},__private__:{}};g.__private__.PubSub=EA;var y="1.3",w=g.__private__.getPdfVersion=function(){return y};g.__private__.setPdfVersion=function(U){y=U};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return v};var S=g.__private__.getPageFormat=function(U){return v[U]};s=s||"a4";var k="compat",j="advanced",C=k;function z(){this.saveGraphicsState(),se(new Dt(Qe,0,0,-Qe,0,Ui()*Qe).toString()+" cm"),this.setFontSize(this.getFontSize()/Qe),d="n",C=j}function $(){this.restoreGraphicsState(),d="S",C=k}var F=g.__private__.combineFontStyleAndFontWeight=function(U,ce){if(U=="bold"&&ce=="normal"||U=="bold"&&ce==400||U=="normal"&&ce=="italic"||U=="bold"&&ce=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ce&&(U=ce==400||ce==="normal"?U==="italic"?"italic":"normal":ce!=700&&ce!=="bold"||U!=="normal"?(ce==700?"bold":ce)+""+U:"bold"),U};g.advancedAPI=function(U){var ce=C===k;return ce&&z.call(this),typeof U!="function"||(U(this),ce&&$.call(this)),this},g.compatAPI=function(U){var ce=C===j;return ce&&$.call(this),typeof U!="function"||(U(this),ce&&z.call(this)),this},g.isAdvancedAPI=function(){return C===j};var V,B=function(U){if(C!==j)throw new Error(U+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=g.roundToPrecision=g.__private__.roundToPrecision=function(U,ce){var Ne=r||ce;if(isNaN(U)||isNaN(Ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return U.toFixed(Ne).replace(/0+$/,"")};V=g.hpf=g.__private__.hpf=typeof u=="number"?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return K(U,u)}:u==="smart"?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return K(U,U>-1&&U<1?16:5)}:function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return K(U,16)};var T=g.f2=g.__private__.f2=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f2");return K(U,2)},M=g.__private__.f3=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f3");return K(U,3)},I=g.scale=g.__private__.scale=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.scale");return C===k?U*Qe:C===j?U:void 0},q=function(U){return I(function(ce){return C===k?Ui()-ce:C===j?ce:void 0}(U))};g.__private__.setPrecision=g.setPrecision=function(U){typeof parseInt(U,10)=="number"&&(r=parseInt(U,10))};var H,te="00000000000000000000000000000000",O=g.__private__.getFileId=function(){return te},re=g.__private__.setFileId=function(U){return te=U!==void 0&&/^[a-fA-F0-9]{32}$/.test(U)?U.toUpperCase():te.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(rn=new Lf(f.userPermissions,f.userPassword,f.ownerPassword,te)),te};g.setFileId=function(U){return re(U),this},g.getFileId=function(){return O()};var Y=g.__private__.convertDateToPDFDate=function(U){var ce=U.getTimezoneOffset(),Ne=ce<0?"+":"-",Le=Math.floor(Math.abs(ce/60)),qe=Math.abs(ce%60),it=[Ne,X(Le),"'",X(qe),"'"].join("");return["D:",U.getFullYear(),X(U.getMonth()+1),X(U.getDate()),X(U.getHours()),X(U.getMinutes()),X(U.getSeconds()),it].join("")},P=g.__private__.convertPDFDateToDate=function(U){var ce=parseInt(U.substr(2,4),10),Ne=parseInt(U.substr(6,2),10)-1,Le=parseInt(U.substr(8,2),10),qe=parseInt(U.substr(10,2),10),it=parseInt(U.substr(12,2),10),ct=parseInt(U.substr(14,2),10);return new Date(ce,Ne,Le,qe,it,ct,0)},L=g.__private__.setCreationDate=function(U){var ce;if(U===void 0&&(U=new Date),U instanceof Date)ce=Y(U);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(U))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ce=U}return H=ce},R=g.__private__.getCreationDate=function(U){var ce=H;return U==="jsDate"&&(ce=P(H)),ce};g.setCreationDate=function(U){return L(U),this},g.getCreationDate=function(U){return R(U)};var G,X=g.__private__.padd2=function(U){return("0"+parseInt(U)).slice(-2)},D=g.__private__.padd2Hex=function(U){return("00"+(U=U.toString())).substr(U.length)},Z=0,ae=[],le=[],Q=0,oe=[],ve=[],ue=!1,ge=le;g.__private__.setCustomOutputDestination=function(U){ue=!0,ge=U};var ie=function(U){ue||(ge=U)};g.__private__.resetCustomOutputDestination=function(){ue=!1,ge=le};var se=g.__private__.out=function(U){return U=U.toString(),Q+=U.length+1,ge.push(U),ge},_e=g.__private__.write=function(U){return se(arguments.length===1?U.toString():Array.prototype.join.call(arguments," "))},Te=g.__private__.getArrayBuffer=function(U){for(var ce=U.length,Ne=new ArrayBuffer(ce),Le=new Uint8Array(Ne);ce--;)Le[ce]=U.charCodeAt(ce);return Ne},Xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Xe};var Me=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(U){return Me=C===j?U/Qe:U,this};var Re,xe=g.__private__.getFontSize=g.getFontSize=function(){return C===k?Me:Me*Qe},Pe=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(U){return Pe=U,this},g.__private__.getR2L=g.getR2L=function(){return Pe};var be,Ae=g.__private__.setZoomMode=function(U){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(U))Re=U;else if(isNaN(U)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(U)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+U+'" is not recognized.');Re=U}else Re=parseInt(U,10)};g.__private__.getZoomMode=function(){return Re};var Ie,Ce=g.__private__.setPageMode=function(U){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(U)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+U+'" is not recognized.');be=U};g.__private__.getPageMode=function(){return be};var He=g.__private__.setLayoutMode=function(U){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(U)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+U+'" is not recognized.');Ie=U};g.__private__.getLayoutMode=function(){return Ie},g.__private__.setDisplayMode=g.setDisplayMode=function(U,ce,Ne){return Ae(U),He(ce),Ce(Ne),this};var Ve={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(U){if(Object.keys(Ve).indexOf(U)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ve[U]},g.__private__.getDocumentProperties=function(){return Ve},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(U){for(var ce in Ve)Ve.hasOwnProperty(ce)&&U[ce]&&(Ve[ce]=U[ce]);return this},g.__private__.setDocumentProperty=function(U,ce){if(Object.keys(Ve).indexOf(U)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ve[U]=ce};var at,Qe,ut,Ft,he,pt={},vt={},wt=[],gt={},xt={},rt={},It={},Bt=null,zt=0,yt=[],ht=new EA(g),ur=e.hotfixes||[],Jt={},Tr={},$r=[],Dt=function U(ce,Ne,Le,qe,it,ct){if(!(this instanceof U))return new U(ce,Ne,Le,qe,it,ct);isNaN(ce)&&(ce=1),isNaN(Ne)&&(Ne=0),isNaN(Le)&&(Le=0),isNaN(qe)&&(qe=1),isNaN(it)&&(it=0),isNaN(ct)&&(ct=0),this._matrix=[ce,Ne,Le,qe,it,ct]};Object.defineProperty(Dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(Dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(Dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(Dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(Dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(Dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(Dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(Dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(Dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(Dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(Dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(Dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(Dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Dt.prototype.join=function(U){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(V).join(U)},Dt.prototype.multiply=function(U){var ce=U.sx*this.sx+U.shy*this.shx,Ne=U.sx*this.shy+U.shy*this.sy,Le=U.shx*this.sx+U.sy*this.shx,qe=U.shx*this.shy+U.sy*this.sy,it=U.tx*this.sx+U.ty*this.shx+this.tx,ct=U.tx*this.shy+U.ty*this.sy+this.ty;return new Dt(ce,Ne,Le,qe,it,ct)},Dt.prototype.decompose=function(){var U=this.sx,ce=this.shy,Ne=this.shx,Le=this.sy,qe=this.tx,it=this.ty,ct=Math.sqrt(U*U+ce*ce),Ot=(U/=ct)*Ne+(ce/=ct)*Le;Ne-=U*Ot,Le-=ce*Ot;var Mt=Math.sqrt(Ne*Ne+Le*Le);return Ot/=Mt,U*(Le/=Mt)<ce*(Ne/=Mt)&&(U=-U,ce=-ce,Ot=-Ot,ct=-ct),{scale:new Dt(ct,0,0,Mt,0,0),translate:new Dt(1,0,0,1,qe,it),rotate:new Dt(U,ce,-ce,U,0,0),skew:new Dt(1,0,Ot,1,0,0)}},Dt.prototype.toString=function(U){return this.join(" ")},Dt.prototype.inversed=function(){var U=this.sx,ce=this.shy,Ne=this.shx,Le=this.sy,qe=this.tx,it=this.ty,ct=1/(U*Le-ce*Ne),Ot=Le*ct,Mt=-ce*ct,ar=-Ne*ct,ir=U*ct;return new Dt(Ot,Mt,ar,ir,-Ot*qe-ar*it,-Mt*qe-ir*it)},Dt.prototype.applyToPoint=function(U){var ce=U.x*this.sx+U.y*this.shx+this.tx,Ne=U.x*this.shy+U.y*this.sy+this.ty;return new cs(ce,Ne)},Dt.prototype.applyToRectangle=function(U){var ce=this.applyToPoint(U),Ne=this.applyToPoint(new cs(U.x+U.w,U.y+U.h));return new al(ce.x,ce.y,Ne.x-ce.x,Ne.y-ce.y)},Dt.prototype.clone=function(){var U=this.sx,ce=this.shy,Ne=this.shx,Le=this.sy,qe=this.tx,it=this.ty;return new Dt(U,ce,Ne,Le,qe,it)},g.Matrix=Dt;var Wr=g.matrixMult=function(U,ce){return ce.multiply(U)},Nr=new Dt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Nr;var Lt=function(U,ce){if(!xt[U]){var Ne=(ce instanceof fh?"Sh":"P")+(Object.keys(gt).length+1).toString(10);ce.id=Ne,xt[U]=Ne,gt[Ne]=ce,ht.publish("addPattern",ce)}};g.ShadingPattern=fh,g.TilingPattern=$f,g.addShadingPattern=function(U,ce){return B("addShadingPattern()"),Lt(U,ce),this},g.beginTilingPattern=function(U){B("beginTilingPattern()"),Bi(U.boundingBox[0],U.boundingBox[1],U.boundingBox[2]-U.boundingBox[0],U.boundingBox[3]-U.boundingBox[1],U.matrix)},g.endTilingPattern=function(U,ce){B("endTilingPattern()"),ce.stream=ve[G].join(`
`),Lt(U,ce),ht.publish("endTilingPattern",ce),$r.pop().restore()};var _r,gr=g.__private__.newObject=function(){var U=Sr();return hn(U,!0),U},Sr=g.__private__.newObjectDeferred=function(){return Z++,ae[Z]=function(){return Q},Z},hn=function(U,ce){return ce=typeof ce=="boolean"&&ce,ae[U]=Q,ce&&se(U+" 0 obj"),U},en=g.__private__.newAdditionalObject=function(){var U={objId:Sr(),content:""};return oe.push(U),U},pe=Sr(),Ee=Sr(),ze=g.__private__.decodeColorString=function(U){var ce=U.split(" ");if(ce.length!==2||ce[1]!=="g"&&ce[1]!=="G")ce.length!==5||ce[4]!=="k"&&ce[4]!=="K"||(ce=[(1-ce[0])*(1-ce[3]),(1-ce[1])*(1-ce[3]),(1-ce[2])*(1-ce[3]),"r"]);else{var Ne=parseFloat(ce[0]);ce=[Ne,Ne,Ne,"r"]}for(var Le="#",qe=0;qe<3;qe++)Le+=("0"+Math.floor(255*parseFloat(ce[qe])).toString(16)).slice(-2);return Le},Ke=g.__private__.encodeColorString=function(U){var ce;typeof U=="string"&&(U={ch1:U});var Ne=U.ch1,Le=U.ch2,qe=U.ch3,it=U.ch4,ct=U.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ne=="string"&&Ne.charAt(0)!=="#"){var Ot=new g9(Ne);if(Ot.ok)Ne=Ot.toHex();else if(!/^\d*\.?\d*$/.test(Ne))throw new Error('Invalid color "'+Ne+'" passed to jsPDF.encodeColorString.')}if(typeof Ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ne)&&(Ne="#"+Ne[1]+Ne[1]+Ne[2]+Ne[2]+Ne[3]+Ne[3]),typeof Ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ne)){var Mt=parseInt(Ne.substr(1),16);Ne=Mt>>16&255,Le=Mt>>8&255,qe=255&Mt}if(Le===void 0||it===void 0&&Ne===Le&&Le===qe)ce=typeof Ne=="string"?Ne+" "+ct[0]:U.precision===2?T(Ne/255)+" "+ct[0]:M(Ne/255)+" "+ct[0];else if(it===void 0||Nn(it)==="object"){if(it&&!isNaN(it.a)&&it.a===0)return["1.","1.","1.",ct[1]].join(" ");ce=typeof Ne=="string"?[Ne,Le,qe,ct[1]].join(" "):U.precision===2?[T(Ne/255),T(Le/255),T(qe/255),ct[1]].join(" "):[M(Ne/255),M(Le/255),M(qe/255),ct[1]].join(" ")}else ce=typeof Ne=="string"?[Ne,Le,qe,it,ct[2]].join(" "):U.precision===2?[T(Ne),T(Le),T(qe),T(it),ct[2]].join(" "):[M(Ne),M(Le),M(qe),M(it),ct[2]].join(" ");return ce},ft=g.__private__.getFilters=function(){return l},bt=g.__private__.putStream=function(U){var ce=(U=U||{}).data||"",Ne=U.filters||ft(),Le=U.alreadyAppliedFilters||[],qe=U.addLength1||!1,it=ce.length,ct=U.objectId,Ot=function(ja){return ja};if(f!==null&&ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Ot=rn.encryptor(ct,0));var Mt={};Ne===!0&&(Ne=["FlateEncode"]);var ar=U.additionalKeyValues||[],ir=(Mt=dr.API.processDataByFilters!==void 0?dr.API.processDataByFilters(ce,Ne):{data:ce,reverseChain:[]}).reverseChain+(Array.isArray(Le)?Le.join(" "):Le.toString());if(Mt.data.length!==0&&(ar.push({key:"Length",value:Mt.data.length}),qe===!0&&ar.push({key:"Length1",value:it})),ir.length!=0)if(ir.split("/").length-1==1)ar.push({key:"Filter",value:ir});else{ar.push({key:"Filter",value:"["+ir+"]"});for(var Pt=0;Pt<ar.length;Pt+=1)if(ar[Pt].key==="DecodeParms"){for(var er=[],Ur=0;Ur<Mt.reverseChain.split("/").length-1;Ur+=1)er.push("null");er.push(ar[Pt].value),ar[Pt].value="["+er.join(" ")+"]"}}se("<<");for(var Vr=0;Vr<ar.length;Vr++)se("/"+ar[Vr].key+" "+ar[Vr].value);se(">>"),Mt.data.length!==0&&(se("stream"),se(Ot(Mt.data)),se("endstream"))},_t=g.__private__.putPage=function(U){var ce=U.number,Ne=U.data,Le=U.objId,qe=U.contentsObjId;hn(Le,!0),se("<</Type /Page"),se("/Parent "+U.rootDictionaryObjId+" 0 R"),se("/Resources "+U.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(V(U.mediaBox.bottomLeftX))+" "+parseFloat(V(U.mediaBox.bottomLeftY))+" "+V(U.mediaBox.topRightX)+" "+V(U.mediaBox.topRightY)+"]"),U.cropBox!==null&&se("/CropBox ["+V(U.cropBox.bottomLeftX)+" "+V(U.cropBox.bottomLeftY)+" "+V(U.cropBox.topRightX)+" "+V(U.cropBox.topRightY)+"]"),U.bleedBox!==null&&se("/BleedBox ["+V(U.bleedBox.bottomLeftX)+" "+V(U.bleedBox.bottomLeftY)+" "+V(U.bleedBox.topRightX)+" "+V(U.bleedBox.topRightY)+"]"),U.trimBox!==null&&se("/TrimBox ["+V(U.trimBox.bottomLeftX)+" "+V(U.trimBox.bottomLeftY)+" "+V(U.trimBox.topRightX)+" "+V(U.trimBox.topRightY)+"]"),U.artBox!==null&&se("/ArtBox ["+V(U.artBox.bottomLeftX)+" "+V(U.artBox.bottomLeftY)+" "+V(U.artBox.topRightX)+" "+V(U.artBox.topRightY)+"]"),typeof U.userUnit=="number"&&U.userUnit!==1&&se("/UserUnit "+U.userUnit),ht.publish("putPage",{objId:Le,pageContext:yt[ce],pageNumber:ce,page:Ne}),se("/Contents "+qe+" 0 R"),se(">>"),se("endobj");var it=Ne.join(`
`);return C===j&&(it+=`
Q`),hn(qe,!0),bt({data:it,filters:ft(),objectId:qe}),se("endobj"),Le},$t=g.__private__.putPages=function(){var U,ce,Ne=[];for(U=1;U<=zt;U++)yt[U].objId=Sr(),yt[U].contentsObjId=Sr();for(U=1;U<=zt;U++)Ne.push(_t({number:U,data:ve[U],objId:yt[U].objId,contentsObjId:yt[U].contentsObjId,mediaBox:yt[U].mediaBox,cropBox:yt[U].cropBox,bleedBox:yt[U].bleedBox,trimBox:yt[U].trimBox,artBox:yt[U].artBox,userUnit:yt[U].userUnit,rootDictionaryObjId:pe,resourceDictionaryObjId:Ee}));hn(pe,!0),se("<</Type /Pages");var Le="/Kids [";for(ce=0;ce<zt;ce++)Le+=Ne[ce]+" 0 R ";se(Le+"]"),se("/Count "+zt),se(">>"),se("endobj"),ht.publish("postPutPages")},Qt=function(U){ht.publish("putFont",{font:U,out:se,newObject:gr,putStream:bt}),U.isAlreadyPutted!==!0&&(U.objectNumber=gr(),se("<<"),se("/Type /Font"),se("/BaseFont /"+Of(U.postScriptName)),se("/Subtype /Type1"),typeof U.encoding=="string"&&se("/Encoding /"+U.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},nr=function(U){U.objectNumber=gr();var ce=[];ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Form"}),ce.push({key:"BBox",value:"["+[V(U.x),V(U.y),V(U.x+U.width),V(U.y+U.height)].join(" ")+"]"}),ce.push({key:"Matrix",value:"["+U.matrix.toString()+"]"});var Ne=U.pages[1].join(`
`);bt({data:Ne,additionalKeyValues:ce,objectId:U.objectNumber}),se("endobj")},vr=function(U,ce){ce||(ce=21);var Ne=gr(),Le=function(ct,Ot){var Mt,ar=[],ir=1/(Ot-1);for(Mt=0;Mt<1;Mt+=ir)ar.push(Mt);if(ar.push(1),ct[0].offset!=0){var Pt={offset:0,color:ct[0].color};ct.unshift(Pt)}if(ct[ct.length-1].offset!=1){var er={offset:1,color:ct[ct.length-1].color};ct.push(er)}for(var Ur="",Vr=0,ja=0;ja<ar.length;ja++){for(Mt=ar[ja];Mt>ct[Vr+1].offset;)Vr++;var sa=ct[Vr].offset,qa=(Mt-sa)/(ct[Vr+1].offset-sa),Os=ct[Vr].color,qi=ct[Vr+1].color;Ur+=D(Math.round((1-qa)*Os[0]+qa*qi[0]).toString(16))+D(Math.round((1-qa)*Os[1]+qa*qi[1]).toString(16))+D(Math.round((1-qa)*Os[2]+qa*qi[2]).toString(16))}return Ur.trim()}(U.colors,ce),qe=[];qe.push({key:"FunctionType",value:"0"}),qe.push({key:"Domain",value:"[0.0 1.0]"}),qe.push({key:"Size",value:"["+ce+"]"}),qe.push({key:"BitsPerSample",value:"8"}),qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bt({data:Le,additionalKeyValues:qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ne}),se("endobj"),U.objectNumber=gr(),se("<< /ShadingType "+U.type),se("/ColorSpace /DeviceRGB");var it="/Coords ["+V(parseFloat(U.coords[0]))+" "+V(parseFloat(U.coords[1]))+" ";U.type===2?it+=V(parseFloat(U.coords[2]))+" "+V(parseFloat(U.coords[3])):it+=V(parseFloat(U.coords[2]))+" "+V(parseFloat(U.coords[3]))+" "+V(parseFloat(U.coords[4]))+" "+V(parseFloat(U.coords[5])),se(it+="]"),U.matrix&&se("/Matrix ["+U.matrix.toString()+"]"),se("/Function "+Ne+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},Kr=function(U,ce){var Ne=Sr(),Le=gr();ce.push({resourcesOid:Ne,objectOid:Le}),U.objectNumber=Le;var qe=[];qe.push({key:"Type",value:"/Pattern"}),qe.push({key:"PatternType",value:"1"}),qe.push({key:"PaintType",value:"1"}),qe.push({key:"TilingType",value:"1"}),qe.push({key:"BBox",value:"["+U.boundingBox.map(V).join(" ")+"]"}),qe.push({key:"XStep",value:V(U.xStep)}),qe.push({key:"YStep",value:V(U.yStep)}),qe.push({key:"Resources",value:Ne+" 0 R"}),U.matrix&&qe.push({key:"Matrix",value:"["+U.matrix.toString()+"]"}),bt({data:U.stream,additionalKeyValues:qe,objectId:U.objectNumber}),se("endobj")},Ut=function(U){for(var ce in U.objectNumber=gr(),se("<<"),U)switch(ce){case"opacity":se("/ca "+T(U[ce]));break;case"stroke-opacity":se("/CA "+T(U[ce]))}se(">>"),se("endobj")},At=function(U){hn(U.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var ce in se("/Font <<"),pt)pt.hasOwnProperty(ce)&&(p===!1||p===!0&&x.hasOwnProperty(ce))&&se("/"+ce+" "+pt[ce].objectNumber+" 0 R");se(">>")}(),function(){if(Object.keys(gt).length>0){for(var ce in se("/Shading <<"),gt)gt.hasOwnProperty(ce)&&gt[ce]instanceof fh&&gt[ce].objectNumber>=0&&se("/"+ce+" "+gt[ce].objectNumber+" 0 R");ht.publish("putShadingPatternDict"),se(">>")}}(),function(ce){if(Object.keys(gt).length>0){for(var Ne in se("/Pattern <<"),gt)gt.hasOwnProperty(Ne)&&gt[Ne]instanceof g.TilingPattern&&gt[Ne].objectNumber>=0&&gt[Ne].objectNumber<ce&&se("/"+Ne+" "+gt[Ne].objectNumber+" 0 R");ht.publish("putTilingPatternDict"),se(">>")}}(U.objectOid),function(){if(Object.keys(rt).length>0){var ce;for(ce in se("/ExtGState <<"),rt)rt.hasOwnProperty(ce)&&rt[ce].objectNumber>=0&&se("/"+ce+" "+rt[ce].objectNumber+" 0 R");ht.publish("putGStateDict"),se(">>")}}(),function(){for(var ce in se("/XObject <<"),Jt)Jt.hasOwnProperty(ce)&&Jt[ce].objectNumber>=0&&se("/"+ce+" "+Jt[ce].objectNumber+" 0 R");ht.publish("putXobjectDict"),se(">>")}(),se(">>"),se("endobj")},Wt=function(U){vt[U.fontName]=vt[U.fontName]||{},vt[U.fontName][U.fontStyle]=U.id},fr=function(U,ce,Ne,Le,qe){var it={id:"F"+(Object.keys(pt).length+1).toString(10),postScriptName:U,fontName:ce,fontStyle:Ne,encoding:Le,isStandardFont:qe||!1,metadata:{}};return ht.publish("addFont",{font:it,instance:this}),pt[it.id]=it,Wt(it),it.id},Ir=g.__private__.pdfEscape=g.pdfEscape=function(U,ce){return function(Ne,Le){var qe,it,ct,Ot,Mt,ar,ir,Pt,er;if(ct=(Le=Le||{}).sourceEncoding||"Unicode",Mt=Le.outputEncoding,(Le.autoencode||Mt)&&pt[at].metadata&&pt[at].metadata[ct]&&pt[at].metadata[ct].encoding&&(Ot=pt[at].metadata[ct].encoding,!Mt&&pt[at].encoding&&(Mt=pt[at].encoding),!Mt&&Ot.codePages&&(Mt=Ot.codePages[0]),typeof Mt=="string"&&(Mt=Ot[Mt]),Mt)){for(ir=!1,ar=[],qe=0,it=Ne.length;qe<it;qe++)(Pt=Mt[Ne.charCodeAt(qe)])?ar.push(String.fromCharCode(Pt)):ar.push(Ne[qe]),ar[qe].charCodeAt(0)>>8&&(ir=!0);Ne=ar.join("")}for(qe=Ne.length;ir===void 0&&qe!==0;)Ne.charCodeAt(qe-1)>>8&&(ir=!0),qe--;if(!ir)return Ne;for(ar=Le.noBOM?[]:[254,255],qe=0,it=Ne.length;qe<it;qe++){if((er=(Pt=Ne.charCodeAt(qe))>>8)>>8)throw new Error("Character at position "+qe+" of string '"+Ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ar.push(er),ar.push(Pt-(er<<8))}return String.fromCharCode.apply(void 0,ar)}(U,ce).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kr=g.__private__.beginPage=function(U){ve[++zt]=[],yt[zt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(U[0]),topRightY:Number(U[1])}},Gr(zt),ie(ve[G])},Er=function(U,ce){var Ne,Le,qe;switch(n=ce||n,typeof U=="string"&&(Ne=S(U.toLowerCase()),Array.isArray(Ne)&&(Le=Ne[0],qe=Ne[1])),Array.isArray(U)&&(Le=U[0]*Qe,qe=U[1]*Qe),isNaN(Le)&&(Le=s[0],qe=s[1]),(Le>14400||qe>14400)&&(Ln.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Le=Math.min(14400,Le),qe=Math.min(14400,qe)),s=[Le,qe],n.substr(0,1)){case"l":qe>Le&&(s=[qe,Le]);break;case"p":Le>qe&&(s=[qe,Le])}kr(s),rl(Ba),se(Po),Ul!==0&&se(Ul+" J"),ql!==0&&se(ql+" j"),ht.publish("addPage",{pageNumber:zt})},Xr=function(U){U>0&&U<=zt&&(ve.splice(U,1),yt.splice(U,1),zt--,G>zt&&(G=zt),this.setPage(G))},Gr=function(U){U>0&&U<=zt&&(G=U)},_n=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return ve.length-1},Ii=function(U,ce,Ne){var Le,qe=void 0;return Ne=Ne||{},U=U!==void 0?U:pt[at].fontName,ce=ce!==void 0?ce:pt[at].fontStyle,Le=U.toLowerCase(),vt[Le]!==void 0&&vt[Le][ce]!==void 0?qe=vt[Le][ce]:vt[U]!==void 0&&vt[U][ce]!==void 0?qe=vt[U][ce]:Ne.disableWarning===!1&&Ln.warn("Unable to look up font label for font '"+U+"', '"+ce+"'. Refer to getFontList() for available fonts."),qe||Ne.noFallback||(qe=vt.times[ce])==null&&(qe=vt.times.normal),qe},Br=g.__private__.putInfo=function(){var U=gr(),ce=function(Le){return Le};for(var Ne in f!==null&&(ce=rn.encryptor(U,0)),se("<<"),se("/Producer ("+Ir(ce("jsPDF "+dr.version))+")"),Ve)Ve.hasOwnProperty(Ne)&&Ve[Ne]&&se("/"+Ne.substr(0,1).toUpperCase()+Ne.substr(1)+" ("+Ir(ce(Ve[Ne]))+")");se("/CreationDate ("+Ir(ce(H))+")"),se(">>"),se("endobj")},En=g.__private__.putCatalog=function(U){var ce=(U=U||{}).rootDictionaryObjId||pe;switch(gr(),se("<<"),se("/Type /Catalog"),se("/Pages "+ce+" 0 R"),Re||(Re="fullwidth"),Re){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ne=""+Re;Ne.substr(Ne.length-1)==="%"&&(Re=parseInt(Re)/100),typeof Re=="number"&&se("/OpenAction [3 0 R /XYZ null null "+T(Re)+"]")}switch(Ie||(Ie="continuous"),Ie){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}be&&se("/PageMode /"+be),ht.publish("putCatalog"),se(">>"),se("endobj")},tn=g.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(Z+1)),se("/Root "+Z+" 0 R"),se("/Info "+(Z-1)+" 0 R"),f!==null&&se("/Encrypt "+rn.oid+" 0 R"),se("/ID [ <"+te+"> <"+te+"> ]"),se(">>")},Ys=g.__private__.putHeader=function(){se("%PDF-"+y),se("%")},Ri=g.__private__.putXRef=function(){var U="0000000000";se("xref"),se("0 "+(Z+1)),se("0000000000 65535 f ");for(var ce=1;ce<=Z;ce++)typeof ae[ce]=="function"?se((U+ae[ce]()).slice(-10)+" 00000 n "):ae[ce]!==void 0?se((U+ae[ce]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},Gn=g.__private__.buildDocument=function(){var U;Z=0,Q=0,le=[],ae=[],oe=[],pe=Sr(),Ee=Sr(),ie(le),ht.publish("buildDocument"),Ys(),$t(),function(){ht.publish("putAdditionalObjects");for(var Ne=0;Ne<oe.length;Ne++){var Le=oe[Ne];hn(Le.objId,!0),se(Le.content),se("endobj")}ht.publish("postPutAdditionalObjects")}(),U=[],function(){for(var Ne in pt)pt.hasOwnProperty(Ne)&&(p===!1||p===!0&&x.hasOwnProperty(Ne))&&Qt(pt[Ne])}(),function(){var Ne;for(Ne in rt)rt.hasOwnProperty(Ne)&&Ut(rt[Ne])}(),function(){for(var Ne in Jt)Jt.hasOwnProperty(Ne)&&nr(Jt[Ne])}(),function(Ne){var Le;for(Le in gt)gt.hasOwnProperty(Le)&&(gt[Le]instanceof fh?vr(gt[Le]):gt[Le]instanceof $f&&Kr(gt[Le],Ne))}(U),ht.publish("putResources"),U.forEach(At),At({resourcesOid:Ee,objectOid:Number.MAX_SAFE_INTEGER}),ht.publish("postPutResources"),f!==null&&(rn.oid=gr(),se("<<"),se("/Filter /Standard"),se("/V "+rn.v),se("/R "+rn.r),se("/U <"+rn.toHexString(rn.U)+">"),se("/O <"+rn.toHexString(rn.O)+">"),se("/P "+rn.P),se(">>"),se("endobj")),Br(),En();var ce=Q;return Ri(),tn(),se("startxref"),se(""+ce),se("%%EOF"),ie(ve[G]),le.join(`
`)},zi=g.__private__.getBlob=function(U){return new Blob([Te(U)],{type:"application/pdf"})},Fa=g.output=g.__private__.output=(_r=function(U,ce){switch(typeof(ce=ce||{})=="string"?ce={filename:ce}:ce.filename=ce.filename||"generated.pdf",U){case void 0:return Gn();case"save":g.save(ce.filename);break;case"arraybuffer":return Te(Gn());case"blob":return zi(Gn());case"bloburi":case"bloburl":if(Or.URL!==void 0&&typeof Or.URL.createObjectURL=="function")return Or.URL&&Or.URL.createObjectURL(zi(Gn()))||void 0;Ln.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ne="",Le=Gn();try{Ne=kA(Le)}catch{Ne=kA(unescape(encodeURIComponent(Le)))}return"data:application/pdf;filename="+ce.filename+";base64,"+Ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Or)==="[object Window]"){var qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",it=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ce.pdfObjectUrl&&(qe=ce.pdfObjectUrl,it="");var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+qe+'"'+it+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ce)+");<\/script></body></html>",Ot=Or.open();return Ot!==null&&Ot.document.write(ct),Ot}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Or)==="[object Window]"){var Mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ce.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ce.filename+'" width="500px" height="400px" /></body></html>',ar=Or.open();if(ar!==null){ar.document.write(Mt);var ir=this;ar.document.documentElement.querySelector("#pdfViewer").onload=function(){ar.document.title=ce.filename,ar.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ir.output("bloburl"))}}return ar}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Or)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ce)+'"></iframe></body></html>',er=Or.open();if(er!==null&&(er.document.write(Pt),er.document.title=ce.filename),er||typeof safari>"u")return er;break;case"datauri":case"dataurl":return Or.document.location.href=this.output("datauristring",ce);default:return null}},_r.foo=function(){try{return _r.apply(this,arguments)}catch(Ne){var U=Ne.stack||"";~U.indexOf(" at ")&&(U=U.split(" at ")[1]);var ce="Error in function "+U.split(`
`)[0].split("<")[0]+": "+Ne.message;if(!Or.console)throw new Error(ce);Or.console.error(ce,Ne),Or.alert&&alert(ce)}},_r.foo.bar=_r,_r.foo),tl=function(U){return Array.isArray(ur)===!0&&ur.indexOf(U)>-1};switch(a){case"pt":Qe=1;break;case"mm":Qe=72/25.4;break;case"cm":Qe=72/2.54;break;case"in":Qe=72;break;case"px":Qe=tl("px_scaling")==1?.75:96/72;break;case"pc":case"em":Qe=12;break;case"ex":Qe=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);Qe=a}var rn=null;L(),re();var fn=g.__private__.getPageInfo=g.getPageInfo=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:yt[U].objId,pageNumber:U,pageContext:yt[U]}},wc=g.__private__.getPageInfoByObjId=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ce in yt)if(yt[ce].objId===U)break;return fn(ce)},$l=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:yt[G].objId,pageNumber:G,pageContext:yt[G]}};g.addPage=function(){return Er.apply(this,arguments),this},g.setPage=function(){return Gr.apply(this,arguments),ie.call(this,ve[G]),this},g.insertPage=function(U){return this.addPage(),this.movePage(G,U),this},g.movePage=function(U,ce){var Ne,Le;if(U>ce){Ne=ve[U],Le=yt[U];for(var qe=U;qe>ce;qe--)ve[qe]=ve[qe-1],yt[qe]=yt[qe-1];ve[ce]=Ne,yt[ce]=Le,this.setPage(ce)}else if(U<ce){Ne=ve[U],Le=yt[U];for(var it=U;it<ce;it++)ve[it]=ve[it+1],yt[it]=yt[it+1];ve[ce]=Ne,yt[ce]=Le,this.setPage(ce)}return this},g.deletePage=function(){return Xr.apply(this,arguments),this},g.__private__.text=g.text=function(U,ce,Ne,Le,qe){var it,ct,Ot,Mt,ar,ir,Pt,er,Ur,Vr=(Le=Le||{}).scope||this;if(typeof U=="number"&&typeof ce=="number"&&(typeof Ne=="string"||Array.isArray(Ne))){var ja=Ne;Ne=ce,ce=U,U=ja}if(arguments[3]instanceof Dt==0?(Ot=arguments[4],Mt=arguments[5],Nn(Pt=arguments[3])==="object"&&Pt!==null||(typeof Ot=="string"&&(Mt=Ot,Ot=null),typeof Pt=="string"&&(Mt=Pt,Pt=null),typeof Pt=="number"&&(Ot=Pt,Pt=null),Le={flags:Pt,angle:Ot,align:Mt})):(B("The transform parameter of text() with a Matrix value"),Ur=qe),isNaN(ce)||isNaN(Ne)||U==null)throw new Error("Invalid arguments passed to jsPDF.text");if(U.length===0)return Vr;var sa,qa="",Os=typeof Le.lineHeightFactor=="number"?Le.lineHeightFactor:Yn,qi=Vr.internal.scaleFactor;function Wh(nn){return nn=nn.split("	").join(Array(Le.TabLen||9).join(" ")),Ir(nn,Pt)}function Hl(nn){for(var mn,Zn=nn.concat(),ma=[],to=Zn.length;to--;)typeof(mn=Zn.shift())=="string"?ma.push(mn):Array.isArray(nn)&&(mn.length===1||mn[1]===void 0&&mn[2]===void 0)?ma.push(mn[0]):ma.push([mn[0],mn[1],mn[2]]);return ma}function Sc(nn,mn){var Zn;if(typeof nn=="string")Zn=mn(nn)[0];else if(Array.isArray(nn)){for(var ma,to,Td=nn.concat(),Lu=[],ul=Td.length;ul--;)typeof(ma=Td.shift())=="string"?Lu.push(mn(ma)[0]):Array.isArray(ma)&&typeof ma[0]=="string"&&(to=mn(ma[0],ma[1],ma[2]),Lu.push([to[0],to[1],to[2]]));Zn=Lu}return Zn}var Vl=!1,kc=!0;if(typeof U=="string")Vl=!0;else if(Array.isArray(U)){var Wl=U.concat();ct=[];for(var Cc,ii=Wl.length;ii--;)(typeof(Cc=Wl.shift())!="string"||Array.isArray(Cc)&&typeof Cc[0]!="string")&&(kc=!1);Vl=kc}if(Vl===!1)throw new Error('Type of text must be string or Array. "'+U+'" is not recognized.');typeof U=="string"&&(U=U.match(/[\r?\n]/)?U.split(/\r\n|\r|\n/g):[U]);var Pc=Me/Vr.internal.scaleFactor,Ec=Pc*(Os-1);switch(Le.baseline){case"bottom":Ne-=Ec;break;case"top":Ne+=Pc-Ec;break;case"hanging":Ne+=Pc-2*Ec;break;case"middle":Ne+=Pc/2-Ec}if((ir=Le.maxWidth||0)>0&&(typeof U=="string"?U=Vr.splitTextToSize(U,ir):Object.prototype.toString.call(U)==="[object Array]"&&(U=U.reduce(function(nn,mn){return nn.concat(Vr.splitTextToSize(mn,ir))},[]))),it={text:U,x:ce,y:Ne,options:Le,mutex:{pdfEscape:Ir,activeFontKey:at,fonts:pt,activeFontSize:Me}},ht.publish("preProcessText",it),U=it.text,Ot=(Le=it.options).angle,Ur instanceof Dt==0&&Ot&&typeof Ot=="number"){Ot*=Math.PI/180,Le.rotationDirection===0&&(Ot=-Ot),C===j&&(Ot=-Ot);var Ld=Math.cos(Ot),Od=Math.sin(Ot);Ur=new Dt(Ld,Od,-Od,Ld,0,0)}else Ot&&Ot instanceof Dt&&(Ur=Ot);C!==j||Ur||(Ur=Nr),(ar=Le.charSpace||ls)!==void 0&&(qa+=V(I(ar))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(er=Le.horizontalScale)!==void 0&&(qa+=V(100*er)+` Tz
`),Le.lang;var Xn=-1,Qs=Le.renderingMode!==void 0?Le.renderingMode:Le.stroke,Do=Vr.internal.getCurrentPageInfo().pageContext;switch(Qs){case 0:case!1:case"fill":Xn=0;break;case 1:case!0:case"stroke":Xn=1;break;case 2:case"fillThenStroke":Xn=2;break;case 3:case"invisible":Xn=3;break;case 4:case"fillAndAddForClipping":Xn=4;break;case 5:case"strokeAndAddPathForClipping":Xn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Xn=6;break;case 7:case"addToPathForClipping":Xn=7}var Kh=Do.usedRenderingMode!==void 0?Do.usedRenderingMode:-1;Xn!==-1?qa+=Xn+` Tr
`:Kh!==-1&&(qa+=`0 Tr
`),Xn!==-1&&(Do.usedRenderingMode=Xn),Mt=Le.align||"left";var us,Kl=Me*Os,Pu=Vr.internal.pageSize.getWidth(),Eu=pt[at];ar=Le.charSpace||ls,ir=Le.maxWidth||0,Pt=Object.assign({autoencode:!0,noBOM:!0},Le.flags);var sl=[],Ts=function(nn){return Vr.getStringUnitWidth(nn,{font:Eu,charSpace:ar,fontSize:Me,doKerning:!1})*Me/qi};if(Object.prototype.toString.call(U)==="[object Array]"){var ds;ct=Hl(U),Mt!=="left"&&(us=ct.map(Ts));var hs,Gl=0;if(Mt==="right"){ce-=us[0],U=[],ii=ct.length;for(var Lo=0;Lo<ii;Lo++)Lo===0?(hs=Ni(ce),ds=_i(Ne)):(hs=I(Gl-us[Lo]),ds=-Kl),U.push([ct[Lo],hs,ds]),Gl=us[Lo]}else if(Mt==="center"){ce-=us[0]/2,U=[],ii=ct.length;for(var ol=0;ol<ii;ol++)ol===0?(hs=Ni(ce),ds=_i(Ne)):(hs=I((Gl-us[ol])/2),ds=-Kl),U.push([ct[ol],hs,ds]),Gl=us[ol]}else if(Mt==="left"){U=[],ii=ct.length;for(var ll=0;ll<ii;ll++)U.push(ct[ll])}else if(Mt==="justify"&&Eu.encoding==="Identity-H"){U=[],ii=ct.length,ir=ir!==0?ir:Pu;for(var Oo=0,oa=0;oa<ii;oa++)if(ds=oa===0?_i(Ne):-Kl,hs=oa===0?Ni(ce):Oo,oa<ii-1){var Ac=I((ir-us[oa])/(ct[oa].split(" ").length-1)),To=ct[oa].split(" ");U.push([To[0]+" ",hs,ds]),Oo=0;for(var eo=1;eo<To.length;eo++){var Dc=(Ts(To[eo-1]+" "+To[eo])-Ts(To[eo]))*qi+Ac;eo==To.length-1?U.push([To[eo],Dc,0]):U.push([To[eo]+" ",Dc,0]),Oo-=Dc}}else U.push([ct[oa],hs,ds]);U.push(["",Oo,0])}else{if(Mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(U=[],ii=ct.length,ir=ir!==0?ir:Pu,oa=0;oa<ii;oa++){ds=oa===0?_i(Ne):-Kl,hs=oa===0?Ni(ce):0;var Lc=ct[oa].split(" ").length-1,Au=Lc>0?(ir-us[oa])/Lc:0;oa<ii-1?sl.push(V(I(Au))):sl.push(0),U.push([ct[oa],hs,ds])}}}(typeof Le.R2L=="boolean"?Le.R2L:Pe)===!0&&(U=Sc(U,function(nn,mn,Zn){return[nn.split("").reverse().join(""),mn,Zn]})),it={text:U,x:ce,y:Ne,options:Le,mutex:{pdfEscape:Ir,activeFontKey:at,fonts:pt,activeFontSize:Me}},ht.publish("postProcessText",it),U=it.text,sa=it.mutex.isHex||!1;var Du=pt[at].encoding;Du!=="WinAnsiEncoding"&&Du!=="StandardEncoding"||(U=Sc(U,function(nn,mn,Zn){return[Wh(nn),mn,Zn]})),ct=Hl(U),U=[];for(var cl,Yl,Xl,Oc=Array.isArray(ct[0])?1:0,Jl="",Tc=function(nn,mn,Zn){var ma="";return Zn instanceof Dt?(Zn=typeof Le.angle=="number"?Wr(Zn,new Dt(1,0,0,1,nn,mn)):Wr(new Dt(1,0,0,1,nn,mn),Zn),C===j&&(Zn=Wr(new Dt(1,0,0,-1,0,0),Zn)),ma=Zn.join(" ")+` Tm
`):ma=V(nn)+" "+V(mn)+` Td
`,ma},Jn=0;Jn<ct.length;Jn++){switch(Jl="",Oc){case 1:Xl=(sa?"<":"(")+ct[Jn][0]+(sa?">":")"),cl=parseFloat(ct[Jn][1]),Yl=parseFloat(ct[Jn][2]);break;case 0:Xl=(sa?"<":"(")+ct[Jn]+(sa?">":")"),cl=Ni(ce),Yl=_i(Ne)}sl!==void 0&&sl[Jn]!==void 0&&(Jl=sl[Jn]+` Tw
`),Jn===0?U.push(Jl+Tc(cl,Yl,Ur)+Xl):Oc===0?U.push(Jl+Xl):Oc===1&&U.push(Jl+Tc(cl,Yl,Ur)+Xl)}U=Oc===0?U.join(` Tj
T* `):U.join(` Tj
`),U+=` Tj
`;var Hi=`BT
/`;return Hi+=at+" "+Me+` Tf
`,Hi+=V(Me*Os)+` TL
`,Hi+=Ua+`
`,Hi+=qa,Hi+=U,se(Hi+="ET"),x[at]=!0,Vr};var bi=g.__private__.clip=g.clip=function(U){return se(U==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return bi("evenodd")},g.__private__.discardPath=g.discardPath=function(){return se("n"),this};var wi=g.__private__.isValidStyle=function(U){var ce=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(U)!==-1&&(ce=!0),ce};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(U){return wi(U)&&(d=U),this};var Xs=g.__private__.getStyle=g.getStyle=function(U){var ce=d;switch(U){case"D":case"S":ce="S";break;case"F":ce="f";break;case"FD":case"DF":ce="B";break;case"f":case"f*":case"B":case"B*":ce=U}return ce},qr=g.close=function(){return se("h"),this};g.stroke=function(){return se("S"),this},g.fill=function(U){return Ps("f",U),this},g.fillEvenOdd=function(U){return Ps("f*",U),this},g.fillStroke=function(U){return Ps("B",U),this},g.fillStrokeEvenOdd=function(U){return Ps("B*",U),this};var Ps=function(U,ce){Nn(ce)==="object"?Es(ce,U):se(U)},Fi=function(U){U===null||C===j&&U===void 0||(U=Xs(U),se(U))};function Co(U,ce,Ne,Le,qe){var it=new $f(ce||this.boundingBox,Ne||this.xStep,Le||this.yStep,this.gState,qe||this.matrix);it.stream=this.stream;var ct=U+"$$"+this.cloneIndex+++"$$";return Lt(ct,it),it}var Es=function(U,ce){var Ne=xt[U.key],Le=gt[Ne];if(Le instanceof fh)se("q"),se(Js(ce)),Le.gState&&g.setGState(Le.gState),se(U.matrix.toString()+" cm"),se("/"+Ne+" sh"),se("Q");else if(Le instanceof $f){var qe=new Dt(1,0,0,-1,0,Ui());U.matrix&&(qe=qe.multiply(U.matrix||Nr),Ne=Co.call(Le,U.key,U.boundingBox,U.xStep,U.yStep,qe).id),se("q"),se("/Pattern cs"),se("/"+Ne+" scn"),Le.gState&&g.setGState(Le.gState),se(ce),se("Q")}},Js=function(U){switch(U){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ji=g.moveTo=function(U,ce){return se(V(I(U))+" "+V(q(ce))+" m"),this},Zs=g.lineTo=function(U,ce){return se(V(I(U))+" "+V(q(ce))+" l"),this},$a=g.curveTo=function(U,ce,Ne,Le,qe,it){return se([V(I(U)),V(q(ce)),V(I(Ne)),V(q(Le)),V(I(qe)),V(q(it)),"c"].join(" ")),this};g.__private__.line=g.line=function(U,ce,Ne,Le,qe){if(isNaN(U)||isNaN(ce)||isNaN(Ne)||isNaN(Le)||!wi(qe))throw new Error("Invalid arguments passed to jsPDF.line");return C===k?this.lines([[Ne-U,Le-ce]],U,ce,[1,1],qe||"S"):this.lines([[Ne-U,Le-ce]],U,ce,[1,1]).stroke()},g.__private__.lines=g.lines=function(U,ce,Ne,Le,qe,it){var ct,Ot,Mt,ar,ir,Pt,er,Ur,Vr,ja,sa,qa;if(typeof U=="number"&&(qa=Ne,Ne=ce,ce=U,U=qa),Le=Le||[1,1],it=it||!1,isNaN(ce)||isNaN(Ne)||!Array.isArray(U)||!Array.isArray(Le)||!wi(qe)||typeof it!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ji(ce,Ne),ct=Le[0],Ot=Le[1],ar=U.length,ja=ce,sa=Ne,Mt=0;Mt<ar;Mt++)(ir=U[Mt]).length===2?(ja=ir[0]*ct+ja,sa=ir[1]*Ot+sa,Zs(ja,sa)):(Pt=ir[0]*ct+ja,er=ir[1]*Ot+sa,Ur=ir[2]*ct+ja,Vr=ir[3]*Ot+sa,ja=ir[4]*ct+ja,sa=ir[5]*Ot+sa,$a(Pt,er,Ur,Vr,ja,sa));return it&&qr(),Fi(qe),this},g.path=function(U){for(var ce=0;ce<U.length;ce++){var Ne=U[ce],Le=Ne.c;switch(Ne.op){case"m":ji(Le[0],Le[1]);break;case"l":Zs(Le[0],Le[1]);break;case"c":$a.apply(this,Le);break;case"h":qr()}}return this},g.__private__.rect=g.rect=function(U,ce,Ne,Le,qe){if(isNaN(U)||isNaN(ce)||isNaN(Ne)||isNaN(Le)||!wi(qe))throw new Error("Invalid arguments passed to jsPDF.rect");return C===k&&(Le=-Le),se([V(I(U)),V(q(ce)),V(I(Ne)),V(I(Le)),"re"].join(" ")),Fi(qe),this},g.__private__.triangle=g.triangle=function(U,ce,Ne,Le,qe,it,ct){if(isNaN(U)||isNaN(ce)||isNaN(Ne)||isNaN(Le)||isNaN(qe)||isNaN(it)||!wi(ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ne-U,Le-ce],[qe-Ne,it-Le],[U-qe,ce-it]],U,ce,[1,1],ct,!0),this},g.__private__.roundedRect=g.roundedRect=function(U,ce,Ne,Le,qe,it,ct){if(isNaN(U)||isNaN(ce)||isNaN(Ne)||isNaN(Le)||isNaN(qe)||isNaN(it)||!wi(ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ot=4/3*(Math.SQRT2-1);return qe=Math.min(qe,.5*Ne),it=Math.min(it,.5*Le),this.lines([[Ne-2*qe,0],[qe*Ot,0,qe,it-it*Ot,qe,it],[0,Le-2*it],[0,it*Ot,-qe*Ot,it,-qe,it],[2*qe-Ne,0],[-qe*Ot,0,-qe,-it*Ot,-qe,-it],[0,2*it-Le],[0,-it*Ot,qe*Ot,-it,qe,-it]],U+qe,ce,[1,1],ct,!0),this},g.__private__.ellipse=g.ellipse=function(U,ce,Ne,Le,qe){if(isNaN(U)||isNaN(ce)||isNaN(Ne)||isNaN(Le)||!wi(qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var it=4/3*(Math.SQRT2-1)*Ne,ct=4/3*(Math.SQRT2-1)*Le;return ji(U+Ne,ce),$a(U+Ne,ce-ct,U+it,ce-Le,U,ce-Le),$a(U-it,ce-Le,U-Ne,ce-ct,U-Ne,ce),$a(U-Ne,ce+ct,U-it,ce+Le,U,ce+Le),$a(U+it,ce+Le,U+Ne,ce+ct,U+Ne,ce),Fi(qe),this},g.__private__.circle=g.circle=function(U,ce,Ne,Le){if(isNaN(U)||isNaN(ce)||isNaN(Ne)||!wi(Le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(U,ce,Ne,Ne,Le)},g.setFont=function(U,ce,Ne){return Ne&&(ce=F(ce,Ne)),at=Ii(U,ce,{disableWarning:!1}),this};var os=g.__private__.getFont=g.getFont=function(){return pt[Ii.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var U,ce,Ne={};for(U in vt)if(vt.hasOwnProperty(U))for(ce in Ne[U]=[],vt[U])vt[U].hasOwnProperty(ce)&&Ne[U].push(ce);return Ne},g.addFont=function(U,ce,Ne,Le,qe){var it=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&it.indexOf(arguments[3])!==-1?qe=arguments[3]:arguments[3]&&it.indexOf(arguments[3])==-1&&(Ne=F(Ne,Le)),fr.call(this,U,ce,Ne,qe=qe||"Identity-H")};var Yn,Ba=e.lineWidth||.200025,xr=g.__private__.getLineWidth=g.getLineWidth=function(){return Ba},rl=g.__private__.setLineWidth=g.setLineWidth=function(U){return Ba=U,se(V(I(U))+" w"),this};g.__private__.setLineDash=dr.API.setLineDash=dr.API.setLineDashPattern=function(U,ce){if(U=U||[],ce=ce||0,isNaN(ce)||!Array.isArray(U))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return U=U.map(function(Ne){return V(I(Ne))}).join(" "),ce=V(I(ce)),se("["+U+"] "+ce+" d"),this};var As=g.__private__.getLineHeight=g.getLineHeight=function(){return Me*Yn};g.__private__.getLineHeight=g.getLineHeight=function(){return Me*Yn};var Dd=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(U){return typeof(U=U||1.15)=="number"&&(Yn=U),this},ku=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Yn};Dd(e.lineHeight);var Ni=g.__private__.getHorizontalCoordinate=function(U){return I(U)},_i=g.__private__.getVerticalCoordinate=function(U){return C===j?U:yt[G].mediaBox.topRightY-yt[G].mediaBox.bottomLeftY-I(U)},jc=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(U){return V(Ni(U))},nl=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(U){return V(_i(U))},Po=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return ze(Po)},g.__private__.setStrokeColor=g.setDrawColor=function(U,ce,Ne,Le){return Po=Ke({ch1:U,ch2:ce,ch3:Ne,ch4:Le,pdfColorType:"draw",precision:2}),se(Po),this};var Bl=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return ze(Bl)},g.__private__.setFillColor=g.setFillColor=function(U,ce,Ne,Le){return Bl=Ke({ch1:U,ch2:ce,ch3:Ne,ch4:Le,pdfColorType:"fill",precision:2}),se(Bl),this};var Ua=e.textColor||"0 g",$i=g.__private__.getTextColor=g.getTextColor=function(){return ze(Ua)};g.__private__.setTextColor=g.setTextColor=function(U,ce,Ne,Le){return Ua=Ke({ch1:U,ch2:ce,ch3:Ne,ch4:Le,pdfColorType:"text",precision:3}),this};var ls=e.charSpace,Eo=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(ls||0)};g.__private__.setCharSpace=g.setCharSpace=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ls=U,this};var Ul=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(U){var ce=g.CapJoinStyles[U];if(ce===void 0)throw new Error("Line cap style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ul=ce,se(ce+" J"),this};var ql=0;g.__private__.setLineJoin=g.setLineJoin=function(U){var ce=g.CapJoinStyles[U];if(ce===void 0)throw new Error("Line join style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ql=ce,se(ce+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(U){if(U=U||0,isNaN(U))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(V(I(U))+" M"),this},g.GState=ay,g.setGState=function(U){(U=typeof U=="string"?rt[It[U]]:Ds(null,U)).equals(Bt)||(se("/"+U.id+" gs"),Bt=U)};var Ds=function(U,ce){if(!U||!It[U]){var Ne=!1;for(var Le in rt)if(rt.hasOwnProperty(Le)&&rt[Le].equals(ce)){Ne=!0;break}if(Ne)ce=rt[Le];else{var qe="GS"+(Object.keys(rt).length+1).toString(10);rt[qe]=ce,ce.id=qe}return U&&(It[U]=ce.id),ht.publish("addGState",ce),ce}};g.addGState=function(U,ce){return Ds(U,ce),this},g.saveGraphicsState=function(){return se("q"),wt.push({key:at,size:Me,color:Ua}),this},g.restoreGraphicsState=function(){se("Q");var U=wt.pop();return at=U.key,Me=U.size,Ua=U.color,Bt=null,this},g.setCurrentTransformationMatrix=function(U){return se(U.toString()+" cm"),this},g.comment=function(U){return se("#"+U),this};var cs=function(U,ce){var Ne=U||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ne},set:function(it){isNaN(it)||(Ne=parseFloat(it))}});var Le=ce||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Le},set:function(it){isNaN(it)||(Le=parseFloat(it))}});var qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return qe},set:function(it){qe=it.toString()}}),this},al=function(U,ce,Ne,Le){cs.call(this,U,ce),this.type="rect";var qe=Ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return qe},set:function(ct){isNaN(ct)||(qe=parseFloat(ct))}});var it=Le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return it},set:function(ct){isNaN(ct)||(it=parseFloat(ct))}}),this},Ao=function(){this.page=zt,this.currentPage=G,this.pages=ve.slice(0),this.pagesContext=yt.slice(0),this.x=ut,this.y=Ft,this.matrix=he,this.width=il(G),this.height=Si(G),this.outputDestination=ge,this.id="",this.objectNumber=-1};Ao.prototype.restore=function(){zt=this.page,G=this.currentPage,yt=this.pagesContext,ve=this.pages,ut=this.x,Ft=this.y,he=this.matrix,Cu(G,this.width),ki(G,this.height),ge=this.outputDestination};var Bi=function(U,ce,Ne,Le,qe){$r.push(new Ao),zt=G=0,ve=[],ut=U,Ft=ce,he=qe,kr([Ne,Le])};for(var Ls in g.beginFormObject=function(U,ce,Ne,Le,qe){return Bi(U,ce,Ne,Le,qe),this},g.endFormObject=function(U){return function(ce){if(Tr[ce])$r.pop().restore();else{var Ne=new Ao,Le="Xo"+(Object.keys(Jt).length+1).toString(10);Ne.id=Le,Tr[ce]=Le,Jt[Le]=Ne,ht.publish("addFormObject",Ne),$r.pop().restore()}}(U),this},g.doFormObject=function(U,ce){var Ne=Jt[Tr[U]];return se("q"),se(ce.toString()+" cm"),se("/"+Ne.id+" Do"),se("Q"),this},g.getFormObject=function(U){var ce=Jt[Tr[U]];return{x:ce.x,y:ce.y,width:ce.width,height:ce.height,matrix:ce.matrix}},g.save=function(U,ce){return U=U||"generated.pdf",(ce=ce||{}).returnPromise=ce.returnPromise||!1,ce.returnPromise===!1?(ch(zi(Gn()),U),typeof ch.unload=="function"&&Or.setTimeout&&setTimeout(ch.unload,911),this):new Promise(function(Ne,Le){try{var qe=ch(zi(Gn()),U);typeof ch.unload=="function"&&Or.setTimeout&&setTimeout(ch.unload,911),Ne(qe)}catch(it){Le(it.message)}})},dr.API)dr.API.hasOwnProperty(Ls)&&(Ls==="events"&&dr.API.events.length?function(U,ce){var Ne,Le,qe;for(qe=ce.length-1;qe!==-1;qe--)Ne=ce[qe][0],Le=ce[qe][1],U.subscribe.apply(U,[Ne].concat(typeof Le=="function"?[Le]:Le))}(ht,dr.API.events):g[Ls]=dr.API[Ls]);function il(U){return yt[U].mediaBox.topRightX-yt[U].mediaBox.bottomLeftX}function Cu(U,ce){yt[U].mediaBox.topRightX=ce+yt[U].mediaBox.bottomLeftX}function Si(U){return yt[U].mediaBox.topRightY-yt[U].mediaBox.bottomLeftY}function ki(U,ce){yt[U].mediaBox.topRightY=ce+yt[U].mediaBox.bottomLeftY}var Nc=g.getPageWidth=function(U){return il(U=U||G)/Qe},An=g.setPageWidth=function(U,ce){Cu(U,ce*Qe)},Ui=g.getPageHeight=function(U){return Si(U=U||G)/Qe},_c=g.setPageHeight=function(U,ce){ki(U,ce*Qe)};return g.internal={pdfEscape:Ir,getStyle:Xs,getFont:os,getFontSize:xe,getCharSpace:Eo,getTextColor:$i,getLineHeight:As,getLineHeightFactor:ku,getLineWidth:xr,write:_e,getHorizontalCoordinate:Ni,getVerticalCoordinate:_i,getCoordinateString:jc,getVerticalCoordinateString:nl,collections:{},newObject:gr,newAdditionalObject:en,newObjectDeferred:Sr,newObjectDeferredBegin:hn,getFilters:ft,putStream:bt,events:ht,scaleFactor:Qe,pageSize:{getWidth:function(){return Nc(G)},setWidth:function(U){An(G,U)},getHeight:function(){return Ui(G)},setHeight:function(U){_c(G,U)}},encryptionOptions:f,encryption:rn,getEncryptor:function(U){return f!==null?rn.encryptor(U,0):function(ce){return ce}},output:Fa,getNumberOfPages:_n,pages:ve,out:se,f2:T,f3:M,getPageInfo:fn,getPageInfoByObjId:wc,getCurrentPageInfo:$l,getPDFVersion:w,Point:cs,Rectangle:al,Matrix:Dt,hasHotfix:tl},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Nc(G)},set:function(U){An(G,U)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Ui(G)},set:function(U){_c(G,U)},enumerable:!0,configurable:!0}),(function(U){for(var ce=0,Ne=Xe.length;ce<Ne;ce++){var Le=fr.call(this,U[ce][0],U[ce][1],U[ce][2],Xe[ce][3],!0);p===!1&&(x[Le]=!0);var qe=U[ce][0].split("-");Wt({id:Le,fontName:qe[0],fontStyle:qe[1]||""})}ht.publish("addFonts",{fonts:pt,dictionary:vt})}).call(g,Xe),at="F1",Er(s,n),ht.publish("initialized"),g}Lf.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Lf.prototype.toHexString=function(e){return e.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Lf.prototype.hexToBytes=function(e){for(var r=[],n=0;n<e.length;n+=2)r.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return r.join("")},Lf.prototype.processOwnerPassword=function(e,r){return Ij(Mj(r).substr(0,5),e)},Lf.prototype.encryptor=function(e,r){var n=Mj(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&r,r>>8&255)).substr(0,10);return function(a){return Ij(n,a)}},ay.prototype.equals=function(e){var r,n="id,objectNumber,equals";if(!e||Nn(e)!==Nn(this))return!1;var a=0;for(r in this)if(!(n.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!e.hasOwnProperty(r)||this[r]!==e[r])return!1;a++}for(r in e)e.hasOwnProperty(r)&&n.indexOf(r)<0&&a--;return a===0},dr.API={events:[]},dr.version="3.0.3";var ba=dr.API,g_=1,Vh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kf=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Fr=function(e){return e.toFixed(2)},rd=function(e){return e.toFixed(5)};ba.__acroform__={};var Gs=function(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e},AA=function(e){return e*g_},oc=function(e){var r=new b9,n=rr.internal.getHeight(e)||0,a=rr.internal.getWidth(e)||0;return r.BBox=[0,0,Number(Fr(a)),Number(Fr(n))],r},z0e=ba.__acroform__.setBit=function(e,r){if(e=e||0,r=r||0,isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<r},F0e=ba.__acroform__.clearBit=function(e,r){if(e=e||0,r=r||0,isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<r)},$0e=ba.__acroform__.getBit=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<r?1:0},Ca=ba.__acroform__.getBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return $0e(e,r-1)},Pa=ba.__acroform__.setBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return z0e(e,r-1)},Ea=ba.__acroform__.clearBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return F0e(e,r-1)},B0e=ba.__acroform__.calculateCoordinates=function(e,r){var n=r.internal.getHorizontalCoordinate,a=r.internal.getVerticalCoordinate,s=e[0],o=e[1],l=e[2],c=e[3],u={};return u.lowerLeft_X=n(s)||0,u.lowerLeft_Y=a(o+c)||0,u.upperRight_X=n(s+l)||0,u.upperRight_Y=a(o)||0,[Number(Fr(u.lowerLeft_X)),Number(Fr(u.lowerLeft_Y)),Number(Fr(u.upperRight_X)),Number(Fr(u.upperRight_Y))]},U0e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var r=[],n=e._V||e.DV,a=Rj(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(e.scope.__private__.encodeColorString(e.color)),r.push("/"+s+" "+Fr(a.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC");var o=oc(e);return o.scope=e.scope,o.stream=r.join(`
`),o}},Rj=function(e,r){var n=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},s=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");s=e.multiline?s.map(function(T){return T.split(`
`)}):s.map(function(T){return[T]});var o=n,l=rr.internal.getHeight(e)||0;l=l<0?-l:l;var c=rr.internal.getWidth(e)||0;c=c<0?-c:c;var u=function(T,M,I){if(T+1<s.length){var q=M+" "+s[T+1][0];return xx(q,e,I).width<=c-4}return!1};o++;e:for(;o>0;){r="",o--;var d,f,p=xx("3",e,o).height,x=e.multiline?l-o:(l-p)/2,g=x+=2,y=0,w=0,v=0;if(o<=0){r=`(...) Tj
`,r+="% Width of Text: "+xx(r,e,o=12).width+", FieldWidth:"+c+`
`;break}for(var S="",k=0,j=0;j<s.length;j++)if(s.hasOwnProperty(j)){var C=!1;if(s[j].length!==1&&v!==s[j].length-1){if((p+2)*(k+2)+2>l)continue e;S+=s[j][v],C=!0,w=j,j--}else{S=(S+=s[j][v]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var z=parseInt(j),$=u(z,S,o),F=j>=s.length-1;if($&&!F){S+=" ",v=0;continue}if($||F){if(F)w=z;else if(e.multiline&&(p+2)*(k+2)+2>l)continue e}else{if(!e.multiline||(p+2)*(k+2)+2>l)continue e;w=z}}for(var V="",B=y;B<=w;B++){var K=s[B];if(e.multiline){if(B===w){V+=K[v]+" ",v=(v+1)%K.length;continue}if(B===y){V+=K[K.length-1]+" ";continue}}V+=K[0]+" "}switch(V=V.substr(V.length-1)==" "?V.substr(0,V.length-1):V,f=xx(V,e,o).width,e.textAlign){case"right":d=c-f-2;break;case"center":d=(c-f)/2;break;default:d=2}r+=Fr(d)+" "+Fr(g)+` Td
`,r+="("+Vh(V)+`) Tj
`,r+=-Fr(d)+` 0 Td
`,g=-(o+2),f=0,y=C?w:w+1,k++,S=""}break}return a.text=r,a.fontSize=o,a},xx=function(e,r,n){var a=r.scope.internal.getFont(r.fontName,r.fontStyle),s=r.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:r.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},q0e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},H0e=function(e,r){var n={type:"reference",object:e};r.internal.getPageInfo(e.page).pageContext.annotations.find(function(a){return a.type===n.type&&a.object===n.object})===void 0&&r.internal.getPageInfo(e.page).pageContext.annotations.push(n)},V0e=function(e,r){if(r.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(zl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(q0e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");g_=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new w9,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];o.objId=void 0,o.hasAnnotation&&H0e(o,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(a,s){var o=!a;for(var l in a||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(l)){var c=a[l],u=[],d=c.Rect;if(c.Rect&&(c.Rect=B0e(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=rr.createDefaultAppearanceStream(c),Nn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(u=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var f=U0e(c);u.push({key:"AP",value:"<</N "+f+">>"}),s.internal.acroformPlugin.xForms.push(f)}if(c.appearanceStreamContent){var p="";for(var x in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(x)){var g=c.appearanceStreamContent[x];if(p+="/"+x+" ",p+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var l in g)if(g.hasOwnProperty(l)){var y=g[l];typeof y=="function"&&(y=y.call(s,c)),p+="/"+l+" "+y+" ",s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y)}}else typeof(y=g)=="function"&&(y=y.call(s,c)),p+="/"+l+" "+y,s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y);p+=">>"}u.push({key:"AP",value:`<<
`+p+">>"})}s.internal.putStream({additionalKeyValues:u,objectId:c.objId}),s.internal.out("endobj")}o&&function(w,v){for(var S in w)if(w.hasOwnProperty(S)){var k=S,j=w[S];v.internal.newObjectDeferredBegin(j.objId,!0),Nn(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete w[k]}}(s.internal.acroformPlugin.xForms,s)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},y9=ba.__acroform__.arrayToPdfArray=function(e,r,n){var a=function(l){return l};if(Array.isArray(e)){for(var s="[",o=0;o<e.length;o++)switch(o!==0&&(s+=" "),Nn(e[o])){case"boolean":case"number":case"object":s+=e[o].toString();break;case"string":e[o].substr(0,1)!=="/"?(r!==void 0&&n&&(a=n.internal.getEncryptor(r)),s+="("+Vh(a(e[o].toString()))+")"):s+=e[o].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$2=function(e,r,n){var a=function(s){return s};return r!==void 0&&n&&(a=n.internal.getEncryptor(r)),(e=e||"").toString(),"("+Vh(a(e))+")"},dc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};dc.prototype.toString=function(){return this.objId+" 0 R"},dc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},dc.prototype.getKeyValueListForStream=function(){var e=[],r=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in r)if(Object.getOwnPropertyDescriptor(this,r[n]).configurable===!1){var a=r[n],s=this[a];s&&(Array.isArray(s)?e.push({key:a,value:y9(s,this.objId,this.scope)}):s instanceof dc?(s.scope=this.scope,e.push({key:a,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:a,value:s}))}return e};var b9=function(){dc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Gs(b9,dc);var w9=function(){dc.call(this);var e,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(a){return a};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Vh(n(e))+")"}},set:function(n){e=n}})};Gs(w9,dc);var zl=function e(){dc.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');r=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ca(r,3)},set:function(S){S?this.F=Pa(r,3):this.F=Ea(r,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');n=S}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(S){a=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(S){a[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(S){a[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(S){a[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(S){a[3]=S}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof iy)return;o="FieldObject"+e.FieldNum++}var S=function(k){return k};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+Vh(S(o))+")"},set:function(S){o=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(S){o=S}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(S){l=S}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(S){u=S}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/g_:d},set:function(S){d=S}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(S){f=S}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof iy||this instanceof Ph))return $2(p,this.objId,this.scope)},set:function(S){S=S.toString(),p=S}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof fi==0?$2(x,this.objId,this.scope):x},set:function(S){S=S.toString(),x=this instanceof fi==0?S.substr(0,1)==="("?kf(S.substr(1,S.length-2)):kf(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof fi==1?kf(x.substr(1,x.length-1)):x},set:function(S){S=S.toString(),x=this instanceof fi==1?"/"+S:S}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof fi==0?$2(g,this.objId,this.scope):g},set:function(S){S=S.toString(),g=this instanceof fi==0?S.substr(0,1)==="("?kf(S.substr(1,S.length-2)):kf(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof fi==1?kf(g.substr(1,g.length-1)):g},set:function(S){S=S.toString(),g=this instanceof fi==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(S){S=!!S,w=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(S){y=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,1)},set:function(S){S?this.Ff=Pa(this.Ff,1):this.Ff=Ea(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,2)},set:function(S){S?this.Ff=Pa(this.Ff,2):this.Ff=Ea(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,3)},set:function(S){S?this.Ff=Pa(this.Ff,3):this.Ff=Ea(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');v=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(v){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};Gs(zl,dc);var Jf=function(){zl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return y9(r,this.objId,this.scope)},set:function(n){var a,s;s=[],typeof(a=n)=="string"&&(s=function(o,l,c){c||(c=1);for(var u,d=[];u=l.exec(o);)d.push(u[c]);return d}(a,/\((.*?)\)/g)),r=s}}),this.getOptions=function(){return r},this.setOptions=function(n){r=n,this.sort&&r.sort()},this.addOption=function(n){n=(n=n||"").toString(),r.push(n),this.sort&&r.sort()},this.removeOption=function(n,a){for(a=a||!1,n=(n=n||"").toString();r.indexOf(n)!==-1&&(r.splice(r.indexOf(n),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,18)},set:function(n){n?this.Ff=Pa(this.Ff,18):this.Ff=Ea(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Pa(this.Ff,19):this.Ff=Ea(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,20)},set:function(n){n?(this.Ff=Pa(this.Ff,20),r.sort()):this.Ff=Ea(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,22)},set:function(n){n?this.Ff=Pa(this.Ff,22):this.Ff=Ea(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,23)},set:function(n){n?this.Ff=Pa(this.Ff,23):this.Ff=Ea(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,27)},set:function(n){n?this.Ff=Pa(this.Ff,27):this.Ff=Ea(this.Ff,27)}}),this.hasAppearanceStream=!1};Gs(Jf,zl);var Zf=function(){Jf.call(this),this.fontName="helvetica",this.combo=!1};Gs(Zf,Jf);var Qf=function(){Zf.call(this),this.combo=!0};Gs(Qf,Zf);var Ix=function(){Qf.call(this),this.edit=!0};Gs(Ix,Qf);var fi=function(){zl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,15)},set:function(n){n?this.Ff=Pa(this.Ff,15):this.Ff=Ea(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,16)},set:function(n){n?this.Ff=Pa(this.Ff,16):this.Ff=Ea(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,17)},set:function(n){n?this.Ff=Pa(this.Ff,17):this.Ff=Ea(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,26)},set:function(n){n?this.Ff=Pa(this.Ff,26):this.Ff=Ea(this.Ff,26)}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+Vh(n(r[a]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){Nn(n)==="object"&&(r=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(n){typeof n=="string"&&(r.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Gs(fi,zl);var Rx=function(){fi.call(this),this.pushButton=!0};Gs(Rx,fi);var em=function(){fi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r!==void 0?r:[]}})};Gs(em,fi);var iy=function(){var e,r;zl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(s){r=s}});var n,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,l=[];for(o in l.push("<<"),a)l.push("/"+o+" ("+Vh(s(a[o]))+")");return l.push(">>"),l.join(`
`)},set:function(s){Nn(s)==="object"&&(a=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(s){typeof s=="string"&&(a.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=rr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Gs(iy,zl),em.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var n=this.Kids[r];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},em.prototype.createOption=function(e){var r=new iy;return r.Parent=this,r.optionName=e,this.Kids.push(r),W0e.call(this.scope,r),r};var zx=function(){fi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=rr.CheckBox.createAppearanceStream()};Gs(zx,fi);var Ph=function(){zl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,13)},set:function(r){r?this.Ff=Pa(this.Ff,13):this.Ff=Ea(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,21)},set:function(r){r?this.Ff=Pa(this.Ff,21):this.Ff=Ea(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,23)},set:function(r){r?this.Ff=Pa(this.Ff,23):this.Ff=Ea(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,24)},set:function(r){r?this.Ff=Pa(this.Ff,24):this.Ff=Ea(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,25)},set:function(r){r?this.Ff=Pa(this.Ff,25):this.Ff=Ea(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,26)},set:function(r){r?this.Ff=Pa(this.Ff,26):this.Ff=Ea(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){Number.isInteger(r)&&(e=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Gs(Ph,zl);var Fx=function(){Ph.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,14)},set:function(e){e?this.Ff=Pa(this.Ff,14):this.Ff=Ea(this.Ff,14)}}),this.password=!0};Gs(Fx,Ph);var rr={CheckBox:{createAppearanceStream:function(){return{N:{On:rr.CheckBox.YesNormal},D:{On:rr.CheckBox.YesPushDown,Off:rr.CheckBox.OffPushDown}}},YesPushDown:function(e){var r=oc(e);r.scope=e.scope;var n=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),o=Rj(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Fr(rr.internal.getWidth(e))+" "+Fr(rr.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+a+" "+Fr(o.fontSize)+" Tf "+s),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),r.stream=n.join(`
`),r},YesNormal:function(e){var r=oc(e);r.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=[],o=rr.internal.getHeight(e),l=rr.internal.getWidth(e),c=Rj(e,e.caption);return s.push("1 g"),s.push("0 0 "+Fr(l)+" "+Fr(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Fr(l-1)+" "+Fr(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+Fr(c.fontSize)+" Tf "+a),s.push(c.text),s.push("ET"),s.push("Q"),r.stream=s.join(`
`),r},OffPushDown:function(e){var r=oc(e);r.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Fr(rr.internal.getWidth(e))+" "+Fr(rr.internal.getHeight(e))+" re"),n.push("f"),r.stream=n.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(e){var r={D:{Off:rr.RadioButton.Circle.OffPushDown},N:{}};return r.N[e]=rr.RadioButton.Circle.YesNormal,r.D[e]=rr.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(e){var r=oc(e);r.scope=e.scope;var n=[],a=rr.internal.getWidth(e)<=rr.internal.getHeight(e)?rr.internal.getWidth(e)/4:rr.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=rr.internal.Bezier_C,o=Number((a*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+rd(rr.internal.getWidth(e)/2)+" "+rd(rr.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),n.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),n.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),n.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r},YesPushDown:function(e){var r=oc(e);r.scope=e.scope;var n=[],a=rr.internal.getWidth(e)<=rr.internal.getHeight(e)?rr.internal.getWidth(e)/4:rr.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),o=Number((s*rr.internal.Bezier_C).toFixed(5)),l=Number((a*rr.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+rd(rr.internal.getWidth(e)/2)+" "+rd(rr.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+rd(rr.internal.getWidth(e)/2)+" "+rd(rr.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),n.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),n.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),n.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r},OffPushDown:function(e){var r=oc(e);r.scope=e.scope;var n=[],a=rr.internal.getWidth(e)<=rr.internal.getHeight(e)?rr.internal.getWidth(e)/4:rr.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),o=Number((s*rr.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+rd(rr.internal.getWidth(e)/2)+" "+rd(rr.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r}},Cross:{createAppearanceStream:function(e){var r={D:{Off:rr.RadioButton.Cross.OffPushDown},N:{}};return r.N[e]=rr.RadioButton.Cross.YesNormal,r.D[e]=rr.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(e){var r=oc(e);r.scope=e.scope;var n=[],a=rr.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Fr(rr.internal.getWidth(e)-2)+" "+Fr(rr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Fr(a.x1.x)+" "+Fr(a.x1.y)+" m"),n.push(Fr(a.x2.x)+" "+Fr(a.x2.y)+" l"),n.push(Fr(a.x4.x)+" "+Fr(a.x4.y)+" m"),n.push(Fr(a.x3.x)+" "+Fr(a.x3.y)+" l"),n.push("s"),n.push("Q"),r.stream=n.join(`
`),r},YesPushDown:function(e){var r=oc(e);r.scope=e.scope;var n=rr.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+Fr(rr.internal.getWidth(e))+" "+Fr(rr.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Fr(rr.internal.getWidth(e)-2)+" "+Fr(rr.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(Fr(n.x1.x)+" "+Fr(n.x1.y)+" m"),a.push(Fr(n.x2.x)+" "+Fr(n.x2.y)+" l"),a.push(Fr(n.x4.x)+" "+Fr(n.x4.y)+" m"),a.push(Fr(n.x3.x)+" "+Fr(n.x3.y)+" l"),a.push("s"),a.push("Q"),r.stream=a.join(`
`),r},OffPushDown:function(e){var r=oc(e);r.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Fr(rr.internal.getWidth(e))+" "+Fr(rr.internal.getHeight(e))+" re"),n.push("f"),r.stream=n.join(`
`),r}}},createDefaultAppearanceStream:function(e){var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+r+" "+e.fontSize+" Tf "+n}};rr.internal={Bezier_C:.551915024494,calculateCross:function(e){var r=rr.internal.getWidth(e),n=rr.internal.getHeight(e),a=Math.min(r,n);return{x1:{x:(r-a)/2,y:(n-a)/2+a},x2:{x:(r-a)/2+a,y:(n-a)/2},x3:{x:(r-a)/2,y:(n-a)/2},x4:{x:(r-a)/2+a,y:(n-a)/2+a}}}},rr.internal.getWidth=function(e){var r=0;return Nn(e)==="object"&&(r=AA(e.Rect[2])),r},rr.internal.getHeight=function(e){var r=0;return Nn(e)==="object"&&(r=AA(e.Rect[3])),r};var W0e=ba.addField=function(e){if(V0e(this,e),!(e instanceof zl))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=e).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ba.AcroFormChoiceField=Jf,ba.AcroFormListBox=Zf,ba.AcroFormComboBox=Qf,ba.AcroFormEditBox=Ix,ba.AcroFormButton=fi,ba.AcroFormPushButton=Rx,ba.AcroFormRadioButton=em,ba.AcroFormCheckBox=zx,ba.AcroFormTextField=Ph,ba.AcroFormPasswordField=Fx,ba.AcroFormAppearance=rr,ba.AcroForm={ChoiceField:Jf,ListBox:Zf,ComboBox:Qf,EditBox:Ix,Button:fi,PushButton:Rx,RadioButton:em,CheckBox:zx,TextField:Ph,PasswordField:Fx,Appearance:rr},dr.AcroForm={ChoiceField:Jf,ListBox:Zf,ComboBox:Qf,EditBox:Ix,Button:fi,PushButton:Rx,RadioButton:em,CheckBox:zx,TextField:Ph,PasswordField:Fx,Appearance:rr};dr.AcroForm;function j9(e){return e.reduce(function(r,n,a){return r[n]=a,r},{})}(function(e){var r="addImage_";e.__addimage__={};var n="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(T,M){var I,q,H,te,O,re=n;if((M=M||n)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if($(T))for(O in a)for(H=a[O],I=0;I<H.length;I+=1){for(te=!0,q=0;q<H[I].length;q+=1)if(H[I][q]!==void 0&&H[I][q]!==T[q]){te=!1;break}if(te===!0){re=O;break}}else for(O in a)for(H=a[O],I=0;I<H.length;I+=1){for(te=!0,q=0;q<H[I].length;q+=1)if(H[I][q]!==void 0&&H[I][q]!==T.charCodeAt(q)){te=!1;break}if(te===!0){re=O;break}}return re===n&&M!==n&&(re=M),re},o=function T(M){for(var I=this.internal.write,q=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:M.width}),te.push({key:"Height",value:M.height}),M.colorSpace===S.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===S.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var O="",re=0,Y=M.transparency.length;re<Y;re++)O+=M.transparency[re]+" "+M.transparency[re]+" ";te.push({key:"Mask",value:"["+O+"]"})}M.sMask!==void 0&&te.push({key:"SMask",value:M.objectId+1+" 0 R"});var P=M.filter!==void 0?["/"+M.filter]:void 0;if(q({data:M.data,additionalKeyValues:te,alreadyAppliedFilters:P,objectId:M.objectId}),I("endobj"),"sMask"in M&&M.sMask!==void 0){var L,R=(L=M.sMaskBitsPerComponent)!==null&&L!==void 0?L:M.bitsPerComponent,G={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:R,data:M.sMask};"filter"in M&&(G.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(R," /Columns ").concat(M.width),G.filter=M.filter),T.call(this,G)}if(M.colorSpace===S.INDEXED){var X=this.internal.newObject();q({data:V(new Uint8Array(M.palette)),objectId:X}),I("endobj")}},l=function(){var T=this.internal.collections[r+"images"];for(var M in T)o.call(this,T[M])},c=function(){var T,M=this.internal.collections[r+"images"],I=this.internal.write;for(var q in M)I("/I"+(T=M[q]).index,T.objectId,"0","R")},u=function(){this.internal.collections[r+"images"]||(this.internal.collections[r+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var T=this.internal.collections[r+"images"];return u.call(this),T},f=function(){return Object.keys(this.internal.collections[r+"images"]).length},p=function(T){return typeof e["process"+T.toUpperCase()]=="function"},x=function(T){return Nn(T)==="object"&&T.nodeType===1},g=function(T,M){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var I=""+T.getAttribute("src");if(I.indexOf("data:image/")===0)return Mx(unescape(I).split("base64,").pop());var q=e.loadFile(I,!0);if(q!==void 0)return q}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var H;switch(M){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;default:H="image/jpeg"}return Mx(T.toDataURL(H,1).split("base64,").pop())}},y=function(T){var M=this.internal.collections[r+"images"];if(M){for(var I in M)if(T===M[I].alias)return M[I]}},w=function(T,M,I){return T||M||(T=-96,M=-96),T<0&&(T=-1*I.width*72/T/this.internal.scaleFactor),M<0&&(M=-1*I.height*72/M/this.internal.scaleFactor),T===0&&(T=M*I.width/I.height),M===0&&(M=T*I.height/I.width),[T,M]},v=function(T,M,I,q,H,te){var O=w.call(this,I,q,H),re=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,P=d.call(this);if(I=O[0],q=O[1],P[H.index]=H,te){te*=Math.PI/180;var L=Math.cos(te),R=Math.sin(te),G=function(D){return D.toFixed(4)},X=[G(L),G(R),G(-1*R),G(L),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,re(T),Y(M+q),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([re(I),"0","0",re(q),"0","0","cm"].join(" "))):this.internal.write([re(I),"0","0",re(q),re(T),Y(M+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q")},S=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var k=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=e.__addimage__.sHashCode=function(T){var M,I,q=0;if(typeof T=="string")for(I=T.length,M=0;M<I;M++)q=(q<<5)-q+T.charCodeAt(M),q|=0;else if($(T))for(I=T.byteLength/2,M=0;M<I;M++)q=(q<<5)-q+T[M],q|=0;return q},C=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var M=!0;return T.length===0&&(M=!1),T.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(M=!1),M},z=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var M=T.indexOf(",");return M<0?null:T.substring(0,M).trim().endsWith("base64")?T.substring(M+1):null};e.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var $=e.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},F=e.__addimage__.binaryStringToUint8Array=function(T){for(var M=T.length,I=new Uint8Array(M),q=0;q<M;q++)I[q]=T.charCodeAt(q);return I},V=e.__addimage__.arrayBufferToBinaryString=function(T){for(var M="",I=$(T)?T:new Uint8Array(T),q=0;q<I.length;q+=8192)M+=String.fromCharCode.apply(null,I.subarray(q,q+8192));return M};e.addImage=function(){var T,M,I,q,H,te,O,re,Y;if(typeof arguments[1]=="number"?(M=n,I=arguments[1],q=arguments[2],H=arguments[3],te=arguments[4],O=arguments[5],re=arguments[6],Y=arguments[7]):(M=arguments[1],I=arguments[2],q=arguments[3],H=arguments[4],te=arguments[5],O=arguments[6],re=arguments[7],Y=arguments[8]),Nn(T=arguments[0])==="object"&&!x(T)&&"imageData"in T){var P=T;T=P.imageData,M=P.format||M||n,I=P.x||I||0,q=P.y||q||0,H=P.w||P.width||H,te=P.h||P.height||te,O=P.alias||O,re=P.compression||re,Y=P.rotation||P.angle||Y}var L=this.internal.getFilters();if(re===void 0&&L.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(I)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var R=B.call(this,T,M,O,re);return v.call(this,I,q,H,te,R,Y),this};var B=function(T,M,I,q){var H,te,O;if(typeof T=="string"&&s(T)===n){T=unescape(T);var re=K(T,!1);(re!==""||(re=e.loadFile(T,!0))!==void 0)&&(T=re)}if(x(T)&&(T=g(T,M)),M=s(T,M),!p(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((O=I)==null||O.length===0)&&(I=function(Y){return typeof Y=="string"||$(Y)?j(Y):$(Y.data)?j(Y.data):null}(T)),(H=y.call(this,I))||(T instanceof Uint8Array||M==="RGBA"||(te=T,T=F(T)),H=this["process"+M.toUpperCase()](T,f.call(this),I,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in e.image_compression?Y:k.NONE}(q),te)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H},K=e.__addimage__.convertBase64ToBinaryString=function(T,M){M=typeof M!="boolean"||M;var I,q="";if(typeof T=="string"){var H;I=(H=z(T))!==null&&H!==void 0?H:T;try{q=Mx(I)}catch(te){if(M)throw C(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};e.getImageProperties=function(T){var M,I,q="";if(x(T)&&(T=g(T)),typeof T=="string"&&s(T)===n&&((q=K(T,!1))===""&&(q=e.loadFile(T)||""),T=q),I=s(T),!p(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(T instanceof Uint8Array||(T=F(T)),!(M=this["process"+I.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=I,M}})(dr.API),function(e){var r=function(n){if(n!==void 0&&n!="")return!0};dr.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var a,s,o,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,f=!1,p=0;p<d.length&&!f;p++)switch((a=d[p]).type){case"link":(r(a.options.url)||r(a.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var x=0;x<d.length;x++){a=d[x];var g=this.internal.pdfEscape,y=this.internal.getEncryptor(n.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(w.objId),k=a.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+l(a.bounds.x)+" "+c(a.bounds.y+a.bounds.h)+" "+l(a.bounds.x+a.bounds.w)+" "+c(a.bounds.y)+"] ")+"/Contents ("+g(S(a.contents))+")",o+=" /Popup "+v.objId+" 0 R",o+=" /P "+u.objId+" 0 R",o+=" /T ("+g(S(k))+") >>",w.content=o;var j=w.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+l(a.bounds.x+30)+" "+c(a.bounds.y+a.bounds.h)+" "+l(a.bounds.x+a.bounds.w+30)+" "+c(a.bounds.y)+"] ")+" /Parent "+j,a.open&&(o+=" /Open true"),o+=" >>",v.content=o,this.internal.write(w.objId,"0 R",v.objId,"0 R");break;case"freetext":s="/Rect ["+l(a.bounds.x)+" "+c(a.bounds.y)+" "+l(a.bounds.x+a.bounds.w)+" "+c(a.bounds.y+a.bounds.h)+"] ";var C=a.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+g(y(a.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(a.options.name){var z=this.annotations._nameMap[a.options.name];a.options.pageNumber=z.page,a.options.top=z.y}else a.options.top||(a.options.top=0);if(s="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",o="",a.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+g(y(a.options.url))+") >>";else if(a.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,o+=" /FitV "+a.options.left+"]";break;default:var $=c(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),o+=" /XYZ "+a.options.left+" "+$+" "+a.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var a=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":a.pageContext.annotations.push(n)}},e.link=function(n,a,s,o,l){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(n),y:d(a),w:u(n+s),h:d(a+o)},options:l,type:"link"})},e.textWithLink=function(n,a,s,o){var l,c,u=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var f=this.splitTextToSize(n,c).length;l=Math.ceil(d*f)}else c=u,l=d;return this.text(n,a,s,o),s+=.2*d,o.align==="center"&&(a-=u/2),o.align==="right"&&(a-=u),this.link(a,s-d,c,l,o),u},e.getTextWidth=function(n){var a=this.internal.getFontSize();return this.getStringUnitWidth(n)*a/this.internal.scaleFactor}}(dr.API),function(e){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(w){return r[w.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},c=e.__arabicParser__.isArabicEndLetter=function(w){return l(w)&&o(w)&&r[w.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(w){return l(w)&&s.indexOf(w.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return l(w)&&o(w)&&r[w.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(w){return l(w)&&o(w)&&r[w.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(w){return l(w)&&o(w)&&r[w.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(w){return l(w)&&o(w)&&r[w.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(w){var v=0,S=n,k="",j=0;for(v=0;v<w.length;v+=1)S[w.charCodeAt(v)]!==void 0?(j++,typeof(S=S[w.charCodeAt(v)])=="number"&&(k+=String.fromCharCode(S),S=n,j=0),v===w.length-1&&(S=n,k+=w.charAt(v-(j-1)),v-=j-1,j=0)):(S=n,k+=w.charAt(v-j),v-=j,j=0);return k};e.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&a[w.charCodeAt(0)]!==void 0};var x=e.__arabicParser__.getCorrectForm=function(w,v,S){return l(w)?o(w)===!1?-1:!d(w)||!l(v)&&!l(S)||!l(S)&&c(v)||c(w)&&!l(v)||c(w)&&u(v)||c(w)&&c(v)?0:f(w)&&l(v)&&!c(v)&&l(S)&&d(S)?3:c(w)||!l(S)?1:2:-1},g=function(w){var v=0,S=0,k=0,j="",C="",z="",$=(w=w||"").split("\\s+"),F=[];for(v=0;v<$.length;v+=1){for(F.push(""),S=0;S<$[v].length;S+=1)j=$[v][S],C=$[v][S-1],z=$[v][S+1],l(j)?(k=x(j,C,z),F[v]+=k!==-1?String.fromCharCode(r[j.charCodeAt(0)][k]):j):F[v]+=j;F[v]=p(F[v])}return F.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var w,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(v)){var k=0;for(S=[],k=0;k<v.length;k+=1)Array.isArray(v[k])?S.push([g(v[k][0]),v[k][1],v[k][2]]):S.push([g(v[k])]);w=S}else w=g(v);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};e.events.push(["preProcessText",y])}(dr.API),dr.API.autoPrint=function(e){var r;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})),this},function(e){var r=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(n,a){var s;if((n=n||"2d")!=="2d")return null;for(s in a)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=a[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])}(dr.API),function(e){var r={left:0,top:0,bottom:0,right:0},n=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(w){x=w}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(w){y=w}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return a.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,d){a.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),p=d.font||this.getFont(),x=d.scaleFactor||this.internal.scaleFactor,g=0,y=0,w=0,v=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var S=d.maxWidth;S>0?typeof u=="string"?u=this.splitTextToSize(u,S):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(j,C){return j.concat(v.splitTextToSize(C,S))},[])):u=Array.isArray(u)?u:[u];for(var k=0;k<u.length;k++)g<(w=this.getStringUnitWidth(u[k],{font:p})*f)&&(g=w);return g!==0&&(y=u.length),{w:g/=x,h:Math.max((y*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/x,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var u=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new o(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var u;u=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||r,x=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=p.top,g&&x&&(this.printHeaderRow(u.lineNumber,!0),u.y+=x[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,n===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};e.table=function(u,d,f,p,x){if(a.call(this),!f)throw new Error("No data for PDF table.");var g,y,w,v,S=[],k=[],j=[],C={},z={},$=[],F=[],V=(x=x||{}).autoSize||!1,B=x.printHeaders!==!1,K=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,T=x.margins||Object.assign({width:this.getPageWidth()},r),M=typeof x.padding=="number"?x.padding:3,I=x.headerBackgroundColor||"#c8c8c8",q=x.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=q,this.setFontSize(K),p==null)k=S=Object.keys(f[0]),j=S.map(function(){return"left"});else if(Array.isArray(p)&&Nn(p[0])==="object")for(S=p.map(function(P){return P.name}),k=p.map(function(P){return P.prompt||P.name||""}),j=p.map(function(P){return P.align||"left"}),g=0;g<p.length;g+=1)z[p[g].name]=.7499990551181103*p[g].width;else Array.isArray(p)&&typeof p[0]=="string"&&(k=S=p,j=S.map(function(){return"left"}));if(V||Array.isArray(p)&&typeof p[0]=="string")for(g=0;g<S.length;g+=1){for(C[v=S[g]]=f.map(function(P){return P[v]}),this.setFont(void 0,"bold"),$.push(this.getTextDimensions(k[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=C[v],this.setFont(void 0,"normal"),w=0;w<y.length;w+=1)$.push(this.getTextDimensions(y[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[v]=Math.max.apply(null,$)+M+M,$=[]}if(B){var H={};for(g=0;g<S.length;g+=1)H[S[g]]={},H[S[g]].text=k[g],H[S[g]].align=j[g];var te=c.call(this,H,z);F=S.map(function(P){return new o(u,d,z[P],te,H[P].text,void 0,H[P].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var O=p.reduce(function(P,L){return P[L.name]=L.align,P},{});for(g=0;g<f.length;g+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:g,data:f[g]},this);var re=c.call(this,f[g],z);for(w=0;w<S.length;w+=1){var Y=f[g][S[w]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:g,col:w,data:Y},this),l.call(this,new o(u,d,z[S[w]],re,Y,g+2,O[S[w]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var c=function(u,d){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(u).map(function(g){var y=u[g];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,d[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*p/x+f+f},this).reduce(function(g,y){return Math.max(g,y)},0)};e.setTableHeaderRow=function(u){a.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,d){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,x.push(f)),f.lineNumber=u;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,f),this.setTextColor(y)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),n=!1}}(dr.API);var N9={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},_9=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],zj=j9(_9),S9=[100,200,300,400,500,600,700,800,900],K0e=j9(S9);function B2(e){var r=e.family.replace(/"|'/g,"").toLowerCase(),n=function(o){return N9[o=o||"normal"]?o:"normal"}(e.style),a=function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400}(e.weight),s=function(o){return typeof zj[o=o||"normal"]=="number"?o:"normal"}(e.stretch);return{family:r,style:n,weight:a,stretch:s,src:e.src||[],ref:e.ref||{name:r,style:[s,n,a].join(" ")}}}function DA(e,r,n,a){var s;for(s=n;s>=0&&s<r.length;s+=a)if(e[r[s]])return e[r[s]];for(s=n;s>=0&&s<r.length;s-=a)if(e[r[s]])return e[r[s]]}var G0e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},LA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function OA(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function TA(e){return e.trimLeft()}function Y0e(e,r){for(var n=0;n<e.length;){if(e.charAt(n)===r)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function X0e(e){var r=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],e.substring(r[0].length)]}var vx,MA,IA,Cf,yx,RA,zA,FA,U2=["times"];function $A(e,r,n,a,s){var o=4,l=UA;switch(s){case dr.API.image_compression.FAST:o=1,l=BA;break;case dr.API.image_compression.MEDIUM:o=6,l=qA;break;case dr.API.image_compression.SLOW:o=9,l=HA}e=function(u,d,f,p){for(var x,g=u.length/d,y=new Uint8Array(u.length+g),w=[J0e,BA,UA,qA,HA],v=0;v<g;v+=1){var S=v*d,k=u.subarray(S,S+d);if(p)y.set(p(k,f,x),S+v);else{for(var j=w.length,C=[],z=0;z<j;z+=1)C[z]=w[z](k,f,x);var $=Q0e(C.concat());y.set(C[$],S+v)}x=k}return y}(e,r,Math.ceil(n*a/8),l);var c=Dj(e,{level:o});return dr.API.__addimage__.arrayBufferToBinaryString(c)}function J0e(e){var r=Array.apply([],e);return r.unshift(0),r}function BA(e,r){var n=e.length,a=[];a[0]=1;for(var s=0;s<n;s+=1){var o=e[s-r]||0;a[s+1]=e[s]-o+256&255}return a}function UA(e,r,n){var a=e.length,s=[];s[0]=2;for(var o=0;o<a;o+=1){var l=n&&n[o]||0;s[o+1]=e[o]-l+256&255}return s}function qA(e,r,n){var a=e.length,s=[];s[0]=3;for(var o=0;o<a;o+=1){var l=e[o-r]||0,c=n&&n[o]||0;s[o+1]=e[o]+256-(l+c>>>1)&255}return s}function HA(e,r,n){var a=e.length,s=[];s[0]=4;for(var o=0;o<a;o+=1){var l=Z0e(e[o-r]||0,n&&n[o]||0,n&&n[o-r]||0);s[o+1]=e[o]-l+256&255}return s}function Z0e(e,r,n){if(e===r&&r===n)return e;var a=Math.abs(r-n),s=Math.abs(e-n),o=Math.abs(e+r-n-n);return a<=s&&a<=o?e:s<=o?r:n}function Q0e(e){var r=e.map(function(n){return n.reduce(function(a,s){return a+Math.abs(s)},0)});return r.indexOf(Math.min.apply(null,r))}function q2(e,r,n){var a=r*n,s=Math.floor(a/8),o=16-(a-8*s+n),l=(1<<n)-1;return k9(e,s)>>o&l}function VA(e,r,n,a){var s=n*a,o=Math.floor(s/8),l=16-(s-8*o+a),c=(1<<a)-1,u=(r&c)<<l;(function(d,f,p){if(f+1<d.byteLength)d.setUint16(f,p,!1);else{var x=p>>8&255;d.setUint8(f,x)}})(e,o,k9(e,o)&~(c<<l)&65535|u)}function k9(e,r){return r+1<e.byteLength?e.getUint16(r,!1):e.getUint8(r)<<8}function ege(e){var r=0;if(e[r++]!==71||e[r++]!==73||e[r++]!==70||e[r++]!==56||(e[r++]+1&253)!=56||e[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[r++]|e[r++]<<8,a=e[r++]|e[r++]<<8,s=e[r++],o=s>>7,l=1<<1+(7&s);e[r++],e[r++];var c=null,u=null;o&&(c=r,u=l,r+=3*l);var d=!0,f=[],p=0,x=null,g=0,y=null;for(this.width=n,this.height=a;d&&r<e.length;)switch(e[r++]){case 33:switch(e[r++]){case 255:if(e[r]!==11||e[r+1]==78&&e[r+2]==69&&e[r+3]==84&&e[r+4]==83&&e[r+5]==67&&e[r+6]==65&&e[r+7]==80&&e[r+8]==69&&e[r+9]==50&&e[r+10]==46&&e[r+11]==48&&e[r+12]==3&&e[r+13]==1&&e[r+16]==0)r+=14,y=e[r++]|e[r++]<<8,r++;else for(r+=12;;){if(!((T=e[r++])>=0))throw Error("Invalid block size");if(T===0)break;r+=T}break;case 249:if(e[r++]!==4||e[r+4]!==0)throw new Error("Invalid graphics extension block.");var w=e[r++];p=e[r++]|e[r++]<<8,x=e[r++],1&w||(x=null),g=w>>2&7,r++;break;case 254:for(;;){if(!((T=e[r++])>=0))throw Error("Invalid block size");if(T===0)break;r+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[r-1].toString(16))}break;case 44:var v=e[r++]|e[r++]<<8,S=e[r++]|e[r++]<<8,k=e[r++]|e[r++]<<8,j=e[r++]|e[r++]<<8,C=e[r++],z=C>>6&1,$=1<<1+(7&C),F=c,V=u,B=!1;C>>7&&(B=!0,F=r,V=$,r+=3*$);var K=r;for(r++;;){var T;if(!((T=e[r++])>=0))throw Error("Invalid block size");if(T===0)break;r+=T}f.push({x:v,y:S,width:k,height:j,has_local_palette:B,palette_offset:F,palette_size:V,data_offset:K,data_length:r-K,transparent_index:x,interlaced:!!z,delay:p,disposal:g});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[r-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return y},this.frameInfo=function(M){if(M<0||M>=f.length)throw new Error("Frame index out of range.");return f[M]},this.decodeAndBlitFrameBGRA=function(M,I){var q=this.frameInfo(M),H=q.width*q.height,te=new Uint8Array(H);WA(e,q.data_offset,te,H);var O=q.palette_offset,re=q.transparent_index;re===null&&(re=256);var Y=q.width,P=n-Y,L=Y,R=4*(q.y*n+q.x),G=4*((q.y+q.height)*n+q.x),X=R,D=4*P;q.interlaced===!0&&(D+=4*n*7);for(var Z=8,ae=0,le=te.length;ae<le;++ae){var Q=te[ae];if(L===0&&(L=Y,(X+=D)>=G&&(D=4*P+4*n*(Z-1),X=R+(Y+P)*(Z<<1),Z>>=1)),Q===re)X+=4;else{var oe=e[O+3*Q],ve=e[O+3*Q+1],ue=e[O+3*Q+2];I[X++]=ue,I[X++]=ve,I[X++]=oe,I[X++]=255}--L}},this.decodeAndBlitFrameRGBA=function(M,I){var q=this.frameInfo(M),H=q.width*q.height,te=new Uint8Array(H);WA(e,q.data_offset,te,H);var O=q.palette_offset,re=q.transparent_index;re===null&&(re=256);var Y=q.width,P=n-Y,L=Y,R=4*(q.y*n+q.x),G=4*((q.y+q.height)*n+q.x),X=R,D=4*P;q.interlaced===!0&&(D+=4*n*7);for(var Z=8,ae=0,le=te.length;ae<le;++ae){var Q=te[ae];if(L===0&&(L=Y,(X+=D)>=G&&(D=4*P+4*n*(Z-1),X=R+(Y+P)*(Z<<1),Z>>=1)),Q===re)X+=4;else{var oe=e[O+3*Q],ve=e[O+3*Q+1],ue=e[O+3*Q+2];I[X++]=oe,I[X++]=ve,I[X++]=ue,I[X++]=255}--L}}}function WA(e,r,n,a){for(var s=e[r++],o=1<<s,l=o+1,c=l+1,u=s+1,d=(1<<u)-1,f=0,p=0,x=0,g=e[r++],y=new Int32Array(4096),w=null;;){for(;f<16&&g!==0;)p|=e[r++]<<f,f+=8,g===1?g=e[r++]:--g;if(f<u)break;var v=p&d;if(p>>=u,f-=u,v!==o){if(v===l)break;for(var S=v<c?v:w,k=0,j=S;j>o;)j=y[j]>>8,++k;var C=j;if(x+k+(S!==v?1:0)>a)return void Ln.log("Warning, gif stream longer than expected.");n[x++]=C;var z=x+=k;for(S!==v&&(n[x++]=C),j=S;k--;)j=y[j],n[--z]=255&j,j>>=8;w!==null&&c<4096&&(y[c++]=w<<8|C,c>=d+1&&u<12&&(++u,d=d<<1|1)),w=v}else c=l+1,d=(1<<(u=s+1))-1,w=null}return x!==a&&Ln.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function H2(e){var r,n,a,s,o,l=Math.floor,c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(64),p=new Array(65535),x=new Array(65535),g=new Array(64),y=new Array(64),w=[],v=0,S=7,k=new Array(64),j=new Array(64),C=new Array(64),z=new Array(256),$=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],V=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(R,G){for(var X=0,D=0,Z=new Array,ae=1;ae<=16;ae++){for(var le=1;le<=R[ae];le++)Z[G[D]]=[],Z[G[D]][0]=X,Z[G[D]][1]=ae,D++,X++;X*=2}return Z}function O(R){for(var G=R[0],X=R[1]-1;X>=0;)G&1<<X&&(v|=1<<S),X--,--S<0&&(v==255?(re(255),re(0)):re(v),S=7,v=0)}function re(R){w.push(R)}function Y(R){re(R>>8&255),re(255&R)}function P(R,G,X,D,Z){for(var ae,le=Z[0],Q=Z[240],oe=function(Me,Re){var xe,Pe,be,Ae,Ie,Ce,He,Ve,at,Qe,ut=0;for(at=0;at<8;++at){xe=Me[ut],Pe=Me[ut+1],be=Me[ut+2],Ae=Me[ut+3],Ie=Me[ut+4],Ce=Me[ut+5],He=Me[ut+6];var Ft=xe+(Ve=Me[ut+7]),he=xe-Ve,pt=Pe+He,vt=Pe-He,wt=be+Ce,gt=be-Ce,xt=Ae+Ie,rt=Ae-Ie,It=Ft+xt,Bt=Ft-xt,zt=pt+wt,yt=pt-wt;Me[ut]=It+zt,Me[ut+4]=It-zt;var ht=.707106781*(yt+Bt);Me[ut+2]=Bt+ht,Me[ut+6]=Bt-ht;var ur=.382683433*((It=rt+gt)-(yt=vt+he)),Jt=.5411961*It+ur,Tr=1.306562965*yt+ur,$r=.707106781*(zt=gt+vt),Dt=he+$r,Wr=he-$r;Me[ut+5]=Wr+Jt,Me[ut+3]=Wr-Jt,Me[ut+1]=Dt+Tr,Me[ut+7]=Dt-Tr,ut+=8}for(ut=0,at=0;at<8;++at){xe=Me[ut],Pe=Me[ut+8],be=Me[ut+16],Ae=Me[ut+24],Ie=Me[ut+32],Ce=Me[ut+40],He=Me[ut+48];var Nr=xe+(Ve=Me[ut+56]),Lt=xe-Ve,_r=Pe+He,gr=Pe-He,Sr=be+Ce,hn=be-Ce,en=Ae+Ie,pe=Ae-Ie,Ee=Nr+en,ze=Nr-en,Ke=_r+Sr,ft=_r-Sr;Me[ut]=Ee+Ke,Me[ut+32]=Ee-Ke;var bt=.707106781*(ft+ze);Me[ut+16]=ze+bt,Me[ut+48]=ze-bt;var _t=.382683433*((Ee=pe+hn)-(ft=gr+Lt)),$t=.5411961*Ee+_t,Qt=1.306562965*ft+_t,nr=.707106781*(Ke=hn+gr),vr=Lt+nr,Kr=Lt-nr;Me[ut+40]=Kr+$t,Me[ut+24]=Kr-$t,Me[ut+8]=vr+Qt,Me[ut+56]=vr-Qt,ut++}for(at=0;at<64;++at)Qe=Me[at]*Re[at],g[at]=Qe>0?Qe+.5|0:Qe-.5|0;return g}(R,G),ve=0;ve<64;++ve)y[F[ve]]=oe[ve];var ue=y[0]-X;X=y[0],ue==0?O(D[0]):(O(D[x[ae=32767+ue]]),O(p[ae]));for(var ge=63;ge>0&&y[ge]==0;)ge--;if(ge==0)return O(le),X;for(var ie,se=1;se<=ge;){for(var _e=se;y[se]==0&&se<=ge;)++se;var Te=se-_e;if(Te>=16){ie=Te>>4;for(var Xe=1;Xe<=ie;++Xe)O(Q);Te&=15}ae=32767+y[se],O(Z[(Te<<4)+x[ae]]),O(p[ae]),se++}return ge!=63&&O(le),X}function L(R){R=Math.min(Math.max(R,1),100),o!=R&&(function(G){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],D=0;D<64;D++){var Z=l((X[D]*G+50)/100);Z=Math.min(Math.max(Z,1),255),c[F[D]]=Z}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],le=0;le<64;le++){var Q=l((ae[le]*G+50)/100);Q=Math.min(Math.max(Q,1),255),u[F[le]]=Q}for(var oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ve=0,ue=0;ue<8;ue++)for(var ge=0;ge<8;ge++)d[ve]=1/(c[F[ve]]*oe[ue]*oe[ge]*8),f[ve]=1/(u[F[ve]]*oe[ue]*oe[ge]*8),ve++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),o=R)}this.encode=function(R,G){G&&L(G),w=new Array,v=0,S=7,Y(65496),Y(65504),Y(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),Y(1),Y(1),re(0),re(0),function(){Y(65499),Y(132),re(0);for(var Pe=0;Pe<64;Pe++)re(c[Pe]);re(1);for(var be=0;be<64;be++)re(u[be])}(),function(Pe,be){Y(65472),Y(17),re(8),Y(be),Y(Pe),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)}(R.width,R.height),function(){Y(65476),Y(418),re(0);for(var Pe=0;Pe<16;Pe++)re(V[Pe+1]);for(var be=0;be<=11;be++)re(B[be]);re(16);for(var Ae=0;Ae<16;Ae++)re(K[Ae+1]);for(var Ie=0;Ie<=161;Ie++)re(T[Ie]);re(1);for(var Ce=0;Ce<16;Ce++)re(M[Ce+1]);for(var He=0;He<=11;He++)re(I[He]);re(17);for(var Ve=0;Ve<16;Ve++)re(q[Ve+1]);for(var at=0;at<=161;at++)re(H[at])}(),Y(65498),Y(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var X=0,D=0,Z=0;v=0,S=7,this.encode.displayName="_encode_";for(var ae,le,Q,oe,ve,ue,ge,ie,se,_e=R.data,Te=R.width,Xe=R.height,Me=4*Te,Re=0;Re<Xe;){for(ae=0;ae<Me;){for(ve=Me*Re+ae,ge=-1,ie=0,se=0;se<64;se++)ue=ve+(ie=se>>3)*Me+(ge=4*(7&se)),Re+ie>=Xe&&(ue-=Me*(Re+1+ie-Xe)),ae+ge>=Me&&(ue-=ae+ge-Me+4),le=_e[ue++],Q=_e[ue++],oe=_e[ue++],k[se]=($[le]+$[Q+256|0]+$[oe+512|0]>>16)-128,j[se]=($[le+768|0]+$[Q+1024|0]+$[oe+1280|0]>>16)-128,C[se]=($[le+1280|0]+$[Q+1536|0]+$[oe+1792|0]>>16)-128;X=P(k,d,X,r,a),D=P(j,f,D,n,s),Z=P(C,f,Z,n,s),ae+=32}Re+=8}if(S>=0){var xe=[];xe[1]=S+1,xe[0]=(1<<S+1)-1,O(xe)}return Y(65497),new Uint8Array(w)},e=e||50,function(){for(var R=String.fromCharCode,G=0;G<256;G++)z[G]=R(G)}(),r=te(V,B),n=te(M,I),a=te(K,T),s=te(q,H),function(){for(var R=1,G=2,X=1;X<=15;X++){for(var D=R;D<G;D++)x[32767+D]=X,p[32767+D]=[],p[32767+D][1]=X,p[32767+D][0]=D;for(var Z=-(G-1);Z<=-R;Z++)x[32767+Z]=X,p[32767+Z]=[],p[32767+Z][1]=X,p[32767+Z][0]=G-1+Z;R<<=1,G<<=1}}(),function(){for(var R=0;R<256;R++)$[R]=19595*R,$[R+256|0]=38470*R,$[R+512|0]=7471*R+32768,$[R+768|0]=-11059*R,$[R+1024|0]=-21709*R,$[R+1280|0]=32768*R+8421375,$[R+1536|0]=-27439*R,$[R+1792|0]=-5329*R}(),L(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function wl(e,r){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function KA(e){function r(B){if(!B)throw Error("assert :P")}function n(B,K,T){for(var M=0;4>M;M++)if(B[K+M]!=T.charCodeAt(M))return!0;return!1}function a(B,K,T,M,I){for(var q=0;q<I;q++)B[K+q]=T[M+q]}function s(B,K,T,M){for(var I=0;I<M;I++)B[K+I]=T}function o(B){return new Int32Array(B)}function l(B,K){for(var T=[],M=0;M<B;M++)T.push(new K);return T}function c(B,K){var T=[];return function M(I,q,H){for(var te=H[q],O=0;O<te&&(I.push(H.length>q+1?[]:new K),!(H.length<q+1));O++)M(I[O],q+1,H)}(T,0,B),T}var u=function(){var B=this;function K(_,A){for(var J=1<<A-1>>>0;_&J;)J>>>=1;return J?(_&J-1)+J:_}function T(_,A,J,ne,de){r(!(ne%J));do _[A+(ne-=J)]=de;while(0<ne)}function M(_,A,J,ne,de){if(r(2328>=de),512>=de)var me=o(512);else if((me=o(de))==null)return 0;return function(ye,we,je,Se,Fe,Ge){var ke,Be,We=we,lt=1<<je,Je=o(16),nt=o(16);for(r(Fe!=0),r(Se!=null),r(ye!=null),r(0<je),Be=0;Be<Fe;++Be){if(15<Se[Be])return 0;++Je[Se[Be]]}if(Je[0]==Fe)return 0;for(nt[1]=0,ke=1;15>ke;++ke){if(Je[ke]>1<<ke)return 0;nt[ke+1]=nt[ke]+Je[ke]}for(Be=0;Be<Fe;++Be)ke=Se[Be],0<Se[Be]&&(Ge[nt[ke]++]=Be);if(nt[15]==1)return(Se=new I).g=0,Se.value=Ge[0],T(ye,We,1,lt,Se),lt;var st,dt=-1,mt=lt-1,or=0,Kt=1,Rr=1,Zt=1<<je;for(Be=0,ke=1,Fe=2;ke<=je;++ke,Fe<<=1){if(Kt+=Rr<<=1,0>(Rr-=Je[ke]))return 0;for(;0<Je[ke];--Je[ke])(Se=new I).g=ke,Se.value=Ge[Be++],T(ye,We+or,Fe,Zt,Se),or=K(or,ke)}for(ke=je+1,Fe=2;15>=ke;++ke,Fe<<=1){if(Kt+=Rr<<=1,0>(Rr-=Je[ke]))return 0;for(;0<Je[ke];--Je[ke]){if(Se=new I,(or&mt)!=dt){for(We+=Zt,st=1<<(dt=ke)-je;15>dt&&!(0>=(st-=Je[dt]));)++dt,st<<=1;lt+=Zt=1<<(st=dt-je),ye[we+(dt=or&mt)].g=st+je,ye[we+dt].value=We-we-dt}Se.g=ke-je,Se.value=Ge[Be++],T(ye,We+(or>>je),Fe,Zt,Se),or=K(or,ke)}}return Kt!=2*nt[15]-1?0:lt}(_,A,J,ne,de,me)}function I(){this.value=this.g=0}function q(){this.value=this.g=0}function H(){this.G=l(5,I),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Ts,q)}function te(_,A,J,ne){r(_!=null),r(A!=null),r(2147483648>ne),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=A,_.pa=J,_.Jd=A,_.Yc=J+ne,_.Zc=4<=ne?J+ne-4+1:J,le(_)}function O(_,A){for(var J=0;0<A--;)J|=oe(_,128)<<A;return J}function re(_,A){var J=O(_,A);return Q(_)?-J:J}function Y(_,A,J,ne){var de,me=0;for(r(_!=null),r(A!=null),r(4294967288>ne),_.Sb=ne,_.Ra=0,_.u=0,_.h=0,4<ne&&(ne=4),de=0;de<ne;++de)me+=A[J+de]<<8*de;_.Ra=me,_.bb=ne,_.oa=A,_.pa=J}function P(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<Gl-8>>>0,++_.bb,_.u-=8;D(_)&&(_.h=1,_.u=0)}function L(_,A){if(r(0<=A),!_.h&&A<=hs){var J=X(_)&ds[A];return _.u+=A,P(_),J}return _.h=1,_.u=0}function R(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(_){return _.Ra>>>(_.u&Gl-1)>>>0}function D(_){return r(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>Gl}function Z(_,A){_.u=A,_.h=D(_)}function ae(_){_.u>=Lo&&(r(_.u>=Lo),P(_))}function le(_){r(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(r(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function Q(_){return O(_,1)}function oe(_,A){var J=_.Ca;0>_.b&&le(_);var ne=_.b,de=J*A>>>8,me=(_.I>>>ne>de)+0;for(me?(J-=de,_.I-=de+1<<ne>>>0):J=de+1,ne=J,de=0;256<=ne;)de+=8,ne>>=8;return ne=7^de+ol[ne],_.b-=ne,_.Ca=(J<<ne)-1,me}function ve(_,A,J){_[A+0]=J>>24&255,_[A+1]=J>>16&255,_[A+2]=J>>8&255,_[A+3]=255&J}function ue(_,A){return _[A+0]|_[A+1]<<8}function ge(_,A){return ue(_,A)|_[A+2]<<16}function ie(_,A){return ue(_,A)|ue(_,A+2)<<16}function se(_,A){var J=1<<A;return r(_!=null),r(0<A),_.X=o(J),_.X==null?0:(_.Mb=32-A,_.Xa=A,1)}function _e(_,A){r(_!=null),r(A!=null),r(_.Xa==A.Xa),a(A.X,0,_.X,0,1<<A.Xa)}function Te(){this.X=[],this.Xa=this.Mb=0}function Xe(_,A,J,ne){r(J!=null),r(ne!=null);var de=J[0],me=ne[0];return de==0&&(de=(_*me+A/2)/A),me==0&&(me=(A*de+_/2)/_),0>=de||0>=me?0:(J[0]=de,ne[0]=me,1)}function Me(_,A){return _+(1<<A)-1>>>A}function Re(_,A){return((4278255360&_)+(4278255360&A)>>>0&4278255360)+((16711935&_)+(16711935&A)>>>0&16711935)>>>0}function xe(_,A){B[A]=function(J,ne,de,me,ye,we,je){var Se;for(Se=0;Se<ye;++Se){var Fe=B[_](we[je+Se-1],de,me+Se);we[je+Se]=Re(J[ne+Se],Fe)}}}function Pe(){this.ud=this.hd=this.jd=0}function be(_,A){return((4278124286&(_^A))>>>1)+(_&A)>>>0}function Ae(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function Ie(_,A){return Ae(_+(_-A+.5>>1))}function Ce(_,A,J){return Math.abs(A-J)-Math.abs(_-J)}function He(_,A,J,ne,de,me,ye){for(ne=me[ye-1],J=0;J<de;++J)me[ye+J]=ne=Re(_[A+J],ne)}function Ve(_,A,J,ne,de){var me;for(me=0;me<J;++me){var ye=_[A+me],we=ye>>8&255,je=16711935&(je=(je=16711935&ye)+((we<<16)+we));ne[de+me]=(4278255360&ye)+je>>>0}}function at(_,A){A.jd=255&_,A.hd=_>>8&255,A.ud=_>>16&255}function Qe(_,A,J,ne,de,me){var ye;for(ye=0;ye<ne;++ye){var we=A[J+ye],je=we>>>8,Se=we,Fe=255&(Fe=(Fe=we>>>16)+((_.jd<<24>>24)*(je<<24>>24)>>>5));Se=255&(Se=(Se+=(_.hd<<24>>24)*(je<<24>>24)>>>5)+((_.ud<<24>>24)*(Fe<<24>>24)>>>5)),de[me+ye]=(4278255360&we)+(Fe<<16)+Se}}function ut(_,A,J,ne,de){B[A]=function(me,ye,we,je,Se,Fe,Ge,ke,Be){for(je=Ge;je<ke;++je)for(Ge=0;Ge<Be;++Ge)Se[Fe++]=de(we[ne(me[ye++])])},B[_]=function(me,ye,we,je,Se,Fe,Ge){var ke=8>>me.b,Be=me.Ea,We=me.K[0],lt=me.w;if(8>ke)for(me=(1<<me.b)-1,lt=(1<<ke)-1;ye<we;++ye){var Je,nt=0;for(Je=0;Je<Be;++Je)Je&me||(nt=ne(je[Se++])),Fe[Ge++]=de(We[nt&lt]),nt>>=ke}else B["VP8LMapColor"+J](je,Se,We,lt,Fe,Ge,ye,we,Be)}}function Ft(_,A,J,ne,de){for(J=A+J;A<J;){var me=_[A++];ne[de++]=me>>16&255,ne[de++]=me>>8&255,ne[de++]=255&me}}function he(_,A,J,ne,de){for(J=A+J;A<J;){var me=_[A++];ne[de++]=me>>16&255,ne[de++]=me>>8&255,ne[de++]=255&me,ne[de++]=me>>24&255}}function pt(_,A,J,ne,de){for(J=A+J;A<J;){var me=(ye=_[A++])>>16&240|ye>>12&15,ye=240&ye|ye>>28&15;ne[de++]=me,ne[de++]=ye}}function vt(_,A,J,ne,de){for(J=A+J;A<J;){var me=(ye=_[A++])>>16&248|ye>>13&7,ye=ye>>5&224|ye>>3&31;ne[de++]=me,ne[de++]=ye}}function wt(_,A,J,ne,de){for(J=A+J;A<J;){var me=_[A++];ne[de++]=255&me,ne[de++]=me>>8&255,ne[de++]=me>>16&255}}function gt(_,A,J,ne,de,me){if(me==0)for(J=A+J;A<J;)ve(ne,((me=_[A++])[0]>>24|me[1]>>8&65280|me[2]<<8&16711680|me[3]<<24)>>>0),de+=32;else a(ne,de,_,A,J)}function xt(_,A){B[A][0]=B[_+"0"],B[A][1]=B[_+"1"],B[A][2]=B[_+"2"],B[A][3]=B[_+"3"],B[A][4]=B[_+"4"],B[A][5]=B[_+"5"],B[A][6]=B[_+"6"],B[A][7]=B[_+"7"],B[A][8]=B[_+"8"],B[A][9]=B[_+"9"],B[A][10]=B[_+"10"],B[A][11]=B[_+"11"],B[A][12]=B[_+"12"],B[A][13]=B[_+"13"],B[A][14]=B[_+"0"],B[A][15]=B[_+"0"]}function rt(_){return _==Mu||_==Rc||_==Fd||_==$d}function It(){this.eb=[],this.size=this.A=this.fb=0}function Bt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function zt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new It,this.f.kb=new Bt,this.sd=null}function yt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ht(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ur(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function Jt(_,A){var J=_.T,ne=A.ba.f.RGBA,de=ne.eb,me=ne.fb+_.ka*ne.A,ye=Wi[A.ba.S],we=_.y,je=_.O,Se=_.f,Fe=_.N,Ge=_.ea,ke=_.W,Be=A.cc,We=A.dc,lt=A.Mc,Je=A.Nc,nt=_.ka,st=_.ka+_.T,dt=_.U,mt=dt+1>>1;for(nt==0?ye(we,je,null,null,Se,Fe,Ge,ke,Se,Fe,Ge,ke,de,me,null,null,dt):(ye(A.ec,A.fc,we,je,Be,We,lt,Je,Se,Fe,Ge,ke,de,me-ne.A,de,me,dt),++J);nt+2<st;nt+=2)Be=Se,We=Fe,lt=Ge,Je=ke,Fe+=_.Rc,ke+=_.Rc,me+=2*ne.A,ye(we,(je+=2*_.fa)-_.fa,we,je,Be,We,lt,Je,Se,Fe,Ge,ke,de,me-ne.A,de,me,dt);return je+=_.fa,_.j+st<_.o?(a(A.ec,A.fc,we,je,dt),a(A.cc,A.dc,Se,Fe,mt),a(A.Mc,A.Nc,Ge,ke,mt),J--):1&st||ye(we,je,null,null,Se,Fe,Ge,ke,Se,Fe,Ge,ke,de,me+ne.A,null,null,dt),J}function Tr(_,A,J){var ne=_.F,de=[_.J];if(ne!=null){var me=_.U,ye=A.ba.S,we=ye==zd||ye==Fd;A=A.ba.f.RGBA;var je=[0],Se=_.ka;je[0]=_.T,_.Kb&&(Se==0?--je[0]:(--Se,de[0]-=_.width),_.j+_.ka+_.T==_.o&&(je[0]=_.o-_.j-Se));var Fe=A.eb;Se=A.fb+Se*A.A,_=Id(ne,de[0],_.width,me,je,Fe,Se+(we?0:3),A.A),r(J==je),_&&rt(ye)&&Ic(Fe,Se,we,me,je,A.A)}return 0}function $r(_){var A=_.ma,J=A.ba.S,ne=11>J,de=J==Zl||J==Rd||J==zd||J==xn||J==12||rt(J);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!Pu(A.Oa,_,de?11:12))return 0;if(de&&rt(J)&&Wh(),_.da)alert("todo:use_scaling");else{if(ne){if(A.Ib=ur,_.Kb){if(J=_.U+1>>1,A.memory=o(_.U+2*J),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+_.U,A.Mc=A.cc,A.Nc=A.dc+J,A.Ib=Jt,Wh()}}else alert("todo:EmitYUV");de&&(A.Jb=Tr,ne&&Os())}if(ne&&!Ha){for(_=0;256>_;++_)Ki[_]=89858*(_-128)+ro>>dl,Gi[_]=-22014*(_-128)+ro,Fu[_]=-45773*(_-128),Bc[_]=113618*(_-128)+ro>>dl;for(_=un;_<pn;++_)A=76283*(_-16)+ro>>dl,ef[_-un]=Xn(A,255),eg[_-un]=Xn(A+8>>4,15);Ha=1}return 1}function Dt(_){var A=_.ma,J=_.U,ne=_.T;return r(!(1&_.ka)),0>=J||0>=ne?0:(J=A.Ib(_,A),A.Jb!=null&&A.Jb(_,A,J),A.Dc+=J,1)}function Wr(_){_.ma.memory=null}function Nr(_,A,J,ne){return L(_,8)!=47?0:(A[0]=L(_,14)+1,J[0]=L(_,14)+1,ne[0]=L(_,1),L(_,3)!=0?0:!_.h)}function Lt(_,A){if(4>_)return _+1;var J=_-2>>1;return(2+(1&_)<<J)+L(A,J)+1}function _r(_,A){return 120<A?A-120:1<=(J=((J=Nb[A-1])>>4)*_+(8-(15&J)))?J:1;var J}function gr(_,A,J){var ne=X(J),de=_[A+=255&ne].g-8;return 0<de&&(Z(J,J.u+8),ne=X(J),A+=_[A].value,A+=ne&(1<<de)-1),Z(J,J.u+_[A].g),_[A].value}function Sr(_,A,J){return J.g+=_.g,J.value+=_.value<<A>>>0,r(8>=J.g),_.g}function hn(_,A,J){var ne=_.xc;return r((A=ne==0?0:_.vc[_.md*(J>>ne)+(A>>ne)])<_.Wb),_.Ya[A]}function en(_,A,J,ne){var de=_.ab,me=_.c*A,ye=_.C;A=ye+A;var we=J,je=ne;for(ne=_.Ta,J=_.Ua;0<de--;){var Se=_.gc[de],Fe=ye,Ge=A,ke=we,Be=je,We=(je=ne,we=J,Se.Ea);switch(r(Fe<Ge),r(Ge<=Se.nc),Se.hc){case 2:oa(ke,Be,(Ge-Fe)*We,je,we);break;case 0:var lt=Fe,Je=Ge,nt=je,st=we,dt=(Zt=Se).Ea;lt==0&&(ll(ke,Be,null,null,1,nt,st),He(ke,Be+1,0,0,dt-1,nt,st+1),Be+=dt,st+=dt,++lt);for(var mt=1<<Zt.b,or=mt-1,Kt=Me(dt,Zt.b),Rr=Zt.K,Zt=Zt.w+(lt>>Zt.b)*Kt;lt<Je;){var Jr=Rr,Qn=Zt,zr=1;for(Oo(ke,Be,nt,st-dt,1,nt,st);zr<dt;){var Gt=(zr&~or)+mt;Gt>dt&&(Gt=dt),(0,Lc[Jr[Qn++]>>8&15])(ke,Be+ +zr,nt,st+zr-dt,Gt-zr,nt,st+zr),zr=Gt}Be+=dt,st+=dt,++lt&or||(Zt+=Kt)}Ge!=Se.nc&&a(je,we-We,je,we+(Ge-Fe-1)*We,We);break;case 1:for(We=ke,Je=Be,dt=(ke=Se.Ea)-(st=ke&~(nt=(Be=1<<Se.b)-1)),lt=Me(ke,Se.b),mt=Se.K,Se=Se.w+(Fe>>Se.b)*lt;Fe<Ge;){for(or=mt,Kt=Se,Rr=new Pe,Zt=Je+st,Jr=Je+ke;Je<Zt;)at(or[Kt++],Rr),Au(Rr,We,Je,Be,je,we),Je+=Be,we+=Be;Je<Jr&&(at(or[Kt++],Rr),Au(Rr,We,Je,dt,je,we),Je+=dt,we+=dt),++Fe&nt||(Se+=lt)}break;case 3:if(ke==je&&Be==we&&0<Se.b){for(Je=je,ke=We=we+(Ge-Fe)*We-(st=(Ge-Fe)*Me(Se.Ea,Se.b)),Be=je,nt=we,lt=[],st=(dt=st)-1;0<=st;--st)lt[st]=Be[nt+st];for(st=dt-1;0<=st;--st)Je[ke+st]=lt[st];Ac(Se,Fe,Ge,je,We,je,we)}else Ac(Se,Fe,Ge,ke,Be,je,we)}we=ne,je=J}je!=J&&a(ne,J,we,je,me)}function pe(_,A){var J=_.V,ne=_.Ba+_.c*_.C,de=A-_.C;if(r(A<=_.l.o),r(16>=de),0<de){var me=_.l,ye=_.Ta,we=_.Ua,je=me.width;if(en(_,de,J,ne),de=we=[we],r((J=_.C)<(ne=A)),r(me.v<me.va),ne>me.o&&(ne=me.o),J<me.j){var Se=me.j-J;J=me.j,de[0]+=Se*je}if(J>=ne?J=0:(de[0]+=4*me.v,me.ka=J-me.j,me.U=me.va-me.v,me.T=ne-J,J=1),J){if(we=we[0],11>(J=_.ca).S){var Fe=J.f.RGBA,Ge=(ne=J.S,de=me.U,me=me.T,Se=Fe.eb,Fe.A),ke=me;for(Fe=Fe.fb+_.Ma*Fe.A;0<ke--;){var Be=ye,We=we,lt=de,Je=Se,nt=Fe;switch(ne){case Xh:Du(Be,We,lt,Je,nt);break;case Zl:cl(Be,We,lt,Je,nt);break;case Mu:cl(Be,We,lt,Je,nt),Ic(Je,nt,0,lt,1,0);break;case Y0:Oc(Be,We,lt,Je,nt);break;case Rd:gt(Be,We,lt,Je,nt,1);break;case Rc:gt(Be,We,lt,Je,nt,1),Ic(Je,nt,0,lt,1,0);break;case zd:gt(Be,We,lt,Je,nt,0);break;case Fd:gt(Be,We,lt,Je,nt,0),Ic(Je,nt,1,lt,1,0);break;case xn:Yl(Be,We,lt,Je,nt);break;case $d:Yl(Be,We,lt,Je,nt),Tm(Je,nt,lt,1,0);break;case Jh:Xl(Be,We,lt,Je,nt);break;default:r(0)}we+=je,Fe+=Ge}_.Ma+=me}else alert("todo:EmitRescaledRowsYUVA");r(_.Ma<=J.height)}}_.C=A,r(_.C<=_.i)}function Ee(_){var A;if(0<_.ua)return 0;for(A=0;A<_.Wb;++A){var J=_.Ya[A].G,ne=_.Ya[A].H;if(0<J[1][ne[1]+0].g||0<J[2][ne[2]+0].g||0<J[3][ne[3]+0].g)return 0}return 1}function ze(_,A,J,ne,de,me){if(_.Z!=0){var ye=_.qd,we=_.rd;for(r(si[_.Z]!=null);A<J;++A)si[_.Z](ye,we,ne,de,ne,de,me),ye=ne,we=de,de+=me;_.qd=ye,_.rd=we}}function Ke(_,A){var J=_.l.ma,ne=J.Z==0||J.Z==1?_.l.j:_.C;if(ne=_.C<ne?ne:_.C,r(A<=_.l.o),A>ne){var de=_.l.width,me=J.ca,ye=J.tb+de*ne,we=_.V,je=_.Ba+_.c*ne,Se=_.gc;r(_.ab==1),r(Se[0].hc==3),eo(Se[0],ne,A,we,je,me,ye),ze(J,ne,A,me,ye,de)}_.C=_.Ma=A}function ft(_,A,J,ne,de,me,ye){var we=_.$/ne,je=_.$%ne,Se=_.m,Fe=_.s,Ge=J+_.$,ke=Ge;de=J+ne*de;var Be=J+ne*me,We=280+Fe.ua,lt=_.Pb?we:16777216,Je=0<Fe.ua?Fe.Wa:null,nt=Fe.wc,st=Ge<Be?hn(Fe,je,we):null;r(_.C<me),r(Be<=de);var dt=!1;e:for(;;){for(;dt||Ge<Be;){var mt=0;if(we>=lt){var or=Ge-J;r((lt=_).Pb),lt.wd=lt.m,lt.xd=or,0<lt.s.ua&&_e(lt.s.Wa,lt.s.vb),lt=we+Qh}if(je&nt||(st=hn(Fe,je,we)),r(st!=null),st.Qb&&(A[Ge]=st.qb,dt=!0),!dt)if(ae(Se),st.jc){mt=Se,or=A;var Kt=Ge,Rr=st.pd[X(mt)&Ts-1];r(st.jc),256>Rr.g?(Z(mt,mt.u+Rr.g),or[Kt]=Rr.value,mt=0):(Z(mt,mt.u+Rr.g-256),r(256<=Rr.value),mt=Rr.value),mt==0&&(dt=!0)}else mt=gr(st.G[0],st.H[0],Se);if(Se.h)break;if(dt||256>mt){if(!dt)if(st.nd)A[Ge]=(st.qb|mt<<8)>>>0;else{if(ae(Se),dt=gr(st.G[1],st.H[1],Se),ae(Se),or=gr(st.G[2],st.H[2],Se),Kt=gr(st.G[3],st.H[3],Se),Se.h)break;A[Ge]=(Kt<<24|dt<<16|mt<<8|or)>>>0}if(dt=!1,++Ge,++je>=ne&&(je=0,++we,ye!=null&&we<=me&&!(we%16)&&ye(_,we),Je!=null))for(;ke<Ge;)mt=A[ke++],Je.X[(506832829*mt&4294967295)>>>Je.Mb]=mt}else if(280>mt){if(mt=Lt(mt-256,Se),or=gr(st.G[4],st.H[4],Se),ae(Se),or=_r(ne,or=Lt(or,Se)),Se.h)break;if(Ge-J<or||de-Ge<mt)break e;for(Kt=0;Kt<mt;++Kt)A[Ge+Kt]=A[Ge+Kt-or];for(Ge+=mt,je+=mt;je>=ne;)je-=ne,++we,ye!=null&&we<=me&&!(we%16)&&ye(_,we);if(r(Ge<=de),je&nt&&(st=hn(Fe,je,we)),Je!=null)for(;ke<Ge;)mt=A[ke++],Je.X[(506832829*mt&4294967295)>>>Je.Mb]=mt}else{if(!(mt<We))break e;for(dt=mt-280,r(Je!=null);ke<Ge;)mt=A[ke++],Je.X[(506832829*mt&4294967295)>>>Je.Mb]=mt;mt=Ge,r(!(dt>>>(or=Je).Xa)),A[mt]=or.X[dt],dt=!0}dt||r(Se.h==D(Se))}if(_.Pb&&Se.h&&Ge<de)r(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&_e(_.s.vb,_.s.Wa);else{if(Se.h)break e;ye!=null&&ye(_,we>me?me:we),_.a=0,_.$=Ge-J}return 1}return _.a=3,0}function bt(_){r(_!=null),_.vc=null,_.yc=null,_.Ya=null;var A=_.Wa;A!=null&&(A.X=null),_.vb=null,r(_!=null)}function _t(){var _=new Mt;return _==null?null:(_.a=0,_.xb=Ru,xt("Predictor","VP8LPredictors"),xt("Predictor","VP8LPredictors_C"),xt("PredictorAdd","VP8LPredictorsAdd"),xt("PredictorAdd","VP8LPredictorsAdd_C"),oa=Ve,Au=Qe,Du=Ft,cl=he,Yl=pt,Xl=vt,Oc=wt,B.VP8LMapColor32b=To,B.VP8LMapColor8b=Dc,_)}function $t(_,A,J,ne,de){var me=1,ye=[_],we=[A],je=ne.m,Se=ne.s,Fe=null,Ge=0;e:for(;;){if(J)for(;me&&L(je,1);){var ke=ye,Be=we,We=ne,lt=1,Je=We.m,nt=We.gc[We.ab],st=L(Je,2);if(We.Oc&1<<st)me=0;else{switch(We.Oc|=1<<st,nt.hc=st,nt.Ea=ke[0],nt.nc=Be[0],nt.K=[null],++We.ab,r(4>=We.ab),st){case 0:case 1:nt.b=L(Je,3)+2,lt=$t(Me(nt.Ea,nt.b),Me(nt.nc,nt.b),0,We,nt.K),nt.K=nt.K[0];break;case 3:var dt,mt=L(Je,8)+1,or=16<mt?0:4<mt?1:2<mt?2:3;if(ke[0]=Me(nt.Ea,or),nt.b=or,dt=lt=$t(mt,1,0,We,nt.K)){var Kt,Rr=mt,Zt=nt,Jr=1<<(8>>Zt.b),Qn=o(Jr);if(Qn==null)dt=0;else{var zr=Zt.K[0],Gt=Zt.w;for(Qn[0]=Zt.K[0][0],Kt=1;Kt<1*Rr;++Kt)Qn[Kt]=Re(zr[Gt+Kt],Qn[Kt-1]);for(;Kt<4*Jr;++Kt)Qn[Kt]=0;Zt.K[0]=null,Zt.K[0]=Qn,dt=1}}lt=dt;break;case 2:break;default:r(0)}me=lt}}if(ye=ye[0],we=we[0],me&&L(je,1)&&!(me=1<=(Ge=L(je,4))&&11>=Ge)){ne.a=3;break e}var Tt;if(Tt=me)t:{var la,Cr,Yr,Sn=ne,Da=ye,pa=we,Bn=Ge,Na=J,La=Sn.m,Tn=Sn.s,Qr=[null],an=1,Mn=0,sn=J0[Bn];r:for(;;){if(Na&&L(La,1)){var ea=L(La,3)+2,ta=Me(Da,ea),vn=Me(pa,ea),oi=ta*vn;if(!$t(ta,vn,0,Sn,Qr))break r;for(Qr=Qr[0],Tn.xc=ea,la=0;la<oi;++la){var gn=Qr[la]>>8&65535;Qr[la]=gn,gn>=an&&(an=gn+1)}}if(La.h)break r;for(Cr=0;5>Cr;++Cr){var yn=zc[Cr];!Cr&&0<Bn&&(yn+=1<<Bn),Mn<yn&&(Mn=yn)}var ga=l(an*sn,I),Va=an,Yi=l(Va,H);if(Yi==null)var ca=null;else r(65536>=Va),ca=Yi;var ua=o(Mn);if(ca==null||ua==null||ga==null){Sn.a=1;break r}var li=ga;for(la=Yr=0;la<an;++la){var bn=ca[la],ci=bn.G,Rs=bn.H,no=0,Oa=1,da=0;for(Cr=0;5>Cr;++Cr){yn=zc[Cr],ci[Cr]=li,Rs[Cr]=Yr,!Cr&&0<Bn&&(yn+=1<<Bn);a:{var tc,fl=yn,$u=Sn,Ro=ua,rg=li,Wm=Yr,Dn=0,ao=$u.m,Km=L(ao,1);if(s(Ro,0,0,fl),Km){var Gm=L(ao,1)+1,tf=L(ao,1),rf=L(ao,tf==0?1:8);Ro[rf]=1,Gm==2&&(Ro[rf=L(ao,8)]=1);var zo=1}else{var In=o(19),xa=L(ao,4)+4;if(19<xa){$u.a=3;var ha=0;break a}for(tc=0;tc<xa;++tc)In[jb[tc]]=L(ao,3);var Bu=void 0,ml=void 0,Uu=$u,Pb=In,_a=fl,nf=Ro,Vd=0,Fo=Uu.m,io=8,fs=l(128,I);n:for(;M(fs,0,7,Pb,19);){if(L(Fo,1)){var Wd=2+2*L(Fo,3);if((Bu=2+L(Fo,Wd))>_a)break n}else Bu=_a;for(ml=0;ml<_a&&Bu--;){ae(Fo);var af=fs[0+(127&X(Fo))];Z(Fo,Fo.u+af.g);var rc=af.value;if(16>rc)nf[ml++]=rc,rc!=0&&(io=rc);else{var ng=rc==16,Ym=rc-16,ag=Zh[Ym],Xm=L(Fo,Bd[Ym])+ag;if(ml+Xm>_a)break n;for(var ig=ng?io:0;0<Xm--;)nf[ml++]=ig}}Vd=1;break n}Vd||(Uu.a=3),zo=Vd}(zo=zo&&!ao.h)&&(Dn=M(rg,Wm,8,Ro,fl)),zo&&Dn!=0?ha=Dn:($u.a=3,ha=0)}if(ha==0)break r;if(Oa&&X0[Cr]==1&&(Oa=li[Yr].g==0),no+=li[Yr].g,Yr+=ha,3>=Cr){var qu,sf=ua[0];for(qu=1;qu<yn;++qu)ua[qu]>sf&&(sf=ua[qu]);da+=sf}}if(bn.nd=Oa,bn.Qb=0,Oa&&(bn.qb=(ci[3][Rs[3]+0].value<<24|ci[1][Rs[1]+0].value<<16|ci[2][Rs[2]+0].value)>>>0,no==0&&256>ci[0][Rs[0]+0].value&&(bn.Qb=1,bn.qb+=ci[0][Rs[0]+0].value<<8)),bn.jc=!bn.Qb&&6>da,bn.jc){var Kd,ms=bn;for(Kd=0;Kd<Ts;++Kd){var pl=Kd,so=ms.pd[pl],qc=ms.G[0][ms.H[0]+pl];256<=qc.value?(so.g=qc.g+256,so.value=qc.value):(so.g=0,so.value=0,pl>>=Sr(qc,8,so),pl>>=Sr(ms.G[1][ms.H[1]+pl],16,so),pl>>=Sr(ms.G[2][ms.H[2]+pl],0,so),Sr(ms.G[3][ms.H[3]+pl],24,so))}}}Tn.vc=Qr,Tn.Wb=an,Tn.Ya=ca,Tn.yc=ga,Tt=1;break t}Tt=0}if(!(me=Tt)){ne.a=3;break e}if(0<Ge){if(Se.ua=1<<Ge,!se(Se.Wa,Ge)){ne.a=1,me=0;break e}}else Se.ua=0;var of=ne,lf=ye,sg=we,cf=of.s,uf=cf.xc;if(of.c=lf,of.i=sg,cf.md=Me(lf,uf),cf.wc=uf==0?-1:(1<<uf)-1,J){ne.xb=Io;break e}if((Fe=o(ye*we))==null){ne.a=1,me=0;break e}me=(me=ft(ne,Fe,0,ye,we,we,null))&&!je.h;break e}return me?(de!=null?de[0]=Fe:(r(Fe==null),r(J)),ne.$=0,J||bt(Se)):bt(Se),me}function Qt(_,A){var J=_.c*_.i,ne=J+A+16*A;return r(_.c<=A),_.V=o(ne),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+J+A,1)}function nr(_,A){var J=_.C,ne=A-J,de=_.V,me=_.Ba+_.c*J;for(r(A<=_.l.o);0<ne;){var ye=16<ne?16:ne,we=_.l.ma,je=_.l.width,Se=je*ye,Fe=we.ca,Ge=we.tb+je*J,ke=_.Ta,Be=_.Ua;en(_,ye,de,me),Mm(ke,Be,Fe,Ge,Se),ze(we,J,J+ye,Fe,Ge,je),ne-=ye,de+=ye*_.c,J+=ye}r(J==A),_.C=_.Ma=A}function vr(){this.ub=this.yd=this.td=this.Rb=0}function Kr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ut(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function At(){this.Yb=function(){var _=[];return function A(J,ne,de){for(var me=de[ne],ye=0;ye<me&&(J.push(de.length>ne+1?[]:0),!(de.length<ne+1));ye++)A(J[ye],ne+1,de)}(_,0,[3,11]),_}()}function Wt(){this.jb=o(3),this.Wc=c([4,8],At),this.Xc=c([4,17],At)}function fr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ir(){this.ld=this.La=this.dd=this.tc=0}function kr(){this.Na=this.la=0}function Er(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Xr(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Gr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ir),this.Y=0,this.ya=Array(new Xr),this.aa=0,this.l=new Br}function _n(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Ii(){this.cb=this.a=0,this.sc="",this.m=new R,this.Od=new vr,this.Kc=new Kr,this.ed=new fr,this.Qa=new Ut,this.Ic=this.$c=this.Aa=0,this.D=new Gr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,R),this.ia=0,this.pb=l(4,Er),this.Pa=new Wt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new _n),this.Hd=0,this.rb=Array(new kr),this.sb=0,this.wa=Array(new Ir),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Xr),this.L=this.aa=0,this.gd=c([4,2],Ir),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Br(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function En(){var _=new Ii;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,Fc||(Fc=Gn)),_}function tn(_,A,J){return _.a==0&&(_.a=A,_.sc=J,_.cb=0),0}function Ys(_,A,J){return 3<=J&&_[A+0]==157&&_[A+1]==1&&_[A+2]==42}function Ri(_,A){if(_==null)return 0;if(_.a=0,_.sc="OK",A==null)return tn(_,2,"null VP8Io passed to VP8GetHeaders()");var J=A.data,ne=A.w,de=A.ha;if(4>de)return tn(_,7,"Truncated header.");var me=J[ne+0]|J[ne+1]<<8|J[ne+2]<<16,ye=_.Od;if(ye.Rb=!(1&me),ye.td=me>>1&7,ye.yd=me>>4&1,ye.ub=me>>5,3<ye.td)return tn(_,3,"Incorrect keyframe parameters.");if(!ye.yd)return tn(_,4,"Frame not displayable.");ne+=3,de-=3;var we=_.Kc;if(ye.Rb){if(7>de)return tn(_,7,"cannot parse picture header");if(!Ys(J,ne,de))return tn(_,3,"Bad code word");we.c=16383&(J[ne+4]<<8|J[ne+3]),we.Td=J[ne+4]>>6,we.i=16383&(J[ne+6]<<8|J[ne+5]),we.Ud=J[ne+6]>>6,ne+=7,de-=7,_.za=we.c+15>>4,_.Ub=we.i+15>>4,A.width=we.c,A.height=we.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,s((me=_.Pa).jb,0,255,me.jb.length),r((me=_.Qa)!=null),me.Cb=0,me.Bb=0,me.Fb=1,s(me.Zb,0,0,me.Zb.length),s(me.Lb,0,0,me.Lb)}if(ye.ub>de)return tn(_,7,"bad partition length");te(me=_.m,J,ne,ye.ub),ne+=ye.ub,de-=ye.ub,ye.Rb&&(we.Ld=Q(me),we.Kd=Q(me)),we=_.Qa;var je,Se=_.Pa;if(r(me!=null),r(we!=null),we.Cb=Q(me),we.Cb){if(we.Bb=Q(me),Q(me)){for(we.Fb=Q(me),je=0;4>je;++je)we.Zb[je]=Q(me)?re(me,7):0;for(je=0;4>je;++je)we.Lb[je]=Q(me)?re(me,6):0}if(we.Bb)for(je=0;3>je;++je)Se.jb[je]=Q(me)?O(me,8):255}else we.Bb=0;if(me.Ka)return tn(_,3,"cannot parse segment header");if((we=_.ed).zd=Q(me),we.Tb=O(me,6),we.wb=O(me,3),we.Pc=Q(me),we.Pc&&Q(me)){for(Se=0;4>Se;++Se)Q(me)&&(we.vd[Se]=re(me,6));for(Se=0;4>Se;++Se)Q(me)&&(we.od[Se]=re(me,6))}if(_.L=we.Tb==0?0:we.zd?1:2,me.Ka)return tn(_,3,"cannot parse filter header");var Fe=de;if(de=je=ne,ne=je+Fe,we=Fe,_.Xb=(1<<O(_.m,2))-1,Fe<3*(Se=_.Xb))J=7;else{for(je+=3*Se,we-=3*Se,Fe=0;Fe<Se;++Fe){var Ge=J[de+0]|J[de+1]<<8|J[de+2]<<16;Ge>we&&(Ge=we),te(_.Jc[+Fe],J,je,Ge),je+=Ge,we-=Ge,de+=3}te(_.Jc[+Se],J,je,we),J=je<ne?0:5}if(J!=0)return tn(_,J,"cannot parse partitions");for(J=O(je=_.m,7),de=Q(je)?re(je,4):0,ne=Q(je)?re(je,4):0,we=Q(je)?re(je,4):0,Se=Q(je)?re(je,4):0,je=Q(je)?re(je,4):0,Fe=_.Qa,Ge=0;4>Ge;++Ge){if(Fe.Cb){var ke=Fe.Zb[Ge];Fe.Fb||(ke+=J)}else{if(0<Ge){_.pb[Ge]=_.pb[0];continue}ke=J}var Be=_.pb[Ge];Be.Sc[0]=Iu[Xn(ke+de,127)],Be.Sc[1]=Ud[Xn(ke+0,127)],Be.Eb[0]=2*Iu[Xn(ke+ne,127)],Be.Eb[1]=101581*Ud[Xn(ke+we,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=Iu[Xn(ke+Se,117)],Be.Qc[1]=Ud[Xn(ke+je,127)],Be.lc=ke+je}if(!ye.Rb)return tn(_,4,"Not a key frame.");for(Q(me),ye=_.Pa,J=0;4>J;++J){for(de=0;8>de;++de)for(ne=0;3>ne;++ne)for(we=0;11>we;++we)Se=oe(me,Sb[J][de][ne][we])?O(me,8):Q0[J][de][ne][we],ye.Wc[J][de].Yb[ne][we]=Se;for(de=0;17>de;++de)ye.Xc[J][de]=ye.Wc[J][qm[de]]}return _.kc=Q(me),_.kc&&(_.Bd=O(me,8)),_.cb=1}function Gn(_,A,J,ne,de,me,ye){var we=A[de].Yb[J];for(J=0;16>de;++de){if(!oe(_,we[J+0]))return de;for(;!oe(_,we[J+1]);)if(we=A[++de].Yb[0],J=0,de==16)return 16;var je=A[de+1].Yb;if(oe(_,we[J+2])){var Se=_,Fe=0;if(oe(Se,(ke=we)[(Ge=J)+3]))if(oe(Se,ke[Ge+6])){for(we=0,Ge=2*(Fe=oe(Se,ke[Ge+8]))+(ke=oe(Se,ke[Ge+9+Fe])),Fe=0,ke=Bm[Ge];ke[we];++we)Fe+=Fe+oe(Se,ke[we]);Fe+=3+(8<<Ge)}else oe(Se,ke[Ge+7])?(Fe=7+2*oe(Se,165),Fe+=oe(Se,145)):Fe=5+oe(Se,159);else Fe=oe(Se,ke[Ge+4])?3+oe(Se,ke[Ge+5]):2;we=je[2]}else Fe=1,we=je[1];je=ye+Um[de],0>(Se=_).b&&le(Se);var Ge,ke=Se.b,Be=(Ge=Se.Ca>>1)-(Se.I>>ke)>>31;--Se.b,Se.Ca+=Be,Se.Ca|=1,Se.I-=(Ge+1&Be)<<ke,me[je]=((Fe^Be)-Be)*ne[(0<de)+0]}return 16}function zi(_){var A=_.rb[_.sb-1];A.la=0,A.Na=0,s(_.zc,0,0,_.zc.length),_.ja=0}function Fa(_,A,J,ne,de){de=_[A+J+32*ne]+(de>>3),_[A+J+32*ne]=-256&de?0>de?0:255:de}function tl(_,A,J,ne,de,me){Fa(_,A,0,J,ne+de),Fa(_,A,1,J,ne+me),Fa(_,A,2,J,ne-me),Fa(_,A,3,J,ne-de)}function rn(_){return(20091*_>>16)+_}function fn(_,A,J,ne){var de,me=0,ye=o(16);for(de=0;4>de;++de){var we=_[A+0]+_[A+8],je=_[A+0]-_[A+8],Se=(35468*_[A+4]>>16)-rn(_[A+12]),Fe=rn(_[A+4])+(35468*_[A+12]>>16);ye[me+0]=we+Fe,ye[me+1]=je+Se,ye[me+2]=je-Se,ye[me+3]=we-Fe,me+=4,A++}for(de=me=0;4>de;++de)we=(_=ye[me+0]+4)+ye[me+8],je=_-ye[me+8],Se=(35468*ye[me+4]>>16)-rn(ye[me+12]),Fa(J,ne,0,0,we+(Fe=rn(ye[me+4])+(35468*ye[me+12]>>16))),Fa(J,ne,1,0,je+Se),Fa(J,ne,2,0,je-Se),Fa(J,ne,3,0,we-Fe),me++,ne+=32}function wc(_,A,J,ne){var de=_[A+0]+4,me=35468*_[A+4]>>16,ye=rn(_[A+4]),we=35468*_[A+1]>>16;tl(J,ne,0,de+ye,_=rn(_[A+1]),we),tl(J,ne,1,de+me,_,we),tl(J,ne,2,de-me,_,we),tl(J,ne,3,de-ye,_,we)}function $l(_,A,J,ne,de){fn(_,A,J,ne),de&&fn(_,A+16,J,ne+4)}function bi(_,A,J,ne){Tc(_,A+0,J,ne,1),Tc(_,A+32,J,ne+128,1)}function wi(_,A,J,ne){var de;for(_=_[A+0]+4,de=0;4>de;++de)for(A=0;4>A;++A)Fa(J,ne,A,de,_)}function Xs(_,A,J,ne){_[A+0]&&nn(_,A+0,J,ne),_[A+16]&&nn(_,A+16,J,ne+4),_[A+32]&&nn(_,A+32,J,ne+128),_[A+48]&&nn(_,A+48,J,ne+128+4)}function qr(_,A,J,ne){var de,me=o(16);for(de=0;4>de;++de){var ye=_[A+0+de]+_[A+12+de],we=_[A+4+de]+_[A+8+de],je=_[A+4+de]-_[A+8+de],Se=_[A+0+de]-_[A+12+de];me[0+de]=ye+we,me[8+de]=ye-we,me[4+de]=Se+je,me[12+de]=Se-je}for(de=0;4>de;++de)ye=(_=me[0+4*de]+3)+me[3+4*de],we=me[1+4*de]+me[2+4*de],je=me[1+4*de]-me[2+4*de],Se=_-me[3+4*de],J[ne+0]=ye+we>>3,J[ne+16]=Se+je>>3,J[ne+32]=ye-we>>3,J[ne+48]=Se-je>>3,ne+=64}function Ps(_,A,J){var ne,de=A-32,me=Ci,ye=255-_[de-1];for(ne=0;ne<J;++ne){var we,je=me,Se=ye+_[A-1];for(we=0;we<J;++we)_[A+we]=je[Se+_[de+we]];A+=32}}function Fi(_,A){Ps(_,A,4)}function Co(_,A){Ps(_,A,8)}function Es(_,A){Ps(_,A,16)}function Js(_,A){var J;for(J=0;16>J;++J)a(_,A+32*J,_,A-32,16)}function ji(_,A){var J;for(J=16;0<J;--J)s(_,A,_[A-1],16),A+=32}function Zs(_,A,J){var ne;for(ne=0;16>ne;++ne)s(A,J+32*ne,_,16)}function $a(_,A){var J,ne=16;for(J=0;16>J;++J)ne+=_[A-1+32*J]+_[A+J-32];Zs(ne>>5,_,A)}function os(_,A){var J,ne=8;for(J=0;16>J;++J)ne+=_[A-1+32*J];Zs(ne>>4,_,A)}function Yn(_,A){var J,ne=8;for(J=0;16>J;++J)ne+=_[A+J-32];Zs(ne>>4,_,A)}function Ba(_,A){Zs(128,_,A)}function xr(_,A,J){return _+2*A+J+2>>2}function rl(_,A){var J,ne=A-32;for(ne=new Uint8Array([xr(_[ne-1],_[ne+0],_[ne+1]),xr(_[ne+0],_[ne+1],_[ne+2]),xr(_[ne+1],_[ne+2],_[ne+3]),xr(_[ne+2],_[ne+3],_[ne+4])]),J=0;4>J;++J)a(_,A+32*J,ne,0,ne.length)}function As(_,A){var J=_[A-1],ne=_[A-1+32],de=_[A-1+64],me=_[A-1+96];ve(_,A+0,16843009*xr(_[A-1-32],J,ne)),ve(_,A+32,16843009*xr(J,ne,de)),ve(_,A+64,16843009*xr(ne,de,me)),ve(_,A+96,16843009*xr(de,me,me))}function Dd(_,A){var J,ne=4;for(J=0;4>J;++J)ne+=_[A+J-32]+_[A-1+32*J];for(ne>>=3,J=0;4>J;++J)s(_,A+32*J,ne,4)}function ku(_,A){var J=_[A-1+0],ne=_[A-1+32],de=_[A-1+64],me=_[A-1-32],ye=_[A+0-32],we=_[A+1-32],je=_[A+2-32],Se=_[A+3-32];_[A+0+96]=xr(ne,de,_[A-1+96]),_[A+1+96]=_[A+0+64]=xr(J,ne,de),_[A+2+96]=_[A+1+64]=_[A+0+32]=xr(me,J,ne),_[A+3+96]=_[A+2+64]=_[A+1+32]=_[A+0+0]=xr(ye,me,J),_[A+3+64]=_[A+2+32]=_[A+1+0]=xr(we,ye,me),_[A+3+32]=_[A+2+0]=xr(je,we,ye),_[A+3+0]=xr(Se,je,we)}function Ni(_,A){var J=_[A+1-32],ne=_[A+2-32],de=_[A+3-32],me=_[A+4-32],ye=_[A+5-32],we=_[A+6-32],je=_[A+7-32];_[A+0+0]=xr(_[A+0-32],J,ne),_[A+1+0]=_[A+0+32]=xr(J,ne,de),_[A+2+0]=_[A+1+32]=_[A+0+64]=xr(ne,de,me),_[A+3+0]=_[A+2+32]=_[A+1+64]=_[A+0+96]=xr(de,me,ye),_[A+3+32]=_[A+2+64]=_[A+1+96]=xr(me,ye,we),_[A+3+64]=_[A+2+96]=xr(ye,we,je),_[A+3+96]=xr(we,je,je)}function _i(_,A){var J=_[A-1+0],ne=_[A-1+32],de=_[A-1+64],me=_[A-1-32],ye=_[A+0-32],we=_[A+1-32],je=_[A+2-32],Se=_[A+3-32];_[A+0+0]=_[A+1+64]=me+ye+1>>1,_[A+1+0]=_[A+2+64]=ye+we+1>>1,_[A+2+0]=_[A+3+64]=we+je+1>>1,_[A+3+0]=je+Se+1>>1,_[A+0+96]=xr(de,ne,J),_[A+0+64]=xr(ne,J,me),_[A+0+32]=_[A+1+96]=xr(J,me,ye),_[A+1+32]=_[A+2+96]=xr(me,ye,we),_[A+2+32]=_[A+3+96]=xr(ye,we,je),_[A+3+32]=xr(we,je,Se)}function jc(_,A){var J=_[A+0-32],ne=_[A+1-32],de=_[A+2-32],me=_[A+3-32],ye=_[A+4-32],we=_[A+5-32],je=_[A+6-32],Se=_[A+7-32];_[A+0+0]=J+ne+1>>1,_[A+1+0]=_[A+0+64]=ne+de+1>>1,_[A+2+0]=_[A+1+64]=de+me+1>>1,_[A+3+0]=_[A+2+64]=me+ye+1>>1,_[A+0+32]=xr(J,ne,de),_[A+1+32]=_[A+0+96]=xr(ne,de,me),_[A+2+32]=_[A+1+96]=xr(de,me,ye),_[A+3+32]=_[A+2+96]=xr(me,ye,we),_[A+3+64]=xr(ye,we,je),_[A+3+96]=xr(we,je,Se)}function nl(_,A){var J=_[A-1+0],ne=_[A-1+32],de=_[A-1+64],me=_[A-1+96];_[A+0+0]=J+ne+1>>1,_[A+2+0]=_[A+0+32]=ne+de+1>>1,_[A+2+32]=_[A+0+64]=de+me+1>>1,_[A+1+0]=xr(J,ne,de),_[A+3+0]=_[A+1+32]=xr(ne,de,me),_[A+3+32]=_[A+1+64]=xr(de,me,me),_[A+3+64]=_[A+2+64]=_[A+0+96]=_[A+1+96]=_[A+2+96]=_[A+3+96]=me}function Po(_,A){var J=_[A-1+0],ne=_[A-1+32],de=_[A-1+64],me=_[A-1+96],ye=_[A-1-32],we=_[A+0-32],je=_[A+1-32],Se=_[A+2-32];_[A+0+0]=_[A+2+32]=J+ye+1>>1,_[A+0+32]=_[A+2+64]=ne+J+1>>1,_[A+0+64]=_[A+2+96]=de+ne+1>>1,_[A+0+96]=me+de+1>>1,_[A+3+0]=xr(we,je,Se),_[A+2+0]=xr(ye,we,je),_[A+1+0]=_[A+3+32]=xr(J,ye,we),_[A+1+32]=_[A+3+64]=xr(ne,J,ye),_[A+1+64]=_[A+3+96]=xr(de,ne,J),_[A+1+96]=xr(me,de,ne)}function Bl(_,A){var J;for(J=0;8>J;++J)a(_,A+32*J,_,A-32,8)}function Ua(_,A){var J;for(J=0;8>J;++J)s(_,A,_[A-1],8),A+=32}function $i(_,A,J){var ne;for(ne=0;8>ne;++ne)s(A,J+32*ne,_,8)}function ls(_,A){var J,ne=8;for(J=0;8>J;++J)ne+=_[A+J-32]+_[A-1+32*J];$i(ne>>4,_,A)}function Eo(_,A){var J,ne=4;for(J=0;8>J;++J)ne+=_[A+J-32];$i(ne>>3,_,A)}function Ul(_,A){var J,ne=4;for(J=0;8>J;++J)ne+=_[A-1+32*J];$i(ne>>3,_,A)}function ql(_,A){$i(128,_,A)}function Ds(_,A,J){var ne=_[A-J],de=_[A+0],me=3*(de-ne)+Mo[1020+_[A-2*J]-_[A+J]],ye=Tu[112+(me+4>>3)];_[A-J]=Ci[255+ne+Tu[112+(me+3>>3)]],_[A+0]=Ci[255+de-ye]}function cs(_,A,J,ne){var de=_[A+0],me=_[A+J];return Ms[255+_[A-2*J]-_[A-J]]>ne||Ms[255+me-de]>ne}function al(_,A,J,ne){return 4*Ms[255+_[A-J]-_[A+0]]+Ms[255+_[A-2*J]-_[A+J]]<=ne}function Ao(_,A,J,ne,de){var me=_[A-3*J],ye=_[A-2*J],we=_[A-J],je=_[A+0],Se=_[A+J],Fe=_[A+2*J],Ge=_[A+3*J];return 4*Ms[255+we-je]+Ms[255+ye-Se]>ne?0:Ms[255+_[A-4*J]-me]<=de&&Ms[255+me-ye]<=de&&Ms[255+ye-we]<=de&&Ms[255+Ge-Fe]<=de&&Ms[255+Fe-Se]<=de&&Ms[255+Se-je]<=de}function Bi(_,A,J,ne){var de=2*ne+1;for(ne=0;16>ne;++ne)al(_,A+ne,J,de)&&Ds(_,A+ne,J)}function Ls(_,A,J,ne){var de=2*ne+1;for(ne=0;16>ne;++ne)al(_,A+ne*J,1,de)&&Ds(_,A+ne*J,1)}function il(_,A,J,ne){var de;for(de=3;0<de;--de)Bi(_,A+=4*J,J,ne)}function Cu(_,A,J,ne){var de;for(de=3;0<de;--de)Ls(_,A+=4,J,ne)}function Si(_,A,J,ne,de,me,ye,we){for(me=2*me+1;0<de--;){if(Ao(_,A,J,me,ye))if(cs(_,A,J,we))Ds(_,A,J);else{var je=_,Se=A,Fe=J,Ge=je[Se-2*Fe],ke=je[Se-Fe],Be=je[Se+0],We=je[Se+Fe],lt=je[Se+2*Fe],Je=27*(st=Mo[1020+3*(Be-ke)+Mo[1020+Ge-We]])+63>>7,nt=18*st+63>>7,st=9*st+63>>7;je[Se-3*Fe]=Ci[255+je[Se-3*Fe]+st],je[Se-2*Fe]=Ci[255+Ge+nt],je[Se-Fe]=Ci[255+ke+Je],je[Se+0]=Ci[255+Be-Je],je[Se+Fe]=Ci[255+We-nt],je[Se+2*Fe]=Ci[255+lt-st]}A+=ne}}function ki(_,A,J,ne,de,me,ye,we){for(me=2*me+1;0<de--;){if(Ao(_,A,J,me,ye))if(cs(_,A,J,we))Ds(_,A,J);else{var je=_,Se=A,Fe=J,Ge=je[Se-Fe],ke=je[Se+0],Be=je[Se+Fe],We=Tu[112+(4+(lt=3*(ke-Ge))>>3)],lt=Tu[112+(lt+3>>3)],Je=We+1>>1;je[Se-2*Fe]=Ci[255+je[Se-2*Fe]+Je],je[Se-Fe]=Ci[255+Ge+lt],je[Se+0]=Ci[255+ke-We],je[Se+Fe]=Ci[255+Be-Je]}A+=ne}}function Nc(_,A,J,ne,de,me){Si(_,A,J,1,16,ne,de,me)}function An(_,A,J,ne,de,me){Si(_,A,1,J,16,ne,de,me)}function Ui(_,A,J,ne,de,me){var ye;for(ye=3;0<ye;--ye)ki(_,A+=4*J,J,1,16,ne,de,me)}function _c(_,A,J,ne,de,me){var ye;for(ye=3;0<ye;--ye)ki(_,A+=4,1,J,16,ne,de,me)}function U(_,A,J,ne,de,me,ye,we){Si(_,A,de,1,8,me,ye,we),Si(J,ne,de,1,8,me,ye,we)}function ce(_,A,J,ne,de,me,ye,we){Si(_,A,1,de,8,me,ye,we),Si(J,ne,1,de,8,me,ye,we)}function Ne(_,A,J,ne,de,me,ye,we){ki(_,A+4*de,de,1,8,me,ye,we),ki(J,ne+4*de,de,1,8,me,ye,we)}function Le(_,A,J,ne,de,me,ye,we){ki(_,A+4,1,de,8,me,ye,we),ki(J,ne+4,1,de,8,me,ye,we)}function qe(){this.ba=new zt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ht,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function it(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ct(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ot(){this.ua=0,this.Wa=new Te,this.vb=new Te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new H,this.yc=new I}function Mt(){this.xb=this.a=0,this.l=new Br,this.ca=new zt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ot,this.ab=0,this.gc=l(4,ct),this.Oc=0}function ar(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Br,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ir(_,A,J,ne,de,me,ye){for(_=_==null?0:_[A+0],A=0;A<ye;++A)de[me+A]=_+J[ne+A]&255,_=de[me+A]}function Pt(_,A,J,ne,de,me,ye){var we;if(_==null)ir(null,null,J,ne,de,me,ye);else for(we=0;we<ye;++we)de[me+we]=_[A+we]+J[ne+we]&255}function er(_,A,J,ne,de,me,ye){if(_==null)ir(null,null,J,ne,de,me,ye);else{var we,je=_[A+0],Se=je,Fe=je;for(we=0;we<ye;++we)Se=Fe+(je=_[A+we])-Se,Fe=J[ne+we]+(-256&Se?0>Se?0:255:Se)&255,Se=je,de[me+we]=Fe}}function Ur(_,A,J,ne){var de=A.width,me=A.o;if(r(_!=null&&A!=null),0>J||0>=ne||J+ne>me)return null;if(!_.Cc){if(_.ga==null){var ye;if(_.ga=new ar,(ye=_.ga==null)||(ye=A.width*A.o,r(_.Gb.length==0),_.Gb=o(ye),_.Uc=0,_.Gb==null?ye=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,ye=1),ye=!ye),!ye){ye=_.ga;var we=_.Fa,je=_.P,Se=_.qc,Fe=_.mb,Ge=_.nb,ke=je+1,Be=Se-1,We=ye.l;if(r(we!=null&&Fe!=null&&A!=null),si[0]=null,si[1]=ir,si[2]=Pt,si[3]=er,ye.ca=Fe,ye.tb=Ge,ye.c=A.width,ye.i=A.height,r(0<ye.c&&0<ye.i),1>=Se)A=0;else if(ye.$a=3&we[je+0],ye.Z=we[je+0]>>2&3,ye.Lc=we[je+0]>>4&3,je=we[je+0]>>6&3,0>ye.$a||1<ye.$a||4<=ye.Z||1<ye.Lc||je)A=0;else if(We.put=Dt,We.ac=$r,We.bc=Wr,We.ma=ye,We.width=A.width,We.height=A.height,We.Da=A.Da,We.v=A.v,We.va=A.va,We.j=A.j,We.o=A.o,ye.$a)e:{r(ye.$a==1),A=_t();t:for(;;){if(A==null){A=0;break e}if(r(ye!=null),ye.mc=A,A.c=ye.c,A.i=ye.i,A.l=ye.l,A.l.ma=ye,A.l.width=ye.c,A.l.height=ye.i,A.a=0,Y(A.m,we,ke,Be),!$t(ye.c,ye.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&Ee(A.s)?(ye.ic=1,we=A.c*A.i,A.Ta=null,A.Ua=0,A.V=o(we),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(ye.ic=0,A=Qt(A,ye.c)),!A))break t;A=1;break e}ye.mc=null,A=0}else A=Be>=ye.c*ye.i;ye=!A}if(ye)return null;_.ga.Lc!=1?_.Ga=0:ne=me-J}r(_.ga!=null),r(J+ne<=me);e:{if(A=(we=_.ga).c,me=we.l.o,we.$a==0){if(ke=_.rc,Be=_.Vc,We=_.Fa,je=_.P+1+J*A,Se=_.mb,Fe=_.nb+J*A,r(je<=_.P+_.qc),we.Z!=0)for(r(si[we.Z]!=null),ye=0;ye<ne;++ye)si[we.Z](ke,Be,We,je,Se,Fe,A),ke=Se,Be=Fe,Fe+=A,je+=A;else for(ye=0;ye<ne;++ye)a(Se,Fe,We,je,A),ke=Se,Be=Fe,Fe+=A,je+=A;_.rc=ke,_.Vc=Be}else{if(r(we.mc!=null),A=J+ne,r((ye=we.mc)!=null),r(A<=ye.i),ye.C>=A)A=1;else if(we.ic||Os(),we.ic){we=ye.V,ke=ye.Ba,Be=ye.c;var lt=ye.i,Je=(We=1,je=ye.$/Be,Se=ye.$%Be,Fe=ye.m,Ge=ye.s,ye.$),nt=Be*lt,st=Be*A,dt=Ge.wc,mt=Je<st?hn(Ge,Se,je):null;r(Je<=nt),r(A<=lt),r(Ee(Ge));t:for(;;){for(;!Fe.h&&Je<st;){if(Se&dt||(mt=hn(Ge,Se,je)),r(mt!=null),ae(Fe),256>(lt=gr(mt.G[0],mt.H[0],Fe)))we[ke+Je]=lt,++Je,++Se>=Be&&(Se=0,++je<=A&&!(je%16)&&Ke(ye,je));else{if(!(280>lt)){We=0;break t}lt=Lt(lt-256,Fe);var or,Kt=gr(mt.G[4],mt.H[4],Fe);if(ae(Fe),!(Je>=(Kt=_r(Be,Kt=Lt(Kt,Fe)))&&nt-Je>=lt)){We=0;break t}for(or=0;or<lt;++or)we[ke+Je+or]=we[ke+Je+or-Kt];for(Je+=lt,Se+=lt;Se>=Be;)Se-=Be,++je<=A&&!(je%16)&&Ke(ye,je);Je<st&&Se&dt&&(mt=hn(Ge,Se,je))}r(Fe.h==D(Fe))}Ke(ye,je>A?A:je);break t}!We||Fe.h&&Je<nt?(We=0,ye.a=Fe.h?5:3):ye.$=Je,A=We}else A=ft(ye,ye.V,ye.Ba,ye.c,ye.i,A,nr);if(!A){ne=0;break e}}J+ne>=me&&(_.Cc=1),ne=1}if(!ne)return null;if(_.Cc&&((ne=_.ga)!=null&&(ne.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+J*de}function Vr(_,A,J,ne,de,me){for(;0<de--;){var ye,we=_,je=A+(J?1:0),Se=_,Fe=A+(J?0:3);for(ye=0;ye<ne;++ye){var Ge=Se[Fe+4*ye];Ge!=255&&(Ge*=32897,we[je+4*ye+0]=we[je+4*ye+0]*Ge>>23,we[je+4*ye+1]=we[je+4*ye+1]*Ge>>23,we[je+4*ye+2]=we[je+4*ye+2]*Ge>>23)}A+=me}}function ja(_,A,J,ne,de){for(;0<ne--;){var me;for(me=0;me<J;++me){var ye=_[A+2*me+0],we=15&(Se=_[A+2*me+1]),je=4369*we,Se=(240&Se|Se>>4)*je>>16;_[A+2*me+0]=(240&ye|ye>>4)*je>>16&240|(15&ye|ye<<4)*je>>16>>4&15,_[A+2*me+1]=240&Se|we}A+=de}}function sa(_,A,J,ne,de,me,ye,we){var je,Se,Fe=255;for(Se=0;Se<de;++Se){for(je=0;je<ne;++je){var Ge=_[A+je];me[ye+4*je]=Ge,Fe&=Ge}A+=J,ye+=we}return Fe!=255}function qa(_,A,J,ne,de){var me;for(me=0;me<de;++me)J[ne+me]=_[A+me]>>8}function Os(){Ic=Vr,Tm=ja,Id=sa,Mm=qa}function qi(_,A,J){B[_]=function(ne,de,me,ye,we,je,Se,Fe,Ge,ke,Be,We,lt,Je,nt,st,dt){var mt,or=dt-1>>1,Kt=we[je+0]|Se[Fe+0]<<16,Rr=Ge[ke+0]|Be[We+0]<<16;r(ne!=null);var Zt=3*Kt+Rr+131074>>2;for(A(ne[de+0],255&Zt,Zt>>16,lt,Je),me!=null&&(Zt=3*Rr+Kt+131074>>2,A(me[ye+0],255&Zt,Zt>>16,nt,st)),mt=1;mt<=or;++mt){var Jr=we[je+mt]|Se[Fe+mt]<<16,Qn=Ge[ke+mt]|Be[We+mt]<<16,zr=Kt+Jr+Rr+Qn+524296,Gt=zr+2*(Jr+Rr)>>3;Zt=Gt+Kt>>1,Kt=(zr=zr+2*(Kt+Qn)>>3)+Jr>>1,A(ne[de+2*mt-1],255&Zt,Zt>>16,lt,Je+(2*mt-1)*J),A(ne[de+2*mt-0],255&Kt,Kt>>16,lt,Je+(2*mt-0)*J),me!=null&&(Zt=zr+Rr>>1,Kt=Gt+Qn>>1,A(me[ye+2*mt-1],255&Zt,Zt>>16,nt,st+(2*mt-1)*J),A(me[ye+2*mt+0],255&Kt,Kt>>16,nt,st+(2*mt+0)*J)),Kt=Jr,Rr=Qn}1&dt||(Zt=3*Kt+Rr+131074>>2,A(ne[de+dt-1],255&Zt,Zt>>16,lt,Je+(dt-1)*J),me!=null&&(Zt=3*Rr+Kt+131074>>2,A(me[ye+dt-1],255&Zt,Zt>>16,nt,st+(dt-1)*J)))}}function Wh(){Wi[Xh]=kb,Wi[Zl]=Ql,Wi[Y0]=Cb,Wi[Rd]=zu,Wi[zd]=$c,Wi[xn]=qd,Wi[Jh]=Hm,Wi[Mu]=Ql,Wi[Rc]=zu,Wi[Fd]=$c,Wi[$d]=qd}function Hl(_){return _&-16384?0>_?0:255:_>>ec}function Sc(_,A){return Hl((19077*_>>8)+(26149*A>>8)-14234)}function Vl(_,A,J){return Hl((19077*_>>8)-(6419*A>>8)-(13320*J>>8)+8708)}function kc(_,A){return Hl((19077*_>>8)+(33050*A>>8)-17685)}function Wl(_,A,J,ne,de){ne[de+0]=Sc(_,J),ne[de+1]=Vl(_,A,J),ne[de+2]=kc(_,A)}function Cc(_,A,J,ne,de){ne[de+0]=kc(_,A),ne[de+1]=Vl(_,A,J),ne[de+2]=Sc(_,J)}function ii(_,A,J,ne,de){var me=Vl(_,A,J);A=me<<3&224|kc(_,A)>>3,ne[de+0]=248&Sc(_,J)|me>>5,ne[de+1]=A}function Pc(_,A,J,ne,de){var me=240&kc(_,A)|15;ne[de+0]=240&Sc(_,J)|Vl(_,A,J)>>4,ne[de+1]=me}function Ec(_,A,J,ne,de){ne[de+0]=255,Wl(_,A,J,ne,de+1)}function Ld(_,A,J,ne,de){Cc(_,A,J,ne,de),ne[de+3]=255}function Od(_,A,J,ne,de){Wl(_,A,J,ne,de),ne[de+3]=255}function Xn(_,A){return 0>_?0:_>A?A:_}function Qs(_,A,J){B[_]=function(ne,de,me,ye,we,je,Se,Fe,Ge){for(var ke=Fe+(-2&Ge)*J;Fe!=ke;)A(ne[de+0],me[ye+0],we[je+0],Se,Fe),A(ne[de+1],me[ye+0],we[je+0],Se,Fe+J),de+=2,++ye,++je,Fe+=2*J;1&Ge&&A(ne[de+0],me[ye+0],we[je+0],Se,Fe)}}function Do(_,A,J){return J==0?_==0?A==0?6:5:A==0?4:0:J}function Kh(_,A,J,ne,de){switch(_>>>30){case 3:Tc(A,J,ne,de,0);break;case 2:Jn(A,J,ne,de);break;case 1:nn(A,J,ne,de)}}function us(_,A){var J,ne,de=A.M,me=A.Nb,ye=_.oc,we=_.pc+40,je=_.oc,Se=_.pc+584,Fe=_.oc,Ge=_.pc+600;for(J=0;16>J;++J)ye[we+32*J-1]=129;for(J=0;8>J;++J)je[Se+32*J-1]=129,Fe[Ge+32*J-1]=129;for(0<de?ye[we-1-32]=je[Se-1-32]=Fe[Ge-1-32]=129:(s(ye,we-32-1,127,21),s(je,Se-32-1,127,9),s(Fe,Ge-32-1,127,9)),ne=0;ne<_.za;++ne){var ke=A.ya[A.aa+ne];if(0<ne){for(J=-1;16>J;++J)a(ye,we+32*J-4,ye,we+32*J+12,4);for(J=-1;8>J;++J)a(je,Se+32*J-4,je,Se+32*J+4,4),a(Fe,Ge+32*J-4,Fe,Ge+32*J+4,4)}var Be=_.Gd,We=_.Hd+ne,lt=ke.ad,Je=ke.Hc;if(0<de&&(a(ye,we-32,Be[We].y,0,16),a(je,Se-32,Be[We].f,0,8),a(Fe,Ge-32,Be[We].ea,0,8)),ke.Za){var nt=ye,st=we-32+16;for(0<de&&(ne>=_.za-1?s(nt,st,Be[We].y[15],4):a(nt,st,Be[We+1].y,0,4)),J=0;4>J;J++)nt[st+128+J]=nt[st+256+J]=nt[st+384+J]=nt[st+0+J];for(J=0;16>J;++J,Je<<=2)nt=ye,st=we+Vm[J],Is[ke.Ob[J]](nt,st),Kh(Je,lt,16*+J,nt,st)}else if(nt=Do(ne,de,ke.Ob[0]),Pi[nt](ye,we),Je!=0)for(J=0;16>J;++J,Je<<=2)Kh(Je,lt,16*+J,ye,we+Vm[J]);for(J=ke.Gc,nt=Do(ne,de,ke.Dd),Vi[nt](je,Se),Vi[nt](Fe,Ge),Je=lt,nt=je,st=Se,255&(ke=0|J)&&(170&ke?Hi(Je,256,nt,st):mn(Je,256,nt,st)),ke=Fe,Je=Ge,255&(J>>=8)&&(170&J?Hi(lt,320,ke,Je):mn(lt,320,ke,Je)),de<_.Ub-1&&(a(Be[We].y,0,ye,we+480,16),a(Be[We].f,0,je,Se+224,8),a(Be[We].ea,0,Fe,Ge+224,8)),J=8*me*_.B,Be=_.sa,We=_.ta+16*ne+16*me*_.R,lt=_.qa,ke=_.ra+8*ne+J,Je=_.Ha,nt=_.Ia+8*ne+J,J=0;16>J;++J)a(Be,We+J*_.R,ye,we+32*J,16);for(J=0;8>J;++J)a(lt,ke+J*_.B,je,Se+32*J,8),a(Je,nt+J*_.B,Fe,Ge+32*J,8)}}function Kl(_,A,J,ne,de,me,ye,we,je){var Se=[0],Fe=[0],Ge=0,ke=je!=null?je.kd:0,Be=je??new it;if(_==null||12>J)return 7;Be.data=_,Be.w=A,Be.ha=J,A=[A],J=[J],Be.gb=[Be.gb];e:{var We=A,lt=J,Je=Be.gb;if(r(_!=null),r(lt!=null),r(Je!=null),Je[0]=0,12<=lt[0]&&!n(_,We[0],"RIFF")){if(n(_,We[0]+8,"WEBP")){Je=3;break e}var nt=ie(_,We[0]+4);if(12>nt||4294967286<nt){Je=3;break e}if(ke&&nt>lt[0]-8){Je=7;break e}Je[0]=nt,We[0]+=12,lt[0]-=12}Je=0}if(Je!=0)return Je;for(nt=0<Be.gb[0],J=J[0];;){e:{var st=_;lt=A,Je=J;var dt=Se,mt=Fe,or=We=[0];if((Zt=Ge=[Ge])[0]=0,8>Je[0])Je=7;else{if(!n(st,lt[0],"VP8X")){if(ie(st,lt[0]+4)!=10){Je=3;break e}if(18>Je[0]){Je=7;break e}var Kt=ie(st,lt[0]+8),Rr=1+ge(st,lt[0]+12);if(2147483648<=Rr*(st=1+ge(st,lt[0]+15))){Je=3;break e}or!=null&&(or[0]=Kt),dt!=null&&(dt[0]=Rr),mt!=null&&(mt[0]=st),lt[0]+=18,Je[0]-=18,Zt[0]=1}Je=0}}if(Ge=Ge[0],We=We[0],Je!=0)return Je;if(lt=!!(2&We),!nt&&Ge)return 3;if(me!=null&&(me[0]=!!(16&We)),ye!=null&&(ye[0]=lt),we!=null&&(we[0]=0),ye=Se[0],We=Fe[0],Ge&&lt&&je==null){Je=0;break}if(4>J){Je=7;break}if(nt&&Ge||!nt&&!Ge&&!n(_,A[0],"ALPH")){J=[J],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{Kt=_,Je=A,nt=J;var Zt=Be.gb;dt=Be.na,mt=Be.P,or=Be.Sa,Rr=22,r(Kt!=null),r(nt!=null),st=Je[0];var Jr=nt[0];for(r(dt!=null),r(or!=null),dt[0]=null,mt[0]=null,or[0]=0;;){if(Je[0]=st,nt[0]=Jr,8>Jr){Je=7;break e}var Qn=ie(Kt,st+4);if(4294967286<Qn){Je=3;break e}var zr=8+Qn+1&-2;if(Rr+=zr,0<Zt&&Rr>Zt){Je=3;break e}if(!n(Kt,st,"VP8 ")||!n(Kt,st,"VP8L")){Je=0;break e}if(Jr[0]<zr){Je=7;break e}n(Kt,st,"ALPH")||(dt[0]=Kt,mt[0]=st+8,or[0]=Qn),st+=zr,Jr-=zr}}if(J=J[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],Je!=0)break}J=[J],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if(Zt=_,Je=A,nt=J,dt=Be.gb[0],mt=Be.Ja,or=Be.xa,Kt=Je[0],st=!n(Zt,Kt,"VP8 "),Rr=!n(Zt,Kt,"VP8L"),r(Zt!=null),r(nt!=null),r(mt!=null),r(or!=null),8>nt[0])Je=7;else{if(st||Rr){if(Zt=ie(Zt,Kt+4),12<=dt&&Zt>dt-12){Je=3;break e}if(ke&&Zt>nt[0]-8){Je=7;break e}mt[0]=Zt,Je[0]+=8,nt[0]-=8,or[0]=Rr}else or[0]=5<=nt[0]&&Zt[Kt+0]==47&&!(Zt[Kt+4]>>5),mt[0]=nt[0];Je=0}if(J=J[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],A=A[0],Je!=0)break;if(4294967286<Be.Ja)return 3;if(we==null||lt||(we[0]=Be.xa?2:1),ye=[ye],We=[We],Be.xa){if(5>J){Je=7;break}we=ye,ke=We,lt=me,_==null||5>J?_=0:5<=J&&_[A+0]==47&&!(_[A+4]>>5)?(nt=[0],Zt=[0],dt=[0],Y(mt=new G,_,A,J),Nr(mt,nt,Zt,dt)?(we!=null&&(we[0]=nt[0]),ke!=null&&(ke[0]=Zt[0]),lt!=null&&(lt[0]=dt[0]),_=1):_=0):_=0}else{if(10>J){Je=7;break}we=We,_==null||10>J||!Ys(_,A+3,J-3)?_=0:(ke=_[A+0]|_[A+1]<<8|_[A+2]<<16,lt=16383&(_[A+7]<<8|_[A+6]),_=16383&(_[A+9]<<8|_[A+8]),1&ke||3<(ke>>1&7)||!(ke>>4&1)||ke>>5>=Be.Ja||!lt||!_?_=0:(ye&&(ye[0]=lt),we&&(we[0]=_),_=1))}if(!_||(ye=ye[0],We=We[0],Ge&&(Se[0]!=ye||Fe[0]!=We)))return 3;je!=null&&(je[0]=Be,je.offset=A-je.w,r(4294967286>A-je.w),r(je.offset==je.ha-J));break}return Je==0||Je==7&&Ge&&je==null?(me!=null&&(me[0]|=Be.na!=null&&0<Be.na.length),ne!=null&&(ne[0]=ye),de!=null&&(de[0]=We),0):Je}function Pu(_,A,J){var ne=A.width,de=A.height,me=0,ye=0,we=ne,je=de;if(A.Da=_!=null&&0<_.Da,A.Da&&(we=_.cd,je=_.bd,me=_.v,ye=_.j,11>J||(me&=-2,ye&=-2),0>me||0>ye||0>=we||0>=je||me+we>ne||ye+je>de))return 0;if(A.v=me,A.j=ye,A.va=me+we,A.o=ye+je,A.U=we,A.T=je,A.da=_!=null&&0<_.da,A.da){if(!Xe(we,je,J=[_.ib],me=[_.hb]))return 0;A.ib=J[0],A.hb=me[0]}return A.ob=_!=null&&_.ob,A.Kb=_==null||!_.Sd,A.da&&(A.ob=A.ib<3*ne/4&&A.hb<3*de/4,A.Kb=0),1}function Eu(_){if(_==null)return 2;if(11>_.S){var A=_.f.RGBA;A.fb+=(_.height-1)*A.A,A.A=-A.A}else A=_.f.kb,_=_.height,A.O+=(_-1)*A.fa,A.fa=-A.fa,A.N+=(_-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(_-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(_-1)*A.lb,A.lb=-A.lb);return 0}function sl(_,A,J,ne){if(ne==null||0>=_||0>=A)return 2;if(J!=null){if(J.Da){var de=J.cd,me=J.bd,ye=-2&J.v,we=-2&J.j;if(0>ye||0>we||0>=de||0>=me||ye+de>_||we+me>A)return 2;_=de,A=me}if(J.da){if(!Xe(_,A,de=[J.ib],me=[J.hb]))return 2;_=de[0],A=me[0]}}ne.width=_,ne.height=A;e:{var je=ne.width,Se=ne.height;if(_=ne.S,0>=je||0>=Se||!(_>=Xh&&13>_))_=2;else{if(0>=ne.Rd&&ne.sd==null){ye=me=de=A=0;var Fe=(we=je*Hd[_])*Se;if(11>_||(me=(Se+1)/2*(A=(je+1)/2),_==12&&(ye=(de=je)*Se)),(Se=o(Fe+2*me+ye))==null){_=1;break e}ne.sd=Se,11>_?((je=ne.f.RGBA).eb=Se,je.fb=0,je.A=we,je.size=Fe):((je=ne.f.kb).y=Se,je.O=0,je.fa=we,je.Fd=Fe,je.f=Se,je.N=0+Fe,je.Ab=A,je.Cd=me,je.ea=Se,je.W=0+Fe+me,je.Db=A,je.Ed=me,_==12&&(je.F=Se,je.J=0+Fe+2*me),je.Tc=ye,je.lb=de)}if(A=1,de=ne.S,me=ne.width,ye=ne.height,de>=Xh&&13>de)if(11>de)_=ne.f.RGBA,A&=(we=Math.abs(_.A))*(ye-1)+me<=_.size,A&=we>=me*Hd[de],A&=_.eb!=null;else{_=ne.f.kb,we=(me+1)/2,Fe=(ye+1)/2,je=Math.abs(_.fa),Se=Math.abs(_.Ab);var Ge=Math.abs(_.Db),ke=Math.abs(_.lb),Be=ke*(ye-1)+me;A&=je*(ye-1)+me<=_.Fd,A&=Se*(Fe-1)+we<=_.Cd,A=(A&=Ge*(Fe-1)+we<=_.Ed)&je>=me&Se>=we&Ge>=we,A&=_.y!=null,A&=_.f!=null,A&=_.ea!=null,de==12&&(A&=ke>=me,A&=Be<=_.Tc,A&=_.F!=null)}else A=0;_=A?0:2}}return _!=0||J!=null&&J.fd&&(_=Eu(ne)),_}var Ts=64,ds=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],hs=24,Gl=32,Lo=8,ol=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];xe("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(_){return _},B.Predictor2=function(_,A,J){return A[J+0]},B.Predictor3=function(_,A,J){return A[J+1]},B.Predictor4=function(_,A,J){return A[J-1]},B.Predictor5=function(_,A,J){return be(be(_,A[J+1]),A[J+0])},B.Predictor6=function(_,A,J){return be(_,A[J-1])},B.Predictor7=function(_,A,J){return be(_,A[J+0])},B.Predictor8=function(_,A,J){return be(A[J-1],A[J+0])},B.Predictor9=function(_,A,J){return be(A[J+0],A[J+1])},B.Predictor10=function(_,A,J){return be(be(_,A[J-1]),be(A[J+0],A[J+1]))},B.Predictor11=function(_,A,J){var ne=A[J+0];return 0>=Ce(ne>>24&255,_>>24&255,(A=A[J-1])>>24&255)+Ce(ne>>16&255,_>>16&255,A>>16&255)+Ce(ne>>8&255,_>>8&255,A>>8&255)+Ce(255&ne,255&_,255&A)?ne:_},B.Predictor12=function(_,A,J){var ne=A[J+0];return(Ae((_>>24&255)+(ne>>24&255)-((A=A[J-1])>>24&255))<<24|Ae((_>>16&255)+(ne>>16&255)-(A>>16&255))<<16|Ae((_>>8&255)+(ne>>8&255)-(A>>8&255))<<8|Ae((255&_)+(255&ne)-(255&A)))>>>0},B.Predictor13=function(_,A,J){var ne=A[J-1];return(Ie((_=be(_,A[J+0]))>>24&255,ne>>24&255)<<24|Ie(_>>16&255,ne>>16&255)<<16|Ie(_>>8&255,ne>>8&255)<<8|Ie(255&_,255&ne))>>>0};var ll=B.PredictorAdd0;B.PredictorAdd1=He,xe("Predictor2","PredictorAdd2"),xe("Predictor3","PredictorAdd3"),xe("Predictor4","PredictorAdd4"),xe("Predictor5","PredictorAdd5"),xe("Predictor6","PredictorAdd6"),xe("Predictor7","PredictorAdd7"),xe("Predictor8","PredictorAdd8"),xe("Predictor9","PredictorAdd9"),xe("Predictor10","PredictorAdd10"),xe("Predictor11","PredictorAdd11"),xe("Predictor12","PredictorAdd12"),xe("Predictor13","PredictorAdd13");var Oo=B.PredictorAdd2;ut("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var oa,Ac=B.ColorIndexInverseTransform,To=B.MapARGB,eo=B.VP8LColorIndexInverseTransformAlpha,Dc=B.MapAlpha,Lc=B.VP8LPredictorsAdd=[];Lc.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var Au,Du,cl,Yl,Xl,Oc,Jl,Tc,Jn,Hi,nn,mn,Zn,ma,to,Td,Lu,ul,Gh,Ou,Yh,Om,Md,Mc,Ic,Tm,Id,Mm,Im=o(511),Rm=o(2041),zm=o(225),Fm=o(767),$m=0,Mo=Rm,Tu=zm,Ci=Fm,Ms=Im,Xh=0,Zl=1,Y0=2,Rd=3,zd=4,xn=5,Jh=6,Mu=7,Rc=8,Fd=9,$d=10,Bd=[2,3,7],Zh=[3,3,11],zc=[280,256,256,256,40],X0=[0,1,1,1,0],jb=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Nb=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],J0=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Qh=8,Iu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ud=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Fc=null,Bm=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Um=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Z0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Q0=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],_b=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Sb=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],qm=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Pi=[],Is=[],Vi=[],Io=1,Ru=2,si=[],Wi=[];qi("UpsampleRgbLinePair",Wl,3),qi("UpsampleBgrLinePair",Cc,3),qi("UpsampleRgbaLinePair",Od,4),qi("UpsampleBgraLinePair",Ld,4),qi("UpsampleArgbLinePair",Ec,4),qi("UpsampleRgba4444LinePair",Pc,2),qi("UpsampleRgb565LinePair",ii,2);var kb=B.UpsampleRgbLinePair,Cb=B.UpsampleBgrLinePair,Ql=B.UpsampleRgbaLinePair,zu=B.UpsampleBgraLinePair,$c=B.UpsampleArgbLinePair,qd=B.UpsampleRgba4444LinePair,Hm=B.UpsampleRgb565LinePair,dl=16,ro=1<<dl-1,un=-227,pn=482,ec=6,Ha=0,Ki=o(256),Bc=o(256),Fu=o(256),Gi=o(256),ef=o(pn-un),eg=o(pn-un);Qs("YuvToRgbRow",Wl,3),Qs("YuvToBgrRow",Cc,3),Qs("YuvToRgbaRow",Od,4),Qs("YuvToBgraRow",Ld,4),Qs("YuvToArgbRow",Ec,4),Qs("YuvToRgba4444Row",Pc,2),Qs("YuvToRgb565Row",ii,2);var Vm=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Uc=[0,2,8],tg=[8,7,6,4,4,2,2,2,1,1,1,1],hl=1;this.WebPDecodeRGBA=function(_,A,J,ne,de){var me=Zl,ye=new qe,we=new zt;ye.ba=we,we.S=me,we.width=[we.width],we.height=[we.height];var je=we.width,Se=we.height,Fe=new yt;if(Fe==null||_==null)var Ge=2;else r(Fe!=null),Ge=Kl(_,A,J,Fe.width,Fe.height,Fe.Pd,Fe.Qd,Fe.format,null);if(Ge!=0?je=0:(je!=null&&(je[0]=Fe.width[0]),Se!=null&&(Se[0]=Fe.height[0]),je=1),je){we.width=we.width[0],we.height=we.height[0],ne!=null&&(ne[0]=we.width),de!=null&&(de[0]=we.height);e:{if(ne=new Br,(de=new it).data=_,de.w=A,de.ha=J,de.kd=1,A=[0],r(de!=null),((_=Kl(de.data,de.w,de.ha,null,null,null,A,null,de))==0||_==7)&&A[0]&&(_=4),(A=_)==0){if(r(ye!=null),ne.data=de.data,ne.w=de.w+de.offset,ne.ha=de.ha-de.offset,ne.put=Dt,ne.ac=$r,ne.bc=Wr,ne.ma=ye,de.xa){if((_=_t())==null){ye=1;break e}if(function(ke,Be){var We=[0],lt=[0],Je=[0];t:for(;;){if(ke==null)return 0;if(Be==null)return ke.a=2,0;if(ke.l=Be,ke.a=0,Y(ke.m,Be.data,Be.w,Be.ha),!Nr(ke.m,We,lt,Je)){ke.a=3;break t}if(ke.xb=Ru,Be.width=We[0],Be.height=lt[0],!$t(We[0],lt[0],1,ke,null))break t;return 1}return r(ke.a!=0),0}(_,ne)){if(ne=(A=sl(ne.width,ne.height,ye.Oa,ye.ba))==0){t:{ne=_;r:for(;;){if(ne==null){ne=0;break t}if(r(ne.s.yc!=null),r(ne.s.Ya!=null),r(0<ne.s.Wb),r((J=ne.l)!=null),r((de=J.ma)!=null),ne.xb!=0){if(ne.ca=de.ba,ne.tb=de.tb,r(ne.ca!=null),!Pu(de.Oa,J,Rd)){ne.a=2;break r}if(!Qt(ne,J.width)||J.da)break r;if((J.da||rt(ne.ca.S))&&Os(),11>ne.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ne.ca.f.kb.F!=null&&Os()),ne.Pb&&0<ne.s.ua&&ne.s.vb.X==null&&!se(ne.s.vb,ne.s.Wa.Xa)){ne.a=1;break r}ne.xb=0}if(!ft(ne,ne.V,ne.Ba,ne.c,ne.i,J.o,pe))break r;de.Dc=ne.Ma,ne=1;break t}r(ne.a!=0),ne=0}ne=!ne}ne&&(A=_.a)}else A=_.a}else{if((_=new En)==null){ye=1;break e}if(_.Fa=de.na,_.P=de.P,_.qc=de.Sa,Ri(_,ne)){if((A=sl(ne.width,ne.height,ye.Oa,ye.ba))==0){if(_.Aa=0,J=ye.Oa,r((de=_)!=null),J!=null){if(0<(je=0>(je=J.Md)?0:100<je?255:255*je/100)){for(Se=Fe=0;4>Se;++Se)12>(Ge=de.pb[Se]).lc&&(Ge.ia=je*tg[0>Ge.lc?0:Ge.lc]>>3),Fe|=Ge.ia;Fe&&(alert("todo:VP8InitRandom"),de.ia=1)}de.Ga=J.Id,100<de.Ga?de.Ga=100:0>de.Ga&&(de.Ga=0)}(function(ke,Be){if(ke==null)return 0;if(Be==null)return tn(ke,2,"NULL VP8Io parameter in VP8Decode().");if(!ke.cb&&!Ri(ke,Be))return 0;if(r(ke.cb),Be.ac==null||Be.ac(Be)){Be.ob&&(ke.L=0);var We=Uc[ke.L];if(ke.L==2?(ke.yb=0,ke.zb=0):(ke.yb=Be.v-We>>4,ke.zb=Be.j-We>>4,0>ke.yb&&(ke.yb=0),0>ke.zb&&(ke.zb=0)),ke.Va=Be.o+15+We>>4,ke.Hb=Be.va+15+We>>4,ke.Hb>ke.za&&(ke.Hb=ke.za),ke.Va>ke.Ub&&(ke.Va=ke.Ub),0<ke.L){var lt=ke.ed;for(We=0;4>We;++We){var Je;if(ke.Qa.Cb){var nt=ke.Qa.Lb[We];ke.Qa.Fb||(nt+=lt.Tb)}else nt=lt.Tb;for(Je=0;1>=Je;++Je){var st=ke.gd[We][Je],dt=nt;if(lt.Pc&&(dt+=lt.vd[0],Je&&(dt+=lt.od[0])),0<(dt=0>dt?0:63<dt?63:dt)){var mt=dt;0<lt.wb&&(mt=4<lt.wb?mt>>2:mt>>1)>9-lt.wb&&(mt=9-lt.wb),1>mt&&(mt=1),st.dd=mt,st.tc=2*dt+mt,st.ld=40<=dt?2:15<=dt?1:0}else st.tc=0;st.La=Je}}}We=0}else tn(ke,6,"Frame setup failed"),We=ke.a;if(We=We==0){if(We){ke.$c=0,0<ke.Aa||(ke.Ic=hl);t:{We=ke.Ic,lt=4*(mt=ke.za);var or=32*mt,Kt=mt+1,Rr=0<ke.L?mt*(0<ke.Aa?2:1):0,Zt=(ke.Aa==2?2:1)*mt;if((st=lt+832+(Je=3*(16*We+Uc[ke.L])/2*or)+(nt=ke.Fa!=null&&0<ke.Fa.length?ke.Kc.c*ke.Kc.i:0))!=st)We=0;else{if(st>ke.Vb){if(ke.Vb=0,ke.Ec=o(st),ke.Fc=0,ke.Ec==null){We=tn(ke,1,"no memory during frame initialization.");break t}ke.Vb=st}st=ke.Ec,dt=ke.Fc,ke.Ac=st,ke.Bc=dt,dt+=lt,ke.Gd=l(or,_n),ke.Hd=0,ke.rb=l(Kt+1,kr),ke.sb=1,ke.wa=Rr?l(Rr,Ir):null,ke.Y=0,ke.D.Nb=0,ke.D.wa=ke.wa,ke.D.Y=ke.Y,0<ke.Aa&&(ke.D.Y+=mt),r(!0),ke.oc=st,ke.pc=dt,dt+=832,ke.ya=l(Zt,Xr),ke.aa=0,ke.D.ya=ke.ya,ke.D.aa=ke.aa,ke.Aa==2&&(ke.D.aa+=mt),ke.R=16*mt,ke.B=8*mt,mt=(or=Uc[ke.L])*ke.R,or=or/2*ke.B,ke.sa=st,ke.ta=dt+mt,ke.qa=ke.sa,ke.ra=ke.ta+16*We*ke.R+or,ke.Ha=ke.qa,ke.Ia=ke.ra+8*We*ke.B+or,ke.$c=0,dt+=Je,ke.mb=nt?st:null,ke.nb=nt?dt:null,r(dt+nt<=ke.Fc+ke.Vb),zi(ke),s(ke.Ac,ke.Bc,0,lt),We=1}}if(We){if(Be.ka=0,Be.y=ke.sa,Be.O=ke.ta,Be.f=ke.qa,Be.N=ke.ra,Be.ea=ke.Ha,Be.Vd=ke.Ia,Be.fa=ke.R,Be.Rc=ke.B,Be.F=null,Be.J=0,!$m){for(We=-255;255>=We;++We)Im[255+We]=0>We?-We:We;for(We=-1020;1020>=We;++We)Rm[1020+We]=-128>We?-128:127<We?127:We;for(We=-112;112>=We;++We)zm[112+We]=-16>We?-16:15<We?15:We;for(We=-255;510>=We;++We)Fm[255+We]=0>We?0:255<We?255:We;$m=1}Jl=qr,Tc=$l,Hi=bi,nn=wi,mn=Xs,Jn=wc,Zn=Nc,ma=An,to=U,Td=ce,Lu=Ui,ul=_c,Gh=Ne,Ou=Le,Yh=Bi,Om=Ls,Md=il,Mc=Cu,Is[0]=Dd,Is[1]=Fi,Is[2]=rl,Is[3]=As,Is[4]=ku,Is[5]=_i,Is[6]=Ni,Is[7]=jc,Is[8]=Po,Is[9]=nl,Pi[0]=$a,Pi[1]=Es,Pi[2]=Js,Pi[3]=ji,Pi[4]=os,Pi[5]=Yn,Pi[6]=Ba,Vi[0]=ls,Vi[1]=Co,Vi[2]=Bl,Vi[3]=Ua,Vi[4]=Ul,Vi[5]=Eo,Vi[6]=ql,We=1}else We=0}We&&(We=function(Jr,Qn){for(Jr.M=0;Jr.M<Jr.Va;++Jr.M){var zr,Gt=Jr.Jc[Jr.M&Jr.Xb],Tt=Jr.m,la=Jr;for(zr=0;zr<la.za;++zr){var Cr=Tt,Yr=la,Sn=Yr.Ac,Da=Yr.Bc+4*zr,pa=Yr.zc,Bn=Yr.ya[Yr.aa+zr];if(Yr.Qa.Bb?Bn.$b=oe(Cr,Yr.Pa.jb[0])?2+oe(Cr,Yr.Pa.jb[2]):oe(Cr,Yr.Pa.jb[1]):Bn.$b=0,Yr.kc&&(Bn.Ad=oe(Cr,Yr.Bd)),Bn.Za=!oe(Cr,145)+0,Bn.Za){var Na=Bn.Ob,La=0;for(Yr=0;4>Yr;++Yr){var Tn,Qr=pa[0+Yr];for(Tn=0;4>Tn;++Tn){Qr=_b[Sn[Da+Tn]][Qr];for(var an=Z0[oe(Cr,Qr[0])];0<an;)an=Z0[2*an+oe(Cr,Qr[an])];Qr=-an,Sn[Da+Tn]=Qr}a(Na,La,Sn,Da,4),La+=4,pa[0+Yr]=Qr}}else Qr=oe(Cr,156)?oe(Cr,128)?1:3:oe(Cr,163)?2:0,Bn.Ob[0]=Qr,s(Sn,Da,Qr,4),s(pa,0,Qr,4);Bn.Dd=oe(Cr,142)?oe(Cr,114)?oe(Cr,183)?1:3:2:0}if(la.m.Ka)return tn(Jr,7,"Premature end-of-partition0 encountered.");for(;Jr.ja<Jr.za;++Jr.ja){if(la=Gt,Cr=(Tt=Jr).rb[Tt.sb-1],Sn=Tt.rb[Tt.sb+Tt.ja],zr=Tt.ya[Tt.aa+Tt.ja],Da=Tt.kc?zr.Ad:0)Cr.la=Sn.la=0,zr.Za||(Cr.Na=Sn.Na=0),zr.Hc=0,zr.Gc=0,zr.ia=0;else{var Mn,sn;if(Cr=Sn,Sn=la,Da=Tt.Pa.Xc,pa=Tt.ya[Tt.aa+Tt.ja],Bn=Tt.pb[pa.$b],Yr=pa.ad,Na=0,La=Tt.rb[Tt.sb-1],Qr=Tn=0,s(Yr,Na,0,384),pa.Za)var ea=0,ta=Da[3];else{an=o(16);var vn=Cr.Na+La.Na;if(vn=Fc(Sn,Da[1],vn,Bn.Eb,0,an,0),Cr.Na=La.Na=(0<vn)+0,1<vn)Jl(an,0,Yr,Na);else{var oi=an[0]+3>>3;for(an=0;256>an;an+=16)Yr[Na+an]=oi}ea=1,ta=Da[0]}var gn=15&Cr.la,yn=15&La.la;for(an=0;4>an;++an){var ga=1&yn;for(oi=sn=0;4>oi;++oi)gn=gn>>1|(ga=(vn=Fc(Sn,ta,vn=ga+(1&gn),Bn.Sc,ea,Yr,Na))>ea)<<7,sn=sn<<2|(3<vn?3:1<vn?2:Yr[Na+0]!=0),Na+=16;gn>>=4,yn=yn>>1|ga<<7,Tn=(Tn<<8|sn)>>>0}for(ta=gn,ea=yn>>4,Mn=0;4>Mn;Mn+=2){for(sn=0,gn=Cr.la>>4+Mn,yn=La.la>>4+Mn,an=0;2>an;++an){for(ga=1&yn,oi=0;2>oi;++oi)vn=ga+(1&gn),gn=gn>>1|(ga=0<(vn=Fc(Sn,Da[2],vn,Bn.Qc,0,Yr,Na)))<<3,sn=sn<<2|(3<vn?3:1<vn?2:Yr[Na+0]!=0),Na+=16;gn>>=2,yn=yn>>1|ga<<5}Qr|=sn<<4*Mn,ta|=gn<<4<<Mn,ea|=(240&yn)<<Mn}Cr.la=ta,La.la=ea,pa.Hc=Tn,pa.Gc=Qr,pa.ia=43690&Qr?0:Bn.ia,Da=!(Tn|Qr)}if(0<Tt.L&&(Tt.wa[Tt.Y+Tt.ja]=Tt.gd[zr.$b][zr.Za],Tt.wa[Tt.Y+Tt.ja].La|=!Da),la.Ka)return tn(Jr,7,"Premature end-of-file encountered.")}if(zi(Jr),Tt=Qn,la=1,zr=(Gt=Jr).D,Cr=0<Gt.L&&Gt.M>=Gt.zb&&Gt.M<=Gt.Va,Gt.Aa==0)t:{if(zr.M=Gt.M,zr.uc=Cr,us(Gt,zr),la=1,zr=(sn=Gt.D).Nb,Cr=(Qr=Uc[Gt.L])*Gt.R,Sn=Qr/2*Gt.B,an=16*zr*Gt.R,oi=8*zr*Gt.B,Da=Gt.sa,pa=Gt.ta-Cr+an,Bn=Gt.qa,Yr=Gt.ra-Sn+oi,Na=Gt.Ha,La=Gt.Ia-Sn+oi,yn=(gn=sn.M)==0,Tn=gn>=Gt.Va-1,Gt.Aa==2&&us(Gt,sn),sn.uc)for(ga=(vn=Gt).D.M,r(vn.D.uc),sn=vn.yb;sn<vn.Hb;++sn){ea=sn,ta=ga;var Va=(Yi=(da=vn).D).Nb;Mn=da.R;var Yi=Yi.wa[Yi.Y+ea],ca=da.sa,ua=da.ta+16*Va*Mn+16*ea,li=Yi.dd,bn=Yi.tc;if(bn!=0)if(r(3<=bn),da.L==1)0<ea&&Om(ca,ua,Mn,bn+4),Yi.La&&Mc(ca,ua,Mn,bn),0<ta&&Yh(ca,ua,Mn,bn+4),Yi.La&&Md(ca,ua,Mn,bn);else{var ci=da.B,Rs=da.qa,no=da.ra+8*Va*ci+8*ea,Oa=da.Ha,da=da.Ia+8*Va*ci+8*ea;Va=Yi.ld,0<ea&&(ma(ca,ua,Mn,bn+4,li,Va),Td(Rs,no,Oa,da,ci,bn+4,li,Va)),Yi.La&&(ul(ca,ua,Mn,bn,li,Va),Ou(Rs,no,Oa,da,ci,bn,li,Va)),0<ta&&(Zn(ca,ua,Mn,bn+4,li,Va),to(Rs,no,Oa,da,ci,bn+4,li,Va)),Yi.La&&(Lu(ca,ua,Mn,bn,li,Va),Gh(Rs,no,Oa,da,ci,bn,li,Va))}}if(Gt.ia&&alert("todo:DitherRow"),Tt.put!=null){if(sn=16*gn,gn=16*(gn+1),yn?(Tt.y=Gt.sa,Tt.O=Gt.ta+an,Tt.f=Gt.qa,Tt.N=Gt.ra+oi,Tt.ea=Gt.Ha,Tt.W=Gt.Ia+oi):(sn-=Qr,Tt.y=Da,Tt.O=pa,Tt.f=Bn,Tt.N=Yr,Tt.ea=Na,Tt.W=La),Tn||(gn-=Qr),gn>Tt.o&&(gn=Tt.o),Tt.F=null,Tt.J=null,Gt.Fa!=null&&0<Gt.Fa.length&&sn<gn&&(Tt.J=Ur(Gt,Tt,sn,gn-sn),Tt.F=Gt.mb,Tt.F==null&&Tt.F.length==0)){la=tn(Gt,3,"Could not decode alpha data.");break t}sn<Tt.j&&(Qr=Tt.j-sn,sn=Tt.j,r(!(1&Qr)),Tt.O+=Gt.R*Qr,Tt.N+=Gt.B*(Qr>>1),Tt.W+=Gt.B*(Qr>>1),Tt.F!=null&&(Tt.J+=Tt.width*Qr)),sn<gn&&(Tt.O+=Tt.v,Tt.N+=Tt.v>>1,Tt.W+=Tt.v>>1,Tt.F!=null&&(Tt.J+=Tt.v),Tt.ka=sn-Tt.j,Tt.U=Tt.va-Tt.v,Tt.T=gn-sn,la=Tt.put(Tt))}zr+1!=Gt.Ic||Tn||(a(Gt.sa,Gt.ta-Cr,Da,pa+16*Gt.R,Cr),a(Gt.qa,Gt.ra-Sn,Bn,Yr+8*Gt.B,Sn),a(Gt.Ha,Gt.Ia-Sn,Na,La+8*Gt.B,Sn))}if(!la)return tn(Jr,6,"Output aborted.")}return 1}(ke,Be)),Be.bc!=null&&Be.bc(Be),We&=1}return We?(ke.cb=0,We):0})(_,ne)||(A=_.a)}}else A=_.a}A==0&&ye.Oa!=null&&ye.Oa.fd&&(A=Eu(ye.ba))}ye=A}me=ye!=0?null:11>me?we.f.RGBA.eb:we.f.kb.y}else me=null;return me};var Hd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(B,K){for(var T="",M=0;M<4;M++)T+=String.fromCharCode(B[K++]);return T}function f(B,K){return B[K+0]|B[K+1]<<8}function p(B,K){return(B[K+0]|B[K+1]<<8|B[K+2]<<16)>>>0}function x(B,K){return(B[K+0]|B[K+1]<<8|B[K+2]<<16|B[K+3]<<24)>>>0}new u;var g=[0],y=[0],w=[],v=new u,S=e,k=function(B,K){var T={},M=0,I=!1,q=0,H=0;if(T.frames=[],!function(R,G){for(var X=0;X<4;X++)if(R[G+X]!="RIFF".charCodeAt(X))return!0;return!1}(B,K)){for(x(B,K+=4),K+=8;K<B.length;){var te=d(B,K),O=x(B,K+=4);K+=4;var re=O+(1&O);switch(te){case"VP8 ":case"VP8L":T.frames[M]===void 0&&(T.frames[M]={}),(L=T.frames[M]).src_off=I?H:K-8,L.src_size=q+O+8,M++,I&&(I=!1,q=0,H=0);break;case"VP8X":(L=T.header={}).feature_flags=B[K];var Y=K+4;L.canvas_width=1+p(B,Y),Y+=3,L.canvas_height=1+p(B,Y),Y+=3;break;case"ALPH":I=!0,q=re+8,H=K-8;break;case"ANIM":(L=T.header).bgcolor=x(B,K),Y=K+4,L.loop_count=f(B,Y),Y+=2;break;case"ANMF":var P,L;(L=T.frames[M]={}).offset_x=2*p(B,K),K+=3,L.offset_y=2*p(B,K),K+=3,L.width=1+p(B,K),K+=3,L.height=1+p(B,K),K+=3,L.duration=p(B,K),K+=3,P=B[K++],L.dispose=1&P,L.blend=P>>1&1}te!="ANMF"&&(K+=re)}return T}}(S,0);k.response=S,k.rgbaoutput=!0,k.dataurl=!1;var j=k.header?k.header:null,C=k.frames?k.frames:null;if(j){j.loop_counter=j.loop_count,g=[j.canvas_height],y=[j.canvas_width];for(var z=0;z<C.length&&C[z].blend!=0;z++);}var $=C[0],F=v.WebPDecodeRGBA(S,$.src_off,$.src_size,y,g);$.rgba=F,$.imgwidth=y[0],$.imgheight=g[0];for(var V=0;V<y[0]*g[0]*4;V++)w[V]=F[V];return this.width=y,this.height=g,this.data=w,this}(function(e){var r,n,a,s,o,l,c,u,d,f=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new u,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new l,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new l,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),r=this.internal.f2,n=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,d=new f}]);var p=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=R;Object.defineProperty(this,"pdf",{get:function(){return G}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(ie){X=!!ie}});var D=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return D},set:function(ie){D=!!ie}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(ie){isNaN(ie)||(Z=ie)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(ie){isNaN(ie)||(ae=ie)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ie){var se;typeof ie=="number"?se=[ie,ie,ie,ie]:((se=new Array(4))[0]=ie[0],se[1]=ie.length>=2?ie[1]:se[0],se[2]=ie.length>=3?ie[2]:se[0],se[3]=ie.length>=4?ie[3]:se[1]),d.margin=se}});var le=!1;Object.defineProperty(this,"autoPaging",{get:function(){return le},set:function(ie){le=ie}});var Q=0;Object.defineProperty(this,"lastBreak",{get:function(){return Q},set:function(ie){Q=ie}});var oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return oe},set:function(ie){oe=ie}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ie){ie instanceof f&&(d=ie)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ie){d.path=ie}});var ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return ve},set:function(ie){ve=ie}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ie){var se;se=x(ie),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ie){var se=x(ie);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ie){["butt","round","square"].indexOf(ie)!==-1&&(this.ctx.lineCap=ie,this.pdf.setLineCap(ie))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ie){isNaN(ie)||(this.ctx.lineWidth=ie,this.pdf.setLineWidth(ie))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ie){["bevel","round","miter"].indexOf(ie)!==-1&&(this.ctx.lineJoin=ie,this.pdf.setLineJoin(ie))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ie){isNaN(ie)||(this.ctx.miterLimit=ie,this.pdf.setMiterLimit(ie))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ie){this.ctx.textBaseline=ie}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ie){["right","end","center","left","start"].indexOf(ie)!==-1&&(this.ctx.textAlign=ie)}});var ue=null,ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return ge},set:function(ie){ue=null,ge=ie}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ie){var se;if(this.ctx.font=ie,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ie))!==null){var _e=se[1];se[2];var Te=se[3],Xe=se[4];se[5];var Me=se[6],Re=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Xe)[2];Xe=Math.floor(Re==="px"?parseFloat(Xe)*this.pdf.internal.scaleFactor:Re==="em"?parseFloat(Xe)*this.pdf.getFontSize():parseFloat(Xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Xe);var xe=function(Qe){var ut,Ft,he=[],pt=Qe.trim();if(pt==="")return U2;if(pt in LA)return[LA[pt]];for(;pt!=="";){switch(Ft=null,ut=(pt=TA(pt)).charAt(0)){case'"':case"'":Ft=Y0e(pt.substring(1),ut);break;default:Ft=X0e(pt)}if(Ft===null||(he.push(Ft[0]),(pt=TA(Ft[1]))!==""&&pt.charAt(0)!==","))return U2;pt=pt.replace(/^,/,"")}return he}(Me);if(this.fontFaces){var Pe=function(Qe,ut){if(ue===null){var Ft=function(he){var pt=[];return Object.keys(he).forEach(function(vt){he[vt].forEach(function(wt){var gt=null;switch(wt){case"bold":gt={family:vt,weight:"bold"};break;case"italic":gt={family:vt,style:"italic"};break;case"bolditalic":gt={family:vt,weight:"bold",style:"italic"};break;case"":case"normal":gt={family:vt}}gt!==null&&(gt.ref={name:vt,style:wt},pt.push(gt))})}),pt}(Qe.getFontList());ue=function(he){for(var pt={},vt=0;vt<he.length;++vt){var wt=B2(he[vt]),gt=wt.family,xt=wt.stretch,rt=wt.style,It=wt.weight;pt[gt]=pt[gt]||{},pt[gt][xt]=pt[gt][xt]||{},pt[gt][xt][rt]=pt[gt][xt][rt]||{},pt[gt][xt][rt][It]=wt}return pt}(Ft.concat(ut))}return ue}(this.pdf,this.fontFaces),be=xe.map(function(Qe){return{family:Qe,stretch:"normal",weight:Te,style:_e}}),Ae=function(Qe,ut,Ft){for(var he=(Ft=Ft||{}).defaultFontFamily||"times",pt=Object.assign({},G0e,Ft.genericFontFamilies||{}),vt=null,wt=null,gt=0;gt<ut.length;++gt)if(pt[(vt=B2(ut[gt])).family]&&(vt.family=pt[vt.family]),Qe.hasOwnProperty(vt.family)){wt=Qe[vt.family];break}if(!(wt=wt||Qe[he]))throw new Error("Could not find a font-family for the rule '"+OA(vt)+"' and default family '"+he+"'.");if(wt=function(xt,rt){if(rt[xt])return rt[xt];var It=zj[xt],Bt=It<=zj.normal?-1:1,zt=DA(rt,_9,It,Bt);if(!zt)throw new Error("Could not find a matching font-stretch value for "+xt);return zt}(vt.stretch,wt),wt=function(xt,rt){if(rt[xt])return rt[xt];for(var It=N9[xt],Bt=0;Bt<It.length;++Bt)if(rt[It[Bt]])return rt[It[Bt]];throw new Error("Could not find a matching font-style for "+xt)}(vt.style,wt),!(wt=function(xt,rt){if(rt[xt])return rt[xt];if(xt===400&&rt[500])return rt[500];if(xt===500&&rt[400])return rt[400];var It=K0e[xt],Bt=DA(rt,S9,It,xt<400?-1:1);if(!Bt)throw new Error("Could not find a matching font-weight for value "+xt);return Bt}(vt.weight,wt)))throw new Error("Failed to resolve a font for the rule '"+OA(vt)+"'.");return wt}(Pe,be);this.pdf.setFont(Ae.ref.name,Ae.ref.style)}else{var Ie="";(Te==="bold"||parseInt(Te,10)>=700||_e==="bold")&&(Ie="bold"),_e==="italic"&&(Ie+="italic"),Ie.length===0&&(Ie="normal");for(var Ce="",He={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ve=0;Ve<xe.length;Ve++){if(this.pdf.internal.getFont(xe[Ve],Ie,{noFallback:!0,disableWarning:!0})!==void 0){Ce=xe[Ve];break}if(Ie==="bolditalic"&&this.pdf.internal.getFont(xe[Ve],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ce=xe[Ve],Ie="bold";else if(this.pdf.internal.getFont(xe[Ve],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ce=xe[Ve],Ie="normal";break}}if(Ce===""){for(var at=0;at<xe.length;at++)if(He[xe[at]]){Ce=He[xe[at]];break}}Ce=Ce===""?"Times":Ce,this.pdf.setFont(Ce,Ie)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ie){this.ctx.globalCompositeOperation=ie}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ie){this.ctx.globalAlpha=ie}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ie){this.ctx.lineDashOffset=ie,L.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ie){this.ctx.lineDash=ie,L.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ie){this.ctx.ignoreClearRect=!!ie}})};p.prototype.setLineDash=function(R){this.lineDash=R},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){C.call(this,"fill",!1)},p.prototype.stroke=function(){C.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(R,G){if(isNaN(R)||isNaN(G))throw Ln.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new l(R,G));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new l(R,G)},p.prototype.closePath=function(){var R=new l(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Nn(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){R=new l(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(R.x,R.y)},p.prototype.lineTo=function(R,G){if(isNaN(R)||isNaN(G))throw Ln.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new l(R,G));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new l(X.x,X.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},p.prototype.quadraticCurveTo=function(R,G,X,D){if(isNaN(X)||isNaN(D)||isNaN(R)||isNaN(G))throw Ln.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new l(X,D)),ae=this.ctx.transform.applyToPoint(new l(R,G));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new l(Z.x,Z.y)},p.prototype.bezierCurveTo=function(R,G,X,D,Z,ae){if(isNaN(Z)||isNaN(ae)||isNaN(R)||isNaN(G)||isNaN(X)||isNaN(D))throw Ln.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var le=this.ctx.transform.applyToPoint(new l(Z,ae)),Q=this.ctx.transform.applyToPoint(new l(R,G)),oe=this.ctx.transform.applyToPoint(new l(X,D));this.path.push({type:"bct",x1:Q.x,y1:Q.y,x2:oe.x,y2:oe.y,x:le.x,y:le.y}),this.ctx.lastPoint=new l(le.x,le.y)},p.prototype.arc=function(R,G,X,D,Z,ae){if(isNaN(R)||isNaN(G)||isNaN(X)||isNaN(D)||isNaN(Z))throw Ln.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var le=this.ctx.transform.applyToPoint(new l(R,G));R=le.x,G=le.y;var Q=this.ctx.transform.applyToPoint(new l(0,X)),oe=this.ctx.transform.applyToPoint(new l(0,0));X=Math.sqrt(Math.pow(Q.x-oe.x,2)+Math.pow(Q.y-oe.y,2))}Math.abs(Z-D)>=2*Math.PI&&(D=0,Z=2*Math.PI),this.path.push({type:"arc",x:R,y:G,radius:X,startAngle:D,endAngle:Z,counterclockwise:ae})},p.prototype.arcTo=function(R,G,X,D,Z){throw new Error("arcTo not implemented.")},p.prototype.rect=function(R,G,X,D){if(isNaN(R)||isNaN(G)||isNaN(X)||isNaN(D))throw Ln.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,G),this.lineTo(R+X,G),this.lineTo(R+X,G+D),this.lineTo(R,G+D),this.lineTo(R,G),this.lineTo(R+X,G),this.lineTo(R,G)},p.prototype.fillRect=function(R,G,X,D){if(isNaN(R)||isNaN(G)||isNaN(X)||isNaN(D))throw Ln.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,G,X,D),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},p.prototype.strokeRect=function(R,G,X,D){if(isNaN(R)||isNaN(G)||isNaN(X)||isNaN(D))throw Ln.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(R,G,X,D),this.stroke())},p.prototype.clearRect=function(R,G,X,D){if(isNaN(R)||isNaN(G)||isNaN(X)||isNaN(D))throw Ln.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,G,X,D))},p.prototype.save=function(R){R=typeof R!="boolean"||R;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var D=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=D}},p.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(G),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(R){var G,X,D,Z;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))G=0,X=0,D=0,Z=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(ae!==null)G=parseInt(ae[1]),X=parseInt(ae[2]),D=parseInt(ae[3]),Z=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)G=parseInt(ae[1]),X=parseInt(ae[2]),D=parseInt(ae[3]),Z=parseFloat(ae[4]);else{if(Z=1,typeof R=="string"&&R.charAt(0)!=="#"){var le=new g9(R);R=le.ok?le.toHex():"#000000"}R.length===4?(G=R.substring(1,2),G+=G,X=R.substring(2,3),X+=X,D=R.substring(3,4),D+=D):(G=R.substring(1,3),X=R.substring(3,5),D=R.substring(5,7)),G=parseInt(G,16),X=parseInt(X,16),D=parseInt(D,16)}}return{r:G,g:X,b:D,a:Z,style:R}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(R,G,X,D){if(isNaN(G)||isNaN(X)||typeof R!="string")throw Ln.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(D=isNaN(D)?void 0:D,!g.call(this)){var Z=re(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;M.call(this,{text:R,x:G,y:X,scale:ae,angle:Z,align:this.textAlign,maxWidth:D})}},p.prototype.strokeText=function(R,G,X,D){if(isNaN(G)||isNaN(X)||typeof R!="string")throw Ln.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){D=isNaN(D)?void 0:D;var Z=re(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;M.call(this,{text:R,x:G,y:X,scale:ae,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:D})}},p.prototype.measureText=function(R){if(typeof R!="string")throw Ln.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,X=this.pdf.internal.scaleFactor,D=G.internal.getFontSize(),Z=G.getStringUnitWidth(R)*D/G.internal.scaleFactor;return new function(ae){var le=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return le}}),this}({width:Z*=Math.round(96*X/72*1e4)/1e4})},p.prototype.scale=function(R,G){if(isNaN(R)||isNaN(G))throw Ln.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new u(R,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},p.prototype.rotate=function(R){if(isNaN(R))throw Ln.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new u(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},p.prototype.translate=function(R,G){if(isNaN(R)||isNaN(G))throw Ln.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new u(1,0,0,1,R,G);this.ctx.transform=this.ctx.transform.multiply(X)},p.prototype.transform=function(R,G,X,D,Z,ae){if(isNaN(R)||isNaN(G)||isNaN(X)||isNaN(D)||isNaN(Z)||isNaN(ae))throw Ln.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var le=new u(R,G,X,D,Z,ae);this.ctx.transform=this.ctx.transform.multiply(le)},p.prototype.setTransform=function(R,G,X,D,Z,ae){R=isNaN(R)?1:R,G=isNaN(G)?0:G,X=isNaN(X)?0:X,D=isNaN(D)?1:D,Z=isNaN(Z)?0:Z,ae=isNaN(ae)?0:ae,this.ctx.transform=new u(R,G,X,D,Z,ae)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(R,G,X,D,Z,ae,le,Q,oe){var ve=this.pdf.getImageProperties(R),ue=1,ge=1,ie=1,se=1;D!==void 0&&Q!==void 0&&(ie=Q/D,se=oe/Z,ue=ve.width/D*Q/D,ge=ve.height/Z*oe/Z),ae===void 0&&(ae=G,le=X,G=0,X=0),D!==void 0&&Q===void 0&&(Q=D,oe=Z),D===void 0&&Q===void 0&&(Q=ve.width,oe=ve.height);for(var _e,Te=this.ctx.transform.decompose(),Xe=re(Te.rotate.shx),Me=new u,Re=(Me=(Me=(Me=Me.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale)).applyToRectangle(new c(ae-G*ie,le-X*se,D*ue,Z*ge)),xe=v.call(this,Re),Pe=[],be=0;be<xe.length;be+=1)Pe.indexOf(xe[be])===-1&&Pe.push(xe[be]);if(j(Pe),this.autoPaging)for(var Ae=Pe[0],Ie=Pe[Pe.length-1],Ce=Ae;Ce<Ie+1;Ce++){this.pdf.setPage(Ce);var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=Ce===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=Ce===1?0:at+(Ce-2)*Qe;if(this.ctx.clip_path.length!==0){var Ft=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(_e,this.posX+this.margin[3],-ut+Ve+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=Ft}var he=JSON.parse(JSON.stringify(Re));he=k([he],this.posX+this.margin[3],-ut+Ve+this.ctx.prevPageLastElemOffset)[0];var pt=(Ce>Ae||Ce<Ie)&&w.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,Qe,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",he.x,he.y,he.w,he.h,null,null,Xe),pt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,Xe)};var v=function(R,G,X){var D=[];G=G||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":D.push(Math.floor((R.y+Z)/X)+1);break;case"arc":D.push(Math.floor((R.y+Z-R.radius)/X)+1),D.push(Math.floor((R.y+Z+R.radius)/X)+1);break;case"qct":var ae=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);D.push(Math.floor((ae.y+Z)/X)+1),D.push(Math.floor((ae.y+ae.h+Z)/X)+1);break;case"bct":var le=P(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);D.push(Math.floor((le.y+Z)/X)+1),D.push(Math.floor((le.y+le.h+Z)/X)+1);break;case"rect":D.push(Math.floor((R.y+Z)/X)+1),D.push(Math.floor((R.y+R.h+Z)/X)+1)}for(var Q=0;Q<D.length;Q+=1)for(;this.pdf.internal.getNumberOfPages()<D[Q];)S.call(this);return D},S=function(){var R=this.fillStyle,G=this.strokeStyle,X=this.font,D=this.lineCap,Z=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=G,this.font=X,this.lineCap=D,this.lineWidth=Z,this.lineJoin=ae},k=function(R,G,X){for(var D=0;D<R.length;D++)switch(R[D].type){case"bct":R[D].x2+=G,R[D].y2+=X;case"qct":R[D].x1+=G,R[D].y1+=X;default:R[D].x+=G,R[D].y+=X}return R},j=function(R){return R.sort(function(G,X){return G-X})},C=function(R,G){for(var X,D,Z=this.fillStyle,ae=this.strokeStyle,le=this.lineCap,Q=this.lineWidth,oe=Math.abs(Q*this.ctx.transform.scaleX),ve=this.lineJoin,ue=JSON.parse(JSON.stringify(this.path)),ge=JSON.parse(JSON.stringify(this.path)),ie=[],se=0;se<ge.length;se++)if(ge[se].x!==void 0)for(var _e=v.call(this,ge[se]),Te=0;Te<_e.length;Te+=1)ie.indexOf(_e[Te])===-1&&ie.push(_e[Te]);for(var Xe=0;Xe<ie.length;Xe++)for(;this.pdf.internal.getNumberOfPages()<ie[Xe];)S.call(this);if(j(ie),this.autoPaging)for(var Me=ie[0],Re=ie[ie.length-1],xe=Me;xe<Re+1;xe++){this.pdf.setPage(xe),this.fillStyle=Z,this.strokeStyle=ae,this.lineCap=le,this.lineWidth=oe,this.lineJoin=ve;var Pe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],be=xe===1?this.posY+this.margin[0]:this.margin[0],Ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ie=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ce=xe===1?0:Ae+(xe-2)*Ie;if(this.ctx.clip_path.length!==0){var He=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(X,this.posX+this.margin[3],-Ce+be+this.ctx.prevPageLastElemOffset),z.call(this,R,!0),this.path=He}if(D=JSON.parse(JSON.stringify(ue)),this.path=k(D,this.posX+this.margin[3],-Ce+be+this.ctx.prevPageLastElemOffset),G===!1||xe===0){var Ve=(xe>Me||xe<Re)&&w.call(this);Ve&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pe,Ie,null).clip().discardPath()),z.call(this,R,G),Ve&&this.pdf.restoreGraphicsState()}this.lineWidth=Q}else this.lineWidth=oe,z.call(this,R,G),this.lineWidth=Q;this.path=ue},z=function(R,G){if((R!=="stroke"||G||!y.call(this))&&(R==="stroke"||G||!g.call(this))){for(var X,D,Z=[],ae=this.path,le=0;le<ae.length;le++){var Q=ae[le];switch(Q.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:Q,deltas:[],abs:[]});break;case"lt":var oe=Z.length;if(ae[le-1]&&!isNaN(ae[le-1].x)&&(X=[Q.x-ae[le-1].x,Q.y-ae[le-1].y],oe>0)){for(;oe>=0;oe--)if(Z[oe-1].close!==!0&&Z[oe-1].begin!==!0){Z[oe-1].deltas.push(X),Z[oe-1].abs.push(Q);break}}break;case"bct":X=[Q.x1-ae[le-1].x,Q.y1-ae[le-1].y,Q.x2-ae[le-1].x,Q.y2-ae[le-1].y,Q.x-ae[le-1].x,Q.y-ae[le-1].y],Z[Z.length-1].deltas.push(X);break;case"qct":var ve=ae[le-1].x+2/3*(Q.x1-ae[le-1].x),ue=ae[le-1].y+2/3*(Q.y1-ae[le-1].y),ge=Q.x+2/3*(Q.x1-Q.x),ie=Q.y+2/3*(Q.y1-Q.y),se=Q.x,_e=Q.y;X=[ve-ae[le-1].x,ue-ae[le-1].y,ge-ae[le-1].x,ie-ae[le-1].y,se-ae[le-1].x,_e-ae[le-1].y],Z[Z.length-1].deltas.push(X);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(Q)}}D=G?null:R==="stroke"?"stroke":"fill";for(var Te=!1,Xe=0;Xe<Z.length;Xe++)if(Z[Xe].arc)for(var Me=Z[Xe].abs,Re=0;Re<Me.length;Re++){var xe=Me[Re];xe.type==="arc"?V.call(this,xe.x,xe.y,xe.radius,xe.startAngle,xe.endAngle,xe.counterclockwise,void 0,G,!Te):I.call(this,xe.x,xe.y),Te=!0}else if(Z[Xe].close===!0)this.pdf.internal.out("h"),Te=!1;else if(Z[Xe].begin!==!0){var Pe=Z[Xe].start.x,be=Z[Xe].start.y;q.call(this,Z[Xe].deltas,Pe,be),Te=!0}D&&B.call(this,D),G&&K.call(this)}},$=function(R){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-X;case"top":return R+G-X;case"hanging":return R+G-2*X;case"middle":return R+G/2-X;default:return R}},F=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(G,X){this.colorStops.push([G,X])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var V=function(R,G,X,D,Z,ae,le,Q,oe){for(var ve=te.call(this,X,D,Z,ae),ue=0;ue<ve.length;ue++){var ge=ve[ue];ue===0&&(oe?T.call(this,ge.x1+R,ge.y1+G):I.call(this,ge.x1+R,ge.y1+G)),H.call(this,R,G,ge.x2,ge.y2,ge.x3,ge.y3,ge.x4,ge.y4)}Q?K.call(this):B.call(this,le)},B=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(R,G){this.pdf.internal.out(n(R)+" "+a(G)+" m")},M=function(R){var G;switch(R.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var X=this.pdf.getTextDimensions(R.text),D=$.call(this,R.y),Z=F.call(this,D)-X.h,ae=this.ctx.transform.applyToPoint(new l(R.x,D)),le=this.ctx.transform.decompose(),Q=new u;Q=(Q=(Q=Q.multiply(le.translate)).multiply(le.skew)).multiply(le.scale);for(var oe,ve,ue,ge=this.ctx.transform.applyToRectangle(new c(R.x,D,X.w,X.h)),ie=Q.applyToRectangle(new c(R.x,Z,X.w,X.h)),se=v.call(this,ie),_e=[],Te=0;Te<se.length;Te+=1)_e.indexOf(se[Te])===-1&&_e.push(se[Te]);if(j(_e),this.autoPaging)for(var Xe=_e[0],Me=_e[_e.length-1],Re=Xe;Re<Me+1;Re++){this.pdf.setPage(Re);var xe=Re===1?this.posY+this.margin[0]:this.margin[0],Pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],be=this.pdf.internal.pageSize.height-this.margin[2],Ae=be-this.margin[0],Ie=this.pdf.internal.pageSize.width-this.margin[1],Ce=Ie-this.margin[3],He=Re===1?0:Pe+(Re-2)*Ae;if(this.ctx.clip_path.length!==0){var Ve=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(oe,this.posX+this.margin[3],-1*He+xe),z.call(this,"fill",!0),this.path=Ve}var at=k([JSON.parse(JSON.stringify(ie))],this.posX+this.margin[3],-He+xe+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ve*R.scale),ue=this.lineWidth,this.lineWidth=ue*R.scale);var Qe=this.autoPaging!=="text";if(Qe||at.y+at.h<=be){if(Qe||at.y>=xe&&at.x<=Ie){var ut=Qe?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||Ie-at.x)[0],Ft=k([JSON.parse(JSON.stringify(ge))],this.posX+this.margin[3],-He+xe+this.ctx.prevPageLastElemOffset)[0],he=Qe&&(Re>Xe||Re<Me)&&w.call(this);he&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ce,Ae,null).clip().discardPath()),this.pdf.text(ut,Ft.x,Ft.y,{angle:R.angle,align:G,renderingMode:R.renderingMode}),he&&this.pdf.restoreGraphicsState()}}else at.y<be&&(this.ctx.prevPageLastElemOffset+=be-at.y);R.scale>=.01&&(this.pdf.setFontSize(ve),this.lineWidth=ue)}else R.scale>=.01&&(ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ve*R.scale),ue=this.lineWidth,this.lineWidth=ue*R.scale),this.pdf.text(R.text,ae.x+this.posX,ae.y+this.posY,{angle:R.angle,align:G,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(ve),this.lineWidth=ue)},I=function(R,G,X,D){X=X||0,D=D||0,this.pdf.internal.out(n(R+X)+" "+a(G+D)+" l")},q=function(R,G,X){return this.pdf.lines(R,G,X,null,null)},H=function(R,G,X,D,Z,ae,le,Q){this.pdf.internal.out([r(s(X+R)),r(o(D+G)),r(s(Z+R)),r(o(ae+G)),r(s(le+R)),r(o(Q+G)),"c"].join(" "))},te=function(R,G,X,D){for(var Z=2*Math.PI,ae=Math.PI/2;G>X;)G-=Z;var le=Math.abs(X-G);le<Z&&D&&(le=Z-le);for(var Q=[],oe=D?-1:1,ve=G;le>1e-5;){var ue=ve+oe*Math.min(le,ae);Q.push(O.call(this,R,ve,ue)),le-=Math.abs(ue-ve),ve=ue}return Q},O=function(R,G,X){var D=(X-G)/2,Z=R*Math.cos(D),ae=R*Math.sin(D),le=Z,Q=-ae,oe=le*le+Q*Q,ve=oe+le*Z+Q*ae,ue=4/3*(Math.sqrt(2*oe*ve)-ve)/(le*ae-Q*Z),ge=le-ue*Q,ie=Q+ue*le,se=ge,_e=-ie,Te=D+G,Xe=Math.cos(Te),Me=Math.sin(Te);return{x1:R*Math.cos(G),y1:R*Math.sin(G),x2:ge*Xe-ie*Me,y2:ge*Me+ie*Xe,x3:se*Xe-_e*Me,y3:se*Me+_e*Xe,x4:R*Math.cos(X),y4:R*Math.sin(X)}},re=function(R){return 180*R/Math.PI},Y=function(R,G,X,D,Z,ae){var le=R+.5*(X-R),Q=G+.5*(D-G),oe=Z+.5*(X-Z),ve=ae+.5*(D-ae),ue=Math.min(R,Z,le,oe),ge=Math.max(R,Z,le,oe),ie=Math.min(G,ae,Q,ve),se=Math.max(G,ae,Q,ve);return new c(ue,ie,ge-ue,se-ie)},P=function(R,G,X,D,Z,ae,le,Q){var oe,ve,ue,ge,ie,se,_e,Te,Xe,Me,Re,xe,Pe,be,Ae=X-R,Ie=D-G,Ce=Z-X,He=ae-D,Ve=le-Z,at=Q-ae;for(ve=0;ve<41;ve++)Xe=(_e=(ue=R+(oe=ve/40)*Ae)+oe*((ie=X+oe*Ce)-ue))+oe*(ie+oe*(Z+oe*Ve-ie)-_e),Me=(Te=(ge=G+oe*Ie)+oe*((se=D+oe*He)-ge))+oe*(se+oe*(ae+oe*at-se)-Te),ve==0?(Re=Xe,xe=Me,Pe=Xe,be=Me):(Re=Math.min(Re,Xe),xe=Math.min(xe,Me),Pe=Math.max(Pe,Xe),be=Math.max(be,Me));return new c(Math.round(Re),Math.round(xe),Math.round(Pe-Re),Math.round(be-xe))},L=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,G,X=(R=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:G}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(dr.API),function(e){var r=function(l){var c,u,d,f,p,x,g,y,w,v;for(u=[],d=0,f=(l+=c="\0\0\0\0".slice(l.length%4||4)).length;f>d;d+=4)(p=(l.charCodeAt(d)<<24)+(l.charCodeAt(d+1)<<16)+(l.charCodeAt(d+2)<<8)+l.charCodeAt(d+3))!==0?(x=(p=((p=((p=((p=(p-(v=p%85))/85)-(w=p%85))/85)-(y=p%85))/85)-(g=p%85))/85)%85,u.push(x+33,g+33,y+33,w+33,v+33)):u.push(122);return function(S,k){for(var j=k;j>0;j--)S.pop()}(u,c.length),String.fromCharCode.apply(String,u)+"~>"},n=function(l){var c,u,d,f,p,x=String,g="length",y=255,w="charCodeAt",v="slice",S="replace";for(l[v](-2),l=l[v](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),d=[],f=0,p=(l+=c="uuuuu"[v](l[g]%5||5))[g];p>f;f+=5)u=52200625*(l[w](f)-33)+614125*(l[w](f+1)-33)+7225*(l[w](f+2)-33)+85*(l[w](f+3)-33)+(l[w](f+4)-33),d.push(y&u>>24,y&u>>16,y&u>>8,y&u);return function(k,j){for(var C=j;C>0;C--)k.pop()}(d,c[g]),x.fromCharCode.apply(x,d)},a=function(l){return l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(l){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),c.test(l)===!1)return"";for(var u="",d=0;d<l.length;d+=2)u+=String.fromCharCode("0x"+(l[d]+l[d+1]));return u},o=function(l){for(var c=new Uint8Array(l.length),u=l.length;u--;)c[u]=l.charCodeAt(u);return(c=Dj(c)).reduce(function(d,f){return d+String.fromCharCode(f)},"")};e.processDataByFilters=function(l,c){var u=0,d=l||"",f=[];for(typeof(c=c||[])=="string"&&(c=[c]),u=0;u<c.length;u+=1)switch(c[u]){case"ASCII85Decode":case"/ASCII85Decode":d=n(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=r(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=a(d),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[u]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}}(dr.API),function(e){e.loadFile=function(r,n,a){return function(s,o,l){o=o!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=function(u,d,f){var p=new XMLHttpRequest,x=0,g=function(y){var w=y.length,v=[],S=String.fromCharCode;for(x=0;x<w;x+=1)v.push(S(255&y.charCodeAt(x)));return v.join("")};if(p.open("GET",u,!d),p.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(p.onload=function(){p.status===200?f(g(this.responseText)):f(void 0)}),p.send(null),d&&p.status===200)return g(p.responseText)}(s,o,l)}catch{}return c}(r,n,a)},e.loadImageFile=e.loadFile}(dr.API),function(e){function r(){return(Or.html2canvas?Promise.resolve(Or.html2canvas):Ns(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function n(){return(Or.DOMPurify?Promise.resolve(Or.DOMPurify):Ns(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var a=function(c){var u=Nn(c);return u==="undefined"?"undefined":u==="string"||c instanceof String?"string":u==="number"||c instanceof Number?"number":u==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":u==="object"?"object":"unknown"},s=function(c,u){var d=document.createElement(c);for(var f in u.className&&(d.className=u.className),u.innerHTML&&u.dompurify&&(d.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)d.style[f]=u.style[f];return d},o=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),p=u.firstChild;p;p=p.nextSibling)d!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(c(p,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f},l=function c(u){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),f=c.convert(Promise.resolve(),d);return(f=f.setProgress(1,c,1,[c])).set(u)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(c,u){return c.__proto__=u||l.prototype,c},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(c,u){return this.then(function(){switch(u=u||function(d){switch(a(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(c),u){case"string":return this.then(n).then(function(d){return this.set({src:s("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},l.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(r).then(function(u){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,u(this.prop.container,d)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(r).then(function(u){var d=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var g=0;g<f.length;++g){var y=f[g],w=y.src.find(function(v){return v.format==="truetype"});w&&d.addFont(w.url,y.ref.name,y.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,d.context2d.save(!0),u(this.prop.container,x)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(c,u,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,u):this.outputPdf(c,u)},l.prototype.outputPdf=function(c,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,u)})},l.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},l.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(c){if(a(c)!=="object")return this;var u=Object.keys(c||{}).map(function(d){if(d in l.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(u)})},l.prototype.get=function(c,u){return this.then(function(){var d=c in l.template.prop?this.prop[c]:this.opt[c];return u?u(d):d})},l.prototype.setMargin=function(c){return this.then(function(){switch(a(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},l.prototype.setPageSize=function(c){function u(d,f){return Math.floor(d*f/72*96)}return this.then(function(){(c=c||dr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:u(c.inner.width,c.k),height:u(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},l.prototype.setProgress=function(c,u,d,f){return c!=null&&(this.progress.val=c),u!=null&&(this.progress.state=u),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(c,u,d,f){return this.setProgress(c?this.progress.val+c:null,u||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},l.prototype.then=function(c,u){var d=this;return this.thenCore(c,u,function(f,p){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(x){return d.updateProgress(null,f),x}).then(f,p).then(function(x){return d.updateProgress(1),x})})},l.prototype.thenCore=function(c,u,d){d=d||Promise.prototype.then;var f=this;c&&(c=c.bind(f)),u&&(u=u.bind(f));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:l.convert(Object.assign({},f),Promise.prototype),x=d.call(p,c,u);return l.convert(x,f.__proto__)},l.prototype.thenExternal=function(c,u){return Promise.prototype.then.call(this,c,u)},l.prototype.thenList=function(c){var u=this;return c.forEach(function(d){u=u.thenCore(d)}),u},l.prototype.catch=function(c){c&&(c=c.bind(this));var u=Promise.prototype.catch.call(this,c);return l.convert(u,this)},l.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},l.prototype.error=function(c){return this.then(function(){throw new Error(c)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,dr.getPageSize=function(c,u,d){if(Nn(c)==="object"){var f=c;c=f.orientation,u=f.unit||u,d=f.format||d}u=u||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var p,x=(""+d).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+u}var y,w=0,v=0;if(g.hasOwnProperty(x))w=g[x][1]/p,v=g[x][0]/p;else try{w=d[1],v=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",v>w&&(y=v,v=w,w=y);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",w>v&&(y=v,v=w,w=y)}return{width:v,height:w,unit:u,k:p,orientation:c}},e.html=function(c,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(B2):null;var d=new l(u);return u.worker?d:d.from(c).doCallback()}}(dr.API),dr.API.addJS=function(e){return IA=e,this.internal.events.subscribe("postPutResources",function(){vx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(vx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),MA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+IA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){vx!==void 0&&MA!==void 0&&this.internal.out("/Names <</JavaScript "+vx+" 0 R>>")}),this},function(e){var r;e.events.push(["postPutResources",function(){var n=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),o=0;o<s.length;o++){var l=s[o],c=a.exec(l);if(c!=null){var u=c[1];n.internal.newObjectDeferredBegin(u,!1)}n.internal.write(l)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(o=0;o<d;o++){var p=n.internal.newObject();f.push(p);var x=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<f.length;o++)n.internal.write("(page_"+(o+1)+")"+f[o]+" 0 R");n.internal.write(" ] >>","endobj"),r=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+r+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(a,s,o){var l={title:s,options:o,children:[]};return a==null&&(a=this.root),a.children.push(l),l},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(a){a.id=n.internal.newObjectDeferred();for(var s=0;s<a.children.length;s++)this.genIds_r(a.children[s])},n.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},n.outline.renderItems=function(a){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<a.children.length;o++){var l=a.children[o];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(a)),o>0&&this.line("/Prev "+this.makeRef(a.children[o-1])),o<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[o+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var u=n.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<a.children.length;d++)this.renderItems(a.children[d])},n.outline.line=function(a){this.ctx.val+=a+`\r
`},n.outline.makeRef=function(a){return a.id+" 0 R"},n.outline.makeString=function(a){return"("+n.internal.pdfEscape(a)+")"},n.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(a,s){for(var o=0;o<s.children.length;o++)a.count++,this.count_r(a,s.children[o]);return a.count}}])}(dr.API),function(e){var r=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,a,s,o,l,c){var u,d=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=l||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,u=function(p){for(var x,g=256*p.charCodeAt(4)+p.charCodeAt(5),y=p.length,w={width:0,height:0,numcomponents:1},v=4;v<y;v+=2){if(v+=g,r.indexOf(p.charCodeAt(v+1))!==-1){x=256*p.charCodeAt(v+5)+p.charCodeAt(v+6),w={width:256*p.charCodeAt(v+7)+p.charCodeAt(v+8),height:x,numcomponents:p.charCodeAt(v+9)};break}g=256*p.charCodeAt(v+2)+p.charCodeAt(v+3)}return w}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),u.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}f={data:n,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:d,index:a,alias:s}}return f}}(dr.API),dr.API.processPNG=function(e,r,n,a){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,o=O0e(e,{checkCrc:!0}),l=o.width,c=o.height,u=o.channels,d=o.palette,f=o.depth;s=d&&u===1?function(V){for(var B=V.width,K=V.height,T=V.data,M=V.palette,I=V.depth,q=!1,H=[],te=[],O=void 0,re=!1,Y=0,P=0;P<M.length;P++){var L=$E(M[P],4),R=L[0],G=L[1],X=L[2],D=L[3];H.push(R,G,X),D!=null&&(D===0?(Y++,te.length<1&&te.push(P)):D<255&&(re=!0))}if(re||Y>1){q=!0,te=void 0;var Z=B*K;O=new Uint8Array(Z);for(var ae=new DataView(T.buffer),le=0;le<Z;le++){var Q=q2(ae,le,I),oe=$E(M[Q],4)[3];O[le]=oe}}else Y===0&&(te=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:q?8:void 0,colorBytes:T,alphaBytes:O,needSMask:q,palette:H,mask:te}}(o):u===2||u===4?function(V){for(var B=V.data,K=V.width,T=V.height,M=V.channels,I=V.depth,q=M===2?"DeviceGray":"DeviceRGB",H=M-1,te=K*T,O=H,re=te*O,Y=1*te,P=Math.ceil(re*I/8),L=Math.ceil(Y*I/8),R=new Uint8Array(P),G=new Uint8Array(L),X=new DataView(B.buffer),D=new DataView(R.buffer),Z=new DataView(G.buffer),ae=!1,le=0;le<te;le++){for(var Q=le*M,oe=0;oe<O;oe++)VA(D,q2(X,Q+oe,I),le*O+oe,I);var ve=q2(X,Q+O,I);ve<(1<<I)-1&&(ae=!0),VA(Z,ve,1*le,I)}return{colorSpace:q,colorsPerPixel:H,sMaskBitsPerComponent:ae?I:void 0,colorBytes:R,alphaBytes:G,needSMask:ae}}(o):function(V){var B=V.data,K=V.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:K,colorsPerPixel:K==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?function(T){for(var M=T.length,I=new Uint8Array(2*M),q=new DataView(I.buffer,I.byteOffset,I.byteLength),H=0;H<M;H++)q.setUint16(2*H,T[H],!1);return I}(B):B,needSMask:!1}}(o);var p,x,g,y=s,w=y.colorSpace,v=y.colorsPerPixel,S=y.sMaskBitsPerComponent,k=y.colorBytes,j=y.alphaBytes,C=y.needSMask,z=y.palette,$=y.mask,F=null;return a!==dr.API.image_compression.NONE&&typeof Dj=="function"?(F=function(V){var B;switch(V){case dr.API.image_compression.FAST:B=11;break;case dr.API.image_compression.MEDIUM:B=13;break;case dr.API.image_compression.SLOW:B=14;break;default:B=12}return B}(a),p=this.decode.FLATE_DECODE,x="/Predictor ".concat(F," /Colors ").concat(v," /BitsPerComponent ").concat(f," /Columns ").concat(l),e=$A(k,Math.ceil(l*v*f/8),v,f,a),C&&(g=$A(j,Math.ceil(l*S/8),1,S,a))):(p=void 0,x=void 0,e=k,C&&(g=j)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:n,data:e,index:r,filter:p,decodeParameters:x,transparency:$,palette:z,sMask:g,predictor:F,width:l,height:c,bitsPerComponent:f,sMaskBitsPerComponent:S,colorSpace:w}}},function(e){e.processGIF89A=function(r,n,a,s){var o=new ege(r),l=o.width,c=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:l,height:c},f=new H2(100).encode(d,100);return e.processJPEG.call(this,f,n,a,s)},e.processGIF87A=e.processGIF89A}(dr.API),wl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var r=0;r<e;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:s,green:a,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},wl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[e]()}catch(n){Ln.log("bit decode error:"+n)}},wl.prototype.bit1=function(){var e,r=Math.ceil(this.width/8),n=r%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,s=0;s<r;s++)for(var o=this.datav.getUint8(this.pos++,!0),l=a*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var u=this.palette[o>>7-c&1];this.data[l+4*c]=u.blue,this.data[l+4*c+1]=u.green,this.data[l+4*c+2]=u.red,this.data[l+4*c+3]=255}n!==0&&(this.pos+=4-n)}},wl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),r=e%4,n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var o=this.datav.getUint8(this.pos++,!0),l=a*this.width*4+2*s*4,c=o>>4,u=15&o,d=this.palette[c];if(this.data[l]=d.blue,this.data[l+1]=d.green,this.data[l+2]=d.red,this.data[l+3]=255,2*s+1>=this.width)break;d=this.palette[u],this.data[l+4]=d.blue,this.data[l+4+1]=d.green,this.data[l+4+2]=d.red,this.data[l+4+3]=255}r!==0&&(this.pos+=4-r)}},wl.prototype.bit8=function(){for(var e=this.width%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*a;if(s<this.palette.length){var l=this.palette[s];this.data[o]=l.red,this.data[o+1]=l.green,this.data[o+2]=l.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}e!==0&&(this.pos+=4-e)}},wl.prototype.bit15=function(){for(var e=this.width%3,r=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&r)/r*255|0,c=(o>>5&r)/r*255|0,u=(o>>10&r)/r*255|0,d=o>>15?255:0,f=a*this.width*4+4*s;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=d}this.pos+=e}},wl.prototype.bit16=function(){for(var e=this.width%3,r=parseInt("11111",2),n=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,o=0;o<this.width;o++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&r)/r*255|0,u=(l>>5&n)/n*255|0,d=(l>>11)/r*255|0,f=s*this.width*4+4*o;this.data[f]=d,this.data[f+1]=u,this.data[f+2]=c,this.data[f+3]=255}this.pos+=e}},wl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+4*n;this.data[l]=o,this.data[l+1]=s,this.data[l+2]=a,this.data[l+3]=255}this.pos+=this.width%4}},wl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+4*n;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=a,this.data[c+3]=l}},wl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(r,n,a,s){var o=new wl(r,!1),l=o.width,c=o.height,u={data:o.getData(),width:l,height:c},d=new H2(100).encode(u,100);return e.processJPEG.call(this,d,n,a,s)}}(dr.API),KA.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(r,n,a,s){var o=new KA(r),l=o.width,c=o.height,u={data:o.getData(),width:l,height:c},d=new H2(100).encode(u,100);return e.processJPEG.call(this,d,n,a,s)}}(dr.API),dr.API.processRGBA=function(e,r,n){for(var a=e.data,s=a.length,o=new Uint8Array(s/4*3),l=new Uint8Array(s/4),c=0,u=0,d=0;d<s;d+=4){var f=a[d],p=a[d+1],x=a[d+2],g=a[d+3];o[c++]=f,o[c++]=p,o[c++]=x,l[u++]=g}var y=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:y,index:r,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},dr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Cf=dr.API,yx=Cf.getCharWidthsArray=function(e,r){var n,a,s=(r=r||{}).font||this.internal.getFont(),o=r.fontSize||this.internal.getFontSize(),l=r.charSpace||this.internal.getCharSpace(),c=r.widths?r.widths:s.metadata.Unicode.widths,u=c.fof?c.fof:1,d=r.kerning?r.kerning:s.metadata.Unicode.kerning,f=d.fof?d.fof:1,p=r.doKerning!==!1,x=0,g=e.length,y=0,w=c[0]||u,v=[];for(n=0;n<g;n++)a=e.charCodeAt(n),typeof s.metadata.widthOfString=="function"?v.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(a))+l*(1e3/o)||0)/1e3):(x=p&&Nn(d[a])==="object"&&!isNaN(parseInt(d[a][y],10))?d[a][y]/f:0,v.push((c[a]||w)/u+x)),y=a;return v},RA=Cf.getStringUnitWidth=function(e,r){var n=(r=r||{}).fontSize||this.internal.getFontSize(),a=r.font||this.internal.getFont(),s=r.charSpace||this.internal.getCharSpace();return Cf.processArabic&&(e=Cf.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,n,s)/n:yx.apply(this,arguments).reduce(function(o,l){return o+l},0)},zA=function(e,r,n,a){for(var s=[],o=0,l=e.length,c=0;o!==l&&c+r[o]<n;)c+=r[o],o++;s.push(e.slice(0,o));var u=o;for(c=0;o!==l;)c+r[o]>a&&(s.push(e.slice(u,o)),c=0,u=o),c+=r[o],o++;return u!==o&&s.push(e.slice(u,o)),s},FA=function(e,r,n){n||(n={});var a,s,o,l,c,u,d,f=[],p=[f],x=n.textIndent||0,g=0,y=0,w=e.split(" "),v=yx.apply(this,[" ",n])[0];if(u=n.lineIndent===-1?w[0].length+2:n.lineIndent||0){var S=Array(u).join(" "),k=[];w.map(function(C){(C=C.split(/\s*\n/)).length>1?k=k.concat(C.map(function(z,$){return($&&z.length?`
`:"")+z})):k.push(C[0])}),w=k,u=RA.apply(this,[S,n])}for(o=0,l=w.length;o<l;o++){var j=0;if(a=w[o],u&&a[0]==`
`&&(a=a.substr(1),j=1),x+g+(y=(s=yx.apply(this,[a,n])).reduce(function(C,z){return C+z},0))>r||j){if(y>r){for(c=zA.apply(this,[a,s,r-(x+g),r]),f.push(c.shift()),f=[c.pop()];c.length;)p.push([c.shift()]);y=s.slice(a.length-(f[0]?f[0].length:0)).reduce(function(C,z){return C+z},0)}else f=[a];p.push(f),x=y+u,g=v}else f.push(a),x+=g+y,g=v}return d=u?function(C,z){return(z?S:"")+C.join(" ")}:function(C){return C.join(" ")},p.map(d)},Cf.splitTextToSize=function(e,r,n){var a,s=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle),x="Unicode";return p.metadata[x]?{widths:p.metadata[x].widths||{0:1},kerning:p.metadata[x].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*r/s;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=n.lineIndent;var c,u,d=[];for(c=0,u=a.length;c<u;c++)d=d.concat(FA.apply(this,[a[c],l,o]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var r="0123456789abcdef",n="klmnopqrstuvwxyz",a={},s={},o=0;o<16;o++)a[n[o]]=r[o],s[r[o]]=n[o];var l=function(x){return"0x"+parseInt(x,10).toString(16)},c=e.__fontmetrics__.compress=function(x){var g,y,w,v,S=["{"];for(var k in x){if(g=x[k],isNaN(parseInt(k,10))?y="'"+k+"'":(k=parseInt(k,10),y=(y=l(k).slice(2)).slice(0,-1)+s[y.slice(-1)]),typeof g=="number")g<0?(w=l(g).slice(3),v="-"):(w=l(g).slice(2),v=""),w=v+w.slice(0,-1)+s[w.slice(-1)];else{if(Nn(g)!=="object")throw new Error("Don't know what to do with value type "+Nn(g)+".");w=c(g)}S.push(y+w)}return S.push("}"),S.join("")},u=e.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,y,w,v,S={},k=1,j=S,C=[],z="",$="",F=x.length-1,V=1;V<F;V+=1)(v=x[V])=="'"?g?(w=g.join(""),g=void 0):g=[]:g?g.push(v):v=="{"?(C.push([j,w]),j={},w=void 0):v=="}"?((y=C.pop())[0][y[1]]=j,w=void 0,j=y[0]):v=="-"?k=-1:w===void 0?a.hasOwnProperty(v)?(z+=a[v],w=parseInt(z,16)*k,k=1,z=""):z+=v:a.hasOwnProperty(v)?($+=a[v],j[w]=parseInt($,16)*k,k=1,w=void 0,$=""):$+=v;return S},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},p={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(x){var g=x.font,y=p.Unicode[g.postScriptName];y&&(g.metadata.Unicode={},g.metadata.Unicode.widths=y.widths,g.metadata.Unicode.kerning=y.kerning);var w=f.Unicode[g.postScriptName];w&&(g.metadata.Unicode.encoding=w,g.encoding=w.codePages[0])}])}(dr.API),function(e){var r=function(n){for(var a=n.length,s=new Uint8Array(a),o=0;o<a;o++)s[o]=n.charCodeAt(o);return s};e.API.events.push(["addFont",function(n){var a=void 0,s=n.font,o=n.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(a=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?r(c):r(Mx(c)),l.metadata=e.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(s,a)}}])}(dr),dr.API.addSvgAsImage=function(e,r,n,a,s,o,l,c){if(isNaN(r)||isNaN(n))throw Ln.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Ln.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=a,u.height=s;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(Or.canvg?Promise.resolve(Or.canvg):Ns(()=>import("./index.es-mzGpS6Y4.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(d,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(f)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),r,n,a,s,l,c)})},dr.API.putTotalPages=function(e){var r,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var s=0;s<this.internal.pages[a].length;s++)this.internal.pages[a][s]=this.internal.pages[a][s].replace(r,n);return this},dr.API.viewerPreferences=function(e,r){var n;e=e||{},r=r||!1;var a,s,o,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),u=[],d=0,f=0,p=0;function x(y,w){var v,S=!1;for(v=0;v<y.length;v+=1)y[v]===w&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||r===!0){var g=c.length;for(p=0;p<g;p+=1)n[c[p]].value=n[c[p]].defaultValue,n[c[p]].explicitSet=!1}if(Nn(e)==="object"){for(s in e)if(o=e[s],x(c,s)&&o!==void 0){if(n[s].type==="boolean"&&typeof o=="boolean")n[s].value=o;else if(n[s].type==="name"&&x(n[s].valueSet,o))n[s].value=o;else if(n[s].type==="integer"&&Number.isInteger(o))n[s].value=o;else if(n[s].type==="array"){for(d=0;d<o.length;d+=1)if(a=!0,o[d].length===1&&typeof o[d][0]=="number")u.push(String(o[d]-1));else if(o[d].length>1){for(f=0;f<o[d].length;f+=1)typeof o[d][f]!="number"&&(a=!1);a===!0&&u.push([o[d][0]-1,o[d][1]-1].join(" "))}n[s].value="["+u.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,w=[];for(y in n)n[y].explicitSet===!0&&(n[y].type==="name"?w.push("/"+y+" /"+n[y].value):w.push("/"+y+" "+n[y].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var r=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(a)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+l.length+c.length+s.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+o+l+c+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(a,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",r)),this}}(dr.API),function(e){var r=e.API,n=r.pdfEscape16=function(o,l){for(var c,u=l.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],p=0,x=o.length;p<x;++p){if(c=l.metadata.characterToGlyph(o.charCodeAt(p)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=o.charCodeAt(p),u.indexOf(c)==-1&&(u.push(c),u.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return f.join("");c=c.toString(16),f.push(d[4-c.length],c)}return f.join("")},a=function(o){var l,c,u,d,f,p,x;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],p=0,x=(c=Object.keys(o).sort(function(g,y){return g-y})).length;p<x;p++)l=c[p],u.length>=100&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),o[l]!==void 0&&o[l]!==null&&typeof o[l].toString=="function"&&(d=("0000"+o[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),u.push("<"+l+"><"+d+">"));return u.length&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(o){(function(l){var c=l.font,u=l.out,d=l.newObject,f=l.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="Identity-H"){for(var p=c.metadata.Unicode.widths,x=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),g="",y=0;y<x.length;y++)g+=String.fromCharCode(x[y]);var w=d();f({data:g,addLength1:!0,objectId:w}),u("endobj");var v=d();f({data:a(c.metadata.toUnicode),addLength1:!0,objectId:v}),u("endobj");var S=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Of(c.fontName)),u("/FontFile2 "+w+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var k=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+Of(c.fontName)),u("/FontDescriptor "+S+" 0 R"),u("/W "+e.API.PDFObject.convert(p)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+v+" 0 R"),u("/BaseFont /"+Of(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+k+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}})(o)}]),r.events.push(["putFont",function(o){(function(l){var c=l.font,u=l.out,d=l.newObject,f=l.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var p=c.metadata.rawData,x="",g=0;g<p.length;g++)x+=String.fromCharCode(p[g]);var y=d();f({data:x,addLength1:!0,objectId:y}),u("endobj");var w=d();f({data:a(c.metadata.toUnicode),addLength1:!0,objectId:w}),u("endobj");var v=d();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+y+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+Of(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=d();for(var S=0;S<c.metadata.hmtx.widths.length;S++)c.metadata.hmtx.widths[S]=parseInt(c.metadata.hmtx.widths[S]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+Of(c.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}})(o)}]);var s=function(o){var l,c=o.text||"",u=o.x,d=o.y,f=o.options||{},p=o.mutex||{},x=p.pdfEscape,g=p.activeFontKey,y=p.fonts,w=g,v="",S=0,k="",j=y[w].encoding;if(y[w].encoding!=="Identity-H")return{text:c,x:u,y:d,options:f,mutex:p};for(k=c,w=g,Array.isArray(c)&&(k=c[0]),S=0;S<k.length;S+=1)y[w].metadata.hasOwnProperty("cmap")&&(l=y[w].metadata.cmap.unicode.codeMap[k[S].charCodeAt(0)]),l||k[S].charCodeAt(0)<256&&y[w].metadata.hasOwnProperty("Unicode")?v+=k[S]:v+="";var C="";return parseInt(w.slice(1))<14||j==="WinAnsiEncoding"?C=x(v,w).split("").map(function(z){return z.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(C=n(v,y[w])),p.isHex=!0,{text:C,x:u,y:d,options:f,mutex:p}};r.events.push(["postProcessText",function(o){var l=o.text||"",c=[],u={text:l,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(l)){var d=0;for(d=0;d<l.length;d+=1)Array.isArray(l[d])&&l[d].length===3?c.push([s(Object.assign({},u,{text:l[d][0]})).text,l[d][1],l[d][2]]):c.push(s(Object.assign({},u,{text:l[d]})).text);o.text=c}else o.text=s(Object.assign({},u,{text:l})).text}])}(dr),function(e){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return r.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,a){return r.call(this),this.internal.vFS[n]=a,this},e.getFileFromVFS=function(n){return r.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(dr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var s,o,l,c,u,d,f,p=r,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,j=0;this.__bidiEngine__={};var C=function(T){var M=T.charCodeAt(),I=M>>8,q=w[I];return q!==void 0?p[256*q+(255&M)]:I===252||I===253?"AL":S.test(I)?"L":I===8?"R":"N"},z=function(T){for(var M,I=0;I<T.length;I++){if((M=C(T.charAt(I)))==="L")return!1;if(M==="R")return!0}return!1},$=function(T,M,I,q){var H,te,O,re,Y=M[q];switch(Y){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"N":case"AN":break;case"EN":k&&(Y="AN");break;case"AL":k=!0,Y="R";break;case"WS":case"BN":Y="N";break;case"CS":q<1||q+1>=M.length||(H=I[q-1])!=="EN"&&H!=="AN"||(te=M[q+1])!=="EN"&&te!=="AN"?Y="N":k&&(te="AN"),Y=te===H?te:"N";break;case"ES":Y=(H=q>0?I[q-1]:"B")==="EN"&&q+1<M.length&&M[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&I[q-1]==="EN"){Y="EN";break}if(k){Y="N";break}for(O=q+1,re=M.length;O<re&&M[O]==="ET";)O++;Y=O<re&&M[O]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(re=M.length,O=q+1;O<re&&M[O]==="NSM";)O++;if(O<re){var P=T[q],L=P>=1425&&P<=2303||P===64286;if(H=M[O],L&&(H==="R"||H==="AL")){Y="R";break}}}Y=q<1||(H=M[q-1])==="B"?"N":I[q-1];break;case"B":k=!1,s=!0,Y=j;break;case"S":o=!0,Y="N"}return Y},F=function(T,M,I){var q=T.split("");return I&&V(q,I,{hiLevel:j}),q.reverse(),M&&M.reverse(),q.join("")},V=function(T,M,I){var q,H,te,O,re,Y=-1,P=T.length,L=0,R=[],G=j?g:x,X=[];for(k=!1,s=!1,o=!1,H=0;H<P;H++)X[H]=C(T[H]);for(te=0;te<P;te++){if(re=L,R[te]=$(T,X,R,te),q=240&(L=G[re][y[R[te]]]),L&=15,M[te]=O=G[L][5],q>0)if(q===16){for(H=Y;H<te;H++)M[H]=1;Y=-1}else Y=-1;if(G[L][6])Y===-1&&(Y=te);else if(Y>-1){for(H=Y;H<te;H++)M[H]=O;Y=-1}X[te]==="B"&&(M[te]=0),I.hiLevel|=O}o&&function(D,Z,ae){for(var le=0;le<ae;le++)if(D[le]==="S"){Z[le]=j;for(var Q=le-1;Q>=0&&D[Q]==="WS";Q--)Z[Q]=j}}(X,M,P)},B=function(T,M,I,q,H){if(!(H.hiLevel<T)){if(T===1&&j===1&&!s)return M.reverse(),void(I&&I.reverse());for(var te,O,re,Y,P=M.length,L=0;L<P;){if(q[L]>=T){for(re=L+1;re<P&&q[re]>=T;)re++;for(Y=L,O=re-1;Y<O;Y++,O--)te=M[Y],M[Y]=M[O],M[O]=te,I&&(te=I[Y],I[Y]=I[O],I[O]=te);L=re}L++}}},K=function(T,M,I){var q=T.split(""),H={hiLevel:j};return I||(I=[]),V(q,I,H),function(te,O,re){if(re.hiLevel!==0&&f)for(var Y,P=0;P<te.length;P++)O[P]===1&&(Y=v.indexOf(te[P]))>=0&&(te[P]=v[Y+1])}(q,I,H),B(2,q,M,I,H),B(1,q,M,I,H),q.join("")};return this.__bidiEngine__.doBidiReorder=function(T,M,I){if(function(H,te){if(te)for(var O=0;O<H.length;O++)te[O]=O;c===void 0&&(c=z(H)),d===void 0&&(d=z(H))}(T,M),l||!u||d)if(l&&u&&c^d)j=c?1:0,T=F(T,M,I);else if(!l&&u&&d)j=c?1:0,T=K(T,M,I),T=F(T,M);else if(!l||c||u||d){if(l&&!u&&c^d)T=F(T,M),c?(j=0,T=K(T,M,I)):(j=1,T=K(T,M,I),T=F(T,M));else if(l&&c&&!u&&d)j=1,T=K(T,M,I),T=F(T,M);else if(!l&&!u&&c^d){var q=f;c?(j=1,T=K(T,M,I),j=0,f=!1,T=K(T,M,I),f=q):(j=0,T=K(T,M,I),T=F(T,M),j=1,f=!1,T=K(T,M,I),f=q,T=F(T,M))}}else j=0,T=K(T,M,I);else j=c?1:0,T=K(T,M,I);return T},this.__bidiEngine__.setOptions=function(T){T&&(l=T.isInputVisual,u=T.isOutputVisual,c=T.isInputRtl,d=T.isOutputRtl,f=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var s=a.text;a.x,a.y;var o=a.options||{};a.mutex,o.lang;var l=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(l=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?l.push([n.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):l.push([n.doBidiReorder(s[c])]);a.text=l}else a.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(dr),dr.API.TTFFont=function(){function e(r){var n;if(this.rawData=r,n=this.contents=new wd(r),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new pge(this),this.registerTTF()}return e.open=function(r){return new e(r)},e.prototype.parse=function(){return this.directory=new tge(this.contents),this.head=new nge(this),this.name=new lge(this),this.cmap=new C9(this),this.toUnicode={},this.hhea=new age(this),this.maxp=new cge(this),this.hmtx=new uge(this),this.post=new sge(this),this.os2=new ige(this),this.loca=new mge(this),this.glyf=new dge(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var r,n,a,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,u,d;for(d=[],l=0,c=(u=this.bbox).length;l<c;l++)r=u[l],d.push(Math.round(r*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(a=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(r){var n;return((n=this.cmap.unicode)!=null?n.codeMap[r]:void 0)||0},e.prototype.widthOfGlyph=function(r){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*n},e.prototype.widthOfString=function(r,n,a){var s,o,l,c;for(l=0,o=0,c=(r=""+r).length;0<=c?o<c:o>c;o=0<=c?++o:--o)s=r.charCodeAt(o),l+=this.widthOfGlyph(this.characterToGlyph(s))+a*(1e3/n)||0;return l*(n/1e3)},e.prototype.lineHeight=function(r,n){var a;return n==null&&(n=!1),a=n?this.lineGap:0,(this.ascender+a-this.decender)/1e3*r},e}();var Fl,wd=function(){function e(r){this.data=r??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(r){return this.data[this.pos++]=r},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},e.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},e.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},e.prototype.readString=function(r){var n,a;for(a=[],n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)a[n]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(r){var n,a,s;for(s=[],n=0,a=r.length;0<=a?n<a:n>a;n=0<=a?++n:--n)s.push(this.writeByte(r.charCodeAt(n)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(r){return this.writeInt16(r)},e.prototype.readLongLong=function(){var r,n,a,s,o,l,c,u;return r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),u=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^n)+1099511627776*(255^a)+4294967296*(255^s)+16777216*(255^o)+65536*(255^l)+256*(255^c)+(255^u)+1):72057594037927940*r+281474976710656*n+1099511627776*a+4294967296*s+16777216*o+65536*l+256*c+u},e.prototype.writeLongLong=function(r){var n,a;return n=Math.floor(r/4294967296),a=4294967295&r,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(r){return this.writeInt32(r)},e.prototype.read=function(r){var n,a;for(n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push(this.readByte());return n},e.prototype.write=function(r){var n,a,s,o;for(o=[],a=0,s=r.length;a<s;a++)n=r[a],o.push(this.writeByte(n));return o},e}(),tge=function(){var e;function r(n){var a,s,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)a={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[a.tag]=a}return r.prototype.encode=function(n){var a,s,o,l,c,u,d,f,p,x,g,y,w;for(w in g=Object.keys(n).length,u=Math.log(2),p=16*Math.floor(Math.log(g)/u),l=Math.floor(p/u),f=16*g-p,(s=new wd).writeInt(this.scalarType),s.writeShort(g),s.writeShort(p),s.writeShort(l),s.writeShort(f),o=16*g,d=s.pos+o,c=null,y=[],n)for(x=n[w],s.writeString(w),s.writeInt(e(x)),s.writeInt(d),s.writeInt(x.length),y=y.concat(x),w==="head"&&(c=d),d+=x.length;d%4;)y.push(0),d++;return s.write(y),a=2981146554-e(s.data),s.pos=c+8,s.writeUInt32(a),s.data},e=function(n){var a,s,o,l;for(n=P9.call(n);n.length%4;)n.push(0);for(o=new wd(n),s=0,a=0,l=n.length;a<l;a=a+=4)s+=o.readUInt32();return 4294967295&s},r}(),rge={}.hasOwnProperty,bc=function(e,r){for(var n in r)rge.call(r,n)&&(e[n]=r[n]);function a(){this.constructor=e}return a.prototype=r.prototype,e.prototype=new a,e.__super__=r.prototype,e};Fl=function(){function e(r){var n;this.file=r,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var nge=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bc(e,Fl),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new wd).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),GA=function(){function e(r,n){var a,s,o,l,c,u,d,f,p,x,g,y,w,v,S,k,j;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=n+r.readInt(),p=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=r.readByte();break;case 4:for(g=r.readUInt16(),x=g/2,r.pos+=6,o=function(){var C,z;for(z=[],u=C=0;0<=x?C<x:C>x;u=0<=x?++C:--C)z.push(r.readUInt16());return z}(),r.pos+=2,w=function(){var C,z;for(z=[],u=C=0;0<=x?C<x:C>x;u=0<=x?++C:--C)z.push(r.readUInt16());return z}(),d=function(){var C,z;for(z=[],u=C=0;0<=x?C<x:C>x;u=0<=x?++C:--C)z.push(r.readUInt16());return z}(),f=function(){var C,z;for(z=[],u=C=0;0<=x?C<x:C>x;u=0<=x?++C:--C)z.push(r.readUInt16());return z}(),s=(this.length-r.pos+this.offset)/2,c=function(){var C,z;for(z=[],u=C=0;0<=s?C<s:C>s;u=0<=s?++C:--C)z.push(r.readUInt16());return z}(),u=S=0,j=o.length;S<j;u=++S)for(v=o[u],a=k=y=w[u];y<=v?k<=v:k>=v;a=y<=v?++k:--k)f[u]===0?l=a+d[u]:(l=c[f[u]/2+(a-y)-(x-u)]||0)!==0&&(l+=d[u]),this.codeMap[a]=65535&l}r.pos=p}return e.encode=function(r,n){var a,s,o,l,c,u,d,f,p,x,g,y,w,v,S,k,j,C,z,$,F,V,B,K,T,M,I,q,H,te,O,re,Y,P,L,R,G,X,D,Z,ae,le,Q,oe,ve,ue;switch(q=new wd,l=Object.keys(r).sort(function(ge,ie){return ge-ie}),n){case"macroman":for(w=0,v=function(){var ge=[];for(y=0;y<256;++y)ge.push(0);return ge}(),k={0:0},o={},H=0,Y=l.length;H<Y;H++)k[Q=r[s=l[H]]]==null&&(k[Q]=++w),o[s]={old:r[s],new:k[r[s]]},v[s]=k[r[s]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(v),{charMap:o,subtable:q.data,maxGlyphID:w+1};case"unicode":for(M=[],p=[],j=0,k={},a={},S=d=null,te=0,P=l.length;te<P;te++)k[z=r[s=l[te]]]==null&&(k[z]=++j),a[s]={old:z,new:k[z]},c=k[z]-s,S!=null&&c===d||(S&&p.push(S),M.push(s),d=c),S=s;for(S&&p.push(S),p.push(65535),M.push(65535),K=2*(B=M.length),V=2*Math.pow(Math.log(B)/Math.LN2,2),x=Math.log(V/2)/Math.LN2,F=2*B-V,u=[],$=[],g=[],y=O=0,L=M.length;O<L;y=++O){if(T=M[y],f=p[y],T===65535){u.push(0),$.push(0);break}if(T-(I=a[T].new)>=32768)for(u.push(0),$.push(2*(g.length+B-y)),s=re=T;T<=f?re<=f:re>=f;s=T<=f?++re:--re)g.push(a[s].new);else u.push(I-T),$.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*B+2*g.length),q.writeUInt16(0),q.writeUInt16(K),q.writeUInt16(V),q.writeUInt16(x),q.writeUInt16(F),ae=0,R=p.length;ae<R;ae++)s=p[ae],q.writeUInt16(s);for(q.writeUInt16(0),le=0,G=M.length;le<G;le++)s=M[le],q.writeUInt16(s);for(oe=0,X=u.length;oe<X;oe++)c=u[oe],q.writeUInt16(c);for(ve=0,D=$.length;ve<D;ve++)C=$[ve],q.writeUInt16(C);for(ue=0,Z=g.length;ue<Z;ue++)w=g[ue],q.writeUInt16(w);return{charMap:a,subtable:q.data,maxGlyphID:j+1}}},e}(),C9=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bc(e,Fl),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,a,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)n=new GA(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var a,s;return n==null&&(n="macroman"),a=GA.encode(r,n),(s=new wd).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},e}(),age=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bc(e,Fl),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),ige=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bc(e,Fl),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),sge=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bc(e,Fl),e.prototype.tag="post",e.prototype.parse=function(r){var n,a,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 262144:return this.map=(function(){var l,c,u;for(u=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},e}(),oge=function(e,r){this.raw=e,this.length=e.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},lge=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bc(e,Fl),e.prototype.tag="name",e.prototype.parse=function(r){var n,a,s,o,l,c,u,d,f,p,x;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},o=f=0,p=a.length;f<p;o=++f)s=a[o],r.pos=s.offset,d=r.readString(s.length),l=new oge(d,s),u[x=s.nameID]==null&&(u[x]=[]),u[s.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),cge=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bc(e,Fl),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),uge=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bc(e,Fl),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,a,s,o,l,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=s?d<s:d>s;n=0<=s?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,p,x;for(x=[],d=0,f=(p=this.metrics).length;d<f;d++)o=p[d],x.push(o.advance);return x}).call(this),a=this.widths[this.widths.length-1],u=[],n=l=0;0<=s?l<s:l>s;n=0<=s?++l:--l)u.push(this.widths.push(a));return u},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),P9=[].slice,dge=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bc(e,Fl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,a,s,o,l,c,u,d,f,p;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(s=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(c=new wd(n.read(s))).readShort(),d=c.readShort(),p=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[r]=l===-1?new fge(c,d,p,u,f):new hge(c,l,d,p,u,f),this.cache[r]))},e.prototype.encode=function(r,n,a){var s,o,l,c,u;for(l=[],o=[],c=0,u=n.length;c<u;c++)s=r[n[c]],o.push(l.length),s&&(l=l.concat(s.encode(a)));return o.push(l.length),{table:l,offsets:o}},e}(),hge=function(){function e(r,n,a,s,o,l){this.raw=r,this.numberOfContours=n,this.xMin=a,this.yMin=s,this.xMax=o,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),fge=function(){function e(r,n,a,s,o){var l,c;for(this.raw=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return e.prototype.encode=function(){var r,n,a;for(n=new wd(P9.call(this.raw.data)),r=0,a=this.glyphIDs.length;r<a;++r)n.pos=this.glyphOffsets[r];return n.data},e}(),mge=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bc(e,Fl),e.prototype.tag="loca",e.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,o;for(o=[],a=0,s=this.length;a<s;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],a=0,s=this.length;a<s;a+=4)o.push(r.readUInt32());return o}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),s=0,o=0,l=0;l<a.length;++l)if(a[l]=s,o<n.length&&n[o]==l){++o,a[l]=s;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(s+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},e}(),pge=function(){function e(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var r,n,a,s,o;for(n in s=this.font.cmap.tables[0].codeMap,r={},o=this.subset)a=o[n],r[n]=s[a];return r},e.prototype.glyphsFor=function(r){var n,a,s,o,l,c,u;for(s={},l=0,c=r.length;l<c;l++)s[o=r[l]]=this.font.glyf.glyphFor(o);for(o in n=[],s)(a=s[o])!=null&&a.compound&&n.push.apply(n,a.glyphIDs);if(n.length>0)for(o in u=this.glyphsFor(n))a=u[o],s[o]=a;return s},e.prototype.encode=function(r,n){var a,s,o,l,c,u,d,f,p,x,g,y,w,v,S;for(s in a=C9.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(r),g={0:0},S=a.charMap)g[(u=S[s]).old]=u.new;for(y in x=a.maxGlyphID,l)y in g||(g[y]=x++);return f=function(k){var j,C;for(j in C={},k)C[k[j]]=j;return C}(g),p=Object.keys(f).sort(function(k,j){return k-j}),w=function(){var k,j,C;for(C=[],k=0,j=p.length;k<j;k++)c=p[k],C.push(f[c]);return C}(),o=this.font.glyf.encode(l,w,g),d=this.font.loca.encode(o.offsets,w),v={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();dr.API.PDFObject=function(){var e;function r(){}return e=function(n,a){return(Array(a+1).join("0")+n).slice(-a)},r.convert=function(n){var a,s,o,l;if(Array.isArray(n))return"["+function(){var c,u,d;for(d=[],c=0,u=n.length;c<u;c++)a=n[c],d.push(r.convert(a));return d}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in o=["<<"],n)l=n[s],o.push("/"+s+" "+r.convert(l));return o.push(">>"),o.join(`
`)}return""+n},r}();const YA=e=>new Promise((r,n)=>{const a=new Image;a.crossOrigin="anonymous",a.onload=()=>{const o=document.createElement("canvas"),l=o.getContext("2d");o.width=a.width,o.height=a.height,l==null||l.drawImage(a,0,0);const c=o.toDataURL("image/png");r(c)},a.onerror=()=>n(new Error(`Failed to load image: ${e}`));const s=e.startsWith("/")?e:`/${e}`;a.src=s}),kt=e=>{const r={:"a",:"A",:"a",:"A",:"i",:"I",:"s",:"S",:"t",:"T",:"t",:"T"};return e.replace(/[]/g,n=>r[n]||n)},nd=e=>{if(!e)return"";const r=new Date(e);if(isNaN(r.getTime()))return"";const n=String(r.getDate()).padStart(2,"0"),a=String(r.getMonth()+1).padStart(2,"0"),s=r.getFullYear();return`${n}.${a}.${s}`},bx=e=>e?e.replace(/\s*(AM|PM)\s*/i,""):"",qn=(e,r,n,a,s,o)=>(r>n-20&&(Ka(e,s,o,n,a),s++,e.addPage(),r=a),{y:r,currentPage:s}),Ka=(e,r,n,a,s)=>{e.setFontSize(8),e.setTextColor(100),e.text("LEVEL AUTO RENTAL S.R.L.",s,a-10),e.text("+373 62-000-112",n-s,a-10,{align:"right"}),e.setFontSize(9),e.setTextColor(0),e.text(r.toString(),n/2,a-10,{align:"center"}),e.setTextColor(0)},gge=async e=>{var r,n,a,s,o,l,c,u,d,f,p,x,g,y,w;try{const v=new dr({orientation:"portrait",unit:"mm",format:"a4"}),S=v.internal.pageSize.width,k=v.internal.pageSize.height,j=15;let C=1;const z=10;let $=!1;const F=25,V=23;try{const U=await YA("/logo-LVL.png"),ce=j,Ne=z;v.addImage(U,"PNG",ce,Ne,F,V),$=!0}catch(U){console.error("Failed to load logo:",U),$=!1}const B=S-j;v.setFontSize(11),v.setFont("times","bold");const K="LEVEL AUTO RENTAL S.R.L.",T=11*.35;v.setFontSize(8),v.setFont("times","normal");const M=8*.35,I=T+M*2,H=z+V/2-I/2+3;v.setFontSize(11),v.setFont("times","bold"),v.setTextColor(0,0,0);const te=v.getTextWidth(K);v.text(K,B-te,H),v.setFont("times","normal"),v.setFontSize(8),v.setTextColor(60,60,60);const O=kt("Republica Moldova, mun. Chiinu, or. Chiinu"),re=v.getTextWidth(O);v.text(O,B-re,H+T+2);const Y="Tel: +373 62-000-112",P=v.getTextWidth(Y);v.text(Y,B-P,H+T+M+4),v.setTextColor(0,0,0);const L=H+I,G=Math.max(z+V,L)+5;v.setLineWidth(.5),v.line(j,G,S-j,G),v.setFontSize(16),v.setFont("times","bold"),v.setTextColor(0,0,0);const X=G+12;v.text(kt("CONTRACT DE LOCATIUNE"),S/2,X,{align:"center"}),v.setFontSize(10),v.setFont("times","normal");let D=X+8;const Z=kt(`Nr. ${e.contractNumber} din ${nd(e.contractDate)}`),ae=v.getTextWidth(Z);v.text(Z,(S-ae)/2,D),D+=8,v.line(j,D,S-j,D),D+=8,v.setFont("times","bold"),v.setFontSize(10),v.text(kt("PARTILE"),j,D),D+=6,v.setFont("times","normal"),v.setFontSize(9);const le=kt("Compania LEVEL AUTO RENTAL S.R.L., cu sediul in Republica Moldova, mun. Chisinau, or. Chisinau,"),Q=kt('str. Mircea cel Batran 13/1, cod fiscal 1024606013124, (denumita in continuare "Locator"), reprezentata de Levichi'),oe=kt("Victorin, in calitate de administrator, care actioneaza in baza statutului, pe de o parte,");v.text(le,j,D),D+=5,v.text(Q,j,D),D+=5,v.text(oe,j,D),D+=6,v.text(kt("Si"),j,D),D+=5,v.setFont("times","bold"),v.text(kt(e.customer.fullName||"______________________________"),j,D),v.setFont("times","normal"),D+=5,v.text(kt(`domiciliat la ${e.customer.address||"__________________________________________"},`),j,D),D+=5;const ve=kt(`posesor al buletinului de identitate/pasaportului cu Seria si Numarul ${e.customer.idSeries||"________________"}, IDNP`);v.text(ve,j,D),D+=5;const ue=e.customer.idnp?`${e.customer.idNumber||"________________"}, IDNP ${e.customer.idnp}`:e.customer.idNumber||"_________________________";v.text(kt(`${ue}, (denumit in continuare "Locatar"), pe de alta parte, au convenit sa incheie prezentul`),j,D),D+=5,v.text(kt("Contract de locatiune in urmatoarele conditii:"),j,D),D+=8,v.line(j,D,S-j,D),D+=8,v.setFont("times","bold"),v.setFontSize(10),v.text(kt("I. OBIECTUL CONTRACTULUI"),j,D),D+=6,v.setFont("times","normal"),v.setFontSize(9);const ge=(U,ce=5)=>{const Ne=qn(v,D,k,j,C,S);D=Ne.y,C=Ne.currentPage;const Le=kt(U),qe=/\d+\.\d+(?:\.\d+)?/g,it=["Locator","Locatar","autovehicul","Contract","Anexa","Locatorului","Locatarului","Autovehiculului","Contractului","Anexei"],ct=[];let Ot=0;const Mt=[];let ar;for(;(ar=qe.exec(Le))!==null;)Mt.push({index:ar.index,length:ar[0].length,isBold:!0});for(const Pt of it){const er=new RegExp(`\\b${Pt}\\b`,"gi");let Ur;for(;(Ur=er.exec(Le))!==null;)Mt.push({index:Ur.index,length:Ur[0].length,isBold:!0})}Mt.sort((Pt,er)=>Pt.index-er.index);const ir=[];for(let Pt=0;Pt<Mt.length;Pt++){const er=Mt[Pt];let Ur=!1;for(const Vr of ir)if(er.index<Vr.index+Vr.length&&er.index+er.length>Vr.index){Ur=!0;break}Ur||ir.push(er)}for(const Pt of ir)Pt.index>Ot&&ct.push({text:Le.substring(Ot,Pt.index),isBold:!1}),ct.push({text:Le.substring(Pt.index,Pt.index+Pt.length),isBold:!0}),Ot=Pt.index+Pt.length;if(Ot<Le.length&&ct.push({text:Le.substring(Ot),isBold:!1}),ct.length===0)v.setFont("times","normal"),v.text(Le,j,D);else{let Pt=j;for(const er of ct)v.setFont("times",er.isBold?"bold":"normal"),v.text(er.text,Pt,D),Pt+=v.getTextWidth(er.text)}v.setFont("times","normal"),D+=ce};ge("1.1 Locatorul da in folosinta, iar Locatarul primeste in folosinta autovehiculul descris"),ge('in pct. 1.2 din prezentul contract (denumit in continuare "autovehicul"), in schimbul'),ge("achitarii de catre Locatar a pretului, in conditiile Capitolului V al prezentului contract.",6),ge("1.2 Autovehiculul inchiriat are urmatoarele caracteristici:",6);const ie=((r=e.car)==null?void 0:r.make)||"",se=((n=e.car)==null?void 0:n.model)||"",_e=e.carColor||((a=e.car)==null?void 0:a.color)||"",Te=((s=e.vehicleDetails)==null?void 0:s.registrationNumber)||((o=e.car)==null?void 0:o.license)||"",Xe=((l=e.vehicleDetails)==null?void 0:l.mileage)||((c=e.car)==null?void 0:c.kilometers)||((u=e.car)==null?void 0:u.mileage)||0,Me=((d=e.car)==null?void 0:d.year)||0,Re=e.carFuelType||((f=e.car)==null?void 0:f.fuel_type)||"";let xe="";Re==="gasoline"||Re==="petrol"?xe="Benzina":Re==="diesel"?xe="Motorina":Re==="hybrid"?xe="Hibrid":Re==="electric"?xe="Electric":xe=Re||"";const Pe=[["MARCA:",kt(ie)],["MODEL:",kt(se)],["CULOARE:",kt(_e)],[kt("NR. DE INMATRICULARE:"),Te],["NR/KM LA BORD:",Xe.toString()],["AN FABRICATIE:",Me.toString()],["COMBUSTIBIL:",kt(xe)]],be=qn(v,D,k,j,C,S);D=be.y,C=be.currentPage;const Ae=D,Ie=7,Ce=60,Ve=j+Ce+100,at=Pe.length;v.line(j,Ae,j,Ae+Ie*at),v.line(j+Ce,Ae,j+Ce,Ae+Ie*at),v.line(Ve,Ae,Ve,Ae+Ie*at),v.line(j,Ae,Ve,Ae);for(let U=1;U<=at;U++)v.line(j,Ae+Ie*U,Ve,Ae+Ie*U);v.line(j,Ae+Ie*at,Ve,Ae+Ie*at),Pe.forEach(([U,ce],Ne)=>{const Le=Ae+Ne*Ie;v.setFont("times","bold"),v.setFontSize(9),v.text(U,j+2,Le+Ie/2+2),v.setFont("times","normal"),v.setFontSize(9),v.text(ce||"",j+Ce+2,Le+Ie/2+2)}),D=Ae+Ie*at+6,v.line(j,D,S-j,D),D+=8;const Qe=qn(v,D,k,j,C,S);D=Qe.y,C=Qe.currentPage,Ka(v,C,S,k,j),D<j+20&&(D=j),v.setFont("times","bold"),v.setFontSize(10),v.text("II. DURATA CONTRACTULUI",j,D),D+=6,v.setFont("times","normal"),v.setFontSize(9);let ut=qn(v,D,k,j,C,S);D=ut.y,C=ut.currentPage;const Ft=(U,ce=5)=>{const Ne=qn(v,D,k,j,C,S);D=Ne.y,C=Ne.currentPage;const Le=kt(U),qe=/\d+\.\d+(?:\.\d+)?/g,it=["Locator","Locatar","autovehicul","Contract","Anexa","Locatorului","Locatarului","Autovehiculului","Contractului","Anexei"],ct=[];let Ot=0;const Mt=[];let ar;for(;(ar=qe.exec(Le))!==null;)Mt.push({index:ar.index,length:ar[0].length,isBold:!0});for(const Pt of it){const er=new RegExp(`\\b${Pt}\\b`,"gi");let Ur;for(;(Ur=er.exec(Le))!==null;)Mt.push({index:Ur.index,length:Ur[0].length,isBold:!0})}Mt.sort((Pt,er)=>Pt.index-er.index);const ir=[];for(let Pt=0;Pt<Mt.length;Pt++){const er=Mt[Pt];let Ur=!1;for(const Vr of ir)if(er.index<Vr.index+Vr.length&&er.index+er.length>Vr.index){Ur=!0;break}Ur||ir.push(er)}for(const Pt of ir)Pt.index>Ot&&ct.push({text:Le.substring(Ot,Pt.index),isBold:!1}),ct.push({text:Le.substring(Pt.index,Pt.index+Pt.length),isBold:!0}),Ot=Pt.index+Pt.length;if(Ot<Le.length&&ct.push({text:Le.substring(Ot),isBold:!1}),ct.length===0)v.setFont("times","normal"),v.text(Le,j,D);else{let Pt=j;for(const er of ct)v.setFont("times",er.isBold?"bold":"normal"),v.text(er.text,Pt,D),Pt+=v.getTextWidth(er.text)}v.setFont("times","normal"),D+=ce};Ft("2.1 Termenul minim de inchiriere a Bunului este de 2 (doua) zile calendaristice (24 ore).",5),Ft("2.2 Termenul contractului poate fi modificat prin acordul partilor."),D+=8,v.line(j,D,S-j,D),D+=8,v.setFont("times","bold"),v.setFontSize(10),v.text("III. PERSOANELE CU DREPT DE A CONDUCE AUTOVEHICULUL",j,D),D+=6,v.setFont("times","normal"),v.setFontSize(9);const he=(U,ce=5)=>{const Ne=qn(v,D,k,j,C,S);D=Ne.y,C=Ne.currentPage;const Le=kt(U),qe=/\d+\.\d+(?:\.\d+)?/g,it=["Locator","Locatar","autovehicul","Contract","Anexa","Locatorului","Locatarului","Autovehiculului","Contractului","Anexei"],ct=[];let Ot=0;const Mt=[];let ar;for(;(ar=qe.exec(Le))!==null;)Mt.push({index:ar.index,length:ar[0].length,isBold:!0});for(const Pt of it){const er=new RegExp(`\\b${Pt}\\b`,"gi");let Ur;for(;(Ur=er.exec(Le))!==null;)Mt.push({index:Ur.index,length:Ur[0].length,isBold:!0})}Mt.sort((Pt,er)=>Pt.index-er.index);const ir=[];for(let Pt=0;Pt<Mt.length;Pt++){const er=Mt[Pt];let Ur=!1;for(const Vr of ir)if(er.index<Vr.index+Vr.length&&er.index+er.length>Vr.index){Ur=!0;break}Ur||ir.push(er)}for(const Pt of ir)Pt.index>Ot&&ct.push({text:Le.substring(Ot,Pt.index),isBold:!1}),ct.push({text:Le.substring(Pt.index,Pt.index+Pt.length),isBold:!0}),Ot=Pt.index+Pt.length;if(Ot<Le.length&&ct.push({text:Le.substring(Ot),isBold:!1}),ct.length===0)v.setFont("times","normal"),v.text(Le,j,D);else{let Pt=j;for(const er of ct)v.setFont("times",er.isBold?"bold":"normal"),v.text(er.text,Pt,D),Pt+=v.getTextWidth(er.text)}v.setFont("times","normal"),D+=ce};he("3.1 Autovehiculul poate fi condus in timpul perioadei de inchiriere numai de catre Locatar"),he("si/sau persoanele indicate in fisa cu numele conducatorilor auto anexata la contractul"),he('de inchiriere - Anexa Nr.1 (in continuare: "soferi aditionali").',6),he("3.2 Locatarul si/sau soferii aditionali trebuie sa fie apti din punct de vedere fizic si"),he("psihologic sa conduca autovehiculul.",6),he("3.3 Partile convin ca Locatarul si/sau soferii aditionali trebuie sa aiba varsta cuprinsa"),he("intre 20 si 65 de ani.",6),he("3.4 Locatarul si/sau soferii aditionali trebuie sa detina permis de conducere corespunzator"),he("tipului de autovehicul si sa fie valabil pentru o perioada neintrerupta de cel putin 24 luni,"),he("acesta fiind suspendat, retras, ridicat sau impus oricaror altor interdictii asupra"),he("dreptului de conducere a autovehiculului.",6),he("3.5 Soferii aditionali au aceleasi obligatii ca si Locatarul, ultimul fiind obligat sa-i"),he("informeze despre acestea si sa raspunda pentru neexecutarea lor."),D+=8,v.line(j,D,S-j,D),D+=8;const pt=qn(v,D,k,j,C,S);D=pt.y,C=pt.currentPage,Ka(v,C,S,k,j),v.setFont("times","bold"),v.setFontSize(10),v.text("IV. AVANS",j,D),D+=6,v.setFont("times","normal"),v.setFontSize(9),he("4.1. In ziua incheierii Contractului, Locatarul achita Locatorului un avans in suma de"),he("20% din pretul locatiunii. Achitarea avansului de catre Locatar confirma obligatia"),he("Locatorului de a rezerva Autovehiculul stipulat in Contract pentru predarea in locatiunea"),he("Locatarului, in ziua indicata in Contract;",6),he("4.2. Locatarul este obligat sa achite catre Locator toate sumele stabilite conform"),he("Contractului (pretul locatiunii, garantie) in termen de 1 zi pana la data predarii in"),he("folosinta a Autovehiculului;",6),he("4.3. In cazul neachitarii sumelor nominalizate in volum intreg, in termenul indicat,"),he("Contractul incheiat intre Parti se considera reziliat in mod automat, fara necesitatea"),he("expedierii notificarilor privind rezilierea Contractului in adresa Partilor. In acest caz,"),he("Locatorul este exonerat de obligatia predarii Autovehiculului in folosinta Locatarului,"),he("iar suma avansului achitata de catre Locatar nu se restituie Locatarului, fiind retinuta"),he("de catre Locator in folosul sau cu titlu de compensare a prejudiciului pricinuit/venitului ratat."),D+=8,v.line(j,D,S-j,D),D+=8,Ka(v,C,S,k,j);const vt=qn(v,D,k,j,C,S);D=vt.y,C=vt.currentPage,v.setFont("times","bold"),v.setFontSize(10),v.text(kt("V. PRETUL CONTRACTULUI"),j,D),D+=6,v.setFont("times","normal"),v.setFontSize(9),he("5.1 Locatarul va plati Locatorului pentru inchirierea autovehiculului suma specificata in Anexa Nr.1 la momentul"),he("incheierii contractului.",6),he("5.2 Metodele de achitare a serviciilor acceptate de catre Locator sunt: prin card bancar, transfer bancar sau cash.",6),he("5.3 Locatarul este obligat sa achite Locatorului garantia pana la data predarii in locatiune a Autovehiculului sau in ziua"),he("predarii autovehiculului, conform Contractului incheiat, si anume:"),he("Locatarul se obliga sa constituie o garantie in valoare de ______________ MDL pentru toata perioada de inchiriere.",6),he("5.4 Garantia depusa de catre Locatar, se pastreaza pe intreaga durata a locatiunii si nu se considera ca si plata a"),he("pretului locatiunii pentru perioada respectiva. Aceasta se restituie Locatarului dupa expirarea duratei locatiunii, in"),he("cazul indeplinirii obligatiilor Locatarului stipulate conform prezentului Contract si achitarii de catre Locatar in"),he("folosul Locatorului, a tuturor sumelor/platiilor, prevazute de prezentul Contract in legatura cu locatiunea"),he("Autovehiculului;",6),he("5.5 In cazul in care nu se achita pretul locatiunii in termenul indicat in pct. 5.3, Locatarul este obligat sa achite"),he("Locatorului o penalitate in marime de 0.1% din suma datoriei neachitate la timp pentru fiecare zi de intarziere;",6),he("5.6 Pretul contractului NU include penalitatile aplicabile la Capitolul VI, precum si urmatoarele sume suplimentare"),he("aplicabile la sfarsitul termenului de inchiriere:",6),he("5.6.1 taxa pentru combustibilul utilizat in caz de returnare a autovehiculului fara rezervorul plin, pretul fiind"),he("calculat la tariful aplicabil in ziua returnarii autovehiculului, conform facturii emise de statia de alimentare;",6),he("5.6.2 taxa de 4 MDL pentru fiecare km parcurs in plus, daca Locatarul intrece limita de 200 km/zi",6),he("5.6.3 taxa de 250 MDL in cazul in care autovehiculul este returnat intr-o conditie care necesita o curatare"),he("exterioara si interioara la spalatorie;",6),he("5.6.4 taxa de 500 MDL pentru curatarea autovehiculului in cazul in care acesta este returnat intr-o stare murdara,"),he("aceasta include, dar fara a se limita la: scurgerile de lichide, alimente, voma si alte pete si mirosuri neplacute."),he('Lipsa "Starii murdare" se poate interpreta si tinand cont daca, in functie de circumstantele de fapt, un eventual'),he("client ar putea sa foloseasca autovehiculul in starea in care se afla, fara a-i fi creata o stare de dezgust sau"),he("disconfort;",6),he("5.6.5 taxa de 1000 MDL pentru curatarea autovehiculului si eliminarea mirosului de fum in cazul in care se"),he("constata ca s-a fumat in autovehicul;",6),he("5.6.6 taxele in caz de nerespectare a punctelor de la Capitolul V.",6),he("5.6.7 taxa de 3000 MDL in caz de evacuare a autovehiculului din cauza nerespectarii obligatiilor de catre"),he("Locatar; Aceasta taxa nu elibereaza Locatarul de plata amenzilor stabilite de organele de drept, precum si de"),he("plata chiriei pentru toata perioada pina cand autovehiculul nu va fi restituit Locatorului;",6),he("5.6.8 taxele de utilizare a drumurilor (viniete sau alte tipuri de taxe a drumurilor), in cazul iesirii peste hotarele"),he("Republicii Moldova. Iesirea peste hotarele Republicii Moldova poate avea loc doar cu acordul scris al"),he("Locatorului.",6),he("5.6.9 plati pentru deteriorarea sau repararea autovehiculului si a accesoriilor acestuia, in conditiile mentionate de"),he("prezentul Contract; precum si orice alte plati pentru acoperirea costului reparatiilor aferente, valoarea platilor"),he("fiind stabilite de Locator.",6),he("5.7 Locatorul va incasa sumele stabilite la punctele 5.1 si 5.3 de mai sus din contul Locatarului dupa momentul"),he("semnarii contractului sau Locatarul poate plati aceste taxe in modul convenit cu Locatorul, conform punctului 5.2 si"),he("Anexei Nr.1."),D+=8,v.line(j,D,S-j,D),D+=8,Ka(v,C,S,k,j);const wt=qn(v,D,k,j,C,S);D=wt.y,C=wt.currentPage,v.setFont("times","bold"),v.setFontSize(10),v.text(kt("VI. DREPTURILE, OBLIGATIILE SI RASPUNDEREA LOCATARULUI"),j,D),D+=6,v.setFont("times","normal"),v.setFontSize(9),he("6.1 Locatarul nu are dreptul sa:",6),he("6.1.1 conduca sau sa permita conducerea autovehiculului cu viteza mai mare de 130 km/h; in caz contrar se aplica"),he("penalitate de 2000 MDL;",6),he("6.1.2 conduca sau sa permita conducerea autovehiculului mai mult de 200 km/zi.",6),he("6.1.3 conduca sau sa permita conducerea autovehiculului de catre orice persoana, in cazul in care la momentul"),he("conducerii autovehiculului, conducatorul auto nu detine permis auto pentru tipul respectiv de vehicul; in caz"),he("opus, se va incasa de la Locatar o penalitate de 10 000 MDL;",6),he("6.1.4 permita conducerea autovehiculului de catre orice persoana care nu este specificata sau descrisa in prezentul"),he("Contract sau in Anexa Nr.1; in caz contrar se aplica penalitate de 2000 MDL;",6),he("6.1.5 permita utilizarea autovehiculului in afara teritoriilor agreate cu Locatorul;",6),he("6.1.6 subinchirieze sau inchirieze autovehiculul oricarei altei persoane; in caz contrar se aplica penalitate"),he("de 2000 MDL;",6),he("6.1.7 exploateze sau sa permita exploatarea autovehiculului pentru transportul de pasageri prin inchiriere sau"),he("contra cost; in caz contrar se aplica penalitate de 2000 MDL;",6),he("6.1.8 transporte animale in autovehicul;",6),he("6.1.9 fumeze sau sa permita oricarei alte persoane sa fumeze in autovehicul;",6),he("6.1.10 utilizeze autovehiculul sau sa permita utilizarea acestuia la savarsirea infractiunilor, contraventiilor sau"),he("implicarea acestuia in orice activitate ilicita; in caz contrar se aplica penalitate de 10 000 MDL;",6),he("6.1.11 exploateze sau sa permita exploatarea autovehiculului pentru transportul mai multor pasageri sau marfuri"),he("decat oricare din maximul specificat in certificatul de inmatriculare; in caz contrar se aplica penalitate"),he("de 2000 MDL;",6),he("6.1.12 conduca sau sa permita conducerea autovehiculului pe orice drum sau suprafata care favorizeaza uzura"),he("anticipata sau deteriorarea autovehiculului sau prin conducerea autovehiculului cu o viteza si mod de deplasare"),he("care favorizeaza deteriorarea autovehiculului;",6),he("6.1.13 exploateze autovehiculul sau sa permita exploatarea acestuia in orice cursa, test de viteza, studiu de"),he("fiabilitate, raliu sau concurs, sau exploatarea pe orice circuit de curse sau raliu sau in calitate de simulator sau in"),he("pregatirile pentru oricare dintre aceste activitati, la fel ca si in executarea burnout-ului si derapajul controlabil; in"),he("caz contrar se aplica penalitate de 10 000 MDL;",6),he("6.1.14 sa utilizeze automobilul in calitate de TAXI sau pentru instructaj auto; in caz contrar se aplica penalitate"),he("de 2000 MDL;",6),he("6.1.15 exploateze sau sa permita exploatarea autovehiculului pentru a propulsa, tracta orice alt vehicul sau pentru"),he("orice actiuni pentru care autovehiculul nu a fost proiectat; in caz contrar se aplica penalitate de 2000 MDL;",6),he("6.1.16 desfasoare orice alte activitati cu utilizarea autovehiculului sau in raport cu el, care potrivit contractului in"),he("cauza, legislatiei in vigoare, uzantelor, ordinii publice si bunele moravuri, nu se prezuma, nu sunt agreate, nu sunt"),he("permise, sunt interzise sau sunt sancionate;",6),he("6.1.17 desfasoare alte activitati cu utilizarea autovehiculului care nu rezulta din esenta contractului de locatiune si"),he("din circumstantele previzibile pentru Locator, fara acordul prealabil al Locatorului;",6),he("6.2 Locatarul poarta raspundere pentru:",6),he("6.2.1 orice pierdere sau deteriorare a autovehiculului si a accesoriilor acestuia, cauzate din culpa sa sau a"),he("persoanelor carora acesta le-a permis folosinta bunului sau accesul la el. Se prezuma ca exista culpa pana la proba"),he("contraria.",6),he("6.2.2 orice daune de consecinta, pierderi sau costuri suportate de catre Locator, inclusiv costurile de salvare,"),he("intarzierea sau pierderea posibilitatii temporare sau totale de a oferi in locatiune autovehiculul si pierderea"),he("veniturilor (venitul ratat);",6),he("6.2.3 orice pierdere sau deteriorare a autovehiculului si a bunurilor unor terte parti, inclusiv, dupa caz, veniturile"),he("ratate, aparute in rezultatul locatiunii, daca nu face proba ca acestea sunt datorate Locatorului;",6),he("6.2.4 orice prejudiciu sau venit ratat cauzat de nerespectarea prevederilor prezentului contract;",6),he("6.3 Locatarul este obligat sa respecte urmatoarele:",6),he("6.3.1 furnizarea datelor personale si de contact corecte si a promisiunii de utilizare a acestora in scopul executarii"),he("prezentului contract;",6),he("6.3.2 prezentarea unui card de credit sau debit valid, la cererea Locatorului;",6),he("6.3.3 luarea tuturor masurilor rezonabile de precautie si securitate in timpul deplasarii;",6),he("6.3.4 mentinerea nivelului uleiului si lichidului de racire la un nivel normal stabilit de caracteristicile tehnice ale"),he("automobilului. In cazul aparitiei unui semnal de avertizare, Locatarul va opri conducerea autovehiculului si va"),he("solicita imediat opinia Locatorului, dupa care va urma exact instructiunile date de Locator; in caz contrar se"),he("aplica penalitate de 2000 MDL;",6),he("6.3.5 utilizarea exclusiva a tipului de combustibil specificat la pct.1.2 pentru autovehiculul respectiv, alimentarile"),he("fiind facute la statii de alimentare autorizate; in cazul in care autovehiculul este alimentat cu un combustibil"),he("necorespunzator (motorina/benzina), Locatorul se obliga sa achite o penalitate in marime de 10 000 MDL;",6),he("6.3.6 mentinerea presiunii in anvelope la nivelul stabilit de catre producatorul autovehiculului;",6),he("6.3.7 blocarea sigura a autovehiculului atunci cand acesta nu este in uz si pastrarea cheilor si a certificatului de"),he("inmatriculare al autovehiculului inchiriat sub controlul personal al Locatarului sau a persoanelor autorizate"),he("conform prevederilor prezentului contract;",6),he("6.3.8 neadmiterea deschiderii capotei autovehiculului, in caz opus va fi aplicata taxa de 1000 MDL;",6),he("6.3.9 neadmiterea interventiilor la recorderul de distanta (odometru) sau vitezometrul;",6),he("6.3.10 neadmiterea interventiei neautorizate in prealabil cu Locatarul asupra la nici o parte a sistemelor de"),he("motor, de transmisie, de franare, de suspensie sau de caroseria autovehiculului;",6),he("6.3.11 in cazul aparitiei unui semnal de avertizare sau daca Locatarul, in baza observatiilor sale sau a unui"),he("conducator auto cu cunostinte si aptitudini tehnice suficiente, echivalente experientei sale, poate observa ca"),he("autovehiculul prezinta o defectiune sau necesita interventia din partea unui mecanic-auto sau de serviciile unui"),he("auto-service, Locatarul va opri conducerea autovehiculului si va solicita imediat opinia Locatorului, dupa care"),he("va urma exact instructiunile date de Locator.",6),he("6.3.12 sa prezinte permisul de conducere;",6),he("6.3.13 sa participe si sa urmeze procedura de predare-primire a autovehiculului si sa asigure completarea veridica"),he("a actului de primire-predare sau sa desemneze o persoana autorizata sau un reprezentant pentru participare la"),he("procedura in cauza si completare a actului de primire-predare, in masura in care acest fapt este permis de"),he("prezentul contract;",6),he("6.3.14 folosirea autovehiculului inchiriat doar pe teritoriul Republicii Moldova. Locatarul trebuie sa primeasca"),he("acordul Locatorului in caz de plecare in regiunea din stanga Nistrului  Transnistria. In cazul in care Locatarul"),he("a primit acordul Locatorului de a pleca cu automobilul peste hotare, intr-o tara anumita, iar locatarul se"),he("deplaseaza in alta tara (care nu este indicata in foaia de parcurs), atunci locatarul va achita o penalitate in suma de"),he("10 000 (zece mii) lei .Totodata in cazul in care Locatarul pleaca cu automobilul peste hotare, iar la vama este"),he("supus controlului, si daca in urma controlului este defectat estetic sau in oricare alt mod automobilul, Locatarul"),he("se obliga sa achite integral prejudiciul cauzat.",6),he("6.3.15 Locatarul si toti conducatorii auto autorizati sa utilizeze acest autovehicul in timpul perioadei de"),he("inchiriere, se obliga sa cunoasca si respecte conditiile prezentate in prezentul Contract;"),D+=8,v.line(j,D,S-j,D),D+=8,Ka(v,C,S,k,j);const gt=qn(v,D,k,j,C,S);D=gt.y,C=gt.currentPage,v.setFont("times","bold"),v.setFontSize(10),v.text(kt("VII. OBLIGATIILE LOCATORULUI"),j,D),D+=6,v.setFont("times","normal"),v.setFontSize(9),he("7.1 Locatorul va pune la dispozitia Locatarului autovehiculul intr-o stare sigura pentru conducere;",6),he("7.2 Autovehiculul va fi predat Locatarului impreuna cu toate cele necesare: cheie, certificat de inmatriculare,"),he("Asigurare RCA, rezervor plin de combustibil, anvelope de iarna (in sezonul rece) si de vara (in sezonul cald) si alte"),he("accesorii sau bunuri conform Anexei Nr.2;",6),he("7.3 Locatorul va asigura completarea veridica a actului de predare-primire a autovehiculului anexat la contract"),he("(Anexa Nr.2) in prezenta Locatarului."),D+=8,v.line(j,D,S-j,D),D+=8,Ka(v,C,S,k,j);const xt=qn(v,D,k,j,C,S);D=xt.y,C=xt.currentPage,v.setFont("times","bold"),v.setFontSize(10),v.text(kt("VIII. REPARATII SI ACCIDENTE MECANICE"),j,D),D+=6,v.setFont("times","normal"),v.setFontSize(9),he("8.1 in cazul in care autovehiculul este implicat intr-un accident, este deteriorat, distrus sau necesita lucrari de reparatie"),he("sau salvare, indiferent de cauza, Locatarul va notifica imediat prin telefon Locatorul despre toate circumstantele.",6),he("8.2 Locatarul nu va organiza si nu va efectua lucrari de reparatii sau salvare a autovehiculului inchiriat fara"),he("autorizarea Locatorului (aceasta include, dar nu se limiteaza la achizitionarea unui pneu de inlocuire);",6),he("8.3 In cazul in care autovehiculul a fost distrus total sau a fost furat din cauza neatentiei Locatarului, acesta se"),he("obliga sa achite suma integrala a autovehiculului in valoare de _________________. Suma va fi achitata in"),he("termen de 1 luna.",6),he("8.4 in cazul in care autovehiculul are nevoie de reparatii sau inlocuire cauzate nemijlocit din vina Locatorului, acesta"),he("va furniza un alt autovehicul Locatarului, daca acest fapt nu implica cheltuieli disproportionale ale Locatorului. In"),he("caz de nerespectare de catre Locator a obligatiei de inlocuire a autovehiculului, acesta va returna sume achitata in"),he("avans de catre Locatar, minus suma datorata Locatorului pentru timpul efectiv al locatiunii pana la notificarea despre"),he("inlocuire. Calculul sumei returnate se efectueaza de Locator, pornind de la tarifele aplicate conform contractului de"),he("locatiune pentru unitate de timp si echivalentele acestora. Plata se va efectua in termen de 7 zile."),D+=8,v.line(j,D,S-j,D),D+=8,Ka(v,C,S,k,j);const rt=qn(v,D,k,j,C,S);D=rt.y,C=rt.currentPage,v.setFont("times","bold"),v.setFontSize(10),v.text(kt("IX. RETURNAREA AUTOVEHICULUI"),j,D),D+=6,v.setFont("times","normal"),v.setFontSize(9),he("9.1 In momentul sau inainte de expirarea termenului de inchiriere, Locatarul va aduce autovehiculul la locul convenit"),he("descris in Anexa Nr.1 sau va obtine acordul Locatorului pentru continuarea inchirierii (in acest caz Locatarul va plati"),he("pretul de inchiriere suplimentar pentru termenul de inchiriere prelungit).",6),he("9.2 In cazul in care Locatarul nu solicita nici o extindere a termenului de chirie a autovehiculului, dar returnarea"),he("acestuia este intarziata, Locatarul va fi taxat conform Capitolului XIV al prezentului Contract.",6),he("9.3 Daca Locatarul nu respecta clauza de la pct. 8.1, nu returneaza autovehiculul si nu reactioneaza prompt la"),he("solicitarile Locatorului, cel din urma poate raporta cazul la politie si Locatarul va despagubi Locatorul pentru"),he("prejudiciile cauzate.",6),he("9.4 Autovehiculul trebuie sa fie returnat cu rezervorul plin, curat pe exterior si in interior, fara defectiuni mecanice sau"),he("deteriorari ale autovehiculului sau ale accesoriilor acestuia. In caz contrar, Locatarul este obligat sa achite penalitatile"),he("stipulate in pct. 5.7."),D+=8,v.line(j,D,S-j,D),D+=8,Ka(v,C,S,k,j);const It=qn(v,D,k,j,C,S);D=It.y,C=It.currentPage,v.setFont("times","bold"),v.setFontSize(10),v.text(kt("X. ASIGURARE"),j,D),D+=6,v.setFont("times","normal"),v.setFontSize(9),he("10.1 Autovehiculul este asigurat, asigurarea fiind operabila in conditiile legii si a prezentului Contract;",6),he("10.2 Prima de asigurare RCA este inclusa in taxa de inchiriere;",6),he("10.3 In cazul producerii unui eveniment stipulat in Capitolul XI, si alte deteriorari cauzate din vina Locatarului,"),he("acesta se obliga sa achite suma totala de reparatie din cont propriu."),D+=8,v.line(j,D,S-j,D),D+=8,Ka(v,C,S,k,j);const Bt=qn(v,D,k,j,C,S);D=Bt.y,C=Bt.currentPage,v.setFont("times","bold"),v.setFontSize(10),v.text(kt("XI. EVENIMENTE NEACOPERITE DE ASIGURARE"),j,D),D+=6,v.setFont("times","normal"),v.setFontSize(9),he("11.1 Locatarul cunoaste si accepta ca asigurarea RCA a autovehiculului NU este aplicabila in urmatoarele"),he("circumstante:",6),he("11.1.1 conducerea autovehiculului sub influenta alcoolului sau a oricarui drog;",6),he("11.1.2 conducerea autovehiculului de catre orice persoana care nu este indicata sau descrisa in Anexa Nr.1ca o"),he("persoana autorizata sa conduca;",6),he("11.1.3 conducerea autovehiculului de catre o persoana fara permis de conducere;",6),he("11.1.4 deteriorarea sau pierderea autovehiculului de catre Locatar, sau a unui conducator auto desemnat sau o"),he("persoana aflata sub autoritatea sau controlul Locatarului, intentionat sau din neglijenta;",6),he("11.1.5 comiterea unui delict in domeniul circulatiei rutiere sau delicte cu caracter criminal prevazute de legem cu"),he("participarea autovehiculului inchiriat;",6),he("11.1.6 incarcarea autovehiculului cu depasirea normelor prevazute de specificatiile producatorului;",6),he("11.1.7 incarcarea sau descarcarea autovehiculului in locuri neautorizate si astfel de incarcare sau descarcare nu"),he("este efectuata de catre conducatorul auto sau insotitor al autovehiculului, cu utilizarea accesoriilor autorizate de"),he("Locator pentru astfel de incarcaturi;",6),he("11.1.8 in orice moment in care are loc o defectiune mecanica sau electrica, electronica sau orice defectiune care"),he("este rezultatul utilizarii necorespunzatoare a autovehiculului, inclusiv pentru deteriorarea sistemului de motor sau"),he("de transmisie care rezulta direct din orice defectiune mecanica, cu exceptia oricarei alte modalitati pentru"),he("deteriorarea altor parti ale autovehiculului;",6),he("11.1.9 conducerea autovehiculului in orice cursa, test de viteza, test de fiabilitate, raliu sau concurs, sau exploatat"),he("pe orice circuit de curse sau raliu sau in calitate de simulator sau in cadrul pregatirilor pentru astfel de"),he("evenimente;",6),he("11.1.10 orice moment in care conducatorul auto nu opreste sau paraseste locul accidentului ca urmare a"),he("producerii unui accident, contrat prevederilor legale;",6),he("11.1.11 orice amenda sau sanctiune aplicata ca urmare a incalcarii actelor normative cu utilizarea autovehiculului"),he("inchiriat;",6),he("11.1.12 orice spargere, taiere sau rupere a pneului sau deteriorarea pneurilor prin aplicarea franelor;",6),he("11.1.13 cazul in care autovehiculul se afla intr-o stare tehnica nepotrivita pentru a fi condus in timpul inchirierii"),he("acestuia, care a cauzat sau a contribuit la deteriorarea sau pierderea autovehiculului si Locatarul sau"),he("conducatorul auto cunoastea sau ar fi trebuit sa cunoasca despre starea nesigura sau nepotrivita pentru conducerea"),he("autovehiculului;",6),he("11.1.14 orice raspundere pentru daunele cauzate de vibratii sau greutatea vehiculului sau incarcarea acestuia"),he("pentru orice pod sau viaduct; orice drum sau orice portiune sub un drum; orice linie de conducte subterane sau"),he("cablu; orice alta instalatie subterana;",6),he("11.1.15 conducerea autovehiculului pe drumuri neamenajate sau pe alte drumuri decat cele pe baza de gudron sau"),he("metal, inclusiv, dar fara a se limita la plaje sau drumuri ce ar putea cauza deteriorarea autovehiculului;",6),he("11.1.16 aspiratia apei la motor;",6),he("11.1.17 orice deteriorare capitala a autovehiculului sau proprietatii unei terte parti care rezulta din astfel de daune"),he("capitale;",6),he("11.1.18 exploatarea autovehiculului in afara termenului Contractului de locatiune sau oricarei prelungiri"),he("convenite a termenului, sau in orice alt moment sau circumstante notificate de catre Locatar Locatorului si"),he("aprobate de cel din urma;",6),he("11.1.19 costul daunei sau deteriorarii autovehiculului produsa ca urmare a deplasarii cu viteza ce depaseste 30"),he("km/h fata de viteza regulamentara indicata in regulamentul rutier pe portiunea de drum unde s-a produs"),he("accidentul;",6),he("11.1.20 situatii de furt a autovehiculului, in urma caruia Locatarul nu are posibilitatea si/sau nu poate returna"),he("Locatorului cheia autovehiculului inchiriat si certificatul de inmatriculare in original al acestuia;"),D+=8,v.line(j,D,S-j,D),D+=8,Ka(v,C,S,k,j);const zt=qn(v,D,k,j,C,S);D=zt.y,C=zt.currentPage,v.setFont("times","bold"),v.setFontSize(10),v.text(kt("XII. INCALCAREA REGULAMENTULUI CIRCULATIEI RUTIERE"),j,D),D+=6,v.setFont("times","normal"),v.setFontSize(9),he("12.1 Toate penalitatile legate de incalcarile in trafic si/sau parcare neregulamentara sunt sub responsabilitatea"),he("Locatarului;",6),he("12.2 Locatorul se angajeaza, in cazul in care primeste o notificare cu privire la orice incalcari in trafic si/sau parcare"),he("comise de Locatar, sa expedieze o copie a unui astfel de anunt Locatarului cat mai curand posibil si sa furnizeze"),he("informatiile necesare autoritatii emitente relevante pentru ca astfel de anunturi pe durata contractului sa fie transmise"),he("Locatarului;",6),he("12.3 Locatarul are dreptul de a contesta, adresa plangeri, interpelari sau obiectii in legatura cu presupusa infractiune"),he("sau contraventie autoritatii competente si are dreptul de a solicita audiere in instanta, Locatarul fiind obligat sa anunte"),he("Locatorul despre actele de constatare a faptelor comise cu utilizarea autovehiculului inchiriat;"),D+=8,v.line(j,D,S-j,D),D+=8,Ka(v,C,S,k,j);const yt=qn(v,D,k,j,C,S);D=yt.y,C=yt.currentPage,v.setFont("times","bold"),v.setFontSize(10),v.text(kt("XIII. INCETAREA CONTRACTULUI"),j,D),D+=6,v.setFont("times","normal"),v.setFontSize(9),he("13.1 Locatorul are dreptul de a rezilia Contractul de locatiune si de a intra in posesia imediata a autovehiculului, in"),he("cazul in care Locatarul nu respecta oricare dintre termenii si conditiile Contractului de locatiune, sau in cazul in care"),he("autovehiculul este deteriorat;"),D+=8,v.line(j,D,S-j,D),D+=8,Ka(v,C,S,k,j);const ht=qn(v,D,k,j,C,S);D=ht.y,C=ht.currentPage,v.setFont("times","bold"),v.setFontSize(10),v.text(kt("XIV. REZERVARI / ACHITARI"),j,D),D+=6,v.setFont("times","normal"),v.setFontSize(9),he("14.1 Rezervarea autovehiculului se considera valida din momentul intrarii sumei aferente rezervarii pe contul sau in"),he("casieria Locatorului;",6),he("14.2 Anularea sau modificarea rezervarii poate fi efectuata prin apel telefonic/ e-mail/ Whatsapp/ Telegram/ Viber/"),he("Instagram;"),D+=8,v.line(j,D,S-j,D),D+=8,Ka(v,C,S,k,j);const ur=qn(v,D,k,j,C,S);D=ur.y,C=ur.currentPage,v.setFont("times","bold"),v.setFontSize(10),v.text(kt("XV. CLAUZA DE PENALITATE IN CAZUL REFUZULUI DE A RETURNA AUTOVEHICULUL"),j,D),D+=6,v.setFont("times","normal"),v.setFontSize(9),he("15.1 In cazul in care, Locatarul nu va restitui autovehiculul inchiriat la ora si data prevazuta in Anexa Nr.1, iar"),he("intarzierea este imputabila Locatarului, acesta din urma se considera a fi in intarziere, fara a fi necesara o notificare"),he("prealabila;",6),he("15.2 In cazul in care intarzierea dureaza pana la 10 ore, Locatarul este obligat sa achite taxa in cuantum de 10% din"),he("pretul unei zile de locatiune pentru fiecare ora de intarziere a autoturismului inchiriat de catre acesta;",6),he("15.3 In cazul in care intarzierea predarii autoturismului dureaza intre 10 si 24 de ore, Locatarul este obligat sa achite"),he("pretul dublu al locatiunii pentru prima zi de inchiriere, fara a i se aplica discountul cumulativ din pretul de lista;",6),he("15.4 Pentru fiecare zi de intarziere ce depaseste 24 de ore, care urmeaza dupa ziua in care Locatarul avea obligatia sa"),he("predea autovehiculul inchiriat, acesta din urma va fi obligat sa achite pretul dublu al locatiunii pentru toate zilele de"),he("intarziere. In acest caz, valabilitatea obligatiilor Locatarului prevazute in prezentul Contract se prelungeste pana la"),he("predarea autovehiculului;"),D+=8,v.line(j,D,S-j,D),D+=8,Ka(v,C,S,k,j);const Jt=qn(v,D,k,j,C,S);D=Jt.y,C=Jt.currentPage,v.setFont("times","bold"),v.setFontSize(10),v.text(kt("XVI. CONFIDENTIALITATEA"),j,D),D+=6,v.setFont("times","normal"),v.setFontSize(9),he("16.1 Notiunea de confidentialitate include fara limitari orice informatie, indiferent de forma acesteia, dar care, in cazul"),he("formei scrise sau electronice a fost in mod clar desemnata de oricare din parti ca fiind confidentiala, iar in cazul"),he("comunicarii orale, este identificata in momentul dezvaluirii ca fiind confidentiala, inclusiv informatiile confidentiale"),he("dezvaluite de oricare dintre Parti celeilalte, inainte de data semnarii prezentului Contract.",6),he("16.2 Informatiile privind identitatea Locatarului sunt solicitate de catre Locator pentru a-i permite celui din urma sa"),he("evalueze cererea Locatarului de a inchiria autovehiculul;",6),he("16.3 Locatarul nu este obligat sa furnizeze aceste informatii, dar in cazul in care nu le ofera, Locatorul este in drept"),he("sa nu incheie contractul de locatiune;",6),he("16.5 Confidentialitatea informatiilor privind cardurile bancare si titularii acestora este asigurata de sistemele securizate"),he("aplicate de catre banca;",6),he("16.6 Locatorul nu stocheaza si nu prelucreaza nici un fel de date privind cardurile si conturile bancare ale"),he("Locatarului.",6),he("16.7 Locatorul se obliga sa prelucreze datele cu caracter personal ale Locatarului exclusiv in scopuri legate de"),he("inchirierea autovehiculului si furnizarea de servicii conexe pentru clienti, inclusiv marketing direct si evaluarea"),he("satisfactiei clientilor cu produsele si serviciile oferite de catre Locator.",6),he("16.8 Locatorul are dreptul sa ofere date cu caracter personal tuturor organelor de drept la solicitarea acestora."),D+=8,v.line(j,D,S-j,D),D+=8,Ka(v,C,S,k,j),C++,v.addPage(),D=j,v.setFont("times","bold"),v.setFontSize(10),v.text(kt("NOTA IN ADRESA LOCATARULUI"),j,D),D+=6,v.setFont("times","normal"),v.setFontSize(9),he("NOTA: Locatorul trebuie sa ofere Locatarului cel putin un exemplar al Contractului de locatiune, care urmeaza"),he("pastrat in autovehicul pe toata perioada locatiunii si prezentat organelor competente.",6),he("Acte anexate la prezentul contract: Anexa Nr.1- Perioada, Pretul locatiunii, Garantia, Fransiza si Soferii aditionali"),he("Anexa Nr.2- Act de predare-primire"),D+=8,v.setFont("times","bold"),v.setFontSize(10),v.text("LOCATOR",j,D),v.text("LOCATAR",S-j-50,D),D+=8,v.setFont("times","normal"),v.setFontSize(9),v.text("LEVEL AUTO RENTAL S.R.L.",j,D),v.text(kt(e.customer.fullName||"__________________________"),S-j-50,D),D+=5,v.text("Cod fiscal: 1024606013124",j,D),D+=5,v.text(kt("MD-2075, mun. Chisinau, or. Chisinau Str. Mircea cel Batran 13/1, of. 1K B.C Victoriabank SA"),j,D),D+=5,v.text("IBAN MDL: MD65VI022512000000429",j,D),D+=5,v.text("Cod bancar: VICBMD2X",j,D),D+=10,v.line(j,D,j+60,D),v.line(S-j-50,D,S-j,D),D+=5,v.text(kt("(Semnatura)"),j,D),v.text(kt("(Semnatura)"),S-j-50,D),Ka(v,C,S,k,j),C++,v.addPage(),D=j,v.setFontSize(10),v.setFont("times","bold");const Tr="Anexa Nr.1",$r=v.getTextWidth(Tr);v.text(Tr,(S-$r)/2,D),D+=8,v.setFontSize(12),v.setFont("times","bold");const Dt=kt("CONTRACT DE LOCATIUNE"),Wr=v.getTextWidth(Dt);v.text(Dt,(S-Wr)/2,D),D+=6,v.setFont("times","normal"),v.setFontSize(10),v.text(`Nr. ${e.contractNumber} din ${nd(e.contractDate)}`,j,D),D+=12,v.setFont("times","bold"),v.setFontSize(10),v.text(kt("PERIOADA LOCATIUNII / LOCUL PREDARII"),j,D),D+=8;const Nr=D,Lt=8,_r=30,gr=30,Sr=20,en=j+_r+gr+Sr+55;v.setFillColor(0,0,0),v.rect(j,Nr,en-j,Lt,"F"),v.setTextColor(255,255,255),v.setFont("times","bold"),v.setFontSize(9),v.text("DATA",j+_r+2,Nr+5),v.text("ORA",j+_r+gr+2,Nr+5),v.text("LOCUL",j+_r+gr+Sr+2,Nr+5),v.setTextColor(0,0,0),D=Nr+Lt,v.line(j,Nr,j,Nr+Lt*3),v.line(j+_r,Nr,j+_r,Nr+Lt*3),v.line(j+_r+gr,Nr,j+_r+gr,Nr+Lt*3),v.line(j+_r+gr+Sr,Nr,j+_r+gr+Sr,Nr+Lt*3),v.line(en,Nr,en,Nr+Lt*3),v.line(j,Nr+Lt,en,Nr+Lt),v.line(j,Nr+Lt*2,en,Nr+Lt*2),v.line(j,Nr+Lt*3,en,Nr+Lt*3);const pe=D;v.setFillColor(200,200,200),v.rect(j,pe,_r,Lt,"F"),v.setFont("times","bold"),v.setFontSize(9),v.setTextColor(0,0,0),v.text("PREDARE",j+2,pe+5),v.setFont("times","normal"),v.setFontSize(8),v.text(nd(e.rentalDetails.startDate),j+_r+2,pe+5),v.text(bx(e.rentalDetails.startTime),j+_r+gr+2,pe+5),v.text(kt(e.rentalDetails.pickupLocation),j+_r+gr+Sr+2,pe+5),D+=Lt;const Ee=D;v.setFillColor(200,200,200),v.rect(j,Ee,_r,Lt,"F"),v.setFont("times","bold"),v.setFontSize(9),v.setTextColor(0,0,0),v.text("PRIMIRE",j+2,Ee+5),v.setFont("times","normal"),v.setFontSize(8),v.text(nd(e.rentalDetails.endDate),j+_r+2,Ee+5),v.text(bx(e.rentalDetails.endTime),j+_r+gr+2,Ee+5),v.text(kt(e.rentalDetails.returnLocation),j+_r+gr+Sr+2,Ee+5),D+=Lt+10,v.setFont("times","bold"),v.setFontSize(10),v.text(kt("PRETUL LOCATIUNII"),j,D),D+=8;const ze=D,Ke=7,ft=35,bt=30,_t=25,$t=30,Qt=30,vr=j+ft+bt+_t+$t+Qt+30;v.setFillColor(0,0,0),v.rect(j,ze,vr-j,Ke,"F"),v.setTextColor(255,255,255),v.setFont("times","bold"),v.setFontSize(8),v.text(kt("Pret 1 zi"),j+ft+2,ze+4.5),v.text("Nr. zile",j+ft+bt+2,ze+4.5),v.text("Subtotal",j+ft+bt+_t+2,ze+4.5),v.text("Reducere",j+ft+bt+_t+$t+2,ze+4.5),v.text("Total",j+ft+bt+_t+$t+Qt+2,ze+4.5),v.setTextColor(0,0,0),D=ze+Ke,v.line(j,ze,j,ze+Ke*5),v.line(j+ft,ze,j+ft,ze+Ke*5),v.line(j+ft+bt,ze,j+ft+bt,ze+Ke*5),v.line(j+ft+bt+_t,ze,j+ft+bt+_t,ze+Ke*5),v.line(j+ft+bt+_t+$t,ze,j+ft+bt+_t+$t,ze+Ke*5),v.line(j+ft+bt+_t+$t+Qt,ze,j+ft+bt+_t+$t+Qt,ze+Ke*5),v.line(vr,ze,vr,ze+Ke*5);for(let U=1;U<=4;U++)v.line(j,ze+Ke*U,vr,ze+Ke*U);v.line(j,ze+Ke*5,vr,ze+Ke*5),[{label:"Autovehicul"},{label:kt("Servicii sofer")},{label:kt("Scaun copii")},{label:kt("Alte servicii")}].forEach((U,ce)=>{const Ne=ze+Ke+ce*Ke;v.setFillColor(200,200,200),v.rect(j,Ne,ft,Ke,"F"),v.setFont("times","bold"),v.setFontSize(8),v.setTextColor(0,0,0),v.text(U.label,j+2,Ne+4.5),ce===0&&(v.setFont("times","normal"),v.setFontSize(8),v.text((e.rentalDetails.pricePerDay||0).toString(),j+ft+2,Ne+4.5),v.text((e.rentalDetails.numberOfDays||0).toString(),j+ft+bt+2,Ne+4.5),v.text((e.rentalDetails.subtotal||0).toString(),j+ft+bt+_t+2,Ne+4.5),v.text(e.rentalDetails.discount?e.rentalDetails.discount.toString():"0",j+ft+bt+_t+$t+2,Ne+4.5),v.text((e.rentalDetails.total||0).toString(),j+ft+bt+_t+$t+Qt+2,Ne+4.5))}),D=ze+Ke*5+6,v.setFont("times","bold"),v.setFontSize(9);const Ut=kt(`Total spre plata: ${e.rentalDetails.total||0} MDL`);v.text(Ut,vr,D,{align:"right"}),D+=8,v.setFont("times","normal"),v.setFontSize(9),v.text(kt("Mod achitare locatiune:"),j,D),v.text(e.rentalDetails.paymentMethod||"___________________",j+60,D),D+=6,v.text(kt("Data achitare locatiune:"),j,D),v.text(e.rentalDetails.paymentDate?nd(e.rentalDetails.paymentDate):"___________________",j+60,D),D+=12,v.setFont("times","bold"),v.setFontSize(10),v.text(kt("GARANTII (RASPUNDERE MATERIALA)"),j,D),D+=8;const At=D,Wt=8,fr=30,Ir=50,kr=50,Xr=j+fr+Ir+kr+40;v.line(j,At,j,At+Wt),v.line(j+fr,At,j+fr,At+Wt),v.line(j+fr+Ir,At,j+fr+Ir,At+Wt),v.line(j+fr+Ir+kr,At,j+fr+Ir+kr,At+Wt),v.line(Xr,At,Xr,At+Wt),v.line(j,At,Xr,At),v.line(j,At+Wt,Xr,At+Wt),v.setFillColor(0,0,0),v.rect(j,At,fr,Wt,"F"),v.setTextColor(255,255,255),v.setFont("times","bold"),v.setFontSize(9),v.text("DEPOZIT",j+fr/2,At+Wt/2+2,{align:"center"}),v.setTextColor(0,0,0),v.setFont("times","normal"),v.setFontSize(9);const Gr=j+fr+2,_n=At+Wt/2+2,Ii=(e.rentalDetails.deposit||0).toString();v.text(Ii,Gr,_n),v.text("MDL",Gr+35,_n),v.text(kt("Mod achitare garantie:"),j+fr+Ir+2,At+Wt/2+2),v.text(kt(e.rentalDetails.depositPaymentMethod||e.rentalDetails.paymentMethod||"___________________"),j+fr+Ir+kr+2,At+Wt/2+2),D=At+Wt+10,v.setFont("times","bold"),v.setFontSize(10),v.text(kt("SOFERI ADITIONALI"),j,D),D+=8;const Br=D,En=7,tn=80,Ri=j+tn+50;v.setFillColor(0,0,0),v.rect(j,Br,Ri-j,En,"F"),v.setTextColor(255,255,255),v.setFont("times","bold"),v.setFontSize(9),v.text(kt("Nume Prenume"),j+2,Br+4.5),v.text("IDNP",j+tn+2,Br+4.5),v.setTextColor(0,0,0),D=Br+En;const Gn=Math.max(2,(((p=e.additionalDrivers)==null?void 0:p.length)||0)+1);v.line(j,Br,j,Br+En*Gn),v.line(j+tn,Br,j+tn,Br+En*Gn),v.line(Ri,Br,Ri,Br+En*Gn),v.line(j,Br+En,Ri,Br+En);for(let U=2;U<Gn;U++)v.line(j,Br+En*U,Ri,Br+En*U);if(v.line(j,Br+En*Gn,Ri,Br+En*Gn),v.setFont("times","normal"),v.setFontSize(8),e.additionalDrivers&&e.additionalDrivers.length>0){e.additionalDrivers.forEach((U,ce)=>{const Ne=Br+En+ce*En,Le=kt(`${U.firstName} ${U.lastName}`);v.text(Le,j+2,Ne+4.5),v.text(U.idnp||"",j+tn+2,Ne+4.5)});for(let U=e.additionalDrivers.length;U<Gn-1;U++){const ce=Br+En+U*En}}else for(let U=0;U<Gn-1;U++){const ce=Br+En+U*En}D=Br+En*Gn+10;const zi=k-40;v.setFont("times","bold"),v.setFontSize(10),v.text("LOCATAR",j,zi),D=zi+8,v.line(j,D,j+50,D),D+=5,v.setFont("times","normal"),v.setFontSize(9),v.text(kt("(Semnatura)"),j,D),Ka(v,C,S,k,j),C++,v.addPage(),D=j,v.setFontSize(10),v.setFont("times","bold");const Fa="ANEXA NR. 2",tl=v.getTextWidth(Fa);v.text(Fa,(S-tl)/2,D),D+=5,v.text(kt("CONTRACT DE LOCATIUNE"),j,D),D+=5,v.setFont("times","normal"),v.text(`Nr. ${e.contractNumber} din ${nd(e.contractDate)}`,j,D),D+=5,v.setFont("times","bold"),v.text(kt("ACT DE PREDARE-PRIMIRE AL AUTOVEHICULULUI"),j,D),D+=8,v.setFontSize(9),v.setFont("times","bold"),v.text("BORD AUTOVEHICUL",j,D),D+=5;const rn=4,fn=D,wc=[["Data(ziua.luna.anul)",nd(e.rentalDetails.startDate),nd(e.rentalDetails.endDate)],["Ora(ora:minute)",bx(e.rentalDetails.startTime),bx(e.rentalDetails.endTime)],["Odometru(km)",((g=(x=e.vehicleDetails)==null?void 0:x.mileage)==null?void 0:g.toString())||"",""],["Combustibil(%)",((w=(y=e.vehicleDetails)==null?void 0:y.fuelLevel)==null?void 0:w.toString())||"100",""],["Cheie","X",""],[kt("Certificat de inmatriculare"),"X",""],["Asigurare RCA","X",""],[kt("Stare(spalatorie)"),"X",""]],$l=["Extinctor",kt("Trusa medicala"),"Triunghi reflectorizant","Cric de tractare",kt("Roata de rezerva"),kt("Pompa pentru roti"),kt("Chei si cric pentru roti")],bi=j,wi=j+40,Xs=j+65,qr=j+90,Ps=wc.length,Fi=fn+Ps*rn+rn;v.setLineWidth(.1),v.line(bi,fn,qr,fn),v.line(bi,Fi,qr,Fi),v.line(bi,fn,bi,Fi),v.line(qr,fn,qr,Fi),v.line(wi,fn,wi,Fi),v.line(Xs,fn,Xs,Fi);const Co=fn+rn;v.line(bi,Co,qr,Co);for(let U=1;U<=Ps;U++){const ce=Co+U*rn;v.line(bi,ce,qr,ce)}v.setFont("times","bold"),v.setFontSize(8),v.text("PREDARE",wi+3,fn+3),v.text("RETURNARE",Xs+3,fn+3),v.setFont("times","normal"),v.setFontSize(8),wc.forEach((U,ce)=>{const Ne=Co+ce*rn+3;v.text(kt(U[0]),bi+2,Ne),v.text(U[1],wi+3,Ne),v.text(U[2],Xs+3,Ne)});const Es=j+95,Js=j+130,ji=Math.min(j+230,S-j),Zs=ji-Js,$a=Js+Zs/2,os=$l.length,Yn=fn+os*rn+rn;v.line(Es,fn,ji,fn),v.line(Es,Yn,ji,Yn),v.line(Es,fn,Es,Yn),v.line(ji,fn,ji,Yn),v.line(Js,fn,Js,Yn),v.line($a,fn,$a,Yn);const Ba=fn+rn;v.line(Es,Ba,ji,Ba);for(let U=1;U<=os;U++){const ce=Ba+U*rn;v.line(Es,ce,ji,ce)}v.setFont("times","bold"),v.setFontSize(8);const xr=v.getTextWidth("PREDARE"),rl=$a-Js,As=Js+rl/2-xr/2;v.text("PREDARE",As,fn+3);const Dd=v.getTextWidth("RETURNARE"),ku=ji-$a,Ni=$a+ku/2-Dd/2;v.text("RETURNARE",Ni,fn+3),v.setFont("times","normal"),v.setFontSize(8),$l.forEach((U,ce)=>{const Ne=Ba+ce*rn+3;v.text(kt(U),Es+2,Ne)}),D=Math.max(Fi,Yn),D+=5;let _i=qn(v,D,k,j,C,S);D=_i.y,C=_i.currentPage;const jc=D+20;let nl=!1;const Po=50,Bl=120;try{const U=await YA("/cars/contract_cars.png");v.addImage(U,"PNG",j,jc,Po,Bl),nl=!0}catch(U){console.error("Failed to load car diagram image:",U),nl=!1}const Ua=j+Po+5;D+=15,v.setFont("times","bold"),v.setFontSize(9),v.text("STARE AUTOVEHICUL EXTERIOR",Ua,D),D+=5;const $i=20,ls=15;v.setFont("times","bold"),v.setFontSize(8);const Eo=D,Ul=Ua+$i+ls,ql=Ua+$i+48,Ds=Ua+$i+80,cs=kt("LIPSA DEFECTIUNI");v.text(cs,Ul,Eo);const al=v.getTextWidth(cs),Ao=kt("MENTIUNI PREDARE");v.text(Ao,ql,Eo);const Bi=v.getTextWidth(Ao),Ls=kt("MENTIUNI RETURNARE");v.text(Ls,Ds,Eo);const il=v.getTextWidth(Ls);D+=6,[{name:kt("PARTEA DIN FATA"),items:[kt("Bara de protectie fata"),"Parbriz",kt("Lumini fata"),kt("Capota")]},{name:kt("PARTEA DIN DREAPTA"),items:[kt("Aripa lateral fata"),kt("Usa fata dreapta"),kt("Usa spate dreapta"),kt("Aripa lateral spate"),kt("Jante lateral"),kt("Anvelope lateral")]},{name:kt("PARTEA DIN SPATE"),items:[kt("Bara de protectie"),kt("Luneta spate"),kt("Lumini spate"),"Portbagaj"]},{name:kt("PARTEA DIN STANGA"),items:[kt("Aripa lateral fata"),kt("Usa fata stanga"),kt("Usa spate stanga"),kt("Aripa lateral spate"),kt("Jante lateral"),kt("Anvelope lateral")]}].forEach(U=>{_i=qn(v,D,k,j,C,S),D=_i.y,C=_i.currentPage;const ce=D===j?j:Ua;v.setFont("times","bold"),v.setFontSize(9),v.text(U.name,ce,D),D+=6,v.setFont("times","normal"),v.setFontSize(8),U.items.forEach(Ne=>{const qe=Ul+al/2-1,it=D-1.5;v.rect(qe,it,2,2);const ct=ce;v.text(` ${Ne}`,ct,D),D+=2;const Ot=18,Mt=-5,ar=ql+Bi/2-Ot/2+Mt,ir=Ds+il/2-Ot/2+Mt;v.text("___________________",ar,D),v.text("___________________",ir,D),D+=2}),D+=3}),D+=5;const Si=jc+Bl+20;D<Si+10&&(D=Si+10);const ki=qn(v,D,k,j,C,S);D=ki.y,C=ki.currentPage,v.setFont("times","italic"),v.setFontSize(7);const Nc=kt("Nota: Aceasta reprezentare grafica este una simbolica. Automobilul inchiriat poate arata diferit, in dependenta de model si dotari.");v.text(Nc,j,D,{maxWidth:S-2*j}),D+=8;let An=qn(v,D,k,j,C,S);D=An.y,C=An.currentPage,v.setFont("times","normal"),v.setFontSize(8),An=qn(v,D,k,j,C,S),D=An.y,C=An.currentPage,v.text("=> Predat de LOCATOR _____________________",j,D),v.text("=> Returnat de LOCATAR _____________________",j+100,D),D+=4,An=qn(v,D,k,j,C,S),D=An.y,C=An.currentPage,v.text("<= Primit de LOCATAR _____________________",j,D),v.text("<= Primit de LOCATOR _____________________",j+100,D),Ka(v,C,S,k,j);const Ui=`Contract_Locatiune_${e.contractNumber}.pdf`;return{pdfBlob:v.output("blob"),filename:Ui}}catch(v){throw console.error("Error in generateContractPDF:",v),v}},xge=async(e,r,n)=>{try{const{supabaseAdmin:a}=await Ns(async()=>{const{supabaseAdmin:d}=await Promise.resolve().then(()=>Nh);return{supabaseAdmin:d}},void 0),s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFrZXJhYW14Y2FhenJ0dnhrYmt0Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MjAwMDM5OCwiZXhwIjoyMDc3NTc2Mzk4fQ.8YEzMG2xTc-M97RuxL7IuMYpLq_0Ws-oaVKX3nk7jHA",l=`${`Public/rental-${n}`}/${r}`,{error:c}=await a.storage.from("contracts").upload(l,e,{cacheControl:"3600",upsert:!0,contentType:"application/pdf"});if(c)throw console.error("Error uploading contract to storage:",c),c;const{data:{publicUrl:u}}=a.storage.from("contracts").getPublicUrl(l);return u}catch(a){return console.error("Error uploading contract PDF:",a),null}},vge=(e,r,n,a=new Date().toISOString().split("T")[0],s)=>{const o=new Date(e.pickupDate),l=new Date(e.returnDate),c=Math.ceil((l.getTime()-o.getTime())/(1e3*60*60*24))||1,u=r.pricePerDay||r.price_per_day||0,d=u*c;let f=0;c>=8?f=d*.04:c>=4&&(f=d*.02);const p=parseFloat(e.total_amount)>0?parseFloat(e.total_amount):d-f,x=e.customerName||"";let g=r.make||"",y=r.model||"";if((!g||!y)&&r.name){const S=r.name.split(" ");S.length>=2&&(g=g||S[0],y=y||S.slice(1).join(" "))}const w={...r,make:g,model:y,year:r.year||0,fuel_type:r.fuel_type||"",color:r.color||"",license:r.license||"",kilometers:r.kilometers||r.mileage||0,mileage:r.mileage||r.kilometers||0},v={contractNumber:n,contractDate:a,order:e,car:w,customer:{fullName:x,email:e.customerEmail||"",phone:(s==null?void 0:s.customerPhone)||e.customerPhone||"",address:(s==null?void 0:s.customerAddress)||"",city:(s==null?void 0:s.customerCity)||"",postalCode:(s==null?void 0:s.customerPostalCode)||"",country:(s==null?void 0:s.customerCountry)||"Republica Moldova",idNumber:(s==null?void 0:s.customerIdNumber)||"",idSeries:(s==null?void 0:s.customerIdSeries)||"",idnp:(s==null?void 0:s.customerIdnp)||""},rentalDetails:{startDate:e.pickupDate,startTime:e.pickupTime,endDate:e.returnDate,endTime:e.returnTime,pickupLocation:(s==null?void 0:s.pickupLocation)||"Chiinu, str. Mircea cel Btrn 13/1",returnLocation:(s==null?void 0:s.returnLocation)||"Chiinu, str. Mircea cel Btrn 13/1",pricePerDay:u,numberOfDays:c,subtotal:d,discount:f>0?f:void 0,total:p,deposit:(s==null?void 0:s.deposit)||Math.round(p*.2),paymentMethod:(s==null?void 0:s.paymentMethod)||"",depositPaymentMethod:(s==null?void 0:s.depositPaymentMethod)||"",paymentDate:(s==null?void 0:s.paymentDate)||a},additionalDrivers:s==null?void 0:s.additionalDrivers,vehicleDetails:{mileage:s==null?void 0:s.vehicleMileage,fuelLevel:(s==null?void 0:s.vehicleFuelLevel)||100,registrationNumber:s==null?void 0:s.vehicleRegistrationNumber,carValue:s==null?void 0:s.carValue},carColor:s!=null&&s.carColor&&s.carColor.trim().length>0?s.carColor.trim():r.color||"",carFuelType:s!=null&&s.carFuelType&&s.carFuelType.trim().length>0?s.carFuelType.trim():r.fuel_type||""};return s!=null&&s.carColor&&(v.car.color=s.carColor),s!=null&&s.vehicleRegistrationNumber&&(v.car.license=s.vehicleRegistrationNumber),s!=null&&s.vehicleMileage&&(v.car.kilometers=s.vehicleMileage,v.car.mileage=s.vehicleMileage),s!=null&&s.carFuelType&&(v.car.fuel_type=s.carFuelType),v.car.make||(v.car.make=w.make||""),v.car.model||(v.car.model=w.model||""),v.car.year||(v.car.year=w.year||0),v},E9=async(e,r,n,a)=>{const s=n||`CT-${e.id.toString().slice(0,8).toUpperCase()}-${new Date().getFullYear()}`,o=new Date().toISOString().split("T")[0],l=vge(e,r,s,o,a),c=e.id,{pdfBlob:u,filename:d}=await gge(l),f=await xge(u,d,c),p=URL.createObjectURL(u),x=document.createElement("a");return x.href=p,x.download=d,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(p),f},A9=({isOpen:e,onClose:r,order:n,car:a,orderNumber:s,onContractCreated:o})=>{var Xe,Me;const{t:l}=mr(),{showSuccess:c,showError:u}=Sd(),[d,f]=N.useState(!1),[p,x]=N.useState(""),[g,y]=N.useState(""),[w,v]=N.useState(""),[S,k]=N.useState(""),[j,C]=N.useState(a.color||""),[z,$]=N.useState(a.license||""),[F,V]=N.useState(((Xe=a.kilometers)==null?void 0:Xe.toString())||((Me=a.mileage)==null?void 0:Me.toString())||""),[B,K]=N.useState(a.fuel_type||""),[T,M]=N.useState(""),[I,q]=N.useState(""),[H,te]=N.useState(""),[O,re]=N.useState(""),[Y,P]=N.useState(""),[L,R]=N.useState(""),[G,X]=N.useState(""),[D,Z]=N.useState("100"),[ae,le]=N.useState("100"),[Q,oe]=N.useState([]),[ve,ue]=N.useState("");(()=>{const Re=Jt=>{if(!Jt)return"00:00";if(Jt.includes("AM")||Jt.includes("PM")){const[Tr,$r]=Jt.split(" "),[Dt,Wr]=Tr.split(":");let Nr=parseInt(Dt);return $r==="PM"&&Nr!==12&&(Nr+=12),$r==="AM"&&Nr===12&&(Nr=0),`${String(Nr).padStart(2,"0")}:${Wr||"00"}`}if(Jt.includes(":")){const[Tr,$r]=Jt.split(":");return`${String(parseInt(Tr)).padStart(2,"0")}:${$r||"00"}`}return"00:00"},xe=new Date(n.pickupDate||n.start_date),Pe=new Date(n.returnDate||n.end_date),be=Re(n.pickupTime||n.start_time||"09:00"),Ae=Re(n.returnTime||n.end_time||"17:00"),[Ie,Ce]=be.split(":").map(Number),[He,Ve]=Ae.split(":").map(Number),at=new Date(xe);at.setHours(Ie,Ce,0,0);const Qe=new Date(Pe);He===0&&Ve===0?Qe.setHours(23,59,59,999):Qe.setHours(He,Ve,0,0);const ut=Qe.getTime()-at.getTime(),Ft=Math.floor(ut/(1e3*60*60*24)),he=Math.floor(ut%(1e3*60*60*24)/(1e3*60*60)),pt=Ft,vt=he>=0?he:0,wt=pt,gt=pt+vt/24;let xt=0;wt>=2&&wt<=4?xt=a.price_2_4_days||0:wt>=5&&wt<=15?xt=a.price_5_15_days||0:wt>=16&&wt<=30?xt=a.price_16_30_days||0:wt>30&&(xt=a.price_over_30_days||0);const rt=xt;let It=rt*wt;if(vt>0){const Jt=vt/24*rt;It+=Jt}const Bt=n.options;let zt={};if(Bt)if(typeof Bt=="string")try{zt=JSON.parse(Bt)}catch{zt={}}else zt=Bt;let yt=0;const ht=rt;zt.unlimitedKm&&(yt+=ht*gt*.5),zt.speedLimitIncrease&&(yt+=ht*gt*.2),zt.tireInsurance&&(yt+=ht*gt*.2),zt.personalDriver&&(yt+=800*wt),zt.priorityService&&(yt+=1e3*wt),zt.childSeat&&(yt+=100*wt),zt.simCard&&(yt+=100*wt),zt.roadsideAssistance&&(yt+=500*wt);const ur=It+yt;return{pricePerDay:rt,days:pt,hours:vt,rentalDays:wt,basePrice:It,additionalServices:yt,total:ur}})();const ie=()=>{oe([...Q,{firstName:"",lastName:"",idnp:""}])},se=Re=>{oe(Q.filter((xe,Pe)=>Pe!==Re))},_e=(Re,xe,Pe)=>{const be=[...Q];be[Re]={...be[Re],[xe]:Pe},oe(be)},Te=async()=>{if(!p.trim()){u("Introducei adresa clientului");return}if(!g.trim()||!w.trim()){u("Introducei seria i numrul CI");return}if(!S.trim()){u("Introducei IDNP-ul clientului");return}if(!j.trim()){u("Introducei culoarea mainii");return}if(!z.trim()){u("Introducei numrul de nmatriculare");return}if(!F.trim()){u("Introducei kilometrajul");return}if(!T.trim()){u("Introducei metoda de plat");return}if(!I.trim()){u("Introducei suma depozitului");return}f(!0);try{const Re=s?`CT-${s.toString().padStart(4,"0")}-${new Date().getFullYear()}`:void 0,xe=parseFloat(I)||0,Pe=Q.filter(Ae=>Ae.firstName.trim()&&Ae.lastName.trim()),be=await E9(n,a,Re,{customerAddress:p.trim(),customerIdSeries:g.trim(),customerIdNumber:w.trim(),customerIdnp:S.trim(),pickupLocation:O.trim()||"",returnLocation:Y.trim()||"",deposit:xe,paymentMethod:T.trim(),depositPaymentMethod:H.trim(),additionalDrivers:Pe.length>0?Pe:void 0,vehicleMileage:parseInt(F)||void 0,vehicleFuelLevel:parseInt(D)||100,vehicleRegistrationNumber:z.trim(),carValue:ve?parseFloat(ve):void 0,carColor:j.trim(),carFuelType:B.trim()});c("Contractul a fost creat i salvat cu succes!"),o&&o(typeof be=="string"?be:void 0),r()}catch(Re){console.error("Error creating contract:",Re);const xe=Re instanceof Error?Re.message:"Eroare necunoscut";u(`Nu s-a putut crea contractul: ${xe}`)}finally{f(!1)}};return e?ei.createPortal(i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",style:{zIndex:1e4},onClick:r,children:i.jsxs("div",{onClick:Re=>Re.stopPropagation(),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto mx-2 sm:mx-4",children:[i.jsxs("div",{className:"sticky top-0 border-b border-white/20 px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between z-10",style:{backgroundColor:"#1C1C1C"},children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Creeaz Contract"}),i.jsxs("p",{className:"text-gray-400 text-xs sm:text-sm mt-1",children:[l("admin.orders.orderNumber"),s?s.toString().padStart(4,"0"):"N/A"]})]}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-lg transition-colors flex-shrink-0",children:i.jsx(kn,{className:"w-5 h-5 text-white"})})]}),i.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4 flex items-center gap-2",children:i.jsx("span",{className:"text-sm sm:text-base",children:"Informaii Client"})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Adres (Domiciliat la) *"}),i.jsx("input",{type:"text",value:p,onChange:Re=>x(Re.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Introducei adresa clientului"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"IDNP *"}),i.jsx("input",{type:"text",value:S,onChange:Re=>k(Re.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Introducei IDNP"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Serie CI *"}),i.jsx("input",{type:"text",value:g,onChange:Re=>y(Re.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Introducei seria CI"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Numr CI *"}),i.jsx("input",{type:"text",value:w,onChange:Re=>v(Re.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Introducei numrul CI"})]})]})]}),i.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4 flex items-center gap-2",children:i.jsx("span",{className:"text-sm sm:text-base",children:"Detalii Vehicul"})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Culoare *"}),i.jsx("input",{type:"text",value:j,onChange:Re=>C(Re.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Introducei culoarea mainii"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Numr de nmatriculare *"}),i.jsx("input",{type:"text",value:z,onChange:Re=>$(Re.target.value.toUpperCase()),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Introducei numrul de nmatriculare"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Kilometraj (NR/KM LA BORD) *"}),i.jsx("input",{type:"number",value:F,onChange:Re=>V(Re.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Introducei kilometrajul"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Tip combustibil *"}),i.jsxs("select",{value:B,onChange:Re=>K(Re.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/50",children:[i.jsx("option",{value:"",children:"Selectai tipul de combustibil"}),i.jsx("option",{value:"gasoline",children:"Benzina"}),i.jsx("option",{value:"diesel",children:"Motorina"}),i.jsx("option",{value:"hybrid",children:"Hibrid"}),i.jsx("option",{value:"electric",children:"Electric"})]})]})]})]}),i.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4 flex items-center gap-2",children:i.jsx("span",{className:"text-sm sm:text-base",children:"Detalii Plat"})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Metod de plat (Mod achitare locaiune) *"}),i.jsx("input",{type:"text",value:T,onChange:Re=>M(Re.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"ex: Numerar, Card, Transfer"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Sum depozit (DEPOZIT) MDL *"}),i.jsx("input",{type:"number",value:I,onChange:Re=>q(Re.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Introducei suma depozitului"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Metod de plat depozit (Mod achitare garanie)"}),i.jsx("input",{type:"text",value:H,onChange:Re=>te(Re.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"ex: Numerar, Card"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Valoare main (pentru clauza de pierdere total)"}),i.jsx("input",{type:"number",value:ve,onChange:Re=>ue(Re.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Introducei valoarea mainii n MDL"})]})]})]}),i.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4 flex items-center gap-2",children:i.jsx("span",{className:"text-sm sm:text-base",children:"Locaii Preluare i Returnare"})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Locaie preluare"}),i.jsx("input",{type:"text",value:O,onChange:Re=>re(Re.target.value),placeholder:"Chiinu, str. Mircea cel Btrn 13/1",className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Locaie returnare"}),i.jsx("input",{type:"text",value:Y,onChange:Re=>P(Re.target.value),placeholder:"Chiinu, str. Mircea cel Btrn 13/1",className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50"})]})]})]}),i.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4 flex items-center gap-2",children:i.jsx("span",{className:"text-sm sm:text-base",children:"Starea Vehiculului (Anexa Nr.2)"})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Kilometraj preluare (km)"}),i.jsx("input",{type:"number",value:L,onChange:Re=>R(Re.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Introducei kilometrajul"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Nivel combustibil preluare (%)"}),i.jsx("input",{type:"number",value:D,onChange:Re=>Z(Re.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Introducei nivelul combustibilului"})]})]})]}),i.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-white flex items-center gap-2",children:i.jsx("span",{className:"text-sm sm:text-base",children:"oferi Adiionali"})}),i.jsxs("button",{onClick:ie,className:"px-2.5 sm:px-3 py-1.5 bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/50 text-emerald-300 rounded-lg transition-all flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm",children:[i.jsx(Ny,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Adaug ofer"}),i.jsx("span",{className:"sm:hidden",children:"Adaug"})]})]}),Q.map((Re,xe)=>i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 sm:gap-4 p-3 sm:p-4 bg-white/5 rounded-lg border border-white/10 mt-3 sm:mt-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Prenume"}),i.jsx("input",{type:"text",value:Re.firstName,onChange:Pe=>_e(xe,"firstName",Pe.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Prenume"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Nume"}),i.jsx("input",{type:"text",value:Re.lastName,onChange:Pe=>_e(xe,"lastName",Pe.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Nume"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"IDNP"}),i.jsx("input",{type:"text",value:Re.idnp,onChange:Pe=>_e(xe,"idnp",Pe.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"IDNP"})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("button",{onClick:()=>se(xe),className:"w-full px-3 sm:px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 rounded-lg transition-all flex items-center justify-center gap-1.5 sm:gap-2 text-xs sm:text-sm",children:[i.jsx(Qx,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"terge"})]})})]},xe))]})]}),i.jsxs("div",{className:"border-t border-white/20 px-4 sm:px-6 py-3 sm:py-4 flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-2 sm:gap-3 bg-white/5 backdrop-blur-sm",style:{backgroundColor:"#1C1C1C"},children:[i.jsx("button",{onClick:r,disabled:d,className:"px-3 sm:px-4 md:px-6 py-2 bg-white/5 hover:bg-white/10 border border-white/10 text-white rounded-lg transition-all font-semibold text-xs sm:text-sm disabled:opacity-50",children:"Anuleaz"}),i.jsx("button",{onClick:Te,disabled:d,className:"px-3 sm:px-4 md:px-6 py-2 bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/50 text-emerald-300 rounded-lg transition-all font-semibold flex items-center justify-center gap-1.5 sm:gap-2 text-xs sm:text-sm disabled:opacity-50",children:d?i.jsxs(i.Fragment,{children:[i.jsx(Qa,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 animate-spin"}),i.jsx("span",{children:"Se creeaz contractul..."})]}):"Creeaz Contract"})]})]})}),document.body):null},yge=({onSave:e,onClose:r})=>{const[n,a]=N.useState([]),s=new Date,o=new Date;o.setDate(s.getDate()+1);const[l,c]=N.useState({customerName:"",customerEmail:"",customerPhone:"",carId:"",carName:"",startDate:s.toISOString().split("T")[0],startTime:"09:00",endDate:o.toISOString().split("T")[0],endTime:"17:00",status:"ACTIVE",amount:0});N.useEffect(()=>{(async()=>{try{const x=await xo();a(x.length>0?x:Rh)}catch(x){console.error("Error loading cars:",x),a(Rh)}})()},[]);const u=()=>{if(!l.startDate||!l.endDate||!l.carId)return 0;const p=n.find(v=>v.id.toString()===l.carId);if(!p)return 0;const x=new Date(l.startDate),g=new Date(l.endDate),y=Math.ceil((g.getTime()-x.getTime())/(1e3*60*60*24))||1;return(p.pricePerDay||p.price_per_day||0)*y};N.useEffect(()=>{if(n.length>0){const p=u();c(x=>({...x,amount:p}))}},[l.startDate,l.endDate,l.carId,n]);const d=p=>{const x=n.find(y=>y.id.toString()===p),g=x?x.name||`${x.make||""} ${x.model||""}`.trim():"";c(y=>({...y,carId:p,carName:g}))},f=p=>{if(p.preventDefault(),!l.customerName||!l.carId){alert("Please fill in all required fields");return}e(l)};return ei.createPortal(i.jsx(De.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:1},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",onClick:r,style:{zIndex:1e4},children:i.jsxs(De.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:p=>p.stopPropagation(),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 bg-white/10 backdrop-blur-xl border-b border-white/20 px-6 py-4 flex items-center justify-between",style:{backgroundColor:"#1C1C1C"},children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Add New Order"}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:i.jsx(kn,{className:"w-5 h-5 text-white"})})]}),i.jsxs("form",{onSubmit:f,className:"p-6 space-y-6",children:[i.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10 space-y-4",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Customer Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Customer Name *"}),i.jsx("input",{type:"text",value:l.customerName||"",onChange:p=>c(x=>({...x,customerName:p.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),i.jsx("input",{type:"email",value:l.customerEmail||"",onChange:p=>c(x=>({...x,customerEmail:p.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Phone *"}),i.jsx("input",{type:"tel",value:l.customerPhone||"",onChange:p=>c(x=>({...x,customerPhone:p.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",required:!0})]})]})]}),i.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10 space-y-4",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Vehicle Selection"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Car *"}),i.jsxs("select",{value:l.carId||"",onChange:p=>d(p.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",required:!0,children:[i.jsx("option",{value:"",children:"Select a car..."}),n.map(p=>{const x=p.pricePerDay||p.price_per_day||0,g=p.discount_percentage||p.discount_percentage||0,y=g>0?x*(1-g/100):x,w=p.name||`${p.make||""} ${p.model||""}`.trim();return i.jsxs("option",{value:p.id.toString(),children:[w," - ",y.toFixed(0)," MDL/day",g>0?` (-${g}%)`:""]},p.id)})]})]})]}),i.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10 space-y-4",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Rental Period"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Date *"}),i.jsx("input",{type:"date",value:l.startDate||"",onChange:p=>c(x=>({...x,startDate:p.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Time *"}),i.jsx("input",{type:"time",value:l.startTime||"",onChange:p=>c(x=>({...x,startTime:p.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Date *"}),i.jsx("input",{type:"date",value:l.endDate||"",onChange:p=>c(x=>({...x,endDate:p.target.value})),min:l.startDate,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Time *"}),i.jsx("input",{type:"time",value:l.endTime||"",onChange:p=>c(x=>({...x,endTime:p.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",required:!0})]})]})]}),i.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10 space-y-4",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Status & Amount"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status *"}),i.jsxs("select",{value:l.status||"ACTIVE",onChange:p=>c(x=>({...x,status:p.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",children:[i.jsx("option",{value:"ACTIVE",children:"Active"}),i.jsx("option",{value:"COMPLETED",children:"Completed"}),i.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Amount (MDL)"}),i.jsx("input",{type:"number",step:"0.01",value:l.amount||0,onChange:p=>c(x=>({...x,amount:parseFloat(p.target.value)||0})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",readOnly:!0}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Calculated automatically based on rental period"})]})]})]}),i.jsxs("div",{className:"flex gap-4 justify-end",children:[i.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-lg transition-all",children:"Cancel"}),i.jsxs("button",{type:"submit",className:"px-6 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 hover:text-red-200 font-semibold rounded-lg transition-all backdrop-blur-xl flex items-center gap-2",children:[i.jsx(Bh,{className:"w-4 h-4"}),"Add Order"]})]})]})]})}),document.body)},bge=()=>{const{t:e}=mr(),[r]=yu(),n=r.get("search")||"",{showSuccess:a,showError:s}=Sd(),[o,l]=N.useState(null),[c,u]=N.useState(void 0),[d,f]=N.useState(!1),[p,x]=N.useState(!1),[g,y]=N.useState(!1),[w,v]=N.useState([]),[S,k]=N.useState(null),[j,C]=N.useState(!1),[z,$]=N.useState([]),[F,V]=N.useState(!0),[B,K]=N.useState(!0);N.useEffect(()=>{(async()=>{try{const L=await xo(),R=L.length>0?L:Rh,G=await Promise.all(R.map(async X=>{let D=X.name;(!D||D.trim()==="")&&(D=`${X.make} ${X.model}`);const{mainImage:Z,photoGallery:ae}=await ia(D);return{...X,image_url:Z||X.image_url,photo_gallery:ae.length>0?ae:X.photo_gallery}}));$(G)}catch(L){console.error("Error loading cars:",L),$(Rh)}finally{V(!1)}})()},[]);const T=async()=>{if(z.length!==0)try{K(!0);const L=(await XT(z)).filter(R=>R.type==="rental");v(L)}catch(P){console.error("Failed to load orders:",P)}finally{K(!1)}};N.useEffect(()=>{z.length>0&&T()},[z,r]);const M=async P=>{k(P.id.toString());try{const L=await Oy(P.id.toString());if(L.success){const R=P.request_id;if(R)try{const G=await Rf(R.toString(),{status:"REJECTED"});G.success||console.warn("Failed to update corresponding request status:",G.error)}catch(G){console.warn("Error updating corresponding request:",G)}a("Comanda a fost anulat cu succes i cererea corespunztoare a fost setat ca respins!"),f(!1),l(null),u(void 0),x(!1),await T()}else s(`Euare la anularea comenzii: ${L.error||"Eroare necunoscut"}`)}catch(L){console.error("Error cancelling order:",L),s("A aprut o eroare la anularea comenzii.")}finally{k(null)}},I=async P=>{k(P.id.toString());try{const L=await Ty(P.id.toString());L.success?(a("Order restored successfully!"),f(!1),l(null),u(void 0),x(!1),await T()):s(`Failed to restore order: ${L.error||"Unknown error"}`)}catch(L){console.error("Error restoring order:",L),s("An error occurred while restoring the order.")}finally{k(null)}},q=N.useMemo(()=>{const P=new Date,L=P.getMonth(),R=P.getFullYear(),G=new Date(P);G.setDate(1),G.setHours(0,0,0,0);const X=w.filter(Ie=>new Date(Ie.createdAt)>=G&&Ie.status==="COMPLETED"),D=new Date(R,L-1,1),Z=new Date(R,L,0,23,59,59,999),ae=w.filter(Ie=>{const Ce=new Date(Ie.createdAt);return Ce>=D&&Ce<=Z&&Ie.status==="COMPLETED"}),le=X.reduce((Ie,Ce)=>Ie+(Ce.amount||0),0),Q=ae.reduce((Ie,Ce)=>Ie+(Ce.amount||0),0),oe=Q>0?(le-Q)/Q*100:0,ve=Math.max(1,Math.floor((P.getTime()-G.getTime())/(1e3*60*60*24))+1),ue=le/ve,ge=Z.getDate(),ie=Q/ge,se=new Map;X.forEach(Ie=>{const Ce=new Date(Ie.createdAt).toISOString().split("T")[0];se.set(Ce,(se.get(Ce)||0)+(Ie.amount||0))});let _e="",Te=0;se.forEach((Ie,Ce)=>{Ie>Te&&(Te=Ie,_e=Ce)});const Me=w.filter(Ie=>Ie.type==="rental"&&Ie.status==="COMPLETED").length,Re=ae.length,xe=Re>0?(X.length-Re)/Re*100:0,Pe=Me>0?le/Me:0,be=X.filter(Ie=>Ie.status==="COMPLETED").length,Ae=Me>0?be/Me*100:0;return{totalRevenue:le,lastMonthRevenue:Q,revenueGrowth:oe,avgDailyRevenue:ue,avgDailyRevenueLastMonth:ie,bestDay:_e,bestDayRevenue:Te,totalOrders:Me,lastMonthOrdersCount:Re,orderGrowth:xe,avgOrderValue:Pe,conversionRate:Ae}},[w]),H=N.useMemo(()=>{const P=w.filter(R=>R.type==="rental"&&R.status==="COMPLETED"),L=R=>{const G=new Date,X=[];let D,Z,ae;switch(R){case"24H":D=new Date(G.getTime()-24*60*60*1e3),Z=24,ae=60*60*1e3;break;case"7D":D=new Date(G.getTime()-7*24*60*60*1e3),Z=7,ae=24*60*60*1e3;break;case"30D":D=new Date(G.getTime()-30*24*60*60*1e3),Z=30,ae=24*60*60*1e3;break;case"WEEKS":D=new Date(G.getTime()-28*24*60*60*1e3),Z=4,ae=7*24*60*60*1e3;break;case"12M":D=new Date(G.getTime()-365*24*60*60*1e3),Z=12,ae=30*24*60*60*1e3;break}for(let le=0;le<Z;le++){const Q=new Date(D.getTime()+le*ae),oe=new Date(D.getTime()+(le+1)*ae),ue=P.filter(ie=>{if(!ie.createdAt)return!1;const se=new Date(ie.createdAt);return se>=Q&&se<oe}).reduce((ie,se)=>{const _e=se.amount||parseFloat(se.total_amount||"0")||0;return ie+_e},0),ge=P.length>0?P.reduce((ie,se)=>ie+(se.amount||parseFloat(se.total_amount||"0")||0),0)/P.length*.7:0;X.push({day:le+1,sales:Math.round(ue),baseline:Math.round(ge)})}return X};return{"24H":L("24H"),"7D":L("7D"),"30D":L("30D"),WEEKS:L("WEEKS"),"12M":L("12M")}},[w]),te=N.useMemo(()=>{const P=w.filter(R=>R.type==="rental"&&R.status==="COMPLETED"),L=R=>{const G=new Date;let X,D,Z;switch(R){case"24H":X=new Date(G.getTime()-24*60*60*1e3),D=new Date(G.getTime()-48*60*60*1e3),Z=new Date(G.getTime()-24*60*60*1e3);break;case"7D":X=new Date(G.getTime()-7*24*60*60*1e3),D=new Date(G.getTime()-14*24*60*60*1e3),Z=new Date(G.getTime()-7*24*60*60*1e3);break;case"30D":X=new Date(G.getTime()-30*24*60*60*1e3),D=new Date(G.getTime()-60*24*60*60*1e3),Z=new Date(G.getTime()-30*24*60*60*1e3);break;case"WEEKS":X=new Date(G.getTime()-28*24*60*60*1e3),D=new Date(G.getTime()-56*24*60*60*1e3),Z=new Date(G.getTime()-28*24*60*60*1e3);break;case"12M":X=new Date(G.getTime()-365*24*60*60*1e3),D=new Date(G.getTime()-730*24*60*60*1e3),Z=new Date(G.getTime()-365*24*60*60*1e3);break}const ae=P.filter(ue=>{if(!ue.createdAt)return!1;const ge=new Date(ue.createdAt);return ge>=X&&ge<=G}),le=P.filter(ue=>{if(!ue.createdAt)return!1;const ge=new Date(ue.createdAt);return ge>=D&&ge<Z}),Q=ae.reduce((ue,ge)=>{const ie=ge.amount||parseFloat(ge.total_amount||"0")||0;return ue+ie},0),oe=le.reduce((ue,ge)=>{const ie=ge.amount||parseFloat(ge.total_amount||"0")||0;return ue+ie},0),ve=oe>0?(Q-oe)/oe*100:0;return{sales:Q,change:ve,isPositive:ve>=0}};return{"24H":L("24H"),"7D":L("7D"),"30D":L("30D"),WEEKS:L("WEEKS"),"12M":L("12M")}},[w]),[O,re]=N.useState(!1),Y=(P,L)=>{p||(x(!0),l(P),u(L),f(!0),setTimeout(()=>{x(!1)},300))};return F?i.jsx("div",{className:"flex items-center justify-center py-20",children:i.jsx(Qa,{className:"w-8 h-8 animate-spin text-white/50"})}):i.jsxs(i.Fragment,{children:[i.jsxs(De.div,{initial:{opacity:1},animate:{opacity:1},transition:{duration:.4},className:"space-y-8",children:[i.jsx(De.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4},children:i.jsx(Cme,{title:e("admin.orders.allOrders"),orders:w,loading:B,onOrderClick:Y,onAddOrder:()=>y(!0),initialSearch:n,showCancelled:j,onToggleShowCancelled:()=>C(!j),cars:z})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx(De.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg",children:i.jsx(L7,{allPeriodData:H,periodStats:te})}),i.jsx(De.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.15},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg",children:i.jsxs("div",{children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("p",{className:"text-xs font-semibold tracking-wider text-gray-400 uppercase mb-1",children:"VENITURI"}),i.jsxs("h3",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:[q.totalRevenue.toFixed(2)," MDL"]}),i.jsxs("p",{className:"text-sm text-emerald-400 font-semibold",children:[q.revenueGrowth>=0?"":""," ",Math.abs(q.revenueGrowth).toFixed(1),"% fa de ultimele 30 zile"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Comparaie cu Luna Trecut"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-300",children:"Venituri Luna Trecut"}),i.jsxs("span",{className:"text-white font-semibold",children:[q.lastMonthRevenue.toFixed(2)," MDL"]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-300",children:"Cretere"}),i.jsxs("span",{className:`font-semibold ${q.revenueGrowth>=0?"text-emerald-400":"text-red-400"}`,children:[q.revenueGrowth>=0?"":""," ",Math.abs(q.revenueGrowth).toFixed(1),"%"]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-300",children:"Medie Zilnic (Luna Aceasta)"}),i.jsxs("span",{className:"text-white font-semibold",children:[q.avgDailyRevenue.toFixed(2)," MDL"]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-300",children:"Medie Zilnic (Luna Trecut)"}),i.jsxs("span",{className:"text-white font-semibold",children:[q.avgDailyRevenueLastMonth.toFixed(2)," MDL"]})]})]})]}),q.bestDay&&i.jsxs("div",{className:"border-t border-white/10 pt-4",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Ziua cu Cea Mai Bun Performan"}),i.jsx("div",{className:"space-y-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-400",children:new Date(q.bestDay).toLocaleDateString("ro-RO",{day:"numeric",month:"short",year:"numeric"})}),i.jsxs("span",{className:"text-white font-semibold",children:[q.bestDayRevenue.toFixed(2)," MDL"]})]})})]}),i.jsxs("div",{className:"border-t border-white/10 pt-4",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Metrici Cheie"}),i.jsx("div",{className:"space-y-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-300",children:"Total Comenzi"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-white font-semibold",children:q.totalOrders}),q.orderGrowth!==0&&i.jsxs("span",{className:`text-xs ${q.orderGrowth>=0?"text-emerald-400":"text-red-400"}`,children:[q.orderGrowth>=0?"":""," ",Math.abs(q.orderGrowth).toFixed(1),"%"]})]})]})})]})]})]})})]})]}),i.jsx(c_,{isOpen:d,onClose:()=>{l(null),u(void 0),x(!1)},order:o,orderNumber:c,onCancel:M,onRedo:I,isProcessing:S===(o==null?void 0:o.id.toString()),cars:z,onOpenContractModal:()=>{f(!1),re(!0),x(!1)}}),o&&z.length>0&&(()=>{const P=z.find(L=>L.id.toString()===o.carId);return P?i.jsx(A9,{isOpen:O,onClose:()=>re(!1),order:o,car:P,orderNumber:c,onContractCreated:async()=>{re(!1),await T(),f(!1),l(null),x(!1)}}):null})(),g&&i.jsx(yge,{onSave:async P=>{y(!1),await T()},onClose:()=>y(!1)})]})},wge=()=>i.jsx(bge,{}),jge=({orderId:e})=>{const r=Pn(),{t:n}=mr(),[a,s]=N.useState([]),[o,l]=N.useState(!1),[c,u]=N.useState(!1),[d,f]=N.useState([]);N.useEffect(()=>{(async()=>{try{const C=await xo(),z=await Promise.all(C.map(async $=>{let F=$.name;(!F||F.trim()==="")&&(F=`${$.make} ${$.model}`);const{mainImage:V,photoGallery:B}=await ia(F);return{...$,image_url:V||$.image_url,photo_gallery:B.length>0?B:$.photo_gallery}}));f(z)}catch(C){console.error("Error loading cars:",C)}})()},[]);const p=async()=>{if(d.length!==0)try{const{fetchRentalsForCalendarPageByMonth:j}=await Ns(async()=>{const{fetchRentalsForCalendarPageByMonth:$}=await Promise.resolve().then(()=>My);return{fetchRentalsForCalendarPageByMonth:$}},void 0),z=(await j(d)).filter($=>$.type==="rental");s(z)}catch(j){console.error("Failed to load orders:",j)}};N.useEffect(()=>{d.length>0&&p()},[d]);const x=async()=>{const j=a.find(C=>C.id===e);if(j&&window.confirm(n("admin.orders.confirmCancelOrder"))){u(!0);try{const C=await Oy(j.id.toString());C.success?(alert(n("admin.orders.orderCancelled")),await p(),r("/admin?section=orders")):alert(`${n("admin.orders.orderCancelFailed")} ${C.error}`)}catch(C){console.error("Error cancelling order:",C),alert(n("admin.orders.orderCancelErrorOccurred"))}finally{u(!1)}}},g=async()=>{const j=a.find(C=>C.id===e);if(j&&window.confirm(n("admin.orders.confirmRestoreOrder"))){u(!0);try{const C=await Ty(j.id.toString());C.success?(alert(n("admin.orders.orderRestored")),await p()):alert(`${n("admin.orders.orderRestoreFailed")} ${C.error}`)}catch(C){console.error("Error restoring order:",C),alert(n("admin.orders.orderRestoreErrorOccurred"))}finally{u(!1)}}},y=a.find(j=>j.id===e),w=y?d.find(j=>j.id.toString()===y.carId):null,[v,S]=N.useState((w==null?void 0:w.image)||(w==null?void 0:w.image_url));N.useEffect(()=>{!y||!w?a.length>0&&r("/admin?section=orders"):(S(w.image||w.image_url||""),window.scrollTo({top:0,behavior:"smooth"}))},[e,y,w,r,a.length]);const k=async()=>{if(!y||!w){alert(n("admin.orders.contractNotFound"));return}l(!0);try{await E9(y,w,void 0,{customerPhone:y.customerPhone||""})}catch(j){console.error("Error generating contract:",j);const C=j instanceof Error?j.message:"Unknown error";alert(`${n("admin.orders.contractGenerationFailed")}: ${C}

${n("admin.orders.contractGenerationErrorDetails")}`)}finally{l(!1)}};return!y||!w?null:i.jsxs(De.div,{initial:{opacity:1},animate:{opacity:1},transition:{duration:.4},className:"flex flex-col lg:grid lg:grid-cols-[1fr_360px] gap-8",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsx(De.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white/10 backdrop-blur-xl border border-white/20 hover:border-red-500/50 rounded-xl p-6 transition-all shadow-lg",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("img",{src:v,alt:(w==null?void 0:w.name)||`${w.make||""} ${w.model||""}`.trim()||"Car",className:"w-32 h-20 object-cover rounded-lg border border-white/20"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:(w==null?void 0:w.name)||`${w.make||""} ${w.model||""}`.trim()||"Car"}),i.jsxs("div",{className:"text-sm text-gray-300",children:[w.transmission,"  ",w.seats," seats"]})]})]})}),i.jsxs(De.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 space-y-6 shadow-lg",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:n("admin.orders.bookingInfo")}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-lg p-3 border border-white/10",children:[i.jsx($n,{className:"w-5 h-5 text-gray-300 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Pickup"}),i.jsx("span",{className:"text-white text-sm font-medium",children:new Date(y.pickupDate).toLocaleDateString()})]})]}),i.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-lg p-3 border border-white/10",children:[i.jsx(Aa,{className:"w-5 h-5 text-gray-300 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Time"}),i.jsx("span",{className:"text-white text-sm font-medium",children:y.pickupTime||"--:--"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-lg p-3 border border-white/10",children:[i.jsx($n,{className:"w-5 h-5 text-gray-300 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Return"}),i.jsx("span",{className:"text-white text-sm font-medium",children:new Date(y.returnDate).toLocaleDateString()})]})]}),i.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-lg p-3 border border-white/10",children:[i.jsx(Aa,{className:"w-5 h-5 text-gray-300 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Time"}),i.jsx("span",{className:"text-white text-sm font-medium",children:y.returnTime||"--:--"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide mb-1",children:"Rental Days"}),i.jsx("span",{className:"text-white text-lg font-bold",children:M5(y.pickupDate,y.returnDate)})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide mb-1",children:"Total Price"}),i.jsx("span",{className:"text-white text-lg font-bold",children:(()=>{if((y.amount??0)>0)return`${y.amount} MDL`;const j=M5(y.pickupDate,y.returnDate),C=wm(j,w);let z=parseFloat(C)||w.price_per_day||0;const $=w.discount_percentage||w.discount||0;return $>0&&(z=z*(1-$/100)),`${Math.round(j*z)} MDL`})()})]})]}),w.features&&Array.isArray(w.features)&&w.features.length>0&&i.jsx(i.Fragment,{children:i.jsxs("div",{className:"border-t border-white/10 pt-6",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:n("admin.cars.additionalFeatures")}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:(w.features||[]).map((j,C)=>i.jsxs("div",{className:"flex items-center gap-2 text-gray-300 text-sm",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),i.jsx("span",{children:j})]},C))})]})})]}),i.jsxs(De.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg",children:[i.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Customer"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-xl shadow-lg flex-shrink-0",children:"C"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-white font-semibold",children:y.customerName}),i.jsx("div",{className:"text-gray-300 text-sm",children:y.customerEmail}),y.customerPhone&&i.jsx("div",{className:"text-gray-300 text-sm mt-1",children:y.customerPhone})]})]})]}),i.jsxs(De.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg",children:[i.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:n("admin.orders.payment")}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400 text-sm uppercase tracking-wide",children:"Amount Paid"}),i.jsxs("div",{className:"text-white font-bold text-2xl",children:[y.amount," MDL"]})]}),i.jsx("div",{className:`px-4 py-2 rounded-lg text-sm font-semibold border backdrop-blur-xl
                            ${y.status==="Paid"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/50":y.status==="Pending"?"bg-yellow-500/20 text-yellow-300 border-yellow-500/50":"bg-red-500/20 text-red-300 border-red-500/50"}`,children:y.status})]})]})]}),i.jsx("aside",{className:"lg:col-start-2",children:i.jsxs(De.div,{initial:{opacity:1,x:0},animate:{opacity:1,x:0},transition:{duration:.4},className:"sticky top-24 space-y-3",children:[i.jsx("button",{onClick:k,disabled:o,className:"w-full bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/50 hover:border-emerald-500/60 text-emerald-300 hover:text-emerald-200 font-semibold py-3 px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:o?i.jsxs(i.Fragment,{children:[i.jsx(Qa,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(vN,{className:"w-4 h-4"}),i.jsx(nu,{className:"w-4 h-4"}),"Download Contract"]})}),i.jsx("button",{className:"w-full bg-white/10 backdrop-blur-xl hover:bg-white/20 border border-white/20 hover:border-white/30 text-white font-semibold py-3 px-6 rounded-lg transition-all shadow-lg",onClick:()=>r(`/admin?section=orders&orderId=${y.id}&edit=true`),children:"Edit Order"}),y.status!=="CANCELLED"&&i.jsx("button",{className:"w-full bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 hover:border-red-500/60 text-red-300 hover:text-red-200 font-semibold py-3 px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:x,disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(Qa,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(kn,{className:"w-4 h-4"}),"Cancel Order"]})}),y.status==="CANCELLED"&&i.jsx("button",{className:"w-full bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/50 hover:border-emerald-500/60 text-emerald-300 hover:text-emerald-200 font-semibold py-3 px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:g,disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(Qa,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(gh,{className:"w-4 h-4"}),"Undo Cancel"]})})]})})]})},Eh=e=>e?`${e.make} ${e.model}`:"",Nge=e=>{const r=e.toUpperCase();return r==="PENDING"?{text:"Pending",className:"bg-orange-500/20 text-orange-300 border border-orange-500/50"}:r==="PROCESSED"?{text:"Processed",className:"bg-blue-500/20 text-blue-300 border border-blue-500/50"}:r==="APPROVED"?{text:"Approved",className:"bg-emerald-500/20 text-emerald-300 border border-emerald-500/50"}:r==="CANCELLED"?{text:"Cancelled",className:"bg-gray-500/20 text-gray-300 border border-gray-500/50"}:{text:r,className:"bg-gray-300/20 text-gray-700 border border-gray-300/50"}},wx=e=>{const r=e.toLowerCase();return{mercedes:"/logos/merc.svg","mercedes-benz":"/logos/merc.svg",bmw:"/logos/bmw.webp",audi:"/logos/audi.png",hyundai:"/logos/hyundai.png",maserati:"/logos/maserati.png",volkswagen:"/logos/volkswagen-1-logo-black-and-white.png",vw:"/logos/volkswagen-1-logo-black-and-white.png",lincoln:"/logos/lincoln.png",porsche:"/logos/porsche.png"}[r]||null},_ge=({currentMonth:e,prevMonth:r,nextMonth:n,generateCalendarDays:a,eventsByDay:s,selectedDate:o,handleSelectDay:l,displayDateObj:c,selectedDayPickups:u,selectedDayReturns:d,setSelectedDate:f,setSelectedOrder:p,setIsModalOpen:x,formatTime:g})=>{const{t:y}=mr(),w=Pn(),v=u,S=d;return i.jsxs("div",{className:"grid grid-cols-[380px,1fr] gap-8",children:[i.jsx("div",{children:i.jsxs(De.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white/5 backdrop-blur-xl border border-white/20 rounded-2xl shadow-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsx("div",{className:"text-sm font-medium text-white",children:e.toLocaleDateString(y("config.date"),{month:"long",year:"numeric"})}),i.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),i.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Lu","Ma","Mi","Jo","Vi","S","Du"].map((k,j)=>i.jsx("div",{className:`text-gray-400 font-medium ${j===5||j===6?"text-red-400":""}`,children:k},k))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:a(e).map((k,j)=>{if(!k)return i.jsx("div",{},j);const C=new Date(k),z=k,$=s.pickups.has(z),F=s.returns.has(z),V=$||F,B=d_(C,e),K=new Date;K.setHours(0,0,0,0);const T=C.getFullYear()===K.getFullYear()&&C.getMonth()===K.getMonth()&&C.getDate()===K.getDate(),M=new Date(C);M.setHours(0,0,0,0);const I=M<K,q=o===z||o===null&&T;let H="";return T&&q?H="bg-red-500 text-white ring-1 ring-white/60 ring-offset-1 ring-offset-transparent font-semibold":T?H="bg-red-500 text-white":q?V?I?H="bg-gray-500/40 text-white ring-1 ring-white/60 ring-offset-1 ring-offset-transparent font-semibold hover:bg-gray-500/50":H="bg-yellow-500/20 text-white ring-1 ring-white/60 ring-offset-1 ring-offset-transparent font-semibold hover:bg-yellow-500/30":H="ring-1 ring-white/60 ring-offset-1 ring-offset-transparent text-white hover:ring-white/50 bg-white/5 font-semibold":V?I?H="bg-gray-500/40 text-white hover:bg-gray-500/50":H="bg-yellow-500/20 text-white hover:bg-yellow-500/30":H="hover:bg-white/10",i.jsxs("div",{className:`w-9 h-9 flex items-center justify-center text-xs rounded-xl transition-colors relative cursor-pointer ${B?"text-white":"text-gray-500"} ${H}`,onClick:()=>l(z),children:[C.getDate(),V&&i.jsx("div",{className:`absolute top-0 right-0 w-2 h-2 rounded-full ${T?"bg-yellow-500":I?"bg-gray-500":"bg-red-500"}`})]},j)})})]})}),i.jsx("div",{children:i.jsxs(De.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-xl font-bold text-white",children:[(()=>{const k=c.toLocaleDateString(y("config.date"),{weekday:"long",year:"numeric",month:"long",day:"numeric"});return k.charAt(0).toUpperCase()+k.slice(1)})(),!o&&i.jsxs("span",{className:"ml-2 text-sm text-gray-400",children:["(",y("admin.calendar.today"),")"]})]}),o&&i.jsx("button",{onClick:()=>f(null),className:"text-gray-400 hover:text-white transition-colors p-1",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),v.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsxs("h4",{className:"text-base font-semibold text-yellow-300 mb-4 uppercase tracking-wide",children:[y("admin.calendar.pickups")," (",v.length,")"]}),i.jsx("div",{className:"space-y-4",children:v.map(k=>{const j=k.car,C=j!==null?Eh(j):"";return i.jsx(De.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.2},onClick:()=>{w(`/admin?section=requests&requestId=${k.id}`)},className:"p-5 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all cursor-pointer group",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center group-hover:bg-white/20 transition-colors",children:i.jsx(Ll,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-white text-sm",children:k.customer_name||`${k.customer_first_name||""} ${k.customer_last_name||""}`.trim()||k.customer_email}),i.jsxs("div",{className:"text-gray-400 text-xs",children:[y("admin.calendar.rental")," #",k.id.toString().padStart(4,"0")]})]})]}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:i.jsx("span",{className:"text-white/90 text-sm truncate",children:C})}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-4",children:[i.jsx(Aa,{className:"w-4 h-4 text-yellow-400/70 flex-shrink-0"}),i.jsx("span",{className:"text-yellow-400 text-lg font-bold tracking-tight",children:g(k.start_time)})]})]})]})},k.id)})})]}),S.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsxs("h4",{className:"text-base font-semibold text-blue-300 mb-4 uppercase tracking-wide",children:[y("admin.calendar.returns")," (",S.length,")"]}),i.jsx("div",{className:"space-y-4",children:S.map(k=>{const j=k.car,C=j!==null?Eh(j):"";return i.jsx(De.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.2},onClick:()=>{w(`/admin?section=requests&requestId=${k.id}`)},className:"p-5 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all cursor-pointer group",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center group-hover:bg-white/20 transition-colors",children:i.jsx(Ll,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-white text-sm",children:k.customer_name||`${k.customer_first_name||""} ${k.customer_last_name||""}`.trim()||k.customer_email}),i.jsxs("div",{className:"text-gray-400 text-xs",children:[y("admin.calendar.rental")," #",k.id.toString().padStart(4,"0")]})]})]}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:i.jsx("span",{className:"text-white/90 text-sm truncate",children:C})}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-4",children:[i.jsx(Aa,{className:"w-4 h-4 text-blue-400/70 flex-shrink-0"}),i.jsx("span",{className:"text-blue-400 text-lg font-bold tracking-tight",children:g(k.end_time)})]})]})]})},k.id)})})]}),v.length===0&&S.length===0&&i.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"Nu exist rezervri pentru aceast zi"})]})})]})},wh=e=>{if(!e)return"00:00";try{let r=e.trim();if(/AM|PM/i.test(r)){const o=/PM/i.test(r);r=r.replace(/AM|PM/gi,"").trim();const[l,c]=r.split(":");let u=parseInt(l,10);return o&&u!==12?u+=12:!o&&u===12&&(u=0),`${u.toString().padStart(2,"0")}:${(c||"00").padStart(2,"0")}`}const[a,s]=r.split(":");return`${parseInt(a,10).toString().padStart(2,"0")}:${(s||"00").padStart(2,"0")}`}catch{return"00:00"}},Sge=()=>{const{t:e}=mr(),r=Pn(),[n,a]=N.useState(new Date),[s,o]=N.useState(!1),[l,c]=N.useState(null),[u,d]=N.useState(null),[f,p]=N.useState(null),[x,g]=N.useState(!1),[y,w]=N.useState([]),[v,S]=N.useState([]),[k,j]=N.useState(!1),C=N.useRef(null);N.useEffect(()=>{const Z=()=>{j(window.innerWidth>=1024)};return Z(),window.addEventListener("resize",Z),()=>window.removeEventListener("resize",Z)},[]);const z={make:"",model:""},[$,F]=N.useState(z),[V,B]=N.useState(!1),[K,T]=N.useState(!1);N.useEffect(()=>{(async()=>{try{const ae=await xo(),le=await Promise.all(ae.map(async Q=>{let oe=Q.name;(!oe||oe.trim()==="")&&(oe=`${Q.make} ${Q.model}`);const{mainImage:ve}=await ia(oe);return{...Q,image_url:ve||Q.image_url}}));S(le)}catch(ae){console.error("Error loading cars:",ae)}})()},[s]),N.useEffect(()=>{(async()=>{try{const ae=l?l.id:void 0,le=await WY(ae,n);w(le)}catch(ae){console.error("Failed to load orders:",ae)}})()},[$,l,n]),N.useEffect(()=>{const Z=ae=>{if(C.current&&!C.current.contains(ae.target)){const le=new Date;le.setHours(0,0,0,0);const Q=fo(le,"yyyy-MM-dd");d(Q)}};return document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[]);const M=N.useMemo(()=>{const Z={},ae={};v.forEach(Q=>{let oe="",ve="";if(Q.make&&Q.model)oe=Q.make,ve=Q.model;else{const ge=(Q.name||`${Q.make||""} ${Q.model||""}`.trim()).split(" "),ie=ge[0];oe=ie.includes("-")?ie.split("-")[0].trim():ie.trim(),ve=ge.slice(1).join(" ").trim()}if(oe){const ue=oe.toLowerCase();ae[ue]||(ae[ue]=oe),Z[ue]||(Z[ue]=new Set),ve&&ve.length>0&&Z[ue].add(ve)}});const le={};return Object.keys(Z).forEach(Q=>{const oe=ae[Q]||Q;le[oe]=Array.from(Z[Q]).sort()}),le},[v]),I=N.useMemo(()=>{if(!$.make)return[];const Z=$.make.toLowerCase(),ae=Object.keys(M).find(le=>le.toLowerCase()===Z);return ae?M[ae]||[]:[]},[$.make,M]),q=N.useMemo(()=>{const Z=v.map(le=>{if(le.make){const ve=le.make;return ve.includes("-")?ve.split("-")[0].trim():ve.trim()}const oe=(le.name||"").split(" ")[0];return oe.includes("-")?oe.split("-")[0].trim():oe.trim()}).filter(le=>le&&le.length>0),ae=new Map;return Z.forEach(le=>{const Q=le.toLowerCase();ae.has(Q)||ae.set(Q,le)}),Array.from(ae.values()).sort()},[v]),H=(Z,ae)=>{F(le=>{let Q={...le,[Z]:ae};if(Z==="make"&&ae){const oe=M[ae]||[];le.model&&!oe.includes(le.model)?Q.model="":(Q.make=ae,oe.length===1&&(Q.model=oe[0]))}else Z==="model"&&ae&&Q.make&&((M[Q.make]||[]).includes(ae)?Q.model=ae:Q.model="");if(Q.make!==""&&Q.model!==""){const oe=v.filter(ve=>{let ue="",ge="";if(ve.make&&ve.model)ue=ve.make,ge=ve.model;else{const Te=(ve.name||"").split(" "),Xe=Te[0];ue=Xe.includes("-")?Xe.split("-")[0]:Xe,ge=Te.slice(1).join(" ")}const ie=Q.make?ue===Q.make:!0,se=Q.model?ge===Q.model:!0;return ie&&se});c(oe.length>0?oe[0]:null)}else Q.make!==""?c({make:Q.make,name:Q.make,id:null}):c(null);return F(Q),Q})},te=()=>{B(!1),T(!1)},O=Z=>{Z==="make"&&(B(ae=>!ae),T(!1)),Z==="model"&&$.make&&(T(ae=>!ae),B(!1))},re=Z=>{d(u===Z?null:Z)},Y=Z=>{const le=Z.split(" ")[0];return le.includes("-")?le.split("-")[0]:le},P=Z=>{const ae=Z.toLowerCase();return ae==="maserati"||ae==="audi"||ae==="lincoln"||ae==="porsche"?"w-6 h-6":"w-4 h-4"},L=N.useMemo(()=>{const Z=new Map,ae=new Map;let le=y.filter(Q=>{const oe=(Q.status||"").toUpperCase();return!(oe==="COMPLETED"||oe==="CANCELLED")});return $.make&&(le=le.filter(Q=>{const oe=JG($.make);if(!oe)return!1;let ve="",ue="";if(oe.make&&oe.model)ve=oe.make,ue=oe.model;else{const _e=(oe.name||"").split(" "),Te=_e[0];ve=Te.includes("-")?Te.split("-")[0]:Te,ue=_e.slice(1).join(" ")}const ge=ve===$.make,ie=$.model?ue===$.model:!0;return ge&&ie})),le.forEach(Q=>{const oe=fo(new Date(Q.start_date),"yyyy-MM-dd");Z.has(oe)||Z.set(oe,[]),Z.get(oe).push(Q);const ve=fo(new Date(Q.end_date),"yyyy-MM-dd");ae.has(ve)||ae.set(ve,[]),ae.get(ve).push(Q)}),{pickups:Z,returns:ae}},[$,y,v]),R=()=>a(Z=>R7(Z)),G=()=>a(Z=>u_(Z,1)),X=Z=>{const ae=Z.getFullYear(),le=Z.getMonth(),Q=new Date(ae,le,1),oe=new Date(Q),ve=Q.getDay(),ue=ve===0?6:ve-1;oe.setDate(oe.getDate()-ue);const ge=[],ie=new Date(oe);for(let se=0;se<42;se++)ie.getMonth()===le?ge.push(ie.toISOString().split("T")[0]):ge.push(null),ie.setDate(ie.getDate()+1);return ge},D=()=>{F(z),c(null)};return i.jsxs("div",{ref:C,className:"max-w-[1600px] mx-auto px-0 sm:px6 lg:px-8",children:[i.jsxs("div",{className:"mb-4 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 lg:gap-4",children:[i.jsx("div",{className:"flex flex-col lg:flex-row lg:flex-wrap items-start lg:items-center gap-2 lg:gap-2",children:i.jsx("div",{className:"flex flex-wrap items-center gap-2 w-full lg:w-auto",children:!k&&!l&&i.jsxs("button",{onClick:()=>o(!s),className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded-lg border bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white transition-all flex-shrink-0",children:[i.jsx(Zp,{className:"w-3 h-3"}),i.jsx("span",{children:e(s?"admin.calendar.hideFilters":"admin.calendar.showFilters")})]})})}),i.jsxs("div",{className:"hidden lg:flex items-center gap-2 flex-shrink-0",children:[l&&(()=>{const Z=l.make&&!l.id,ae=Z?l.make:l.name||"Selected Car",le=Z?l.make:Y(ae),Q=wx(le);return i.jsxs("div",{className:"px-3 py-1.5 rounded-lg bg-white/10 border border-white/20 text-white text-xs font-medium flex items-center gap-2 max-w-full",children:[Q&&i.jsx("img",{src:Q,alt:le,className:`${P(le)} object-contain brightness-0 invert flex-shrink-0`,onError:oe=>{oe.target.style.display="none"}}),i.jsx("span",{className:"truncate",children:ae}),i.jsx("button",{onClick:D,className:"ml-1 flex items-center gap-1 px-1.5 py-0.5 rounded-md border border-white/20 bg-white/5 text-gray-300 hover:bg-white/10 hover:text-white transition-all flex-shrink-0",title:e("admin.calendar.clearSort"),children:i.jsx(kn,{className:"w-3 h-3"})})]})})(),(!l||k)&&i.jsxs("button",{onClick:()=>o(!s),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg border bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white transition-all flex-shrink-0",children:[i.jsx(Zp,{className:"w-3 h-3"}),i.jsx("span",{children:e(s?"admin.calendar.hideFilters":"admin.calendar.showFilters")})]})]}),!k&&l&&(()=>{const Z=l.make&&!l.id,ae=Z?l.make:l.name||"Selected Car",le=Z?l.make:Y(ae),Q=wx(le);return i.jsxs("div",{className:"px-2.5 py-1.5 rounded-lg bg-white/10 border border-white/20 text-white text-xs font-medium flex items-center gap-1.5 max-w-full",children:[Q&&i.jsx("img",{src:Q,alt:le,className:`${P(le)} object-contain brightness-0 invert flex-shrink-0`,onError:oe=>{oe.target.style.display="none"}}),i.jsx("span",{className:"truncate",children:ae}),i.jsx("button",{onClick:D,className:"ml-1 p-0.5 hover:bg-white/20 rounded transition-colors flex-shrink-0","aria-label":"Clear filter",children:i.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})()]}),typeof window<"u"&&ei.createPortal(i.jsx(hr,{children:s&&i.jsxs(i.Fragment,{children:[i.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 z-[9998]",onClick:()=>o(!1)}),i.jsx(De.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 right-0 bottom-0 w-80 max-w-[85vw] bg-white/10 backdrop-blur-xl border-l border-white/20 shadow-2xl z-[9999] overflow-y-auto",onClick:Z=>Z.stopPropagation(),children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:e("admin.calendar.filters")}),i.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"flex-1 relative dropdown-container z-[10000]",children:[i.jsx("label",{className:"block text-[11px] font-semibold mb-2 uppercase tracking-widest text-white/80",children:e("admin.calendar.make")}),i.jsxs("div",{className:`px-3 py-2 rounded-md bg-white/5 cursor-pointer border border-white/10 flex items-center gap-2 ${$.make?"text-white":"text-white/70"}`,onClick:()=>O("make"),children:[$.make&&(()=>{const Z=wx($.make.toLowerCase());return Z?i.jsx("img",{src:Z,alt:$.make,className:`${P($.make)} object-contain brightness-0 invert`,onError:ae=>{ae.target.style.display="none"}}):null})(),i.jsx("span",{children:$.make||"Selecteaz marca"})]}),i.jsx(hr,{children:V&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-[10001]",onClick:te}),i.jsxs(De.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute top-full left-0 right-0 mt-1 border border-white/20 rounded-xl shadow-2xl z-[10002] min-w-[200px] max-h-[300px] overflow-y-auto",style:{backgroundColor:"#363636"},children:[i.jsx("div",{className:"px-4 py-2 cursor-pointer hover:bg-white/10 text-white",onClick:()=>{H("make",""),te()},children:"Selecteaz marca"}),q.length>0?q.map(Z=>{const ae=wx(Z.toLowerCase());return i.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-white/10 text-white flex items-center gap-2",onClick:()=>{H("make",Z),te()},children:[i.jsx("div",{className:"w-6 flex items-center justify-center flex-shrink-0",children:ae&&i.jsx("img",{src:ae,alt:Z,className:`${P(Z)} object-contain brightness-0 invert`,onError:le=>{le.target.style.display="none"}})}),i.jsx("span",{children:Z})]},Z)}):i.jsx("div",{className:"px-4 py-2 text-white/50 text-sm",children:"Nu sunt maini disponibile"})]})]})})]}),i.jsxs("div",{className:"flex-1 relative dropdown-container z-[9999]",children:[i.jsx("label",{className:"block text-[11px] font-semibold mb-2 uppercase tracking-widest text-white/80",children:e("admin.calendar.model")}),i.jsx("div",{className:`px-3 py-2 rounded-md bg-white/5 cursor-pointer border border-white/10 flex items-center gap-2 ${$.make?"text-white":"text-white/50 cursor-not-allowed"}`,onClick:()=>$.make&&O("model"),children:$.make?$.model||"Orice":"Selecteaz marca"}),K&&$.make&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-[10001]",onClick:te}),i.jsxs(De.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute top-full left-0 right-0 mt-1 border border-white/20 rounded-xl shadow-2xl z-[10002] min-w-[200px] max-h-[300px] overflow-y-auto",style:{backgroundColor:"#363636"},children:[I.length>1&&i.jsx("div",{className:"px-4 py-2 cursor-pointer hover:bg-white/10 text-white",onClick:()=>{H("model",""),te()},children:"Orice"}),I.length>0?I.map(Z=>i.jsx("div",{className:"px-4 py-2 cursor-pointer hover:bg-white/10 text-white",onClick:()=>{H("model",Z),te()},children:Z},Z)):$.make?i.jsx("div",{className:"px-4 py-2 text-white/50 text-sm",children:"Nu sunt modele disponibile"}):null]})]})]}),($.make||$.model)&&i.jsx("div",{className:"flex items-end",children:i.jsxs("button",{onClick:()=>{o(!1)},className:"w-full px-4 py-2.5 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 rounded-lg text-red-300 text-sm font-semibold transition-all flex items-center justify-center gap-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e("admin.calendar.applyFilters")]})})]})]})})]})}),document.body),!k&&i.jsxs(i.Fragment,{children:[i.jsxs(De.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white/5 backdrop-blur-xl border border-white/20 rounded-2xl shadow-lg p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("button",{onClick:R,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsx("div",{className:"text-sm font-medium text-white",children:n.toLocaleDateString(e("config.date"),{month:"long",year:"numeric"})}),i.jsx("button",{onClick:G,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),i.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Lu","Ma","Mi","Jo","Vi","S","Du"].map((Z,ae)=>i.jsx("div",{className:`text-gray-400 font-medium ${ae===5||ae===6?"text-red-400":""}`,children:Z},Z))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:X(n).map((Z,ae)=>{if(!Z)return i.jsx("div",{},ae);const le=new Date(Z),Q=Z,oe=L.pickups.has(Q),ve=L.returns.has(Q),ue=oe||ve,ge=d_(le,n),ie=new Date;ie.setHours(0,0,0,0);const se=le.getFullYear()===ie.getFullYear()&&le.getMonth()===ie.getMonth()&&le.getDate()===ie.getDate(),_e=new Date(le);_e.setHours(0,0,0,0);const Te=_e<ie,Xe=u===Q||u===null&&se;let Me="";return se&&Xe?Me="bg-red-500 text-white ring-2 ring-white/70 ring-offset-1 ring-offset-transparent font-semibold":Xe?ue?Te?Me="bg-gray-500/40 text-white ring-2 ring-white/60 ring-offset-1 ring-offset-transparent font-semibold hover:bg-gray-500/50":Me="bg-yellow-500/20 text-white ring-2 ring-white/60 ring-offset-1 ring-offset-transparent font-semibold hover:bg-yellow-500/30":Me="bg-white/10 text-white ring-2 ring-white/60 ring-offset-1 ring-offset-transparent font-semibold":se?Me="bg-red-500 text-white":ue?Te?Me="bg-gray-500/40 text-white hover:bg-gray-500/50":Me="bg-yellow-500/20 text-white hover:bg-yellow-500/30":Me="hover:bg-white/10",i.jsxs("div",{className:`w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center text-xs rounded-xl transition-colors relative cursor-pointer ${ge?"text-white":"text-gray-500"} ${Me}`,onClick:()=>re(Q),children:[le.getDate(),ue&&i.jsx("div",{className:`absolute top-0 right-0 w-2 h-2 rounded-full ${se?"bg-yellow-500":Te?"bg-gray-500":"bg-red-500"}`})]},ae)})})]}),(()=>{const Z=new Date;Z.setHours(0,0,0,0);const ae=fo(Z,"yyyy-MM-dd"),le=u||ae,Q=new Date(le),oe=L.pickups.get(le)||[],ve=L.returns.get(le)||[];return i.jsxs(De.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white",children:[(()=>{const ue=Q.toLocaleDateString("ro-RO",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return ue.charAt(0).toUpperCase()+ue.slice(1)})(),!u&&i.jsxs("span",{className:"ml-2 text-sm text-gray-400",children:["(",e("admin.calendar.today"),")"]})]}),u&&i.jsx("button",{onClick:()=>d(null),className:"text-gray-400 hover:text-white transition-colors p-1",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),oe.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsxs("h4",{className:"text-sm font-semibold text-yellow-300 mb-3 uppercase tracking-wide",children:[e("admin.calendar.pickups")," (",oe.length,")"]}),i.jsx("div",{className:"space-y-3",children:oe.map(ue=>{const ge=ue.car,ie=ge!==null?Eh(ge):"";return i.jsx(De.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.2},onClick:()=>{r(`/admin?section=requests&requestId=${ue.id}`)},className:"p-4 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all cursor-pointer group",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center group-hover:bg-white/20 transition-colors",children:i.jsx(Ll,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-white text-sm",children:ue.customer_name||`${ue.customer_first_name||""} ${ue.customer_last_name||""}`.trim()||ue.customer_email}),i.jsxs("div",{className:"text-gray-400 text-xs",children:[e("admin.calendar.rental")," #",ue.id.toString().padStart(4,"0")]})]})]}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:i.jsx("span",{className:"text-white/90 text-sm truncate",children:ie})}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-4",children:[i.jsx(Aa,{className:"w-4 h-4 text-yellow-400/70 flex-shrink-0"}),i.jsx("span",{className:"text-yellow-400 text-lg font-bold tracking-tight",children:wh(ue.start_time)})]})]})]})},ue.id)})})]}),ve.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsxs("h4",{className:"text-sm font-semibold text-blue-300 mb-3 uppercase tracking-wide",children:[e("admin.calendar.returns")," (",ve.length,")"]}),i.jsx("div",{className:"space-y-3",children:ve.map(ue=>{const ge=ue.car,ie=ge!==null?Eh(ge):"";return i.jsx(De.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.2},onClick:()=>{r(`/admin?section=requests&requestId=${ue.id}`)},className:"p-4 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all cursor-pointer group",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center group-hover:bg-white/20 transition-colors",children:i.jsx(Ll,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-white text-sm",children:ue.customer_name||`${ue.customer_first_name||""} ${ue.customer_last_name||""}`.trim()||ue.customer_email}),i.jsxs("div",{className:"text-gray-400 text-xs",children:[e("admin.calendar.rental")," #",ue.id.toString().padStart(4,"0")]})]})]}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:i.jsx("span",{className:"text-white/90 text-sm truncate",children:ie})}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-4",children:[i.jsx(Aa,{className:"w-4 h-4 text-blue-400/70 flex-shrink-0"}),i.jsx("span",{className:"text-blue-400 text-lg font-bold tracking-tight",children:wh(ue.end_time)})]})]})]})},ue.id)})})]}),oe.length===0&&ve.length===0&&i.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:e("admin.calendar.noBookings")})]})})()]}),k&&(()=>{const Z=new Date;Z.setHours(0,0,0,0);const ae=fo(Z,"yyyy-MM-dd"),le=u||ae,Q=new Date(le),oe=L.pickups.get(le)||[],ve=L.returns.get(le)||[];return i.jsx(_ge,{currentMonth:n,prevMonth:R,nextMonth:G,generateCalendarDays:X,eventsByDay:L,selectedDate:u,handleSelectDay:re,displayDate:le,displayDateObj:Q,selectedDayPickups:oe,selectedDayReturns:ve,setSelectedDate:d,selectedCar:l,setSelectedOrder:p,setIsModalOpen:g,formatTime:wh})})()]})},kge=()=>{const{t:e}=mr();return i.jsx(De.div,{initial:{opacity:1},animate:{opacity:1},transition:{duration:.4},className:"space-y-6",children:i.jsxs(De.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-white/10",children:i.jsx("h2",{className:"text-xl font-bold text-white",children:e("admin.orders.bookingCalendar")})}),i.jsx("div",{className:"p-6",children:i.jsx(Sge,{viewMode:"admin"})})]})})},Cge=()=>{const{t:e}=mr(),[r,n]=N.useState([]),[a,s]=N.useState(!0),[o,l]=N.useState(""),[c,u]=N.useState(1),[d,f]=N.useState(null),[p,x]=N.useState(null),[g,y]=N.useState("asc"),[w,v]=N.useState([]),[S,k]=N.useState(!1),j=10;N.useEffect(()=>{(async()=>{try{const{fetchRentalsForCalendarPageByMonth:I}=await Ns(async()=>{const{fetchRentalsForCalendarPageByMonth:re}=await Promise.resolve().then(()=>My);return{fetchRentalsForCalendarPageByMonth:re}},void 0),H=(await I(Rh)).filter(re=>re.type==="rental");v(H);const{data:te,error:O}=await Rt.from("Profiles").select("id, first_name, last_name, email, phone_number, role, created_at, updated_at").order("created_at",{ascending:!1});if(O){console.error("Failed to load users from Profiles table:",O);const re=new Map;H.forEach(Y=>{if(!Y.customerName||!Y.customerEmail)return;const P=Y.customerEmail.toLowerCase();if(!re.has(P)){const L=Y.customerName.trim().split(" "),R=L[0]||"",G=L.slice(1).join(" ")||"";re.set(P,{id:P,first_name:R,last_name:G,email:Y.customerEmail,phone_number:Y.customerPhone||void 0,role:"User"})}}),n(Array.from(re.values()));return}if(te&&te.length>0){const re=te.map(Y=>({id:Y.id,first_name:Y.first_name||"",last_name:Y.last_name||"",email:Y.email||"",phone_number:Y.phone_number||void 0,role:Y.role||"User"}));n(re)}else n([])}catch(I){console.error("Failed to load users and orders:",I),n([])}finally{s(!1)}})()},[]);const C=M=>{const I=r.find(q=>q.id===M||q.id.toString()===M.toString());return I?w.filter(q=>{var H,te;return((H=q.customerEmail)==null?void 0:H.toLowerCase())===(I.email||"").toLowerCase()||((te=q.customerName)==null?void 0:te.toLowerCase())===`${I.first_name||""} ${I.last_name||""}`.toLowerCase().trim()}).length:0},z=M=>{const I=r.find(q=>q.id===M||q.id.toString()===M.toString());return I?w.filter(q=>{var H,te;return((H=q.customerEmail)==null?void 0:H.toLowerCase())===(I.email||"").toLowerCase()||((te=q.customerName)==null?void 0:te.toLowerCase())===`${I.first_name||""} ${I.last_name||""}`.toLowerCase().trim()}).reduce((q,H)=>q+(H.amount||0),0):0},$=N.useMemo(()=>{let M=r.filter(I=>(I.first_name||"").toLowerCase().includes(o.toLowerCase())||(I.last_name||"").toLowerCase().includes(o.toLowerCase())||I.phone_number&&I.phone_number.toLowerCase().includes(o.toLowerCase())||(I.email||"").toLowerCase().includes(o.toLowerCase()));return p&&M.sort((I,q)=>{let H="",te="";switch(p){case"name":H=`${I.first_name||""} ${I.last_name||""}`.toLowerCase().trim(),te=`${q.first_name||""} ${q.last_name||""}`.toLowerCase().trim();break;case"email":H=(I.email||"").toLowerCase(),te=(q.email||"").toLowerCase();break;case"role":H=(I.role||"").toLowerCase(),te=(q.role||"").toLowerCase();break}return H<te?g==="asc"?-1:1:H>te?g==="asc"?1:-1:0}),M},[r,o,p,g,w]),F=Math.ceil($.length/j),V=$.slice((c-1)*j,c*j),B=M=>{M<1||M>F||u(M)},K=M=>{p===M?y(I=>I==="asc"?"desc":"asc"):(x(M),y("asc"))};N.useEffect(()=>{},[d]);const T=d?w.filter(M=>{var I,q;return((I=M.customerEmail)==null?void 0:I.toLowerCase())===(d.email||"").toLowerCase()||((q=M.customerName)==null?void 0:q.toLowerCase())===`${d.first_name||""} ${d.last_name||""}`.toLowerCase().trim()}):[];return a?i.jsx("div",{className:"flex items-center justify-center py-20",children:i.jsx(Qa,{className:"w-8 h-8 animate-spin text-white/50"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"px-3 md:px-6 py-3 md:py-4 border-b border-white/10",children:i.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[i.jsx("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3 md:gap-4",children:i.jsx("h2",{className:"text-lg md:text-xl font-bold text-white",children:e("admin.users.title")||"Users"})}),i.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3 md:gap-4",children:[i.jsx("div",{className:"w-full md:flex-1 md:max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx(pc,{className:"absolute left-2.5 md:left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-3.5 h-3.5 md:w-4 md:h-4"}),i.jsx("input",{type:"text",placeholder:e("admin.users.search"),value:o,onChange:M=>{l(M.target.value),u(1)},className:"w-full pl-9 md:pl-10 pr-3 md:pr-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/50 text-white text-xs md:text-sm placeholder-gray-400"})]})}),i.jsxs("div",{className:"w-full md:w-auto flex flex-col md:flex-row items-stretch md:items-center gap-2",children:[i.jsx("span",{className:"hidden md:inline text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.users.sortBy")}),i.jsx("span",{className:"md:hidden text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:e("admin.users.sortBy")}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs("button",{onClick:()=>K("email"),className:`flex items-center gap-1 px-2.5 md:px-3 py-1.5 text-xs font-semibold rounded-lg border transition-all flex-1 sm:flex-initial min-w-0 ${p==="email"?"bg-red-500/20 text-red-300 border-red-500/50":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:[i.jsx("span",{className:"truncate",children:e("admin.users.email")}),p==="email"&&(g==="asc"?i.jsx(ws,{className:"w-3 h-3 flex-shrink-0"}):i.jsx(ys,{className:"w-3 h-3 flex-shrink-0"})),p!=="email"&&i.jsx(bs,{className:"w-3 h-3 opacity-50 flex-shrink-0"})]}),i.jsxs("button",{onClick:()=>K("role"),className:`flex items-center gap-1 px-2.5 md:px-3 py-1.5 text-xs font-semibold rounded-lg border transition-all flex-1 sm:flex-initial min-w-0 ${p==="role"?"bg-red-500/20 text-red-300 border-red-500/50":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:[i.jsx("span",{className:"truncate",children:e("admin.users.role")}),p==="role"&&(g==="asc"?i.jsx(ws,{className:"w-3 h-3 flex-shrink-0"}):i.jsx(ys,{className:"w-3 h-3 flex-shrink-0"})),p!=="role"&&i.jsx(bs,{className:"w-3 h-3 opacity-50 flex-shrink-0"})]}),p&&i.jsx("button",{onClick:()=>{x(null),y("asc")},className:"px-2.5 md:px-3 py-1.5 text-xs font-semibold text-gray-400 hover:text-white transition-colors whitespace-nowrap",children:e("admin.users.clearSort")})]})]})]})]})}),i.jsx("div",{className:"block md:hidden p-4 space-y-4",children:V.length===0?i.jsx("div",{className:"px-4 py-12 text-center text-gray-400",children:e("admin.users.noUsers")}):V.map(M=>i.jsxs("div",{className:`bg-white/5 border border-white/10 rounded-lg p-4 hover:bg-white/10 transition cursor-pointer ${(d==null?void 0:d.id)===M.id?"bg-white/10":""}`,onClick:I=>{I.stopPropagation(),S||(k(!0),setTimeout(()=>{f(M),setTimeout(()=>k(!1),300)},10))},children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-sm flex-shrink-0 shadow-md",children:(M.first_name||"U").charAt(0)}),i.jsx("div",{className:"flex flex-col min-w-0 flex-1",children:i.jsxs("span",{className:"font-semibold text-white text-sm truncate",children:[M.first_name," ",M.last_name]})})]}),i.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold border backdrop-blur-sm flex-shrink-0 ${(M.role||"user").trim().toLowerCase()==="admin"?"bg-purple-500/20 text-purple-300 border-purple-500/50":"bg-blue-500/20 text-blue-300 border-blue-500/50"}`,children:(M.role||"user").charAt(0).toUpperCase()+(M.role||"user").slice(1).toLowerCase()})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-white/10",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-400 text-xs mb-1",children:e("admin.users.rentals")}),i.jsx("p",{className:"text-white font-semibold text-base",children:C(M.id)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-400 text-xs mb-1",children:e("admin.users.totalSpent")}),i.jsxs("p",{className:"text-white font-semibold text-base",children:[z(M.id).toFixed(2)," MDL"]})]})]})]},M.id))}),i.jsx("div",{className:"hidden md:block overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-white/5 border-b border-white/10",children:[i.jsx("th",{className:"text-left px-6 py-3 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.users.user")}),i.jsx("th",{className:"text-left px-6 py-3 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:i.jsxs("button",{onClick:()=>K("email"),className:"flex items-center gap-1.5 hover:text-white transition-colors",children:[e("admin.users.email"),p==="email"?g==="asc"?i.jsx(ws,{className:"w-3 h-3"}):i.jsx(ys,{className:"w-3 h-3"}):i.jsx(bs,{className:"w-3 h-3 opacity-50"})]})}),i.jsx("th",{className:"text-left px-6 py-3 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.users.phone")}),i.jsx("th",{className:"text-left px-6 py-3 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:i.jsxs("button",{onClick:()=>K("role"),className:"flex items-center gap-1.5 hover:text-white transition-colors",children:[e("admin.users.role"),p==="role"?g==="asc"?i.jsx(ws,{className:"w-3 h-3"}):i.jsx(ys,{className:"w-3 h-3"}):i.jsx(bs,{className:"w-3 h-3 opacity-50"})]})}),i.jsx("th",{className:"text-left px-6 py-3 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.users.rentals")}),i.jsx("th",{className:"text-left px-6 py-3 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.users.totalSpent")})]})}),i.jsxs("tbody",{children:[V.map(M=>i.jsxs("tr",{className:`border-b border-white/10 hover:bg-white/5 transition cursor-pointer ${(d==null?void 0:d.id)===M.id?"bg-white/5":""}`,onClick:I=>{I.stopPropagation(),S||(k(!0),f(M),setTimeout(()=>k(!1),300))},children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-sm flex-shrink-0 shadow-md",children:(M.first_name||"U").charAt(0)}),i.jsx("div",{className:"flex flex-col min-w-0",children:i.jsxs("span",{className:"font-semibold text-white text-sm truncate",children:[M.first_name," ",M.last_name]})})]})}),i.jsx("td",{className:"px-6 py-4 text-gray-300 text-sm",children:M.email}),i.jsx("td",{className:"px-6 py-4 text-gray-300 text-sm",children:M.phone_number?i.jsxs("a",{href:`tel:${M.phone_number.replace(/\s/g,"")}`,className:"text-blue-400 hover:text-blue-300 transition-colors underline decoration-blue-400/50 hover:decoration-blue-300 flex items-center gap-1",onClick:I=>I.stopPropagation(),children:[i.jsx(Ah,{className:"h-3 w-3 flex-shrink-0"}),M.phone_number]}):i.jsx("span",{className:"text-gray-400",children:"N/A"})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`px-3 py-1 rounded-lg text-xs font-semibold border backdrop-blur-xl ${(M.role||"user").trim().toLowerCase()==="admin"?"bg-purple-500/20 text-purple-300 border-purple-500/50":"bg-blue-500/20 text-blue-300 border-blue-500/50"}`,children:(M.role||"user").charAt(0).toUpperCase()+(M.role||"user").slice(1).toLowerCase()})}),i.jsx("td",{className:"px-6 py-4 text-gray-300 text-sm",children:C(M.id)}),i.jsxs("td",{className:"px-6 py-4 text-white font-semibold text-sm",children:[z(M.id).toFixed(2)," MDL"]})]},M.id)),V.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400 text-sm",children:e("admin.users.noUsers")})})]})]})}),i.jsxs("div",{className:"px-3 md:px-6 py-3 md:py-4 border-t border-white/10 flex flex-col sm:flex-row items-center justify-between gap-3",children:[i.jsxs("div",{className:"text-xs md:text-sm text-gray-300 text-center sm:text-left",children:[e("admin.users.showing")," ",V.length>0?(c-1)*j+1:0," ",e("admin.users.to")," ",Math.min(c*j,$.length)," ",e("admin.users.of")," ",$.length," ",e("admin.users.users")]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>B(c-1),disabled:c===1,className:"flex items-center gap-1.5 md:gap-2 px-2.5 md:px-3 py-1.5 md:py-2 rounded-lg border border-white/20 bg-white/10 backdrop-blur-xl text-white disabled:opacity-50 hover:bg-white/20 transition-all text-xs md:text-sm",children:[i.jsx(Il,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),i.jsx("span",{className:"hidden sm:inline",children:e("admin.users.previous")})]}),i.jsxs("div",{className:"text-xs md:text-sm text-gray-300 px-2",children:[e("admin.users.page")," ",c," ",e("admin.users.ofPage")," ",F||1]}),i.jsxs("button",{onClick:()=>B(c+1),disabled:c===F||F===0,className:"flex items-center gap-1.5 md:gap-2 px-2.5 md:px-3 py-1.5 md:py-2 rounded-lg border border-white/20 bg-white/10 backdrop-blur-xl text-white disabled:opacity-50 hover:bg-white/20 transition-all text-xs md:text-sm",children:[i.jsx("span",{className:"hidden sm:inline",children:e("admin.users.next")}),i.jsx(ss,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})]})]})]})]}),i.jsx(Pge,{isOpen:d!==null,onClose:()=>{f(null),k(!1)},user:d,userOrders:T})]})},Pge=({isOpen:e,onClose:r,user:n,userOrders:a})=>{const{t:s}=mr(),o=Pn();if(!e||!n)return null;const l=c=>{if(!c)return"N/A";try{const u=new Date(c);return isNaN(u.getTime())?c:u.toLocaleDateString("ro-RO",{day:"numeric",month:"short",year:"numeric"})}catch{return c||"N/A"}};return ei.createPortal(e?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",onClick:c=>{c.target===c.currentTarget&&r()},style:{zIndex:1e4},children:i.jsxs("div",{onClick:c=>c.stopPropagation(),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg max-w-5xl w-full max-h-[90vh] overflow-y-auto mx-2 sm:mx-4",children:[i.jsxs("div",{className:"sticky top-0 bg-white/10 backdrop-blur-xl border-b border-white/20 px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between z-10",style:{backgroundColor:"#1C1C1C"},children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:s("admin.users.userDetails")}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-lg transition-colors flex-shrink-0",children:i.jsx(kn,{className:"w-5 h-5 text-white"})})]}),i.jsx("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_2fr] gap-4 sm:gap-6",children:[i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[i.jsx("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:i.jsxs("div",{className:"flex items-center justify-between gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white text-base sm:text-xl font-bold flex-shrink-0 shadow-lg",children:(n.first_name||"U").charAt(0)}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("h3",{className:"text-base sm:text-lg font-bold text-white truncate",children:[n.first_name," ",n.last_name]})})]}),i.jsx("span",{className:`px-2.5 sm:px-3 py-1 rounded-lg text-xs sm:text-sm font-semibold border backdrop-blur-sm flex-shrink-0 ${(n.role||"user").trim().toLowerCase()==="admin"?"bg-purple-500/20 text-purple-300 border-purple-500/50":"bg-blue-500/20 text-blue-300 border-blue-500/50"}`,children:(n.role||"user").charAt(0).toUpperCase()+(n.role||"user").slice(1).toLowerCase()})]})}),i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{className:"bg-white/5 rounded-lg p-3 sm:p-4 border border-white/10",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[i.jsx(jd,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0"}),i.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:s("admin.users.email")})]}),i.jsx("p",{className:"text-white font-medium text-sm sm:text-base",children:n.email})]}),n.phone_number&&i.jsxs("div",{className:"bg-white/5 rounded-lg p-3 sm:p-4 border border-white/10",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[i.jsx(Ah,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0"}),i.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:s("admin.users.phone")})]}),i.jsx("a",{href:`tel:${n.phone_number.replace(/\s/g,"")}`,className:"text-blue-400 font-medium hover:text-blue-300 transition-colors text-sm sm:text-base underline decoration-blue-400/50 hover:decoration-blue-300",children:n.phone_number})]})]}),i.jsxs("div",{className:"bg-white/5 rounded-lg p-3 sm:p-4 border border-white/10",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[i.jsx(wy,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0"}),i.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:s("admin.users.totalSpent")})]}),i.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-white",children:[a.reduce((c,u)=>c+(u.amount||0),0).toFixed(2)," MDL"]})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[i.jsx(Za,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0"}),i.jsx("h4",{className:"text-base sm:text-lg font-bold text-white",children:s("admin.users.rentalHistory")}),i.jsxs("span",{className:"text-xs sm:text-sm text-gray-400",children:["(",a.length,")"]})]}),a.length>0?i.jsxs("div",{className:"bg-white/5 rounded-lg border border-white/10 overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto max-h-96 overflow-y-auto",children:i.jsxs("table",{className:"w-full text-xs sm:text-sm",style:{minWidth:"100%"},children:[i.jsx("thead",{className:"bg-white/5 sticky top-0",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left px-3 sm:px-4 py-2 sm:py-3 text-xs font-semibold text-gray-400 uppercase tracking-wider whitespace-nowrap",children:s("admin.users.car")}),i.jsx("th",{className:"text-left px-3 sm:px-4 py-2 sm:py-3 text-xs font-semibold text-gray-400 uppercase tracking-wider whitespace-nowrap",children:s("admin.users.dates")}),i.jsx("th",{className:"text-left px-3 sm:px-4 py-2 sm:py-3 text-xs font-semibold text-gray-400 uppercase tracking-wider whitespace-nowrap",children:s("admin.users.amount")})]})}),i.jsx("tbody",{children:a.slice(0,5).map(c=>{var d;const u=Rh.find(f=>f.id.toString()===c.carId);return i.jsxs("tr",{className:"border-t border-white/10 hover:bg-white/5 transition",children:[i.jsx("td",{className:"px-3 sm:px-4 py-2 sm:py-3 text-white font-medium text-xs sm:text-sm whitespace-nowrap",children:u?`${u.make} ${u.model}`:c.carName||"N/A"}),i.jsx("td",{className:"px-3 sm:px-4 py-2 sm:py-3 text-gray-300 text-xs sm:text-sm",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:gap-2 gap-0.5",children:[i.jsx("span",{className:"whitespace-nowrap",children:l(c.pickupDate)}),i.jsx("span",{className:"hidden sm:inline whitespace-nowrap",children:""}),i.jsx("span",{className:"whitespace-nowrap",children:l(c.returnDate)})]})}),i.jsxs("td",{className:"px-3 sm:px-4 py-2 sm:py-3 text-white font-semibold text-xs sm:text-sm whitespace-nowrap",children:[((d=c.amount)==null?void 0:d.toFixed(2))||"0.00"," MDL"]})]},c.id)})})]})}),a.length>0&&i.jsx("div",{className:"p-3 sm:p-4 border-t border-white/10",children:i.jsxs("button",{onClick:()=>{r(),o(`/admin?section=orders&search=${encodeURIComponent(`${n==null?void 0:n.first_name} ${n==null?void 0:n.last_name}`)}`)},className:"w-full px-3 sm:px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/50 text-blue-300 hover:text-blue-200 font-semibold rounded-lg transition-all flex items-center justify-center gap-2 text-xs sm:text-sm",children:[s("admin.users.viewPastRentals",{name:`${n.first_name} ${n.last_name}`}),i.jsx(ss,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})]})})]}):i.jsxs("div",{className:"bg-white/5 rounded-lg p-8 sm:p-12 border border-white/10 text-center",children:[i.jsx(Za,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400 mx-auto mb-3 sm:mb-4 opacity-50"}),i.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:s("admin.users.noRentalHistory")})]})]})]})})]})}):null,document.body)},Ege=()=>i.jsx(De.div,{initial:{opacity:1},animate:{opacity:1},transition:{duration:.4},children:i.jsx(Cge,{})});function XA(e){return _o({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"},child:[]},{tag:"path",attr:{d:"m15 5 4 4"},child:[]}]})(e)}const Age=({car:e,onSave:r,onCancel:n})=>{var I;const{t:a}=mr(),s=Array.isArray(e.category)?e.category:e.category?[e.category]:[],[o,l]=N.useState({...e,category:s}),[c,u]=N.useState(!1),{showSuccess:d,showError:f}=Sd(),[p,x]=N.useState(""),[g,y]=N.useState(!1),[w,v]=N.useState(!1),[S,k]=N.useState(!1),[j,C]=N.useState(0);N.useEffect(()=>{(async()=>{try{const H=await r0(Number(e.id));if(H){const te=H.name||`${H.make} ${H.model}`,{mainImage:O,photoGallery:re}=await ia(te),Y=Array.isArray(H.category)?H.category:H.category?[H.category]:[];l({...H,name:H.name||"",discountPercentage:H.discount_percentage,discount_percentage:H.discount_percentage,image_url:O||H.image_url,photo_gallery:re.length>0?re:H.photo_gallery,category:Y,price_2_4_days:H.price_2_4_days,price_5_15_days:H.price_5_15_days,price_16_30_days:H.price_16_30_days,price_over_30_days:H.price_over_30_days})}}catch(H){console.error("Error loading car:",H)}})()},[e.id]),N.useEffect(()=>{const q=H=>(H.preventDefault(),H.returnValue="","");return window.addEventListener("beforeunload",q),()=>{window.removeEventListener("beforeunload",q)}},[]);const z=async q=>{q.preventDefault(),u(!0);try{const H=Array.isArray(o.category)?o.category:o.category?[o.category]:[];if(H.length===0){f(a("admin.cars.categoryRequired")||"Please select at least one category"),u(!1);return}let te=o.image||o.image_url,O=o.photoGallery||o.photo_gallery;const re=e.name||`${e.make} ${e.model}`,Y=o.name||`${o.make} ${o.model}`;if(re!==Y&&te&&!te.includes("http")){const L=$(re),R=$(Y);te.includes(L)&&(te=te.replace(L,R)),O&&Array.isArray(O)&&(O=O.map(G=>G&&G.includes(L)?G.replace(L,R):G))}const P={...o,name:o.name,image_url:te,photo_gallery:O,price_2_4_days:o.price_2_4_days||o.price_2_4_days,price_5_15_days:o.price_5_15_days||o.price_5_15_days,price_16_30_days:o.price_16_30_days||o.price_16_30_days,price_over_30_days:o.price_over_30_days||o.price_over_30_days,discount:o.discountPercentage!==void 0?o.discountPercentage:o.discount_percentage,fuel_type:o.fuelType||o.fuel_type,category:H.length===1?H[0]:H};await r(P),d(a("admin.cars.carSaved")),setTimeout(()=>{n()},500)}catch(H){console.error("Error saving car:",H),f("Failed to save car. Please try again.")}finally{u(!1)}},$=q=>q.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),F=q=>{const H=q.trim().split(/\s+/);return H.length<2?"car":H.slice(1).join("-").toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^-+|-+$/g,"")},V=async q=>{y(!0);try{const H=o.name||e.name||"car",te=$(H),re=`${F(H)}-main.jpg`,Y=`${te}/${re}`;let P,L;try{const G=await Rt.storage.from("cars").upload(Y,q,{cacheControl:"3600",upsert:!0});P=G.data,L=G.error}catch(G){console.warn("Regular client upload failed, trying admin client:",G);const X=await Dl.storage.from("cars").upload(Y,q,{cacheControl:"3600",upsert:!0});P=X.data,L=X.error}if(L)throw L;const{data:{publicUrl:R}}=Rt.storage.from("cars").getPublicUrl(Y);l(G=>({...G,image:R,image_url:R})),d(a("admin.cars.imageUploaded"))}catch(H){console.error("Error uploading image:",H),f(a("admin.cars.imageUploadError"))}finally{y(!1)}},B=async q=>{v(!0);try{const H=o.name||e.name||"car",te=$(H),O=F(H),re=o.photoGallery||o.photo_gallery||[];let Y=2;if(re.length>0){const D=re.map(Z=>{const ae=Z.match(/-(\d+)\.(jpg|jpeg|png)/i);return ae?parseInt(ae[1],10):0}).filter(Z=>Z>0);D.length>0&&(Y=Math.max(...D)+1)}const P=`${O}-${Y}.jpg`,L=`${te}/${P}`,{data:R,error:G}=await Dl.storage.from("cars").upload(L,q,{cacheControl:"3600",upsert:!1});if(G)throw G;const{data:{publicUrl:X}}=Dl.storage.from("cars").getPublicUrl(L);l(D=>({...D,photoGallery:[...re,X],photo_gallery:[...re,X]})),d(a("admin.cars.galleryImageUploaded"))}catch(H){console.error("Error uploading image:",H),f(a("admin.cars.imageUploadError"))}finally{v(!1)}},K=()=>{p.trim()&&(l(q=>({...q,features:[...q.features||[],p.trim()]})),x(""))},T=q=>{l(H=>{var te;return{...H,features:((te=H.features)==null?void 0:te.filter((O,re)=>re!==q))||[]}})},M=q=>{l(H=>({...H,photo_gallery:(H.photoGallery||H.photo_gallery||[]).filter((te,O)=>O!==q)}))};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("form",{onSubmit:z,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg space-y-4",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:a("admin.cars.basicInfo")}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("admin.cars.carName")}),i.jsx("input",{type:"text",value:o.name||e.name||"",onChange:q=>l(H=>({...H,name:q.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Marc *"}),i.jsx("input",{type:"text",value:o.make||"",onChange:q=>l(H=>({...H,make:q.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Model *"}),i.jsx("input",{type:"text",value:o.model||"",onChange:q=>l(H=>({...H,model:q.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("admin.cars.year")}),i.jsx("input",{type:"number",value:o.year||"",onChange:q=>l(H=>({...H,year:parseInt(q.target.value)})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("admin.cars.seats")}),i.jsx("input",{type:"number",value:o.seats||"",onChange:q=>l(H=>({...H,seats:parseInt(q.target.value)})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("admin.cars.category")}),i.jsx("div",{className:"flex flex-row gap-4",children:["suv","sports","luxury"].map(q=>{const te=(Array.isArray(o.category)?o.category:o.category?[o.category]:[]).includes(q);return i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer group",children:[i.jsx("input",{type:"checkbox",checked:te,onChange:O=>{const re=Array.isArray(o.category)?o.category:o.category?[o.category]:[];O.target.checked?l(Y=>({...Y,category:[...re,q]})):l(Y=>({...Y,category:re.filter(P=>P!==q)}))},className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${te?"bg-red-500 border-red-500":"border-white/30 bg-white/5 group-hover:border-red-400"}`,children:te&&i.jsx(kl,{className:"w-3 h-3 text-white"})}),i.jsx("span",{className:"text-white",children:a(q==="suv"?"admin.cars.categorySuv":q==="sports"?"admin.cars.categorySports":"admin.cars.categoryLuxury")})]},q)})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("admin.cars.transmission")}),i.jsxs("select",{value:o.transmission||o.transmission||"",onChange:q=>l(H=>({...H,transmission:q.target.value||null})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},children:[i.jsx("option",{value:"",children:"Selecteaz transmisie"}),i.jsx("option",{value:"Automatic",children:"Automatic"}),i.jsx("option",{value:"Manual",children:"Manual"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("admin.cars.fuelType")}),i.jsxs("select",{value:o.fuelType||o.fuel_type||"",onChange:q=>l(H=>({...H,fuelType:q.target.value||null,fuel_type:q.target.value||null})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},children:[i.jsx("option",{value:"",children:"Selecteaz combustibil"}),i.jsx("option",{value:"petrol",children:"Benzina"}),i.jsx("option",{value:"diesel",children:"Diesel"}),i.jsx("option",{value:"hybrid",children:"Hybrid"}),i.jsx("option",{value:"electric",children:"Electric"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("admin.cars.drivetrain")}),i.jsxs("select",{value:o.drivetrain||"",onChange:q=>l(H=>({...H,drivetrain:q.target.value||null})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},children:[i.jsx("option",{value:"",children:"Selecteaz traciune"}),i.jsx("option",{value:"FWD",children:"FWD"}),i.jsx("option",{value:"RWD",children:"RWD"}),i.jsx("option",{value:"AWD",children:"AWD"})]})]})]})]}),i.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg space-y-4",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Preuri i Reduceri"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"2-4 zile"}),i.jsx("input",{type:"number",value:o.price_2_4_days||o.price_2_4_days||"",onChange:q=>l(H=>({...H,price_2_4_days:parseFloat(q.target.value)||0})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"}}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"MDL pe zi"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"5-15 zile"}),i.jsx("input",{type:"number",value:o.price_5_15_days||o.price_5_15_days||"",onChange:q=>l(H=>({...H,price_5_15_days:parseFloat(q.target.value)||0})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"}}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"MDL pe zi"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"16-30 zile"}),i.jsx("input",{type:"number",value:o.price_16_30_days||o.price_16_30_days||"",onChange:q=>l(H=>({...H,price_16_30_days:parseFloat(q.target.value)||0})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"}}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"MDL pe zi"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Peste 30 zile"}),i.jsx("input",{type:"number",value:o.price_over_30_days||o.price_over_30_days||"",onChange:q=>l(H=>({...H,price_over_30_days:parseFloat(q.target.value)||0})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"}}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"MDL pe zi"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("admin.cars.discountPercentage")}),i.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:o.discountPercentage!==void 0?o.discountPercentage:o.discount_percentage!==void 0?o.discount_percentage:"",onChange:q=>{const H=q.target.value===""?void 0:parseFloat(q.target.value);l(te=>({...te,discountPercentage:H,discount:H}))},placeholder:"0",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"}}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:a("admin.cars.discountPercentageHint")})]})]})]}),i.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg space-y-4",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:a("admin.cars.images")}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("admin.cars.mainImage")}),i.jsxs("div",{children:[i.jsxs("label",{className:"inline-block px-4 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-lg transition-all cursor-pointer flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed mb-2",children:[i.jsx(ev,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:a("admin.cars.uploadImage")}),i.jsx("input",{type:"file",accept:"image/*",onChange:q=>{var te;const H=(te=q.target.files)==null?void 0:te[0];H&&V(H)},className:"hidden",disabled:g})]}),g&&i.jsx("p",{className:"text-xs text-gray-400 mb-2",children:a("admin.cars.uploadingImage")}),(o.image_url||o.image)&&i.jsxs("div",{className:"mt-2 inline-block relative group cursor-pointer",onClick:()=>{C(0),k(!0)},children:[i.jsx("img",{src:o.image_url||o.image,alt:"Preview",className:"h-20 object-contain rounded-lg border border-white/10"}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-xs px-2 py-1 rounded-b-lg",children:a("admin.cars.mainPhoto")})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("admin.cars.photoGallery")}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsxs("label",{className:"px-4 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-lg transition-all cursor-pointer flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(ev,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:a("admin.cars.uploadImage")}),i.jsx("input",{type:"file",accept:"image/*",onChange:q=>{var te;const H=(te=q.target.files)==null?void 0:te[0];H&&B(H)},className:"hidden",disabled:w})]}),w&&i.jsx("p",{className:"text-xs text-gray-400 flex items-center",children:a("admin.common.uploading")})]}),(o.photoGallery||o.photo_gallery||[]).length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:(o.photoGallery||o.photo_gallery||[]).map((q,H)=>i.jsxs("div",{className:"relative group inline-block",children:[i.jsx("img",{src:q,alt:`${a("admin.cars.gallery")} ${H+1}`,className:"h-20 object-contain rounded-lg border border-white/10 bg-white/5 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>{C(H+1),k(!0)}}),i.jsx("button",{type:"button",onClick:te=>{te.stopPropagation(),M(H)},className:"absolute top-1 right-1 p-1 bg-red-500/80 hover:bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-10",children:i.jsx(kn,{className:"w-3 h-3"})})]},H))})]})]}),i.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg space-y-4",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:a("admin.cars.features")}),i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsx("input",{type:"text",value:p,onChange:q=>x(q.target.value),onKeyPress:q=>q.key==="Enter"&&(q.preventDefault(),K()),placeholder:a("admin.placeholders.addFeature"),className:"flex-1 px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50"}),i.jsx("button",{type:"button",onClick:K,className:"px-4 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-lg transition-all",children:i.jsx(Ny,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(I=o.features)==null?void 0:I.map((q,H)=>i.jsxs("span",{className:"flex items-center gap-2 px-3 py-1 bg-white/10 border border-white/20 rounded-lg text-white text-sm",children:[q,i.jsx("button",{type:"button",onClick:()=>T(H),className:"hover:text-red-300 transition-colors",children:i.jsx(kn,{className:"w-3 h-3"})})]},H))})]}),i.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg space-y-4",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:a("admin.cars.statusAndRatings")}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("admin.cars.rating")}),i.jsx("input",{type:"number",step:"0.1",min:"0",max:"5",value:o.rating||"",onChange:q=>l(H=>({...H,rating:parseFloat(q.target.value)})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("admin.cars.reviewsCount")}),i.jsx("input",{type:"number",value:o.reviews||"",onChange:q=>l(H=>({...H,reviews:parseInt(q.target.value)})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"}})]})]})]}),i.jsxs("div",{className:"flex gap-4 justify-end",children:[i.jsx("button",{type:"button",onClick:n,className:"px-6 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-lg transition-all",children:a("admin.cars.cancel")}),i.jsx("button",{type:"submit",disabled:c,className:"px-6 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 hover:text-red-200 font-semibold rounded-lg transition-all backdrop-blur-xl flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?i.jsxs(i.Fragment,{children:[i.jsx(Qa,{className:"w-4 h-4 animate-spin"}),a("admin.cars.saving")]}):i.jsxs(i.Fragment,{children:[i.jsx(Bh,{className:"w-4 h-4"}),a("admin.common.save")]})})]})]}),S&&ei.createPortal(i.jsx(hr,{children:S&&i.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black z-[99999] flex items-center justify-center",style:{top:0,left:0,right:0,bottom:0,position:"fixed"},onClick:()=>k(!1),children:i.jsxs(De.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},onClick:q=>q.stopPropagation(),className:"relative w-full h-full flex flex-col",children:[i.jsxs("div",{className:"absolute top-0 left-0 right-0 z-20 flex items-center justify-between px-6 py-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[(()=>{const q=o.image_url||o.image,te=(o.photoGallery||o.photo_gallery||[]).filter(re=>re!==q),O=[q,...te].filter(Boolean);return O.length<=1?null:i.jsxs("span",{className:"text-white/70 text-sm font-medium",children:[j+1," of ",O.length]})})(),j===0&&i.jsx("span",{className:"px-3 py-1.5 bg-emerald-500 text-white text-xs font-semibold rounded-full",children:"Main Photo"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:async()=>{const q=o.image_url||o.image,te=(o.photoGallery||o.photo_gallery||[]).filter(Y=>Y!==q),re=[q,...te].filter(Boolean)[j];if(re&&window.confirm("Eti sigur c vrei s tergi aceast imagine?"))try{if(j===0)l(P=>({...P,image_url:void 0,image:void 0}));else{const P=[...te];P.splice(j-1,1),l(L=>({...L,photoGallery:P,photo_gallery:P}));try{const R=new URL(re).pathname.split("/"),G=R[R.length-1];if(G){const{supabase:X}=await Ns(async()=>{const{supabase:D}=await Promise.resolve().then(()=>Nh);return{supabase:D}},void 0);await X.storage.from("cars").remove([`cars/${G}`])}}catch(L){console.warn("Could not delete from storage:",L)}}const Y=j===0?[q,...te].filter((P,L)=>L!==0||P!==re):[q,...te].filter((P,L)=>L!==j);Y.length===0?k(!1):j>=Y.length&&C(Y.length-1),d("Imagine tears cu succes!")}catch(Y){console.error("Error deleting image:",Y),f("Eroare la tergerea imaginii")}},className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/40 text-red-300 hover:text-red-200 rounded-lg transition-all font-medium flex items-center gap-2 shadow-lg",title:"terge imaginea",children:[i.jsx(Qx,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm",children:"terge"})]}),i.jsx("button",{onClick:()=>k(!1),className:"p-2 hover:bg-white/10 text-white/80 hover:text-white rounded-lg transition-colors",children:i.jsx(kn,{className:"w-5 h-5"})})]})]}),i.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-6 relative",children:(()=>{const q=o.image_url||o.image,te=(o.photoGallery||o.photo_gallery||[]).filter(Y=>Y!==q),re=[q,...te].filter(Boolean)[j];return re?i.jsx("div",{className:"w-full h-full max-w-full max-h-[75vh] flex items-center justify-center",children:i.jsx("img",{src:re,alt:`Image ${j+1}`,className:"max-w-full max-h-[75vh] object-contain rounded-xl"})}):null})()}),(()=>{const q=o.image_url||o.image,te=(o.photoGallery||o.photo_gallery||[]).filter(re=>re!==q),O=[q,...te].filter(Boolean);return O.length<=1?null:i.jsx("div",{className:"absolute bottom-0 left-0 right-0 border-t border-white/10 bg-black/40 backdrop-blur-md",children:i.jsx("div",{className:"px-6 py-4",children:i.jsx("div",{className:"grid grid-cols-6 gap-3 max-w-4xl mx-auto",children:O.map((re,Y)=>i.jsxs("button",{onClick:()=>C(Y),className:`relative transition-all ${j===Y?"opacity-100":"opacity-50 hover:opacity-80"}`,children:[i.jsx("img",{src:re,alt:`Thumbnail ${Y+1}`,className:`w-full h-20 object-cover rounded-lg transition-all ${j===Y?"border-2 border-white":"border border-white/20"}`}),Y===0&&i.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-emerald-500 rounded-full border border-white/20"})]},Y))})})})})()]})})}),document.body)]})},Dge=({car:e,onSave:r,onClose:n})=>{const[,a]=yu(),{t:s}=mr(),o=e?Array.isArray(e.category)?e.category:e.category?[e.category]:["luxury"]:["luxury"],[l,c]=N.useState(e?{...e,category:o}:{name:"",category:["luxury"],image:"",pricePerDay:0,year:new Date().getFullYear(),seats:5}),[u,d]=N.useState(!1),[f,p]=N.useState(!1),[x,g]=N.useState(null),[y,w]=N.useState(!1),[v,S]=N.useState(null),{showSuccess:k,showError:j}=Sd();N.useEffect(()=>{const T=M=>(M.preventDefault(),M.returnValue="","");return window.addEventListener("beforeunload",T),()=>{window.removeEventListener("beforeunload",T)}},[]);const C=async T=>{T.preventDefault(),w(!0);try{const M=Array.isArray(l.category)?l.category:l.category?[l.category]:[];if(M.length===0){j(s("admin.cars.categoryRequired")||"Please select at least one category"),w(!1);return}if(!l.transmission){j("Te rugm s selectezi transmisia"),w(!1);return}if(!(l.fuelType||l.fuel_type)){j("Te rugm s selectezi tipul de combustibil"),w(!1);return}if(!l.drivetrain){j("Te rugm s selectezi traciunea"),w(!1);return}const I={...l,category:M.length===1?M[0]:M};if(e)await r(I),k(s("admin.cars.carUpdated")),setTimeout(()=>{n()},500);else{const q=await r(I);typeof q=="number"&&(g(q),p(!0),v&&await B(q,I.name||"car"),k(s("admin.cars.carCreated")))}}catch(M){console.error("Error saving car:",M),j("Failed to save car. Please try again.")}finally{w(!1)}},z=()=>{x&&(a({section:"cars",carId:x.toString()}),n())},$=T=>T.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),F=T=>{const M=T.trim().split(/\s+/);return M.length<2?"car":M.slice(1).join("-").toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^-+|-+$/g,"")},V=async T=>{if(!e)S(T);else{d(!0);try{const M=l.name||e.name||"car",I=$(M),H=`${F(M)}-main.jpg`,te=`${I}/${H}`;let O,re;try{const P=await Rt.storage.from("cars").upload(te,T,{cacheControl:"3600",upsert:!0});O=P.data,re=P.error}catch(P){console.warn("Regular client upload failed, trying admin client:",P);const L=await Dl.storage.from("cars").upload(te,T,{cacheControl:"3600",upsert:!0});O=L.data,re=L.error}if(re)throw re;const{data:{publicUrl:Y}}=Rt.storage.from("cars").getPublicUrl(te);c(P=>({...P,image:Y,image_url:Y})),k(s("admin.cars.imageUploaded"))}catch(M){console.error("Error uploading image:",M),j(s("admin.cars.imageUploadError"))}finally{d(!1)}}},B=async(T,M)=>{if(v){d(!0);try{const I=$(M),H=`${F(M)}-main.jpg`,te=`${I}/${H}`;let O,re;try{const L=await Rt.storage.from("cars").upload(te,v,{cacheControl:"3600",upsert:!0});O=L.data,re=L.error}catch(L){console.warn("Regular client upload failed, trying admin client:",L);const R=await Dl.storage.from("cars").upload(te,v,{cacheControl:"3600",upsert:!0});O=R.data,re=R.error}if(re)throw re;const{data:{publicUrl:Y}}=Rt.storage.from("cars").getPublicUrl(te),{error:P}=await Dl.from("Cars").update({image_url:Y,updated_at:new Date().toISOString()}).eq("id",T);P&&console.error("Error updating car with image URL:",P),c(L=>({...L,image:Y,image_url:Y})),k(s("admin.cars.imageUploaded"))}catch(I){console.error("Error uploading pending image:",I),j(s("admin.cars.imageUploadError"))}finally{d(!1),S(null)}}},K=()=>{window.confirm("Eti sigur c vrei s nchizi modalul? Modificrile nesalvate vor fi pierdute.")&&n()};return ei.createPortal(i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",onClick:K,style:{zIndex:1e4},children:i.jsxs("div",{onClick:T=>T.stopPropagation(),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 border-b border-white/20 px-6 py-4 flex items-center justify-between z-10",style:{backgroundColor:"#1C1C1C"},children:[i.jsx("div",{children:i.jsx("h2",{className:"text-lg sm:text-2xl font-bold text-white",children:s("admin.cars.addNew")})}),i.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:i.jsx(kn,{className:"w-5 h-5 text-white"})})]}),f?i.jsxs("div",{className:"p-6 text-center space-y-4",children:[i.jsx("div",{className:"text-green-400 mb-4",children:i.jsx(xd,{className:"w-16 h-16 mx-auto"})}),i.jsx("h3",{className:"text-xl font-bold text-white",children:s("admin.cars.carAddedSuccess")}),i.jsx("p",{className:"text-gray-300",children:s("admin.cars.carAddedDescription")}),i.jsxs("div",{className:"flex gap-4 justify-center pt-4",children:[i.jsx("button",{type:"button",onClick:n,className:"px-6 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-lg transition-all",children:s("admin.cars.close")}),i.jsxs("button",{type:"button",onClick:z,className:"px-6 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 hover:text-red-200 font-semibold rounded-lg transition-all backdrop-blur-xl flex items-center gap-2",children:[s("admin.cars.continue"),i.jsx(ss,{className:"w-4 h-4"})]})]})]}):i.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[i.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[i.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[tt.createElement(L0,{className:"w-5 h-5"}),s("admin.cars.basicInfo")]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s("admin.cars.carName")," *"]}),i.jsx("input",{type:"text",value:l.name||"",onChange:T=>c(M=>{const I={...M};return I.name=T.target.value,I}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s("admin.cars.make")," *"]}),i.jsx("input",{type:"text",value:l.make||"",onChange:T=>c(M=>{const I={...M};return I.make=T.target.value,I}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s("admin.cars.model")," *"]}),i.jsx("input",{type:"text",value:l.model||"",onChange:T=>c(M=>{const I={...M};return I.model=T.target.value,I}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s("admin.cars.category")," *"]}),i.jsx("div",{className:"flex flex-row gap-4",children:["suv","sports","luxury"].map(T=>{const I=(Array.isArray(l.category)?l.category:l.category?[l.category]:[]).includes(T);return i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer group",children:[i.jsx("input",{type:"checkbox",checked:I,onChange:q=>{const H=Array.isArray(l.category)?l.category:l.category?[l.category]:[];q.target.checked?c(te=>({...te,category:[...H,T]})):c(te=>({...te,category:H.filter(O=>O!==T)}))},className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${I?"bg-red-500 border-red-500":"border-white/30 bg-white/5 group-hover:border-red-400"}`,children:I&&i.jsx(kl,{className:"w-3 h-3 text-white"})}),i.jsx("span",{className:"text-white",children:s(T==="suv"?"admin.cars.categorySuv":T==="sports"?"admin.cars.categorySports":"admin.cars.categoryLuxury")})]},T)})})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s("admin.cars.year")," *"]}),i.jsx("input",{type:"number",value:l.year||"",onChange:T=>c(M=>({...M,year:parseInt(T.target.value)})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s("admin.cars.seats")," *"]}),i.jsx("input",{type:"number",value:l.seats||"",onChange:T=>c(M=>({...M,seats:parseInt(T.target.value)})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s("admin.cars.transmission")," *"]}),i.jsxs("select",{value:l.transmission||l.transmission||"",onChange:T=>c(M=>({...M,transmission:T.target.value||null})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0,children:[i.jsx("option",{value:"",children:"Selecteaz transmisie"}),i.jsx("option",{value:"Automatic",children:"Automatic"}),i.jsx("option",{value:"Manual",children:"Manual"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s("admin.cars.fuelType")," *"]}),i.jsxs("select",{value:l.fuelType||l.fuel_type||"",onChange:T=>c(M=>({...M,fuelType:T.target.value||void 0,fuel_type:T.target.value||void 0})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0,children:[i.jsx("option",{value:"",children:"Selecteaz combustibil"}),i.jsx("option",{value:"petrol",children:"Benzina"}),i.jsx("option",{value:"diesel",children:"Diesel"}),i.jsx("option",{value:"hybrid",children:"Hybrid"}),i.jsx("option",{value:"electric",children:"Electric"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s("admin.cars.drivetrain")," *"]}),i.jsxs("select",{value:l.drivetrain||"",onChange:T=>c(M=>({...M,drivetrain:T.target.value||void 0})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0,children:[i.jsx("option",{value:"",children:"Selecteaz traciune"}),i.jsx("option",{value:"FWD",children:"FWD"}),i.jsx("option",{value:"RWD",children:"RWD"}),i.jsx("option",{value:"AWD",children:"AWD"})]})]})]})]})]}),i.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[i.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[i.jsx(ev,{className:"w-5 h-5"}),s("admin.cars.mainImage")]}),i.jsxs("div",{children:[i.jsxs("label",{className:"inline-block px-4 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-lg transition-all cursor-pointer flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed mb-2",children:[i.jsx(ev,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:s("admin.cars.uploadImage")}),i.jsx("input",{type:"file",accept:"image/*",onChange:T=>{var I;const M=(I=T.target.files)==null?void 0:I[0];M&&V(M)},className:"hidden",disabled:u})]}),!(v||l.image||l.image_url)&&i.jsxs("div",{className:"text-xs text-gray-400 mb-3 space-y-1",children:[i.jsx("p",{children:" Dimensiunea maxim: 5MB"}),i.jsx("p",{children:" Formate acceptate: PNG, JPG, WEBP"})]}),u&&i.jsx("p",{className:"text-xs text-gray-400 mb-2",children:s("admin.cars.uploadingImage")}),v&&!u&&i.jsx("div",{className:"mt-2 inline-block",children:i.jsx("img",{src:URL.createObjectURL(v),alt:"Preview",className:"h-20 object-contain rounded-lg border border-white/10"})}),(l.image||l.image_url)&&!v&&i.jsx("div",{className:"mt-2 inline-block",children:i.jsx("img",{src:l.image||l.image_url||"",alt:"Preview",className:"h-20 object-contain rounded-lg border border-white/10"})})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:justify-end pt-4 border-t border-white/10",children:[i.jsx("button",{type:"button",onClick:n,className:"px-6 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-lg transition-all text-center",children:s("admin.cars.cancel")}),i.jsx("button",{type:"submit",disabled:y,className:"px-6 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 hover:text-red-200 font-semibold rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:y?i.jsxs(i.Fragment,{children:[i.jsx(Qa,{className:"w-4 h-4 animate-spin"}),s("admin.cars.saving")]}):i.jsxs(i.Fragment,{children:[i.jsx(Bh,{className:"w-4 h-4"}),s("admin.cars.addCar")]})})]})]})]})}),document.body)},JA=e=>e?(Array.isArray(e)?e:[e]).map(a=>{switch(a.toLowerCase()){case"suv":return"SUV";case"sports":return"Sport";case"luxury":return"Lux";default:return a}}).join(", "):"",Lge=()=>{const{t:e}=mr(),[r,n]=yu(),a=r.get("carId"),[s,o]=N.useState(""),[l,c]=N.useState("lastEdited"),[u,d]=N.useState("desc"),[f,p]=N.useState(!1),[x,g]=N.useState(null),[y,w]=N.useState([]),[v,S]=N.useState(new Set),[k,j]=N.useState(!0),[C,z]=N.useState(null),[$,F]=N.useState(new Map),[V,B]=N.useState(new Set),{showSuccess:K,showError:T}=Sd();N.useEffect(()=>{(async()=>{try{j(!0);const L=await xo();try{const{supabase:X}=await Ns(async()=>{const{supabase:Z}=await Promise.resolve().then(()=>Nh);return{supabase:Z}},void 0),{data:D}=await X.from("Rentals").select("car_id").eq("rental_status","ACTIVE");if(D){const Z=new Set(D.map(ae=>typeof ae.car_id=="number"?ae.car_id:parseInt(ae.car_id.toString(),10)));B(Z)}}catch(X){console.error("Error fetching active rentals:",X)}const R=await Promise.all(L.map(async X=>{var Z;let D=X.name;(!D||D.trim()==="")&&(D=`${X.make} ${X.model}`),D.toLowerCase().includes("q7")||(Z=X.model)!=null&&Z.toLowerCase().includes("q7");try{const{mainImage:ae,photoGallery:le}=await ia(D),Q={...X,image_url:ae||X.image_url,photo_gallery:le.length>0?le:X.photo_gallery};return D.toLowerCase().includes("q7"),Q}catch(ae){console.warn(`[Admin] Failed to fetch images for car "${D}":`,ae);const le={...X,image_url:X.image_url,photo_gallery:X.photo_gallery};return D.toLowerCase().includes("q7"),le}})),G=R.find(X=>{var D,Z;return((D=X.name)==null?void 0:D.toLowerCase().includes("q7"))||((Z=X.model)==null?void 0:Z.toLowerCase().includes("q7"))});w(R)}catch(L){console.error("Error loading cars:",L)}finally{j(!1)}})()},[]);const M=P=>{var G;if(V.has(parseInt(P.id,10)))return 2;const R=(((G=P.status)==null?void 0:G.trim())||"").toLowerCase();return R==="ascuns"||R==="hidden"||R==="booked"||R==="borrowed"?2:R==="maintenance"?1:0},I=N.useMemo(()=>{let P=y.filter(L=>{var Z;return(((Z=L.status)==null?void 0:Z.trim())||"").toLowerCase()==="deleted"?!1:((L==null?void 0:L.name)||`${L.make||""} ${L.model||""}`.trim()||"").toLowerCase().includes(s.toLowerCase())});return P.sort((L,R)=>{if(l==="price"){const G=L.price_2_4_days||L.price_5_15_days||L.price_16_30_days||L.price_over_30_days||0,X=R.price_2_4_days||R.price_5_15_days||R.price_16_30_days||R.price_over_30_days||0,D=G-X;return u==="asc"?D:-D}else if(l==="year"){const G=L.year-R.year;return u==="asc"?G:-G}else if(l==="status"){const G=M(L),X=M(R),D=G-X;return u==="asc"?D:-D}else if(l==="lastEdited"){const G=L.updated_at?new Date(L.updated_at).getTime():0,X=R.updated_at?new Date(R.updated_at).getTime():0,D=G-X;return u==="asc"?D:-D}else{const G=L.updated_at?new Date(L.updated_at).getTime():0;return(R.updated_at?new Date(R.updated_at).getTime():0)-G}}),P},[y,s,l,u]),q=P=>{l===P?d(L=>L==="asc"?"desc":"asc"):(c(P),d(P==="lastEdited"?"desc":"asc"))},H=()=>{g(null),p(!0)},te=P=>{g(P),n({section:"cars",carId:P.id.toString()})},O=async P=>{if(window.confirm(e("admin.cars.confirmDeleteCar")))try{const L=y.find(G=>parseInt(G.id,10)===P);if(!L)throw new Error("Car not found");try{const{supabase:G}=await Ns(async()=>{const{supabase:ve}=await Promise.resolve().then(()=>Nh);return{supabase:ve}},void 0),X=L.name||`${L.make} ${L.model}`,D=ve=>ve.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),Z=ve=>{const ue=ve.trim().split(/\s+/);return ue.length<2?"car":ue.slice(1).join("-").toLowerCase().replace(/[^a-z0-9-]+/g,"-")},ae=D(X),le=Z(X),oe=[`${ae}/${le}-main.jpg`,`${ae}/${le}-gallery-1.jpg`,`${ae}/${le}-gallery-2.jpg`,`${ae}/${le}-gallery-3.jpg`,`${ae}/${le}-gallery-4.jpg`,`${ae}/${le}-gallery-5.jpg`].map(ve=>G.storage.from("cars").remove([ve]).catch(ue=>null));await Promise.all(oe)}catch(G){console.warn("Storage cleanup failed, but continuing with car deletion:",G)}await V1(P,{status:"deleted"});const R=await xo();w(R),K(e("admin.cars.carDeleted"))}catch(L){console.error("Error deleting car:",L),T(e("admin.cars.carDeleteError"))}},re=async(P,L)=>{var le;if(L.stopPropagation(),V.has(parseInt(P.id,10))){T(e("admin.cars.cannotToggleRentedCar")||"Nu poi schimba statusul unei maini care are nchirieri active!");return}const G=(((le=P.status)==null?void 0:le.trim())||"").toLowerCase(),X=G==="ascuns"||G==="hidden",D=X?"available":"ascuns",Z=X?e("admin.cars.statusAvailable"):"Ascuns",ae=P.name||`${P.make} ${P.model}`;if(window.confirm(`${e("admin.cars.confirmToggleStatus")} ${ae} ${e("admin.cars.toStatus")} ${Z}?`)){F(Q=>new Map(Q).set(parseInt(P.id,10),D)),z(parseInt(P.id,10)),await new Promise(Q=>setTimeout(Q,500)),w(Q=>Q.map(oe=>oe.id===P.id?{...oe,status:D}:oe));try{await V1(parseInt(P.id,10),{status:D}),F(Q=>{const oe=new Map(Q);return oe.delete(parseInt(P.id,10)),oe}),z(null),K(e("admin.cars.statusUpdated"))}catch(Q){console.error("Error updating car status:",Q),F(oe=>{const ve=new Map(oe);return ve.delete(parseInt(P.id,10)),ve}),z(null),T(e("admin.cars.statusUpdateError"))}}},Y=async P=>{var L,R;try{if(x){const G={...P,name:P.name,image_url:P.image||P.image_url,photo_gallery:P.photoGallery||P.photo_gallery,price_2_4_days:P.price_2_4_days,price_5_15_days:P.price_5_15_days,price_16_30_days:P.price_16_30_days,price_over_30_days:P.price_over_30_days,discount_percentage:P.discountPercentage!==void 0?P.discountPercentage:P.discount_percentage,fuel_type:P.fuelType||P.fuel_type,transmission:P.transmission,drivetrain:P.drivetrain},X=await V1(parseInt(x.id,10),G);X&&(w(D=>D.map(Z=>Z.id===x.id?X:Z)),p(!1),g(null))}else{const G=P.make||((L=P.name)==null?void 0:L.split(" ")[0])||"",X=P.model||((R=P.name)==null?void 0:R.split(" ").slice(1).join(" "))||"";if(!G||!X)throw new Error("Make and Model are required fields");const D=await KY({...P,name:P.name,make:G,model:X,image_url:P.image||P.image_url,photo_gallery:P.photoGallery||P.photo_gallery,fuel_type:P.fuelType||P.fuel_type,transmission:P.transmission,drivetrain:P.drivetrain,status:"available"});if(D)return w(Z=>[...Z,D]),parseInt(D.id,10)}}catch(G){throw console.error("Error saving car:",G),G}};if(N.useEffect(()=>{if(a){const P=y.find(L=>L.id.toString()===a);P&&(!x||x.id!==P.id)&&g(P)}else x&&g(null)},[a,y]),N.useEffect(()=>{const P=f||x!==null,L=R=>{if(P)return R.preventDefault(),R.returnValue="",""};return P&&window.addEventListener("beforeunload",L),()=>{window.removeEventListener("beforeunload",L)}},[f,x]),a){const P=y.find(L=>L.id.toString()===a);if(P)return i.jsx(Age,{car:P,onSave:async L=>{try{await Y(L);const R=await xo();w(R)}catch{}},onCancel:()=>n({section:"cars"})});k||n({section:"cars"})}return k?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(Qa,{className:"w-8 h-8 animate-spin text-white"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"px-3 md:px-6 py-3 md:py-4 border-b border-white/10",children:i.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3 md:gap-4",children:[i.jsx("div",{children:i.jsx("h2",{className:"text-lg md:text-xl font-bold text-white",children:e("admin.cars.allCars")})}),i.jsxs("button",{onClick:H,className:"px-3 md:px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 font-semibold rounded-lg hover:border-red-500/60 transition-all text-xs md:text-sm whitespace-nowrap flex items-center justify-center gap-2 w-full sm:w-auto",children:[i.jsx(Ny,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),e("admin.cars.addNew")]})]}),i.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3 md:gap-4",children:[i.jsx("div",{className:"w-full md:flex-1 md:max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx(pc,{className:"absolute left-2.5 md:left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-3.5 h-3.5 md:w-4 md:h-4"}),i.jsx("input",{type:"text",placeholder:e("admin.placeholders.searchCars"),value:s,onChange:P=>o(P.target.value),className:"w-full pl-9 md:pl-10 pr-3 md:pr-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/50 text-white text-xs md:text-sm placeholder-gray-400"})]})}),i.jsxs("div",{className:"w-full md:w-auto flex flex-col md:flex-row items-stretch md:items-center gap-2",children:[i.jsx("span",{className:"hidden md:inline text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.cars.sortBy")}),i.jsx("span",{className:"md:hidden text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:e("admin.cars.sortBy")}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs("button",{onClick:()=>q("price"),className:`flex items-center gap-1 px-2.5 md:px-3 py-1.5 text-xs font-semibold rounded-lg border transition-all flex-1 sm:flex-initial min-w-0 ${l==="price"?"bg-red-500/20 text-red-300 border-red-500/50":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:[i.jsx("span",{className:"truncate",children:e("admin.cars.price")}),l==="price"&&(u==="asc"?i.jsx(ws,{className:"w-3 h-3 flex-shrink-0"}):i.jsx(ys,{className:"w-3 h-3 flex-shrink-0"})),l!=="price"&&i.jsx(bs,{className:"w-3 h-3 opacity-50 flex-shrink-0"})]}),i.jsxs("button",{onClick:()=>q("year"),className:`flex items-center gap-1 px-2.5 md:px-3 py-1.5 text-xs font-semibold rounded-lg border transition-all flex-1 sm:flex-initial min-w-0 ${l==="year"?"bg-red-500/20 text-red-300 border-red-500/50":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:[i.jsx("span",{className:"truncate",children:e("admin.cars.year")}),l==="year"&&(u==="asc"?i.jsx(ws,{className:"w-3 h-3 flex-shrink-0"}):i.jsx(ys,{className:"w-3 h-3 flex-shrink-0"})),l!=="year"&&i.jsx(bs,{className:"w-3 h-3 opacity-50 flex-shrink-0"})]}),i.jsxs("button",{onClick:()=>q("status"),className:`flex items-center gap-1 px-2.5 md:px-3 py-1.5 text-xs font-semibold rounded-lg border transition-all flex-1 sm:flex-initial min-w-0 ${l==="status"?"bg-red-500/20 text-red-300 border-red-500/50":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:[i.jsx("span",{className:"truncate",children:e("admin.cars.status")}),l==="status"&&(u==="asc"?i.jsx(ws,{className:"w-3 h-3 flex-shrink-0"}):i.jsx(ys,{className:"w-3 h-3 flex-shrink-0"})),l!=="status"&&i.jsx(bs,{className:"w-3 h-3 opacity-50 flex-shrink-0"})]}),l&&i.jsx("button",{onClick:()=>{c(null),d("asc")},className:"px-2.5 md:px-3 py-1.5 text-xs font-semibold text-gray-400 hover:text-white transition-colors whitespace-nowrap",children:e("admin.cars.clearSort")})]})]})]})]})}),I.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"block md:hidden p-4 space-y-4",children:I.map(P=>{var Q,oe;const L=$.get(parseInt(P.id,10))||((Q=P.status)==null?void 0:Q.trim())||"",G=(((oe=P.status)==null?void 0:oe.trim())||"").toLowerCase()||"available",X=L.toLowerCase()||"available",D=V.has(parseInt(P.id,10)),ae=!(D||X==="booked"||X==="borrowed")&&(X==="ascuns"||X==="hidden"),le=G==="maintenance";return i.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:bg-white/10 transition cursor-pointer",onClick:()=>te(P),children:[i.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[i.jsx("img",{src:P.image||P.image_url||"",alt:P.name||`${P.make} ${P.model}`,className:"w-16 h-16 object-cover rounded-md border border-white/10 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[i.jsx("h3",{className:"text-white font-semibold text-sm truncate flex-1",children:P.name||`${P.make} ${P.model}`}),!le&&(D?i.jsx("span",{className:"px-2 py-1 text-xs font-semibold bg-red-500/20 text-red-300 border border-red-500/50 rounded-full",children:e("admin.cars.statusBooked")}):i.jsx("div",{className:"flex-shrink-0",onClick:ve=>re(P,ve),children:i.jsx("button",{type:"button",disabled:C===parseInt(P.id,10),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white ${C===parseInt(P.id,10)?"opacity-50 cursor-wait":""} ${ae?"bg-red-500":"bg-emerald-500"}`,role:"switch","aria-checked":ae,"aria-label":ae?"Ascuns":e("admin.cars.statusAvailable"),children:i.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform duration-500 ${ae?"translate-x-5":"translate-x-0.5"}`})})}))]}),i.jsxs("p",{className:"text-gray-400 text-xs mb-2",children:[P.body,"  ",P.seats," ",e("admin.cars.seats")]}),le&&i.jsx("span",{className:"inline-block px-2.5 py-1 rounded-full text-xs font-semibold border backdrop-blur-xl bg-yellow-500/20 text-yellow-300 border-yellow-500/50",children:e("admin.cars.statusMaintenance")})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3 pb-3 border-b border-white/10",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-400 text-xs mb-1",children:e("admin.cars.category")}),i.jsx("p",{className:"text-white text-sm font-medium",children:JA(P.category)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-400 text-xs mb-1",children:e("admin.cars.year")}),i.jsx("p",{className:"text-white text-sm font-medium",children:P.year})]})]}),i.jsxs("div",{className:"mb-3 md:mb-3",children:[i.jsxs("button",{onClick:ve=>{ve.stopPropagation();const ue=parseInt(P.id,10);S(ge=>{const ie=new Set(ge);return ie.has(ue)?ie.delete(ue):ie.add(ue),ie})},className:"w-full flex items-center justify-between mb-2 md:mb-2 hover:bg-white/5 rounded-lg p-2 -ml-2 md:ml-0 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[v.has(parseInt(P.id,10))?i.jsx(by,{className:"w-4 h-4 text-gray-400"}):i.jsx(p5,{className:"w-4 h-4 text-gray-400"}),i.jsx("p",{className:"text-gray-400 text-xs font-medium",children:e("admin.cars.priceRanges")})]}),P.discount_percentage&&P.discount_percentage>0&&i.jsxs("span",{className:"px-2 py-0.5 text-xs font-semibold bg-red-500/20 text-red-300 border border-red-500/30 rounded-full",children:["-",P.discount_percentage,"% OFF"]})]}),i.jsxs("div",{className:`space-y-1 overflow-hidden transition-all duration-300 md:block ${v.has(parseInt(P.id,10))?"max-h-[500px] opacity-100":"max-h-0 opacity-0 md:max-h-[500px] md:opacity-100"}`,children:[(P.price_2_4_days||0)>0&&i.jsx("div",{className:"bg-white/5 border border-white/10 rounded p-1.5",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-gray-300 text-xs",children:"2-4 zile"}),i.jsxs("div",{className:"flex items-center gap-2",children:[P.discount_percentage&&P.discount_percentage>0&&i.jsxs("span",{className:"text-gray-500 text-xs line-through",children:[P.price_2_4_days," MDL"]}),i.jsxs("span",{className:"text-white font-semibold text-xs",children:[P.discount_percentage&&P.discount_percentage>0?Math.round((P.price_2_4_days||0)*(1-P.discount_percentage/100)):P.price_2_4_days," MDL"]})]})]})}),(P.price_5_15_days||0)>0&&i.jsx("div",{className:"bg-white/5 border border-white/10 rounded p-1.5",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-gray-300 text-xs",children:"5-15 zile"}),i.jsxs("div",{className:"flex items-center gap-2",children:[P.discount_percentage&&P.discount_percentage>0&&i.jsxs("span",{className:"text-gray-500 text-xs line-through",children:[P.price_5_15_days," MDL"]}),i.jsxs("span",{className:"text-white font-semibold text-xs",children:[P.discount_percentage&&P.discount_percentage>0?Math.round((P.price_5_15_days||0)*(1-P.discount_percentage/100)):P.price_5_15_days," MDL"]})]})]})}),(P.price_16_30_days||0)>0&&i.jsx("div",{className:"bg-white/5 border border-white/10 rounded p-1.5",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-gray-300 text-xs",children:"16-30 zile"}),i.jsxs("div",{className:"flex items-center gap-2",children:[P.discount_percentage&&P.discount_percentage>0&&i.jsxs("span",{className:"text-gray-500 text-xs line-through",children:[P.price_16_30_days," MDL"]}),i.jsxs("span",{className:"text-white font-semibold text-xs",children:[P.discount_percentage&&P.discount_percentage>0?Math.round((P.price_16_30_days||0)*(1-P.discount_percentage/100)):P.price_16_30_days," MDL"]})]})]})}),(P.price_over_30_days||0)>0&&i.jsx("div",{className:"bg-white/5 border border-white/10 rounded p-1.5",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-gray-300 text-xs",children:"30+ zile"}),i.jsxs("div",{className:"flex items-center gap-2",children:[P.discount_percentage&&P.discount_percentage>0&&i.jsxs("span",{className:"text-gray-500 text-xs line-through",children:[P.price_over_30_days," MDL"]}),i.jsxs("span",{className:"text-white font-semibold text-xs",children:[P.discount_percentage&&P.discount_percentage>0?Math.round((P.price_over_30_days||0)*(1-P.discount_percentage/100)):P.price_over_30_days," MDL"]})]})]})})]})]}),i.jsxs("div",{className:"flex items-center justify-start gap-1 pt-2",onClick:ve=>ve.stopPropagation(),children:[i.jsxs("button",{onClick:()=>te(P),className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-white hover:text-gray-300 bg-white/5 border border-white/10 rounded-lg hover:bg-white/10 transition-colors",title:e("admin.common.edit"),children:[i.jsx(XA,{className:"w-3.5 h-3.5"}),i.jsx("span",{children:e("admin.cars.edit")})]}),i.jsxs("button",{onClick:()=>O(parseInt(P.id,10)),className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-red-300 hover:text-red-200 bg-red-500/5 border border-red-500/20 rounded-lg hover:bg-red-500/10 transition-colors",title:e("admin.common.delete"),children:[i.jsx(Qx,{className:"w-3.5 h-3.5"}),i.jsx("span",{children:e("admin.cars.delete")})]})]})]},P.id)})}),i.jsx("div",{className:"hidden md:block overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-white/10",children:[i.jsx("thead",{className:"bg-white/5",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.requests.car")}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.cars.category")}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:i.jsxs("button",{onClick:()=>q("price"),className:"flex items-center gap-1.5 hover:text-white transition-colors",children:[e("admin.cars.priceRanges"),l==="price"?u==="asc"?i.jsx(ws,{className:"w-3 h-3"}):i.jsx(ys,{className:"w-3 h-3"}):i.jsx(bs,{className:"w-3 h-3 opacity-50"})]})}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:i.jsxs("button",{onClick:()=>q("year"),className:"flex items-center gap-1.5 hover:text-white transition-colors",children:[e("admin.cars.year"),l==="year"?u==="asc"?i.jsx(ws,{className:"w-3 h-3"}):i.jsx(ys,{className:"w-3 h-3"}):i.jsx(bs,{className:"w-3 h-3 opacity-50"})]})}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:i.jsxs("button",{onClick:()=>q("status"),className:"flex items-center gap-1.5 hover:text-white transition-colors",children:[e("admin.cars.status"),l==="status"?u==="asc"?i.jsx(ws,{className:"w-3 h-3"}):i.jsx(ys,{className:"w-3 h-3"}):i.jsx(bs,{className:"w-3 h-3 opacity-50"})]})}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.cars.actions")})]})}),i.jsx("tbody",{className:"divide-y divide-white/10",children:I.map(P=>{var Q,oe;const L=$.get(parseInt(P.id,10))||((Q=P.status)==null?void 0:Q.trim())||"",G=(((oe=P.status)==null?void 0:oe.trim())||"").toLowerCase()||"available",X=L.toLowerCase()||"available",D=V.has(parseInt(P.id,10)),ae=!(D||X==="booked"||X==="borrowed")&&(X==="ascuns"||X==="hidden"),le=G==="maintenance";return i.jsxs("tr",{className:"hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>te(P),children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:P.image||P.image_url||"",alt:P.name||`${P.make} ${P.model}`,className:"w-12 h-12 object-cover rounded-md border border-white/10"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white font-semibold",children:P.name||`${P.make} ${P.model}`}),i.jsxs("p",{className:"text-gray-400 text-xs",children:[P.body,"  ",P.seats," ",e("admin.cars.seats")]})]})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"px-2 py-1 text-xs font-semibold bg-white/10 text-gray-300 rounded capitalize",children:JA(P.category)})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-1",children:[(P.price_2_4_days||0)>0&&i.jsx("span",{className:"bg-white/5 border border-white/10 rounded px-2 py-1 text-white font-semibold text-xs",children:P.discount_percentage&&P.discount_percentage>0?Math.round((P.price_2_4_days||0)*(1-P.discount_percentage/100)):P.price_2_4_days}),(P.price_5_15_days||0)>0&&i.jsx("span",{className:"bg-white/5 border border-white/10 rounded px-2 py-1 text-white font-semibold text-xs",children:P.discount_percentage&&P.discount_percentage>0?Math.round((P.price_5_15_days||0)*(1-P.discount_percentage/100)):P.price_5_15_days}),(P.price_16_30_days||0)>0&&i.jsx("span",{className:"bg-white/5 border border-white/10 rounded px-2 py-1 text-white font-semibold text-xs",children:P.discount_percentage&&P.discount_percentage>0?Math.round((P.price_16_30_days||0)*(1-P.discount_percentage/100)):P.price_16_30_days}),(P.price_over_30_days||0)>0&&i.jsx("span",{className:"bg-white/5 border border-white/10 rounded px-2 py-1 text-white font-semibold text-xs",children:P.discount_percentage&&P.discount_percentage>0?Math.round((P.price_over_30_days||0)*(1-P.discount_percentage/100)):P.price_over_30_days})]})}),i.jsx("td",{className:"px-6 py-4 text-gray-300",children:P.year}),i.jsx("td",{className:"px-6 py-4",children:le?i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold border backdrop-blur-xl bg-yellow-500/20 text-yellow-300 border-yellow-500/50",children:e("admin.cars.statusMaintenance")}):D?i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold border backdrop-blur-xl bg-red-500/20 text-red-300 border-red-500/50",children:e("admin.cars.statusBooked")}):i.jsxs("div",{className:"flex items-center gap-2",onClick:ve=>re(P,ve),children:[i.jsx("button",{type:"button",disabled:C===parseInt(P.id,10),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white ${C===parseInt(P.id,10)?"opacity-50 cursor-wait":""} ${ae?"bg-red-500":"bg-emerald-500"}`,role:"switch","aria-checked":ae,"aria-label":ae?"Ascuns":e("admin.cars.statusAvailable"),children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-500 ${ae?"translate-x-6":"translate-x-1"}`})}),i.jsx("span",{className:"text-xs text-gray-400",children:ae?"Ascuns":e("admin.cars.statusAvailable")})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2",onClick:ve=>ve.stopPropagation(),children:[i.jsx("button",{onClick:()=>te(P),className:"p-2 text-white hover:text-gray-300 transition-colors",title:e("admin.common.edit"),children:i.jsx(XA,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>O(parseInt(P.id,10)),className:"p-2 text-red-300 hover:text-red-200 transition-colors",title:e("admin.common.delete"),children:i.jsx(Qx,{className:"w-4 h-4"})})]})})]},P.id)})})]})})]}):i.jsx("div",{className:"px-6 py-12 text-center text-gray-400",children:e("admin.cars.noCars")})]}),f&&i.jsx(Dge,{car:x,onSave:async P=>{try{const L=await Y(P),R=await xo();return w(R),L}catch(L){throw L}},onClose:()=>{p(!1),g(null)}})]})},ZA=[{code:"+373",flag:"",country:"Moldova"},{code:"+40",flag:"",country:"Romania"},{code:"+380",flag:"",country:"Ukraine"},{code:"+7",flag:"",country:"Russia"},{code:"+1",flag:"",country:"USA"},{code:"+44",flag:"",country:"UK"},{code:"+49",flag:"",country:"Germany"},{code:"+33",flag:"",country:"France"},{code:"+39",flag:"",country:"Italy"},{code:"+34",flag:"",country:"Spain"},{code:"+32",flag:"",country:"Belgium"},{code:"+31",flag:"",country:"Netherlands"},{code:"+41",flag:"",country:"Switzerland"},{code:"+43",flag:"",country:"Austria"},{code:"+48",flag:"",country:"Poland"},{code:"+420",flag:"",country:"Czech Republic"},{code:"+36",flag:"",country:"Hungary"},{code:"+359",flag:"",country:"Bulgaria"},{code:"+30",flag:"",country:"Greece"},{code:"+90",flag:"",country:"Turkey"}],Oge=({onSave:e,onClose:r,cars:n,initialCarId:a})=>{const{t:s}=mr(),o=new Date,l=new Date;l.setDate(o.getDate()+1);const c=a?n.find(xe=>xe.id.toString()===a):null,[u,d]=N.useState({customerName:"",customerFirstName:"",customerLastName:"",customerEmail:"",customerPhone:"",customerAge:"",carId:a||"",carName:c?(c==null?void 0:c.name)||`${c.make} ${c.model}`:"",startDate:o.toISOString().split("T")[0],startTime:"09:00",endDate:l.toISOString().split("T")[0],endTime:"17:00",status:"ACTIVE",amount:0,userId:"",firstName:"",lastName:"",age:"",comment:""}),[f,p]=N.useState(ZA[0]),[x,g]=N.useState(!1),[y,w]=N.useState(!1),[v,S]=N.useState(!1),[k,j]=N.useState(!1),[C,z]=N.useState(!1),[$,F]=N.useState({pickup:o,return:l}),[V,B]=N.useState(null),[K,T]=N.useState([]),[M,I]=N.useState([]),[q,H]=N.useState(!1),[te,O]=N.useState(!1),[re,Y]=N.useState(!1),[P,L]=N.useState(""),R=tt.useRef(null),G=tt.useRef(null),X=tt.useRef(null),D=tt.useRef(null),Z=xe=>{const Pe=new Date(xe),be=String(Pe.getDate()).padStart(2,"0"),Ae=String(Pe.getMonth()+1).padStart(2,"0"),Ie=Pe.getFullYear();return`${be}.${Ae}.${Ie}`},ae=xe=>{const Pe=xe.getFullYear(),be=xe.getMonth(),Ae=new Date(Pe,be,1),Ie=new Date(Ae);Ie.setDate(Ie.getDate()-Ae.getDay());const Ce=[],He=new Date(Ie);for(let Ve=0;Ve<42;Ve++)He.getMonth()===be?Ce.push(He.toISOString().split("T")[0]):Ce.push(null),He.setDate(He.getDate()+1);return Ce},le=xe=>{const Pe=xe.getFullYear(),be=String(xe.getMonth()+1).padStart(2,"0"),Ae=String(xe.getDate()).padStart(2,"0");return`${Pe}-${be}-${Ae}`},Q=xe=>{const Pe=[],be=xe!==void 0?xe:0;for(let Ae=be;Ae<24;Ae++)Pe.push(`${String(Ae).padStart(2,"0")}:00`);return Pe},oe=(xe,Pe)=>M.length===0?!1:M.some(be=>{if(!be.end_date||!be.end_time)return!1;const Ae=be.end_date.includes("T")?be.end_date.split("T")[0]:be.end_date.split(" ")[0],Ie=new Date(Ae),[Ce,He]=be.end_time.split(":").map(Number);Ie.setHours(Ce||17,He||0,0,0);const Ve=new Date(Ie);if(Ve.setHours(Ve.getHours()+12),Pe){const[at,Qe]=Pe.split(":").map(Number),ut=new Date(xe);return ut.setHours(at||0,Qe||0,0,0),ut>=Ie&&ut<Ve}else{const at=new Date(xe);at.setHours(0,0,0,0);const Qe=new Date(xe);return Qe.setHours(23,59,59,999),Ve>at&&Ie<Qe}}),ve=()=>{const xe=new Date;xe.setHours(0,0,0,0);let Pe=null;return K.forEach(be=>{if(!be.start_date)return;const Ae=be.start_date.includes("T")?be.start_date.split("T")[0]:be.start_date.split(" ")[0],Ie=new Date(Ae+"T00:00:00");Ie.setHours(0,0,0,0),Ie>xe&&(!Pe||Ie<Pe)&&(Pe=Ie)}),M.forEach(be=>{if(!be.start_date)return;const Ae=be.start_date.includes("T")?be.start_date.split("T")[0]:be.start_date.split(" ")[0],Ie=new Date(Ae+"T00:00:00");Ie.setHours(0,0,0,0),Ie>xe&&(!Pe||Ie<Pe)&&(Pe=Ie)}),Pe?le(Pe):null},ue=xe=>{const Pe=xe.split("T")[0],be=new Date(Pe+"T00:00:00");be.setHours(0,0,0,0);const Ae=new Date;return Ae.setHours(0,0,0,0),be<Ae?!1:oe(be)||K.length>0&&K.some(Ce=>{if(!Ce.start_date||!Ce.end_date)return!1;const He=Ce.start_date.includes("T")?Ce.start_date.split("T")[0]:Ce.start_date.split(" ")[0],Ve=new Date(He+"T00:00:00");Ve.setHours(0,0,0,0);const at=Ce.end_date.includes("T")?Ce.end_date.split("T")[0]:Ce.end_date.split(" ")[0],Qe=new Date(at+"T23:59:59");return Qe.setHours(23,59,59,999),Qe>=Ae&&be>=Ve&&be<=Qe})?!0:M.length>0?M.some(Ce=>{if(!Ce.start_date||!Ce.end_date)return!1;const He=Ce.start_date.includes("T")?Ce.start_date.split("T")[0]:Ce.start_date.split(" ")[0],Ve=new Date(He+"T00:00:00");Ve.setHours(0,0,0,0);const at=Ce.end_date.includes("T")?Ce.end_date.split("T")[0]:Ce.end_date.split(" ")[0],Qe=new Date(at+"T23:59:59");return Qe.setHours(23,59,59,999),Qe>=Ae&&be>=Ve&&be<=Qe}):!1},ge=xe=>{const Pe=ve();return Pe!==null&&xe>=Pe},ie=xe=>ue(xe)||ge(xe),se=(xe,Pe=!1)=>{const be=ae(xe),Ae=new Date;Ae.setHours(0,0,0,0);const Ie=be.filter(He=>He!==null);return Ie.every(He=>{const Ve=le(Ae),at=He<Ve,Qe=V?(()=>{const he=new Date;he.setHours(0,0,0,0);const pt=new Date(V);pt.setHours(0,0,0,0);const vt=new Date(He);return vt.setHours(0,0,0,0),pt<=he&&vt<pt})():!1,ut=ie(He),Ft=Pe&&u.startDate&&He<=u.startDate;return at||Qe||ut||Ft})&&Ie.length>0},[_e,Te]=N.useState({pickupAtAddress:!1,returnAtAddress:!1,unlimitedKm:!1,speedLimitIncrease:!1,personalDriver:!1,priorityService:!1,tireInsurance:!1,childSeat:!1,simCard:!1,roadsideAssistance:!1}),Xe=()=>{if(!u.startDate||!u.endDate||!u.carId)return 0;const xe=n.find(ur=>ur.id.toString()===u.carId);if(!xe)return 0;const Pe=new Date(u.startDate),be=new Date(u.endDate),Ae=u.startTime||"09:00",Ie=u.endTime||"17:00",[Ce,He]=Ae.split(":").map(Number),[Ve,at]=Ie.split(":").map(Number),Qe=new Date(Pe);Qe.setHours(Ce,He,0,0);const ut=new Date(be);ut.setHours(Ve,at,0,0);const Ft=ut.getTime()-Qe.getTime(),he=Math.floor(Ft/(1e3*60*60*24)),pt=Math.floor(Ft%(1e3*60*60*24)/(1e3*60*60)),vt=he,wt=pt>=0?pt:0,gt=vt,xt=vt+wt/24,rt=xe.pricePerDay||xe.price_per_day||0,It=xe.discount_percentage||xe.discount_percentage||0,Bt=It>0?rt*(1-It/100):rt;let zt=0;if(gt>=8?zt=Bt*.96*gt:gt>=4?zt=Bt*.98*gt:zt=Bt*gt,wt>0){const ur=wt/24*Bt;zt+=ur}let yt=0;const ht=Bt;return _e.unlimitedKm&&(yt+=ht*xt*.5),_e.speedLimitIncrease&&(yt+=ht*xt*.2),_e.tireInsurance&&(yt+=ht*xt*.2),_e.personalDriver&&(yt+=800*gt),_e.priorityService&&(yt+=1e3*gt),_e.childSeat&&(yt+=100*gt),_e.simCard&&(yt+=100*gt),_e.roadsideAssistance&&(yt+=500*gt),Math.round(zt+yt)};N.useEffect(()=>{const xe=Xe();d(Pe=>({...Pe,amount:xe}))},[u.startDate,u.endDate,u.startTime,u.endTime,u.carId,_e]),N.useEffect(()=>{const xe=Pe=>{Pe.target.closest(".country-code-dropdown-container")||g(!1),R.current&&!R.current.contains(Pe.target)&&w(!1),G.current&&!G.current.contains(Pe.target)&&S(!1),X.current&&!X.current.contains(Pe.target)&&j(!1),D.current&&!D.current.contains(Pe.target)&&z(!1)};return document.addEventListener("mousedown",xe),()=>{document.removeEventListener("mousedown",xe)}},[x]),N.useEffect(()=>{u.startDate&&F(xe=>({...xe,pickup:new Date(u.startDate||"")}))},[u.startDate]),N.useEffect(()=>{if(u.endDate)F(xe=>({...xe,return:new Date(u.endDate||"")}));else if(u.startDate){const xe=new Date(u.startDate);xe.setMonth(xe.getMonth()+1),F(Pe=>({...Pe,return:xe}))}},[u.endDate,u.startDate]),N.useEffect(()=>{u.startDate&&F(xe=>({...xe,pickup:new Date(u.startDate||"")}))},[u.startDate]),N.useEffect(()=>{if(u.endDate)F(xe=>({...xe,return:new Date(u.endDate||"")}));else if(u.startDate){const xe=new Date(u.startDate);F(Pe=>({...Pe,return:new Date(xe)}))}},[u.endDate,u.startDate]),N.useEffect(()=>{(async()=>{if(u.carId)try{const{fetchRentals:Pe}=await Ns(async()=>{const{fetchRentals:He}=await Promise.resolve().then(()=>My);return{fetchRentals:He}},void 0),be=await Pe(),Ae=new Date,Ie=parseInt(u.carId,10),Ce=be.filter(He=>{var Qe;const Ve=typeof He.car_id=="number"?He.car_id:parseInt(((Qe=He.car_id)==null?void 0:Qe.toString())||"0",10),at=He.status||He.rental_status||"";if(Ve!==Ie)return!1;if(at==="ACTIVE"||at==="CONTRACT")return!0;if(He.end_date){const ut=new Date(He.end_date);if(He.end_time){const[Ft,he]=He.end_time.split(":").map(Number);ut.setHours(Ft||17,he||0,0,0)}else ut.setHours(23,59,59,999);return ut>=Ae}return!1});I(Ce)}catch(Pe){console.error("Error fetching car availability:",Pe)}})()},[u.carId]),N.useEffect(()=>{(async()=>{if(u.carId)try{const Pe=parseInt(u.carId,10),be=await supabaseAdmin.from("Rentals").select("*").eq("car_id",Pe).order("created_at",{ascending:!1}),Ae=new Date,Ie=(be.data||[]).filter(he=>{if(!he.end_date)return!1;const pt=he.end_date.includes("T")?he.end_date.split("T")[0]:he.end_date.split(" ")[0],vt=new Date(pt);if(he.end_time){const[wt,gt]=he.end_time.split(":").map(Number);vt.setHours(wt||17,gt||0,0,0)}else vt.setHours(23,59,59,999);return vt>=Ae});let Ce=[];try{const he=await supabaseAdmin.from("BorrowRequest").select("*").eq("car_id",Pe).in("status",["APPROVED"]).order("requested_at",{ascending:!1});he.data&&he.data.length>0&&(Ce=he.data)}catch{}const He=Ie.map(he=>({id:he.id.toString(),user_id:he.user_id,car_id:he.car_id.toString(),start_date:he.start_date,start_time:he.start_time||"09:00:00",end_date:he.end_date,end_time:he.end_time||"17:00:00",status:"APPROVED",created_at:he.created_at,updated_at:he.updated_at})),Ve=Ce.map(he=>({id:he.id.toString(),user_id:he.user_id,car_id:he.car_id.toString(),start_date:he.start_date,start_time:he.start_time||"09:00:00",end_date:he.end_date,end_time:he.end_time||"17:00:00",status:"APPROVED",created_at:he.requested_at||he.created_at,updated_at:he.updated_at})),Qe=[...He,...Ve].filter(he=>he.start_date&&he.end_date);T(Qe);const ut=new Date;let Ft=null;if(Qe.length>0){const he=[...Qe].sort((pt,vt)=>{const wt=new Date(pt.start_date||0),gt=new Date(vt.start_date||0);return wt.getTime()-gt.getTime()});for(let pt=0;pt<he.length;pt++){const vt=he[pt];if(!vt.start_date||!vt.end_date)continue;const wt=vt.start_date.includes("T")?vt.start_date.split("T")[0]:vt.start_date.split(" ")[0],gt=new Date(wt);if(vt.start_time){const[Bt,zt]=vt.start_time.split(":").map(Number);gt.setHours(Bt||9,zt||0,0,0)}else gt.setHours(9,0,0,0);const xt=vt.end_date.includes("T")?vt.end_date.split("T")[0]:vt.end_date.split(" ")[0],rt=new Date(xt);if(vt.end_time){const[Bt,zt]=vt.end_time.split(":").map(Number);rt.setHours(Bt||17,zt||0,0,0)}else rt.setHours(17,0,0,0);if(rt.setHours(rt.getHours()+12),rt>ut)if(pt<he.length-1){const Bt=he[pt+1];if(Bt.start_date){const zt=Bt.start_date.includes("T")?Bt.start_date.split("T")[0]:Bt.start_date.split(" ")[0],yt=new Date(zt);if(Bt.start_time){const[Jt,Tr]=Bt.start_time.split(":").map(Number);yt.setHours(Jt||9,Tr||0,0,0)}else yt.setHours(9,0,0,0);if((yt.getTime()-rt.getTime())/(1e3*60*60*24)>=2){Ft=rt;break}}else{Ft=rt;break}}else{Ft=rt;break}}if(!Ft){let pt=null;for(let vt=0;vt<he.length;vt++){const wt=he[vt];if(!wt.end_date)continue;const gt=wt.end_date.includes("T")?wt.end_date.split("T")[0]:wt.end_date.split(" ")[0],xt=new Date(gt);if(wt.end_time){const[rt,It]=wt.end_time.split(":").map(Number);xt.setHours(rt||17,It||0,0,0)}else xt.setHours(17,0,0,0);if(xt.setHours(xt.getHours()+12),vt===0)pt=xt;else{const rt=he[vt-1];if(rt.end_date){const It=rt.end_date.includes("T")?rt.end_date.split("T")[0]:rt.end_date.split(" ")[0],Bt=new Date(It);if(rt.end_time){const[Jt,Tr]=rt.end_time.split(":").map(Number);Bt.setHours(Jt||17,Tr||0,0,0)}else Bt.setHours(17,0,0,0);Bt.setHours(Bt.getHours()+12);const zt=wt.start_date.includes("T")?wt.start_date.split("T")[0]:wt.start_date.split(" ")[0],yt=new Date(zt);if(wt.start_time){const[Jt,Tr]=wt.start_time.split(":").map(Number);yt.setHours(Jt||9,Tr||0,0,0)}else yt.setHours(9,0,0,0);const ht=yt.getTime()-Bt.getTime(),ur=24*60*60*1e3;if(ht>=0&&ht<=ur+36e5)pt=xt;else{if(pt&&pt>ut){Ft=pt;break}pt=xt}}}}pt&&pt>ut&&(Ft=pt)}}B(Ft)}catch(Pe){console.error("Error fetching approved borrow requests:",Pe)}})()},[u.carId]),N.useEffect(()=>{if(y&&!q){if(se($.pickup,!1)){const xe=new Date($.pickup);xe.setMonth(xe.getMonth()+1),F(Pe=>({...Pe,pickup:xe}))}H(!0)}else y||H(!1)},[y,$.pickup,V,K,q]),N.useEffect(()=>{if(v&&!te){if(se($.return,!0)){const xe=new Date($.return);xe.setMonth(xe.getMonth()+1),F(Pe=>({...Pe,return:xe}))}O(!0)}else v||O(!1)},[v,$.return,V,K,u.startDate,te]),N.useEffect(()=>{const xe=Pe=>{if(re)return;const be=Pe.target;be.closest("button[data-calendar-toggle]")||(y&&R.current&&!R.current.contains(be)&&w(!1),v&&G.current&&!G.current.contains(be)&&S(!1),k&&X.current&&!X.current.contains(be)&&j(!1),C&&D.current&&!D.current.contains(be)&&z(!1))};return document.addEventListener("mousedown",xe),document.addEventListener("touchstart",xe),()=>{document.removeEventListener("mousedown",xe),document.removeEventListener("touchstart",xe)}},[y,v,k,C,re]);const Me=xe=>{const Pe=n.find(be=>be.id.toString()===xe);d(be=>({...be,carId:xe,carName:(Pe==null?void 0:Pe.name)||""}))},Re=xe=>{if(xe.preventDefault(),!u.firstName||!u.lastName||!u.age||!u.customerPhone||!u.carId||!u.startDate||!u.endDate){alert(s("admin.requests.fillRequiredFields"));return}const Pe=`${u.firstName} ${u.lastName}`,be=`${f.code} ${u.customerPhone}`.trim(),Ae=Xe(),Ie={...u,customerName:Pe,customerFirstName:u.firstName,customerLastName:u.lastName,customerAge:u.age,customerPhone:be,options:_e,comment:u.comment||void 0,amount:Ae};e(Ie)};return ei.createPortal(i.jsx(De.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:1},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",onClick:r,style:{zIndex:1e4},children:i.jsxs(De.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2,ease:"easeOut"},onClick:xe=>xe.stopPropagation(),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 bg-white/10 backdrop-blur-xl border-b border-white/20 px-6 py-4 flex items-center justify-between z-10",style:{backgroundColor:"#1C1C1C"},children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:s("admin.requests.createNew")}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:i.jsx(kn,{className:"w-5 h-5 text-white"})})]}),i.jsxs("form",{onSubmit:Re,className:"p-6 space-y-6",children:[i.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Date de contact"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Prenume *"}),i.jsx("input",{type:"text",value:u.firstName||"",onChange:xe=>d(Pe=>({...Pe,firstName:xe.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nume *"}),i.jsx("input",{type:"text",value:u.lastName||"",onChange:xe=>d(Pe=>({...Pe,lastName:xe.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Vrst *"}),i.jsx("input",{type:"number",value:u.age||"",onChange:xe=>d(Pe=>({...Pe,age:xe.target.value})),min:"18",max:"100",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Telefon *"}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 z-[1] country-code-dropdown-container",children:[i.jsxs("button",{type:"button",onClick:()=>g(!x),className:"flex items-center gap-1.5 text-gray-300 hover:text-white text-sm font-medium px-2 py-1 rounded hover:bg-white/10 transition-colors",children:[i.jsx("span",{children:f.flag}),i.jsx("span",{children:f.code}),i.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),x&&i.jsx("div",{className:"absolute top-full left-0 mt-1 border border-white/20 rounded-lg shadow-lg max-h-60 overflow-y-auto z-[5] min-w-[200px]",style:{backgroundColor:"#343434"},children:ZA.map(xe=>i.jsxs("button",{type:"button",onClick:()=>{p(xe),g(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-white hover:bg-white/20 transition-colors",children:[i.jsx("span",{children:xe.flag}),i.jsx("span",{className:"flex-1 text-left",children:xe.country}),i.jsx("span",{className:"text-gray-400",children:xe.code})]},xe.code))})]}),i.jsx("input",{type:"tel",value:u.customerPhone||"",onChange:xe=>d(Pe=>({...Pe,customerPhone:xe.target.value})),placeholder:"000 00 000",className:"w-full pl-[100px] pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",required:!0})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"E-mail (opional)"}),i.jsx("input",{type:"email",value:u.customerEmail||"",onChange:xe=>d(Pe=>({...Pe,customerEmail:xe.target.value})),placeholder:s("admin.placeholders.email"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"}})]})]})]}),i.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Selectare automobil"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Automobil *"}),i.jsxs("select",{value:u.carId||"",onChange:xe=>Me(xe.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0,children:[i.jsx("option",{value:"",children:s("admin.requests.selectACar")}),n.map(xe=>{const Pe=xe.pricePerDay||xe.price_per_day||0,be=xe.discount_percentage||xe.discount_percentage||0,Ae=be>0?Pe*(1-be/100):Pe,Ie=(xe==null?void 0:xe.name)||`${xe.make||""} ${xe.model||""}`.trim()||"Car";return i.jsxs("option",{value:xe.id.toString(),children:[Ie," - ",Ae.toFixed(0)," MDL/zi",be>0?` (-${be}%)`:""]},xe.id)})]})]})]}),i.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Perioada nchirierii"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"relative",ref:R,children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Data prelurii *"}),i.jsxs("button",{type:"button",onClick:()=>{w(!y),S(!1),j(!1),z(!1)},className:`w-full flex items-center justify-start gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${u.startDate?"border-white/30 text-white hover:border-white/50 bg-white/5":"border-white/20 text-gray-400 hover:border-white/30 bg-white/5"}`,children:[i.jsx($n,{className:"w-4 h-4"}),i.jsx("span",{children:u.startDate?Z(u.startDate):"Data primirii"})]}),i.jsx(hr,{children:y&&i.jsxs(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-[#343434] border border-white/20 rounded-lg shadow-lg p-3 min-w-[280px]",onClick:xe=>xe.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("button",{type:"button",onClick:()=>{const xe=new Date($.pickup);xe.setMonth(xe.getMonth()-1),F(Pe=>({...Pe,pickup:xe}))},className:"p-1 hover:bg-white/10 rounded transition-colors",children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsx("div",{className:"text-sm font-medium text-white",children:$.pickup.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),i.jsx("button",{type:"button",onClick:()=>{const xe=new Date($.pickup);xe.setMonth(xe.getMonth()+1),F(Pe=>({...Pe,pickup:xe}))},className:"p-1 hover:bg-white/10 rounded transition-colors",children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),i.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Du","Lu","Ma","Mi","Jo","Vi","S"].map(xe=>i.jsx("div",{className:"text-gray-400 font-medium",children:xe},xe))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:ae($.pickup).map((xe,Pe)=>{if(!xe)return i.jsx("div",{},Pe);const be=new Date(xe),Ae=xe,Ie=new Date;Ie.setHours(0,0,0,0);const Ce=le(Ie),He=Ae<Ce,Ve=V?(()=>{const vt=new Date;vt.setHours(0,0,0,0);const wt=new Date(V);wt.setHours(0,0,0,0);const gt=new Date(Ae);return gt.setHours(0,0,0,0),wt<=vt&&gt<wt})():!1,at=ue(Ae),Qe=He||Ve||at,ut=Ae===u.startDate,Ft=u.endDate&&Ae===u.endDate,he=u.startDate&&u.endDate&&Ae>u.startDate&&Ae<u.endDate,pt=()=>"Aceast dat nu este disponibil.";return i.jsxs("div",{className:`w-8 h-8 flex items-center justify-center text-xs rounded transition-colors relative ${Qe?"text-gray-300 cursor-not-allowed":"text-white cursor-pointer"} ${ut||Ft?"bg-red-500 text-white hover:bg-red-600 font-medium":he?"bg-white/20 text-white hover:bg-white/30":Qe?"":"hover:bg-white/20"}`,onClick:()=>{if(Qe)alert(pt());else{const vt=u.startDate&&u.startDate!==xe;if(vt&&d(wt=>({...wt,endDate:"",startTime:"",endTime:""})),d(wt=>({...wt,startDate:xe})),!vt&&u.endDate&&xe>=u.endDate){const wt=new Date(u.endDate),gt=new Date(xe),xt=wt.getTime()-gt.getTime();Math.floor(xt/(1e3*60*60*24))<2&&d(It=>({...It,endDate:""}))}Y(!0),setTimeout(()=>{w(!1),Y(!1),u.startTime||j(!0)},300)}},title:Qe?pt():"",children:[i.jsx("span",{className:"relative z-0",children:be.getDate()}),at&&i.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-red-600 font-bold text-base z-10 pointer-events-none",style:{fontSize:"14px"},children:""})]},Pe)})})]})})]}),i.jsxs("div",{className:"relative",ref:X,children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ora prelurii *"}),i.jsxs("button",{type:"button",onClick:()=>{j(!k),z(!1),w(!1),S(!1)},className:`w-full flex items-center justify-start gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${u.startTime?"border-white/30 text-white hover:border-white/50 bg-white/5":"border-white/20 text-gray-400 hover:border-white/30 bg-white/5"}`,children:[i.jsx(Aa,{className:"w-4 h-4"}),i.jsx("span",{children:u.startTime||"__ : __"})]}),i.jsx(hr,{children:k&&i.jsx(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-[#343434] border border-white/20 rounded-lg shadow-lg p-3 max-h-[200px] overflow-y-auto min-w-[120px]",onClick:xe=>xe.stopPropagation(),children:i.jsx("div",{className:"flex flex-col gap-1",children:(()=>{let xe;if(u.startDate){const be=new Date;be.setHours(0,0,0,0);const Ae=le(be);if(u.startDate===Ae){let He=new Date().getHours()+2;He>=24&&(He=23),xe=He}else if(V){const Ie=V.toISOString().split("T")[0];if(u.startDate===Ie){const Ce=V.getHours();xe=V.getMinutes()>0?Ce+1:Ce}}}return Q(xe).filter(be=>{if(!u.startDate)return!0;const Ae=new Date(u.startDate);return!oe(Ae,be)}).map(be=>i.jsx("button",{type:"button",onClick:Ae=>{Ae.stopPropagation(),d(Ie=>({...Ie,startTime:be})),Y(!0),setTimeout(()=>{j(!1),Y(!1),u.endDate||S(!0)},300)},onMouseDown:Ae=>Ae.stopPropagation(),className:`w-full px-3 py-2 text-sm rounded transition-colors text-center ${u.startTime===be?"bg-red-500 text-white font-medium":"text-white hover:bg-white/20"}`,children:be},be))})()})})})]}),i.jsxs("div",{className:"relative",ref:G,children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Data returnrii *"}),i.jsxs("button",{type:"button",onClick:()=>{S(!v),w(!1),j(!1),z(!1)},className:`w-full flex items-center justify-start gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${u.endDate?"border-white/30 text-white hover:border-white/50 bg-white/5":"border-white/20 text-gray-400 hover:border-white/30 bg-white/5"}`,children:[i.jsx($n,{className:"w-4 h-4"}),i.jsx("span",{children:u.endDate?Z(u.endDate):"Data returnrii"})]}),i.jsx(hr,{children:v&&i.jsxs(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-[#343434] border border-white/20 rounded-lg shadow-lg p-3 min-w-[280px]",onClick:xe=>xe.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("button",{type:"button",onClick:()=>{const xe=new Date($.return);xe.setMonth(xe.getMonth()-1),F(Pe=>({...Pe,return:xe}))},className:"p-1 hover:bg-white/10 rounded transition-colors",children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsx("div",{className:"text-sm font-medium text-white",children:$.return.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),i.jsx("button",{type:"button",onClick:()=>{const xe=new Date($.return);xe.setMonth(xe.getMonth()+1),F(Pe=>({...Pe,return:xe}))},className:"p-1 hover:bg-white/10 rounded transition-colors",children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),i.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Du","Lu","Ma","Mi","Jo","Vi","S"].map(xe=>i.jsx("div",{className:"text-gray-400 font-medium",children:xe},xe))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:ae($.return).map((xe,Pe)=>{if(!xe)return i.jsx("div",{},Pe);const be=new Date(xe),Ae=xe,Ie=new Date;Ie.setHours(0,0,0,0);const Ce=le(Ie),He=Ae<Ce,Ve=V?(()=>{const xt=new Date;xt.setHours(0,0,0,0);const rt=new Date(V);rt.setHours(0,0,0,0);const It=new Date(Ae);return It.setHours(0,0,0,0),rt<=xt&&It<rt})():!1,at=u.startDate&&Ae<=u.startDate,Qe=u.startDate&&(()=>{const xt=new Date(u.startDate),It=new Date(Ae).getTime()-xt.getTime();return Math.floor(It/(1e3*60*60*24))<2})(),ut=ue(Ae),Ft=u.startDate?(()=>{const xt=ve();if(!xt)return!1;const rt=new Date(u.startDate);rt.setHours(0,0,0,0);const It=new Date(xt);It.setHours(0,0,0,0);const Bt=new Date(Ae);return Bt.setHours(0,0,0,0),rt>=It?!1:Bt>=It})():ge(Ae),he=He||Ve||at||ut||Ft,pt=Ae===u.endDate,vt=u.startDate&&Ae===u.startDate,wt=u.startDate&&u.endDate&&Ae>u.startDate&&Ae<u.endDate,gt=()=>{if(Ft){const xt=ve();if(xt)return`Nu putei selecta aceast dat. Maina este deja rezervat ncepnd cu ${new Date(xt).toLocaleDateString("ro-RO",{day:"numeric",month:"long",year:"numeric"})}.`}return"Aceast dat nu este disponibil."};return i.jsxs("div",{className:`w-8 h-8 flex items-center justify-center text-xs rounded transition-colors relative ${Qe?"text-black opacity-50 cursor-not-allowed":he?"text-gray-300 cursor-not-allowed":"text-white cursor-pointer"} ${pt||vt?"bg-red-500 text-white hover:bg-red-600 font-medium":wt?"bg-white/20 text-white hover:bg-white/30":!he&&!Qe?"hover:bg-white/20":""}`,onClick:()=>{if(Qe){L("Perioada minim de nchiriere este de 2 zile"),setTimeout(()=>L(""),3e3);return}he?alert(gt()):(d(xt=>({...xt,endDate:xe})),Y(!0),setTimeout(()=>{S(!1),Y(!1),u.endTime||z(!0)},300))},title:he?gt():"",children:[i.jsx("span",{className:"relative z-0",children:be.getDate()}),ut&&i.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-red-600 font-bold text-base z-10 pointer-events-none",style:{fontSize:"14px"},children:""})]},Pe)})}),P&&i.jsx("div",{className:"mt-3 px-2 py-1.5 bg-blue-50 rounded-xl border border-blue-100",children:i.jsx("p",{className:"text-xs text-blue-700",children:P})})]})})]}),i.jsxs("div",{className:"relative",ref:D,children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ora returnrii *"}),i.jsxs("button",{type:"button",onClick:()=>{z(!C),j(!1),w(!1),S(!1)},className:`w-full flex items-center justify-start gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${u.endTime?"border-white/30 text-white hover:border-white/50 bg-white/5":"border-white/20 text-gray-400 hover:border-white/30 bg-white/5"}`,children:[i.jsx(Aa,{className:"w-4 h-4"}),i.jsx("span",{children:u.endTime||"__ : __"})]}),i.jsx(hr,{children:C&&i.jsx(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-[#343434] border border-white/20 rounded-lg shadow-lg p-3 max-h-[200px] overflow-y-auto min-w-[120px]",onClick:xe=>xe.stopPropagation(),children:i.jsx("div",{className:"grid grid-cols-2 gap-1",children:Q().map(xe=>i.jsx("button",{type:"button",onClick:()=>{d(Pe=>({...Pe,endTime:xe})),z(!1)},className:`px-3 py-2 text-xs rounded transition-colors ${u.endTime===xe?"bg-red-500 text-white font-medium":"text-white hover:bg-white/20"}`,children:xe},xe))})})})]})]})]}),i.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Opiuni de nchiriere"}),i.jsxs("div",{className:"space-y-2 mb-5",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Preluarea i returnarea automobilului"}),i.jsx("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"checkbox",checked:_e.pickupAtAddress,onChange:xe=>Te(Pe=>({...Pe,pickupAtAddress:xe.target.checked})),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${_e.pickupAtAddress?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:_e.pickupAtAddress&&i.jsx(Check,{className:"w-3 h-3 text-white"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-white text-sm",children:"Preluarea la adres"}),i.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:"Cost separat"})]})]})}),i.jsx("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"checkbox",checked:_e.returnAtAddress,onChange:xe=>Te(Pe=>({...Pe,returnAtAddress:xe.target.checked})),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${_e.returnAtAddress?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:_e.returnAtAddress&&i.jsx(Check,{className:"w-3 h-3 text-white"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-white text-sm",children:"Returnarea la adres"}),i.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:"Cost separat"})]})]})})]}),i.jsxs("div",{className:"mb-5",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Limite"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"checkbox",checked:_e.unlimitedKm,onChange:xe=>Te(Pe=>({...Pe,unlimitedKm:xe.target.checked})),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${_e.unlimitedKm?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:_e.unlimitedKm&&i.jsx(Check,{className:"w-3 h-3 text-white"})}),i.jsx("span",{className:"font-medium text-white text-sm",children:"Kilometraj nelimitat"})]}),i.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-400/10 px-2 py-1 rounded",children:"+50%"})]}),i.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"checkbox",checked:_e.speedLimitIncrease,onChange:xe=>Te(Pe=>({...Pe,speedLimitIncrease:xe.target.checked})),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${_e.speedLimitIncrease?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:_e.speedLimitIncrease&&i.jsx(Check,{className:"w-3 h-3 text-white"})}),i.jsx("span",{className:"font-medium text-white text-sm",children:"Creterea limitei de vitez"})]}),i.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-400/10 px-2 py-1 rounded",children:"+20%"})]})]})]}),i.jsxs("div",{className:"mb-5",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Servicii VIP"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"checkbox",checked:_e.personalDriver,onChange:xe=>Te(Pe=>({...Pe,personalDriver:xe.target.checked})),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${_e.personalDriver?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:_e.personalDriver&&i.jsx(Check,{className:"w-3 h-3 text-white"})}),i.jsx("span",{className:"font-medium text-white text-sm",children:"ofer personal"})]}),i.jsx("span",{className:"text-xs font-bold text-gray-300 bg-white/5 px-2 py-1 rounded whitespace-nowrap",children:"800 MDL/zi"})]}),i.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"checkbox",checked:_e.priorityService,onChange:xe=>Te(Pe=>({...Pe,priorityService:xe.target.checked})),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${_e.priorityService?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:_e.priorityService&&i.jsx(Check,{className:"w-3 h-3 text-white"})}),i.jsx("span",{className:"font-medium text-white text-sm",children:"Priority Service"})]}),i.jsx("span",{className:"text-xs font-bold text-gray-300 bg-white/5 px-2 py-1 rounded whitespace-nowrap",children:"1 000 MDL/zi"})]})]})]}),i.jsxs("div",{className:"mb-5",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Asigurare"}),i.jsx("div",{className:"space-y-2",children:i.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"checkbox",checked:_e.tireInsurance,onChange:xe=>Te(Pe=>({...Pe,tireInsurance:xe.target.checked})),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${_e.tireInsurance?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:_e.tireInsurance&&i.jsx(Check,{className:"w-3 h-3 text-white"})}),i.jsx("span",{className:"font-medium text-white text-sm",children:"Asigurare anvelope & parbriz"})]}),i.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-400/10 px-2 py-1 rounded",children:"+20%"})]})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Suplimentar"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"checkbox",checked:_e.childSeat,onChange:xe=>Te(Pe=>({...Pe,childSeat:xe.target.checked})),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${_e.childSeat?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:_e.childSeat&&i.jsx(Check,{className:"w-3 h-3 text-white"})}),i.jsx("span",{className:"font-medium text-white text-sm",children:"Scaun auto pentru copii"})]}),i.jsx("span",{className:"text-xs font-bold text-gray-300 bg-white/5 px-2 py-1 rounded whitespace-nowrap",children:"100 MDL/zi"})]}),i.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"checkbox",checked:_e.simCard,onChange:xe=>Te(Pe=>({...Pe,simCard:xe.target.checked})),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${_e.simCard?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:_e.simCard&&i.jsx(Check,{className:"w-3 h-3 text-white"})}),i.jsx("span",{className:"font-medium text-white text-sm",children:"Cartel SIM cu internet"})]}),i.jsx("span",{className:"text-xs font-bold text-gray-300 bg-white/5 px-2 py-1 rounded whitespace-nowrap",children:"100 MDL/zi"})]}),i.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"checkbox",checked:_e.roadsideAssistance,onChange:xe=>Te(Pe=>({...Pe,roadsideAssistance:xe.target.checked})),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all flex items-center justify-center ${_e.roadsideAssistance?"bg-red-500 border-red-500":"border-white/30 bg-transparent group-hover:border-white/50"}`,children:_e.roadsideAssistance&&i.jsx(Check,{className:"w-3 h-3 text-white"})}),i.jsx("span",{className:"font-medium text-white text-sm",children:"Asisten rutier"})]}),i.jsx("span",{className:"text-xs font-bold text-gray-300 bg-white/5 px-2 py-1 rounded whitespace-nowrap",children:"500 MDL/zi"})]})]})]})]}),i.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Comentariu ",i.jsx("span",{className:"text-gray-400 font-normal",children:"(opional)"})]}),i.jsx("textarea",{value:u.comment||"",onChange:xe=>d(Pe=>({...Pe,comment:xe.target.value})),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 resize-none",placeholder:"Adugai un comentariu (opional)"})]}),i.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Detalii pre"}),i.jsx("div",{className:"space-y-3",children:u.carId&&(()=>{const xe=n.find(ur=>ur.id.toString()===u.carId);if(!xe)return null;const Pe=xe.pricePerDay||xe.price_per_day||0,be=xe.discount_percentage||xe.discount_percentage||0,Ae=be>0?Pe*(1-be/100):Pe,Ie=new Date(u.startDate||""),Ce=new Date(u.endDate||""),He=u.startTime||"09:00",Ve=u.endTime||"17:00",[at,Qe]=He.split(":").map(Number),[ut,Ft]=Ve.split(":").map(Number),he=new Date(Ie);he.setHours(at,Qe,0,0);const pt=new Date(Ce);pt.setHours(ut,Ft,0,0);const vt=pt.getTime()-he.getTime(),wt=Math.floor(vt/(1e3*60*60*24)),gt=Math.floor(vt%(1e3*60*60*24)/(1e3*60*60)),xt=wt,rt=gt>=0?gt:0,It=xt,Bt=xt+rt/24;let zt=Ae*It;if(rt>0){const ur=rt/24*Ae;zt+=ur}let yt=0;_e.unlimitedKm&&(yt+=Ae*It*.5),_e.tireInsurance&&(yt+=Ae*It*.2),_e.personalDriver&&(yt+=800*It),_e.priorityService&&(yt+=1e3*It),_e.childSeat&&(yt+=100*It),_e.simCard&&(yt+=100*It),_e.roadsideAssistance&&(yt+=500*It);const ht=zt+yt;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-300",children:"Pre pe zi"}),i.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[i.jsxs("span",{className:"text-white font-medium",children:[Ae.toFixed(0)," MDL"]}),be>0&&i.jsxs("span",{className:"text-gray-400 text-xs line-through",children:[Pe.toFixed(0)," MDL"]})]})]}),be>0&&i.jsxs("div",{className:"flex items-center justify-between text-sm text-emerald-400",children:[i.jsx("span",{children:"Reducere main"}),i.jsxs("span",{className:"font-medium",children:["-",be,"%"]})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-300",children:"Durat"}),i.jsxs("span",{className:"text-white font-medium",children:[It," ",It===1?"zi":"zile",rt>0?`, ${rt} ${rt===1?"or":"ore"}`:""]})]}),i.jsx("div",{className:"pt-2 border-t border-white/10",children:i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-white font-medium",children:"Pre de baz"}),i.jsxs("span",{className:"text-white font-medium",children:[Math.round(zt).toLocaleString()," MDL"]})]})}),yt>0&&i.jsx(i.Fragment,{children:i.jsxs("div",{className:"pt-3 border-t border-white/10",children:[i.jsx("h4",{className:"text-sm font-bold text-white mb-3",children:"Servicii suplimentare"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[_e.unlimitedKm&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Kilometraj nelimitat"}),i.jsxs("span",{className:"text-white font-medium",children:[Math.round(baseCarPrice*Bt*.5).toLocaleString()," MDL"]})]}),_e.speedLimitIncrease&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Creterea limitei de vitez"}),i.jsxs("span",{className:"text-white font-medium",children:[Math.round(baseCarPrice*Bt*.2).toLocaleString()," MDL"]})]}),_e.tireInsurance&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Asigurare anvelope & parbriz"}),i.jsxs("span",{className:"text-white font-medium",children:[Math.round(baseCarPrice*Bt*.2).toLocaleString()," MDL"]})]}),_e.personalDriver&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"ofer personal"}),i.jsxs("span",{className:"text-white font-medium",children:[800*It," MDL"]})]}),_e.priorityService&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Serviciu prioritar"}),i.jsxs("span",{className:"text-white font-medium",children:[1e3*It," MDL"]})]}),_e.childSeat&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Scaun auto pentru copii"}),i.jsxs("span",{className:"text-white font-medium",children:[100*It," MDL"]})]}),_e.simCard&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Cartel SIM cu internet"}),i.jsxs("span",{className:"text-white font-medium",children:[100*It," MDL"]})]}),_e.roadsideAssistance&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Asisten rutier"}),i.jsxs("span",{className:"text-white font-medium",children:[500*It," MDL"]})]}),i.jsx("div",{className:"pt-2 border-t border-white/10",children:i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{className:"text-white",children:"Total servicii"}),i.jsxs("span",{className:"text-white",children:[Math.round(yt).toLocaleString()," MDL"]})]})})]})]})}),i.jsxs("div",{className:"pt-3 border-t border-white/10 flex items-center justify-between",children:[i.jsx("span",{className:"text-white font-bold text-lg",children:"Total"}),i.jsxs("span",{className:"text-white font-bold text-xl",children:[Math.round(ht).toLocaleString()," MDL"]})]})]})})()})]}),i.jsxs("div",{className:"flex gap-4 justify-end pt-4 border-t border-white/10",children:[i.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-lg transition-all",children:s("admin.common.cancel")}),i.jsxs("button",{type:"submit",className:"px-6 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 hover:text-red-200 font-semibold rounded-lg transition-all backdrop-blur-xl flex items-center gap-2",children:[i.jsx(Bh,{className:"w-4 h-4"}),s("admin.requests.createRental")]})]})]})]})}),document.body)},QA=e=>{if(!e)return"";const r=typeof e=="string"?new Date(e):e;if(isNaN(r.getTime()))return"";const n=r.getHours().toString().padStart(2,"0"),a=r.getMinutes().toString().padStart(2,"0");return`${n}:${a}`},D9=({isOpen:e,request:r,onSave:n,onClose:a})=>{const s=T=>{if(!T)return"";try{const M=typeof T=="string"?new Date(T):T;if(isNaN(M.getTime()))return"";const I=M.getFullYear(),q=String(M.getMonth()+1).padStart(2,"0"),H=String(M.getDate()).padStart(2,"0");return`${I}-${q}-${H}`}catch{return""}},[o,l]=N.useState({start_date:s(r.start_date),start_time:QA(r.start_time),end_date:s(r.end_date),end_time:QA(r.end_time),total_amount:r.total_amount||0,comment:r.comment||""}),c=T=>{const M={unlimitedKm:!1,personalDriver:!1,priorityService:!1,childSeat:!1,simCard:!1,roadsideAssistance:!1,airportDelivery:!1};if(!T)return M;try{const I=typeof T=="string"?JSON.parse(T):T;return{...M,...I}}catch{return M}},[u,d]=N.useState(c(r.options)),[f,p]=N.useState(!1),[x,g]=N.useState(!1),[y,w]=N.useState(!1),[v,S]=N.useState(()=>{const T=r.start_date?new Date(r.start_date):new Date,M=r.end_date?new Date(r.end_date):new Date;return{start:T,end:M}}),[k,j]=N.useState(null),C=N.useRef(null),z=N.useRef(null);N.useEffect(()=>{l({start_date:s(r.start_date),start_time:r.start_time||"09:00",end_date:s(r.end_date),end_time:r.end_time||"17:00",total_amount:r.total_amount||0,comment:r.comment||""}),d(c(r.options));const T=r.start_date?new Date(r.start_date):new Date,M=r.end_date?new Date(r.end_date):new Date;S({start:T,end:M})},[r]),N.useEffect(()=>{if(!o.start_date||!o.end_date||!r.car){j(null);return}const T=MN(r.car,{...r,start_date:o.start_date,end_date:o.end_date,start_time:o.start_time,end_time:o.end_time},u);T?(j(T),l(M=>({...M,total_amount:T.totalPrice}))):j(null)},[o.start_date,o.end_date,o.start_time,o.end_time,u,r.price_per_day]),N.useEffect(()=>{const T=M=>{x&&C.current&&!C.current.contains(M.target)&&g(!1),y&&z.current&&!z.current.contains(M.target)&&w(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[x,y]);const $=(T,M)=>{d(I=>({...I,[T]:M}))},F=T=>{const M=T.getFullYear(),I=T.getMonth(),q=new Date(M,I,1),H=new Date(q);H.setDate(H.getDate()-q.getDay());const te=[],O=new Date(H);for(let re=0;re<42;re++)O.getMonth()===I?te.push(O.toISOString().split("T")[0]):te.push(null),O.setDate(O.getDate()+1);return te},V=(T,M)=>{M?(o.start_date&&o.start_date!==T&&o.end_date&&T>=o.end_date?l(q=>({...q,start_date:T,end_date:""})):l(q=>({...q,start_date:T})),setIsClosingWithDelay(!0),setTimeout(()=>{g(!1),setIsClosingWithDelay(!1)},300)):(l(I=>({...I,end_date:T})),setIsClosingWithDelay(!0),setTimeout(()=>{w(!1),setIsClosingWithDelay(!1)},300))},B=(T,M)=>{let I=M;T==="comment"&&I.length>1e3&&(I=I.substring(0,1e3)),l(q=>({...q,[T]:I}))},K=async()=>{p(!0);try{const T={...r,customer_first_name:r.customer_first_name,customer_last_name:r.customer_last_name,customer_name:r.customer_name,customer_email:r.customer_email,customer_phone:r.customer_phone,start_date:o.start_date,start_time:o.start_time,end_date:o.end_date,end_time:o.end_time,total_amount:o.total_amount,comment:o.comment||void 0,options:u};await n(T)}catch(T){console.error("Error saving request:",T)}finally{p(!1)}};return e?ei.createPortal(i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",style:{zIndex:1e4},onClick:a,children:i.jsxs("div",{onClick:T=>T.stopPropagation(),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto mx-2 sm:mx-4",children:[i.jsxs("div",{className:"sticky top-0 border-b border-white/20 px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between z-10",style:{backgroundColor:"#1C1C1C"},children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Editeaz Cererea"}),i.jsx("p",{className:"text-gray-400 text-xs sm:text-sm mt-1",children:"Modific detaliile cererii de nchiriere"})]}),i.jsx("button",{onClick:a,className:"p-2 hover:bg-white/10 rounded-lg transition-colors flex-shrink-0",children:i.jsx(kn,{className:"w-5 h-5 text-white"})})]}),i.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4 flex items-center gap-2",children:[i.jsx($n,{className:"w-4 h-4 sm:w-5 sm:h-5"}),i.jsx("span",{className:"text-sm sm:text-base",children:"Perioada nchirierii"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[i.jsxs("div",{className:"relative",ref:C,children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Data nceput *"}),i.jsxs("button",{type:"button",onClick:()=>g(!x),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/50 flex items-center justify-between hover:bg-white/10 transition-colors",children:[i.jsx("span",{children:o.start_date?new Date(o.start_date).toLocaleDateString("ro-RO"):"Selecteaz data"}),i.jsx($n,{className:"w-4 h-4 text-gray-400"})]}),x&&i.jsxs("div",{className:"absolute z-50 top-full left-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-3 w-full min-w-[280px]",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("button",{onClick:()=>{const T=new Date(v.start);T.setMonth(T.getMonth()-1),S(M=>({...M,start:T}))},className:"p-1 hover:bg-gray-100 rounded transition-colors",children:i.jsx(R4,{className:"w-4 h-4 text-gray-600"})}),i.jsx("div",{className:"text-sm font-medium text-gray-700",children:v.start.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),i.jsx("button",{onClick:()=>{const T=new Date(v.start);T.setMonth(T.getMonth()+1),S(M=>({...M,start:T}))},className:"p-1 hover:bg-gray-100 rounded transition-colors",children:i.jsx(p5,{className:"w-4 h-4 text-gray-600"})})]}),i.jsx("div",{className:"mb-3 px-2 py-1.5 bg-gray-50 rounded-xl border border-gray-100",children:i.jsx("p",{className:"text-xs text-gray-600",children:o.start_date?"Clic pentru a schimba data de nceput":"Selecteaz data de nceput"})}),i.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Du","Lu","Ma","Mi","Jo","Vi","S"].map(T=>i.jsx("div",{className:"text-gray-500 font-medium",children:T},T))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:F(v.start).map((T,M)=>{if(!T)return i.jsx("div",{},M);const I=new Date(T),q=T===o.start_date,H=T===o.end_date,te=o.start_date&&o.end_date&&T>o.start_date&&T<o.end_date;return i.jsx("div",{className:`w-8 h-8 flex items-center justify-center text-xs rounded transition-colors cursor-pointer relative ${q||H?"bg-red-500 text-white hover:bg-red-600 font-medium":te?"bg-gray-100 text-gray-900 hover:bg-gray-200":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>V(T,!0),children:i.jsx("span",{className:"relative z-0",children:I.getDate()})},M)})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Ora nceput"}),i.jsx("input",{type:"time",value:o.start_time,onChange:T=>B("start_time",T.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/50"})]}),i.jsxs("div",{className:"relative",ref:z,children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Data Sfrit *"}),i.jsxs("button",{type:"button",onClick:()=>w(!y),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/50 flex items-center justify-between hover:bg-white/10 transition-colors",children:[i.jsx("span",{children:o.end_date?new Date(o.end_date).toLocaleDateString("ro-RO"):"Selecteaz data"}),i.jsx($n,{className:"w-4 h-4 text-gray-400"})]}),y&&i.jsxs("div",{className:"absolute z-50 top-full left-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-3 w-full min-w-[280px]",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("button",{onClick:()=>{const T=new Date(v.end);T.setMonth(T.getMonth()-1),S(M=>({...M,end:T}))},className:"p-1 hover:bg-gray-100 rounded transition-colors",children:i.jsx(R4,{className:"w-4 h-4 text-gray-600"})}),i.jsx("div",{className:"text-sm font-medium text-gray-700",children:v.end.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),i.jsx("button",{onClick:()=>{const T=new Date(v.end);T.setMonth(T.getMonth()+1),S(M=>({...M,end:T}))},className:"p-1 hover:bg-gray-100 rounded transition-colors",children:i.jsx(p5,{className:"w-4 h-4 text-gray-600"})})]}),i.jsx("div",{className:"mb-3 px-2 py-1.5 bg-gray-50 rounded-xl border border-gray-100",children:i.jsx("p",{className:"text-xs text-gray-600",children:o.end_date?"Clic pentru a schimba data de sfrit":"Selecteaz data de sfrit"})}),i.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Du","Lu","Ma","Mi","Jo","Vi","S"].map(T=>i.jsx("div",{className:"text-gray-500 font-medium",children:T},T))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:F(v.end).map((T,M)=>{if(!T)return i.jsx("div",{},M);const I=new Date(T),q=T===o.end_date,H=T===o.start_date,te=o.start_date&&T<o.start_date,O=o.start_date&&o.end_date&&T>o.start_date&&T<o.end_date;return i.jsx("div",{className:`w-8 h-8 flex items-center justify-center text-xs rounded transition-colors relative ${te?"text-gray-300 cursor-not-allowed":q||H?"bg-red-500 text-white hover:bg-red-600 font-medium cursor-pointer":O?"bg-gray-100 text-gray-900 hover:bg-gray-200 cursor-pointer":"text-gray-700 hover:bg-gray-100 cursor-pointer"}`,onClick:()=>!te&&V(T,!1),children:i.jsx("span",{className:"relative z-0",children:I.getDate()})},M)})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Ora Sfrit"}),i.jsx("input",{type:"time",value:o.end_time,onChange:T=>B("end_time",T.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/50"})]})]})]}),i.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4 flex items-center gap-2",children:i.jsx("span",{className:"text-sm sm:text-base",children:"Servicii Adiionale"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all duration-200 group",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("input",{type:"checkbox",checked:u.unlimitedKm,onChange:T=>$("unlimitedKm",T.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${u.unlimitedKm?"bg-red-500 border-red-500":"border-white/30 bg-white/5 hover:border-red-400"}`,children:i.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${u.unlimitedKm?"opacity-100":"opacity-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),i.jsx("span",{className:"text-white text-xs sm:text-sm",children:"Kilometraj nelimitat"})]}),i.jsx("span",{className:"text-xs sm:text-sm font-semibold text-emerald-400",children:"+50%"})]}),i.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all duration-200 group",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("input",{type:"checkbox",checked:u.personalDriver,onChange:T=>$("personalDriver",T.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${u.personalDriver?"bg-red-500 border-red-500":"border-white/30 bg-white/5 hover:border-red-400"}`,children:i.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${u.personalDriver?"opacity-100":"opacity-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),i.jsx("span",{className:"text-white text-xs sm:text-sm",children:"ofer personal"})]}),i.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-300",children:"800 MDL/zi"})]}),i.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all duration-200 group",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("input",{type:"checkbox",checked:u.priorityService,onChange:T=>$("priorityService",T.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${u.priorityService?"bg-red-500 border-red-500":"border-white/30 bg-white/5 hover:border-red-400"}`,children:i.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${u.priorityService?"opacity-100":"opacity-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),i.jsx("span",{className:"text-white text-xs sm:text-sm",children:"Priority Service"})]}),i.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-300",children:"1000 MDL/zi"})]}),i.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all duration-200 group",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("input",{type:"checkbox",checked:u.childSeat,onChange:T=>$("childSeat",T.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${u.childSeat?"bg-red-500 border-red-500":"border-white/30 bg-white/5 hover:border-red-400"}`,children:i.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${u.childSeat?"opacity-100":"opacity-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),i.jsx("span",{className:"text-white text-xs sm:text-sm",children:"Scaun auto pentru copii"})]}),i.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-300",children:"100 MDL/zi"})]}),i.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all duration-200 group",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("input",{type:"checkbox",checked:u.simCard,onChange:T=>$("simCard",T.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${u.simCard?"bg-red-500 border-red-500":"border-white/30 bg-white/5 hover:border-red-400"}`,children:i.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${u.simCard?"opacity-100":"opacity-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),i.jsx("span",{className:"text-white text-xs sm:text-sm",children:"Cartel SIM cu internet"})]}),i.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-300",children:"100 MDL/zi"})]}),i.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all duration-200 group",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("input",{type:"checkbox",checked:u.roadsideAssistance,onChange:T=>$("roadsideAssistance",T.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded transition-all duration-200 flex items-center justify-center ${u.roadsideAssistance?"bg-red-500 border-red-500":"border-white/30 bg-white/5 hover:border-red-400"}`,children:i.jsx("svg",{className:`w-3 h-3 text-white transition-opacity duration-200 ${u.roadsideAssistance?"opacity-100":"opacity-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),i.jsx("span",{className:"text-white text-xs sm:text-sm",children:"Asisten rutier 24/7"})]}),i.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-300",children:"500 MDL/zi"})]})]})]}),i.jsx("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:i.jsx("div",{className:"space-y-3 sm:space-y-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2",children:"Comentariu"}),i.jsx("textarea",{value:o.comment,onChange:T=>B("comment",T.target.value),className:"w-full px-3 sm:px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 resize-none",placeholder:"Comentariu suplimentar...",rows:3,maxLength:1e3}),i.jsxs("p",{className:"mt-1 text-[10px] sm:text-xs text-gray-400",children:[o.comment.length,"/1000 caractere"]})]})})}),k&&i.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4 flex items-center gap-2",children:[i.jsx(wy,{className:"w-4 h-4 sm:w-5 sm:h-5"}),i.jsx("span",{className:"text-sm sm:text-base",children:"Detalii Pre"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-300 text-xs sm:text-sm",children:"Pre pe zi"}),i.jsxs("span",{className:"text-white font-semibold text-sm sm:text-base",children:[Math.round(k.pricePerDay)," MDL"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-300 text-xs sm:text-sm",children:"Durat nchiriere"}),i.jsxs("span",{className:"text-white font-semibold text-sm sm:text-base",children:[k.rentalDays," zile",k.rentalHours>0?`, ${k.rentalHours} ore`:""]})]}),i.jsx("div",{className:"pt-2 border-t border-white/10",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-white font-medium text-sm sm:text-base",children:"Pre de baz"}),i.jsxs("span",{className:"text-white font-semibold text-sm sm:text-base",children:[Math.round(k.basePrice).toLocaleString()," MDL"]})]})}),k.additionalCosts>0&&i.jsxs("div",{className:"pt-3 border-t border-white/10",children:[i.jsx("h4",{className:"text-sm font-bold text-white mb-3",children:"Servicii Adiionale"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[u.unlimitedKm&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Kilometraj nelimitat"}),i.jsxs("span",{className:"text-white font-medium",children:[Math.round(k.baseCarPrice*(k.totalHours/24)*.5).toLocaleString()," MDL"]})]}),u.personalDriver&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"ofer personal"}),i.jsxs("span",{className:"text-white font-medium",children:[Math.round(800*(k.totalHours/24)).toLocaleString()," MDL"]})]}),u.priorityService&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Priority Service"}),i.jsxs("span",{className:"text-white font-medium",children:[Math.round(1e3*(k.totalHours/24)).toLocaleString()," MDL"]})]}),u.childSeat&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Scaun auto pentru copii"}),i.jsxs("span",{className:"text-white font-medium",children:[Math.round(100*(k.totalHours/24)).toLocaleString()," MDL"]})]}),u.simCard&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Cartel SIM cu internet"}),i.jsxs("span",{className:"text-white font-medium",children:[Math.round(100*(k.totalHours/24)).toLocaleString()," MDL"]})]}),u.roadsideAssistance&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Asisten rutier 24/7"}),i.jsxs("span",{className:"text-white font-medium",children:[Math.round(500*(k.totalHours/24)).toLocaleString()," MDL"]})]}),i.jsxs("div",{className:"flex justify-between pt-2 border-t border-white/10",children:[i.jsx("span",{className:"text-white font-medium",children:"Costuri suplimentare"}),i.jsxs("span",{className:"text-white font-semibold",children:[Math.round(k.additionalCosts).toLocaleString()," MDL"]})]})]})]}),i.jsx("div",{className:"pt-3 border-t border-white/20",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-white font-bold text-base",children:"Total"}),i.jsxs("span",{className:"text-emerald-400 font-bold text-lg",children:[Math.round(k.totalPrice).toLocaleString()," MDL"]})]})})]})]})]}),i.jsxs("div",{className:"border-t border-white/20 px-4 sm:px-6 py-3 sm:py-4 flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-2 sm:gap-3 bg-white/5 backdrop-blur-sm",style:{backgroundColor:"#1C1C1C"},children:[i.jsx("button",{onClick:a,disabled:f,className:"px-3 sm:px-4 md:px-6 py-2 bg-white/5 hover:bg-white/10 border border-white/10 text-white rounded-lg transition-all font-semibold text-xs sm:text-sm disabled:opacity-50",children:"Anuleaz"}),i.jsx("button",{onClick:K,disabled:f,className:"px-3 sm:px-4 md:px-6 py-2 bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/50 text-emerald-300 rounded-lg transition-all font-semibold flex items-center justify-center gap-1.5 sm:gap-2 text-xs sm:text-sm disabled:opacity-50",children:f?i.jsxs(i.Fragment,{children:[i.jsx(Qa,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 animate-spin"}),i.jsx("span",{children:"Se salveaz..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(Bh,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),i.jsx("span",{children:"Salveaz Modificrile"})]})})]})]})}),document.body):null},eD=e=>{const r=e.trim().split(" ");return r.length>=2?`${r[0][0]}${r[r.length-1][0]}`.toUpperCase():e.substring(0,2).toUpperCase()},Tge=()=>{const{t:e}=mr(),[r,n]=yu(),a=r.get("carId"),{showSuccess:s,showError:o}=Sd(),[l,c]=N.useState([]),[u,d]=N.useState(!1),[f]=N.useState([]),[p,x]=N.useState(!1),[g,y]=N.useState(void 0),[w,v]=N.useState(!1),[S,k]=N.useState(null),[j,C]=N.useState(1),[z,$]=N.useState(0),[F]=N.useState(5),[V,B]=N.useState(0),[K,T]=N.useState(null),[M,I]=N.useState("asc"),[q,H]=N.useState(null),[te,O]=N.useState(""),[re,Y]=N.useState(te);N.useEffect(()=>{const Z=setTimeout(()=>{Y(te),C(1)},400);return()=>clearTimeout(Z)},[te]),N.useEffect(()=>{if(a&&f.length>0){y(a),x(!0);const Z=new URLSearchParams(r);Z.delete("carId"),n(Z,{replace:!0})}},[a,f.length,r,n]),N.useEffect(()=>{C(1)},[re,q,K,M]),N.useEffect(()=>{P()},[j,re,q,K,M]);const P=async()=>{d(!0);try{const Z=L(),{data:ae,total:le}=await FT(j,F,Z),Q=Math.ceil(le/F);c(ae),$(le),B(Q)}catch(Z){console.error("Failed to load requests:",Z)}finally{d(!1)}},L=()=>{if(!(!re&&!K&&!q))return{searchQuery:re||void 0,sortBy:K||void 0,sortOrder:M==="asc",status:q||void 0}},R=Z=>{K===Z?I(ae=>ae==="asc"?"desc":"asc"):(T(Z),I("asc"))};function G(Z){const ae=Z.id||"";n({section:"requests",requestId:ae.toString()})}function X(){T(null),I("asc")}const D=Z=>{Z<1||Z>V||C(Z)};return i.jsxs(De.div,{initial:{opacity:1},animate:{opacity:1},transition:{duration:.4},className:"space-y-6",children:[i.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"px-3 md:px-6 py-3 md:py-4 border-b border-white/10",children:i.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3 md:gap-4",children:[i.jsx("div",{children:i.jsx("h2",{className:"text-lg md:text-xl font-bold text-white",children:e("admin.requests.rentalRequests")})}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 w-full sm:w-auto",children:[i.jsx("button",{onClick:()=>H(Z=>Z==="PENDING"?null:"PENDING"),className:`flex items-center justify-center gap-1.5 px-3 md:px-4 py-2 text-xs md:text-sm font-semibold rounded-lg border transition-all whitespace-nowrap ${q==="PENDING"?"bg-yellow-500/20 text-yellow-300 border-yellow-500/50 hover:bg-yellow-500/30 hover:border-yellow-500/60":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:e(q==="PENDING"?"admin.requests.hideInPending":"admin.requests.showInPending")}),i.jsx("button",{onClick:()=>H(Z=>Z==="REJECTED"?null:"REJECTED"),className:`flex items-center justify-center gap-1.5 px-3 md:px-4 py-2 text-xs md:text-sm font-semibold rounded-lg border transition-all whitespace-nowrap ${q==="REJECTED"?"bg-red-500/20 text-red-300 border-red-500/50 hover:bg-red-500/30 hover:border-red-500/60":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:e(q==="REJECTED"?"admin.requests.hideRejected":"admin.requests.showRejected")}),i.jsx("button",{onClick:()=>H(Z=>Z==="APPROVED"?null:"APPROVED"),className:`flex items-center justify-center gap-1.5 px-3 md:px-4 py-2 text-xs md:text-sm font-semibold rounded-lg border transition-all whitespace-nowrap ${q==="APPROVED"?"bg-green-500/20 text-green-300 border-green-500/50 hover:bg-green-500/30 hover:border-green-500/60":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:e(q==="APPROVED"?"admin.requests.hideApproved":"admin.requests.showApproved")}),i.jsx("button",{onClick:()=>H(Z=>Z==="PROCESSED"?null:"PROCESSED"),className:`flex items-center justify-center gap-1.5 px-3 md:px-4 py-2 text-xs md:text-sm font-semibold rounded-lg border transition-all whitespace-nowrap ${q==="PROCESSED"?"bg-blue-500/20 text-blue-300 border-blue-500/50 hover:bg-blue-500/30 hover:border-blue-500/60":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:e(q==="PROCESSED"?"admin.requests.hideProcessed":"admin.requests.showProcessed")}),i.jsxs("button",{onClick:()=>x(!0),className:"px-3 md:px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 font-semibold rounded-lg hover:border-red-500/60 transition-all text-xs md:text-sm whitespace-nowrap flex items-center justify-center gap-2",children:[i.jsx(Ny,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),e("admin.requests.createRequest")]})]})]}),i.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3 md:gap-4",children:[i.jsx("div",{className:"w-full md:flex-1 md:max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx(pc,{className:"absolute left-2.5 md:left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-3.5 h-3.5 md:w-4 md:h-4"}),i.jsx("input",{type:"text",placeholder:e("admin.placeholders.searchRequests"),value:te,onChange:Z=>O(Z.target.value),className:"w-full pl-9 md:pl-10 pr-3 md:pr-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/50 text-white text-xs md:text-sm placeholder-gray-400"})]})}),i.jsxs("div",{className:"w-full md:w-auto flex flex-col md:flex-row items-stretch md:items-center gap-2",children:[i.jsx("span",{className:"hidden md:inline text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.requests.sortBy")}),i.jsx("span",{className:"md:hidden text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:e("admin.requests.sortBy")}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs("button",{onClick:()=>R("start_date"),className:`flex items-center gap-1 px-2.5 md:px-3 py-1.5 text-xs font-semibold rounded-lg border transition-all flex-1 sm:flex-initial min-w-0 ${K==="start_date"?M==="asc"?"bg-green-500/20 text-green-300 border-green-500/50":"bg-red-500/20 text-red-300 border-red-500/50":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:[i.jsx("span",{className:"truncate",children:e("admin.requests.pickupDate")}),K==="start_date"&&(M==="asc"?i.jsx(ws,{className:"w-3 h-3 flex-shrink-0"}):i.jsx(ys,{className:"w-3 h-3 flex-shrink-0"})),K!=="start_date"&&i.jsx(bs,{className:"w-3 h-3 opacity-50 flex-shrink-0"})]}),i.jsxs("button",{onClick:()=>R("amount"),className:`flex items-center gap-1 px-2.5 md:px-3 py-1.5 text-xs font-semibold rounded-lg border transition-all flex-1 sm:flex-initial min-w-0 ${K==="amount"?M==="asc"?"bg-green-500/20 text-green-300 border-green-500/50":"bg-red-500/20 text-red-300 border-red-500/50":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white"}`,children:[i.jsx("span",{className:"truncate",children:e("admin.requests.amount")}),K==="amount"&&(M==="asc"?i.jsx(ws,{className:"w-3 h-3 flex-shrink-0"}):i.jsx(ys,{className:"w-3 h-3 flex-shrink-0"})),K!=="amount"&&i.jsx(bs,{className:"w-3 h-3 opacity-50 flex-shrink-0"})]}),i.jsx("button",{onClick:X,className:"px-2.5 md:px-3 py-1.5 text-xs font-semibold text-gray-400 hover:text-white transition-colors whitespace-nowrap",children:e("admin.requests.clearSort")})]})]})]})]})}),u?i.jsx("div",{className:"flex items-center justify-center py-20",children:i.jsx(Qa,{className:"w-8 h-8 animate-spin text-white/50"})}):l.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"block md:hidden p-4 space-y-4",children:l.map(Z=>i.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:bg-white/10 transition cursor-pointer",onClick:()=>{G(Z)},children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-sm flex-shrink-0 shadow-md",children:eD(Z.customer_first_name||"U")}),i.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[i.jsx("span",{className:"font-semibold text-white text-sm truncate",children:Z.customer_first_name+" "+Z.customer_last_name}),Z.customer_phone&&i.jsx("span",{className:"text-gray-400 text-xs truncate",children:Z.customer_phone})]})]}),i.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold border backdrop-blur-sm flex-shrink-0 ${Z.status==="PENDING"?"bg-yellow-500/20 text-yellow-300 border-yellow-500/50":Z.status==="APPROVED"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/50":Z.status==="PROCESSED"?"bg-blue-500/20 text-blue-300 border-blue-500/50":"bg-red-500/20 text-red-300 border-red-500/50"}`,children:Z.status==="PENDING"?e("admin.requests.pending"):Z.status==="APPROVED"?e("admin.requests.approved"):Z.status==="PROCESSED"?e("admin.requests.processed"):Z.status==="REJECTED"?e("admin.requests.rejected"):""})]}),i.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-white/10",children:[i.jsx("img",{src:Z.car.image_url||"",alt:Eh(Z.car),className:"w-12 h-12 object-cover rounded-md border border-white/10 flex-shrink-0"}),i.jsx("span",{className:"text-white font-medium text-sm flex-1",children:Eh(Z.car)})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-400 text-xs mb-1",children:e("admin.requests.pickup")}),i.jsx("p",{className:"text-white text-sm font-medium",children:Xa(Z.start_date,e("config.date"))}),i.jsx("p",{className:"text-gray-400 text-xs",children:wh(Z.start_time)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-400 text-xs mb-1",children:e("admin.requests.return")}),i.jsx("p",{className:"text-white text-sm font-medium",children:Xa(Z.end_date,e("config.date"))}),i.jsx("p",{className:"text-gray-400 text-xs",children:wh(Z.end_time)})]})]}),i.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[i.jsx("p",{className:"text-gray-400 text-xs mb-1",children:e("admin.requests.amount")}),i.jsx("p",{className:"text-white font-semibold text-base",children:Li(Z.total_amount)})]})]},Z.id))}),i.jsx("div",{className:"hidden md:block overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-white/10",children:[i.jsx("thead",{className:"bg-white/5",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.requests.customer")}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.requests.car")}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.requests.pickup")}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.requests.return")}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.requests.amount")}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e("admin.requests.status")})]})}),i.jsx("tbody",{className:"divide-y divide-white/10",children:l.map(Z=>{var ae;return i.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition cursor-pointer",onClick:()=>{G(Z)},children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-sm flex-shrink-0 shadow-md",children:eD(Z.customer_name||"U")}),i.jsxs("div",{className:"flex flex-col min-w-0",children:[i.jsx("span",{className:"font-semibold text-white text-sm truncate",children:Z.customer_name}),Z.customer_phone&&i.jsx("span",{className:"text-gray-400 text-xs truncate",children:Z.customer_phone})]})]})}),i.jsx("td",{className:"px-6 py-4",children:Z.car&&Z.car.image_url&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:Z.car.image_url,alt:(ae=Z.car)==null?void 0:ae.make,className:"w-10 h-10 object-cover rounded-md border border-white/10 flex-shrink-0"}),i.jsx("span",{className:"text-white font-medium text-sm",children:Eh(Z.car)})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-white text-sm font-medium",children:Xa(Z.start_date,e("config.date"))}),i.jsx("span",{className:"text-gray-400 text-xs",children:wh(Z.start_time)})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-white text-sm font-medium",children:Xa(Z.end_date,e("config.date"))}),i.jsx("span",{className:"text-gray-400 text-xs",children:wh(Z.end_time)})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"text-white font-semibold text-sm",children:Li(Z.total_amount)})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold border backdrop-blur-sm ${Z.status==="PENDING"?"bg-yellow-500/20 text-yellow-300 border-yellow-500/50":Z.status==="APPROVED"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/50":Z.status==="PROCESSED"?"bg-blue-500/20 text-blue-300 border-blue-500/50":"bg-red-500/20 text-red-300 border-red-500/50"}`,children:Z.status==="PENDING"?e("admin.requests.pending"):Z.status==="APPROVED"?e("admin.requests.approved"):Z.status==="PROCESSED"?e("admin.requests.processed"):Z.status==="REJECTED"?e("admin.requests.rejected"):""})})]},Z.id)})})]})})]}):i.jsx("div",{className:"px-6 py-12 text-center text-gray-400",children:e("admin.requests.noRequests")}),i.jsxs("div",{className:"px-3 md:px-6 py-3 md:py-4 border-t border-white/10 flex flex-col sm:flex-row items-center justify-between gap-3",children:[i.jsxs("div",{className:"text-xs md:text-sm text-gray-300 text-center sm:text-left",children:[e("admin.requests.showing")," ",l.length>0?(j-1)*F+1:0," ",e("admin.requests.to")," ",Math.min(j*F,z)," ",e("admin.requests.of")," ",z," ",e("admin.requests.requests")]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>D(j-1),disabled:j===1,className:"flex items-center gap-1.5 md:gap-2 px-2.5 md:px-3 py-1.5 md:py-2 rounded-lg border border-white/20 bg-white/10 backdrop-blur-xl text-white disabled:opacity-50 hover:bg-white/20 transition-all text-xs md:text-sm",children:[i.jsx(Il,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),i.jsx("span",{className:"hidden sm:inline",children:e("admin.requests.previous")})]}),i.jsxs("div",{className:"text-xs md:text-sm text-gray-300 px-2",children:[e("admin.requests.page")," ",j," ",e("admin.requests.ofPage")," ",V||1]}),i.jsxs("button",{onClick:()=>D(j+1),disabled:j===V||V===0,className:"flex items-center gap-1.5 md:gap-2 px-2.5 md:px-3 py-1.5 md:py-2 rounded-lg border border-white/20 bg-white/10 backdrop-blur-xl text-white disabled:opacity-50 hover:bg-white/20 transition-all text-xs md:text-sm",children:[i.jsx("span",{className:"hidden sm:inline",children:e("admin.requests.next")}),i.jsx(ss,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})]})]})]})]}),p&&i.jsx(Oge,{cars:f,initialCarId:g,onSave:async Z=>{try{const ae=await UY(Z.carId||"",Z.pickupDate||"",Z.pickupTime||"",Z.returnDate||"",Z.returnTime||"",Z.customerName||"",Z.customerFirstName||"",Z.customerLastName||"",Z.customerEmail||"",Z.customerPhone||"",Z.customerAge?String(Z.customerAge):void 0,Z.comment,Z.options,Z.amount);ae.success?(s("Request created successfully!"),x(!1),y(void 0),await P()):o(`Failed to create request: ${ae.error||"Unknown error"}`)}catch(ae){console.error("Error creating request:",ae),o("An error occurred while creating the request.")}},onClose:()=>{x(!1),y(void 0)}}),w&&S&&i.jsx(D9,{request:S,onSave:async Z=>{try{if(!(S!=null&&S.id)){console.error("Editing request has no ID");return}const ae=await Rf(S.id.toString(),Z);if(ae.success){if(Z.total_amount)try{const{data:le,error:Q}=await Rt.from("Rentals").select("id").eq("request_id",S.id).in("rental_status",["ACTIVE","COMPLETED"]).order("created_at",{ascending:!1}).limit(1).single();if(le&&!Q){const{error:oe}=await Rt.from("Rentals").update({total_amount:Z.total_amount}).eq("id",le.id);oe&&console.warn("Failed to update associated rental total_amount:",oe)}}catch(le){console.warn("Error updating associated rental:",le)}alert(e("admin.requests.requestUpdated")),v(!1),k(null),await P()}else alert(`${e("admin.requests.requestUpdateFailed")} ${ae.error}`)}catch(ae){console.error("Error updating request:",ae),alert(e("admin.requests.requestUpdateErrorOccurred"))}},onClose:()=>{v(!1),k(null)}})]})},Mge=e=>{if(!e)return[];let r={};if(e.options)if(typeof e.options=="string")try{r=JSON.parse(e.options)}catch{r={}}else r=e.options;const n=[];return r.pickupAtAddress&&n.push({label:"Preluarea la adres",price:"Cost separat",category:"pickup-return"}),r.returnAtAddress&&n.push({label:"Returnarea la adres",price:"Cost separat",category:"pickup-return"}),r.unlimitedKm&&n.push({label:"Kilometraj nelimitat",price:"+50%",category:"limits"}),r.speedLimitIncrease&&n.push({label:"Creterea limitei de vitez",price:"+20%",category:"limits"}),r.personalDriver&&n.push({label:"ofer personal",price:"800 MDL/zi",category:"vip"}),r.priorityService&&n.push({label:"Serviciu Prioritar",price:"1 000 MDL/zi",category:"vip"}),r.childSeat&&n.push({label:"Scaun auto pentru copii",price:"100 MDL/zi",category:"additional"}),r.simCard&&n.push({label:"Cartel SIM cu internet",price:"100 MDL/zi",category:"additional"}),r.roadsideAssistance&&n.push({label:"Asisten rutier",price:"500 MDL/zi",category:"additional"}),n},Ige=({request:e,onBack:r,onAccept:n,onReject:a,onUndoReject:s,onSetToPending:o,onEdit:l,onStartRental:c,onCreateContract:u,onEditContract:d,onDownloadContract:f,onOpenOrder:p,isProcessing:x=!1,rentalExists:g=!1})=>{var v,S;const y=e.car,{t:w}=mr();return i.jsxs(De.div,{initial:{opacity:1},animate:{opacity:1},transition:{duration:.4},className:"flex flex-col lg:grid lg:grid-cols-[1fr_360px] gap-8",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsx(De.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4},className:"flex justify-start",children:i.jsxs("button",{onClick:r,disabled:x,className:"bg-white/10 backdrop-blur-xl hover:bg-white/20 border border-white/20 hover:border-white/30 text-white font-semibold py-2 px-4 rounded-lg transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[i.jsx(Il,{className:"w-4 h-4"}),"napoi la Cereri"]})}),i.jsx(De.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white/10 backdrop-blur-xl border border-white/20 hover:border-red-500/50 rounded-xl p-6 transition-all shadow-lg",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("img",{src:y.image_url||"",alt:(y==null?void 0:y.name)||`${y.make||""} ${y.model||""}`.trim()||"Car",className:"w-32 h-20 object-cover rounded-lg border border-white/20"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:(y==null?void 0:y.name)||`${y.make||""} ${y.model||""}`.trim()||"Car"}),i.jsxs("div",{className:"text-sm text-gray-300",children:[y.transmission==="Automatic"?"Automat":y.transmission,"  ",y.seats," locuri"]})]})]})}),i.jsxs(De.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 space-y-6 shadow-lg",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Informaii Cerere"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-lg p-3 border border-white/10",children:[i.jsx($n,{className:"w-5 h-5 text-gray-300 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Preluare"}),i.jsx("span",{className:"text-white text-sm font-medium",children:Xa(e.start_date,w("config.date"))})]})]}),i.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-lg p-3 border border-white/10",children:[i.jsx(Aa,{className:"w-5 h-5 text-gray-300 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Ora"}),i.jsx("span",{className:"text-white text-sm font-medium",children:e.start_time?e.start_time.slice(0,5):"--:--"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-lg p-3 border border-white/10",children:[i.jsx($n,{className:"w-5 h-5 text-gray-300 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Returnare"}),i.jsx("span",{className:"text-white text-sm font-medium",children:Xa(e.end_date,w("config.date"))})]})]}),i.jsxs("div",{className:"flex items-center gap-3 bg-white/5 rounded-lg p-3 border border-white/10",children:[i.jsx(Aa,{className:"w-5 h-5 text-gray-300 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Ora"}),i.jsx("span",{className:"text-white text-sm font-medium",children:e.end_time?e.end_time.slice(0,5):"--:--"})]})]})]}),i.jsx("div",{className:"pt-4 border-t border-white/10 space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[i.jsx("h3",{className:"text-sm font-semibold text-white mb-2",children:"Perioada nchirierii"}),i.jsx("div",{className:"text-white font-bold text-lg",children:(()=>{const k=sm(e.start_date,e.start_time||"09:00",e.end_date,e.end_time||"09:00");return`${k.days} zile, ${k.hours} ore`})()})]}),i.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4 flex items-center gap-2",children:[i.jsx(wy,{className:"w-4 h-4 sm:w-5 sm:h-5"}),i.jsx("span",{className:"text-sm sm:text-base",children:"Detalii Pre"})]}),i.jsx("div",{className:"space-y-3",children:(()=>{sm(e.start_date,e.start_time||"09:00",e.end_date,e.end_time||"17:00");let k={};if(e.options)if(typeof e.options=="string")try{k=JSON.parse(e.options)}catch{k={}}else k=e.options;const j=MN(e.car,{...e,start_date:e.start_date,end_date:e.end_date,start_time:e.start_time,end_time:e.end_time},k);return j?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-300 text-xs sm:text-sm",children:"Pre pe zi"}),i.jsxs("span",{className:"text-white font-semibold text-sm sm:text-base",children:[Math.round(j.pricePerDay)," MDL"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-300 text-xs sm:text-sm",children:"Durat nchiriere"}),i.jsxs("span",{className:"text-white font-semibold text-sm sm:text-base",children:[j.rentalDays," zile",j.rentalHours>0?`, ${j.rentalHours} ore`:""]})]}),i.jsx("div",{className:"pt-2 border-t border-white/10",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-white font-medium text-sm sm:text-base",children:"Pre de baz"}),i.jsxs("span",{className:"text-white font-semibold text-sm sm:text-base",children:[Math.round(j.basePrice).toLocaleString()," MDL"]})]})}),j.additionalCosts>0&&i.jsxs("div",{className:"pt-3 border-t border-white/10",children:[i.jsx("h4",{className:"text-sm font-bold text-white mb-3",children:"Servicii Adiionale"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[k.unlimitedKm&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Kilometraj nelimitat"}),i.jsxs("span",{className:"text-white font-medium",children:[Math.round(j.baseCarPrice*(j.totalHours/24)*.5).toLocaleString()," MDL"]})]}),k.personalDriver&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"ofer personal"}),i.jsxs("span",{className:"text-white font-medium",children:[Math.round(800*(j.totalHours/24)).toLocaleString()," MDL"]})]}),k.priorityService&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Priority Service"}),i.jsxs("span",{className:"text-white font-medium",children:[Math.round(1e3*(j.totalHours/24)).toLocaleString()," MDL"]})]}),k.childSeat&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Scaun auto pentru copii"}),i.jsxs("span",{className:"text-white font-medium",children:[Math.round(100*(j.totalHours/24)).toLocaleString()," MDL"]})]}),k.simCard&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Cartel SIM cu internet"}),i.jsxs("span",{className:"text-white font-medium",children:[Math.round(100*(j.totalHours/24)).toLocaleString()," MDL"]})]}),k.roadsideAssistance&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Asisten rutier 24/7"}),i.jsxs("span",{className:"text-white font-medium",children:[Math.round(500*(j.totalHours/24)).toLocaleString()," MDL"]})]}),i.jsxs("div",{className:"flex justify-between pt-2 border-t border-white/10",children:[i.jsx("span",{className:"text-white font-medium",children:"Costuri suplimentare"}),i.jsxs("span",{className:"text-white font-semibold",children:[Math.round(j.additionalCosts).toLocaleString()," MDL"]})]})]})]}),i.jsx("div",{className:"pt-3 border-t border-white/20",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-white font-bold text-base",children:"Total"}),i.jsxs("span",{className:"text-emerald-400 font-bold text-lg",children:[Math.round(j.totalPrice).toLocaleString()," MDL"]})]})})]}):null})()})]})]})}),(()=>{const k=Mge(e);return k.length===0?null:i.jsxs("div",{className:"pt-4 border-t border-white/10",children:[i.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Servicii Solicitate"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:k.map((j,C)=>i.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-white text-sm font-medium",children:j.label}),i.jsx("span",{className:`text-xs px-2 py-1 rounded ${j.price.includes("+")?"bg-red-500/20 text-red-300":j.price==="Gratuit"?"bg-green-500/20 text-green-300":"bg-gray-500/20 text-gray-300"}`,children:j.price})]}),i.jsx("div",{className:"text-gray-400 text-xs mt-1 capitalize",children:j.category})]},C))})]})})()]}),i.jsxs(De.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg",children:[i.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Client"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-xl shadow-lg flex-shrink-0",children:((S=(v=e.customer_name)==null?void 0:v[0])==null?void 0:S.toUpperCase())||"C"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-white font-semibold",children:e.customer_name}),i.jsx("div",{className:"text-gray-300 text-sm",children:e.customer_email}),e.customer_phone&&i.jsx("a",{href:`tel:${e.customer_phone.replace(/\s/g,"")}`,className:"text-blue-400 hover:text-blue-300 transition-colors text-sm mt-1 inline-block underline decoration-blue-400/50 hover:decoration-blue-300",children:e.customer_phone})]})]})]}),e.contract_url&&i.jsxs(De.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg",children:[i.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Contract"}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 border border-white/10 rounded-lg",children:[i.jsx("div",{className:"bg-white rounded border border-gray-300 shadow-sm flex-shrink-0",style:{aspectRatio:"1 / 1.414",width:"60px"},children:i.jsxs("div",{className:"p-1 h-full flex flex-col",children:[i.jsxs("div",{className:"text-center mb-0.5",children:[i.jsx("div",{className:"w-3 h-0.5 bg-gray-400 rounded mx-auto mb-0.5"}),i.jsx("div",{className:"w-4 h-0.5 bg-gray-500 rounded mx-auto"})]}),i.jsxs("div",{className:"flex-1 space-y-0.5",children:[i.jsx("div",{className:"w-full h-0.5 bg-gray-200 rounded"}),i.jsx("div",{className:"w-4/5 h-0.5 bg-gray-200 rounded"}),i.jsx("div",{className:"w-3/4 h-0.5 bg-gray-200 rounded"}),i.jsx("div",{className:"w-5/6 h-0.5 bg-gray-200 rounded"})]}),i.jsx("div",{className:"mt-0.5 pt-0.5 border-t border-gray-300",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("div",{className:"w-1.5 h-0.5 bg-gray-400 rounded"}),i.jsx("div",{className:"w-1.5 h-0.5 bg-gray-400 rounded"})]})})]})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"mb-2",children:i.jsx("span",{className:"text-white font-medium text-sm",children:"Contract nchiriere Auto"})}),i.jsxs("div",{className:"text-xs text-gray-400 mb-3",children:["PDF  ",Xa(new Date,w("config.date"))]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>f==null?void 0:f(),className:"flex-1 bg-white/10 hover:bg-white/20 border border-white/20 hover:border-white/30 text-white hover:text-gray-200 font-medium py-2 px-3 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-1.5 text-xs",children:[i.jsx(vN,{className:"w-3 h-3"}),"Descarc"]}),i.jsxs("button",{onClick:()=>d==null?void 0:d(),className:"flex-1 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/50 hover:border-blue-500/60 text-blue-300 hover:text-blue-200 font-medium py-2 px-3 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-1.5 text-xs",children:[i.jsx(WH,{className:"w-3 h-3"}),"Editeaz"]})]})]})]})})]}),i.jsxs(De.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-6 shadow-lg",children:[i.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Status"}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[i.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-semibold border backdrop-blur-xl ${e.status==="PENDING"?"bg-yellow-500/20 text-yellow-300 border-yellow-500/50":e.status==="APPROVED"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/50":e.status==="PROCESSED"?"bg-blue-500/20 text-blue-300 border-blue-500/50":"bg-red-500/20 text-red-300 border-red-500/50"}`,children:e.status==="PENDING"?"n Ateptare":e.status==="APPROVED"?"Aprobat":e.status==="PROCESSED"?"Procesat":e.status==="REJECTED"?"Respins":""}),i.jsx("div",{className:"flex flex-col gap-1",children:e.requested_at&&i.jsxs("span",{className:"text-gray-400 text-sm",children:["Solicitat la ",(()=>{let k=new Date(e.requested_at);typeof e.requested_at=="string"&&!e.requested_at.includes("Z")&&!e.requested_at.includes("+")&&(k=new Date(e.requested_at+"Z"));const j=Xa(k,w("config.date")),C=k.toLocaleTimeString("ro-RO",{hour:"2-digit",minute:"2-digit",hour12:!1});return`${j} la ${C}`})()]})})]})]})]}),i.jsx("aside",{className:"lg:col-start-2",children:i.jsxs(De.div,{initial:{opacity:1,x:0},animate:{opacity:1,x:0},transition:{duration:.4},className:"sticky top-24 space-y-3",children:[e.status==="PENDING"&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>n(e),disabled:x,className:"w-full bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/50 hover:border-emerald-500/60 text-emerald-300 hover:text-emerald-200 font-semibold py-3 px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[x?i.jsx(gh,{className:"w-4 h-4 animate-spin"}):i.jsx(xd,{className:"w-4 h-4"}),"Accept Cererea"]}),i.jsxs("button",{onClick:()=>a(e),disabled:x,className:"w-full bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 hover:border-red-500/60 text-red-300 hover:text-red-200 font-semibold py-3 px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[x?i.jsx(gh,{className:"w-4 h-4 animate-spin"}):i.jsx(kn,{className:"w-4 h-4"}),"Respinge Cererea"]})]}),e.status==="APPROVED"&&(typeof o<"u"||typeof a<"u")&&i.jsxs(i.Fragment,{children:[!e.contract_url&&u&&i.jsxs("button",{onClick:()=>u==null?void 0:u(),disabled:x,className:"w-full bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/50 hover:border-blue-500/60 text-blue-300 hover:text-blue-200 font-semibold py-3 px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(nu,{className:"w-4 h-4"}),"Creeaz Contract"]}),c&&!g&&e.contract_url&&i.jsxs("button",{onClick:()=>c==null?void 0:c(e),disabled:x,className:"w-full bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/50 hover:border-blue-500/60 text-blue-300 hover:text-blue-200 font-semibold py-3 px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[x?i.jsx(Qa,{className:"w-4 h-4 animate-spin"}):i.jsx(HH,{className:"w-4 h-4"}),"ncepe nchiriere"]}),o&&i.jsxs("button",{onClick:()=>o(e),disabled:x,className:"w-full bg-yellow-500/20 hover:bg-yellow-500/30 border border-yellow-500/50 hover:border-yellow-500/60 text-yellow-300 hover:text-yellow-200 font-semibold py-3 px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(gh,{className:`w-4 h-4 ${x?"animate-spin":""}`}),"Seteaz ca n Ateptare"]}),a&&i.jsxs("button",{onClick:()=>a(e),className:"w-full bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 hover:border-red-500/60 text-red-300 hover:text-red-200 font-semibold py-3 px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2",children:[i.jsx(kn,{className:"w-4 h-4"}),"Respinge Cererea"]}),l&&i.jsxs("button",{onClick:()=>l(e),className:"w-full bg-green-500/20 hover:bg-green-500/30 border border-green-500/50 hover:border-green-500/60 text-green-300 hover:text-green-200 font-semibold py-3 px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2",children:[i.jsx(qH,{className:"w-4 h-4"}),"Editeaza Cererea"]})]}),e.status==="REJECTED"&&s&&i.jsx("div",{className:"flex flex-col sm:flex-row gap-2",children:s&&i.jsxs("button",{onClick:()=>s(e),disabled:x,className:"flex-1 bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/50 hover:border-emerald-500/60 text-emerald-300 hover:text-emerald-200 font-semibold py-3 px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(gh,{className:`w-4 h-4 ${x?"animate-spin":""}`}),"Anuleaz Respingerea"]})}),e.status==="PROCESSED"&&p&&g&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-r from-blue-500/10 to-blue-600/10 border border-blue-500/20 backdrop-blur-sm",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 to-transparent"}),i.jsxs("div",{className:"relative flex items-center gap-3 px-4 py-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full animate-pulse shadow-lg shadow-blue-400/50"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-blue-300 font-medium text-sm leading-tight",children:"nchirierea este activ i a nceput"}),i.jsx("p",{className:"text-blue-400/70 text-xs mt-0.5",children:"Poi anula comanda dac este necesar"})]})]})]}),i.jsxs("button",{onClick:()=>p(e),disabled:x,className:"w-full bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 hover:border-red-500/60 text-red-300 hover:text-red-200 font-semibold py-3 px-6 rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(kn,{className:"w-4 h-4"}),"Anuleaz comand"]})]})]})})]})},Rge=({requestId:e})=>{var Y;const r=Pn(),{t:n}=mr(),[a,s]=N.useState(null),[o,l]=N.useState(!0),[c,u]=N.useState(null),[d,f]=N.useState(!1),[p,x]=N.useState(!1),[g,y]=N.useState(!1),[w,v]=N.useState(!1),[S,k]=N.useState(!1),{showSuccess:j,showError:C}=Sd(),z=()=>{w||(v(!0),setTimeout(()=>{y(!0),setTimeout(()=>v(!1),300)},10))},$=()=>{w||(v(!0),setTimeout(()=>{y(!0),setTimeout(()=>v(!1),300)},10))},F=()=>{a!=null&&a.contract_url&&window.open(a.contract_url,"_blank")},V=async P=>{var L;if(!d)try{f(!0);const R=await _d();if(!(R!=null&&R.id))throw new Error("User not logged in");const{fetchCarById:G}=await Ns(async()=>{const{fetchCarById:Z}=await Promise.resolve().then(()=>XG);return{fetchCarById:Z}},void 0),X=await G(P.car_id.toString());if(!X)throw new Error("Car data not found");const D=await qY(R.id,P.car_id,typeof P.start_date=="string"?P.start_date:P.start_date.toISOString().split("T")[0],P.start_time,typeof P.end_date=="string"?P.end_date:P.end_date.toISOString().split("T")[0],P.end_time,P.total_amount,[X],{rentalStatus:"ACTIVE",customerName:P.customer_name,customerEmail:P.customer_email,customerPhone:P.customer_phone,customerFirstName:P.customer_first_name,customerLastName:P.customer_last_name,requestId:P.id,options:P.options||void 0,contractUrl:P.contract_url});D.success?(j("nchiriere nceput cu succes!"),(await Rf(((L=P.id)==null?void 0:L.toString())||"",{status:"PROCESSED"})).success&&(s(ae=>ae?{...ae}:null),k(!0)),setTimeout(()=>{r("/admin?section=orders")},1500)):C(`Nu s-a putut ncepe nchirierea: ${D.error}`)}catch(R){console.error("Error starting rental:",R),C("Eroare la nceperea nchirierii")}finally{f(!1)}},B=async P=>{try{const{data:L,error:R}=await Rt.from("Rentals").select("id").eq("request_id",P).eq("rental_status","ACTIVE").limit(1);if(R)return console.error("Error checking rental existence:",R),!1;const G=L&&L.length>0;return k(G),G}catch(L){return console.error("Error in checkRentalExists:",L),!1}};N.useEffect(()=>{(async()=>{try{l(!0);const L=await Mk(e);L?(s(L),await B(e)):u("Cerere negsit")}catch(L){console.error("Error loading request:",L),u("Eec la ncrcarea cererii")}finally{l(!1)}})()},[e]);const K=()=>{r("/admin?section=requests")},T=async P=>{if(!d){f(!0);try{const L=await FY(P.id);L.success?(s(R=>R?{...R,status:"APPROVED"}:null),setTimeout(()=>{r("/admin?section=requests")},1500)):alert(`Eroare la acceptarea cererii: ${L.error||"Eroare necunoscut"}`)}catch(L){console.error("Error accepting request:",L),alert("Eroare la acceptarea cererii")}finally{f(!1)}}},M=async P=>{if(d)return;const L=window.prompt(`Eti sigur c vrei s respingi cererea lui ${P.customer_name}? Introdu motivul respingerii:`);if(L!==null){f(!0);try{const R=await $Y(P.id,L);R.success?(s(G=>G?{...G,status:"REJECTED"}:null),setTimeout(()=>{r("/admin?section=requests")},1500)):alert(`Eroare la respingerea cererii: ${R.error||"Eroare necunoscut"}`)}catch(R){console.error("Error rejecting request:",R),alert("Eroare la respingerea cererii")}finally{f(!1)}}},I=async P=>{if(!d){f(!0);try{const L=await BY(P.id);L.success?s(R=>R?{...R,status:"PENDING"}:null):alert(`Eroare la anularea respingerii: ${L.error||"Eroare necunoscut"}`)}catch(L){console.error("Error undoing reject:",L),alert("Eroare la anularea respingerii")}finally{f(!1)}}},q=async P=>{if(!d){if(!P.id){console.error("Request has no ID:",P),alert("Request ID is missing.");return}f(!0);try{const L=await Rf(P.id,{status:"PENDING"});L.success?s(R=>(R==null?void 0:R.id)===P.id?{...R,status:"PENDING"}:R):alert(`Eroare la setarea statusului: ${L.error||"Eroare necunoscut"}`)}catch(L){console.error("Error setting to pending:",L),alert("Eroare la setarea statusului")}finally{f(!1)}}};function H(){x(!0)}function te(){x(!1)}const O=async P=>{if(!d)try{f(!0);const L=await Rf(P.id,P);if(L.success){if(S&&P.total_amount)try{const{data:G,error:X}=await Rt.from("Rentals").select("id").eq("request_id",P.id).eq("rental_status","ACTIVE").order("created_at",{ascending:!1}).limit(1).single();if(G&&!X){const{error:D}=await Rt.from("Rentals").update({total_amount:P.total_amount}).eq("id",G.id);D&&console.warn("Failed to update associated rental total_amount:",D)}}catch(G){console.warn("Error updating associated rental:",G)}const R=await Mk(P.id);R?(s(JSON.parse(JSON.stringify(R))),te(),alert("Cererea a fost actualizat cu succes!")):alert("Eroare la remprosptarea datelor")}else alert(`Eroare la editarea cererii: ${L.error||"Eroare necunoscut"}`)}catch(L){console.error("Error editing request:",L),alert("Eroare la editarea cererii")}finally{f(!1)}},re=async P=>{try{const{data:L,error:R}=await Rt.from("Rentals").select("id").eq("request_id",P.id).eq("rental_status","ACTIVE").order("created_at",{ascending:!1}).limit(1).single();if(R||!L){console.error("No active rental found for this request:",R),alert("Nu s-a gsit nicio comand activ pentru aceast cerere");return}r(`/admin?section=orders&orderId=${L.id}`)}catch(L){console.error("Error opening order:",L),alert("Eroare la deschiderea comenzii")}};return o?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Qa,{className:"w-6 h-6 animate-spin text-red-400"}),i.jsx("span",{className:"text-gray-300",children:"Se ncarc..."})]})}):c||!a?i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] space-y-4",children:[i.jsxs("div",{className:"text-red-400 text-center",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:n("common.error","Error")}),i.jsx("p",{children:c||n("admin.requests.notFound","Request not found")})]}),i.jsxs("button",{onClick:K,className:"flex items-center gap-2 px-4 py-2 bg-white/10 border border-white/20 rounded-lg hover:bg-white/20 transition-colors",children:[i.jsx(Il,{className:"w-4 h-4"}),"napoi"]})]}):i.jsxs(i.Fragment,{children:[i.jsx(Ige,{request:a,onBack:K,onAccept:T,onReject:M,onUndoReject:I,onSetToPending:q,onEdit:H,onStartRental:V,onCreateContract:z,onEditContract:$,onDownloadContract:F,onOpenOrder:re,isProcessing:d,rentalExists:S}),p&&i.jsx(i.Fragment,{children:i.jsx(D9,{isOpen:!0,request:a,onSave:O,onClose:te})}),g&&i.jsx(A9,{isOpen:!0,onClose:()=>{y(!1),v(!1)},order:{...a,request_id:a==null?void 0:a.id,id:((Y=a==null?void 0:a.id)==null?void 0:Y.toString())||"",customer_name:a==null?void 0:a.customer_name,customer_first_name:a==null?void 0:a.customer_first_name,customer_last_name:a==null?void 0:a.customer_last_name,customer_email:a==null?void 0:a.customer_email,customer_phone:a==null?void 0:a.customer_phone,start_date:a==null?void 0:a.start_date,start_time:a==null?void 0:a.start_time,end_date:a==null?void 0:a.end_date,end_time:a==null?void 0:a.end_time,total_amount:a==null?void 0:a.total_amount,options:a==null?void 0:a.options,status:"ACTIVE"},car:a==null?void 0:a.car,onContractCreated:async P=>{var L;if(P){if(a){const R=await Rf(((L=a.id)==null?void 0:L.toString())||"",{contract_url:P});R.success?(j("Contract creat i salvat cu succes!"),s(G=>G?{...G,contract_url:P}:null)):C(`Contract creat dar nu s-a putut salva URL-ul n cerere: ${R.error}`)}if(S&&(a!=null&&a.id))try{const{error:R}=await Rt.from("Rentals").update({contract_url:P}).eq("request_id",a.id).eq("rental_status","ACTIVE");R&&console.error("Error updating rental contract_url:",R)}catch(R){console.error("Error updating rental contract_url:",R)}}y(!1),v(!1)}})]})},tD=()=>{var P,L,R,G,X,D,Z;const e=Pn(),[r,n]=yu(),a=r.get("section")||"dashboard",s=r.get("orderId"),o=r.get("carId");N.useEffect(()=>{const ae=window.location.search;if(ae.includes("~and~")||ae.includes("~")||ae.includes("&/")||ae.includes("/&")||(ae.match(/&/g)||[]).length>10){e("/admin",{replace:!0});return}},[]);const{signOut:l,user:c,loading:u,isAdmin:d,roleLoaded:f,userProfile:p}=yc(),{i18n:x,t:g}=mr(),[y,w]=N.useState(!1),[v,S]=N.useState(x.language),[k,j]=N.useState(!1),[C,z]=N.useState(0),[$,F]=N.useState(!1),[V,B]=N.useState(0),[K,T]=N.useState([]);if(!u&&f&&c&&!d)return null;N.useEffect(()=>{(async()=>{try{const le=await xo(),Q=await Promise.all(le.map(async oe=>{let ve=oe.name;(!ve||ve.trim()==="")&&(ve=`${oe.make} ${oe.model}`);const{mainImage:ue,photoGallery:ge}=await ia(ve);return{...oe,image_url:ue||oe.image_url,photo_gallery:ge.length>0?ge:oe.photo_gallery}}));T(Q)}catch(le){console.error("Error loading cars:",le)}})()},[]),N.useEffect(()=>{const ae=le=>{le.target.closest(".language-dropdown-container")||w(!1)};return y&&document.addEventListener("mousedown",ae),()=>{document.removeEventListener("mousedown",ae)}},[y]),N.useEffect(()=>{if(K.length===0)return;const ae=async()=>{try{const oe=(await FT(1,1e3)).data.filter(ve=>ve.status==="PENDING");B(oe.length)}catch(Q){console.error("Failed to load requests count:",Q)}};ae();const le=setInterval(ae,3e4);return()=>clearInterval(le)},[C,K]),N.useEffect(()=>{x.language!=="ro"&&(x.changeLanguage("ro"),localStorage.setItem("selectedLanguage","ro"),S("ro"))},[x]);const M=[{id:"dashboard",label:g("admin.menu.dashboard"),icon:_p},{id:"requests",label:g("admin.menu.requests"),icon:nu},{id:"cars",label:g("admin.menu.cars"),icon:L0},{id:"calendar",label:g("admin.menu.calendar"),icon:IH},{id:"orders",label:g("admin.menu.orders"),icon:VH},{id:"users",label:g("admin.menu.users"),icon:im}],I=ae=>{n({section:ae})},q=async()=>{await l(),e("/")},H=()=>{e("/")},te=async()=>{j(!0),z(ae=>ae+1),setTimeout(()=>{j(!1)},1e3)},O=()=>{if(s)return g("admin.orderDetails.title",{id:s});if(r.get("requestId")&&a==="requests")return g("admin.requestDetails.title");if(o&&a==="cars"){const Q=K.find(oe=>oe.id.toString()===o);return Q?(Q==null?void 0:Q.name)||`${Q.make||""} ${Q.model||""}`.trim()||g("admin.cars.name"):g("admin.carDetails.title")}const le=M.find(Q=>Q.id===a);return(le==null?void 0:le.label)||g("admin.menu.dashboard")},re=()=>{if(s)return g("admin.orderDetails.description");if(r.get("requestId")&&a==="requests")return g("admin.requestDetails.description");if(o&&a==="cars")return g("admin.carDetails.description");switch(a){case"dashboard":return g("admin.dashboard.title");case"requests":return g("admin.requests.description");case"orders":return g("admin.orders.description");case"cars":return g("admin.cars.description");case"calendar":return g("admin.calendar.description");case"users":return g("admin.users.description");default:return""}},Y=()=>{if(s)return i.jsx(jge,{orderId:s});const ae=r.get("requestId");if(ae&&a==="requests")return i.jsx(Rge,{requestId:ae});switch(a){case"dashboard":return i.jsx(EE,{},C);case"requests":return i.jsx(Tge,{},C);case"orders":return i.jsx(wge,{},C);case"cars":return i.jsx(Lge,{},C);case"calendar":return i.jsx(kge,{},C);case"users":return i.jsx(Ege,{},C);default:return i.jsx(EE,{},C)}};return i.jsxs(i.Fragment,{children:[i.jsx(GX,{}),i.jsx("style",{children:`
                * {
                    scrollbar-width: none !important;
                    -ms-overflow-style: none !important;
                }
                *::-webkit-scrollbar {
                    display: none !important;
                }
                .mobile-nav-scroll::-webkit-scrollbar {
                    display: none !important;
                }
                .mobile-nav-scroll {
                    -webkit-overflow-scrolling: touch;
                }
                /* Fix Safari dropdown styling */
                select {
                    -webkit-appearance: none !important;
                    -moz-appearance: none !important;
                    appearance: none !important;
                }
                select::-ms-expand {
                    display: none !important;
                }
                option {
                    background-color: #343434 !important;
                    color: #ffffff !important;
                }
            `}),i.jsxs("div",{className:"relative min-h-screen",children:[i.jsx("div",{className:"hidden lg:block fixed inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/bg-hero.jpg')",backgroundAttachment:"fixed",backgroundPosition:"center",backgroundSize:"cover",zIndex:0}}),i.jsx("div",{className:"lg:hidden fixed inset-0 overflow-hidden",style:{zIndex:0},children:i.jsx("img",{src:"/bg-hero.jpg",alt:"Background",className:"w-full h-full object-cover fixed inset-0",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0}})}),i.jsx("div",{className:"fixed inset-0 bg-black/70",style:{zIndex:1}}),i.jsxs("div",{className:"relative flex flex-col lg:flex-row min-h-screen",style:{zIndex:10},children:[i.jsxs("div",{className:"w-full lg:w-72 lg:sticky lg:top-0 lg:h-screen bg-white/10 backdrop-blur-xl border-b lg:border-b-0 lg:border-r border-white/20 flex flex-col shadow-lg",children:[i.jsx("div",{className:"p-6 border-b border-white/20",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:i.jsx("img",{src:"/logo-LVL-white.png",alt:"LVL Logo",className:"w-full h-full object-contain"})}),i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-bold text-white",children:g("admin.title")}),i.jsx("p",{className:"text-xs text-gray-300",children:g("admin.subtitle")})]}),i.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[i.jsx("button",{onClick:te,disabled:k,className:"flex items-center px-3 py-2 text-sm font-medium transition-colors rounded-lg hover:bg-white/10 border border-white/20 disabled:opacity-50",title:g("admin.common.refresh"),children:i.jsx(gh,{className:`w-4 h-4 text-white ${k?"animate-spin":""}`})}),i.jsx("button",{onClick:()=>F(!0),className:"flex items-center px-3 py-2 text-sm font-medium transition-colors rounded-lg hover:bg-white/10 border border-white/20",title:g("admin.common.settings"),children:i.jsx(xh,{className:"w-4 h-4 text-white"})})]})]})]})}),i.jsx("nav",{className:"flex-1 p-4 space-y-2 pt-6 overflow-x-auto lg:overflow-y-auto lg:overflow-x-visible mobile-nav-scroll",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:i.jsx("div",{className:"flex lg:flex-col space-x-3 lg:space-x-0 lg:space-y-2 pb-2 lg:pb-0",children:M.map(ae=>{const le=ae.icon,Q=a===ae.id,oe=ae.id==="requests"&&V>0;return i.jsxs("button",{onClick:()=>I(ae.id),className:`flex-shrink-0 lg:w-full flex flex-col lg:flex-row items-center justify-center lg:justify-start space-y-1 lg:space-y-0 lg:space-x-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 group relative ${Q?"bg-red-500/20 text-white border border-red-500/50":"text-gray-300 hover:text-white hover:bg-white/10 border border-transparent"}`,children:[i.jsxs("div",{className:"relative",children:[le&&tt.createElement(le,{className:`h-5 w-5 flex-shrink-0 transition-colors duration-200 ${Q?"text-red-400":"text-gray-400 group-hover:text-white"}`}),oe&&i.jsx("span",{className:`lg:hidden absolute -top-1.5 -right-1.5 min-w-[18px] h-[18px] flex items-center justify-center rounded-full text-[10px] font-bold px-1 ${Q?"bg-red-500 text-white":"bg-yellow-500 text-gray-900"}`,children:V>99?"99+":V})]}),i.jsxs("span",{className:"text-xs lg:text-sm flex items-center justify-between w-full",children:[i.jsx("span",{children:ae.label}),oe&&i.jsx("span",{className:`hidden lg:flex ml-auto min-w-[20px] h-5 items-center justify-center rounded-full text-[10px] font-bold px-1.5 ${Q?"bg-red-500 text-white":"bg-yellow-500 text-gray-900"}`,children:V>99?"99+":V})]})]},ae.id)})})}),i.jsx("div",{className:"mt-auto hidden lg:block flex-shrink-0",children:i.jsxs("div",{className:"px-4 pt-6 pb-4 border-t border-white/20 space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-3 px-1 pb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center flex-shrink-0 shadow-md",children:i.jsx("span",{className:"text-white font-semibold text-sm",children:((L=(P=p==null?void 0:p.first_name)==null?void 0:P[0])==null?void 0:L.toUpperCase())||((G=(R=p==null?void 0:p.last_name)==null?void 0:R[0])==null?void 0:G.toUpperCase())||((D=(X=c==null?void 0:c.email)==null?void 0:X[0])==null?void 0:D.toUpperCase())||"U"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-semibold text-white truncate",children:p!=null&&p.first_name&&(p!=null&&p.last_name)?`${p.first_name} ${p.last_name}`:(p==null?void 0:p.first_name)||(p==null?void 0:p.last_name)||((Z=c==null?void 0:c.email)==null?void 0:Z.split("@")[0])||"User"}),i.jsx("p",{className:"text-xs text-gray-300 truncate",children:(p==null?void 0:p.email)||(c==null?void 0:c.email)||"No email"})]}),i.jsx("button",{onClick:()=>F(!0),className:"p-2 rounded-lg hover:bg-white/10 transition-colors flex-shrink-0","aria-label":g("admin.common.settings"),children:i.jsx(xh,{className:"w-4 h-4 text-gray-300 hover:text-white"})})]}),i.jsxs("button",{onClick:H,className:"w-full flex items-center justify-center space-x-2 px-4 py-2.5 bg-white/10 border border-white/20 text-gray-200 text-sm font-medium rounded-lg hover:bg-white/20 hover:border-white/30 hover:text-white transition-all duration-200",children:[i.jsx(jy,{className:"w-4 h-4"}),i.jsx("span",{children:g("admin.common.backToSite")})]}),i.jsxs("button",{onClick:q,className:"w-full flex items-center justify-center space-x-2 px-4 py-2.5 bg-red-500/20 border border-red-500/50 text-red-300 text-sm font-medium rounded-lg hover:bg-red-500/30 hover:border-red-500/60 hover:text-red-200 transition-all duration-200",children:[i.jsx(ph,{className:"w-4 h-4"}),i.jsx("span",{children:g("admin.common.signOut")})]})]})})]}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx("div",{className:"relative px-4 lg:px-8 py-6 lg:py-8 border-b border-white/20 backdrop-blur-xl",style:{zIndex:1},children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-white mb-2",children:O()}),i.jsx("p",{className:"text-gray-300 text-sm lg:text-base",children:re()})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("button",{onClick:te,disabled:k,className:"hidden lg:flex items-center space-x-2 px-3 py-2 text-sm font-medium transition-colors rounded-lg hover:bg-white/10 border border-white/20 disabled:opacity-50",title:"Refresh data",children:i.jsx(gh,{className:`w-4 h-4 text-white ${k?"animate-spin":""}`})})})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-8 relative z-0",children:i.jsx("div",{children:Y()},a)})]})]})]}),$&&ei.createPortal(i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",onClick:()=>F(!1),style:{zIndex:1e4},"data-modal-settings":!0,children:i.jsxs("div",{onClick:ae=>ae.stopPropagation(),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 border-b border-white/20 px-6 py-4 flex items-center justify-between z-10",style:{backgroundColor:"#1C1C1C"},children:[i.jsx("div",{children:i.jsx("h2",{className:"text-2xl font-bold text-white",children:g("admin.common.settings")})}),i.jsx("button",{onClick:()=>F(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:i.jsx(kn,{className:"w-5 h-5 text-white"})})]}),i.jsx("div",{className:"p-6",children:i.jsx(KX,{onBackToSite:H,onLogout:q})})]})}),document.getElementById("modal-root")||document.body)]})},zge=({activeTab:e,setActiveTab:r,onLogout:n})=>{var l;const{t:a}=mr(),{user:s}=yc(),o=[{id:"overview",label:a("dashboard.sidebar.overview"),icon:jy},{id:"cars",label:a("dashboard.sidebar.cars"),icon:Za},{id:"calendar",label:a("dashboard.sidebar.calendar"),icon:$n},{id:"settings",label:a("dashboard.sidebar.settings"),icon:xh}];return i.jsx(De.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},className:"w-full",children:i.jsxs("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl p-5 lg:p-6 border border-white/10 w-full lg:max-w-[320px] lg:mx-0",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-8 pb-6 border-b border-white/10",children:[i.jsx("div",{className:"w-14 h-14 bg-red-600/20 rounded-full flex items-center justify-center",children:i.jsx(Ll,{className:"text-red-600",size:28})}),i.jsxs("div",{className:"overflow-hidden",children:[i.jsx("h3",{className:"font-semibold text-white text-base truncate",children:((l=s==null?void 0:s.email)==null?void 0:l.split("@")[0])||"User"}),i.jsx("p",{className:"text-gray-400 text-sm",children:s==null?void 0:s.email})]})]}),i.jsxs("nav",{className:"space-y-3",children:[o.map(c=>i.jsxs(De.button,{onClick:()=>r(c.id),className:`w-full flex items-center gap-4 px-5 py-3.5 rounded-xl text-left font-medium text-sm tracking-wide transition-all duration-300 ${e===c.id?"bg-red-600 text-white shadow-md shadow-red-600/20":"text-gray-300 hover:bg-white/10 hover:text-white"}`,whileHover:{scale:1.03},whileTap:{scale:.98},children:[i.jsx(c.icon,{size:20}),i.jsx("span",{children:c.label})]},c.id)),i.jsx("div",{className:"h-[1px] bg-white/10 my-3"}),i.jsxs(De.button,{onClick:n,className:"w-full flex items-center gap-4 px-5 py-3.5 rounded-xl text-left text-red-400 hover:bg-red-500/10 hover:text-red-300 transition-all duration-300 font-medium",whileHover:{scale:1.03},whileTap:{scale:.98},children:[i.jsx(ph,{size:20}),i.jsx("span",{children:a("dashboard.sidebar.signOut")})]})]})]})})},bb=({message:e="Loading...",timeoutMessage:r="An error occurred. The data is not currently available.",timeoutMs:n=5e3})=>{const[a,s]=N.useState(!1);return N.useEffect(()=>{const o=setTimeout(()=>{s(!0)},n);return()=>clearTimeout(o)},[n]),a?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 w-full text-center",children:[i.jsx("p",{className:"text-red-400 font-semibold mb-1",children:r}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Please try again in a moment."})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 w-full",children:[i.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-white/5 rounded-full",children:i.jsx(Qa,{className:"w-6 h-6 animate-spin text-white/50"})}),i.jsx("p",{className:"mt-2 text-sm text-gray-400",children:e})]})},x_=({icon:e,title:r,subtitle:n,buttonText:a,onButtonClick:s})=>i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[e&&i.jsx("div",{className:"bg-white/5 w-20 h-20 rounded-full flex items-center justify-center mb-4",children:e}),i.jsx("p",{className:"text-gray-400 text-lg font-medium mb-1",children:r}),n&&i.jsx("p",{className:"text-gray-500 text-sm",children:n}),a&&s&&i.jsx("button",{onClick:s,className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 font-semibold rounded-lg hover:border-red-500/60 transition-all text-sm whitespace-nowrap flex items-center gap-2 mt-4",children:a})]}),Fge=[{id:"unlimitedKm",label:"Kilometraj nelimitat",category:"Limits",price:"+50%",color:"red"},{id:"personalDriver",label:"ofer personal",category:"VIP Services",price:"800 MDL/zi",color:"gray"},{id:"priorityService",label:"Priority Service",category:"VIP Services",price:"1 000 MDL/zi",color:"gray"},{id:"childSeat",label:"Scaun auto pentru copii",category:"Additional",price:"100 MDL/zi",color:"gray"},{id:"simCard",label:"Cartel SIM cu internet",category:"Additional",price:"100 MDL/zi",color:"gray"},{id:"roadsideAssistance",label:"Asisten rutier",category:"Additional",price:"500 MDL/zi",color:"gray"},{id:"airportDelivery",label:"Livrare aeroport",category:"Delivery",price:"Gratuit",color:"green"},{id:"returnAtAddress",label:"Returnarea la adres",description:"Cost separat",category:"Delivery"},{id:"pickupAtAddress",label:"Preluare la adres",description:"Cost separat",category:"Delivery"}],$ge=({setCar:e})=>{const[r,n]=N.useState(""),[a,s]=N.useState(""),[o,l]=N.useState(null),[c,u]=N.useState(1),d=5,[f,p]=N.useState(0),[x,g]=N.useState(!1),y=Math.ceil(f/d);N.useEffect(()=>{const S=setTimeout(()=>{s(r),u(1)},500);return()=>clearTimeout(S)},[r]),N.useEffect(()=>{async function S(){g(!0);const{cars:k,total:j}=await LN(c,d,a);l(k),p(j),g(!1)}S()},[c,a]);const w=S=>{S<1||S>y||u(S)},v=()=>n("");return i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx(pc,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",placeholder:"Search cars...",value:r,onChange:S=>n(S.target.value),className:"w-full pl-12 pr-10 py-3 bg-white/10 border border-white/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/50 text-white text-sm placeholder-gray-400"}),r&&i.jsx("button",{onClick:v,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors text-sm",children:""})]}),i.jsx("div",{className:"flex flex-col gap-3 min-h-[200px]",children:x?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[i.jsx(Qa,{className:"w-8 h-8 animate-spin text-white/50"}),i.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Loading cars..."})]}):o&&o.length>0?o.map((S,k)=>i.jsxs("div",{onClick:()=>e(S),className:"flex items-center gap-4 px-4 py-3 rounded-xl border border-white/20 cursor-pointer hover:bg-white/10 transition-colors",children:[i.jsx("div",{className:"w-16 h-10 flex-shrink-0 rounded-md overflow-hidden bg-gray-700/30 flex items-center justify-center",children:S.image_url?i.jsx("img",{src:S.image_url,alt:S.make,className:"object-cover w-full h-full"}):i.jsx("span",{className:"text-white/50 text-xs",children:"No Image"})}),i.jsxs("div",{className:"flex flex-col flex-1",children:[i.jsxs("span",{className:"text-white font-medium text-sm",children:[S.make," ",S.model]}),i.jsx("span",{className:"text-gray-300 text-xs",children:S.year||"Unknown Year"})]})]},S.id??`car-fallback-${k}`)):i.jsx(x_,{icon:i.jsx(Za,{className:"w-8 h-8 text-gray-400"}),title:"No cars found",subtitle:"Try adjusting your search",buttonText:"Clear Search",onButtonClick:v})}),y>1&&!x&&i.jsxs("div",{className:"flex items-center justify-between mt-4",children:[i.jsxs("button",{onClick:()=>w(c-1),disabled:c===1,className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-white/20 bg-white/10 text-white disabled:opacity-50 hover:bg-white/20 transition-all text-sm",children:[i.jsx(Il,{className:"w-4 h-4"})," Previous"]}),i.jsxs("span",{className:"text-sm text-gray-300",children:["Page ",c," of ",y]}),i.jsxs("button",{onClick:()=>w(c+1),disabled:c===y,className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-white/20 bg-white/10 text-white disabled:opacity-50 hover:bg-white/20 transition-all text-sm",children:["Next ",i.jsx(ss,{className:"w-4 h-4"})]})]})]})},Bge=({option:e,checked:r,onChange:n})=>{const a={red:["bg-red-500","border-red-500","text-red-400","bg-red-400/10"],green:["bg-green-500","border-green-500","text-green-400","bg-green-400/10"],gray:["bg-gray-500","border-gray-500","text-gray-300","bg-white/5"]},[s,o,l,c]=a[e.color||"gray"];return i.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-all group",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"checkbox",checked:r,onChange:u=>n(e.id,u.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-5 h-5 border-2 rounded flex items-center justify-center transition-all ${r?`${s} ${o}`:"border-white/30 bg-transparent group-hover:border-white/50"}`,children:r&&i.jsx(kl,{className:"w-3 h-3 text-white"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-white text-sm",children:e.label}),e.description&&i.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:e.description})]})]}),e.price&&i.jsx("span",{className:`text-xs font-bold ${l} ${c} px-2 py-1 rounded whitespace-nowrap`,children:e.price})]})},rD=[{code:"+373",flag:"",country:"Moldova"},{code:"+40",flag:"",country:"Romania"},{code:"+380",flag:"",country:"Ukraine"},{code:"+7",flag:"",country:"Russia"},{code:"+1",flag:"",country:"USA"},{code:"+44",flag:"",country:"UK"},{code:"+49",flag:"",country:"Germany"},{code:"+33",flag:"",country:"France"},{code:"+39",flag:"",country:"Italy"},{code:"+34",flag:"",country:"Spain"},{code:"+32",flag:"",country:"Belgium"},{code:"+31",flag:"",country:"Netherlands"},{code:"+41",flag:"",country:"Switzerland"},{code:"+43",flag:"",country:"Austria"},{code:"+48",flag:"",country:"Poland"},{code:"+420",flag:"",country:"Czech Republic"},{code:"+36",flag:"",country:"Hungary"},{code:"+359",flag:"",country:"Bulgaria"},{code:"+30",flag:"",country:"Greece"},{code:"+90",flag:"",country:"Turkey"}],Uge=({isOpen:e,onClose:r,car:n,initialCarId:a})=>{const{t:s}=mr(),o=new Date,l=new Date;l.setDate(o.getDate()+3);const[c,u]=N.useState(!1),[d,f]=N.useState(null),p=["Limits","VIP Services","Insurance","Additional","Delivery"],x={customer_name:"",customer_first_name:(d==null?void 0:d.first_name)||"",customer_last_name:(d==null?void 0:d.last_name)||"",customer_email:(d==null?void 0:d.email)||"",customer_phone:d==null?void 0:d.phone_number,car_id:a||"",start_date:"",start_time:"",end_date:"",end_time:"",status:"APPROVED",total_amount:0,price_per_day:0,user_id:"",comment:"",options:{pickupAtAddress:!1,returnAtAddress:!1,unlimitedKm:!1,speedLimitIncrease:!1,personalDriver:!1,priorityService:!1,tireInsurance:!1,childSeat:!1,simCard:!1,airportDelivery:!1,roadsideAssistance:!1},requested_at:"",updated_at:""},[g,y]=N.useState(n||null);function w(ie){y(ie),S(se=>({...se,car_id:ie?ie.id.toString():""}))}N.useEffect(()=>{n&&(y(n),S(ie=>({...ie,car_id:n.id.toString()}))),L(!1)},[n]),N.useEffect(()=>{async function ie(){u(!0);const se=await _d();f(se),u(!1)}ie()},[]),N.useEffect(()=>{d&&S(ie=>({...ie,customer_name:`${d.first_name||""} ${d.last_name||""}`,customer_first_name:d.first_name||"",customer_last_name:d.last_name||"",customer_email:d.email||"",customer_phone:d.phone_number||"",user_id:d.id}))},[d]);const[v,S]=N.useState(()=>x),[k,j]=N.useState(rD[0]),[C,z]=N.useState(!1),[$,F]=N.useState(!1),[V,B]=N.useState(!1),[K,T]=N.useState(!1),[M,I]=N.useState(!1),[q,H]=N.useState({pickup:o,return:l}),[te,O]=N.useState(!1),[re,Y]=N.useState(""),[P,L]=N.useState(!1),R=tt.useRef(null),G=tt.useRef(null),X=tt.useRef(null),D=tt.useRef(null),Z=ie=>{const se=ie.getFullYear(),_e=ie.getMonth(),Te=new Date(se,_e,1),Xe=new Date(Te);Xe.setDate(Xe.getDate()-Te.getDay());const Me=[],Re=new Date(Xe);for(let xe=0;xe<42;xe++)Re.getMonth()===_e?Me.push(Re.toISOString().split("T")[0]):Me.push(null),Re.setDate(Re.getDate()+1);return Me},ae=ie=>{const se=[],_e=ie!==void 0?ie:0;for(let Te=_e;Te<24;Te++)se.push(`${String(Te).padStart(2,"0")}:00`);return se};async function le(ie){const se=(g==null?void 0:g.id)||"";return await HY(ie,se)}function Q(){throw new Error("getEarliestFutureRentalStart not implemented")}const[oe,ve]=N.useState({pickupAtAddress:!1,returnAtAddress:!1,unlimitedKm:!1,speedLimitIncrease:!1,personalDriver:!1,priorityService:!1,tireInsurance:!1,childSeat:!1,simCard:!1,roadsideAssistance:!1,airportDelivery:!1});N.useEffect(()=>{const ie=se=>{se.target.closest(".country-code-dropdown-container")||z(!1),R.current&&!R.current.contains(se.target)&&F(!1),G.current&&!G.current.contains(se.target)&&B(!1),X.current&&!X.current.contains(se.target)&&T(!1),D.current&&!D.current.contains(se.target)&&I(!1)};return document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[C]),N.useEffect(()=>{v.start_date&&H(ie=>({...ie,pickup:new Date(v.start_date||"")}))},[v.start_date]),N.useEffect(()=>{if(v.end_date)H(ie=>({...ie,return:new Date(v.end_date||"")}));else if(v.start_date){const ie=new Date(v.start_date);ie.setMonth(ie.getMonth()+1),H(se=>({...se,return:ie}))}},[v.end_date,v.start_date]),N.useEffect(()=>{v.start_date&&H(ie=>({...ie,pickup:new Date(v.start_date||"")}))},[v.start_date]),N.useEffect(()=>{if(v.end_date)H(ie=>({...ie,return:new Date(v.end_date||"")}));else if(v.start_date){const ie=new Date(v.start_date);H(se=>({...se,return:new Date(ie)}))}},[v.end_date,v.start_date]),N.useEffect(()=>{const ie=se=>{if(te)return;const _e=se.target;_e.closest("button[data-calendar-toggle]")||($&&R.current&&!R.current.contains(_e)&&F(!1),V&&G.current&&!G.current.contains(_e)&&B(!1),K&&X.current&&!X.current.contains(_e)&&T(!1),M&&D.current&&!D.current.contains(_e)&&I(!1))};return document.addEventListener("mousedown",ie),document.addEventListener("touchstart",ie),()=>{document.removeEventListener("mousedown",ie),document.removeEventListener("touchstart",ie)}},[$,V,K,M,te]);async function ue(ie){if(ie.preventDefault(),!v.start_date||!v.end_date||!v.customer_email)return;const se=`${v.customer_first_name} ${v.customer_last_name}`,_e=`${k.code} ${v.customer_phone}`.trim(),Te=M5(v.start_date,v.end_date),Xe=await A0(v.car_id);if(Xe===null)throw Error("Car not found");const Me=parseFloat(wm(Te,Xe)),Re=TY(Te,Me,v.start_date,v.end_date,v.car_id,v.options),xe={car_id:v.car_id,user_id:v.user_id||"",start_date:v.start_date,start_time:v.start_time,end_date:v.end_date,end_time:v.end_time,status:"PENDING",price_per_day:Me,customer_name:se,customer_first_name:v.customer_first_name,customer_last_name:v.customer_last_name,customer_email:v.customer_email,customer_phone:_e,comment:v.comment,options:oe,requested_at:new Date().toString(),updated_at:new Date().toString(),total_amount:Re};ge(xe)}async function ge(ie){try{const se={car_id:ie.car_id.toString(),user_id:ie.user_id||null,start_date:new Date(ie.start_date),start_time:ie.start_time,end_date:new Date(ie.end_date),end_time:ie.end_time,price_per_day:ie.price_per_day,customer_name:ie.customer_name,customer_first_name:ie.customer_first_name,customer_last_name:ie.customer_last_name,customer_email:ie.customer_email,customer_phone:ie.customer_phone||"",total_amount:Number(ie.total_amount),options:ie.options,status:"PENDING",requested_at:new Date().toString(),updated_at:new Date().toString(),comment:ie.comment||""},_e=await $T(se);_e.success?L(!0):console.error("Failed to create borrow request:",_e.error)}catch(se){console.error("Error creating borrow request:",se)}}return ei.createPortal(i.jsx(hr,{children:e&&i.jsxs(tt.Fragment,{children:[i.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[9998]",onClick:r},"backdrop"),i.jsx(De.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.3,ease:"easeOut"},className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 overflow-y-auto",onClick:ie=>ie.stopPropagation(),children:i.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 bg-white/10 backdrop-blur-xl border-b border-white/20 px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between z-10",style:{backgroundColor:"#1C1C1C"},children:[i.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white",children:s("admin.requests.createNew")}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:i.jsx(kn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})})]}),i.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-200px)] md:max-h-[calc(92vh-200px)]",children:i.jsx(tt.Fragment,{children:P?i.jsxs("div",{className:"px-4 sm:px-6 py-6 sm:py-8 space-y-6 sm:space-y-8",children:[i.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl border border-white/20 shadow-lg p-6 sm:p-8",children:[i.jsx("div",{className:"mb-4",children:i.jsx("span",{className:"text-sm font-semibold tracking-wider text-red-400 uppercase",children:"Confirmare"})}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center shadow-lg bg-gradient-to-b from-red-500 to-red-600 flex-shrink-0",children:i.jsx(xd,{className:"w-7 h-7 text-white",strokeWidth:2.5})}),i.jsxs("div",{className:"flex-1 pt-1",children:[i.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white leading-tight mb-3",children:"Cererea a fost trimis cu succes!"}),i.jsx("p",{className:"text-gray-300 text-base leading-relaxed",children:"n scurt timp v vom contacta pentru confirmare."})]})]})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{type:"button",onClick:r,className:"px-8 py-3 bg-white/10 hover:bg-white/20 backdrop-blur-md border border-white/20 text-white font-semibold rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl",children:"nchide"})})]}):i.jsxs("form",{onSubmit:ue,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Date de contact"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Prenume *"}),i.jsx("input",{type:"text",value:v.customer_first_name||"",onChange:ie=>S(se=>({...se,firstName:ie.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none",style:{backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0,disabled:c})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nume *"}),i.jsx("input",{type:"text",value:v.customer_last_name||"",onChange:ie=>S(se=>({...se,lastName:ie.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Vrst *"}),i.jsx("input",{type:"number",onChange:ie=>S(se=>({...se,age:ie.target.value})),min:"18",max:"100",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"},required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Telefon *"}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 z-[1] country-code-dropdown-container",children:[i.jsxs("button",{type:"button",onClick:()=>z(!C),className:"flex items-center gap-1.5 text-gray-300 hover:text-white text-sm font-medium px-2 py-1 rounded hover:bg-white/10 transition-colors",children:[i.jsx("span",{children:k.flag}),i.jsx("span",{children:k.code}),i.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),C&&i.jsx("div",{className:"absolute top-full left-0 mt-1 border border-white/20 rounded-lg shadow-lg max-h-60 overflow-y-auto z-[5] min-w-[200px]",style:{backgroundColor:"#343434"},children:rD.map(ie=>i.jsxs("button",{type:"button",onClick:()=>{j(ie),z(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-white hover:bg-white/20 transition-colors",children:[i.jsx("span",{children:ie.flag}),i.jsx("span",{className:"flex-1 text-left",children:ie.country}),i.jsx("span",{className:"text-gray-400",children:ie.code})]},ie.code))})]}),i.jsx("input",{type:"tel",value:v.customer_phone||"",onChange:ie=>S(se=>({...se,customer_phone:ie.target.value})),placeholder:"000 00 000",className:"w-full pl-[100px] pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50",required:!0})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"E-mail (opional)"}),i.jsx("input",{type:"email",value:v.customer_email||"",onChange:ie=>S(se=>({...se,customer_email:ie.target.value})),placeholder:s("admin.placeholders.email"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 appearance-none cursor-pointer",style:{backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px",paddingRight:"40px"}})]})]})]}),i.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Automobil"}),g?i.jsx("div",{className:"flex flex-col gap-3",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl border border-white/20 bg-white/10",children:[i.jsx("div",{className:"w-20 h-12 flex-shrink-0 rounded-md overflow-hidden bg-gray-700/30 flex items-center justify-center",children:g.image_url?i.jsx("img",{src:g.image_url,alt:g.make,className:"object-cover w-full h-full"}):i.jsx("span",{className:"text-white/50 text-xs",children:"No Image"})}),i.jsxs("div",{className:"flex flex-col flex-1",children:[i.jsxs("span",{className:"text-white font-medium text-sm",children:[g.make," ",g.model]}),i.jsx("span",{className:"text-gray-300 text-xs",children:g.year||"Unknown Year"}),g.description&&i.jsx("span",{className:"text-gray-400 text-xs mt-1",children:g.description})]}),i.jsx("button",{type:"button",onClick:()=>y(null),className:"text-red-500 hover:text-red-400 text-sm",children:"Schimb"})]})}):i.jsx($ge,{setCar:w})]}),i.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Perioada nchirierii"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"relative",ref:R,children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Data prelurii *"}),i.jsxs("button",{type:"button",onClick:()=>{F(!$),B(!1),T(!1),I(!1)},className:`w-full flex items-center justify-start gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${v.start_date?"border-white/30 text-white hover:border-white/50 bg-white/5":"border-white/20 text-gray-400 hover:border-white/30 bg-white/5"}`,children:[i.jsx($n,{className:"w-4 h-4"}),i.jsx("span",{children:v.start_date?Xa(v.start_date,s("config.date")):"Data primirii"})]}),i.jsx(hr,{children:$&&i.jsxs(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-[#343434] border border-white/20 rounded-lg shadow-lg p-3 min-w-[280px]",onClick:ie=>ie.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("button",{type:"button",onClick:()=>{const ie=new Date(q.pickup);ie.setMonth(ie.getMonth()-1),H(se=>({...se,pickup:ie}))},className:"p-1 hover:bg-white/10 rounded transition-colors",children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsx("div",{className:"text-sm font-medium text-white",children:q.pickup.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),i.jsx("button",{type:"button",onClick:()=>{const ie=new Date(q.pickup);ie.setMonth(ie.getMonth()+1),H(se=>({...se,pickup:ie}))},className:"p-1 hover:bg-white/10 rounded transition-colors",children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),i.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Du","Lu","Ma","Mi","Jo","Vi","S"].map(ie=>i.jsx("div",{className:"text-gray-400 font-medium",children:ie},ie))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:Z(q.pickup).map((ie,se)=>{if(!ie)return i.jsx("div",{},se);const _e=new Date(ie),Te=ie,Xe=new Date;Xe.setHours(0,0,0,0);const Me=Xa(Xe,s("config.date")),Pe=Te<Me||!1,be=Te===v.start_date,Ae=v.end_date&&Te===v.end_date,Ie=v.start_date&&v.end_date&&Te>v.start_date&&Te<v.end_date,Ce=()=>"Aceast dat nu este disponibil.";return i.jsxs("div",{className:`w-8 h-8 flex items-center justify-center text-xs rounded transition-colors relative ${Pe?"text-gray-300 cursor-not-allowed":"text-white cursor-pointer"} ${be||Ae?"bg-red-500 text-white hover:bg-red-600 font-medium":Ie?"bg-white/20 text-white hover:bg-white/30":Pe?"":"hover:bg-white/20"}`,onClick:()=>{if(Pe)alert(Ce());else{const He=v.start_date&&v.start_date!==ie;if(He&&S(Ve=>({...Ve,end_date:"",start_time:"",end_time:""})),S(Ve=>({...Ve,start_date:ie})),!He&&v.end_date&&ie>=v.end_date){const Ve=new Date(v.end_date),at=new Date(ie),Qe=Ve.getTime()-at.getTime();Math.floor(Qe/(1e3*60*60*24))<2&&S(Ft=>({...Ft,end_date:""}))}O(!0),setTimeout(()=>{F(!1),O(!1),v.start_time||T(!0)},300)}},title:Pe?Ce():"",children:[i.jsx("span",{className:"relative z-0",children:_e.getDate()}),Pe&&i.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-red-600 font-bold text-base z-10 pointer-events-none",style:{fontSize:"14px"},children:""})]},se)})})]})})]}),i.jsxs("div",{className:"relative",ref:X,children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ora prelurii *"}),i.jsxs("button",{type:"button",onClick:()=>{T(!K),I(!1),F(!1),B(!1)},className:`w-full flex items-center justify-start gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${v.start_time?"border-white/30 text-white hover:border-white/50 bg-white/5":"border-white/20 text-gray-400 hover:border-white/30 bg-white/5"}`,children:[i.jsx(Aa,{className:"w-4 h-4"}),i.jsx("span",{children:v.start_time||"__ : __"})]}),i.jsx(hr,{children:K&&i.jsx(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-[#343434] border border-white/20 rounded-lg shadow-lg p-3 max-h-[200px] overflow-y-auto min-w-[120px]",onClick:ie=>ie.stopPropagation(),children:i.jsx("div",{className:"flex flex-col gap-1",children:(()=>{let ie;if(v.start_date){const _e=new Date;_e.setHours(0,0,0,0);const Te=Xa(_e,s("config.date"));if(v.start_date===Te){let Re=new Date().getHours()+2;Re>=24&&(Re=23),ie=Re}}return ae(ie).filter(_e=>(v.start_date,!0)).map(_e=>i.jsx("button",{type:"button",onClick:Te=>{Te.stopPropagation(),S(Xe=>({...Xe,start_time:_e})),O(!0),setTimeout(()=>{T(!1),O(!1),v.end_date||B(!0)},300)},onMouseDown:Te=>Te.stopPropagation(),className:`w-full px-3 py-2 text-sm rounded transition-colors text-center ${v.start_time===_e?"bg-red-500 text-white font-medium":"text-white hover:bg-white/20"}`,children:_e},_e))})()})})})]}),i.jsxs("div",{className:"relative",ref:G,children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Data returnrii *"}),i.jsxs("button",{type:"button",onClick:()=>{B(!V),F(!1),T(!1),I(!1)},className:`w-full flex items-center justify-start gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${v.end_date?"border-white/30 text-white hover:border-white/50 bg-white/5":"border-white/20 text-gray-400 hover:border-white/30 bg-white/5"}`,children:[i.jsx($n,{className:"w-4 h-4"}),i.jsx("span",{children:v.end_date?Xa(v.end_date,s("config.date")):"Data returnrii"})]}),i.jsx(hr,{children:V&&i.jsxs(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-[#343434] border border-white/20 rounded-lg shadow-lg p-3 min-w-[280px]",onClick:ie=>ie.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("button",{type:"button",onClick:()=>{const ie=new Date(q.return);ie.setMonth(ie.getMonth()-1),H(se=>({...se,return:ie}))},className:"p-1 hover:bg-white/10 rounded transition-colors",children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsx("div",{className:"text-sm font-medium text-white",children:q.return.toLocaleDateString("ro-RO",{month:"long",year:"numeric"})}),i.jsx("button",{type:"button",onClick:()=>{const ie=new Date(q.return);ie.setMonth(ie.getMonth()+1),H(se=>({...se,return:ie}))},className:"p-1 hover:bg-white/10 rounded transition-colors",children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),i.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Du","Lu","Ma","Mi","Jo","Vi","S"].map(ie=>i.jsx("div",{className:"text-gray-400 font-medium",children:ie},ie))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:Z(q.return).map((ie,se)=>{if(!ie)return i.jsx("div",{},se);const _e=new Date(ie),Te=ie,Xe=new Date;Xe.setHours(0,0,0,0);const Me=Xa(Xe,s("config.date")),Re=Te<Me,xe=le(Me),Pe=Re&&xe,be=Te===v.end_date,Ae=v.start_date&&(()=>{const Ce=new Date(v.start_date),Ve=new Date(Te).getTime()-Ce.getTime();return Math.floor(Ve/(1e3*60*60*24))<2})(),Ie=()=>{if(Pe){const Ce=Q();if(Ce)return`Nu putei selecta aceast dat. Maina este deja rezervat ncepnd cu ${new Date(Ce).toLocaleDateString("ro-RO",{day:"numeric",month:"long",year:"numeric"})}.`}return"Aceast dat nu este disponibil."};return i.jsxs("div",{className:`w-8 h-8 flex items-center justify-center text-xs rounded transition-colors relative ${Ae?"text-black opacity-50 cursor-not-allowed":Pe?"text-gray-300 cursor-not-allowed":"text-white cursor-pointer"} ${be||Pe?"bg-red-500 text-white hover:bg-red-600 font-medium":Pe?"bg-white/20 text-white hover:bg-white/30":!Pe&&!Ae?"hover:bg-white/20":""}`,onClick:()=>{if(Ae){Y("Perioada minim de nchiriere este de 2 zile"),setTimeout(()=>Y(""),3e3);return}Pe?alert(Ie()):(S(Ce=>({...Ce,end_date:ie})),O(!0),setTimeout(()=>{B(!1),O(!1),v.end_time||I(!0)},300))},title:Pe?Ie():"",children:[i.jsx("span",{className:"relative z-0",children:_e.getDate()}),Pe&&i.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-red-600 font-bold text-base z-10 pointer-events-none",style:{fontSize:"14px"},children:""})]},se)})}),re&&i.jsx("div",{className:"mt-3 px-2 py-1.5 bg-blue-50 rounded-xl border border-blue-100",children:i.jsx("p",{className:"text-xs text-blue-700",children:re})})]})})]}),i.jsxs("div",{className:"relative",ref:D,children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ora returnrii *"}),i.jsxs("button",{type:"button",onClick:()=>{I(!M),T(!1),F(!1),B(!1)},className:`w-full flex items-center justify-start gap-2 border rounded-xl py-3 px-3 transition-colors text-sm font-medium ${v.end_time?"border-white/30 text-white hover:border-white/50 bg-white/5":"border-white/20 text-gray-400 hover:border-white/30 bg-white/5"}`,children:[i.jsx(Aa,{className:"w-4 h-4"}),i.jsx("span",{children:v.end_time||"__ : __"})]}),i.jsx(hr,{children:M&&i.jsx(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 top-full left-0 mt-2 bg-[#343434] border border-white/20 rounded-lg shadow-lg p-3 max-h-[200px] overflow-y-auto min-w-[120px]",onClick:ie=>ie.stopPropagation(),children:i.jsx("div",{className:"grid grid-cols-2 gap-1",children:ae().map(ie=>i.jsx("button",{type:"button",onClick:()=>{S(se=>({...se,end_time:ie})),I(!1)},className:`px-3 py-2 text-xs rounded transition-colors ${v.end_time===ie?"bg-red-500 text-white font-medium":"text-white hover:bg-white/20"}`,children:ie},ie))})})})]})]})]}),i.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Opiuni de nchiriere"}),p.map(ie=>i.jsxs("div",{className:"mb-5",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:ie}),i.jsx("div",{className:"space-y-2",children:Fge.filter(se=>se.category===ie).map(se=>i.jsx(Bge,{option:se,checked:oe[se.id],onChange:(_e,Te)=>ve(Xe=>({...Xe,[_e]:Te}))},se.id))})]},ie))]}),i.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Comentariu ",i.jsx("span",{className:"text-gray-400 font-normal",children:"(opional)"})]}),i.jsx("textarea",{value:v.comment||"",onChange:ie=>S(se=>({...se,comment:ie.target.value})),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-red-500/50 resize-none",placeholder:"Adugai un comentariu (opional)"})]}),i.jsxs("div",{className:"bg-white/5 rounded-xl p-4 sm:p-6 border border-white/10",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Detalii pre"}),i.jsx("div",{className:"space-y-3",children:v.car_id&&n&&(summary?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-300",children:"Pre pe zi"}),i.jsx("div",{className:"flex flex-col items-end gap-0.5",children:i.jsxs("span",{className:"text-white font-medium",children:[summary.pricePerDay.toFixed(0)," MDL"]})})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-300",children:"Durat"}),i.jsxs("span",{className:"text-white font-medium",children:[summary.rentalDays," ",summary.rentalDays===1?"zi":"zile"]})]}),i.jsx("div",{className:"pt-2 border-t border-white/10",children:i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-white font-medium",children:"Pre de baz"}),i.jsxs("span",{className:"text-white font-medium",children:[Math.round(summary.basePrice).toLocaleString()," MDL"]})]})}),summary.additionalCosts>0&&i.jsx(i.Fragment,{children:i.jsxs("div",{className:"pt-3 border-t border-white/10",children:[i.jsx("h4",{className:"text-sm font-bold text-white mb-3",children:"Servicii suplimentare"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[oe.unlimitedKm&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Kilometraj nelimitat"}),i.jsxs("span",{className:"text-white font-medium",children:[Math.round(summary.baseCarPrice*summary.rentalDays*.5).toLocaleString()," MDL"]})]}),oe.speedLimitIncrease&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Creterea limitei de vitez"}),i.jsxs("span",{className:"text-white font-medium",children:[Math.round(summary.baseCarPrice*summary.rentalDays*.2).toLocaleString()," MDL"]})]}),oe.tireInsurance&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Asigurare anvelope & parbriz"}),i.jsxs("span",{className:"text-white font-medium",children:[Math.round(summary.baseCarPrice*summary.rentalDays*.2).toLocaleString()," MDL"]})]}),oe.personalDriver&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"ofer personal"}),i.jsxs("span",{className:"text-white font-medium",children:[800*summary.rentalDays," MDL"]})]}),oe.priorityService&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Serviciu prioritar"}),i.jsxs("span",{className:"text-white font-medium",children:[1e3*summary.rentalDays," MDL"]})]}),oe.childSeat&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Scaun auto pentru copii"}),i.jsxs("span",{className:"text-white font-medium",children:[100*summary.rentalDays," MDL"]})]}),oe.simCard&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Cartel SIM cu internet"}),i.jsxs("span",{className:"text-white font-medium",children:[100*summary.rentalDays," MDL"]})]}),oe.roadsideAssistance&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Asisten rutier"}),i.jsxs("span",{className:"text-white font-medium",children:[500*summary.rentalDays," MDL"]})]}),i.jsx("div",{className:"pt-2 border-t border-white/10",children:i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{className:"text-white",children:"Total servicii"}),i.jsx("span",{className:"text-white",children:Li(summary.additionalCosts)})]})})]})]})}),i.jsxs("div",{className:"pt-3 border-t border-white/10 flex items-center justify-between",children:[i.jsx("span",{className:"text-white font-bold text-lg",children:"Total"}),i.jsx("span",{className:"text-white font-bold text-xl",children:Li(summary.totalPrice)})]})]}):null)})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-end pt-4 border-t border-white/10",children:[i.jsx("button",{type:"button",onClick:r,className:"px-4 sm:px-6 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded-lg transition-all text-sm sm:text-base",children:s("admin.common.cancel")}),i.jsxs("button",{type:"submit",className:"px-4 sm:px-6 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 hover:text-red-200 font-semibold rounded-lg transition-all backdrop-blur-xl flex items-center justify-center gap-2 text-sm sm:text-base",children:[i.jsx(Bh,{className:"w-4 h-4"}),s("admin.requests.createRental")]})]})]})})})]})},"modal")]},"modal-container")}),document.body)},qge=()=>{yu();const e=Pn(),[r,n]=N.useState([]),[a,s]=N.useState([]),[o,l]=N.useState(!1),[c,u]=N.useState(null),[d,f]=N.useState(1),p=5,[x,g]=N.useState(0),[y,w]=N.useState(!1),[v,S]=N.useState(new Map),[k,j]=N.useState(new Map);async function C(){w(!0);try{const M=await Py();s(M),g(M.length);const I=(d-1)*p,q=I+p,H=M.slice(I,q);n(H),H&&H.length>0&&await Promise.all([V(H),B(H)])}catch(M){console.error(M)}finally{w(!1)}}N.useEffect(()=>{C()},[]),N.useEffect(()=>{if(a.length>0){const M=(d-1)*p,I=M+p,q=a.slice(M,I);n(q)}},[d,a,p]);const z=M=>{e(`/cars/${M.id}`)};function $(M){u(M),l(!0)}function F(){l(!1),u(null)}const V=async M=>{if(!M||M.length===0)return;const I=M.map(q=>typeof q.id=="number"?q.id:parseInt(String(q.id),10));try{const q=I.map(Y=>Rt.from("Rentals").select("*").eq("car_id",Y).order("created_at",{ascending:!1})),H=I.map(Y=>Rt.from("BorrowRequest").select("*").eq("car_id",Y).in("status",["APPROVED"]).order("requested_at",{ascending:!1})),[te,O]=await Promise.all([Promise.all(q),Promise.all(H)]),re=new Map;I.forEach((Y,P)=>{const L=Y.toString(),R=te[P].data||[],G=O[P].data||[];re.set(L,{rentals:R,borrowRequests:G})}),S(re)}catch(q){console.error("Error fetching cars availability:",q)}},B=async M=>{if(!(!M||M.length===0))try{const I=M.map(async te=>{try{let O=te.name;(!O||O.trim()==="")&&(O=`${te.make} ${te.model}`);const{mainImage:re,photoGallery:Y}=await ia(O);return{carId:te.id.toString(),mainImage:re||te.image_url,photoGallery:Y.length>0?Y:te.photo_gallery||[]}}catch(O){return console.error(`Error fetching images for car ${te.id}:`,O),{carId:te.id.toString(),mainImage:te.image_url,photoGallery:te.photo_gallery||[]}}}),q=await Promise.all(I),H=new Map;q.forEach(te=>{H.set(te.carId,{mainImage:te.mainImage||"",photoGallery:te.photoGallery})}),j(H)}catch(I){console.error("Error fetching cars images:",I)}},K=({car:M,availabilityData:I,imageData:q})=>{const[H,te]=N.useState(null),[O,re]=N.useState(0),Y={...M,image_url:(q==null?void 0:q.mainImage)||M.image_url,photo_gallery:(q==null?void 0:q.photoGallery)||M.photo_gallery||[]},P=(I==null?void 0:I.rentals)||[],L=(I==null?void 0:I.borrowRequests)||[];N.useEffect(()=>{if(!I)return;const{rentals:G,borrowRequests:X}=I,D=G.map(ve=>({id:ve.id.toString(),user_id:ve.user_id,car_id:ve.car_id.toString(),start_date:ve.start_date,start_time:ve.start_time||"09:00:00",end_date:ve.end_date,end_time:ve.end_time||"17:00:00",status:"APPROVED",created_at:ve.created_at,updated_at:ve.updated_at})),Z=X.map(ve=>({id:ve.id.toString(),user_id:ve.user_id,car_id:ve.car_id.toString(),start_date:ve.start_date,start_time:ve.start_time||"09:00:00",end_date:ve.end_date,end_time:ve.end_time||"17:00:00",status:"APPROVED",created_at:ve.requested_at||ve.created_at,updated_at:ve.updated_at})),le=[...D,...Z].filter(ve=>ve.start_date&&ve.end_date),Q=new Date;let oe=null;if(le.length>0){const ve=[...le].sort((ge,ie)=>{const se=new Date(ge.start_date||0),_e=new Date(ie.start_date||0);return se.getTime()-_e.getTime()});let ue=null;for(let ge=0;ge<ve.length;ge++){const ie=ve[ge];if(!ie.end_date)continue;const se=ie.end_date.includes("T")?ie.end_date.split("T")[0]:ie.end_date.split(" ")[0],_e=new Date(se);if(ie.end_time){const[Te,Xe]=ie.end_time.split(":").map(Number);_e.setHours(Te||17,Xe||0,0,0)}else _e.setHours(17,0,0,0);if(_e.setHours(_e.getHours()+12),ge===0)ue=_e;else{const Te=ve[ge-1];if(!Te.end_date)continue;const Xe=Te.end_date.includes("T")?Te.end_date.split("T")[0]:Te.end_date.split(" ")[0],Me=new Date(Xe);if(Te.end_time){const[Ae,Ie]=Te.end_time.split(":").map(Number);Me.setHours(Ae||17,Ie||0,0,0)}else Me.setHours(17,0,0,0);Me.setHours(Me.getHours()+12);const Re=ie.start_date.includes("T")?ie.start_date.split("T")[0]:ie.start_date.split(" ")[0],xe=new Date(Re);if(ie.start_time){const[Ae,Ie]=ie.start_time.split(":").map(Number);xe.setHours(Ae||9,Ie||0,0,0)}else xe.setHours(9,0,0,0);const Pe=xe.getTime()-Me.getTime(),be=24*60*60*1e3;Pe>=0&&Pe<=be+60*60*1e3||ue&&ue>Q&&(oe=ue),ue=_e}}ue&&ue>Q&&(oe=ue)}te(oe)},[I]);const R=()=>{const G=ue=>{const ge=ue.getFullYear(),ie=String(ue.getMonth()+1).padStart(2,"0"),se=String(ue.getDate()).padStart(2,"0");return`${ge}-${ie}-${se}`},X=ue=>P.length===0?!1:P.some(ge=>{if(!ge.end_date||!ge.end_time)return!1;const ie=ge.end_date.includes("T")?ge.end_date.split("T")[0]:ge.end_date.split(" ")[0],se=new Date(ie+"T00:00:00"),[_e,Te]=ge.end_time.split(":").map(Number);se.setHours(_e||17,Te||0,0,0);const Xe=new Date(se);Xe.setHours(Xe.getHours()+12);const Me=new Date(ue);Me.setHours(0,0,0,0);const Re=new Date(se);Re.setHours(0,0,0,0);const xe=new Date(Xe);return xe.setHours(0,0,0,0),Re.getTime()===xe.getTime()?G(Me)===G(Re):Me>=Re&&Me<=xe}),D=ue=>{const ge=ue.split("T")[0],ie=new Date(ge+"T00:00:00");ie.setHours(0,0,0,0);const se=new Date;return se.setHours(0,0,0,0),ie<se?!1:X(ie)||L.length>0&&L.some(Te=>{if(!Te.start_date||!Te.end_date)return!1;const Xe=Te.start_date.includes("T")?Te.start_date.split("T")[0]:Te.start_date.split(" ")[0],Me=new Date(Xe+"T00:00:00");Me.setHours(0,0,0,0);const Re=Te.end_date.includes("T")?Te.end_date.split("T")[0]:Te.end_date.split(" ")[0],xe=new Date(Re+"T23:59:59");return xe.setHours(23,59,59,999),xe>=se&&ie>=Me&&ie<=xe})?!0:P.length>0?P.some(Te=>{if(!Te.start_date||!Te.end_date)return!1;const Xe=Te.start_date.includes("T")?Te.start_date.split("T")[0]:Te.start_date.split(" ")[0],Me=new Date(Xe+"T00:00:00");Me.setHours(0,0,0,0);const Re=Te.end_date.includes("T")?Te.end_date.split("T")[0]:Te.end_date.split(" ")[0],xe=new Date(Re+"T23:59:59");return xe.setHours(23,59,59,999),xe>=se&&ie>=Me&&ie<=xe}):!1},Z=()=>{const ue=new Date;ue.setHours(0,0,0,0);const ge=G(ue);let ie=new Date(ue);for(let se=0;se<60;se++){const _e=G(ie),Te=_e<ge,Xe=H?(()=>{const Re=new Date(H);Re.setHours(0,0,0,0);const xe=new Date(_e);return xe.setHours(0,0,0,0),Re<=ue&&xe<Re})():!1,Me=D(_e);if(!Te&&!Xe&&!Me)return ie;ie.setDate(ie.getDate()+1)}return null},ae=ue=>{const ge=ue.getDate(),se=["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"][ue.getMonth()];return`Liber de pe ${ge} ${se}`},le=Z(),Q=new Date;Q.setHours(0,0,0,0);const oe=le&&G(le)===G(Q),ve=le?oe?"Disponibil":ae(le):M.status==="available"||M.status==="Available"?"Disponibil":M.status||"";return!ve||ve==="Disponibil"?null:i.jsxs("div",{className:"absolute top-3 left-3 bg-black/60 backdrop-blur-md text-white rounded-xl px-3 py-1.5 text-xs font-normal shadow-sm flex items-center gap-1.5",children:[i.jsx("svg",{className:"w-3 h-3 flex-shrink-0 opacity-80",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("span",{className:"whitespace-nowrap",children:ve})]})};return i.jsxs("div",{className:"bg-gradient-to-br from-white/5 to-white/10 backdrop-blur-md rounded-3xl border border-white/20 overflow-hidden transition-all duration-300 group cursor-pointer hover:-translate-y-2 hover:shadow-2xl",children:[i.jsxs("div",{className:"relative overflow-hidden cursor-pointer",onMouseMove:G=>{if(Y.photo_gallery&&Y.photo_gallery.length>1){const X=G.currentTarget,D=X.getBoundingClientRect(),Z=G.clientX-D.left,ae=D.width,Q=Math.min(Y.photo_gallery.length,5),oe=Math.floor(Z/ae*Q),ve=Math.max(0,Math.min(oe,Q-1));re(ve);const ue=X.querySelector(".photo-gallery");if(ue){const ge=-(ve*100);ue.style.transform=`translateX(${ge}%)`}}},onMouseLeave:G=>{if(Y.photo_gallery&&Y.photo_gallery.length>1){re(0);const X=G.currentTarget.querySelector(".photo-gallery");X&&(X.style.transform="translateX(0%)")}},children:[i.jsx("div",{className:"flex transition-transform duration-300 ease-out group-hover:scale-105 photo-gallery",children:Y.photo_gallery&&Y.photo_gallery.length>1?(()=>{const X=Y.photo_gallery.slice(0,5),Z=Y.photo_gallery.length-5;return X.map((ae,le)=>i.jsxs("div",{className:"relative w-full h-56 flex-shrink-0",style:{minWidth:"100%"},children:[i.jsx("img",{src:ae,alt:`${Y.make} ${Y.model} - Photo ${le+1}`,className:"w-full h-56 object-cover object-center bg-black/10"}),le===X.length-1&&Z>0?i.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center text-white",children:[i.jsx(Za,{className:"w-8 h-8 mb-2"}),i.jsxs("span",{className:"text-lg font-semibold",children:["+",Z," mai multe"]})]}):null]},le))})():Y.image_url?i.jsx("img",{src:Y.image_url,alt:Y.make+" "+Y.model,className:"w-full h-56 object-cover object-center bg-black/10"}):i.jsxs("div",{className:"w-full h-56 bg-black/10 flex flex-col items-center justify-center text-gray-300 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"radial-gradient(circle at 2px 2px, black 1px, transparent 0)",backgroundSize:"16px 16px"}}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/10 flex items-center justify-center mb-3 shadow-sm border border-white/10",children:i.jsx(Za,{className:"w-8 h-8 text-gray-300"})}),i.jsx("span",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Fr fotografii"})]})]})}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),R(),Y.photo_gallery&&Y.photo_gallery.length>1&&i.jsx("div",{className:"absolute bottom-3 left-0 right-0 flex justify-center space-x-1 px-4",children:Array.from({length:Math.min(Y.photo_gallery.length,5)}).map((G,X)=>i.jsx("div",{className:`flex-1 h-0.5 rounded-full transition-colors duration-200 ${X===O?"bg-white/90":"bg-white/30"}`},X))})]}),i.jsxs("div",{className:"p-5 flex flex-col justify-between flex-1 cursor-pointer",onClick:G=>{G.target instanceof HTMLElement&&G.target.closest("button")||z(Y)},children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-lg font-bold text-white group-hover:text-gray-300 transition-colors duration-300",children:[Y.make," ",Y.model]}),i.jsx("span",{className:"text-lg font-bold text-gray-300",children:Y.year})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[i.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:i.jsx(im,{className:"w-4 h-4 text-gray-300"})}),i.jsxs("span",{className:"text-sm font-medium",children:[Y.seats," locuri"]})]}),i.jsxs("div",{className:"flex items-center justify-end gap-2 text-gray-300",children:[i.jsx("span",{className:"text-sm font-medium",children:(()=>{var X;const G=((X=Y.transmission)==null?void 0:X.trim())||"";return G.toLowerCase()==="automatic"||G==="Automatic"?"Automat":G.toLowerCase()==="manual"||G==="Manual"?"Manual":G||"Automat"})()}),i.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:T(Y.transmission||"Automatic")})]}),i.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[i.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:i.jsx(Sy,{className:"w-4 h-4 text-gray-300"})}),i.jsx("span",{className:"text-sm font-medium",children:Y.fuel_type==="gasoline"?"Benzin":Y.fuel_type==="diesel"?"Diesel":Y.fuel_type==="petrol"?t("car.fuel.benzina"):Y.fuel_type==="hybrid"?"Hibrid":Y.fuel_type==="electric"?"Electric":Y.fuel_type})]}),i.jsxs("div",{className:"flex items-center justify-end gap-2 text-gray-300",children:[i.jsx("span",{className:"text-sm font-medium capitalize",children:Y.body}),i.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:i.jsx(ky,{className:"w-4 h-4 text-gray-300"})})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/20",children:[(()=>{const G=Y.price_over_30_days||0,X=Y.discount_percentage||0,D=X>0?G*(1-X/100):G;return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsxs("span",{className:"text-xl font-bold text-white",children:[D.toFixed(0)," MDL"]}),i.jsx("span",{className:"text-gray-400 text-sm",children:"/zi"})]}),X>0&&i.jsxs("span",{className:"text-sm text-red-300 line-through font-semibold decoration-red-400/60 md:hidden",children:[G," MDL"]})]})})(),i.jsxs("button",{onClick:()=>$(Y),disabled:Y.status!=="available",className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 text-sm font-semibold ${Y.status==="available"?"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white shadow-lg hover:shadow-xl transform hover:-translate-y-0.5":"bg-gray-600/20 text-gray-400 cursor-not-allowed border border-gray-500/30"}`,children:[i.jsx(ss,{size:16}),"nchiriaz"]})]})]})]})},T=M=>{switch(M.toLowerCase()){case"automatic":return tt.createElement(uu,{className:"w-5 h-5 text-gray-400"});case"manual":return tt.createElement(E0,{className:"w-5 h-5 text-gray-400"});default:return tt.createElement(uu,{className:"w-5 h-5 text-gray-400"})}};return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{children:i.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:"All Cars"})}),y?i.jsx(bb,{message:"Loading cars..."}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.length>0?r.map(M=>i.jsx(K,{car:M,availabilityData:v.get(M.id.toString()),imageData:k.get(M.id.toString())},M.id)):i.jsx("div",{className:"col-span-full",children:i.jsx(x_,{icon:i.jsx(Za,{className:"w-12 h-12 text-gray-400"}),title:"No cars found",subtitle:"No cars are available at the moment"})})}),x>p&&i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 px-6 py-6 border-t border-white/10 mt-8",children:[i.jsxs("div",{className:"text-gray-400 text-sm",children:["Showing ",i.jsx("span",{className:"font-medium text-white",children:Math.min((d-1)*p+1,x)})," to"," ",i.jsx("span",{className:"font-medium text-white",children:Math.min(d*p,x)})," of"," ",i.jsx("span",{className:"font-medium text-white",children:x})," cars"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:()=>f(M=>Math.max(M-1,1)),disabled:d===1,className:`p-2 rounded-lg transition-all duration-200 ${d===1?"bg-white/5 text-gray-500 cursor-not-allowed opacity-50":"bg-white/10 text-white hover:bg-white/20 hover:scale-105 active:scale-95"}`,"aria-label":"Previous page",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsx("div",{className:"flex items-center gap-1 px-3",children:(()=>{const M=Math.ceil(x/p),I=[],q=5;let H=Math.max(1,d-Math.floor(q/2)),te=Math.min(M,H+q-1);te-H+1<q&&(H=Math.max(1,te-q+1));for(let O=H;O<=te;O++)I.push(i.jsx("button",{onClick:()=>f(O),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all duration-200 ${d===O?"bg-red-600 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20 hover:text-white"}`,children:O},O));return I})()}),i.jsx("button",{onClick:()=>f(M=>M*p<x?M+1:M),disabled:d*p>=x,className:`p-2 rounded-lg transition-all duration-200 ${d*p>=x?"bg-white/5 text-gray-500 cursor-not-allowed opacity-50":"bg-white/10 text-white hover:bg-white/20 hover:scale-105 active:scale-95"}`,"aria-label":"Next page",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]}),c&&i.jsx(Uge,{isOpen:o,onClose:F,car:c,initialCarId:c==null?void 0:c.id})]})},Hge=({activeTab:e,t:r})=>{const[n,a]=N.useState(null),[s,o]=N.useState(!0),[l,c]=N.useState({firstName:"",lastName:"",phone:""}),[u,d]=N.useState(!1),[f,p]=N.useState(!0),[x,g]=N.useState(!1);async function y(){p(!0);try{const j=await MY();j&&(a(j),c({firstName:j.first_name||"",lastName:j.last_name||"",phone:j.phone_number||""}))}catch(j){console.error("Error fetching profile:",j)}finally{p(!1)}}N.useEffect(()=>{y()},[]);const w=async()=>{if(!n)return;d(!0);const j=await IY({id:n.id,first_name:l.firstName,last_name:l.lastName,phone_number:l.phone});j.success&&j.data?a(j.data[0]):alert("Failed to update profile: "+j.error),d(!1)},v=()=>{c({firstName:(n==null?void 0:n.first_name)||"",lastName:(n==null?void 0:n.last_name)||"",phone:(n==null?void 0:n.phone_number)||""}),o(!1),g(!1)},S=()=>{v()},k=()=>{g(!1)};return e!=="profile"?null:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 relative mb-8",children:[i.jsx(hr,{children:u&&!f&&i.jsxs(i.Fragment,{children:[i.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-black/50 backdrop-blur-xl rounded-2xl z-20"}),i.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 rounded-2xl z-30 flex items-center justify-center pointer-events-none",children:i.jsxs(De.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.3,ease:"easeOut"},className:"flex flex-col items-center gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(De.div,{className:"w-16 h-16 rounded-full border-4 border-red-500/20",animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"}}),i.jsx(De.div,{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-red-600 border-r-red-600/50",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"w-2 h-2 rounded-full bg-red-600"})})]}),i.jsx(De.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-white/90 font-medium text-sm",children:r("dashboard.profile.saving")||"Saving..."})]})})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-bold text-gray-200 mb-3",children:r("dashboard.profile.firstName")}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:l.firstName,onChange:j=>{const C=j.target.value.replace(/[0-9]/g,"");c({...l,firstName:C})},disabled:u||f,className:"w-full bg-white/10 border border-white/20 rounded-lg py-3 px-4 text-white text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-red-600 transition-all duration-300 disabled:opacity-50"}),f&&i.jsx("div",{className:"absolute inset-0 flex items-center px-4 pointer-events-none",children:i.jsx("div",{className:"h-4 w-24 bg-white/20 rounded animate-pulse"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-bold text-gray-200 mb-3",children:r("dashboard.profile.lastName")}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:l.lastName,onChange:j=>{const C=j.target.value.replace(/[0-9]/g,"");c({...l,lastName:C})},disabled:u||f,className:"w-full bg-white/10 border border-white/20 rounded-lg py-3 px-4 text-white text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-red-600 transition-all duration-300 disabled:opacity-50"}),f&&i.jsx("div",{className:"absolute inset-0 flex items-center px-4 pointer-events-none",children:i.jsx("div",{className:"h-4 w-24 bg-white/20 rounded animate-pulse"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-bold text-gray-200 mb-3",children:r("dashboard.profile.email")}),i.jsxs("div",{className:"relative",children:[i.jsx(jd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),i.jsx("input",{type:"email",value:(n==null?void 0:n.email)||"",disabled:!0,className:"w-full bg-white/10 border border-white/20 rounded-lg py-3 pl-11 pr-4 text-white text-base placeholder-gray-400 disabled:opacity-50"}),f&&i.jsx("div",{className:"absolute inset-0 flex items-center pl-11 pointer-events-none",children:i.jsx("div",{className:"h-4 w-32 bg-white/20 rounded animate-pulse"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-base font-bold text-gray-200 mb-3",children:r("dashboard.profile.phone")}),i.jsxs("div",{className:"relative",children:[i.jsx(Ah,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),i.jsx("input",{type:"tel",value:l.phone,onChange:j=>{const C=j.target.value.replace(/[^0-9+]/g,"");c({...l,phone:C})},disabled:u||f,className:"w-full bg-white/10 border border-white/20 rounded-lg py-3 pl-11 pr-4 text-white text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-red-600 transition-all duration-300 disabled:opacity-50"}),f&&i.jsx("div",{className:"absolute inset-0 flex items-center pl-11 pointer-events-none",children:i.jsx("div",{className:"h-4 w-28 bg-white/20 rounded animate-pulse"})})]})]})]}),i.jsx("div",{className:"flex gap-4 mt-6",children:i.jsx("button",{onClick:w,disabled:u,className:"bg-red-600 hover:bg-red-700 text-white font-medium px-6 py-2 rounded-lg transition-all duration-300 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:u?i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Qa,{className:"w-5 h-5 animate-spin"}),r("dashboard.profile.saving")||"Saving..."]}):r("dashboard.profile.saveChanges")})})]}),ei.createPortal(i.jsx(hr,{children:x&&i.jsxs(i.Fragment,{children:[i.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9998]",onClick:k}),i.jsx(De.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.3,ease:"easeOut"},className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",onClick:j=>j.stopPropagation(),children:i.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl shadow-lg max-w-md w-full",children:[i.jsxs("div",{className:"px-6 py-5 border-b border-white/20 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-500/20 flex items-center justify-center",children:i.jsx(IO,{className:"w-6 h-6 text-yellow-500"})}),i.jsx("h3",{className:"text-2xl font-bold text-white",children:r("dashboard.profile.discardChanges")||"Discard Changes?"})]}),i.jsx("button",{onClick:k,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:i.jsx(kn,{className:"w-6 h-6 text-white/70"})})]}),i.jsx("div",{className:"px-6 py-5",children:i.jsx("p",{className:"text-white/80 text-base leading-relaxed font-medium",children:r("dashboard.profile.discardChangesMessage")||"You have unsaved changes. Are you sure you want to discard them? This action cannot be undone."})}),i.jsxs("div",{className:"px-6 py-5 border-t border-white/20 flex items-center justify-end gap-3",children:[i.jsx("button",{onClick:k,className:"px-4 py-2 bg-gray-500/20 hover:bg-gray-500/30 border border-gray-500/50 text-gray-300 font-semibold rounded-lg hover:border-gray-500/60 transition-all text-sm whitespace-nowrap flex items-center gap-2",children:r("dashboard.profile.keepEditing")||"Keep Editing"}),i.jsx("button",{onClick:S,className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-300 font-semibold rounded-lg hover:border-red-500/60 transition-all text-sm whitespace-nowrap flex items-center gap-2",children:r("dashboard.profile.discard")||"Discard Changes"})]})]})})]})}),document.body)]})},Vge=({t:e,passwordForm:r,setPasswordForm:n,notificationSettings:a,handleNotificationToggle:s})=>{const[o,l]=N.useState(null),[c,u]=N.useState(null),[d,f]=N.useState({}),p=y=>y?y.length<6?"Password must be at least 6 characters":/(?=.*[a-zA-Z])/.test(y)?/[!@#$%^&*(),.?":{}|<>]/.test(y)?null:"Password must contain at least one special character":"Password must contain at least one letter":"Password is required",x=(y,w)=>{n({...r,[y]:w}),d[y]&&f({...d,[y]:void 0}),o&&l(null)};N.useEffect(()=>{if(r.newPassword&&r.confirmPassword){const y=r.newPassword===r.confirmPassword;f(w=>({...w,confirmPassword:y?void 0:e("dashboard.settings.passwordsDoNotMatch")||"Passwords do not match"}))}},[r.newPassword,r.confirmPassword,e]),N.useEffect(()=>{if(c){const y=setTimeout(()=>{u(null)},3e3);return()=>clearTimeout(y)}},[c]),N.useEffect(()=>{if(o){const y=setTimeout(()=>{l(null)},5e3);return()=>clearTimeout(y)}},[o]);const g=async y=>{y.preventDefault(),l(null),u(null),f({});const w={};r.currentPassword||(w.currentPassword="Current password is required");const v=p(r.newPassword);if(v&&(w.newPassword=v),r.confirmPassword?r.newPassword!==r.confirmPassword&&(w.confirmPassword="Passwords do not match"):w.confirmPassword="Please confirm your new password",Object.keys(w).length>0){f(w);return}const{success:S,error:k}=await RX(r.currentPassword,r.newPassword);S?(u("Password updated successfully!"),n({currentPassword:"",newPassword:"",confirmPassword:""}),f({})):l(k||e("dashboard.settings.passwordUpdateFailed")||"Failed to update password. Please try again.")};return i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 mb-8",children:[i.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:e("dashboard.settings.changePassword")}),i.jsx(hr,{children:o&&i.jsx(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.3,ease:"easeOut"},className:"mb-4 p-4 bg-gradient-to-r from-red-500/20 to-rose-500/20 backdrop-blur-sm border border-red-500/30 rounded-xl shadow-lg shadow-red-500/10",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(De.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.1,type:"spring",stiffness:200},className:"flex-shrink-0 w-10 h-10 rounded-full bg-red-500 flex items-center justify-center shadow-md",children:i.jsx(If,{className:"w-5 h-5 text-white",strokeWidth:2.5})}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-red-100 font-medium text-sm leading-tight",children:o})})]})})}),i.jsx(hr,{children:c&&i.jsx(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.3,ease:"easeOut"},className:"mb-4 p-4 bg-gradient-to-r from-green-500/20 to-emerald-500/20 backdrop-blur-sm border border-green-500/30 rounded-xl shadow-lg shadow-green-500/10",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(De.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1,type:"spring",stiffness:200},className:"flex-shrink-0 w-10 h-10 rounded-full bg-green-500 flex items-center justify-center shadow-md",children:i.jsx(xd,{className:"w-5 h-5 text-white",strokeWidth:2.5})}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-green-100 font-medium text-sm leading-tight",children:c})})]})})}),i.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("dashboard.settings.currentPassword")}),i.jsx("input",{type:"password",value:r.currentPassword,onChange:y=>x("currentPassword",y.target.value),className:`w-full bg-white/10 border rounded-lg py-2 px-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-all duration-300 ${d.currentPassword?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-white/20 focus:ring-red-600 focus:border-red-600"}`,placeholder:e("dashboard.settings.enterCurrentPassword")}),i.jsx(hr,{children:d.currentPassword&&i.jsxs(De.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},transition:{duration:.15},className:"mt-1 text-sm text-red-400 flex items-center gap-1",children:[i.jsx(If,{className:"w-3 h-3"}),d.currentPassword]})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("dashboard.settings.newPassword")}),i.jsx("input",{type:"password",value:r.newPassword,onChange:y=>x("newPassword",y.target.value),className:`w-full bg-white/10 border rounded-lg py-2 px-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-all duration-300 ${d.newPassword?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-white/20 focus:ring-red-600 focus:border-red-600"}`,placeholder:e("dashboard.settings.enterNewPassword")}),i.jsx(hr,{children:d.newPassword&&i.jsxs(De.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},transition:{duration:.15},className:"mt-1 text-sm text-red-400 flex items-center gap-1",children:[i.jsx(If,{className:"w-3 h-3"}),d.newPassword]})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("dashboard.settings.confirmNewPassword")}),(()=>{const y=!!d.confirmPassword,w=r.confirmPassword&&r.newPassword===r.confirmPassword;let v="border-white/20 focus:ring-red-600 focus:border-red-600";return y?v="border-red-500 focus:ring-red-500 focus:border-red-500":w&&(v="border-green-500/50 focus:ring-green-500 focus:border-green-500"),i.jsx("input",{type:"password",value:r.confirmPassword,onChange:S=>x("confirmPassword",S.target.value),className:`w-full bg-white/10 border rounded-lg py-2 px-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-all duration-300 ${v}`,placeholder:e("dashboard.settings.confirmNewPasswordPlaceholder")})})(),i.jsx(hr,{children:d.confirmPassword&&i.jsxs(De.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},transition:{duration:.15},className:"mt-1 text-sm text-red-400 flex items-center gap-1",children:[i.jsx(If,{className:"w-3 h-3"}),d.confirmPassword]})}),r.confirmPassword&&!d.confirmPassword&&r.newPassword===r.confirmPassword&&i.jsxs(De.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-xs text-green-400 flex items-center gap-1",children:[i.jsx(xd,{className:"w-3 h-3"}),e("dashboard.settings.passwordsMatch")||"Passwords match"]})]}),i.jsx("button",{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white font-medium px-6 py-2 rounded-lg transition-all duration-300 shadow-md hover:shadow-lg",children:e("dashboard.settings.updatePassword")})]})]})})},Wge=({t:e,activeTab:r,passwordForm:n,setPasswordForm:a,notificationSettings:s,handleNotificationToggle:o})=>{const[l,c]=yu(),u=l.get("subTab"),[d,f]=N.useState(()=>u&&(u==="profile"||u==="settings")?u:"profile");return N.useEffect(()=>{u&&(u==="profile"||u==="settings")&&f(u)},[u]),N.useEffect(()=>{!u&&r==="settings"&&c({tab:"settings",subTab:"profile"},{replace:!0})},[r,u,c]),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{children:i.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:e("dashboard.settings.title")})}),i.jsxs("div",{className:"flex gap-2 mb-6 border-b border-white/10",children:[i.jsx("button",{onClick:()=>{f("profile"),c({tab:"settings",subTab:"profile"},{replace:!0})},className:`px-6 py-3 text-sm font-semibold transition-all duration-300 border-b-2 ${d==="profile"?"text-red-600 border-red-600":"text-gray-400 border-transparent hover:text-white"}`,children:e("dashboard.sidebar.profile")}),i.jsx("button",{onClick:()=>{f("settings"),c({tab:"settings",subTab:"settings"},{replace:!0})},className:`px-6 py-3 text-sm font-semibold transition-all duration-300 border-b-2 ${d==="settings"?"text-red-600 border-red-600":"text-gray-400 border-transparent hover:text-white"}`,children:e("dashboard.sidebar.settings")})]}),d==="profile"&&i.jsx(Hge,{activeTab:"profile",t:e}),d==="settings"&&i.jsx(Vge,{t:e,passwordForm:n,setPasswordForm:a,notificationSettings:s,handleNotificationToggle:o})]})};function Kge({favoriteCars:e}){const{ref:r,isInView:n}=ym(),{t:a}=mr(),[s,o]=N.useState(e||[]),[l,c]=N.useState(new Map),u=()=>{try{const y=localStorage.getItem("carFavorites");return y?JSON.parse(y):[]}catch{return[]}},d=(y,w)=>{const v=u();{const S=v.indexOf(y);S>-1&&v.splice(S,1)}localStorage.setItem("carFavorites",JSON.stringify(v))},f=(y,w)=>{window.confirm(`Eti sigur c vrei s scoi "${w}" din favorite?`)&&(d(y),o(S=>S.filter(k=>{var j;return((j=k.car)==null?void 0:j.id)!==y})),c(S=>{const k=new Map(S);return k.delete(y),k}))};N.useEffect(()=>{(async()=>{if(!(!e||e.length===0))try{const w=await Promise.all(e.map(async v=>{var S;if(!v.car)return v;try{let k=v.car.name;(!k||k.trim()==="")&&(k=`${v.car.make} ${v.car.model}`);const{mainImage:j,photoGallery:C}=await ia(k);return{...v,car:{...v.car,image_url:j||v.car.image_url,photo_gallery:C.length>0?C:v.car.photo_gallery}}}catch(k){return console.error(`Error fetching images for car ${(S=v.car)==null?void 0:S.id}:`,k),v}}));o(w)}catch(w){console.error("Error fetching cars images:",w),o(e)}})()},[e]);const p=Pn(),x=(y,w)=>{var k,j,C,z,$,F,V,B,K,T,M,I,q,H,te,O,re;const v=((k=y.car)==null?void 0:k.id)||w,S=l.get(v)||0;return i.jsxs("div",{className:"bg-gradient-to-br from-white/5 to-white/10 backdrop-blur-md rounded-3xl border border-white/20 overflow-hidden transition-all duration-300 group cursor-pointer hover:-translate-y-2 hover:shadow-2xl",children:[i.jsxs("div",{className:"relative overflow-hidden cursor-pointer",onClick:()=>{var Y;return p(`/cars/${(Y=y.car)==null?void 0:Y.id}`)},onMouseMove:Y=>{var P;if((P=y.car)!=null&&P.photo_gallery&&y.car.photo_gallery.length>1){const L=Y.currentTarget,R=L.getBoundingClientRect(),G=Y.clientX-R.left,X=R.width,Z=Math.min(y.car.photo_gallery.length,5),ae=Math.floor(G/X*Z),le=Math.max(0,Math.min(ae,Z-1));c(oe=>new Map(oe.set(v,le)));const Q=L.querySelector(".photo-gallery");if(Q){const oe=-(le*100);Q.style.transform=`translateX(${oe}%)`}}},onMouseLeave:Y=>{var P;if((P=y.car)!=null&&P.photo_gallery&&y.car.photo_gallery.length>1){c(R=>new Map(R.set(v,0)));const L=Y.currentTarget.querySelector(".photo-gallery");L&&(L.style.transform="translateX(0%)")}},children:[i.jsx("div",{className:"flex transition-transform duration-300 ease-out group-hover:scale-105 photo-gallery",children:(j=y.car)!=null&&j.photo_gallery&&y.car.photo_gallery.length>1?(()=>{const P=y.car.photo_gallery.slice(0,5),R=y.car.photo_gallery.length-5;return P.map((G,X)=>{var D,Z;return i.jsxs("div",{className:"relative w-full h-56 flex-shrink-0",style:{minWidth:"100%"},children:[i.jsx("img",{src:G,alt:`${(D=y.car)==null?void 0:D.make} ${(Z=y.car)==null?void 0:Z.model} - Photo ${X+1}`,className:"w-full h-56 object-cover object-center bg-black/10 rounded-t-3xl"}),(()=>{const ae=X===P.length-1;return ae&&R>0?i.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center text-white",children:[i.jsx(Hf,{className:"w-8 h-8 mb-2"}),i.jsx("span",{className:"text-lg font-semibold",children:a("car.seeMorePhotos",{count:R})})]}):ae&&R===0?i.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center text-white",children:[i.jsx(Hf,{className:"w-8 h-8 mb-2"}),i.jsx("span",{className:"text-lg font-semibold",children:a("car.seeCar")})]}):null})()]},X)})})():(C=y.car)!=null&&C.image_url?i.jsx("img",{src:y.car.image_url,alt:y.car.make+" "+y.car.model,className:"w-full h-56 object-cover object-center bg-black/10 rounded-t-3xl"}):i.jsxs("div",{className:"w-full h-56 bg-black/10 flex flex-col items-center justify-center text-gray-300 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"radial-gradient(circle at 2px 2px, black 1px, transparent 0)",backgroundSize:"16px 16px"}}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/10 flex items-center justify-center mb-3 shadow-sm border border-white/10",children:i.jsx(Hf,{className:"w-8 h-8 text-gray-300"})}),i.jsx("span",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Fr fotografii"})]})]})}),((z=y.car)==null?void 0:z.photo_gallery)&&y.car.photo_gallery.length>1&&i.jsx("div",{className:"absolute bottom-3 left-0 right-0 flex justify-center space-x-1 px-4",children:Array.from({length:Math.min(y.car.photo_gallery.length,5)}).map((Y,P)=>i.jsx("div",{className:`flex-1 h-0.5 rounded-full transition-colors duration-200 ${P===S?"bg-white/90":"bg-white/30"}`},P))}),i.jsx("div",{className:"absolute top-3 right-3 z-10 w-8 h-8 bg-red-500 rounded-full flex items-center justify-center shadow-lg border border-white/20 cursor-pointer hover:bg-red-600 transition-colors duration-200",onClick:Y=>{var P,L,R;Y.stopPropagation(),f(((P=y.car)==null?void 0:P.id)||0,`${(L=y.car)==null?void 0:L.make} ${(R=y.car)==null?void 0:R.model}`)},title:"Scoate din favorite",children:i.jsx(lv,{className:"text-white w-5 h-5"})})]}),i.jsxs("div",{className:"p-5 flex flex-col justify-between flex-1",onClick:()=>{var Y;return p(`/cars/${(Y=y.car)==null?void 0:Y.id}`)},children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-lg font-bold text-white group-hover:text-gray-300 transition-colors duration-300",children:[($=y.car)==null?void 0:$.make," ",(F=y.car)==null?void 0:F.model]}),i.jsx("span",{className:"text-lg font-bold text-gray-300",children:(V=y.car)==null?void 0:V.year})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[i.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:i.jsx(ST,{className:"w-4 h-4 text-gray-300"})}),i.jsx("span",{className:"text-sm font-medium",children:a("car.mileageLimit")})]}),i.jsxs("div",{className:"flex items-center justify-end gap-2 text-gray-300",children:[i.jsx("span",{className:"text-sm font-medium",children:(()=>{var P,L;const Y=((L=(P=y.car)==null?void 0:P.transmission)==null?void 0:L.trim())||"";return Y.toLowerCase()==="automatic"||Y==="Automatic"?"Automat":Y.toLowerCase()==="manual"||Y==="Manual"?"Manual":Y||"Automat"})()}),i.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:g(((B=y.car)==null?void 0:B.transmission)||"Automatic")})]}),i.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[i.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:i.jsx(Sy,{className:"w-4 h-4 text-gray-300"})}),i.jsx("span",{className:"text-sm font-medium",children:((K=y.car)==null?void 0:K.fuel_type)==="gasoline"?"Benzin":((T=y.car)==null?void 0:T.fuel_type)==="diesel"?"Diesel":((M=y.car)==null?void 0:M.fuel_type)==="petrol"?a("car.fuel.benzina"):((I=y.car)==null?void 0:I.fuel_type)==="hybrid"?"Hibrid":((q=y.car)==null?void 0:q.fuel_type)==="electric"?"Electric":(H=y.car)==null?void 0:H.fuel_type})]}),i.jsxs("div",{className:"flex items-center justify-end gap-2 text-gray-300",children:[i.jsx("span",{className:"text-sm font-medium",children:((te=y.car)==null?void 0:te.drivetrain)||""}),i.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center",children:i.jsx(ky,{className:"w-4 h-4 text-gray-300"})})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/20",children:[(()=>{var R,G;const Y=y.car.pricePerDay||((R=y.car)==null?void 0:R.price_per_day)||0,P=y.car.discount_percentage||((G=y.car)==null?void 0:G.discount_percentage)||0,L=P>0?Y*(1-P/100):Y;return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsxs("span",{className:"text-xl font-bold text-white",children:[L.toFixed(0)," MDL"]}),i.jsx("span",{className:"text-gray-400 text-sm",children:"/zi"})]}),P>0&&i.jsxs("span",{className:"text-sm text-red-300 line-through font-semibold decoration-red-400/60",children:[Y," MDL"]})]})})(),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-sm font-semibold text-white h-6 flex items-center justify-center",children:(O=y.car)==null?void 0:O.rating}),i.jsx("img",{src:"/assets/star.png",alt:"Rating",className:"w-6 h-6 flex-shrink-0 ml-2 relative bottom-0.5"})]})]})]})]},((re=y.car)==null?void 0:re.id)||w)},g=y=>{switch(y.toLowerCase()){case"automatic":return tt.createElement(uu,{className:"w-5 h-5 text-gray-400"});case"manual":return tt.createElement(E0,{className:"w-5 h-5 text-gray-400"});case"hybrid":return i.jsx(TO,{className:"w-5 h-5 text-green-500"});default:return tt.createElement(uu,{className:"w-5 h-5 text-gray-400"})}};return!s||s.length===0?i.jsx("div",{className:"bg-gradient-to-br from-white/5 to-white/10 backdrop-blur-md rounded-2xl p-8 border border-white/20",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-red-500/20 to-red-600/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-red-500/30",children:i.jsx(lv,{className:"text-red-400",size:32})}),i.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:a("dashboard.overview.favoriteCars")}),i.jsx("p",{className:"text-gray-400 text-lg mb-6 max-w-md mx-auto",children:a("dashboard.overview.noFavoriteCars")}),i.jsxs("button",{onClick:()=>p("/cars"),className:"inline-flex items-center gap-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 px-6 py-3 rounded-xl transition-all duration-300 text-white font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[i.jsx("span",{children:a("dashboard.overview.startBorrowing")}),i.jsx(ss,{size:18})]})]})}):i.jsxs(De.div,{ref:r,variants:jr,initial:"initial",animate:n?"animate":"initial",transition:{delay:.1},children:[i.jsx("div",{className:"mb-4",children:i.jsx("h3",{className:"text-xl font-bold text-white",children:a("dashboard.overview.favoriteCars")})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((y,w)=>x(y,w))})]})}const Gge=({setActiveTab:e,t:r})=>{const[n,a]=N.useState(null),[s,o]=N.useState([]),[l,c]=N.useState(!0),[u,d]=N.useState(null),[f,p]=N.useState(!1),[x,g]=N.useState([]),y=k=>{var V,B,K;const j=new Date(k.start_date||new Date),C=new Date(k.end_date||new Date),z=Math.ceil((C.getTime()-j.getTime())/(1e3*60*60*24))||1,$=k.price_per_day?typeof k.price_per_day=="string"?parseFloat(k.price_per_day):k.price_per_day:k.car&&(((V=k.car)==null?void 0:V.pricePerDay)||k.car.price_per_day)||0,F=k.total_amount?typeof k.total_amount=="string"?parseFloat(k.total_amount):k.total_amount:$*z;return{id:k.id,type:"request",customerName:k.customer_name||(k.customer_first_name&&k.customer_last_name?`${k.customer_first_name} ${k.customer_last_name}`:""),customerEmail:k.customer_email||k.user_id,customerPhone:k.customer_phone||"",customerFirstName:k.customer_first_name||"",customerLastName:k.customer_last_name||"",customerAge:k.customer_age||void 0,carName:k.car?`${k.car.make} ${k.car.model}`:"Unknown Car",avatar:((B=k.car)==null?void 0:B.image_url)||"",pickupDate:k.start_date?new Date(k.start_date).toISOString().split("T")[0]:"",pickupTime:k.start_time||"09:00",returnDate:k.end_date?new Date(k.end_date).toISOString().split("T")[0]:"",returnTime:k.end_time||"17:00",status:k.status,amount:F,total_amount:F.toString(),carId:k.car_id.toString(),userId:k.user_id,createdAt:k.created_at,features:((K=k.car)==null?void 0:K.features)||[],options:k.options||{},contract_url:k.contract_url||k.contract_url,price_per_day:$,car:k.car}};N.useEffect(()=>{async function k(){c(!0),await Promise.all([w(),v()]),c(!1)}k();const j=setInterval(()=>{w()},3e4),C=Rt.channel("borrow-request-updates").on("postgres_changes",{event:"UPDATE",schema:"public",table:"BorrowRequest"},z=>{w()}).subscribe();return()=>{clearInterval(j),Rt.removeChannel(C)}},[]),N.useEffect(()=>{(async()=>{try{const j=await xo(),C=await Promise.all(j.map(async z=>{let $=z.name;(!$||$.trim()==="")&&($=`${z.make} ${z.model}`);const{mainImage:F,photoGallery:V}=await ia($);return{...z,image_url:F||z.image_url,photo_gallery:V.length>0?V:z.photo_gallery}}));g(C)}catch(j){console.error("Error loading cars:",j)}})()},[]);async function w(){const k=await RY();a(k)}async function v(){const k=await zY();o(k)}const S=k=>new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return l?i.jsx(bb,{message:"Se ncarc panoul de control..."}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{children:i.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:r("dashboard.overview.title")})}),i.jsx("div",{className:"mt-8",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",style:{pointerEvents:"auto"},children:[n&&n.filter(k=>{if(k.status!=="APPROVED"&&k.status!=="PROCESSED")return!1;const j=new Date,C=new Date(k.end_date);if(k.end_time){const[z,$]=k.end_time.split(":").map(Number);C.setHours(z||23,$||59,59,999)}else C.setHours(23,59,59,999);return j<=C}).length>0?n.filter(k=>{if(k.status!=="APPROVED"&&k.status!=="PROCESSED")return!1;const j=new Date,C=new Date(k.end_date);if(k.end_time){const[z,$]=k.end_time.split(":").map(Number);C.setHours(z||23,$||59,59,999)}else C.setHours(23,59,59,999);return j<=C}).map(k=>{var C,z,$,F;const j=(V,B,K,T,M)=>{const I=new Date,q=new Date(B);if(T){const[O,re]=T.split(":").map(Number);q.setHours(O||0,re||0,0,0)}else q.setHours(0,0,0,0);const H=new Date(K);if(M){const[O,re]=M.split(":").map(Number);H.setHours(O||23,re||59,59,999)}else H.setHours(23,59,59,999);const te=I>=q&&I<=H;switch(V){case"APPROVED":return te?{text:"nceput",color:"bg-blue-500/90 text-blue-100 border-blue-400/50"}:{text:"Aprobat",color:"bg-emerald-500/90 text-emerald-100 border-emerald-400/50"};case"PROCESSED":return{text:"nceput",color:"bg-blue-500/90 text-blue-100 border-blue-400/50"};default:return{text:"Aprobat",color:"bg-emerald-500/90 text-emerald-100 border-emerald-400/50"}}};return i.jsxs("div",{className:"group relative rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-600/5 backdrop-blur-md border border-blue-500/30 hover:border-blue-400/50 transition-all duration-500 hover:scale-[1.02] hover:shadow-2xl pointer-events-auto",children:[i.jsx("div",{className:"absolute inset-0 opacity-[0.03] rounded-xl",children:i.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(59,130,246,0.3) 1px, transparent 0)",backgroundSize:"20px 20px"}})}),i.jsxs("div",{className:"relative h-40 overflow-hidden rounded-t-xl",children:[i.jsx("img",{src:((C=k.car)==null?void 0:C.image_url)||"/placeholder-car.jpg",alt:(z=k.car)==null?void 0:z.make,className:"w-full h-full object-cover rounded-t-xl transition-transform duration-700 group-hover:scale-110",loading:"lazy"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),i.jsxs("div",{className:"absolute bottom-3 left-3 right-3",children:[i.jsxs("h3",{className:"text-white font-bold text-base truncate mb-1",children:[($=k.car)==null?void 0:$.make," ",(F=k.car)==null?void 0:F.model]}),i.jsxs("p",{className:"text-white/80 text-xs",children:[S(k.start_date)," ",k.start_time?`la ${k.start_time.slice(0,5)}`:""," - ",S(k.end_date)," ",k.end_time?`la ${k.end_time.slice(0,5)}`:""]})]}),i.jsx("div",{className:"absolute top-3 right-3",children:i.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium border backdrop-blur-sm ${j(k.status,k.start_date,k.end_date,k.start_time,k.end_time).color}`,children:[i.jsx("div",{className:"w-2 h-2 bg-current rounded-full animate-pulse"}),i.jsx("span",{children:j(k.status,k.start_date,k.end_date,k.start_time,k.end_time).text})]})})]}),i.jsx("div",{className:"p-3 bg-transparent relative z-10",style:{position:"relative",zIndex:10,pointerEvents:"auto"},children:i.jsx("div",{style:{position:"relative",zIndex:20,pointerEvents:"auto"},children:i.jsxs("button",{onClick:()=>{d(k),p(!0)},className:"w-full inline-flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 px-4 py-2 rounded-lg transition-all duration-300 text-white text-sm font-semibold shadow-md hover:shadow-lg",style:{position:"relative",zIndex:30,pointerEvents:"auto",cursor:"pointer"},children:[i.jsx("span",{children:"Vezi detalii"}),i.jsx(ss,{size:14})]})})})]},k.id)}):i.jsx("div",{className:"group relative overflow-hidden rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-600/5 backdrop-blur-md border border-blue-500/30 hover:border-blue-400/50 transition-all duration-500 min-h-[140px] flex items-center justify-center",children:i.jsxs("div",{className:"text-center p-4",children:[i.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-3 border border-blue-500/30",children:i.jsx(Za,{className:"text-blue-400",size:20})}),i.jsx("h4",{className:"text-white font-medium mb-2 text-base",children:"Nicio nchiriere activ"}),i.jsx("p",{className:"text-blue-100 text-xs mb-3 max-w-xs",children:"ncepe s explorezi ofertele noastre!"}),i.jsxs("button",{onClick:()=>e("cars"),className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 px-4 py-2 rounded-lg transition-all duration-300 text-white text-sm font-semibold shadow-md hover:shadow-lg",children:[i.jsx("span",{children:"nchiriaz acum"}),i.jsx(ss,{size:14})]})]})}),i.jsx("div",{className:"group relative overflow-hidden rounded-xl bg-gradient-to-br from-white/5 to-white/10 backdrop-blur-md border border-white/20 transition-all duration-500 min-h-[140px] flex items-center justify-center",children:i.jsxs("div",{className:"text-center p-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500/20 to-orange-500/20 rounded-full flex items-center justify-center mx-auto mb-3 border border-red-500/30",children:i.jsx("span",{className:"text-xl",children:""})}),i.jsx("h4",{className:"text-white font-medium mb-2 text-base",children:"Ofert Special"}),i.jsx("p",{className:"text-gray-300 text-xs mb-3 max-w-xs",children:"Reduceri pn la 20% pentru nchirieri de weekend"}),i.jsxs("button",{onClick:()=>e("cars"),className:"inline-flex items-center gap-2 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 px-3 py-1.5 rounded-md transition-all duration-300 text-white text-xs font-medium",children:[i.jsx("span",{children:"Afl mai mult"}),i.jsx(ss,{size:12})]})]})})]})}),i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-xl font-bold text-white",children:"Request History"}),i.jsx("button",{onClick:()=>e("overview"),className:"text-gray-400 hover:text-gray-300 transition-colors duration-300 text-sm font-medium hover:underline",children:"Vezi toate"})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:n&&n.length>0?n.filter(k=>k.status==="APPROVED"?new Date(k.end_date)<new Date:!1).slice(0,6).map(k=>{var j,C,z,$;return i.jsxs("div",{className:"group relative rounded-xl bg-gradient-to-br from-white/5 to-white/10 backdrop-blur-md border border-white/20 hover:border-white/30 transition-all duration-500 hover:scale-[1.02] hover:shadow-2xl",children:[i.jsx("div",{className:"absolute inset-0 opacity-[0.03]",children:i.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(255,255,255,0.3) 1px, transparent 0)",backgroundSize:"20px 20px"}})}),i.jsxs("div",{className:"relative h-40 overflow-hidden rounded-t-xl",children:[i.jsx("img",{src:((j=k.car)==null?void 0:j.image_url)||"/placeholder-car.jpg",alt:(C=k.car)==null?void 0:C.make,className:"w-full h-full object-cover rounded-t-xl transition-transform duration-700 group-hover:scale-110",loading:"lazy"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),i.jsxs("div",{className:"absolute bottom-3 left-3 right-3",children:[i.jsxs("h3",{className:"text-white font-bold text-base truncate mb-1",children:[(z=k.car)==null?void 0:z.make," ",($=k.car)==null?void 0:$.model]}),i.jsxs("p",{className:"text-white/80 text-xs",children:[S(k.start_date)," - ",S(k.end_date)]})]}),i.jsx("div",{className:"absolute top-3 right-3",children:i.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-500/90 text-white border border-gray-400/50 backdrop-blur-sm",children:[i.jsx(kl,{className:"w-3 h-3"}),i.jsx("span",{children:"Finalizat"})]})})]}),i.jsx("div",{className:"p-3 relative z-10",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>e("cars"),className:"w-4/5 inline-flex items-center justify-center gap-2 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 px-3 py-2 rounded-lg transition-all duration-300 text-white text-sm font-semibold shadow-md hover:shadow-lg relative z-20",title:"nchiriaz aceast main din nou",style:{pointerEvents:"auto",cursor:"pointer"},children:[i.jsx(ss,{size:14}),i.jsx("span",{children:"nchiriaz din nou"})]}),i.jsx("button",{onClick:()=>{d(k),p(!0)},className:"w-1/5 inline-flex items-center justify-center gap-2 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 px-3 py-2 rounded-lg transition-all duration-300 text-white text-sm font-semibold shadow-md hover:shadow-lg relative z-20",title:"Vezi detalii nchiriere",style:{pointerEvents:"auto",cursor:"pointer"},children:i.jsx(OO,{size:16})})]})})]},k.id)}):i.jsxs("div",{className:"col-span-full text-center py-12",children:[i.jsx("div",{className:"w-20 h-20 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-white/20",children:i.jsx($n,{className:"text-gray-400",size:32})}),i.jsx("h4",{className:"text-gray-300 font-medium mb-3 text-lg",children:"Nu ai cereri finalizate nc"}),i.jsx("p",{className:"text-gray-400 text-sm mb-6 max-w-md mx-auto",children:"Cererile tale finalizate vor aprea aici"}),i.jsxs("button",{onClick:()=>e("cars"),className:"inline-flex items-center gap-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 px-6 py-3 rounded-xl transition-all duration-300 text-white font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[i.jsx("span",{children:"Exploreaz maini"}),i.jsx(ss,{size:18})]})]})}),i.jsx("div",{className:"mt-8",children:i.jsx(Kge,{favoriteCars:s})}),i.jsx(c_,{isOpen:f,onClose:()=>{p(!1),d(null)},order:u?y(u):null,showOrderNumber:!1,cars:x})]})},Yge=({setShowFilters:e,filters:r,setFilters:n,setCar:a})=>{const[s,o]=N.useState(1),l=5,[c,u]=N.useState(0),d=Math.ceil(c/l),[f,p]=N.useState(r.searchQuery||""),[x,g]=N.useState(!1);N.useEffect(()=>{const S=setTimeout(()=>{p(r.searchQuery||""),o(1)},500);return()=>clearTimeout(S)},[r.searchQuery]),N.useEffect(()=>{async function S(){g(!0);const{cars:k,total:j}=await LN(s,l,f);setCars(k),u(j),g(!1)}S()},[s,f]);const y=(S,k)=>{n({...r,[S]:k}),S==="carId"&&e(!1)},w=S=>{S<1||S>d||o(S)};function v(){y("searchQuery","")}return i.jsxs(hr,{children:[i.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/60 z-[9998]",onClick:()=>e(!1)}),i.jsx(De.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 right-0 bottom-0 w-96 max-w-[90vw] bg-white/10 backdrop-blur-xl border-l border-white/20 shadow-2xl z-[9999] overflow-y-auto",onClick:S=>S.stopPropagation(),children:i.jsxs("div",{className:"p-6 flex flex-col gap-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-semibold text-white",children:"Filters"}),i.jsx("button",{onClick:()=>e(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:""})]}),i.jsxs("div",{className:"relative",children:[i.jsx(pc,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",placeholder:"Search cars...",value:r.searchQuery||"",onChange:S=>y("searchQuery",S.target.value),className:"w-full pl-12 pr-10 py-3 bg-white/10 border border-white/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/50 text-white text-sm placeholder-gray-400"}),r.searchQuery&&i.jsx("button",{onClick:v,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors text-sm",children:""})]}),i.jsx("div",{className:"flex flex-col gap-3 min-h-[200px]",children:x?i.jsx(bb,{message:"Se ncarc mainile..."}):cars&&cars.length>0?cars.map((S,k)=>i.jsxs("div",{onClick:()=>{var j;y("carId",((j=S.id)==null?void 0:j.toString())||""),a(S)},className:`flex items-center gap-4 px-4 py-3 rounded-xl border border-white/20 cursor-pointer hover:bg-white/10 transition-colors ${r.carId===S.id.toString()?"bg-red-500/20":""}`,children:[i.jsx("div",{className:"w-16 h-10 flex-shrink-0 rounded-md overflow-hidden bg-gray-700/30 flex items-center justify-center",children:S.image_url?i.jsx("img",{src:S.image_url,alt:S.make,className:"object-cover w-full h-full"}):i.jsx("span",{className:"text-white/50 text-xs",children:"No Image"})}),i.jsxs("div",{className:"flex flex-col flex-1",children:[i.jsxs("span",{className:"text-white font-medium text-sm",children:[S.make," ",S.model]}),i.jsx("span",{className:"text-gray-300 text-xs",children:S.year||"Unknown Year"})]})]},S.id?`car-${S.id}`:`car-fallback-${k}`)):i.jsx(x_,{icon:i.jsx(Za,{className:"w-8 h-8 text-gray-400"}),title:"No cars found",subtitle:"Try adjusting your filters",buttonText:"Clear Filters",onButtonClick:v})}),d>1&&!x&&i.jsxs("div",{className:"flex items-center justify-between mt-4",children:[i.jsxs("button",{onClick:()=>w(s-1),disabled:s===1,className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-white/20 bg-white/10 text-white disabled:opacity-50 hover:bg-white/20 transition-all text-sm",children:[i.jsx(Il,{className:"w-4 h-4"})," Previous"]}),i.jsxs("span",{className:"text-sm text-gray-300",children:["Page ",s," of ",d]}),i.jsxs("button",{onClick:()=>w(s+1),disabled:s===d,className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-white/20 bg-white/10 text-white disabled:opacity-50 hover:bg-white/20 transition-all text-sm",children:["Next ",i.jsx(ss,{className:"w-4 h-4"})]})]})]})},"calendar-sidebar")]})},Xge=({orders:e,month:r,setMonth:n,t:a,car:s,onCarChange:o})=>{const[l,c]=N.useState(null),[u,d]=N.useState(null),[f,p]=N.useState(!1),x=()=>n(F=>u_(F,1)),g=()=>n(F=>R7(F)),y=F=>{c(F)},w=F=>F.id,v=F=>{const V=kfe(F),B=Sfe(F),K=fm(V,{weekStartsOn:1}),T=Pfe(B,{weekStartsOn:1}),M=[];let I=K;for(;I<=T;)M.push(fo(I,"yyyy-MM-dd")),I=xfe(I,1);return M},S=N.useMemo(()=>{const F=new Set,V=new Set;return e.forEach(B=>{B.start_date&&F.add(fo(new Date(B.start_date),"yyyy-MM-dd")),B.end_date&&V.add(fo(new Date(B.end_date),"yyyy-MM-dd"))}),{pickups:F,returns:V}},[e]),k=N.useMemo(()=>{if(!l)return new Set;const F=new Set;return e.forEach(V=>{const B=V.start_date?fo(new Date(V.start_date),"yyyy-MM-dd"):null,K=V.end_date?fo(new Date(V.end_date),"yyyy-MM-dd"):null;(B===l||K===l)&&(B&&F.add(B),K&&F.add(K))}),F},[l,e]),j=l?new Date(l):new Date,C=N.useMemo(()=>l?e.filter(F=>F.start_date&&fo(new Date(F.start_date),"yyyy-MM-dd")===l).sort((F,V)=>new Date(F.start_date).getTime()-new Date(V.start_date).getTime()):[],[l,e]),z=N.useMemo(()=>l?e.filter(F=>F.end_date&&fo(new Date(F.end_date),"yyyy-MM-dd")===l).sort((F,V)=>new Date(F.end_date).getTime()-new Date(V.end_date).getTime()):[],[l,e]),$=(F,V)=>{var M,I;if(!F||!F.car)return null;const B=`${F.car.make} ${F.car.model}`,K=V?"text-yellow-400":"text-blue-4  00",T=Nge(F.status);return i.jsx(De.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.2},onClick:()=>{d(F),p(!0)},className:"p-5 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all cursor-pointer group",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center group-hover:bg-white/20 transition-colors",children:i.jsx(Ll,{className:"w-5 h-5 text-white"})}),i.jsx("div",{children:i.jsxs("div",{className:"text-gray-400 text-xs",children:[a("admin.calendar.rental")," #",w(F).toString().padStart(4,"0")]})})]}),i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${T.className} flex-shrink-0`,children:T.text})]}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex items-center justify-between",children:[i.jsx("span",{className:"text-white/90 text-sm truncate",children:B}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Aa,{className:`w-4 h-4 ${K}/70 flex-shrink-0`}),i.jsx("span",{className:`${K} text-lg font-bold tracking-tight`,children:V?(M=F.start_time)==null?void 0:M.slice(0,5):(I=F.end_time)==null?void 0:I.slice(0,5)})]})]})]})},F.id)};return i.jsxs("div",{className:"grid grid-cols-[380px,1fr] gap-8",children:[i.jsx("div",{children:i.jsxs(De.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white/5 backdrop-blur-xl border border-white/20 rounded-2xl shadow-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("button",{onClick:g,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:""}),i.jsx("div",{className:"text-sm font-medium text-white",children:r.toLocaleDateString(a("config.date"),{month:"long",year:"numeric"})}),i.jsx("button",{onClick:x,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:""})]}),i.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-2",children:["Lu","Ma","Mi","Jo","Vi","S","Du"].map((F,V)=>i.jsx("div",{className:`text-gray-400 font-medium ${V>=5?"text-red-400":""}`,children:F},F))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:v(r).map((F,V)=>{const B=new Date(F),K=S.pickups.has(F),T=S.returns.has(F),M=K||T,I=d_(B,r),q=new Date;q.setHours(0,0,0,0);const H=jfe(B,q),te=B<q,O=l===F,re=k.has(F);let Y="";return H&&O?Y="bg-red-500 text-white ring-2 ring-white/70 font-semibold":H?Y="bg-red-500 text-white":O?Y="bg-white/20 text-white ring-2 ring-white font-semibold":re?Y="bg-blue-500/20 text-white ring-1 ring-white/40 font-semibold":M?Y=te?"bg-gray-500/40 text-white":"bg-yellow-500/20 text-white":Y="hover:bg-white/10",i.jsxs("div",{className:`w-9 h-9 flex items-center justify-center text-xs rounded-xl transition-colors relative cursor-pointer ${I?"text-white":"text-gray-500"} ${Y}`,onClick:()=>y(F),children:[B.getDate(),M&&i.jsx("div",{className:`absolute top-0 right-0 w-2 h-2 rounded-full ${H?"bg-yellow-500":te?"bg-gray-500":"bg-red-500"}`})]},V)})})]})}),i.jsxs("div",{className:"flex flex-col gap-6",children:[s&&i.jsxs("div",{className:"relative bg-white/5 border border-white/10 rounded-xl p-4 text-gray-300",children:[i.jsx("button",{onClick:()=>o(null),"aria-label":"Close",className:"absolute top-3 right-3 w-8 h-8 flex items-center justify-center bg-red-600 text-white rounded-full hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-1 shadow-lg transition-transform duration-200 transform hover:scale-110",children:i.jsx("span",{className:"text-lg font-bold select-none",children:"x"})}),i.jsxs("div",{className:"flex items-start justify-between gap-6",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Calendar for selected car"}),i.jsxs("p",{className:"text-m",children:[i.jsx("span",{className:"font-semibold text-white",children:"Make:"})," ",s.make]}),i.jsxs("p",{className:"text-m",children:[i.jsx("span",{className:"font-semibold text-white",children:"Model:"})," ",s.model]}),i.jsxs("p",{className:"text-m",children:[i.jsx("span",{className:"font-semibold text-white",children:"Year:"})," ",s.year]})]}),i.jsx("div",{className:"flex-shrink-0",children:i.jsx("img",{src:s.image_url||"",alt:"Car",className:"w-32 h-32 rounded-lg object-cover bg-black/10"})})]})]}),i.jsx("div",{children:i.jsxs(De.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-xl font-bold text-white",children:[j.toLocaleDateString(a("config.date"),{weekday:"long",year:"numeric",month:"long",day:"numeric"}),!l&&i.jsxs("span",{className:"ml-2 text-sm text-gray-400",children:["(",a("admin.calendar.today"),")"]})]}),l&&i.jsx("button",{onClick:()=>c(null),className:"text-gray-400 hover:text-white transition-colors p-1",children:""})]}),C.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsxs("h4",{className:"text-base font-semibold text-yellow-300 mb-4 uppercase tracking-wide",children:[a("admin.calendar.pickups")," (",C.length,")"]}),i.jsx("div",{className:"space-y-4",children:C.map(F=>$(F,!0))})]}),z.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsxs("h4",{className:"text-base font-semibold text-blue-300 mb-4 uppercase tracking-wide",children:[a("admin.calendar.returns")," (",z.length,")"]}),i.jsx("div",{className:"space-y-4",children:z.map(F=>$(F,!1))})]}),C.length===0&&z.length===0&&i.jsx("div",{className:"text-center py-8 text-gray-400 font-semibold text-m",children:"No deals for this day"})]})})]})]})},Jge=()=>{const{t:e}=mr(),[r,n]=N.useState(!1),[a,s]=N.useState({carId:"",searchQuery:""}),[o,l]=N.useState(null),[c,u]=N.useState(new Date),[d,f]=N.useState([]),[p,x]=N.useState(!0);N.useEffect(()=>{async function y(){x(!0),await Promise.all([g()]),x(!1)}y()},[a,c]);async function g(){var w;const y=await VY((w=a.carId)==null?void 0:w.toString(),c);f(y),s(v=>({...v,carId:(o==null?void 0:o.id)||""}))}return p&&!r?i.jsx(bb,{message:"Se ncarc calendarul mainilor..."}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h2",{className:"text-2xl sm:text-5xl font-bold text-white mb-6 mt-4",children:"Car Calendar"}),i.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-1.5 px-2.5 py-1.5 text-s font-medium rounded-lg border bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white transition-all flex-shrink-0",children:[i.jsx(Zp,{className:"w-4 h-4"}),i.jsx("span",{children:e(r?"admin.calendar.hideFilters":"admin.calendar.showFilters")})]})]}),r&&ei.createPortal(i.jsx(Yge,{setShowFilters:n,filters:a,setFilters:s,setCar:l}),document.body),d&&i.jsx(Xge,{orders:d,month:c,setMonth:u,t:e,car:o,onCarChange:y=>handleSetCar(y)})]})},Zge=()=>{const{t:e}=mr(),{user:r,signOut:n,loading:a}=yc(),s=Pn(),[o,l]=yu(),c=o.get("tab"),[u,d]=N.useState(c||"overview"),f=tt.useRef(!0);N.useEffect(()=>{const z=window.location.search;if(z.includes("~and~")||z.includes("~")||z.includes("&/")||z.includes("/&")||(z.match(/&/g)||[]).length>10){s("/dashboard",{replace:!0});return}},[]);const[p,x]=N.useState(!1),[g,y]=N.useState(!1),[w,v]=N.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[S,k]=N.useState({bookingUpdates:!0,promotions:!1,newsletter:!0}),j=async()=>{await n(),s("/")},C=z=>{k($=>({...$,[z]:!$[z]}))};return N.useEffect(()=>{!f.current&&u&&l({tab:u},{replace:!0}),f.current=!1},[u,l]),N.useEffect(()=>{c&&c!==u&&d(c)},[c]),N.useEffect(()=>{if(!a&&!r){const z=setTimeout(()=>{s("/auth/login",{replace:!0})},100);return()=>clearTimeout(z)}},[r,s,a]),i.jsxs("div",{className:"min-h-screen bg-black/10 text-white",children:[i.jsx(hr,{children:g&&i.jsxs(De.div,{className:"fixed inset-0 z-50 flex items-center justify-center",initial:{opacity:1},exit:{opacity:0},transition:{duration:.5,ease:"easeOut"},children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-fixed",style:{backgroundImage:"url('/lvl_bg.png')"}}),i.jsx("div",{className:"absolute inset-0 bg-black/70"}),i.jsxs(De.div,{className:"relative z-10 text-center",initial:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5,ease:"easeOut"},children:[i.jsxs("div",{className:"relative w-16 h-16 mx-auto mb-8",children:[i.jsx("div",{className:"absolute inset-0 border-4 border-white/10 rounded-full"}),i.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-red-600 border-r-red-600/50 rounded-full animate-spin"})]}),i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:e("dashboard.loading.text")}),i.jsx("p",{className:"text-gray-300 text-sm",children:e("dashboard.loading.preparing")})]})]})}),!g&&i.jsxs("section",{className:"relative min-h-screen",children:[i.jsx("div",{className:"fixed inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/lvl_bg.png')",backgroundAttachment:"fixed",zIndex:0}}),i.jsx("div",{className:"fixed inset-0 bg-black/80",style:{zIndex:1}}),i.jsx("div",{className:"relative",style:{zIndex:1},children:i.jsx(pT,{forceRender:!0})}),i.jsx("div",{className:"relative container mx-auto px-4 max-w-7xl pt-12 pb-12",style:{zIndex:1},children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-8",children:[i.jsx(De.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},className:"lg:col-span-3 lg:flex lg:justify-end",children:i.jsx(zge,{activeTab:u,setActiveTab:d,onLogout:j})}),i.jsxs("div",{className:"lg:col-span-9",children:[u==="overview"&&i.jsx(Gge,{setActiveTab:d,t:e}),(u==="profile"||u==="settings")&&i.jsx(Wge,{t:e,activeTab:u,passwordForm:w,setPasswordForm:v,notificationSettings:S,handleNotificationToggle:C}),u==="cars"&&i.jsx("div",{className:"space-y-6",children:i.jsx(qge,{})}),u==="calendar"&&i.jsx("div",{className:"space-y-6",children:i.jsx(Jge,{})})]})]})})]})]})},Qge=({children:e})=>{const{isAuthenticated:r,loading:n}=yc();return n&&!r?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):r?i.jsx(i.Fragment,{children:e}):i.jsx(Bf,{to:"/auth/login",replace:!0})},nD=({children:e})=>{const{user:r,isAdmin:n,roleLoaded:a,loading:s}=yc(),{i18n:o}=mr(),[l,c]=N.useState(!1);return N.useEffect(()=>{o.language!=="ro"&&(c(!0),o.changeLanguage("ro").then(()=>{localStorage.setItem("selectedLanguage","ro"),c(!1)}))},[o]),s?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Checking authentication..."})]})}):r?!a||l?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"}),i.jsx("p",{className:"mt-4 text-gray-600",children:l?"Changing language...":"Loading admin access..."})]})}):n?o.language!=="ro"?i.jsx(Bf,{to:"/not-found",replace:!0}):i.jsx(i.Fragment,{children:e}):i.jsx(Bf,{to:"/not-found",replace:!0}):i.jsx(Bf,{to:"/not-found",replace:!0})},exe=()=>{const[e,r]=N.useState(""),{t:n}=mr(),[a,s]=N.useState(!1),[o,l]=N.useState(null),[c,u]=N.useState(null),d=async f=>{f.preventDefault();try{const{success:p,error:x}=await ZT(e);if(x){u("There was an error updating your password."),l(null),s(!0),console.error(x);return}p&&(l("Password updated successfully!"),u(null),s(!0))}catch(p){u("An unexpected error occurred."),l(null),s(!0),console.error(p)}};return i.jsxs("section",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 md:px-10 lg:px-16 py-8 sm:py-10 md:py-12 relative",children:[i.jsx("div",{className:"absolute inset-0 md:hidden",style:{backgroundImage:"url('/bg-hero.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),i.jsx("div",{className:"hidden md:block absolute inset-0",style:{backgroundImage:"url('/bg-hero.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),i.jsx("div",{className:"hidden md:block absolute inset-0",style:{background:"radial-gradient(ellipse at center, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.85))"}}),i.jsx("div",{className:"absolute inset-0 md:hidden",style:{background:"radial-gradient(ellipse at center, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.85))"}}),i.jsxs(De.div,{variants:jr,initial:"initial",animate:"animate",className:"w-full max-w-6xl bg-white rounded-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2 relative z-10",style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 0.1)"},children:[i.jsxs("div",{className:"relative hidden md:block bg-cover bg-center min-h-[400px] md:min-h-[600px]",style:{backgroundImage:"url('/backgrounds/bg5-desktop.jpeg')",minHeight:"560px"},children:[i.jsx("div",{className:"absolute inset-0 bg-black/70"}),i.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(315deg, rgba(220, 38, 38, 0.3), rgba(0, 0, 0, 0.4))"}}),i.jsxs("div",{className:"relative z-10 h-full flex flex-col items-start justify-center p-10 text-white",children:[i.jsx("h3",{className:"text-sm font-semibold tracking-wider text-red-600 uppercase",children:n("auth.forgot.left-part.smallLabel")}),i.jsx("h2",{className:"mt-4 text-3xl md:text-4xl font-bold leading-tight drop-shadow",children:n("auth.forgot.left-part.label")}),i.jsx("p",{className:"mt-4 text-gray-200 max-w-sm",children:n("auth.forgot.left-part.description")})]})]}),i.jsx("div",{className:"p-6 md:p-16 flex items-center justify-center min-h-[400px] md:min-h-[600px]",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-red-600",children:"Resetare parola"}),i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Introdu noua parola"})]}),a?i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto ${o?"bg-green-100":"bg-red-100"}`,children:i.jsx("svg",{className:`w-8 h-8 ${o?"text-green-600":"text-red-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o?i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}):i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o}),i.jsx("p",{className:"text-sm text-gray-600",children:n("auth.forgot.success.description")})]}),c&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-lg font-semibold text-red-600",children:c}),i.jsx("p",{className:"text-sm text-gray-600",children:"Please try again or contact support."})]})]}):i.jsxs("form",{onSubmit:d,className:"space-y-5",children:[i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"text-xs font-medium text-gray-700",children:n("auth.login.right-part.password")}),i.jsxs("div",{className:"mt-2 relative",children:[i.jsx(bN,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"password",value:e,onChange:f=>r(f.target.value),required:!0,disabled:a,className:"pl-10 pr-3 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-red-200 focus:border-red-400 transition disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Introdu noua parola"})]})]}),i.jsx("button",{type:"submit",className:"w-full py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-shadow shadow-sm hover:shadow-md",children:"Reseteaza parola"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs(Go,{to:"/auth/login",className:"inline-flex items-center gap-2 text-sm text-red-600 hover:text-red-700 transition-colors",children:[i.jsx(Il,{className:"w-4 h-4"}),n("auth.forgot.right-part.back-to-login")]})})]})})]})]})},txe=()=>{const[e,r]=N.useState("Porsche"),[n,a]=N.useState(!1),s=c=>{const u=c.toLowerCase();return{mercedes:"/logos/merc.svg","mercedes-benz":"/logos/merc.svg",bmw:"/logos/bmw.webp",audi:"/logos/audi.png",hyundai:"/logos/hyundai.png",maserati:"/logos/maserati.png",volkswagen:"/logos/volkswagen-1-logo-black-and-white.png",vw:"/logos/volkswagen-1-logo-black-and-white.png",lincoln:"/logos/lincoln.png",porsche:"/logos/porsche.png"}[u]||null},o=c=>{const u=c.toLowerCase();return u==="audi"||u==="maserati"||u==="lincoln"||u==="porsche"?"w-6 h-6":"w-4 h-4"},l=["Porsche","Audi","BMW","Mercedes","Lincoln","Volkswagen"];return i.jsx("div",{className:"p-8 bg-gray-50 min-h-screen",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Porsche Logo Test"}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700 uppercase mb-2 tracking-wide",children:"Make"}),i.jsxs("div",{className:"relative overflow-visible",children:[i.jsxs("div",{className:"w-full text-sm font-medium text-gray-900 bg-transparent border border-gray-200 rounded-xl py-3 px-4 cursor-pointer flex items-center gap-2",onClick:()=>a(!n),children:[e&&(()=>{const c=s(e.toLowerCase());return c?i.jsx("img",{src:c,alt:e,className:`${o(e)} object-contain`,onError:u=>{u.target.style.display="none"}}):null})(),i.jsx("span",{className:"flex-1",children:e||"Select Make"}),i.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i.jsx(hr,{children:n&&i.jsx(De.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-2xl shadow-lg z-[100] min-w-[200px]",onClick:c=>c.stopPropagation(),children:i.jsx("div",{className:"py-1",children:l.map((c,u)=>{const d=s(c.toLowerCase()),f=u===0,p=u===l.length-1;return i.jsxs("div",{className:`px-4 py-2 text-sm cursor-pointer select-none border-b border-gray-100 last:border-b-0 transition-colors flex items-center gap-2 ${f?"rounded-t-2xl":""} ${p?"rounded-b-2xl":""} ${e===c?"text-gray-900 font-medium bg-gray-50":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>{r(c),a(!1)},children:[i.jsx("div",{className:"w-6 flex items-center justify-start flex-shrink-0",children:d&&i.jsx("img",{src:d,alt:c,className:`${o(c)} object-contain`,onError:x=>{x.target.style.display="none"}})}),i.jsx("span",{children:c})]},c)})})})})]})]}),i.jsxs("div",{className:"mt-8 bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Logo Preview"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Porsche Logo"}),i.jsx("img",{src:"/logos/porsche.png",alt:"Porsche",className:"w-24 h-24 object-contain border border-gray-200 rounded-lg p-2",onError:c=>{console.error("Porsche logo failed to load"),c.target.style.display="none"}})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Size in dropdown (w-6 h-6)"}),i.jsx("img",{src:"/logos/porsche.png",alt:"Porsche",className:"w-6 h-6 object-contain border border-gray-200 rounded p-1",onError:c=>{console.error("Porsche logo failed to load"),c.target.style.display="none"}})]})]})]})]})})},rxe=()=>i.jsxs(i.Fragment,{children:[i.jsx(VX,{}),i.jsxs(mF,{children:[i.jsx(ya,{path:"/",element:i.jsx(CX,{})}),i.jsx(ya,{path:"/cars",element:i.jsx(QG,{})}),i.jsx(ya,{path:"/cars/:carId",element:i.jsx(lX,{})}),i.jsx(ya,{path:"/reviews",element:i.jsx(uX,{})}),i.jsx(ya,{path:"/about",element:i.jsx(pG,{})}),i.jsx(ya,{path:"/how-to-rent",element:i.jsx(EX,{})}),i.jsx(ya,{path:"/contact",element:i.jsx(hX,{})}),i.jsx(ya,{path:"/booking",element:i.jsx(GG,{})}),i.jsx(ya,{path:"/calculator",element:i.jsx(HX,{})}),i.jsx(ya,{path:"/terms",element:i.jsx(AX,{})}),i.jsx(ya,{path:"/help",element:i.jsx(OX,{})}),i.jsx(ya,{path:"/not-found",element:i.jsx(Ik,{})}),i.jsx(ya,{path:"/auth/login",element:i.jsx(TX,{})}),i.jsx(ya,{path:"/auth/signup",element:i.jsx(FX,{})}),i.jsx(ya,{path:"/auth/forgot",element:i.jsx($X,{})}),i.jsx(ya,{path:"/update-password",element:i.jsx(exe,{})}),i.jsx(ya,{path:"/test/porsche-logo",element:i.jsx(txe,{})}),i.jsx(ya,{path:"/dashboard",element:i.jsx(Qge,{children:i.jsx(Zge,{})})}),i.jsx(ya,{path:"/admin",element:i.jsx(nD,{children:i.jsx(tD,{})})}),i.jsx(ya,{path:"/admin/",element:i.jsx(nD,{children:i.jsx(tD,{})})}),i.jsx(ya,{path:"*",element:i.jsx(Ik,{})})]})]}),nxe=[{code:"MDL",symbol:"MDL",label:"MDL"},{code:"EUR",symbol:"",label:"EUR"},{code:"USD",symbol:"$",label:"USD"}],axe=({isOpen:e,onClose:r})=>{const{i18n:n}=mr(),{selectedCurrency:a,setSelectedCurrency:s}=EN(),[o,l]=N.useState(n.language),[c,u]=N.useState(a);N.useEffect(()=>{e&&(l(n.language),u(a))},[e,a]);const d=n.getFixedT(o),f=x=>{l(x)},p=()=>{n.changeLanguage(o),localStorage.setItem("selectedLanguage",o),s(c),localStorage.setItem("selectedCurrency",c),localStorage.setItem("languageCurrencySetupCompleted","true"),r()};return e?i.jsx(hr,{children:e&&i.jsxs(i.Fragment,{children:[i.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[10000]",onClick:r}),i.jsx(De.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-0 z-[10001] flex items-center justify-center p-4",onClick:x=>x.stopPropagation(),children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full overflow-hidden",children:[i.jsxs("div",{className:"relative p-4 border-b border-gray-200",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 text-center",children:d("languageCurrencyModal.title","Bine ai venit!")}),i.jsx("p",{className:"text-xs text-gray-600 text-center mt-1",children:d("languageCurrencyModal.subtitle","Selectai limba i moneda preferate")})]}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(g5,{className:"w-4 h-4 text-theme-500"}),i.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:d("languageCurrencyModal.language","Limb")})]}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:Sp.map(({code:x,iconClass:g})=>i.jsxs("button",{onClick:()=>f(x),className:`flex flex-col items-center p-2.5 rounded-lg border-2 transition-all duration-200 ${o===x?"border-theme-500 bg-theme-50 text-theme-600 shadow-sm scale-105":"border-gray-200 text-gray-600 hover:border-theme-300 hover:bg-gray-50"}`,children:[i.jsx("span",{className:`${g} w-6 h-4 mb-1`}),i.jsx("span",{className:"text-xs font-medium",children:d(`languages.${x}`)})]},x))})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(wy,{className:"w-4 h-4 text-theme-500"}),i.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:d("languageCurrencyModal.currency","Moned")})]}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:nxe.map(x=>i.jsxs("button",{onClick:()=>u(x.code),className:`flex flex-col items-center p-2.5 rounded-lg border-2 transition-all duration-200 ${c===x.code?"border-theme-500 bg-theme-50 text-theme-600 shadow-sm scale-105":"border-gray-200 text-gray-600 hover:border-theme-300 hover:bg-gray-50"}`,children:[i.jsx("div",{className:"w-9 h-9 rounded-md bg-gray-100 flex items-center justify-center mb-1",children:i.jsx("span",{className:`font-bold text-gray-800 ${x.code==="MDL"?"text-xs":"text-base"}`,children:x.symbol})}),i.jsx("span",{className:"text-xs font-medium",children:x.label})]},x.code))})]})]}),i.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:i.jsx("button",{onClick:p,className:"px-5 py-2 bg-theme-500 hover:bg-theme-600 text-white font-semibold text-sm rounded-lg transition-colors shadow-sm hover:shadow-md",children:d("languageCurrencyModal.confirm","Confirm")})})]})})]})}):null};function ixe(){const[e,r]=N.useState(!0),[n,a]=N.useState(!1),[s,o]=N.useState(!1);N.useEffect(()=>{const c=window.console.error;window.console.error=(...d)=>{d[0]&&typeof d[0]=="string"&&d[0].includes("MutationObserver")||c.apply(console,d)};const u=setTimeout(()=>{a(!0)},1e4);return()=>{clearTimeout(u),window.console.error=c}},[]),N.useEffect(()=>{!localStorage.getItem("languageCurrencySetupCompleted")&&!e&&setTimeout(()=>{o(!0)},500)},[e]);const l=()=>{a(!0),setTimeout(()=>{r(!1)},300)};return i.jsx(i.Fragment,{children:i.jsxs($K,{children:[e&&i.jsx(gT,{isTransitioning:n,onLoadingComplete:l}),i.jsx(zF,{children:i.jsx(mG,{children:i.jsx(rxe,{})})}),i.jsx(axe,{isOpen:s,onClose:()=>o(!1)})]})})}const Mr=e=>typeof e=="string",Np=()=>{let e,r;const n=new Promise((a,s)=>{e=a,r=s});return n.resolve=e,n.reject=r,n},aD=e=>e==null?"":""+e,sxe=(e,r,n)=>{e.forEach(a=>{r[a]&&(n[a]=r[a])})},oxe=/###/g,iD=e=>e&&e.indexOf("###")>-1?e.replace(oxe,"."):e,sD=e=>!e||Mr(e),Up=(e,r,n)=>{const a=Mr(r)?r.split("."):r;let s=0;for(;s<a.length-1;){if(sD(e))return{};const o=iD(a[s]);!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++s}return sD(e)?{}:{obj:e,k:iD(a[s])}},oD=(e,r,n)=>{const{obj:a,k:s}=Up(e,r,Object);if(a!==void 0||r.length===1){a[s]=n;return}let o=r[r.length-1],l=r.slice(0,r.length-1),c=Up(e,l,Object);for(;c.obj===void 0&&l.length;)o=`${l[l.length-1]}.${o}`,l=l.slice(0,l.length-1),c=Up(e,l,Object),c!=null&&c.obj&&typeof c.obj[`${c.k}.${o}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${o}`]=n},lxe=(e,r,n,a)=>{const{obj:s,k:o}=Up(e,r,Object);s[o]=s[o]||[],s[o].push(n)},sy=(e,r)=>{const{obj:n,k:a}=Up(e,r);if(n&&Object.prototype.hasOwnProperty.call(n,a))return n[a]},cxe=(e,r,n)=>{const a=sy(e,n);return a!==void 0?a:sy(r,n)},L9=(e,r,n)=>{for(const a in r)a!=="__proto__"&&a!=="constructor"&&(a in e?Mr(e[a])||e[a]instanceof String||Mr(r[a])||r[a]instanceof String?n&&(e[a]=r[a]):L9(e[a],r[a],n):e[a]=r[a]);return e},Pf=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var uxe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const dxe=e=>Mr(e)?e.replace(/[&<>"'\/]/g,r=>uxe[r]):e;class hxe{constructor(r){this.capacity=r,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(r){const n=this.regExpMap.get(r);if(n!==void 0)return n;const a=new RegExp(r);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(r,a),this.regExpQueue.push(r),a}}const fxe=[" ",",","?","!",";"],mxe=new hxe(20),pxe=(e,r,n)=>{r=r||"",n=n||"";const a=fxe.filter(l=>r.indexOf(l)<0&&n.indexOf(l)<0);if(a.length===0)return!0;const s=mxe.getRegExp(`(${a.map(l=>l==="?"?"\\?":l).join("|")})`);let o=!s.test(e);if(!o){const l=e.indexOf(n);l>0&&!s.test(e.substring(0,l))&&(o=!0)}return o},Fj=(e,r,n=".")=>{if(!e)return;if(e[r])return Object.prototype.hasOwnProperty.call(e,r)?e[r]:void 0;const a=r.split(n);let s=e;for(let o=0;o<a.length;){if(!s||typeof s!="object")return;let l,c="";for(let u=o;u<a.length;++u)if(u!==o&&(c+=n),c+=a[u],l=s[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&u<a.length-1)continue;o+=u-o+1;break}s=l}return s},v0=e=>e==null?void 0:e.replace("_","-"),gxe={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,r){var n,a;(a=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||a.call(n,console,r)}};class oy{constructor(r,n={}){this.init(r,n)}init(r,n={}){this.prefix=n.prefix||"i18next:",this.logger=r||gxe,this.options=n,this.debug=n.debug}log(...r){return this.forward(r,"log","",!0)}warn(...r){return this.forward(r,"warn","",!0)}error(...r){return this.forward(r,"error","")}deprecate(...r){return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(r,n,a,s){return s&&!this.debug?null:(Mr(r[0])&&(r[0]=`${a}${this.prefix} ${r[0]}`),this.logger[n](r))}create(r){return new oy(this.logger,{prefix:`${this.prefix}:${r}:`,...this.options})}clone(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new oy(this.logger,r)}}var hc=new oy;class wb{constructor(){this.observers={}}on(r,n){return r.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const s=this.observers[a].get(n)||0;this.observers[a].set(n,s+1)}),this}off(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r].delete(n)}}emit(r,...n){this.observers[r]&&Array.from(this.observers[r].entries()).forEach(([s,o])=>{for(let l=0;l<o;l++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,o])=>{for(let l=0;l<o;l++)s.apply(s,[r,...n])})}}class lD extends wb{constructor(r,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=r||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}removeNamespaces(r){const n=this.options.ns.indexOf(r);n>-1&&this.options.ns.splice(n,1)}getResource(r,n,a,s={}){var d,f;const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;r.indexOf(".")>-1?c=r.split("."):(c=[r,n],a&&(Array.isArray(a)?c.push(...a):Mr(a)&&o?c.push(...a.split(o)):c.push(a)));const u=sy(this.data,c);return!u&&!n&&!a&&r.indexOf(".")>-1&&(r=c[0],n=c[1],a=c.slice(2).join(".")),u||!l||!Mr(a)?u:Fj((f=(d=this.data)==null?void 0:d[r])==null?void 0:f[n],a,o)}addResource(r,n,a,s,o={silent:!1}){const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let c=[r,n];a&&(c=c.concat(l?a.split(l):a)),r.indexOf(".")>-1&&(c=r.split("."),s=n,n=c[1]),this.addNamespaces(n),oD(this.data,c,s),o.silent||this.emit("added",r,n,a,s)}addResources(r,n,a,s={silent:!1}){for(const o in a)(Mr(a[o])||Array.isArray(a[o]))&&this.addResource(r,n,o,a[o],{silent:!0});s.silent||this.emit("added",r,n,a)}addResourceBundle(r,n,a,s,o,l={silent:!1,skipCopy:!1}){let c=[r,n];r.indexOf(".")>-1&&(c=r.split("."),s=a,a=n,n=c[1]),this.addNamespaces(n);let u=sy(this.data,c)||{};l.skipCopy||(a=JSON.parse(JSON.stringify(a))),s?L9(u,a,o):u={...u,...a},oD(this.data,c,u),l.silent||this.emit("added",r,n,a)}removeResourceBundle(r,n){this.hasResourceBundle(r,n)&&delete this.data[r][n],this.removeNamespaces(n),this.emit("removed",r,n)}hasResourceBundle(r,n){return this.getResource(r,n)!==void 0}getResourceBundle(r,n){return n||(n=this.options.defaultNS),this.getResource(r,n)}getDataByLanguage(r){return this.data[r]}hasLanguageSomeTranslations(r){const n=this.getDataByLanguage(r);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var O9={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,r,n,a,s){return e.forEach(o=>{var l;r=((l=this.processors[o])==null?void 0:l.process(r,n,a,s))??r}),r}};const T9=Symbol("i18next/PATH_KEY");function xxe(){const e=[],r=Object.create(null);let n;return r.get=(a,s)=>{var o;return(o=n==null?void 0:n.revoke)==null||o.call(n),s===T9?e:(e.push(s),n=Proxy.revocable(a,r),n.proxy)},Proxy.revocable(Object.create(null),r).proxy}function $j(e,r){const{[T9]:n}=e(xxe());return n.join((r==null?void 0:r.keySeparator)??".")}const cD={},V2=e=>!Mr(e)&&typeof e!="boolean"&&typeof e!="number";class ly extends wb{constructor(r,n={}){super(),sxe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=hc.create("translator")}changeLanguage(r){r&&(this.language=r)}exists(r,n={interpolation:{}}){const a={...n};if(r==null)return!1;const s=this.resolve(r,a);if((s==null?void 0:s.res)===void 0)return!1;const o=V2(s.res);return!(a.returnObjects===!1&&o)}extractFromKey(r,n){let a=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const l=a&&r.indexOf(a)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!pxe(r,a,s);if(l&&!c){const u=r.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:r,namespaces:Mr(o)?[o]:o};const d=r.split(a);(a!==s||a===s&&this.options.ns.indexOf(d[0])>-1)&&(o=d.shift()),r=d.join(s)}return{key:r,namespaces:Mr(o)?[o]:o}}translate(r,n,a){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),r==null)return"";typeof r=="function"&&(r=$j(r,{...this.options,...s})),Array.isArray(r)||(r=[String(r)]);const o=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:c,namespaces:u}=this.extractFromKey(r[r.length-1],s),d=u[u.length-1];let f=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");const p=s.lng||this.language,x=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((p==null?void 0:p.toLowerCase())==="cimode")return x?o?{res:`${d}${f}${c}`,usedKey:c,exactUsedKey:c,usedLng:p,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:`${d}${f}${c}`:o?{res:c,usedKey:c,exactUsedKey:c,usedLng:p,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:c;const g=this.resolve(r,s);let y=g==null?void 0:g.res;const w=(g==null?void 0:g.usedKey)||c,v=(g==null?void 0:g.exactUsedKey)||c,S=["[object Number]","[object Function]","[object RegExp]"],k=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,j=!this.i18nFormat||this.i18nFormat.handleAsObject,C=s.count!==void 0&&!Mr(s.count),z=ly.hasDefaultValue(s),$=C?this.pluralResolver.getSuffix(p,s.count,s):"",F=s.ordinal&&C?this.pluralResolver.getSuffix(p,s.count,{ordinal:!1}):"",V=C&&!s.ordinal&&s.count===0,B=V&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${$}`]||s[`defaultValue${F}`]||s.defaultValue;let K=y;j&&!y&&z&&(K=B);const T=V2(K),M=Object.prototype.toString.apply(K);if(j&&K&&T&&S.indexOf(M)<0&&!(Mr(k)&&Array.isArray(K))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const I=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,K,{...s,ns:u}):`key '${c} (${this.language})' returned an object instead of string.`;return o?(g.res=I,g.usedParams=this.getUsedParamsDetails(s),g):I}if(l){const I=Array.isArray(K),q=I?[]:{},H=I?v:w;for(const te in K)if(Object.prototype.hasOwnProperty.call(K,te)){const O=`${H}${l}${te}`;z&&!y?q[te]=this.translate(O,{...s,defaultValue:V2(B)?B[te]:void 0,joinArrays:!1,ns:u}):q[te]=this.translate(O,{...s,joinArrays:!1,ns:u}),q[te]===O&&(q[te]=K[te])}y=q}}else if(j&&Mr(k)&&Array.isArray(y))y=y.join(k),y&&(y=this.extendTranslation(y,r,s,a));else{let I=!1,q=!1;!this.isValidLookup(y)&&z&&(I=!0,y=B),this.isValidLookup(y)||(q=!0,y=c);const te=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&q?void 0:y,O=z&&B!==y&&this.options.updateMissing;if(q||I||O){if(this.logger.log(O?"updateKey":"missingKey",p,d,c,O?B:y),l){const L=this.resolve(c,{...s,keySeparator:!1});L&&L.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let re=[];const Y=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Y&&Y[0])for(let L=0;L<Y.length;L++)re.push(Y[L]);else this.options.saveMissingTo==="all"?re=this.languageUtils.toResolveHierarchy(s.lng||this.language):re.push(s.lng||this.language);const P=(L,R,G)=>{var D;const X=z&&G!==y?G:te;this.options.missingKeyHandler?this.options.missingKeyHandler(L,d,R,X,O,s):(D=this.backendConnector)!=null&&D.saveMissing&&this.backendConnector.saveMissing(L,d,R,X,O,s),this.emit("missingKey",L,d,R,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?re.forEach(L=>{const R=this.pluralResolver.getSuffixes(L,s);V&&s[`defaultValue${this.options.pluralSeparator}zero`]&&R.indexOf(`${this.options.pluralSeparator}zero`)<0&&R.push(`${this.options.pluralSeparator}zero`),R.forEach(G=>{P([L],c+G,s[`defaultValue${G}`]||B)})}):P(re,c,B))}y=this.extendTranslation(y,r,s,g,a),q&&y===c&&this.options.appendNamespaceToMissingKey&&(y=`${d}${f}${c}`),(q||I)&&this.options.parseMissingKeyHandler&&(y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${f}${c}`:c,I?y:void 0,s))}return o?(g.res=y,g.usedParams=this.getUsedParamsDetails(s),g):y}extendTranslation(r,n,a,s,o){var u,d;if((u=this.i18nFormat)!=null&&u.parse)r=this.i18nFormat.parse(r,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const f=Mr(r)&&(((d=a==null?void 0:a.interpolation)==null?void 0:d.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(f){const g=r.match(this.interpolator.nestingRegexp);p=g&&g.length}let x=a.replace&&!Mr(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(x={...this.options.interpolation.defaultVariables,...x}),r=this.interpolator.interpolate(r,x,a.lng||this.language||s.usedLng,a),f){const g=r.match(this.interpolator.nestingRegexp),y=g&&g.length;p<y&&(a.nest=!1)}!a.lng&&s&&s.res&&(a.lng=this.language||s.usedLng),a.nest!==!1&&(r=this.interpolator.nest(r,(...g)=>(o==null?void 0:o[0])===g[0]&&!a.context?(this.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):this.translate(...g,n),a)),a.interpolation&&this.interpolator.reset()}const l=a.postProcess||this.options.postProcess,c=Mr(l)?[l]:l;return r!=null&&(c!=null&&c.length)&&a.applyPostProcessor!==!1&&(r=O9.handle(c,r,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),r}resolve(r,n={}){let a,s,o,l,c;return Mr(r)&&(r=[r]),r.forEach(u=>{if(this.isValidLookup(a))return;const d=this.extractFromKey(u,n),f=d.key;s=f;let p=d.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const x=n.count!==void 0&&!Mr(n.count),g=x&&!n.ordinal&&n.count===0,y=n.context!==void 0&&(Mr(n.context)||typeof n.context=="number")&&n.context!=="",w=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);p.forEach(v=>{var S,k;this.isValidLookup(a)||(c=v,!cD[`${w[0]}-${v}`]&&((S=this.utils)!=null&&S.hasLoadedNamespace)&&!((k=this.utils)!=null&&k.hasLoadedNamespace(c))&&(cD[`${w[0]}-${v}`]=!0,this.logger.warn(`key "${s}" for languages "${w.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(j=>{var $;if(this.isValidLookup(a))return;l=j;const C=[f];if(($=this.i18nFormat)!=null&&$.addLookupKeys)this.i18nFormat.addLookupKeys(C,f,j,v,n);else{let F;x&&(F=this.pluralResolver.getSuffix(j,n.count,n));const V=`${this.options.pluralSeparator}zero`,B=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(n.ordinal&&F.indexOf(B)===0&&C.push(f+F.replace(B,this.options.pluralSeparator)),C.push(f+F),g&&C.push(f+V)),y){const K=`${f}${this.options.contextSeparator||"_"}${n.context}`;C.push(K),x&&(n.ordinal&&F.indexOf(B)===0&&C.push(K+F.replace(B,this.options.pluralSeparator)),C.push(K+F),g&&C.push(K+V))}}let z;for(;z=C.pop();)this.isValidLookup(a)||(o=z,a=this.getResource(j,v,z,n))}))})}),{res:a,usedKey:s,exactUsedKey:o,usedLng:l,usedNS:c}}isValidLookup(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}getResource(r,n,a,s={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(r,n,a,s):this.resourceStore.getResource(r,n,a,s)}getUsedParamsDetails(r={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=r.replace&&!Mr(r.replace);let s=a?r.replace:r;if(a&&typeof r.count<"u"&&(s.count=r.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!a){s={...s};for(const o of n)delete s[o]}return s}static hasDefaultValue(r){const n="defaultValue";for(const a in r)if(Object.prototype.hasOwnProperty.call(r,a)&&n===a.substring(0,n.length)&&r[a]!==void 0)return!0;return!1}}class uD{constructor(r){this.options=r,this.supportedLngs=this.options.supportedLngs||!1,this.logger=hc.create("languageUtils")}getScriptPartFromCode(r){if(r=v0(r),!r||r.indexOf("-")<0)return null;const n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(r){if(r=v0(r),!r||r.indexOf("-")<0)return r;const n=r.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(r){if(Mr(r)&&r.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(r)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?r.toLowerCase():r)}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}isSupportedCode(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}getBestMatchFromCodes(r){if(!r)return null;let n;return r.forEach(a=>{if(n)return;const s=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&r.forEach(a=>{if(n)return;const s=this.getScriptPartFromCode(a);if(this.isSupportedCode(s))return n=s;const o=this.getLanguagePartFromCode(a);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(l=>{if(l===o)return l;if(!(l.indexOf("-")<0&&o.indexOf("-")<0)&&(l.indexOf("-")>0&&o.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===o||l.indexOf(o)===0&&o.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),Mr(r)&&(r=[r]),Array.isArray(r))return r;if(!n)return r.default||[];let a=r[n];return a||(a=r[this.getScriptPartFromCode(n)]),a||(a=r[this.formatLanguageCode(n)]),a||(a=r[this.getLanguagePartFromCode(n)]),a||(a=r.default),a||[]}toResolveHierarchy(r,n){const a=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],r),s=[],o=l=>{l&&(this.isSupportedCode(l)?s.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Mr(r)&&(r.indexOf("-")>-1||r.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(r))):Mr(r)&&o(this.formatLanguageCode(r)),a.forEach(l=>{s.indexOf(l)<0&&o(this.formatLanguageCode(l))}),s}}const dD={zero:0,one:1,two:2,few:3,many:4,other:5},hD={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class vxe{constructor(r,n={}){this.languageUtils=r,this.options=n,this.logger=hc.create("pluralResolver"),this.pluralRulesCache={}}addRule(r,n){this.rules[r]=n}clearCache(){this.pluralRulesCache={}}getRule(r,n={}){const a=v0(r==="dev"?"en":r),s=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:a,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let l;try{l=new Intl.PluralRules(a,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),hD;if(!r.match(/-|_/))return hD;const u=this.languageUtils.getLanguagePartFromCode(r);l=this.getRule(u,n)}return this.pluralRulesCache[o]=l,l}needsPlural(r,n={}){let a=this.getRule(r,n);return a||(a=this.getRule("dev",n)),(a==null?void 0:a.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(r,n,a={}){return this.getSuffixes(r,a).map(s=>`${n}${s}`)}getSuffixes(r,n={}){let a=this.getRule(r,n);return a||(a=this.getRule("dev",n)),a?a.resolvedOptions().pluralCategories.sort((s,o)=>dD[s]-dD[o]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(r,n,a={}){const s=this.getRule(r,a);return s?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${r}`),this.getSuffix("dev",n,a))}}const fD=(e,r,n,a=".",s=!0)=>{let o=cxe(e,r,n);return!o&&s&&Mr(n)&&(o=Fj(e,n,a),o===void 0&&(o=Fj(r,n,a))),o},W2=e=>e.replace(/\$/g,"$$$$");class yxe{constructor(r={}){var n;this.logger=hc.create("interpolator"),this.options=r,this.format=((n=r==null?void 0:r.interpolation)==null?void 0:n.format)||(a=>a),this.init(r)}init(r={}){r.interpolation||(r.interpolation={escapeValue:!0});const{escape:n,escapeValue:a,useRawValueToEscape:s,prefix:o,prefixEscaped:l,suffix:c,suffixEscaped:u,formatSeparator:d,unescapeSuffix:f,unescapePrefix:p,nestingPrefix:x,nestingPrefixEscaped:g,nestingSuffix:y,nestingSuffixEscaped:w,nestingOptionsSeparator:v,maxReplaces:S,alwaysFormat:k}=r.interpolation;this.escape=n!==void 0?n:dxe,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?Pf(o):l||"{{",this.suffix=c?Pf(c):u||"}}",this.formatSeparator=d||",",this.unescapePrefix=f?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=x?Pf(x):g||Pf("$t("),this.nestingSuffix=y?Pf(y):w||Pf(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=S||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const r=(n,a)=>(n==null?void 0:n.source)===a?(n.lastIndex=0,n):new RegExp(a,"g");this.regexp=r(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=r(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=r(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(r,n,a,s){var g;let o,l,c;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=y=>{if(y.indexOf(this.formatSeparator)<0){const k=fD(n,u,y,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(k,void 0,a,{...s,...n,interpolationkey:y}):k}const w=y.split(this.formatSeparator),v=w.shift().trim(),S=w.join(this.formatSeparator).trim();return this.format(fD(n,u,v,this.options.keySeparator,this.options.ignoreJSONStructure),S,a,{...s,...n,interpolationkey:v})};this.resetRegExp();const f=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,p=((g=s==null?void 0:s.interpolation)==null?void 0:g.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:y=>W2(y)},{regex:this.regexp,safeValue:y=>this.escapeValue?W2(this.escape(y)):W2(y)}].forEach(y=>{for(c=0;o=y.regex.exec(r);){const w=o[1].trim();if(l=d(w),l===void 0)if(typeof f=="function"){const S=f(r,o,s);l=Mr(S)?S:""}else if(s&&Object.prototype.hasOwnProperty.call(s,w))l="";else if(p){l=o[0];continue}else this.logger.warn(`missed to pass in variable ${w} for interpolating ${r}`),l="";else!Mr(l)&&!this.useRawValueToEscape&&(l=aD(l));const v=y.safeValue(l);if(r=r.replace(o[0],v),p?(y.regex.lastIndex+=l.length,y.regex.lastIndex-=o[0].length):y.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),r}nest(r,n,a={}){let s,o,l;const c=(u,d)=>{const f=this.nestingOptionsSeparator;if(u.indexOf(f)<0)return u;const p=u.split(new RegExp(`${f}[ ]*{`));let x=`{${p[1]}`;u=p[0],x=this.interpolate(x,l);const g=x.match(/'/g),y=x.match(/"/g);(((g==null?void 0:g.length)??0)%2===0&&!y||y.length%2!==0)&&(x=x.replace(/'/g,'"'));try{l=JSON.parse(x),d&&(l={...d,...l})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,w),`${u}${f}${x}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,u};for(;s=this.nestingRegexp.exec(r);){let u=[];l={...a},l=l.replace&&!Mr(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const d=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(d!==-1&&(u=s[1].slice(d).split(this.formatSeparator).map(f=>f.trim()).filter(Boolean),s[1]=s[1].slice(0,d)),o=n(c.call(this,s[1].trim(),l),l),o&&s[0]===r&&!Mr(o))return o;Mr(o)||(o=aD(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${r}`),o=""),u.length&&(o=u.reduce((f,p)=>this.format(f,p,a.lng,{...a,interpolationkey:s[1].trim()}),o.trim())),r=r.replace(s[0],o),this.regexp.lastIndex=0}return r}}const bxe=e=>{let r=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const a=e.split("(");r=a[0].toLowerCase().trim();const s=a[1].substring(0,a[1].length-1);r==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):r==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(l=>{if(l){const[c,...u]=l.split(":"),d=u.join(":").trim().replace(/^'+|'+$/g,""),f=c.trim();n[f]||(n[f]=d),d==="false"&&(n[f]=!1),d==="true"&&(n[f]=!0),isNaN(d)||(n[f]=parseInt(d,10))}})}return{formatName:r,formatOptions:n}},mD=e=>{const r={};return(n,a,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const l=a+JSON.stringify(o);let c=r[l];return c||(c=e(v0(a),s),r[l]=c),c(n)}},wxe=e=>(r,n,a)=>e(v0(n),a)(r);class jxe{constructor(r={}){this.logger=hc.create("formatter"),this.options=r,this.init(r)}init(r,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const a=n.cacheInBuiltFormats?mD:wxe;this.formats={number:a((s,o)=>{const l=new Intl.NumberFormat(s,{...o});return c=>l.format(c)}),currency:a((s,o)=>{const l=new Intl.NumberFormat(s,{...o,style:"currency"});return c=>l.format(c)}),datetime:a((s,o)=>{const l=new Intl.DateTimeFormat(s,{...o});return c=>l.format(c)}),relativetime:a((s,o)=>{const l=new Intl.RelativeTimeFormat(s,{...o});return c=>l.format(c,o.range||"day")}),list:a((s,o)=>{const l=new Intl.ListFormat(s,{...o});return c=>l.format(c)})}}add(r,n){this.formats[r.toLowerCase().trim()]=n}addCached(r,n){this.formats[r.toLowerCase().trim()]=mD(n)}format(r,n,a,s={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(c=>c.indexOf(")")>-1)){const c=o.findIndex(u=>u.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,c)].join(this.formatSeparator)}return o.reduce((c,u)=>{var p;const{formatName:d,formatOptions:f}=bxe(u);if(this.formats[d]){let x=c;try{const g=((p=s==null?void 0:s.formatParams)==null?void 0:p[s.interpolationkey])||{},y=g.locale||g.lng||s.locale||s.lng||a;x=this.formats[d](c,y,{...f,...s,...g})}catch(g){this.logger.warn(g)}return x}else this.logger.warn(`there was no format function for ${d}`);return c},r)}}const Nxe=(e,r)=>{e.pending[r]!==void 0&&(delete e.pending[r],e.pendingCount--)};class _xe extends wb{constructor(r,n,a,s={}){var o,l;super(),this.backend=r,this.store=n,this.services=a,this.languageUtils=a.languageUtils,this.options=s,this.logger=hc.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(l=(o=this.backend)==null?void 0:o.init)==null||l.call(o,a,s.backend,s)}queueLoad(r,n,a,s){const o={},l={},c={},u={};return r.forEach(d=>{let f=!0;n.forEach(p=>{const x=`${d}|${p}`;!a.reload&&this.store.hasResourceBundle(d,p)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?l[x]===void 0&&(l[x]=!0):(this.state[x]=1,f=!1,l[x]===void 0&&(l[x]=!0),o[x]===void 0&&(o[x]=!0),u[p]===void 0&&(u[p]=!0)))}),f||(c[d]=!0)}),(Object.keys(o).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(u)}}loaded(r,n,a){const s=r.split("|"),o=s[0],l=s[1];n&&this.emit("failedLoading",o,l,n),!n&&a&&this.store.addResourceBundle(o,l,a,void 0,void 0,{skipCopy:!0}),this.state[r]=n?-1:2,n&&a&&(this.state[r]=0);const c={};this.queue.forEach(u=>{lxe(u.loaded,[o],l),Nxe(u,r),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(d=>{c[d]||(c[d]={});const f=u.loaded[d];f.length&&f.forEach(p=>{c[d][p]===void 0&&(c[d][p]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(u=>!u.done)}read(r,n,a,s=0,o=this.retryTimeout,l){if(!r.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:r,ns:n,fcName:a,tried:s,wait:o,callback:l});return}this.readingCalls++;const c=(d,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(d&&f&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,r,n,a,s+1,o*2,l)},o);return}l(d,f)},u=this.backend[a].bind(this.backend);if(u.length===2){try{const d=u(r,n);d&&typeof d.then=="function"?d.then(f=>c(null,f)).catch(c):c(null,d)}catch(d){c(d)}return}return u(r,n,c)}prepareLoading(r,n,a={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Mr(r)&&(r=this.languageUtils.toResolveHierarchy(r)),Mr(n)&&(n=[n]);const o=this.queueLoad(r,n,a,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(l=>{this.loadOne(l)})}load(r,n,a){this.prepareLoading(r,n,{},a)}reload(r,n,a){this.prepareLoading(r,n,{reload:!0},a)}loadOne(r,n=""){const a=r.split("|"),s=a[0],o=a[1];this.read(s,o,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${n}loading namespace ${o} for language ${s} failed`,l),!l&&c&&this.logger.log(`${n}loaded namespace ${o} for language ${s}`,c),this.loaded(r,l,c)})}saveMissing(r,n,a,s,o,l={},c=()=>{}){var u,d,f,p,x;if((d=(u=this.services)==null?void 0:u.utils)!=null&&d.hasLoadedNamespace&&!((p=(f=this.services)==null?void 0:f.utils)!=null&&p.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${a}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if((x=this.backend)!=null&&x.create){const g={...l,isUpdate:o},y=this.backend.create.bind(this.backend);if(y.length<6)try{let w;y.length===5?w=y(r,n,a,s,g):w=y(r,n,a,s),w&&typeof w.then=="function"?w.then(v=>c(null,v)).catch(c):c(null,w)}catch(w){c(w)}else y(r,n,a,s,c,g)}!r||!r[0]||this.store.addResource(r[0],n,a,s)}}}const pD=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let r={};if(typeof e[1]=="object"&&(r=e[1]),Mr(e[1])&&(r.defaultValue=e[1]),Mr(e[2])&&(r.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(a=>{r[a]=n[a]})}return r},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),gD=e=>{var r,n;return Mr(e.ns)&&(e.ns=[e.ns]),Mr(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Mr(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(r=e.supportedLngs)==null?void 0:r.indexOf)==null?void 0:n.call(r,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},jx=()=>{},Sxe=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class qp extends wb{constructor(r={},n){if(super(),this.options=gD(r),this.services={},this.logger=hc,this.modules={external:[]},Sxe(this),n&&!this.isInitialized&&!r.isClone){if(!this.options.initAsync)return this.init(r,n),this;setTimeout(()=>{this.init(r,n)},0)}}init(r={},n){this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),r.defaultNS==null&&r.ns&&(Mr(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const a=pD();this.options={...a,...this.options,...gD(r)},this.options.interpolation={...a.interpolation,...this.options.interpolation},r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const s=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?hc.init(s(this.modules.logger),this.options):hc.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=jxe;const f=new uD(this.options);this.store=new lD(this.options.resources,this.options);const p=this.services;p.logger=hc,p.resourceStore=this.store,p.languageUtils=f,p.pluralResolver=new vxe(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(p.formatter=s(d),p.formatter.init&&p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new yxe(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new _xe(s(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",(g,...y)=>{this.emit(g,...y)}),this.modules.languageDetector&&(p.languageDetector=s(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=s(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new ly(this.services,this.options),this.translator.on("*",(g,...y)=>{this.emit(g,...y)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,n||(n=jx),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...f)=>this.store[d](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...f)=>(this.store[d](...f),this)});const c=Np(),u=()=>{const d=(f,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(p),n(f,p)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),c}loadResources(r,n=jx){var o,l;let a=n;const s=Mr(r)?r:this.language;if(typeof r=="function"&&(a=r),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const c=[],u=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(p=>{p!=="cimode"&&c.indexOf(p)<0&&c.push(p)})};s?u(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>u(f)),(l=(o=this.options.preload)==null?void 0:o.forEach)==null||l.call(o,d=>u(d)),this.services.backendConnector.load(c,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(d)})}else a(null)}reloadResources(r,n,a){const s=Np();return typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=void 0),r||(r=this.languages),n||(n=this.options.ns),a||(a=jx),this.services.backendConnector.reload(r,n,o=>{s.resolve(),a(o)}),s}use(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&O9.addPostProcessor(r),r.type==="formatter"&&(this.modules.formatter=r),r.type==="3rdParty"&&this.modules.external.push(r),this}setResolvedLanguage(r){if(!(!r||!this.languages)&&!(["cimode","dev"].indexOf(r)>-1)){for(let n=0;n<this.languages.length;n++){const a=this.languages[n];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}!this.resolvedLanguage&&this.languages.indexOf(r)<0&&this.store.hasLanguageSomeTranslations(r)&&(this.resolvedLanguage=r,this.languages.unshift(r))}}changeLanguage(r,n){this.isLanguageChangingTo=r;const a=Np();this.emit("languageChanging",r);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,u)=>{u?this.isLanguageChangingTo===r&&(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,a.resolve((...d)=>this.t(...d)),n&&n(c,(...d)=>this.t(...d))},l=c=>{var f,p;!r&&!c&&this.services.languageDetector&&(c=[]);const u=Mr(c)?c:c&&c[0],d=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(Mr(c)?[c]:c);d&&(this.language||s(d),this.translator.language||this.translator.changeLanguage(d),(p=(f=this.services.languageDetector)==null?void 0:f.cacheUserLanguage)==null||p.call(f,d)),this.loadResources(d,x=>{o(x,d)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(r),a}getFixedT(r,n,a){const s=(o,l,...c)=>{let u;typeof l!="object"?u=this.options.overloadTranslationOptionHandler([o,l].concat(c)):u={...l},u.lng=u.lng||s.lng,u.lngs=u.lngs||s.lngs,u.ns=u.ns||s.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||a||s.keyPrefix);const d=this.options.keySeparator||".";let f;return u.keyPrefix&&Array.isArray(o)?f=o.map(p=>(typeof p=="function"&&(p=$j(p,{...this.options,...l})),`${u.keyPrefix}${d}${p}`)):(typeof o=="function"&&(o=$j(o,{...this.options,...l})),f=u.keyPrefix?`${u.keyPrefix}${d}${o}`:o),this.t(f,u)};return Mr(r)?s.lng=r:s.lngs=r,s.ns=n,s.keyPrefix=a,s}t(...r){var n;return(n=this.translator)==null?void 0:n.translate(...r)}exists(...r){var n;return(n=this.translator)==null?void 0:n.exists(...r)}setDefaultNamespace(r){this.options.defaultNS=r}hasLoadedNamespace(r,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const l=(c,u)=>{const d=this.services.backendConnector.state[`${c}|${u}`];return d===-1||d===0||d===2};if(n.precheck){const c=n.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(a,r)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(a,r)&&(!s||l(o,r)))}loadNamespaces(r,n){const a=Np();return this.options.ns?(Mr(r)&&(r=[r]),r.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{a.resolve(),n&&n(s)}),a):(n&&n(),Promise.resolve())}loadLanguages(r,n){const a=Np();Mr(r)&&(r=[r]);const s=this.options.preload||[],o=r.filter(l=>s.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return o.length?(this.options.preload=s.concat(o),this.loadResources(l=>{a.resolve(),n&&n(l)}),a):(n&&n(),Promise.resolve())}dir(r){var s,o;if(r||(r=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!r)return"rtl";try{const l=new Intl.Locale(r);if(l&&l.getTextInfo){const c=l.getTextInfo();if(c&&c.direction)return c.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=((o=this.services)==null?void 0:o.languageUtils)||new uD(pD());return r.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(a.getLanguagePartFromCode(r))>-1||r.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(r={},n){const a=new qp(r,n);return a.createInstance=qp.createInstance,a}cloneInstance(r={},n=jx){const a=r.forkResourceStore;a&&delete r.forkResourceStore;const s={...this.options,...r,isClone:!0},o=new qp(s);if((r.debug!==void 0||r.prefix!==void 0)&&(o.logger=o.logger.clone(r)),["store","services","language"].forEach(c=>{o[c]=this[c]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},a){const c=Object.keys(this.store.data).reduce((u,d)=>(u[d]={...this.store.data[d]},u[d]=Object.keys(u[d]).reduce((f,p)=>(f[p]={...u[d][p]},f),u[d]),u),{});o.store=new lD(c,s),o.services.resourceStore=o.store}return o.translator=new ly(o.services,s),o.translator.on("*",(c,...u)=>{o.emit(c,...u)}),o.init(s,n),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Cs=qp.createInstance();Cs.createInstance;Cs.dir;Cs.init;Cs.loadResources;Cs.reloadResources;Cs.use;Cs.changeLanguage;Cs.getFixedT;Cs.t;Cs.exists;Cs.setDefaultNamespace;Cs.hasLoadedNamespace;Cs.loadNamespaces;Cs.loadLanguages;const kxe={home:"Home",cars:"Fleet",about:"About Us",howToRent:"How to Rent",reviews:"Reviews",contact:"Contact",auth:"Login",language:"Language",currency:"Currency",dashboard:"Dashboard",profile:"Profile",settings:"Settings",admin:"Admin",signOut:"Sign Out"},Cxe={en:"English",ro:"Romanian",ru:"Russian"},Pxe={companyType:"Car Rental",label:"Premium car rental service available 24/7 in Moldova.",smallLabel:"Start your journey today.",start:"+373 62 000 112",seeCars:"See Cars",location:"LOCATION",searchLocation:"Search location...",pickUpDate:"Pick-up Date",selectPickUpDate:"Select pick-up date",returnDate:"Return Date",selectReturnDate:"Select return date",search:"Search",make:"Make",model:"Model",selectMake:"Select make",selectModel:"Select model"},Exe={sectionLabel:"Popular Cars",sectionTitle:"The most popular car rental offers",viewAll:"View all vehicles"},Axe={sectionLabel:"Why Choose Us",sectionTitle:"We provide the best experience with our rental offers",bestPrices:{title:"Best Prices",description:"Competitive rates with no hidden fees. Get the best value for your money with our transparent pricing."},support:{title:"24/7 Support",description:"Round-the-clock customer service to assist you anytime during your rental period."},easyBooking:{title:"Easy Booking",description:"Simple and fast booking process. Reserve your car in just a few clicks with instant confirmation."},wideSelection:{title:"Wide Selection",description:"Choose from our extensive fleet of well-maintained vehicles to suit every need and budget."}},Dxe={sectionLabel:"How the rental process works",sectionTitle:"In just 5 simple steps",sectionDescription:"Choose your car, send the details and hit the road without worries.",pageTitle:"How car rental works at Level Auto Rental",steps:{contact:{title:"Contact Us",description:"Send us a direct message on social media or through the website."},details:{title:"Provide Details",description:"Choose the period and your preferred car."},price:{title:"Get Price",description:"See all the transparent information."},pickup:{title:"Pick Up Car",description:"Enjoy the ride to the fullest."},return:{title:"Return Car",description:"Return the car according to the contract terms."}},journey:{reservation:{title:"Online reservation",description:"The client books the perfect car directly from our website  fast, simple process without unnecessary complications."},airport:{title:"Airport meeting",description:"Upon plane landing, our team welcomes you at Chisinau Airport to complete the formalities in just a few minutes."},handover:{title:"Car handover",description:"We hand you the keys and documents for the prepared car, clean and technically checked, ready for your journey."},departure:{title:"Departure on journey",description:"With everything prepared, you head to your desired destination, benefiting from the freedom and comfort offered by our premium fleet."}},tagline:"Level Auto Rental  easy, fast, comfortable"},Lxe={sectionLabel:"Reviews",sectionTitle:"What people say about us?",sectionDescription:"Listen to what our customers say about our services",verifiedClient:"Verified Client"},Oxe=JSON.parse(`{"faq":{"hero":{"label":"Help Center","title":"Frequently Asked Questions","description":"Find answers to common questions about our car rental services. If you can't find what you're looking for, our support team is here to help."},"sections":{"booking":{"title":"Booking & Reservations","questions":{"how-to-book":"How do I book a car?","modify-cancel":"Can I modify or cancel my reservation?","account-required":"Do I need to create an account to rent a car?","advance-booking":"How far in advance should I book a car?"},"answers":{"how-to-book":"You can book a car directly through our website by selecting your pickup and return dates, choosing a vehicle, and completing the booking form. Our booking process is simple and secure, with instant confirmation sent to your email.","modify-cancel":" **Modifications**: Change dates, vehicle, or pickup location through your account\\n **Cancellation Policy**: Free cancellation up to 24 hours before pickup\\n **Availability**: Changes subject to vehicle availability\\n **Refunds**: Processed within 3-5 business days","account-required":"You can browse our vehicles and prices without creating an account, but having an account makes it easier to manage reservations, view your rental history, and speed up future bookings. Account creation is quick and free.","advance-booking":" **Recommended**: Book 3-5 days in advance for best selection\\n **Peak Seasons**: Reserve 1-2 weeks ahead during holidays\\n **Last-Minute**: Limited availability but possible with additional fees\\n **Flexible Options**: Same-day bookings available for urgent needs"}},"requirements":{"title":"Requirements & Policies","questions":{"documents":"What documents do I need to rent a car?","age-requirement":"Is there an age requirement?","insurance":"Is insurance included?","additional-driver":"Can I add an additional driver?"},"answers":{"documents":"You'll need a valid driver's license, a government-issued ID (like a passport), and a credit or debit card in the driver's name. International drivers should also have an international driving permit.","age-requirement":" **Minimum Age**: 21 years old for most vehicles\\n **Young Driver Fee**: Additional charge for drivers under 25\\n **Luxury Vehicles**: 25+ years for premium cars\\n **Senior Drivers**: No maximum age limit","insurance":" **Basic Coverage**: Included in all rentals\\n **Collision Damage**: Optional upgrade available\\n **Personal Effects**: Additional coverage for belongings\\n **Roadside Assistance**: 24/7 emergency support","additional-driver":" **Registration**: Add drivers during booking or at pickup\\n **Requirements**: Valid license and age verification\\n **Fees**: Additional charge per extra driver\\n **Responsibilities**: All drivers share liability"}},"payment":{"title":"Payment & Fees","questions":{"payment-methods":"What payment methods do you accept?","deposit":"Is a deposit required?","additional-fees":"Are there additional fees I should know about?","discounts":"Do you offer discounts?"},"answers":{"payment-methods":" **Credit Cards**: Visa, MasterCard, American Express\\n **Debit Cards**: Accepted with sufficient funds\\n **Cash Payments**: Available at select locations\\n **Bank Transfer**: For corporate accounts","deposit":" **Security Deposit**: Required at pickup\\n **Amount**: Varies by vehicle type (200-1000)\\n **Refund**: Returned after vehicle inspection\\n **Hold Period**: 3-5 business days for processing","additional-fees":" **Late Return**: 25 per hour after grace period\\n **Extra Mileage**: 0.25 per kilometer over limit\\n **Fuel**: Refueling service fee if needed\\n **Cleaning**: 50 for excessive dirt/damage","discounts":" **Early Booking**: 10% off for 7+ days advance\\n **Long-term**: 15% off for 7+ day rentals\\n **Loyalty Program**: Exclusive rates for repeat customers\\n **Corporate**: Special rates for business accounts"}},"pickup":{"title":"Pickup & Return","questions":{"pickup-location":"Where can I pick up my rental car?","different-return":"Can I return the car to a different location?","late-return":"What happens if I return the car late?","refuel":"Do I need to refuel the car before returning it?"},"answers":{"pickup-location":" **Main Office**: Central Chisinau location\\n **Airport**: Chisinau International Airport\\n **Partner Stations**: Select hotels and stations\\n **Delivery Service**: Available for premium rentals","different-return":" **One-way Rentals**: Available between major cities\\n **Additional Fee**: 50-200 depending on distance\\n **Advance Notice**: Book 48 hours in advance\\n **Restrictions**: Some locations may not allow returns","late-return":" **Grace Period**: 30 minutes free\\n **Late Fees**: 25 per hour after grace period\\n **Communication**: Contact us if you'll be late\\n **Flexibility**: We try to accommodate delays when possible","refuel":" **Same Level**: Return with same fuel as pickup\\n **Refueling Service**: 50 + fuel cost if needed\\n **Nearby Stations**: Maps provided for convenience\\n **Receipt**: Keep fuel receipts for verification"}}},"contact":{"title":"Still have questions?","description":"Contact us for help.","contact-support":"Write Message","call-us":"Call +373 62 000 112","response-time":"Response within 2 hours"}},"terms":{"hero":{"label":"Legal documents","title":"Terms & Conditions"},"sections":{"intro":{"title":"Introduction and your agreement","description":"If you continue to use our website, you agree to the terms of use. We respect the European Union General Data Protection Regulation (GDPR), and GDPR requirements have become an integral part of these terms of use. When you use our website, we collect and store your personal information. These terms of use explain how we collect and use your personal data. If you have questions or need clarification regarding the use of your personal data, please contact us through the contact form."},"cookies":{"title":"Cookie Files","bullet1":"Cookies are stored in your browser to personalize your experience using the website","bullet2":"By accepting the Cookie Policy, you agree to the use of cookies","bullet3":"We use cookies to improve the quality of the experience on our website","bullet4":"Cookies help us receive reports on errors that occur when using our website"},"personal-data":{"title":"Personal data","bullet1":"We collect personal information: name, email, phone number and IP address","bullet2":"We collect data only when you make a purchase on the site","bullet3":"Information is used for identification, confirmation and customer communication","bullet4":"We do not transmit this information to third parties - data is stored securely"},"location":{"title":"Your location","bullet1":"We use your IP address to determine your location","bullet2":"Location information helps us personalize your experience","bullet3":"Your location helps us display relevant ads near you","bullet4":"We use your location to broadcast targeted and relevant ads"},"payment":{"title":"Your credit card information","bullet1":"When making a purchase, you enter your credit card details or PayPal address","bullet2":"The entire payment process is handled by specialized payment systems","bullet3":"We do not store your credit card details","bullet4":"We do not have access to payment information at any stage of the purchase process"},"notifications":{"title":"System notifications","bullet1":"By using our website, you agree to receive notifications at your email address","bullet2":"Notifications may include booking information, confirmations and updates","bullet3":"Notifications serve as reminders and useful tips for using the site","bullet4":"The only way to stop receiving notifications is to delete your account"}}},"about":{"hero":{"label":"ABOUT COMPANY","title":"Level Auto Rental","subtitle":"Premium car rentals. Simple. Fast.","location":"in Moldova"},"stats":{"vehicles":"Vehicles","customers":"Happy Customers","experience":"Years Experience","awards":"Awards Won"},"story":{"label":"Our Story","title":"From Humble Beginnings to Industry Leaders","evolutionLabel":"Our Evolution in Moldova","timelineLabels":{"2023":"2023","2023-2024":"20232024","today":"Today"},"timeline":{"2023":{"title":"Launch","description":"We started with 3 cars and a vision: to make car rentals accessible in Moldova."},"2023-2024":{"title":"First Year","description":"We reached 15 cars and 200+ loyal customers. Simpler processes, transparent prices."},"today":{"title":"Today","description":"25+ cars, online bookings, home delivery. We continue to grow step by step."}},"paragraph1":"Founded in 2009, Level Auto Rental began as a small family business with a simple mission: to provide reliable, affordable transportation solutions for everyone. What started with just five vehicles has grown into one of Moldova's most trusted car rental services.","paragraph2":"Over the years, we've expanded our fleet to include over 500 vehicles ranging from economy cars to luxury sedans and SUVs. Our commitment to customer satisfaction and quality service has remained unchanged, earning us the loyalty of thousands of customers and numerous industry awards.","paragraph3":"Today, we continue to innovate and improve our services, embracing new technologies and sustainable practices to better serve our customers and protect the environment for future generations."},"values":{"label":"Our Values","title":"The principles that guide everything we do","safety":{"title":"Safety First","description":"All our vehicles undergo rigorous safety inspections and maintenance to ensure your peace of mind on the road."},"customer":{"title":"Customer Focus","description":"We prioritize customer satisfaction with 24/7 support and personalized service tailored to your needs."},"quality":{"title":"Quality Service","description":"Our commitment to excellence has earned us industry recognition and the trust of thousands of customers."}},"team":{"label":"Meet Our Team","title":"The dedicated professionals behind our success"}},"contact":{"hero":{"label":"Contact Us","title":"Get in Touch","description":"Have questions about our car rental services? We're here to help you with any inquiries or support you need."},"contact-info":"Contact Information","contact-description":"Reach out to us through any of these channels. We're available to assist you with your car rental needs.","send-message":"Send us a message","form-description":"Fill out the form below and we'll get back to you as soon as possible.","dev-mode":{"title":"Under Development","description":"This page is currently under development and available only to developers.","button":"Go Back Home"},"form":{"first-name":"First Name","last-name":"Last Name","email":"Email","email-example":"Enter your email","phone-number":"Phone Number","message":"Message","message-cta":"Leave us a message...","question":"Where you heard about us","start":"Send now"}},"reviews":{"hero":{"label":"Customer Reviews","title":"What Our Customers Say","description":"Read authentic reviews from our satisfied customers and discover why they choose LevelAutoRental for their car rental needs."},"sectionLabel":"Reviews","sectionTitle":"Customer Reviews","sectionDescription":"Discover what our customers say about their experience with LevelAutoRental","stats":{"totalReviews":"Total Reviews","averageRating":"Average Rating","satisfaction":"Customer Satisfaction"},"cta":{"title":"Ready to Experience Excellence?","description":"Join thousands of satisfied customers who trust LevelAutoRental for their car rental needs.","button":"Book Your Car Now"},"categories":{"nchiriere":"Rental","Splare":"Car Wash","Vnzare":"Sale","Detailing auto":"Auto Detailing"},"home-page":{"1":"Amazing service! The car was clean, reliable, and the booking process was incredibly simple. I will definitely use it again!","2":"The best car rental experience I've ever had. Great prices, excellent customer service, and the car exceeded my expectations.","3":"Very professional service. Pickup was fast and the car was exactly as described. Highly recommended!","4":"Fantastic experience from start to finish. The website is easy to use and the car was perfect for our family trip.","5":"Excellent service! The car was in perfect condition, and the booking process was very simple. Reasonable prices, highly recommended!","6":"Very satisfied with the service! The car matched the description, and the staff was professional. Will definitely use again."},"comments":{"1":"I've had experience with several rental services, and this is probably one of the fastest and most reliable. Well-maintained cars, transparent and well-detailed contract, no special conditions or extra payment for cross-border trips, loyal. If I had to recommend a rental fleet, this would definitely be it.","2":"Everything great  service at the level, nice cars, staff rated 10. ","3":"The guys really provide quality service, the best car wash in Chiinu, a wide range of services, they use quality chemicals and respect the cleaning process, you always leave in a good mood in a truly clean car.","5":"Excellent service, wide range of cars, possibility to extend the rental contract remotely! Great guys. ","6":"I found the rental car I was looking for.","7":"Excellent service. Many cars. The rental process is very fast. They offer cars to foreigners too. Recommend!","8":"They also have cars for sale. We wanted to see one. First, they didn't answer. The second time they answered. They said they would call back. They didn't call back. It turned out that the listing was not updated.","10":"Very good service! The car was clean and in perfect condition. The booking process was simple and fast. I will definitely use these services again.","11":"Best car rental experience! Excellent prices, great customer service, and the car exceeded my expectations. Highly recommend!","12":"Superior quality car wash service! The car came out like new. The staff is very detail-oriented and uses quality products. I will definitely return!","13":"Fantastic experience! I rented a Mercedes and everything was perfect. The team is professional, I was served immediately and the process was very simple. The car was in impeccable condition!","14":"I recommend with complete confidence! Fast service, new cars and fair prices. I've used the services twice already and each time I was very satisfied.","15":"Excellent service for car rentals in Chiinu. They also offer home delivery, which is very convenient. The cars are well-maintained and the prices are better than the competition.","16":"I rented for the weekend and was very impressed by the quality of service. Very friendly staff and responds promptly to questions. The car was clean and in perfect working condition.","17":"Professional and trustworthy service. The contract is clear, no surprises. I've rented multiple times and each time everything went perfectly. Recommend!","18":"Best car rental company in Moldova! Fair prices, quality cars and super helpful team. Will definitely use again!","19":"Fast service, good cars, fair prices. What more can you ask for? Highly recommend for anyone needing a rental car in Chisinau.","20":"I was very satisfied with the service offered. Competitive prices, good cars and friendly staff. I will definitely return for the next rental!"}}}`),Txe={login:{"left-part":{smallLabel:"Welcome back",label:"Explore cars, rent fast",description:"Find and reserve the perfect car for your trip. Fast pickup, clear terms and 24/7 support."},"right-part":{label:"Login",description:"Sign in to your account to manage bookings and rentals.",email:"Email","email-example":"Enter your email",password:"Password","enter-password":"Enter your password","remember-me":"Remember me","forgot-password":"Forgot password?",login:"Login",or:"OR","create-account":"Create an account"}},register:{"left-part":{smallLabel:"Start your journey",label:"Rent with confidence",description:"Create your account to book premium cars, manage reservations and benefit from personalized high-quality services."},"right-part":{label:"Sign Up",description:"Sign up to improve your user experience.","first-name":"First Name","first-name-placeholder":"First Name","last-name":"Last Name","last-name-placeholder":"Last Name",email:"Email","email-placeholder":"Enter your email",phone:"Phone number",password:"Password","enter-password":"Enter your password","join-us":"Join us",or:"OR","already-have-account":"Already have an account?"}},forgot:{"left-part":{smallLabel:"Forgot password?",label:"Recover access",description:"Don't worry! We'll help you recover access to your account quickly and securely."},"right-part":{label:"Password Recovery",description:"Enter your email address and we'll send you instructions for resetting your password.",email:"Email","email-placeholder":"Enter your email","send-reset":"Recover password","back-to-login":"Back to login"},success:{title:"Email sent!",description:"We've sent password reset instructions to your email address. Check your inbox and follow the steps provided."}}},Mxe={description:"Premium car rental service providing exceptional vehicles and unmatched customer experience in Moldova. Your journey starts here.",sections:{reservations:{title:"Reservations",links:{start:"Start a reservation",howTo:"How to reserve",calculator:"Rental Calculator",faq:"Help & FAQ"}},vehicles:{title:"Vehicles",links:{suv:"SUVs",sports:"Sports Cars",luxury:"Luxury Cars",all:"All Cars"}},company:{title:"Company",links:{about:"About Us",reviews:"Reviews","rental-conditions":"Rental Conditions"}}},social:{"follow-us":"Follow us",tiktok:"TikTok",facebook:"Facebook",instagram:"Instagram"},bottom:{logo:"LevelAutoRental",copyright:" 2025 LevelAutoRental. All rights reserved"},faq:{hero:{label:"Help Center",title:"Frequently Asked Questions",description:"Find answers to common questions about our car rental services. If you can't find what you're looking for, our support team is here to help."},sections:{booking:{title:"Booking & Reservations",questions:{"how-to-book":"How do I book a car?","modify-cancel":"Can I modify or cancel my reservation?","account-required":"Do I need to create an account to rent a car?","advance-booking":"How far in advance should I book a car?"},answers:{"how-to-book":"You can book a car directly through our website by selecting your pickup and return dates, choosing a vehicle, and completing the booking form. Our booking process is simple and secure, with instant confirmation sent to your email.","modify-cancel":` **Modifications**: Change dates, vehicle, or pickup location through your account
 **Cancellation Policy**: Free cancellation up to 24 hours before pickup
 **Availability**: Changes subject to vehicle availability
 **Refunds**: Processed within 3-5 business days`,"account-required":"You can browse our vehicles and prices without creating an account, but having an account makes it easier to manage reservations, view your rental history, and speed up future bookings. Account creation is quick and free.","advance-booking":` **Recommended**: Book 3-5 days in advance for best selection
 **Peak Seasons**: Reserve 1-2 weeks ahead during holidays
 **Last-Minute**: Limited availability but possible with additional fees
 **Flexible Options**: Same-day bookings available for urgent needs`}},requirements:{title:"Requirements & Policies",questions:{documents:"What documents do I need to rent a car?","age-requirement":"Is there an age requirement?",insurance:"Is insurance included?","additional-driver":"Can I add an additional driver?"},answers:{documents:"You'll need a valid driver's license, a government-issued ID (like a passport), and a credit or debit card in the driver's name. International drivers should also have an international driving permit.","age-requirement":` **Minimum Age**: 21 years old for most vehicles
 **Young Driver Fee**: Additional charge for drivers under 25
 **Luxury Vehicles**: 25+ years for premium cars
 **Senior Drivers**: No maximum age limit`,insurance:` **Basic Coverage**: Included in all rentals
 **Collision Damage**: Optional upgrade available
 **Personal Effects**: Additional coverage for belongings
 **Roadside Assistance**: 24/7 emergency support`,"additional-driver":` **Registration**: Add drivers during booking or at pickup
 **Requirements**: Valid license and age verification
 **Fees**: Additional charge per extra driver
 **Responsibilities**: All drivers share liability`}},payment:{title:"Payment & Fees",questions:{"payment-methods":"What payment methods do you accept?",deposit:"Is a deposit required?","additional-fees":"Are there additional fees I should know about?",discounts:"Do you offer discounts?"},answers:{"payment-methods":` **Credit Cards**: Visa, MasterCard, American Express
 **Debit Cards**: Accepted with sufficient funds
 **Cash Payments**: Available at select locations
 **Bank Transfer**: For corporate accounts`,deposit:` **Security Deposit**: Required at pickup
 **Amount**: Varies by vehicle type (200-1000)
 **Refund**: Returned after vehicle inspection
 **Hold Period**: 3-5 business days for processing`,"additional-fees":` **Late Return**: 25 per hour after grace period
 **Extra Mileage**: 0.25 per kilometer over limit
 **Fuel**: Refueling service fee if needed
 **Cleaning**: 50 for excessive dirt/damage`,discounts:` **Early Booking**: 10% off for 7+ days advance
 **Long-term**: 15% off for 7+ day rentals
 **Loyalty Program**: Exclusive rates for repeat customers
 **Corporate**: Special rates for business accounts`}},pickup:{title:"Pickup & Return",questions:{"pickup-location":"Where can I pick up my rental car?","different-return":"Can I return the car to a different location?","late-return":"What happens if I return the car late?",refuel:"Do I need to refuel the car before returning it?"},answers:{"pickup-location":` **Main Office**: Central Chisinau location
 **Airport**: Chisinau International Airport
 **Partner Stations**: Select hotels and stations
 **Delivery Service**: Available for premium rentals`,"different-return":` **One-way Rentals**: Available between major cities
 **Additional Fee**: 50-200 depending on distance
 **Advance Notice**: Book 48 hours in advance
 **Restrictions**: Some locations may not allow returns`,"late-return":` **Grace Period**: 30 minutes free
 **Late Fees**: 25 per hour after grace period
 **Communication**: Contact us if you'll be late
 **Flexibility**: We try to accommodate delays when possible`,refuel:` **Same Level**: Return with same fuel as pickup
 **Refueling Service**: 50 + fuel cost if needed
 **Nearby Stations**: Maps provided for convenience
 **Receipt**: Keep fuel receipts for verification`}}},contact:{title:"Still have questions?",description:"Contact us for help.","contact-support":"Write Message","call-us":"Call +373 62 000 112","response-time":"Response within 2 hours"}}},Ixe={specifications:"Specifications",characteristics:"Vehicle Characteristics",technicalSpecs:"Technical Specifications",seats:"Seats",transmissionLabel:"Transmission",fuelLabel:"Fuel",bodyType:"Body Type",mileageLimit:"200km/day",seeCar:"See car",seeMorePhotos:"See {{count}} more photos",noImage:"No Image",transmission:{automatic:"Automatic",manual:"Manual"},fuel:{gasoline:"Gasoline",diesel:"Diesel",benzina:"Petrol",hybrid:"Hybrid",electric:"Electric"},perDay:"per day",available:"Available",chooseDates:"Choose dates",rentalCost:"Rental Cost",rental:"Rental",year:"year",writeOnTelegram:"Write on Telegram",contactHelpText:"You can write or call us, we will help you",discount:"DISCOUNT",days:"DAYS",equipment:"Equipment",equipmentIncluded:"Equipment Included"},Rxe={title:"Rent Your Ideal Car",subtitle:"Varied fleet of premium vehicles  Complete services with or without driver  Permanent assistance and clear prices",clearFilters:"Clear all filters",make:"Make",selectMake:"Select make",model:"Model",selectModel:"Select model",search:"Search"},zxe={title:"Filters",category:{label:"Category",all:"All",suv:"SUV",sport:"Sport",luxury:"Luxury"},price:{label:"Price (lei)",from:"From",to:"To"},year:{label:"Year of manufacture",from:"From",to:"To"},transmission:{label:"Transmission",any:"Any",manual:"Manual",automatic:"Automatic"},fuel:{label:"Fuel",any:"Any",benzina:"Petrol",gasoline:"Gasoline",diesel:"Diesel",hybrid:"Hybrid",electric:"Electric"},seats:{label:"Seats",minSeats:"Minimum number of seats"},apply:"Apply filters",clear:"Clear all"},Fxe={selectVehicle:"Select vehicle",rentalPeriod:"Rental period",numberOfDays:"Number of days",day:"day",days:"days",locations:{title:"Locations",chisinauAirport:"Chisinau Airport",chisinauCenter:"Chisinau Center",chisinauNord:"Chiinu Nord"},pickup:"Pickup",return:"Return",additionalOptions:"Additional options",unlimitedMileage:"Unlimited mileage",noSpeedLimit:"No speed limit",personalDriver:"Personal driver",priorityService:"Priority Service",childCarSeat:"Child car seat",simWithInternet:"SIM with internet",roadsideAssistance:"Roadside assistance",totalCost:"Total cost",priceDetails:"Price details",selectedVehicle:"Selected vehicle",pricePerDay:"Price per day",priceRanges:"Price Ranges",numberDays:"Number of days",discount:"Discount",basePrice:"Base price",additionalServices:"Additional services",noSpeedLimitShort:"No speed limit",insurance:"Insurance",childSeat:"Child seat",simInternet:"SIM internet",assistance:"Assistance",services:"Services",bookNow:"Book now",contactUs:"Contact us",pricesAreIndicative:"Prices are indicative",pricesDescription:"For an exact and personalized offer, please contact us directly.",discountApplied4:"Discount applied: -4% for 8+ days",discountApplied2:"Discount applied: -2% for 4+ days",perDay:"/day",pricingTiers:"Pricing Tiers",currentTier:"Current:",pickupDate:"Pickup Date",returnDate:"Return Date",totalDays:"Total Days:",selectPickupDate:"Select pickup date",selectReturnDate:"Select return date",selectPickupInstruction:"Select pickup date",changePickupInstruction:"Click to change pickup date",selectReturnInstruction:"Select return date",changeReturnInstruction:"Click to change return date",dateUnavailable:"Date unavailable",beforePickup:"Cannot be before pickup date"},$xe={sectionLabel:"Additional Services",sectionTitle:"Rental Options",unlimitedMileage:{title:"Unlimited mileage",description:"Rental price will be 50% higher"},personalDriver:{title:"Personal driver",price:"from 800 MDL per day"},priorityService:{title:"Priority Service",price:"from 1000 MDL per day"},childCarSeat:{title:"Child car seat",price:"from 100 MDL per day"},simCard:{title:"SIM card with internet",price:"from 100 MDL per day"},roadsideAssistance:{title:"Roadside assistance",price:"from 500 MDL per day"},airportDelivery:{title:"Airport delivery",price:"Free"}},Bxe={sectionLabel:"Legal Information",sectionTitle:"Contract",description:"Our company provides car rental services on the territory of the Republic of Moldova, strictly respecting the current legislation. Customer interaction is based on the Rental Contract, which guarantees the legal protection of their interests.",requirementsTitle:"Terms and Requirements",requirementsDescription:"To rent a car, the following requirements must be met:",age:{label:"Age",value:"from 21 years"},license:{label:"License",value:"category B"},experience:{label:"Experience",value:"at least 3 years"},mileage:{label:"km/day",value:"up to 200km"},moreDetails:"More Details",details:{identityCard:"Possession of identity card.",fullPayment:"Full payment (100%) of the rental fee for the selected car.",finesResponsibility:"All fines received during vehicle use are the driver's responsibility.",cascoResponsibility:"In the absence of CASCO insurance, accident liability falls to the driver.",paymentMethods:"Payment can be made in cash, by bank transfer or by card.",earlyReturn:"The client has the right to cost recalculation in case of early vehicle return.",extension:"Extension of the rental contract is possible remotely, but is not guaranteed.",delivery:"Delivery or return of the car to a convenient address is possible. Cost is confirmed by phone +373 62 000 112.",deposit:{title:"Deposit",description:"Deposit payment according to the value established in the Contract. The deposit represents insurance of the Tenant's obligations fulfillment and is returned after 10 days from the car handover, in the absence of major violations."},mileageLimit:{title:"Mileage limit",description:"In case of rental for several days, the limit is calculated in total. In case of exceeding the limit and in the absence of the activated 'Unlimited mileage' option, the excess is paid separately."},secondDriver:{title:"Second driver",description:"Before signing the Rental Contract, the cost of adding a second driver is 0 lei. After signing the Rental Contract, the cost of adding a second driver is 500 lei."},depositReturn:{title:"Deposit return",description:"If the deposit is left in cash, it is returned upon car handover. If retained from the card, return takes place within 10 working days after car handover."}}},Uxe={title:"Page Not Found",description:"Sorry, the page you are looking for doesn't exist or has been moved.",goBackHome:"Home page",goBack:"Go Back"},qxe={sidebar:{overview:"Home",myBookings:"My Bookings",cars:"Cars",profile:"Profile",calendar:"Calendar",settings:"Settings",signOut:"Sign Out"},overview:{title:"Control Panel",rentalsInfo:"Rentals Info",totalBookings:"Total bookings",finishedBookings:"Finished bookings",activeBookings:"Active bookings",lifetimeBookings:"Bookings over time",totalSpent:"Total spent",lifetimeSpending:"Lifetime spending",loyaltyPoints:"Loyalty points",availablePoints:"Available points",recentBookings:"Recent bookings",viewAll:"View all",favoriteCar:"Favorite Car",noFavoriteCar:"You haven't borrowed any car, so you don't have a favorite car yet.",startBorrowing:"Start borrowing"}},Hxe={date:"en-GB"},Vxe={title:"Welcome!",subtitle:"Select your preferred language and currency",language:"Language",currency:"Currency",confirm:"Confirm"},Wxe={requests:{pickupDate:"Pickup Date"},calendar:{noBookings:"No bookings for this day",filters:"Filters",make:"Make",model:"Model",applyFilters:"Apply Filters"}},Kxe={header:kxe,languages:Cxe,hero:Pxe,popularCars:Exe,features:Axe,howToRent:Dxe,testimonials:Lxe,pages:Oxe,auth:Txe,footer:Mxe,car:Ixe,carsPage:Rxe,filters:zxe,calculator:Fxe,rentalOptions:$xe,contract:Bxe,notFound:Uxe,dashboard:qxe,config:Hxe,languageCurrencyModal:Vxe,admin:Wxe},Gxe={home:"Acas",cars:"Flot",about:"Despre noi",howToRent:"Cum nchiriez",reviews:"Recenzii",contact:"Contacteaz-ne",auth:"Autentificare",language:"Limb",currency:"Moned",dashboard:"Panou de control",profile:"Profil",settings:"Setri",admin:"Admin",signOut:"Deconectare"},Yxe={en:"Englez",ro:"Romn",ru:"Rus"},Xxe={companyType:"Chirie Auto",label:"Servicii premium de nchirieri auto disponibil 24/7 n Moldova.",smallLabel:"ncepe cltoria ta astzi.",start:"+373 62 000 112",seeCars:"Vezi mainile",location:"LOCAIA",searchLocation:"Cutai locaia...",pickUpDate:"Data de preluare",selectPickUpDate:"Selectai data de preluare",returnDate:"Data de returnare",selectReturnDate:"Selectai data de returnare",search:"Cutare",make:"Marc",model:"Model",selectMake:"Selecteaz marca",selectModel:"Selecteaz modelul"},Jxe={sectionLabel:"Maini Populare",sectionTitle:"Cele mai populare oferte de nchirieri auto",viewAll:"Vezi toate vehiculele"},Zxe={sectionLabel:"De ce s ne alegei",sectionTitle:"Oferim cea mai bun experien pentru nchirieri.",bestPrices:{title:"Cele mai bune preuri",description:"Tarife competitive fr costuri ascunse. Obinei cea mai bun valoare pentru banii votri cu preurile noastre transparente."},support:{title:"Suport 24/7",description:"Serviciu clieni non-stop pentru a v ajuta oricnd avei nevoie de asisten n perioada de nchiriere."},easyBooking:{title:"Rezervare uoar",description:"Proces simplu i rapid de rezervare. Rezervai maina n doar cteva clicuri cu confirmare instantanee."},wideSelection:{title:"Selecie larg",description:"Alegei din flota noastr extins de vehicule bine ntreinute pentru a satisface fiecare nevoie i buget."}},Qxe={sectionLabel:"Procesul de inchiriere",sectionTitle:"n doar 5 pai simpli",sectionDescription:"Alege maina, trimite detaliile i pornete la drum fr griji.",pageTitle:"Cum decurge nchirierea unei maini la Level Auto Rental",steps:{contact:{title:"Contacteaz-ne",description:"Contacteaz-ne prin mesaj sau site."},details:{title:"Indic detaliile",description:"Alege perioada i maina preferat."},price:{title:"Primeti preul",description:"Vezi toat informaia transparent."},pickup:{title:"Preiei maina",description:"Te bucuri din plin de main."},return:{title:"Returnezi maina",description:"Returnezi maina conform termenilor din contract."}},journey:{reservation:{title:"Rezervare online",description:"Clientul i rezerv maina perfect direct de pe site-ul nostru  proces rapid, simplu i fr complicaii inutile."},airport:{title:"ntlnire la aeroport",description:"La aterizarea avionului, echipa noastr v ntmpin la Aeroportul Chiinu pentru a finaliza formalitile n doar cteva minute."},handover:{title:"Predarea mainii",description:"V nmnm cheile i documentele pentru maina pregtit, curat i verificat tehnic, gata pentru cltoria dumneavoastr."},departure:{title:"Plecarea n cltorie",description:"Cu totul pregtit, pornii spre destinaia dorit, beneficiind de libertatea i confortul oferit de flota noastr premium."}},tagline:"Level Auto Rental - uor, rapid, comod"},eve={sectionLabel:"Recenzii",sectionTitle:"Ce spun oamenii despre noi?",sectionDescription:"Ascultai ce spun clienii notri despre serviciile noastre",verifiedClient:"Client Verificat"},tve=JSON.parse('{"faq":{"hero":{"label":"ntrebri frecvente","title":"ntrebri frecvente","description":"Gsete rspunsuri la ntrebrile frecvente despre serviciile noastre de nchiriere auto."},"sections":{"booking":{"title":"Rezervri i Booking","questions":{"how-to-book":"Cum rezerv o main?","modify-cancel":"Pot modifica sau anula rezervarea?","account-required":"Trebuie s creez un cont pentru a nchiria o main?","advance-booking":"Cu ct timp nainte ar trebui s rezerv o main?"},"answers":{"how-to-book":"Poi rezerva o main direct prin site-ul nostru selectnd datele de preluare i returnare, alegnd un vehicul i completnd formularul de rezervare. Procesul nostru de rezervare este simplu i sigur, cu confirmare instantanee trimis pe email.","modify-cancel":" **Modificri**: Schimb datele, vehiculul sau locaia de preluare prin contul tu\\\\n **Politica de Anulare**: Anulare gratuit pn la 24 ore nainte de preluare\\\\n **Disponibilitate**: Modificrile sunt supuse disponibilitii vehiculului\\\\n **Rambursri**: Procesate n 3-5 zile lucrtoare","account-required":"Poi naviga prin vehiculele i preurile noastre fr s creezi un cont, dar avnd un cont i este mai uor s gestionezi rezervrile, s vezi istoricul nchirierilor i s accelerezi rezervrile viitoare. Crearea contului este rapid i gratuit.","advance-booking":" **Recomandat**: Rezerv cu 3-5 zile nainte pentru cea mai bun selecie\\\\n **Sezoane de Vrf**: Rezerv cu 1-2 sptmni nainte n perioadele de srbtori\\\\n **Ultimul Moment**: Disponibilitate limitat dar posibil cu taxe suplimentare\\\\n **Opiuni Flexibile**: Rezervri n aceeai zi disponibile pentru nevoi urgente"}},"requirements":{"title":"Cerine i Politici","questions":{"documents":"Ce documente am nevoie pentru a nchiria o main?","age-requirement":"Exist o cerin de vrst?","insurance":"Este inclus asigurarea?","additional-driver":"Pot aduga un ofer suplimentar?"},"answers":{"documents":"Vei avea nevoie de permis de conducere valabil, un act de identitate emis de stat (precum paaportul) i o carte de credit sau debit pe numele oferului. oferii internaionali ar trebui s aib i un permis de conducere internaional.","age-requirement":" **Vrsta Minim**: 21 de ani pentru majoritatea vehiculelor\\n **Taxa ofer Tnr**: Tax suplimentar pentru oferii sub 25 de ani\\n **Vehicule de Lux**: 25+ ani pentru maini premium\\n **oferi Seniori**: Nu exist limit de vrst maxim","insurance":" **Acoperire de Baz**: Inclus n toate nchirierile\\n **Daune la Coliziune**: Upgrade opional disponibil\\n **Efecte Personale**: Acoperire suplimentar pentru obiecte personale\\n **Asisten Rutier**: Suport de urgen 24/7","additional-driver":" **nregistrare**: Adaug oferi n timpul rezervrii sau la preluare\\n **Cerine**: Permis valabil i verificare vrst\\n **Taxe**: Tax suplimentar per ofer suplimentar\\n **Responsabiliti**: Toi oferii mprtesc rspunderea"}},"payment":{"title":"Pli i Taxe","questions":{"payment-methods":"Ce metode de plat acceptai?","deposit":"Este necesar un depozit?","additional-fees":"Exist taxe suplimentare de care ar trebui s tiu?","discounts":"Oferii reduceri?"},"answers":{"payment-methods":" **Carduri de Credit**: Visa, MasterCard, American Express\\n **Carduri de Debit**: Acceptate cu fonduri suficiente\\n **Pli Numerar**: Disponibile n locaii selectate\\n **Transfer Bancar**: Pentru conturi corporative","deposit":" **Depozit de Garanie**: Necesar la preluare\\n **Suma**: Variaz dup tipul de vehicul (200-1000)\\n **Rambursare**: Returnat dup inspecia vehiculului\\n **Perioada de Reinere**: 3-5 zile lucrtoare pentru procesare","additional-fees":" **Returnare ntrziat**: 25 pe or dup perioada de graie\\n **Kilometraj Suplimentar**: 0,25 per kilometru peste limit\\n **Combustibil**: Tax serviciu realimentare dac necesar\\n **Curare**: 50 pentru murdrie/deteriorare excesiv","discounts":" **Rezervare Devreme**: 10% reducere pentru 7+ zile nainte\\n **Termen Lung**: 15% reducere pentru nchirieri de 7+ zile\\n **Program de Loialitate**: Tarife exclusive pentru clieni fideli\\n **Corporate**: Tarife speciale pentru conturi de business"}},"pickup":{"title":"Preluare i Returnare","questions":{"pickup-location":"Unde pot prelua maina nchiriat?","different-return":"Pot returna maina ntr-o locaie diferit?","late-return":"Ce se ntmpl dac returnez maina cu ntrziere?","refuel":"Trebuie s realimentez maina nainte de returnare?"},"answers":{"pickup-location":" **Birou Principal**: Locaia central din Chiinu\\n **Aeroport**: Aeroportul Internaional Chiinu\\n **Staii Partenere**: Hoteluri i staii selectate\\n **Serviciu de Livrare**: Disponibil pentru nchirieri premium","different-return":" **nchirieri Sens Unic**: Disponibile ntre orae majore\\n **Tax Suplimentar**: 50-200 n funcie de distan\\n **Notificare nainte**: Rezerv cu 48 ore nainte\\n **Restricii**: Unele locaii pot s nu permit returnri","late-return":" **Perioada de Graie**: 30 minute gratuite\\n **Taxe ntrziere**: 25 pe or dup perioada de graie\\n **Comunicare**: Contacteaz-ne dac vei ntrzia\\n **Flexibilitate**: ncercm s acomodm ntrzierile cnd este posibil","refuel":" **Acelai Nivel**: Returneaz cu acelai combustibil ca la preluare\\n **Serviciu Realimentare**: 50 + costul combustibilului dac necesar\\n **Staii Apropiate**: Hri furnizate pentru confort\\n **Bon**: Pstreaz bonurile de combustibil pentru verificare"}}},"contact":{"title":"Mai ai ntrebri?","description":"Contacteaz-ne pentru detalii.","contact-support":"Scrie mesaj","call-us":"Sun +373 62 000 112","response-time":"Rspuns n 2 ore"}},"terms":{"hero":{"label":"Documente legale","title":"Termeni i condiii"},"sections":{"intro":{"title":"Introducere i acordul dumneavoastr","description":"Dac continuai s utilizai site-ul nostru, suntei de acord cu termenii de utilizare. Respectm Regulamentul general privind protecia datelor (GDPR) al Uniunii Europene, iar cerinele GDPR au devenit parte integrant a acestor termeni de utilizare. Cnd utilizai site-ul nostru, colectm i stocm informaiile dumneavoastr personale. Aceti termeni de utilizare explic cum colectm i folosim datele dvs. personale. Dac avei ntrebri sau avei nevoie de clarificri cu privire la utilizarea datelor dvs. personale, v rugm s ne contactai prin intermediul formularului de contact."},"cookies":{"title":"Fiiere Cookie","bullet1":"Cookie-urile sunt stocate n browserul dvs. pentru a v personaliza experiena de utilizare","bullet2":"Prin acceptarea Politicii privind cookie-urile, suntei de acord cu utilizarea lor","bullet3":"Utilizm cookie-uri pentru a mbunti calitatea experienei pe site-ul nostru","bullet4":"Cookie-urile ne ajut s primim rapoarte privind erorile care apar la utilizarea site-ului"},"personal-data":{"title":"Date personale","bullet1":"Colectm informaii personale: nume, email, numr de telefon","bullet2":"Colectm date doar atunci cnd efectuai o achiziie pe site","bullet3":"Informaiile sunt folosite pentru identificare, confirmare i comunicare cu clienii","bullet4":"Noi nu transmitem aceste informaii terilor - datele sunt stocate n siguran"},"notifications":{"title":"Notificri de sistem","bullet1":"Prin utilizarea site-ului, suntei de acord s primii notificri la adresa dvs. de e-mail","bullet2":"Notificrile pot include informaii despre rezervri, confirmri i actualizri","bullet3":"Notificrile servesc ca mementouri i sfaturi utile pentru utilizarea site-ului","bullet4":"Singura modalitate de a nu mai primi notificri este s v tergei contul"}}},"about":{"hero":{"label":"DESPRE COMPANIE","title":"Level Auto Rental","subtitle":"nchirieri auto premium. Simplu. Rapid.","location":"n Moldova"},"stats":{"vehicles":"Vehicule","customers":"Clieni fericii","experience":"Ani de experien","awards":"Premii ctigate"},"story":{"label":"Povestea noastr","title":"De la nceputuri modeste la lideri n industrie","evolutionLabel":"Evoluia noastr n Moldova","timelineLabels":{"2023":"2023","2023-2024":"20232024","today":"Astzi"},"timeline":{"2023":{"title":"Lansarea","description":"Am nceput cu 3 maini i o viziune: s facem nchirierile auto accesibile n Moldova."},"2023-2024":{"title":"Primul an","description":"Am ajuns la 15 maini i 200+ clieni fideli. Procese mai simple, preuri transparente."},"today":{"title":"Acum","description":"25+ maini, rezervri online, livrare la domiciliu. Continum s cretem pas cu pas."}},"paragraph1":"Fondat n 2009, Level Auto Rental a nceput ca o mic afacere de familie cu o misiune simpl: s ofere soluii de transport fiabile i accesibile pentru toi. Ceea ce a nceput cu doar cinci vehicule a devenit astzi una dintre cele mai de ncredere companii de nchirieri auto din Moldova.","paragraph2":"De-a lungul anilor, ne-am extins flota la peste 500 de vehicule, de la maini economice pn la sedanuri de lux i SUV-uri. Angajamentul nostru fa de satisfacia clienilor i calitatea serviciilor a rmas neschimbat, aducndu-ne loialitatea a mii de clieni i numeroase premii n industrie.","paragraph3":"Astzi continum s inovm i s mbuntim serviciile noastre, adoptnd tehnologii noi i practici sustenabile pentru a deservi mai bine clienii i pentru a proteja mediul pentru generaiile viitoare."},"values":{"label":"Valorile noastre","title":"Principiile care ne ghideaz n tot ceea ce facem","safety":{"title":"Sigurana pe primul loc","description":"Toate vehiculele noastre trec prin inspecii i ntreineri riguroase pentru a-i oferi linite deplin la drum."},"customer":{"title":"Orientare ctre client","description":"Punem satisfacia clientului pe primul loc, oferind suport 24/7 i servicii personalizate adaptate nevoilor tale."},"quality":{"title":"Servicii de calitate","description":"Angajamentul nostru fa de excelen ne-a adus recunoatere n industrie i ncrederea a mii de clieni."}},"team":{"label":"Echipa noastr","title":"Profesionitii dedicai din spatele succesului nostru"}},"contact":{"hero":{"label":"Contacteaz-ne","title":"Informaii de contact","description":""},"contact-info":"Informaii de contact","contact-description":"Contacteaz-ne prin oricare dintre aceste canale. Suntem disponibili s te ajutm cu nevoile tale de nchirieri auto.","send-message":"Trimite-ne un mesaj","form-description":"Completeaz formularul de mai jos i i vom rspunde ct mai curnd posibil.","dev-mode":{"title":"n dezvoltare","description":"Aceast pagin este n prezent n dezvoltare i disponibil doar pentru dezvoltatori.","button":"napoi la pagina principal"},"form":{"first-name":"Prenume","last-name":"Nume","email":"Email","email-example":"Introdu email-ul","phone-number":"Numr de telefon","message":"Mesaj","message-cta":"Las-ne un mesaj...","question":"De unde ai auzit despre noi","start":"Trimite acum"}},"reviews":{"hero":{"label":"Recenzii Clieni","title":"Ce spun clienii notri","description":"Citete recenziile autentice de la clienii notri mulumii i descoper de ce aleg LevelAutoRental pentru nevoile lor de nchiriere auto."},"sectionLabel":"Recenzii","sectionTitle":"Recenzii Clieni","sectionDescription":"Descoper ce spun clienii notri despre experiena lor cu LevelAutoRental","stats":{"totalReviews":"Recenzii Totale","averageRating":"Evaluare Medie","satisfaction":"Satisfacia Clienilor"},"cta":{"title":"Gata s Experimentezi Excelena?","description":"Altur-te miilor de clieni mulumii care au ncredere n LevelAutoRental pentru nevoile lor de nchiriere auto.","button":"Rezerv Maina Acum"},"categories":{"nchiriere":"nchiriere","Splare":"Splare","Vnzare":"Vnzare","Detailing auto":"Detailing auto"},"home-page":{"1":"Serviciu uimitor! Maina a fost curat, fiabil, iar procesul de rezervare extrem de simplu. Cu siguran voi mai folosi acest serviciu!","2":"Cea mai bun experien de nchiriere auto pe care am avut-o. Preuri excelente, serviciu clieni extraordinar, iar maina a depit ateptrile mele.","3":"Serviciu foarte profesional. Preluarea a fost rapid, iar maina era exact cum a fost descris. Recomand cu ncredere!","4":"Experien fantastic de la nceput pn la sfrit. Site-ul este uor de folosit, iar maina a fost perfect pentru cltoria noastr n familie.","5":"Serviciu excelent! Maina a fost n stare perfect, iar procesul de rezervare foarte simplu. Preuri rezonabile, recomand cu ncredere!","6":"Foarte mulumit de serviciu! Maina corespundea descrierii, iar personalul a fost profesionist. Cu siguran voi reveni."},"comments":{"1":"Am avut experien cu mai multe servicii de nchiriere, iar acesta este, probabil, unul dintre cele mai rapide i de ncredere. Mainile ngrijite, contractul este transparent i bine detaliat, fr condiii speciale sau plat n plus pentru plecri peste hotare, loiali. Dac ar trebui s recomand un parc de nchirieri, cu siguran ar fi acesta.","2":"Totul super  service la nivel, masini fain, personal de nota 10. ","3":"Bieii ofer ntr-adevr un serviciu de calitate, cea mai bun spltorie auto din Chiinu, o gam larg de servicii, folosesc produse chimice de calitate i respect procesul de curare, pleci mereu cu bun dispoziie ntr-o main cu adevrat curat.","5":"Serviciu excelent, gam larg de maini, posibilitatea de a prelungi contractul de nchiriere la distan! Biei extraordinari. ","6":"Am gsit maina de nchiriat pe care o cutam.","7":"Serviciu excelent. Sunt multe maini. Procesul de nchiriere este foarte rapid. Ofer maini i strinilor. Recomand!","8":"Au i maini de vnzare. Am vrut s vedem una. n primul rnd, nu rspundeau. A doua oar au rspuns. Au spus c vor reveni cu un apel. Nu au sunat napoi. S-a dovedit c anunul nu era actualizat.","10":"Serviciu foarte bun! Maina era curat i n stare perfect. Procesul de rezervare a fost simplu i rapid. Voi folosi din nou cu siguran serviciile acestea.","11":"Cea mai bun experien de nchiriere auto! Preuri excelente, serviciu clieni extraordinar, iar maina a depit ateptrile mele. Recomand cu ncredere!","12":"Serviciu de splare auto de calitate superioar! Maina a ieit ca nou. Personalul este foarte atent la detalii i folosete produse de calitate. Voi reveni sigur!","13":"Experien fantastic! Am nchiriat un Mercedes i totul a fost perfect. Echipa este profesionist, am fost reprezentai imediat i procesul a fost foarte simplu. Maina era n stare impecabil!","14":"Recomand cu toat ncrederea! Serviciu rapid, maini noi i preuri corecte. Am folosit serviciile de dou ori deja i de fiecare dat am fost foarte mulumit.","15":"Excelent serviciu pentru nchirieri auto n Chiinu. Ofer i livrare la domiciliu, ceea ce este foarte convenabil. Mainile sunt ngrijite i preurile sunt mai bune dect la concuren.","16":"Am nchiriat pentru weekend i am fost foarte impresionat de calitatea serviciului. Personal foarte amabil i rspunde prompt la ntrebri. Maina a fost curat i n stare perfect de funcionare.","17":"Serviciu profesionist i de ncredere. Contractul este clar, fr surprize. Am nchiriat de mai multe ori i de fiecare dat totul a mers perfect. Recomand!","18":"Cea mai bun companie de nchirieri auto din Moldova! Preuri corecte, maini calitative i echipa super de ajutor. Voi folosi din nou cu siguran!","19":"Serviciu rapid, maini bune, preuri corecte. Ce mai poi cere? Recomand cu toat ncrederea pentru oricine are nevoie de main nchiriat n Chiinu.","20":"Am fost foarte mulumit de serviciul oferit. Preuri competitive, maini bune i personal prietenos. Voi reveni cu siguran pentru urmtoarea nchiriere!"}}}'),rve={login:{"left-part":{smallLabel:"Bine ai revenit",label:"Exploreaz maini, nchiriaz rapid",description:"Gsete i rezerv maina perfect pentru cltoria ta. Ridicare rapid, termeni clari i suport 24/7."},"right-part":{label:"Autentificare",description:"Conecteaz-te la contul tu pentru a gestiona rezervrile i nchirierile.",email:"Email","email-example":"Introdu email-ul",password:"Parol","enter-password":"Introdu parola","remember-me":"ine-m minte","forgot-password":"Ai uitat parola?",login:"Autentific-te",or:"SAU","create-account":"Creeaz un cont"}},register:{"left-part":{smallLabel:"ncepe cltoria ta",label:"nchiriaz cu ncredere",description:"Creeaz-i contul pentru a rezerva maini premium, a gestiona rezervrile i a beneficia de servicii personalizate de calitate superioar."},"right-part":{label:"nregistrare",description:"nregistreaz-te pentru o experien mai bun.","first-name":"Prenume","first-name-placeholder":"Prenume","last-name":"Nume","last-name-placeholder":"Nume",email:"Email","email-placeholder":"Introdu email-ul",phone:"Numr de telefon",password:"Parol","enter-password":"Introdu parola","join-us":"Altur-te",or:"SAU","already-have-account":"Ai deja un cont?"}},forgot:{"left-part":{smallLabel:"Ai uitat parola?",label:"Recupereaz accesul",description:"Nu-i face griji! Te ajutm s i recuperezi accesul la contul tu rapid i sigur."},"right-part":{label:"Recuperare parol",description:"Introdu adresa ta de email i i vom trimite instruciuni pentru resetarea parolei.",email:"Email","email-placeholder":"Introdu email-ul","send-reset":"Recupereaz parola","back-to-login":"napoi la autentificare"},success:{title:"Email trimis!",description:"Am trimis instruciunile de resetare a parolei la adresa ta de email. Verific inbox-ul i urmeaz paii indicai."}}},nve={description:"Serviciu premium de nchirieri auto n Moldova. Cltoria ta ncepe aici.",sections:{reservations:{title:"Rezervri",links:{start:"ncepe o rezervare",howTo:"Cum s rezervi",calculator:"Calculator nchirieri",faq:"ntrebri frecvente"}},vehicles:{title:"Vehicule",links:{suv:"SUV-uri",sports:"Maini sport",luxury:"Maini lux",all:"Toate mainile"}},company:{title:"Companie",links:{about:"Despre noi",reviews:"Recenzii","rental-conditions":"Termeni si Conditii"}}},social:{"follow-us":"Urmrete-ne",tiktok:"TikTok",facebook:"Facebook",instagram:"Instagram"},bottom:{logo:"LevelAutoRental",copyright:" 2025 LevelAutoRental. Toate drepturile rezervate"},faq:{hero:{label:"Centru de Ajutor",title:"ntrebri Frecvente",description:"Gsii rspunsuri la ntrebrile comune despre serviciile noastre de nchiriere auto. Dac nu gsii ce cutai, echipa noastr de suport este aici s v ajute."},sections:{booking:{title:"Rezervri & Programri",questions:{"how-to-book":"Cum rezerv o main?","modify-cancel":"Pot modifica sau anula rezervarea?","account-required":"Trebuie s creez un cont pentru a nchiria o main?","advance-booking":"Cu ct timp nainte ar trebui s rezerv o main?"},answers:{"how-to-book":"Putei rezerva o main direct prin site-ul nostru selectnd datele de preluare i returnare, alegnd un vehicul i completnd formularul de rezervare.","modify-cancel":"Da, putei modifica sau anula rezervarea prin panoul de control al contului. V rugm s reinei c modificrile pot fi supuse disponibilitii i politicilor de anulare.","account-required":"Putei naviga fr cont, dar crearea unuia faciliteaz gestionarea rezervrilor, vizualizarea istoricului i accelerarea rezervrilor viitoare.","advance-booking":"Recomandm s rezervai cu cel puin cteva zile nainte pentru a v asigura maina preferat. n sezoanele de vrf, rezervrile mai devreme sunt puternic recomandate."}},requirements:{title:"Cerine & Politici",questions:{documents:"Ce documente am nevoie pentru a nchiria o main?","age-requirement":"Exist o cerin de vrst?",insurance:"Este inclus asigurarea?","additional-driver":"Pot aduga un ofer suplimentar?"},answers:{documents:"Vei avea nevoie de un permis de conducere valabil, o carte de identitate emis de stat (cum ar fi un paaport) i o carte de credit sau debit pe numele oferului.","age-requirement":"Da, vrsta minim este de obicei 21 de ani. oferii sub 25 de ani pot fi supui unei suprataxe pentru oferi tineri.",insurance:"Asigurarea de baz este inclus n toate nchirierile. Putei alege opiuni de acoperire suplimentare pentru protecie extra n timpul procesului de rezervare.","additional-driver":"Da, oferii suplimentari pot fi adugai la momentul rezervrii sau n timpul prelurii. Toi oferii trebuie s prezinte un permis valabil i s ndeplineasc cerinele de vrst."}},payment:{title:"Pli & Taxe",questions:{"payment-methods":"Ce metode de plat acceptai?",deposit:"Este necesar un depozit?","additional-fees":"Exist taxe suplimentare pe care ar trebui s le tiu?",discounts:"Oferii reduceri?"},answers:{"payment-methods":"Acceptm carduri de credit majore (Visa, MasterCard, American Express), carduri de debit i, n unele locaii, numerar. Plile online sunt procesate n siguran.",deposit:"Da, este necesar un depozit de garanie rambursabil la preluare. Suma depinde de tipul de vehicul i durata nchirierii.","additional-fees":"Taxe suplimentare pot fi aplicate pentru returnri ntrziate, kilometraj suplimentar, oferi suplimentari, combustibil sau echipamente speciale precum GPS i scaune pentru copii.",discounts:"Da, oferim promoii sezoniere, reduceri de loialitate i tarife corporative. Abonai-v la newsletter-ul nostru pentru a fi la curent."}},pickup:{title:"Preluare & Returnare",questions:{"pickup-location":"Unde pot prelua maina nchiriat?","different-return":"Pot returna maina ntr-o locaie diferit?","late-return":"Ce se ntmpl dac returnez maina cu ntrziere?",refuel:"Trebuie s alimentez maina nainte s o returnez?"},answers:{"pickup-location":"Putei prelua maina la biroul nostru principal, locaiile de la aeroport sau staiile partenere selectate. Locaia de preluare este aleas n timpul rezervrii.","different-return":"Da, nchirierile n sens unic sunt disponibile ntre anumite locaii. Poate fi aplicat o tax suplimentar n funcie de distan.","late-return":"Returnrile ntrziate pot rezulta n taxe suplimentare. Recomandm s ne contactai dac anticipai c vei ntrzia pentru a explora opiuni flexibile.",refuel:"Mainile ar trebui returnate cu acelai nivel de combustibil ca la nchiriere. Altfel, se va aplica o tax de alimentare."}}},contact:{title:"Mai avei ntrebri?",description:"Nu gsii rspunsul pe care l cutai? Echipa noastr de suport este aici s v ajute cu orice ntrebri specifice despre serviciile noastre.","contact-support":"Contactai Suportul","call-us":"Sun +373 62 000 112"}}},ave={specifications:"Specificaii",characteristics:"Caracteristici vehicul",technicalSpecs:"Specificaii tehnice",seats:"Locuri",transmissionLabel:"Transmisie",fuelLabel:"Combustibil",bodyType:"Caroserie",mileageLimit:"200km/zi",seeCar:"Vezi maina",seeMorePhotos:"Vezi nc {{count}} fotografii",seeMorePhotos_one:"Vezi nc o fotografie",seeMorePhotos_few:"Vezi nc {{count}} fotografii",seeMorePhotos_other:"Vezi nc {{count}} de fotografii",noImage:"Nicio Imagine",transmission:{automatic:"Automat",manual:"Manual"},fuel:{gasoline:"Benzin",diesel:"Diesel",benzina:"Benzin",hybrid:"Hibrid",electric:"Electric"},perDay:"pe zi",available:"Disponibil",chooseDates:"Alegei datele",rentalCost:"Costul nchirierii",rental:"nchiriere",year:"an",writeOnTelegram:"Scrie-ne pe Telegram",contactHelpText:"Ne putei scrie sau apela, v vom ajuta",discount:"REDUCERE",days:"ZILE",equipment:"Echipament",equipmentIncluded:"Echipament inclus"},ive={title:"Filtre",category:{label:"Categorie",all:"Toate",suv:"SUV",sport:"Sport",luxury:"Lux"},price:{label:"Pre (lei)",from:"De la",to:"Pn la"},year:{label:"An fabricaie",from:"De la",to:"Pn la"},transmission:{label:"Transmisie",any:"Oricare",manual:"Manual",automatic:"Automat"},fuel:{label:"Combustibil",any:"Oricare",benzina:"Benzin",gasoline:"Benzin",diesel:"Diesel",hybrid:"Hibrid",electric:"Electric"},seats:{label:"Locuri",minSeats:"Numr minim de locuri"},apply:"Aplic filtre",clear:"terge toate"},sve={selectVehicle:"Selectai vehiculul",rentalPeriod:"Perioada nchirierii",numberOfDays:"Numr de zile",day:"zi",days:"zile",pickup:"Preluare",return:"Returnare",additionalOptions:"Opiuni suplimentare",limits:"Limite",vipServices:"Servicii VIP",extra:"Suplimentar",delivery:"Livrare",airportDelivery:"Livrare aeroport",unlimitedMileage:"Kilometraj nelimitat",noSpeedLimit:"Fr limit de vitez",personalDriver:"ofer personal",priorityService:"Priority Service",childCarSeat:"Scaun auto copii",simWithInternet:"SIM cu internet",roadsideAssistance:"Asisten rutier",totalCost:"Cost total",priceDetails:"Detalii pre",selectedVehicle:"Vehicul selectat",pricePerDay:"Pre pe zi",numberDays:"Numr zile",discount:"Discount",basePrice:"Pre baz",additionalServices:"Servicii adiionale",noSpeedLimitShort:"Fr limit vitez",insurance:"Asigurare",childSeat:"Scaun copii",simInternet:"SIM internet",assistance:"Asisten",services:"Servicii",bookNow:"Rezerv acum",contactUs:"Contacteaz-ne",pricesAreIndicative:"Preurile sunt orientative",pricesDescription:"Pentru o ofert exact i personalizat, v rugm s ne contactai direct.",discountApplied4:"Discount aplicat: -4% pentru 8+ zile",discountApplied2:"Discount aplicat: -2% pentru 4+ zile",perDay:"/zi",pricingTiers:"Niveluri de preuri",currentTier:"Actual:",pickupDate:"Data prelurii",returnDate:"Data returnrii",totalDays:"Total zile:",selectPickupDate:"Selecteaz data prelurii",selectReturnDate:"Selecteaz data returnrii",selectPickupInstruction:"Selecteaz data de nceput",changePickupInstruction:"Clic pentru a schimba data de nceput",selectReturnInstruction:"Selecteaz data de sfrit",changeReturnInstruction:"Clic pentru a schimba data de sfrit",dateUnavailable:"Aceast dat nu este disponibil",beforePickup:"Nu poate fi nainte de data prelurii"},ove={sectionLabel:"Servicii Suplimentare",sectionTitle:"Opiuni de nchiriere",unlimitedMileage:{title:"Kilometraj nelimitat",description:"Preul nchirierii va fi cu 50% mai mare"},personalDriver:{title:"ofer personal",price:"de la 800 MDL pe zi"},priorityService:{title:"Priority Service",price:"de la 1000 MDL pe zi"},childCarSeat:{title:"Scaun auto pentru copii",price:"de la 100 MDL pe zi"},simCard:{title:"Cartel SIM cu internet",price:"de la 100 MDL pe zi"},roadsideAssistance:{title:"Asisten rutier",price:"de la 500 MDL pe zi"},airportDelivery:{title:"Livrare aeroport",price:"Gratuit"}},lve={sectionLabel:"Informaii Legale",sectionTitle:"Contract",description:"Compania noastr ofer servicii de nchiriere auto pe teritoriul Republicii Moldova, respectnd cu strictee legislaia n vigoare. Interaciunea cu clienii se bazeaz pe Contractul de nchiriere, care garanteaz protecia juridic a intereselor acestora.",requirementsTitle:"Condiii i cerine",requirementsDescription:"Pentru a nchiria o main, trebuie ndeplinite urmtoarele cerine:",age:{label:"Vrst",value:"de la 21 de ani"},license:{label:"Permis",value:"categoria B"},experience:{label:"Experien",value:"cel puin 3 ani"},mileage:{label:"km/zi",value:"pn la 200km"},moreDetails:"Mai Multe Detalii",details:{identityCard:"Deinerea buletinului de identitate.",fullPayment:"Achitarea integral (100%) a taxei de nchiriere pentru maina selectat.",finesResponsibility:"Toate amenzile primite n timpul utilizrii vehiculului revin n responsabilitatea oferului.",cascoResponsibility:"n lipsa poliei CASCO, responsabilitatea pentru accidente revine oferului.",paymentMethods:"Plata se poate efectua n numerar, prin transfer bancar sau cu cardul.",earlyReturn:"Clientul are dreptul la recalcularea costului n caz de returnare anticipat a vehiculului.",extension:"Prelungirea Contractului de nchiriere este posibil n format la distan, dar nu este garantat.",delivery:"Este posibil livrarea sau returnarea mainii la adresa convenabil. Costul se confirm la telefon +373 62 000 112.",deposit:{title:"Depozit",description:"Depunerea unui depozit conform valorii stabilite n Contract. Depozitul reprezint o asigurare a ndeplinirii obligaiilor de ctre Chiria i este returnat dup 10 zile de la predarea mainii, n absena nclcrilor majore."},mileageLimit:{title:"Limita de kilometraj",description:"n cazul nchirierii pentru mai multe zile, limita se calculeaz n total. n cazul depirii limitei i n lipsa opiunii activate Kilometraj nelimitat, depirea se achit separat."},secondDriver:{title:"Al doilea ofer",description:"nainte de semnarea Contractului de nchiriere, costul adugrii unui al doilea ofer este de 0 lei. Dup semnarea Contractului de nchiriere, costul adugrii unui al doilea ofer este de 500 lei."},depositReturn:{title:"Returnarea depozitului",description:"Dac depozitul este lsat cash, se returneaz la predarea automobilului. Dac este reinut de pe card, returnarea are loc n termen de 10 zile lucrtoare dup predarea automobilului."}}},cve={title:"Pagina nu a fost gsit",description:"Ne pare ru, pagina pe care o cutai nu exist sau a fost mutat.",goBackHome:"Pagina principal",goBack:"napoi"},uve={welcomeBack:"Bun venit napoi, {{name}}!",export:"Export",sales:"Vnzri",orders:"Comenzi",averageOrderValue:"Valoare medie comand",recentOrders:"Comenzi recente",seats:"locuri",paid:"Pltit",pending:"n ateptare",refunded:"Rambursat",customer:"Client {{number}}",sidebar:{overview:"Acas",cars:"nchiriaz",profile:"Profil",calendar:"Calendar",settings:"Setri",signOut:"Deconectare"},overview:{title:"Panou de control",rentalsInfo:"Informaii Rezervri",totalBookings:"Total rezervri",finishedBookings:"Rezervri finalizate",activeBookings:"Rezervri active",lifetimeBookings:"Rezervri de-a lungul timpului",totalSpent:"Total cheltuit",lifetimeSpending:"Cheltuieli de-a lungul timpului",upcomingBookings:"Rezervri viitoare",upcomingDescription:"Rezervri care ncep n curnd",activeDescription:"nchirieri active n prezent",loyaltyPoints:"Puncte loialitate",availablePoints:"Puncte disponibile",recentBookings:"Rezervri recente",viewAll:"Vezi toate",favoriteCar:"Maina Preferat",favoriteCars:"Maini Preferate",noFavoriteCar:"Nu ai nchiriat nicio main, deci nu ai nc o main preferat.",noFavoriteCars:"Nu ai adugat nc nicio main la favorite.",startBorrowing:"ncepe s nchiriezi",rentAgain:"nchiriaz din nou",yourTopChoice:"Alegerea ta #1",mostRented:"CEA MAI NCHIRIAT",lastRented:"Ultima nchiriere",totalRentals:"Total nchirieri",heavyUser:"Utilizator intensiv",recentlyActive:"Activ recent",pastRentals:"nchirieri trecute",usageStats:"Statistici utilizare",viewDetails:"Vezi detalii"},bookings:{title:"Rezervrile mele",details:"Detalii",contract:"Contract",receipt:"Chitan",noBookings:"Nicio rezervare nc",startExploring:"ncepe s explorezi flota noastr premium!",browseCars:"Rsfoiete mainile"},profile:{title:"Informaii profil",editProfile:"Editeaz profilul",cancel:"Anuleaz",firstName:"Prenume",lastName:"Nume",email:"Email",phone:"Telefon",saveChanges:"Salveaz modificrile"},settings:{title:"Setri cont",description:"Gestioneaz setrile i preferinele contului tu",profile:"Profil",password:"Parol",profileInformation:"Informaii Profil",firstName:"Prenume",lastName:"Nume",email:"Email",phone:"Telefon",saveChanges:"Salveaz Modificrile",saving:"Se salveaz...",changePassword:"Schimb Parola",currentPassword:"Parol curent",newPassword:"Parol nou",confirmNewPassword:"Confirm parola nou",updatePassword:"Actualizeaz Parola",passwordRequirement:"Parola ta nou trebuie s aib mai mult de 8 caractere.",passwordsDoNotMatch:"Parolele nu se potrivesc",userNotFound:"Utilizatorul nu a fost gsit",userIdNotFound:"ID-ul utilizatorului nu a fost gsit",profileUpdatedSuccess:"Profilul a fost actualizat cu succes!",profileUpdateFailed:"Eroare la actualizarea profilului. Te rugm s ncerci din nou.",notificationSettings:"Setri notificri",bookingUpdates:"Actualizri rezervri",bookingUpdatesDesc:"Primete notificri despre rezervrile tale",promotions:"Promoii",promotionsDesc:"Primete oferte speciale",newsletter:"Newsletter",newsletterDesc:"Rmi la curent cu tirile",enterCurrentPassword:"Introdu parola curent",enterNewPassword:"Introdu parola nou",confirmNewPasswordPlaceholder:"Confirm parola nou"},status:{upcoming:"n ateptare",active:"activ",completed:"finalizat"},errors:{accessDenied:"Acces refuzat",pleaseSignIn:"Te rugm s te autentifici pentru a accesa panoul tu.",signIn:"Autentificare"},loading:{text:"SE NCARC",preparing:"Pregtim panoul tu..."}},dve=JSON.parse('{"title":"Panou Admin","subtitle":"Level Auto Rental","menu":{"dashboard":"Panou","requests":"Cereri","cars":"Maini","calendar":"Calendar","orders":"Comenzi","users":"Utilizatori"},"dashboard":{"title":"Bun venit napoi! Iat ce se ntmpl astzi.","totalSales":"Vnzri Totale","totalOrders":"Comenzi Totale","avgOrderValue":"Pre Mediu Comand","fleetStatus":"Stare Flot","available":"Disponibile","rented":"nchiriate","topPerformers":"Top Performeri","mostRented":"Cele Mai nchiriate","book":"Rezerv","view":"Vezi","until":"Pn pe","sales":"Vnzri","rental":"nchiriere","rentals":"nchirieri","chart":{"sales":"Vnzri","periods":{"12M":"12L","4W":"4S","30D":"30Z","7D":"7Z","24H":"24O"},"change":{"24H":" 5.2% fa de ultimele 24 ore","7D":" 4.1% fa de ultimele 7 zile","30D":" 3.2% fa de ultimele 30 zile","12M":" 12.5% fa de ultimele 12 luni","4W":" 8.3% fa de ultimele 12 sptmni","default":" 3.2% fa de perioada anterioar"}}},"requests":{"title":"Gestioneaz cererile de nchiriere ale clienilor","description":"Gestioneaz cererile de nchiriere ale clienilor ","rentalRequests":"Cereri de nchiriere","pending":"n ateptare","approved":"Aprobat","processed":"Procesat","rejected":"Respins","search":"Caut cereri...","sortBy":"Sorteaz dup:","amount":"Sum","status":"Status","clearSort":"terge Sortarea","customer":"Client","car":"Main","pickup":"Preluare","pickupDate":"Data prelurii","return":"Returnare","actions":"Aciuni","accept":"Accept","reject":"Respinge","edit":"Editeaz","viewDetails":"Vezi detalii","noRequests":"Nicio cerere gsit","showRejected":"Arat respinse","hideRejected":"Ascunde respinse","showInPending":"Arata in asteptare","hideInPending":"Ascunde in asteptare","showApproved":"Arata acceptate","hideApproved":"Ascunde acceptate","showProcessed":"Arat procesate","hideProcessed":"Ascunde procesate","addRental":"Adaug nchiriere","createRequest":"Creeaz Cerere Nou","createNew":"Creeaz Cerere Nou","createRental":"Creeaz nchiriere","editRequest":"Editeaz Cererea","showing":"Afiare","to":"la","of":"din","requests":"cereri","previous":"Anterior","page":"Pagina","ofPage":"din","next":"Urmtorul","selectCar":"Selectare automobil","selectACar":"Selecteaz automobil","requestAccepted":"Cerere acceptat! nchirierea a fost creat cu succes.","requestRejected":"Cerere respins cu succes!","requestRestored":"Cerere restaurat ca n ateptare cu succes!","requestSetToPending":"Cerere setat ca n ateptare cu succes!","requestUpdated":"Cerere actualizat cu succes!","requestAcceptFailed":"Eroare la acceptarea cererii:","requestRejectFailed":"Eroare la respingerea cererii:","requestRestoreFailed":"Eroare la restaurarea cererii:","requestUpdateFailed":"Eroare la actualizarea cererii:","requestAcceptErrorOccurred":"A aprut o eroare la acceptarea cererii.","requestRejectErrorOccurred":"A aprut o eroare la respingerea cererii.","requestRestoreErrorOccurred":"A aprut o eroare la restaurarea cererii.","requestUpdateErrorOccurred":"A aprut o eroare la actualizarea cererii.","confirmAcceptRequest":"Accepti cererea de la","confirmRejectRequest":"Respingi cererea de la","confirmRestoreRequest":"Restaurezi cererea de la","confirmSetToPending":"Setezi cererea de la","rejectReasonPrompt":"Motiv (opional):","forCar":"pentru","toPending":"ca n ateptare?","backToPending":"napoi ca n ateptare?","fillRequiredFields":"Te rugm s completezi toate cmpurile obligatorii (Prenume, Nume, Vrst, Telefon, Main, Date)","fillRequiredFieldsShort":"Te rugm s completezi toate cmpurile obligatorii"},"orders":{"title":"Gestioneaz toate comenzile de nchiriere","description":"Gestioneaz toate comenzile de nchiriere i rezervrile","allOrders":"Toate Comenzile","search":"Caut comenzi...","searchPlaceholder":"Caut comenzi...","sortBy":"Sorteaz dup:","date":"Data","customer":"Client","amount":"Sum","status":"Status","clearSort":"terge Sortarea","orderId":"ID Comand","vehicle":"Vehicul","viewDetails":"Vezi detalii","cancel":"Anuleaz","redo":"Ref","addOrder":"Adaug Comand","noOrders":"Nicio comand gsit","showCancelled":"Arat anulate","hideCancelled":"Ascunde anulate","showing":"Afiare","to":"la","of":"din","orders":"comenzi","previous":"Anterior","next":"Urmtor","page":"Pagina","ofPage":"din","sales":"Vnzri","orderCancelled":"Comand anulat cu succes!","orderRestored":"Comand restaurat cu succes!","orderCancelFailed":"Eroare la anularea comenzii:","orderRestoreFailed":"Eroare la restaurarea comenzii:","orderCancelErrorOccurred":"A aprut o eroare la anularea comenzii.","orderRestoreErrorOccurred":"A aprut o eroare la restaurarea comenzii.","confirmCancelOrder":"Eti sigur c vrei s anulezi aceast comand?","confirmRestoreOrder":"Eti sigur c vrei s restaurezi aceast comand anulat?","contractNotFound":"Informaiile comenzii sau mainii nu au fost gsite. Nu se poate genera contractul.","contractGenerationFailed":"Eroare la generarea contractului","contractGenerationErrorDetails":"Te rugm s verifici consola browserului pentru mai multe detalii.","revenue":"Venituri","lastMonthComparison":"Comparaie cu Luna Trecut","lastMonthRevenue":"Venituri Luna Trecut","growth":"Cretere","avgDailyThisMonth":"Medie Zilnic (Luna Aceasta)","avgDailyLastMonth":"Medie Zilnic (Luna Trecut)","bestPerformingDay":"Ziua cu Cea Mai Bun Performan","keyMetrics":"Metrici Cheie","totalOrders":"Total Comenzi","vsLast30Days":"fa de ultimele 30 zile","bookingInfo":"Informaii Rezervare","bookingCalendar":"Calendar Rezervri","orderDetails":"Detalii nchiriere","orderNumber":"nchiriere #","customerInformation":"Informaii Client","rentalPeriod":"Perioada nchirierii","pickup":"Preluare","return":"Returnare","duration":"Durat","days":"zi(le)","financialDetails":"Detalii Financiare","pricePerDay":"Pre pe Zi","rentalDays":"Zile nchiriere","totalAmount":"Suma Total","contract":"Contract","createContract":"Creeaz Contract","createContractDescription":"Creeaz i salveaz contract cu detalii manuale","downloadContractPDF":"Descarc Contract PDF","generatingContract":"Se genereaz contractul...","recreateContract":"Recreeaz Contract","downloadExistingOrRecreate":"Descarc contractul existent sau recreeaz cu detalii noi","generatesCompleteContract":"Genereaz un contract complet de nchiriere n romn cu toate anexele","actions":"Aciuni","cancelOrder":"Anuleaz Comand","redoOrder":"Ref Comand","processing":"Se proceseaz...","unknownCustomer":"Client Necunoscut","unknownCar":"Main Necunoscut"},"cars":{"title":"Gestioneaz flota de vehicule","description":"Gestioneaz flota de vehicule","allCars":"Toate Mainile","addNew":"Adaug Main Nou","search":"Caut maini...","sortBy":"Sorteaz dup:","price":"Pre","year":"An","status":"Status","clearSort":"terge Sortarea","name":"Nume","make":"Marc","model":"Model","pricePerDay":"Pre pe Zi (MDL)","priceRanges":"Gama de Preuri","category":"Categorie","statusAvailable":"Disponibil","statusBooked":"nchiriat","statusMaintenance":"n ntreinere","actions":"Aciuni","edit":"Editeaz","delete":"terge","addCar":"Adaug Main","noCars":"Nicio main gsit","seats":"Locuri","basicInfo":"Informaii de Baz","carName":"Nume Main","bodyType":"Tip Caroserie","body":"Caroserie","transmission":"Transmisie","fuelType":"Tip Combustibil","drivetrain":"Traciune","mainImage":"Imagine Principal","photoGallery":"Galerie Foto","rating":"Rating","reviewsCount":"Numr Recenzii","uploadImage":"ncarc Imagine","uploadingImage":"Se ncarc imaginea...","additionalFeatures":"Caracteristici Adiionale","addFeature":"Adaug caracteristic","save":"Salveaz","cancel":"Anuleaz","specifications":"Specificaii","images":"Imagini","features":"Caracteristici","statusAndRatings":"Status i Evaluri","mainPhoto":"Imagine Principal","gallery":"Galerie","addNewDescription":"Creeaz o nou intrare de vehicul n flot","discountPercentage":"Reducere Pre (%)","discountPercentageHint":"Procent reducere (0-100)","discountedPrice":"Pre cu reducere","saving":"Se salveaz...","categorySuv":"SUV","categorySports":"Sport","categoryLuxury":"Lux","carAddedSuccess":"Main adugat cu succes!","carAddedDescription":"Acum poi aduga mai multe detalii n seciunea de editare.","close":"nchide","continue":"Continu","carSaved":"Main salvat cu succes!","carCreated":"Main creat cu succes!","carUpdated":"Main actualizat cu succes!","carDeleted":"Main tears cu succes!","carSaveError":"Eroare la salvarea mainii. Te rugm s ncerci din nou.","carDeleteError":"Eroare la tergerea mainii. Te rugm s ncerci din nou.","statusUpdated":"Status actualizat cu succes!","statusUpdateError":"Eroare la actualizarea statusului. Te rugm s ncerci din nou.","confirmToggleStatus":"Eti sigur c vrei s schimbi statusul mainii","toStatus":"la","cannotToggleRentedCar":"Nu poi schimba statusul unei maini care are nchirieri active!","imageUploaded":"Imagine ncrcat cu succes!","galleryImageUploaded":"Imagine din galerie ncrcat cu succes!","imageUploadError":"Eroare la ncrcarea imaginii. Te rugm s ncerci din nou.","confirmDeleteCar":"Eti sigur c vrei s tergi aceast main?","imageInstructions":{"size":"Dimensiunea maxim: {{size}}","formats":"Formate acceptate: PNG, JPG, JPEG, WEBP","recommendation":"Recomandare: Imagine clar, de nalt calitate (minimum 800x600 pixeli)"}},"calendar":{"title":"Vezi i gestioneaz calendarul rezervrilor","description":"Vezi i gestioneaz calendarul rezervrilor","sortBy":"Sorteaz dup:","time":"Timp","car":"Main","status":"Status","clearSort":"terge Sortarea","showFilters":"Arat Filtrele","hideFilters":"Ascunde Filtrele","pickups":"Preluri","returns":"Returnri","rental":"nchiriere","today":"Astzi","noBookings":"Nu exist rezervri pentru aceast zi","filters":"Filtre","make":"Marca","model":"Model","applyFilters":"Aplic Filtrele"},"users":{"title":"Gestioneaz conturile utilizatorilor","description":"Gestioneaz conturile utilizatorilor i permisiunile","search":"Caut utilizatori...","user":"Utilizator","email":"E-mail","phone":"Telefon","role":"Rol","sortBy":"Sorteaz dup:","clearSort":"terge Sortarea","rentals":"nchirieri","totalSpent":"Total Cheltuit","showing":"Afiare","to":"la","of":"din","users":"utilizatori","previous":"Anterior","next":"Urmtor","page":"Pagina","ofPage":"din","noUsers":"Niciun utilizator gsit.","userDetails":"Detalii Utilizator","rentalHistory":"Istoric nchirieri","car":"Main","dates":"Dat","amount":"Sum","viewPastRentals":"Vezi nchirierile Anterioare ale lui {{name}}","noRentalHistory":"Nu s-a gsit istoric de nchirieri"},"orderDetails":{"title":"nchiriere #{{id}}","description":"Vezi i gestioneaz detaliile comenzii","bookingInformation":"Informaii Rezervare","pickup":"Preluare","return":"Returnare","time":"Ora","rentalDays":"Zile nchiriere","totalPrice":"Pre Total","additionalFeatures":"Caracteristici Adiionale","customer":"Client","payment":"Plat","amountPaid":"Sum Pltit","cancelOrder":"Anuleaz Comand","redoOrder":"Ref Comand","generateContract":"Genereaz Contract","downloadContract":"Descarc Contract"},"requestDetails":{"title":"Cerere nchiriere","description":"Vezi i gestioneaz detaliile cererii de nchiriere","rentalRequest":"Cerere de nchiriere","rentalPeriod":"Perioada nchirierii","contactInformation":"Date de contact","rentalOptions":"Opiuni de nchiriere","priceDetails":"Detalii pre","pricePerDay":"Pre pe zi","numberOfDays":"Numr zile","basePrice":"Pre de baz","additionalServices":"Servicii suplimentare","totalServices":"Total servicii","total":"Total","discount":"Reducere","days":"zile","hours":"ore","atTime":"ora","noOptionsSelected":"Nu au fost selectate opiuni suplimentare","commentOptional":"Comentariu (opional)","acceptRequest":"Accept Cererea","rejectRequest":"Respinge Cererea","setToPending":"Seteaz ca n Ateptare","undoReject":"Anuleaz Respingerea","editRequest":"Editeaz Cererea","processing":"Se proceseaz...","discount4Percent":"Reducere de 4% pentru 8+ zile","discount2Percent":"Reducere de 2% pentru 4+ zile"},"carDetails":{"title":"Editeaz Main","description":"Modific detaliile i setrile mainii"},"settings":{"title":"Setri cont","description":"Gestioneaz setrile i preferinele contului tu","profile":"Profil","password":"Parol","profileInformation":"Informaii Profil","firstName":"Prenume","lastName":"Nume","email":"Email","phone":"Telefon","saveChanges":"Salveaz Modificrile","saving":"Se salveaz...","changePassword":"Schimb Parola","currentPassword":"Parol curent","newPassword":"Parol nou","confirmNewPassword":"Confirm parola nou","updatePassword":"Actualizeaz Parola","passwordRequirement":"Parola ta nou trebuie s aib mai mult de 8 caractere.","passwordsDoNotMatch":"Parolele nu se potrivesc","userNotFound":"Utilizatorul nu a fost gsit","userIdNotFound":"ID-ul utilizatorului nu a fost gsit","profileUpdatedSuccess":"Profilul a fost actualizat cu succes!","profileUpdateFailed":"Eroare la actualizarea profilului. Te rugm s ncerci din nou.","notificationSettings":"Setri notificri","bookingUpdates":"Actualizri rezervri","bookingUpdatesDesc":"Primete notificri despre rezervrile tale","promotions":"Promoii","promotionsDesc":"Primete oferte speciale","newsletter":"Newsletter","newsletterDesc":"Rmi la curent cu tirile","enterCurrentPassword":"Introdu parola curent","enterNewPassword":"Introdu parola nou","confirmNewPasswordPlaceholder":"Confirm parola nou"},"common":{"refresh":"Remprospteaz","settings":"Setri","backToSite":"napoi la Site","signOut":"Deconectare","loading":"Se ncarc...","save":"Salveaz","cancel":"Anuleaz","delete":"terge","edit":"Editeaz","view":"Vezi","close":"nchide","confirm":"Confirm","search":"Caut","filter":"Filtreaz","noData":"Nu exist date","error":"Eroare","success":"Succes","warning":"Avertisment","info":"Informaie","unknownError":"Eroare necunoscut","add":"Adaug","create":"Creeaz","update":"Actualizeaz","upload":"ncarc","download":"Descarc","remove":"Elimin","select":"Selecteaz","uploading":"Se ncarc..."},"form":{"firstName":"Prenume","lastName":"Nume","age":"Vrst","phone":"Telefon","email":"E-mail","emailOptional":"E-mail (opional)","comment":"Comentariu","addComment":"Adugai un comentariu (opional)","required":"obligatoriu"},"placeholders":{"searchCars":"Caut maini...","searchRequests":"Caut cereri...","searchOrders":"Caut comenzi...","searchUsers":"Caut utilizatori...","selectCar":"Selecteaz automobil","phone":"000 00 000","email":"email@mail.com","addFeature":"Adaug caracteristic","drivetrain":"ex., AWD, RWD, FWD"},"status":{"contract":"Contract","active":"Activ","completed":"Finalizat","cancelled":"Anulat","pending":"n ateptare","approved":"Aprobat","rejected":"Respins","executed":"Executat"}}'),hve={title:"nchiriaz Maina Ta Ideal",subtitle:"Flot variat de vehicule premium  Servicii complete cu sau fr ofer  Asisten permanent i preuri clare",clearFilters:"terge toate filtrele",make:"Marc",selectMake:"Selecteaz marca",model:"Model",selectModel:"Selecteaz modelul",search:"Caut"},fve={date:"ro-RO"},mve={title:"Bine ai venit!",subtitle:"Selectai limba i moneda preferat",language:"Limb",currency:"Moned",confirm:"Confirm"},pve={header:Gxe,languages:Yxe,hero:Xxe,popularCars:Jxe,features:Zxe,howToRent:Qxe,testimonials:eve,pages:tve,auth:rve,footer:nve,car:ave,filters:ive,calculator:sve,rentalOptions:ove,contract:lve,notFound:cve,dashboard:uve,admin:dve,carsPage:hve,config:fve,languageCurrencyModal:mve},gve={home:"",cars:"",about:" ",whyUs:" ?",howToRent:" ",reviews:"",contact:"",auth:"",language:"",currency:"",dashboard:" ",profile:"",settings:"",admin:"",signOut:""},xve={en:"",ro:"",ru:""},vve={companyType:" ",label:"-  ,  24/7  .",smallLabel:"    .",start:"+373 62 000 112",seeCars:" ",location:"",searchLocation:" ...",pickUpDate:" ",selectPickUpDate:"  ",returnDate:" ",selectReturnDate:"  ",search:"",make:"",model:"",selectMake:" ",selectModel:" "},yve={sectionLabel:" ",sectionTitle:"     ",viewAll:"  "},bve={sectionLabel:"  ",sectionTitle:"        ",bestPrices:{title:" ",description:"    .        ."},support:{title:" 24/7",description:"   ,      ."},easyBooking:{title:" ",description:"    .         ."},wideSelection:{title:" ",description:"            ."}},wve={sectionLabel:"   ",sectionTitle:" 5  ",pageTitle:"     Level Auto Rental",steps:{contact:{title:"  ",description:"        ."},details:{title:" ",description:"    ."},price:{title:" ",description:"   ."},pickup:{title:" ",description:"    ."},return:{title:" ",description:"      ."}},journey:{reservation:{title:" ",description:"         ,     ."},airport:{title:"  ",description:"                ."},handover:{title:" ",description:"       ,    ,    ."},departure:{title:"  ",description:"  ,      ,    ,    ."}},tagline:"Level Auto Rental  , , "},jve={sectionLabel:"",sectionTitle:"    ?",sectionDescription:",       ",verifiedClient:" "},Nve=JSON.parse('{"faq":{"hero":{"label":"  ","title":"  ","description":"         ."},"sections":{"booking":{"title":"  ","questions":{"how-to-book":"  ?","modify-cancel":"      ?","account-required":"      ?","advance-booking":"     ?"},"answers":{"how-to-book":"       ,     ,      .      ,       .","modify-cancel":" ****:  ,       \\n ** **:    24   \\n ****:     \\n ****:    3-5  ","account-required":"         ,      ,       .     .","advance-booking":" ****:   3-5    \\n ** **:   1-2    \\n ** **:  ,     \\n ** **:         "}},"requirements":{"title":"  ","questions":{"documents":"     ?","age-requirement":"    ?","insurance":"  ?","additional-driver":"     ?"},"answers":{"documents":"    ,     (, )        .        .","age-requirement":" ** **: 21    \\n **   **:      25 \\n ** **: 25+    \\n ** **:    ","insurance":" ** **:    \\n **  **:   \\n ** **:     \\n ** **:   ","additional-driver":" ****:      \\n ****:     \\n ****:      \\n ****:    "}},"payment":{"title":"  ","questions":{"payment-methods":"    ?","deposit":"  ?","additional-fees":"   ,     ?","discounts":"   ?"},"answers":{"payment-methods":" ** **: Visa, MasterCard, American Express\\n ** **:    \\n ** **:    \\n ** **:   ","deposit":" ****:   \\n ****:     (200-1000)\\n ****:    \\n ** **: 3-5    ","additional-fees":" ** **: 25     \\n ** **: 0,25    \\n ****:     \\n ****: 50   /","discounts":" ** **: 10%   7+  \\n ** **: 15%    7+ \\n ** **:     \\n ****:    -"}},"pickup":{"title":"  ","questions":{"pickup-location":"     ?","different-return":"       ?","late-return":" ,      ?","refuel":"     ?"},"answers":{"pickup-location":" ** **:    \\n ****:   \\n ** **:    \\n ****:    ","different-return":" ** **:    \\n ** **: 50-200    \\n ** **:   48 \\n ****:      ","late-return":" ** **: 30  \\n **  **: 25     \\n ****:   ,  \\n ****:    ,   ","refuel":" **  **:      ,    \\n ** **: 50 +    \\n ** **:    \\n ****:      "}}},"contact":{"title":" ?","description":"    .","contact-support":" ","call-us":" +373 62 000 112","response-time":"   2 "}},"terms":{"hero":{"label":" ","title":" "},"sections":{"intro":{"title":"   ","description":"     -,     .        (GDPR)  ,   GDPR      .     -,       .    ,        .              , ,      ."},"cookies":{"title":"Cookie ","bullet1":" cookie         ","bullet2":"   cookie,      cookie","bullet3":"  cookie       -","bullet4":"Cookie      ,    "},"personal-data":{"title":" ","bullet1":"   : , email,    IP-","bullet2":"         ","bullet3":"   ,     ","bullet4":"       -    "},"location":{"title":" ","bullet1":"   IP-    ","bullet2":"       ","bullet3":"         ","bullet4":"         "},"payment":{"title":"    ","bullet1":"          PayPal","bullet2":"      ","bullet3":"      ","bullet4":"           "},"notifications":{"title":" ","bullet1":"  -,       email","bullet2":"     ,   ","bullet3":"        ","bullet4":"     -   "}}},"about":{"hero":{"label":" ","title":"Level Auto Rental","subtitle":"- . . .","location":" "},"stats":{"vehicles":"","customers":" ","experience":" ","awards":" "},"story":{"label":" ","title":"      ","evolutionLabel":"   ","timelineLabels":{"2023":"2023","2023-2024":"20232024","today":""},"timeline":{"2023":{"title":"","description":"   3   :      ."},"2023-2024":{"title":" ","description":"  15   200+  .   ,  ."},"today":{"title":"","description":"25+ , -,   .      ."}},"paragraph1":" Level Auto Rental    2009                 .     ,             .","paragraph2":"        500    -     .        ,         .","paragraph3":"       ,      ,            ."},"values":{"label":" ","title":",   ,   ","safety":{"title":"  ","description":"        ,      ."},"customer":{"title":"  ","description":"      ,      ."},"quality":{"title":" ","description":"            ."}},"team":{"label":" ","title":",    "}},"contact":{"hero":{"label":"  ","title":" ","description":""},"contact-info":" ","contact-description":"      .          .","send-message":"  ","form-description":"  ,        .","dev-mode":{"title":" ","description":"           .","button":"  "},"form":{"first-name":"","last-name":"","email":" ","email-example":"  email","phone-number":" ","message":"","message-cta":"  ...","question":"    ","start":" "}},"reviews":{"hero":{"label":" ","title":"   ","description":"        ,    LevelAutoRental      ."},"sectionLabel":"","sectionTitle":" ","sectionDescription":",         LevelAutoRental","stats":{"totalReviews":" ","averageRating":" ","satisfaction":" "},"cta":{"title":"  ?","description":"    ,   LevelAutoRental      .","button":"  "},"categories":{"nchiriere":"","Splare":"","Vnzare":"","Detailing auto":"-"},"home-page":{"1":" !   , ,      .   !","2":"   ,    .  ,  ,     .","3":"  .   ,     ,  . !","4":"     .  ,        .","5":" !     ,    .  ,  !","6":"  !   ,   .   ."},"comments":{"1":"       ,  , ,      .  ,     ,          , .       ,     .","2":"     ,  ,   10. ","3":"    ,    ,   ,       ,         .","5":" ,   ,     !  . ","6":"    ,  .","7":" .  .    .    . !","8":"      .    .   .    . ,  .  . ,     .","10":"  !       .      .      .","11":"   !  ,   ,     .  !","12":"   !    .         .  !","13":" !   Mercedes,    .  ,   ,     .     !","14":"   !  ,     .     ,      .","15":"      .     ,   .  ,   ,   .","16":"         .        .        .","17":"   .  ,  .   ,      . !","18":"      !  ,      .    !","19":" ,  ,  .    ?   ,       .","20":"     .  ,     .     !"}}}'),_ve={login:{"left-part":{smallLabel:" ",label:" ,  ",description:"       .  ,     24/7."},"right-part":{label:"",description:"        .",email:" ","email-example":"  email",password:"","enter-password":" ","remember-me":" ","forgot-password":" ?",login:"",or:"","create-account":" "}},register:{"left-part":{smallLabel:"  ",label:"  ",description:"     ,       ."},"right-part":{label:"",description:"    .","first-name":"","first-name-placeholder":"","last-name":"","last-name-placeholder":"",email:" ","email-placeholder":"  email",phone:" ",password:"","enter-password":" ","join-us":"",or:"","already-have-account":"  ?"}},forgot:{"left-part":{smallLabel:" ?",label:" ",description:" !           ."},"right-part":{label:" ",description:"  email ,       .",email:" ","email-placeholder":"  email","send-reset":" ","back-to-login":"  "},success:{title:"Email !",description:"        email .      ."}}},Sve={description:"-   .     .",sections:{reservations:{title:"",links:{start:" ",howTo:" ",calculator:" ",faq:"  FAQ"}},vehicles:{title:"",links:{suv:"",sports:" ",luxury:" ",all:" "}},company:{title:"",links:{about:"O ",reviews:"","rental-conditions":" "}}},social:{"follow-us":"  ",tiktok:"",facebook:"",instagram:""},bottom:{logo:"LevelAutoRental",copyright:" 2025 LevelAutoRental.   "},faq:{hero:{label:" ",title:"  ",description:"          .      ,  ,    ,  ."},sections:{booking:{title:"  ",questions:{"how-to-book":"  ?","modify-cancel":"      ?","account-required":"      ?","advance-booking":"     ?"},answers:{"how-to-book":"       ,     ,       .","modify-cancel":",          .  ,         .","account-required":"    ,      ,      .","advance-booking":"       ,    .        ."}},requirements:{title:"  ",questions:{documents:"     ?","age-requirement":"   ?",insurance:"  ?","additional-driver":"     ?"},answers:{documents:"    ,     (, )        .","age-requirement":",    21 .   25       .",insurance:"     .             .","additional-driver":",           .          ."}},payment:{title:"  ",questions:{"payment-methods":"    ?",deposit:"  ?","additional-fees":"   ,     ?",discounts:"   ?"},answers:{"payment-methods":"     (Visa, MasterCard, American Express),       . -  .",deposit:",     .         .","additional-fees":"      ,  ,  ,    ,   GPS   .",discounts:",    ,      .    ,    ."}},pickup:{title:"  ",questions:{"pickup-location":"     ?","different-return":"       ?","late-return":" ,      ?",refuel:"     ?"},answers:{"pickup-location":"       ,     .     .","different-return":",      .        .","late-return":"      .     ,    ,    .",refuel:"       ,    .        ."}}},contact:{title:" ?",description:"   ,  ?    ,          .","contact-support":"  ","call-us":" +373 62 000 112"}}},kve={specifications:"",characteristics:" ",technicalSpecs:" ",seats:"",transmissionLabel:"",fuelLabel:"",bodyType:"",mileageLimit:"200/",seeCar:" ",seeMorePhotos:"  {{count}} ",noImage:" ",transmission:{automatic:"",manual:""},fuel:{gasoline:"",diesel:"",benzina:"",hybrid:"",electric:""},perDay:" ",available:"",chooseDates:" ",rentalCost:" ",rental:"",year:"",writeOnTelegram:"  Telegram",contactHelpText:"     ,  ",discount:"",days:"",equipment:"",equipmentIncluded:" "},Cve={title:"   ",subtitle:"                ",clearFilters:"  ",make:"",selectMake:" ",model:"",selectModel:" ",search:""},Pve={title:"",category:{label:"",all:"",suv:"",sport:"",luxury:""},price:{label:" ()",from:"",to:""},year:{label:" ",from:"",to:""},transmission:{label:"",any:"",manual:"",automatic:""},fuel:{label:"",any:"",benzina:"",gasoline:"",diesel:"",hybrid:"",electric:""},seats:{label:"",minSeats:"  "},apply:" ",clear:" "},Eve={selectVehicle:" ",rentalPeriod:" ",numberOfDays:" ",day:"",days:"",pickup:"",return:"",additionalOptions:" ",unlimitedMileage:" ",noSpeedLimit:"  ",personalDriver:" ",priorityService:" ",childCarSeat:" ",simWithInternet:"SIM  ",roadsideAssistance:" ",totalCost:" ",priceDetails:" ",selectedVehicle:" ",pricePerDay:"  ",priceRanges:" ",numberDays:" ",discount:"",basePrice:" ",additionalServices:" ",noSpeedLimitShort:"  ",insurance:"",childSeat:" ",simInternet:"SIM ",assistance:"",services:"",bookNow:" ",contactUs:"  ",pricesAreIndicative:"  ",pricesDescription:"    , ,    .",discountApplied4:" : -4%  8+ ",discountApplied2:" : -2%  4+ ",perDay:"/",pricingTiers:" ",currentTier:":",pickupDate:" ",returnDate:" ",totalDays:" :",selectPickupDate:"  ",selectReturnDate:"  ",selectPickupInstruction:"  ",changePickupInstruction:",    ",selectReturnInstruction:"  ",changeReturnInstruction:",    ",dateUnavailable:" ",beforePickup:"     "},Ave={sectionLabel:" ",sectionTitle:" ",unlimitedMileage:{title:" ",description:"    50% "},personalDriver:{title:" ",price:" 800 MDL  "},priorityService:{title:" ",price:" 1000 MDL  "},childCarSeat:{title:" ",price:" 100 MDL  "},simCard:{title:"SIM-  ",price:" 100 MDL  "},roadsideAssistance:{title:" ",price:" 500 MDL  "},airportDelivery:{title:"  ",price:""}},Dve={sectionLabel:" ",sectionTitle:"",description:"         ,    .       ,      .",requirementsTitle:"  ",requirementsDescription:"      :",age:{label:"",value:" 21 "},license:{label:" ",value:" B"},experience:{label:"",value:" 3 "},mileage:{label:"/",value:" 200"},moreDetails:"",details:{identityCard:"  .",fullPayment:"  (100%)    .",finesResponsibility:" ,      ,    .",cascoResponsibility:"         .",paymentMethods:"   ,    .",earlyReturn:"          .",extension:"    ,   .",delivery:"       .     +373 62 000 112.",deposit:{title:"",description:"   ,   .           10        ."},mileageLimit:{title:" ",description:"         .           ,   ."},secondDriver:{title:" ",description:"         0 .          500 ."},depositReturn:{title:" ",description:"   ,     .    ,     10     ."}}},Lve={title:"  ",description:", ,   ,     .",goBackHome:"  ",goBack:""},Ove={sidebar:{overview:"",myBookings:" ",cars:"",profile:"",calendar:"",settings:"",signOut:""},overview:{title:" ",rentalsInfo:"  ",totalBookings:" ",finishedBookings:" ",activeBookings:" ",lifetimeBookings:"   ",totalSpent:" ",lifetimeSpending:"   ",loyaltyPoints:" ",availablePoints:" ",recentBookings:" ",viewAll:" ",favoriteCar:" ",noFavoriteCar:"    ,       .",startBorrowing:" "}},Tve={date:"ru-RU"},Mve={title:" !",subtitle:"    ",language:"",currency:"",confirm:""},Ive={requests:{pickupDate:" "},calendar:{noBookings:"    ",filters:"",make:"",model:"",applyFilters:" "}},Rve={header:gve,languages:xve,hero:vve,popularCars:yve,features:bve,howToRent:wve,testimonials:jve,pages:Nve,auth:_ve,footer:Sve,car:kve,carsPage:Cve,filters:Pve,calculator:Eve,rentalOptions:Ave,contract:Dve,notFound:Lve,dashboard:Ove,config:Tve,languageCurrencyModal:Mve,admin:Ive};Cs.use(pV).init({lng:localStorage.getItem("selectedLanguage")||"ro",fallbackLng:"ro",interpolation:{escapeValue:!1},resources:{ro:{translation:pve},ru:{translation:Rve},en:{translation:Kxe}}});(function(e){if(e.search[1]==="/"){var r=e.search.slice(1).split("&").map(function(n){return n.replace(/~and~/g,"&")}).join("?");window.history.replaceState(null,"",e.pathname.slice(0,-1)+r+e.hash)}})(window.location);Nz.createRoot(document.getElementById("app")).render(i.jsx(N.StrictMode,{children:i.jsx(ixe,{})}));export{Nn as _,Eg as c,Qo as g};
