@startuml
title Add New Car Flow (Admin ↔ Car Service ↔ Database)

actor Admin
participant "Car Service" as CarService
database DB as "Database\n(Cars Table)"

== Step 1: Admin submits new car details ==
Admin -> CarService: POST /cars\nBody:\n{\n  brand: "Tesla",\n  model: "Model 3",\n  year: 2024,\n  plateNumber: "MD-AB1234",\n  pricePerDay: 90,\n  status: "AVAILABLE"\n}

note right of CarService
Validations performed:
• Unique plate number  
• Required fields (brand, model, year, etc.)  
• Valid year range  
• Numeric price value
end note

== Step 2: Save to database ==
CarService -> DB: INSERT INTO Cars (brand, model, year, plateNumber, pricePerDay, status)

note right of DB
**Cars (after insert):**
| carId | brand | model | year | plateNumber | pricePerDay | status |
|-------|--------|--------|------|--------------|--------------|---------|
| C457 | Tesla | Model 3 | 2024 | MD-AB1234 | 90 | AVAILABLE |
end note

DB --> CarService: Returns carId = C457

== Step 3: Confirmation ==
CarService --> Admin: 201 Created\nBody:\n{\n  carId: "C457",\n  message: "Car added successfully"\n}

== Step 4: Final Database State ==
note over DB
**Cars Table**
| carId | brand | model | year | plateNumber | pricePerDay | status |
|-------|--------|--------|------|--------------|--------------|---------|
| C457 | Tesla | Model 3 | 2024 | MD-AB1234 | 90 | AVAILABLE |
end note
@enduml
